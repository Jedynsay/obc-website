var OR=Object.defineProperty;var CR=(e,t,r)=>t in e?OR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nm=(e,t,r)=>CR(e,typeof t!="symbol"?t+"":t,r);function TR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function MR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var EP={exports:{}},Nf={},OP={exports:{}},ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),RR=Symbol.for("react.portal"),DR=Symbol.for("react.fragment"),$R=Symbol.for("react.strict_mode"),IR=Symbol.for("react.profiler"),LR=Symbol.for("react.provider"),BR=Symbol.for("react.context"),FR=Symbol.for("react.forward_ref"),zR=Symbol.for("react.suspense"),UR=Symbol.for("react.memo"),WR=Symbol.for("react.lazy"),$b=Symbol.iterator;function VR(e){return e===null||typeof e!="object"?null:(e=$b&&e[$b]||e["@@iterator"],typeof e=="function"?e:null)}var CP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TP=Object.assign,MP={};function po(e,t,r){this.props=e,this.context=t,this.refs=MP,this.updater=r||CP}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function RP(){}RP.prototype=po.prototype;function W0(e,t,r){this.props=e,this.context=t,this.refs=MP,this.updater=r||CP}var V0=W0.prototype=new RP;V0.constructor=W0;TP(V0,po.prototype);V0.isPureReactComponent=!0;var Ib=Array.isArray,DP=Object.prototype.hasOwnProperty,K0={current:null},$P={key:!0,ref:!0,__self:!0,__source:!0};function IP(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)DP.call(t,n)&&!$P.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:xc,type:e,key:s,ref:a,props:i,_owner:K0.current}}function KR(e,t){return{$$typeof:xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function q0(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function qR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lb=/\/+/g;function im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?qR(""+e.key):t.toString(36)}function Fu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xc:case RR:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+im(a,0):n,Ib(i)?(r="",e!=null&&(r=e.replace(Lb,"$&/")+"/"),Fu(i,t,r,"",function(u){return u})):i!=null&&(q0(i)&&(i=KR(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Lb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Ib(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+im(s,l);a+=Fu(s,t,r,c,i)}else if(c=VR(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+im(s,l++),a+=Fu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zc(e,t,r){if(e==null)return e;var n=[],i=0;return Fu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function HR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},zu={transition:null},GR={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:zu,ReactCurrentOwner:K0};function LP(){throw Error("act(...) is not supported in production builds of React.")}ve.Children={map:Zc,forEach:function(e,t,r){Zc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zc(e,function(){t++}),t},toArray:function(e){return Zc(e,function(t){return t})||[]},only:function(e){if(!q0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ve.Component=po;ve.Fragment=DR;ve.Profiler=IR;ve.PureComponent=W0;ve.StrictMode=$R;ve.Suspense=zR;ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GR;ve.act=LP;ve.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=TP({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=K0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)DP.call(t,c)&&!$P.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xc,type:e.type,key:i,ref:s,props:n,_owner:a}};ve.createContext=function(e){return e={$$typeof:BR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LR,_context:e},e.Consumer=e};ve.createElement=IP;ve.createFactory=function(e){var t=IP.bind(null,e);return t.type=e,t};ve.createRef=function(){return{current:null}};ve.forwardRef=function(e){return{$$typeof:FR,render:e}};ve.isValidElement=q0;ve.lazy=function(e){return{$$typeof:WR,_payload:{_status:-1,_result:e},_init:HR}};ve.memo=function(e,t){return{$$typeof:UR,type:e,compare:t===void 0?null:t}};ve.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};ve.unstable_act=LP;ve.useCallback=function(e,t){return Xt.current.useCallback(e,t)};ve.useContext=function(e){return Xt.current.useContext(e)};ve.useDebugValue=function(){};ve.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};ve.useEffect=function(e,t){return Xt.current.useEffect(e,t)};ve.useId=function(){return Xt.current.useId()};ve.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};ve.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};ve.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};ve.useMemo=function(e,t){return Xt.current.useMemo(e,t)};ve.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};ve.useRef=function(e){return Xt.current.useRef(e)};ve.useState=function(e){return Xt.current.useState(e)};ve.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};ve.useTransition=function(){return Xt.current.useTransition()};ve.version="18.3.1";OP.exports=ve;var x=OP.exports;const on=Kr(x),YR=TR({__proto__:null,default:on},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XR=x,JR=Symbol.for("react.element"),QR=Symbol.for("react.fragment"),ZR=Object.prototype.hasOwnProperty,eD=XR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tD={key:!0,ref:!0,__self:!0,__source:!0};function BP(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ZR.call(t,n)&&!tD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:JR,type:e,key:s,ref:a,props:i,_owner:eD.current}}Nf.Fragment=QR;Nf.jsx=BP;Nf.jsxs=BP;EP.exports=Nf;var o=EP.exports,FP={exports:{}},Pr={},zP={exports:{}},UP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,C){var W=k.length;k.push(C);e:for(;0<W;){var H=W-1>>>1,X=k[H];if(0<i(X,C))k[H]=C,k[W]=X,W=H;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var C=k[0],W=k.pop();if(W!==C){k[0]=W;e:for(var H=0,X=k.length,pe=X>>>1;H<pe;){var z=2*(H+1)-1,te=k[z],de=z+1,K=k[de];if(0>i(te,W))de<X&&0>i(K,te)?(k[H]=K,k[de]=W,H=de):(k[H]=te,k[z]=W,H=z);else if(de<X&&0>i(K,W))k[H]=K,k[de]=W,H=de;else break e}}return C}function i(k,C){var W=k.sortIndex-C.sortIndex;return W!==0?W:k.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var C=r(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=k)n(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=r(u)}}function j(k){if(y=!1,b(k),!p)if(r(c)!==null)p=!0,F(N);else{var C=r(u);C!==null&&V(j,C.startTime-k)}}function N(k,C){p=!1,y&&(y=!1,g(A),A=-1),m=!0;var W=h;try{for(b(C),f=r(c);f!==null&&(!(f.expirationTime>C)||k&&!E());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var X=H(f.expirationTime<=C);C=e.unstable_now(),typeof X=="function"?f.callback=X:f===r(c)&&n(c),b(C)}else n(c);f=r(c)}if(f!==null)var pe=!0;else{var z=r(u);z!==null&&V(j,z.startTime-C),pe=!1}return pe}finally{f=null,h=W,m=!1}}var S=!1,P=null,A=-1,R=5,D=-1;function E(){return!(e.unstable_now()-D<R)}function B(){if(P!==null){var k=e.unstable_now();D=k;var C=!0;try{C=P(!0,k)}finally{C?$():(S=!1,P=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(B)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,O=M.port2;M.port1.onmessage=B,$=function(){O.postMessage(null)}}else $=function(){w(B,0)};function F(k){P=k,S||(S=!0,$())}function V(k,C){A=w(function(){k(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,F(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var W=h;h=C;try{return k()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,C){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var W=h;h=k;try{return C()}finally{h=W}},e.unstable_scheduleCallback=function(k,C,W){var H=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?H+W:H):W=H,k){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=W+X,k={id:d++,callback:C,priorityLevel:k,startTime:W,expirationTime:X,sortIndex:-1},W>H?(k.sortIndex=W,t(u,k),r(c)===null&&k===r(u)&&(y?(g(A),A=-1):y=!0,V(j,W-H))):(k.sortIndex=X,t(c,k),p||m||(p=!0,F(N))),k},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(k){var C=h;return function(){var W=h;h=C;try{return k.apply(this,arguments)}finally{h=W}}}})(UP);zP.exports=UP;var rD=zP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nD=x,br=rD;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var WP=new Set,Il={};function Hs(e,t){Wa(e,t),Wa(e+"Capture",t)}function Wa(e,t){for(Il[e]=t,e=0;e<t.length;e++)WP.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=Object.prototype.hasOwnProperty,iD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bb={},Fb={};function sD(e){return kp.call(Fb,e)?!0:kp.call(Bb,e)?!1:iD.test(e)?Fb[e]=!0:(Bb[e]=!0,!1)}function aD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oD(e,t,r,n){if(t===null||typeof t>"u"||aD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var H0=/[\-:]([a-z])/g;function G0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(H0,G0);Ot[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(H0,G0);Ot[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(H0,G0);Ot[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Y0(e,t,r,n){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oD(t,r,i,n)&&(r=null),n||i===null?sD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ii=nD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),da=Symbol.for("react.portal"),fa=Symbol.for("react.fragment"),X0=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),VP=Symbol.for("react.provider"),KP=Symbol.for("react.context"),J0=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),Q0=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),qP=Symbol.for("react.offscreen"),zb=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=zb&&e[zb]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,sm;function ll(e){if(sm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sm=t&&t[1]||""}return`
`+sm+e}var am=!1;function om(e,t){if(!e||am)return"";am=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{am=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ll(e):""}function lD(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=om(e.type,!1),e;case 11:return e=om(e.type.render,!1),e;case 1:return e=om(e.type,!0),e;default:return""}}function Cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case fa:return"Fragment";case da:return"Portal";case Ap:return"Profiler";case X0:return"StrictMode";case Ep:return"Suspense";case Op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case KP:return(e.displayName||"Context")+".Consumer";case VP:return(e._context.displayName||"Context")+".Provider";case J0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q0:return t=e.displayName||null,t!==null?t:Cp(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Cp(e(t))}catch{}}return null}function cD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(t);case 8:return t===X0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uD(e){var t=HP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){e._valueTracker||(e._valueTracker=uD(e))}function GP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=HP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tp(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ub(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function YP(e,t){t=t.checked,t!=null&&Y0(e,"checked",t,!1)}function Mp(e,t){YP(e,t);var r=Bi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rp(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rp(e,t,r){(t!=="number"||sd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cl=Array.isArray;function Ma(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(cl(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bi(r)}}function XP(e,t){var r=Bi(t.value),n=Bi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Kb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function JP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?JP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ru,QP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ru.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ll(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dD=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(e){dD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yl[t]=yl[e]})});function ZP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yl.hasOwnProperty(e)&&yl[e]?(""+t).trim():t+"px"}function e_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ZP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var fD=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(e,t){if(t){if(fD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bp=null;function Z0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fp=null,Ra=null,Da=null;function qb(e){if(e=jc(e)){if(typeof Fp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Af(t),Fp(e.stateNode,e.type,t))}}function t_(e){Ra?Da?Da.push(e):Da=[e]:Ra=e}function r_(){if(Ra){var e=Ra,t=Da;if(Da=Ra=null,qb(e),t)for(e=0;e<t.length;e++)qb(t[e])}}function n_(e,t){return e(t)}function i_(){}var lm=!1;function s_(e,t,r){if(lm)return e(t,r);lm=!0;try{return n_(e,t,r)}finally{lm=!1,(Ra!==null||Da!==null)&&(i_(),r_())}}function Bl(e,t){var r=e.stateNode;if(r===null)return null;var n=Af(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var zp=!1;if(qn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){zp=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{zp=!1}function hD(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var vl=!1,ad=null,od=!1,Up=null,mD={onError:function(e){vl=!0,ad=e}};function pD(e,t,r,n,i,s,a,l,c){vl=!1,ad=null,hD.apply(mD,arguments)}function gD(e,t,r,n,i,s,a,l,c){if(pD.apply(this,arguments),vl){if(vl){var u=ad;vl=!1,ad=null}else throw Error(G(198));od||(od=!0,Up=u)}}function Gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function a_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Hb(e){if(Gs(e)!==e)throw Error(G(188))}function yD(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Hb(i),e;if(s===n)return Hb(i),t;s=s.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function o_(e){return e=yD(e),e!==null?l_(e):null}function l_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=l_(e);if(t!==null)return t;e=e.sibling}return null}var c_=br.unstable_scheduleCallback,Gb=br.unstable_cancelCallback,vD=br.unstable_shouldYield,xD=br.unstable_requestPaint,nt=br.unstable_now,bD=br.unstable_getCurrentPriorityLevel,ey=br.unstable_ImmediatePriority,u_=br.unstable_UserBlockingPriority,ld=br.unstable_NormalPriority,wD=br.unstable_LowPriority,d_=br.unstable_IdlePriority,Sf=null,bn=null;function jD(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:PD,ND=Math.log,SD=Math.LN2;function PD(e){return e>>>=0,e===0?32:31-(ND(e)/SD|0)|0}var nu=64,iu=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=ul(l):(s&=a,s!==0&&(n=ul(s)))}else a=r&~i,a!==0?n=ul(a):s!==0&&(n=ul(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ln(t),i=1<<r,n|=e[r],t&=~i;return n}function _D(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ln(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=_D(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function f_(){var e=nu;return nu<<=1,!(nu&4194240)&&(nu=64),e}function cm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=r}function AD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ln(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function ty(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ln(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ae=0;function h_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var m_,ry,p_,g_,y_,Vp=!1,su=[],Ai=null,Ei=null,Oi=null,Fl=new Map,zl=new Map,ji=[],ED="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yb(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Vo(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=jc(t),t!==null&&ry(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function OD(e,t,r,n,i){switch(t){case"focusin":return Ai=Vo(Ai,e,t,r,n,i),!0;case"dragenter":return Ei=Vo(Ei,e,t,r,n,i),!0;case"mouseover":return Oi=Vo(Oi,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Vo(Fl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zl.set(s,Vo(zl.get(s)||null,e,t,r,n,i)),!0}return!1}function v_(e){var t=gs(e.target);if(t!==null){var r=Gs(t);if(r!==null){if(t=r.tag,t===13){if(t=a_(r),t!==null){e.blockedOn=t,y_(e.priority,function(){p_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bp=n,r.target.dispatchEvent(n),Bp=null}else return t=jc(r),t!==null&&ry(t),e.blockedOn=r,!1;t.shift()}return!0}function Xb(e,t,r){Uu(e)&&r.delete(t)}function CD(){Vp=!1,Ai!==null&&Uu(Ai)&&(Ai=null),Ei!==null&&Uu(Ei)&&(Ei=null),Oi!==null&&Uu(Oi)&&(Oi=null),Fl.forEach(Xb),zl.forEach(Xb)}function Ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,CD)))}function Ul(e){function t(i){return Ko(i,e)}if(0<su.length){Ko(su[0],e);for(var r=1;r<su.length;r++){var n=su[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ai!==null&&Ko(Ai,e),Ei!==null&&Ko(Ei,e),Oi!==null&&Ko(Oi,e),Fl.forEach(t),zl.forEach(t),r=0;r<ji.length;r++)n=ji[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ji.length&&(r=ji[0],r.blockedOn===null);)v_(r),r.blockedOn===null&&ji.shift()}var $a=ii.ReactCurrentBatchConfig,ud=!0;function TD(e,t,r,n){var i=Ae,s=$a.transition;$a.transition=null;try{Ae=1,ny(e,t,r,n)}finally{Ae=i,$a.transition=s}}function MD(e,t,r,n){var i=Ae,s=$a.transition;$a.transition=null;try{Ae=4,ny(e,t,r,n)}finally{Ae=i,$a.transition=s}}function ny(e,t,r,n){if(ud){var i=Kp(e,t,r,n);if(i===null)xm(e,t,n,dd,r),Yb(e,n);else if(OD(i,e,t,r,n))n.stopPropagation();else if(Yb(e,n),t&4&&-1<ED.indexOf(e)){for(;i!==null;){var s=jc(i);if(s!==null&&m_(s),s=Kp(e,t,r,n),s===null&&xm(e,t,n,dd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else xm(e,t,n,null,r)}}var dd=null;function Kp(e,t,r,n){if(dd=null,e=Z0(n),e=gs(e),e!==null)if(t=Gs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=a_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dd=e,null}function x_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bD()){case ey:return 1;case u_:return 4;case ld:case wD:return 16;case d_:return 536870912;default:return 16}default:return 16}}var _i=null,iy=null,Wu=null;function b_(){if(Wu)return Wu;var e,t=iy,r=t.length,n,i="value"in _i?_i.value:_i.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Wu=i.slice(e,1<n?1-n:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function au(){return!0}function Jb(){return!1}function _r(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?au:Jb,this.isPropagationStopped=Jb,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sy=_r(go),wc=He({},go,{view:0,detail:0}),RD=_r(wc),um,dm,qo,Pf=He({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(um=e.screenX-qo.screenX,dm=e.screenY-qo.screenY):dm=um=0,qo=e),um)},movementY:function(e){return"movementY"in e?e.movementY:dm}}),Qb=_r(Pf),DD=He({},Pf,{dataTransfer:0}),$D=_r(DD),ID=He({},wc,{relatedTarget:0}),fm=_r(ID),LD=He({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),BD=_r(LD),FD=He({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zD=_r(FD),UD=He({},go,{data:0}),Zb=_r(UD),WD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KD[e])?!!t[e]:!1}function ay(){return qD}var HD=He({},wc,{key:function(e){if(e.key){var t=WD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GD=_r(HD),YD=He({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=_r(YD),XD=He({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),JD=_r(XD),QD=He({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZD=_r(QD),e6=He({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t6=_r(e6),r6=[9,13,27,32],oy=qn&&"CompositionEvent"in window,xl=null;qn&&"documentMode"in document&&(xl=document.documentMode);var n6=qn&&"TextEvent"in window&&!xl,w_=qn&&(!oy||xl&&8<xl&&11>=xl),tw=" ",rw=!1;function j_(e,t){switch(e){case"keyup":return r6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function i6(e,t){switch(e){case"compositionend":return N_(t);case"keypress":return t.which!==32?null:(rw=!0,tw);case"textInput":return e=t.data,e===tw&&rw?null:e;default:return null}}function s6(e,t){if(ha)return e==="compositionend"||!oy&&j_(e,t)?(e=b_(),Wu=iy=_i=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return w_&&t.locale!=="ko"?null:t.data;default:return null}}var a6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a6[e.type]:t==="textarea"}function S_(e,t,r,n){t_(n),t=fd(t,"onChange"),0<t.length&&(r=new sy("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bl=null,Wl=null;function o6(e){D_(e,0)}function _f(e){var t=ga(e);if(GP(t))return e}function l6(e,t){if(e==="change")return t}var P_=!1;if(qn){var hm;if(qn){var mm="oninput"in document;if(!mm){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),mm=typeof iw.oninput=="function"}hm=mm}else hm=!1;P_=hm&&(!document.documentMode||9<document.documentMode)}function sw(){bl&&(bl.detachEvent("onpropertychange",__),Wl=bl=null)}function __(e){if(e.propertyName==="value"&&_f(Wl)){var t=[];S_(t,Wl,e,Z0(e)),s_(o6,t)}}function c6(e,t,r){e==="focusin"?(sw(),bl=t,Wl=r,bl.attachEvent("onpropertychange",__)):e==="focusout"&&sw()}function u6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _f(Wl)}function d6(e,t){if(e==="click")return _f(t)}function f6(e,t){if(e==="input"||e==="change")return _f(t)}function h6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:h6;function Vl(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kp.call(t,i)||!un(e[i],t[i]))return!1}return!0}function aw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ow(e,t){var r=aw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aw(r)}}function k_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?k_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function A_(){for(var e=window,t=sd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sd(e.document)}return t}function ly(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m6(e){var t=A_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&k_(r.ownerDocument.documentElement,r)){if(n!==null&&ly(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=ow(r,s);var a=ow(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p6=qn&&"documentMode"in document&&11>=document.documentMode,ma=null,qp=null,wl=null,Hp=!1;function lw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hp||ma==null||ma!==sd(n)||(n=ma,"selectionStart"in n&&ly(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wl&&Vl(wl,n)||(wl=n,n=fd(qp,"onSelect"),0<n.length&&(t=new sy("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ma)))}function ou(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pa={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},pm={},E_={};qn&&(E_=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function kf(e){if(pm[e])return pm[e];if(!pa[e])return e;var t=pa[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in E_)return pm[e]=t[r];return e}var O_=kf("animationend"),C_=kf("animationiteration"),T_=kf("animationstart"),M_=kf("transitionend"),R_=new Map,cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){R_.set(e,t),Hs(t,[e])}for(var gm=0;gm<cw.length;gm++){var ym=cw[gm],g6=ym.toLowerCase(),y6=ym[0].toUpperCase()+ym.slice(1);Ki(g6,"on"+y6)}Ki(O_,"onAnimationEnd");Ki(C_,"onAnimationIteration");Ki(T_,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(M_,"onTransitionEnd");Wa("onMouseEnter",["mouseout","mouseover"]);Wa("onMouseLeave",["mouseout","mouseover"]);Wa("onPointerEnter",["pointerout","pointerover"]);Wa("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v6=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function uw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gD(n,t,void 0,e),e.currentTarget=null}function D_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;uw(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;uw(i,l,u),s=c}}}if(od)throw e=Up,od=!1,Up=null,e}function Be(e,t){var r=t[Qp];r===void 0&&(r=t[Qp]=new Set);var n=e+"__bubble";r.has(n)||($_(t,e,2,!1),r.add(n))}function vm(e,t,r){var n=0;t&&(n|=4),$_(r,e,n,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[lu]){e[lu]=!0,WP.forEach(function(r){r!=="selectionchange"&&(v6.has(r)||vm(r,!1,e),vm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,vm("selectionchange",!1,t))}}function $_(e,t,r,n){switch(x_(t)){case 1:var i=TD;break;case 4:i=MD;break;default:i=ny}r=i.bind(null,t,r,e),i=void 0,!zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function xm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}s_(function(){var u=s,d=Z0(r),f=[];e:{var h=R_.get(e);if(h!==void 0){var m=sy,p=e;switch(e){case"keypress":if(Vu(r)===0)break e;case"keydown":case"keyup":m=GD;break;case"focusin":p="focus",m=fm;break;case"focusout":p="blur",m=fm;break;case"beforeblur":case"afterblur":m=fm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JD;break;case O_:case C_:case T_:m=BD;break;case M_:m=ZD;break;case"scroll":m=RD;break;case"wheel":m=t6;break;case"copy":case"cut":case"paste":m=zD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ew}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=Bl(v,g),j!=null&&y.push(ql(v,j,b)))),w)break;v=v.return}0<y.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Bp&&(p=r.relatedTarget||r.fromElement)&&(gs(p)||p[Hn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?gs(p):null,p!==null&&(w=Gs(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=Qb,j="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=ew,j="onPointerLeave",g="onPointerEnter",v="pointer"),w=m==null?h:ga(m),b=p==null?h:ga(p),h=new y(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,gs(d)===u&&(y=new y(g,v+"enter",p,r,d),y.target=b,y.relatedTarget=w,j=y),w=j,m&&p)t:{for(y=m,g=p,v=0,b=y;b;b=ta(b))v++;for(b=0,j=g;j;j=ta(j))b++;for(;0<v-b;)y=ta(y),v--;for(;0<b-v;)g=ta(g),b--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=ta(y),g=ta(g)}y=null}else y=null;m!==null&&dw(f,h,m,y,!1),p!==null&&w!==null&&dw(f,w,p,y,!0)}}e:{if(h=u?ga(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=l6;else if(nw(h))if(P_)N=f6;else{N=u6;var S=c6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=d6);if(N&&(N=N(e,u))){S_(f,N,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Rp(h,"number",h.value)}switch(S=u?ga(u):window,e){case"focusin":(nw(S)||S.contentEditable==="true")&&(ma=S,qp=u,wl=null);break;case"focusout":wl=qp=ma=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,lw(f,r,d);break;case"selectionchange":if(p6)break;case"keydown":case"keyup":lw(f,r,d)}var P;if(oy)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else ha?j_(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(w_&&r.locale!=="ko"&&(ha||A!=="onCompositionStart"?A==="onCompositionEnd"&&ha&&(P=b_()):(_i=d,iy="value"in _i?_i.value:_i.textContent,ha=!0)),S=fd(u,A),0<S.length&&(A=new Zb(A,e,null,r,d),f.push({event:A,listeners:S}),P?A.data=P:(P=N_(r),P!==null&&(A.data=P)))),(P=n6?i6(e,r):s6(e,r))&&(u=fd(u,"onBeforeInput"),0<u.length&&(d=new Zb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}D_(f,t)})}function ql(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bl(e,r),s!=null&&n.unshift(ql(e,s,i)),s=Bl(e,t),s!=null&&n.push(ql(e,s,i))),e=e.return}return n}function ta(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dw(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Bl(r,s),c!=null&&a.unshift(ql(r,c,l))):i||(c=Bl(r,s),c!=null&&a.push(ql(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var x6=/\r\n?/g,b6=/\u0000|\uFFFD/g;function fw(e){return(typeof e=="string"?e:""+e).replace(x6,`
`).replace(b6,"")}function cu(e,t,r){if(t=fw(t),fw(e)!==t&&r)throw Error(G(425))}function hd(){}var Gp=null,Yp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jp=typeof setTimeout=="function"?setTimeout:void 0,w6=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,j6=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(e){return hw.resolve(null).then(e).catch(N6)}:Jp;function N6(e){setTimeout(function(){throw e})}function bm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ul(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ul(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),pn="__reactFiber$"+yo,Hl="__reactProps$"+yo,Hn="__reactContainer$"+yo,Qp="__reactEvents$"+yo,S6="__reactListeners$"+yo,P6="__reactHandles$"+yo;function gs(e){var t=e[pn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hn]||r[pn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mw(e);e!==null;){if(r=e[pn])return r;e=mw(e)}return t}e=r,r=e.parentNode}return null}function jc(e){return e=e[pn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ga(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Af(e){return e[Hl]||null}var Zp=[],ya=-1;function qi(e){return{current:e}}function ze(e){0>ya||(e.current=Zp[ya],Zp[ya]=null,ya--)}function De(e,t){ya++,Zp[ya]=e.current,e.current=t}var Fi={},Bt=qi(Fi),lr=qi(!1),$s=Fi;function Va(e,t){var r=e.type.contextTypes;if(!r)return Fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cr(e){return e=e.childContextTypes,e!=null}function md(){ze(lr),ze(Bt)}function pw(e,t,r){if(Bt.current!==Fi)throw Error(G(168));De(Bt,t),De(lr,r)}function I_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,cD(e)||"Unknown",i));return He({},r,n)}function pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,$s=Bt.current,De(Bt,e),De(lr,lr.current),!0}function gw(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=I_(e,t,$s),n.__reactInternalMemoizedMergedChildContext=e,ze(lr),ze(Bt),De(Bt,e)):ze(lr),De(lr,r)}var $n=null,Ef=!1,wm=!1;function L_(e){$n===null?$n=[e]:$n.push(e)}function _6(e){Ef=!0,L_(e)}function Hi(){if(!wm&&$n!==null){wm=!0;var e=0,t=Ae;try{var r=$n;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$n=null,Ef=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),c_(ey,Hi),i}finally{Ae=t,wm=!1}}return null}var va=[],xa=0,gd=null,yd=0,Rr=[],Dr=0,Is=null,Ln=1,Bn="";function ls(e,t){va[xa++]=yd,va[xa++]=gd,gd=e,yd=t}function B_(e,t,r){Rr[Dr++]=Ln,Rr[Dr++]=Bn,Rr[Dr++]=Is,Is=e;var n=Ln;e=Bn;var i=32-ln(n)-1;n&=~(1<<i),r+=1;var s=32-ln(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ln=1<<32-ln(t)+i|r<<i|n,Bn=s+e}else Ln=1<<s|r<<i|n,Bn=e}function cy(e){e.return!==null&&(ls(e,1),B_(e,1,0))}function uy(e){for(;e===gd;)gd=va[--xa],va[xa]=null,yd=va[--xa],va[xa]=null;for(;e===Is;)Is=Rr[--Dr],Rr[Dr]=null,Bn=Rr[--Dr],Rr[Dr]=null,Ln=Rr[--Dr],Rr[Dr]=null}var vr=null,yr=null,Ue=!1,rn=null;function F_(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,yr=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:Ln,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,yr=null,!0):!1;default:return!1}}function eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tg(e){if(Ue){var t=yr;if(t){var r=t;if(!yw(e,t)){if(eg(e))throw Error(G(418));t=Ci(r.nextSibling);var n=vr;t&&yw(e,t)?F_(n,r):(e.flags=e.flags&-4097|2,Ue=!1,vr=e)}}else{if(eg(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,vr=e}}}function vw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function uu(e){if(e!==vr)return!1;if(!Ue)return vw(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=yr)){if(eg(e))throw z_(),Error(G(418));for(;t;)F_(e,t),t=Ci(t.nextSibling)}if(vw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=vr?Ci(e.stateNode.nextSibling):null;return!0}function z_(){for(var e=yr;e;)e=Ci(e.nextSibling)}function Ka(){yr=vr=null,Ue=!1}function dy(e){rn===null?rn=[e]:rn.push(e)}var k6=ii.ReactCurrentBatchConfig;function Ho(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function du(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xw(e){var t=e._init;return t(e._payload)}function U_(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Di(g,v),g.index=0,g.sibling=null,g}function s(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,j){return v===null||v.tag!==6?(v=Am(b,g.mode,j),v.return=g,v):(v=i(v,b),v.return=g,v)}function c(g,v,b,j){var N=b.type;return N===fa?d(g,v,b.props.children,j,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&xw(N)===v.type)?(j=i(v,b.props),j.ref=Ho(g,v,b),j.return=g,j):(j=Ju(b.type,b.key,b.props,null,g.mode,j),j.ref=Ho(g,v,b),j.return=g,j)}function u(g,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Em(b,g.mode,j),v.return=g,v):(v=i(v,b.children||[]),v.return=g,v)}function d(g,v,b,j,N){return v===null||v.tag!==7?(v=ks(b,g.mode,j,N),v.return=g,v):(v=i(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Am(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eu:return b=Ju(v.type,v.key,v.props,null,g.mode,b),b.ref=Ho(g,null,v),b.return=g,b;case da:return v=Em(v,g.mode,b),v.return=g,v;case xi:var j=v._init;return f(g,j(v._payload),b)}if(cl(v)||Uo(v))return v=ks(v,g.mode,b,null),v.return=g,v;du(g,v)}return null}function h(g,v,b,j){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(g,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:return b.key===N?c(g,v,b,j):null;case da:return b.key===N?u(g,v,b,j):null;case xi:return N=b._init,h(g,v,N(b._payload),j)}if(cl(b)||Uo(b))return N!==null?null:d(g,v,b,j,null);du(g,b)}return null}function m(g,v,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(v,g,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case eu:return g=g.get(j.key===null?b:j.key)||null,c(v,g,j,N);case da:return g=g.get(j.key===null?b:j.key)||null,u(v,g,j,N);case xi:var S=j._init;return m(g,v,b,S(j._payload),N)}if(cl(j)||Uo(j))return g=g.get(b)||null,d(v,g,j,N,null);du(v,j)}return null}function p(g,v,b,j){for(var N=null,S=null,P=v,A=v=0,R=null;P!==null&&A<b.length;A++){P.index>A?(R=P,P=null):R=P.sibling;var D=h(g,P,b[A],j);if(D===null){P===null&&(P=R);break}e&&P&&D.alternate===null&&t(g,P),v=s(D,v,A),S===null?N=D:S.sibling=D,S=D,P=R}if(A===b.length)return r(g,P),Ue&&ls(g,A),N;if(P===null){for(;A<b.length;A++)P=f(g,b[A],j),P!==null&&(v=s(P,v,A),S===null?N=P:S.sibling=P,S=P);return Ue&&ls(g,A),N}for(P=n(g,P);A<b.length;A++)R=m(P,g,A,b[A],j),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?A:R.key),v=s(R,v,A),S===null?N=R:S.sibling=R,S=R);return e&&P.forEach(function(E){return t(g,E)}),Ue&&ls(g,A),N}function y(g,v,b,j){var N=Uo(b);if(typeof N!="function")throw Error(G(150));if(b=N.call(b),b==null)throw Error(G(151));for(var S=N=null,P=v,A=v=0,R=null,D=b.next();P!==null&&!D.done;A++,D=b.next()){P.index>A?(R=P,P=null):R=P.sibling;var E=h(g,P,D.value,j);if(E===null){P===null&&(P=R);break}e&&P&&E.alternate===null&&t(g,P),v=s(E,v,A),S===null?N=E:S.sibling=E,S=E,P=R}if(D.done)return r(g,P),Ue&&ls(g,A),N;if(P===null){for(;!D.done;A++,D=b.next())D=f(g,D.value,j),D!==null&&(v=s(D,v,A),S===null?N=D:S.sibling=D,S=D);return Ue&&ls(g,A),N}for(P=n(g,P);!D.done;A++,D=b.next())D=m(P,g,A,D.value,j),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?A:D.key),v=s(D,v,A),S===null?N=D:S.sibling=D,S=D);return e&&P.forEach(function(B){return t(g,B)}),Ue&&ls(g,A),N}function w(g,v,b,j){if(typeof b=="object"&&b!==null&&b.type===fa&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:e:{for(var N=b.key,S=v;S!==null;){if(S.key===N){if(N=b.type,N===fa){if(S.tag===7){r(g,S.sibling),v=i(S,b.props.children),v.return=g,g=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&xw(N)===S.type){r(g,S.sibling),v=i(S,b.props),v.ref=Ho(g,S,b),v.return=g,g=v;break e}r(g,S);break}else t(g,S);S=S.sibling}b.type===fa?(v=ks(b.props.children,g.mode,j,b.key),v.return=g,g=v):(j=Ju(b.type,b.key,b.props,null,g.mode,j),j.ref=Ho(g,v,b),j.return=g,g=j)}return a(g);case da:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=i(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Em(b,g.mode,j),v.return=g,g=v}return a(g);case xi:return S=b._init,w(g,v,S(b._payload),j)}if(cl(b))return p(g,v,b,j);if(Uo(b))return y(g,v,b,j);du(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,b),v.return=g,g=v):(r(g,v),v=Am(b,g.mode,j),v.return=g,g=v),a(g)):r(g,v)}return w}var qa=U_(!0),W_=U_(!1),vd=qi(null),xd=null,ba=null,fy=null;function hy(){fy=ba=xd=null}function my(e){var t=vd.current;ze(vd),e._currentValue=t}function rg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ia(e,t){xd=e,fy=ba=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(fy!==e)if(e={context:e,memoizedValue:t,next:null},ba===null){if(xd===null)throw Error(G(308));ba=e,xd.dependencies={lanes:0,firstContext:e}}else ba=ba.next=e;return t}var ys=null;function py(e){ys===null?ys=[e]:ys.push(e)}function V_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,py(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gn(e,n)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bi=!1;function gy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gn(e,r)}return i=n.interleaved,i===null?(t.next=t,py(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gn(e,r)}function Ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ty(e,r)}}function bw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bd(e,t,r,n){var i=e.updateQueue;bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(h=t,m=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=He({},f,h);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function ww(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var Nc={},wn=qi(Nc),Gl=qi(Nc),Yl=qi(Nc);function vs(e){if(e===Nc)throw Error(G(174));return e}function yy(e,t){switch(De(Yl,t),De(Gl,e),De(wn,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$p(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$p(t,e)}ze(wn),De(wn,t)}function Ha(){ze(wn),ze(Gl),ze(Yl)}function q_(e){vs(Yl.current);var t=vs(wn.current),r=$p(t,e.type);t!==r&&(De(Gl,e),De(wn,r))}function vy(e){Gl.current===e&&(ze(wn),ze(Gl))}var Ve=qi(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jm=[];function xy(){for(var e=0;e<jm.length;e++)jm[e]._workInProgressVersionPrimary=null;jm.length=0}var qu=ii.ReactCurrentDispatcher,Nm=ii.ReactCurrentBatchConfig,Ls=0,qe=null,ut=null,xt=null,jd=!1,jl=!1,Xl=0,A6=0;function Ct(){throw Error(G(321))}function by(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function wy(e,t,r,n,i,s){if(Ls=s,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qu.current=e===null||e.memoizedState===null?T6:M6,e=r(n,i),jl){s=0;do{if(jl=!1,Xl=0,25<=s)throw Error(G(301));s+=1,xt=ut=null,t.updateQueue=null,qu.current=R6,e=r(n,i)}while(jl)}if(qu.current=Nd,t=ut!==null&&ut.next!==null,Ls=0,xt=ut=qe=null,jd=!1,t)throw Error(G(300));return e}function jy(){var e=Xl!==0;return Xl=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?qe.memoizedState=xt=e:xt=xt.next=e,xt}function Ur(){if(ut===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=xt===null?qe.memoizedState:xt.next;if(t!==null)xt=t,ut=e;else{if(e===null)throw Error(G(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},xt===null?qe.memoizedState=xt=e:xt=xt.next=e}return xt}function Jl(e,t){return typeof t=="function"?t(e):t}function Sm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,qe.lanes|=d,Bs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,un(n,t.memoizedState)||(sr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,qe.lanes|=s,Bs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);un(s,t.memoizedState)||(sr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function H_(){}function G_(e,t){var r=qe,n=Ur(),i=t(),s=!un(n.memoizedState,i);if(s&&(n.memoizedState=i,sr=!0),n=n.queue,Ny(J_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Ql(9,X_.bind(null,r,n,i,t),void 0,null),Nt===null)throw Error(G(349));Ls&30||Y_(r,t,i)}return i}function Y_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function X_(e,t,r,n){t.value=r,t.getSnapshot=n,Q_(t)&&Z_(e)}function J_(e,t,r){return r(function(){Q_(t)&&Z_(e)})}function Q_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!un(e,r)}catch{return!0}}function Z_(e){var t=Gn(e,1);t!==null&&cn(t,e,1,-1)}function jw(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t.queue=e,e=e.dispatch=C6.bind(null,qe,e),[t.memoizedState,e]}function Ql(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ek(){return Ur().memoizedState}function Hu(e,t,r,n){var i=mn();qe.flags|=e,i.memoizedState=Ql(1|t,r,void 0,n===void 0?null:n)}function Of(e,t,r,n){var i=Ur();n=n===void 0?null:n;var s=void 0;if(ut!==null){var a=ut.memoizedState;if(s=a.destroy,n!==null&&by(n,a.deps)){i.memoizedState=Ql(t,r,s,n);return}}qe.flags|=e,i.memoizedState=Ql(1|t,r,s,n)}function Nw(e,t){return Hu(8390656,8,e,t)}function Ny(e,t){return Of(2048,8,e,t)}function tk(e,t){return Of(4,2,e,t)}function rk(e,t){return Of(4,4,e,t)}function nk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ik(e,t,r){return r=r!=null?r.concat([e]):null,Of(4,4,nk.bind(null,t,e),r)}function Sy(){}function sk(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&by(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ak(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&by(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ok(e,t,r){return Ls&21?(un(r,t)||(r=f_(),qe.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=r)}function E6(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Nm.transition;Nm.transition={};try{e(!1),t()}finally{Ae=r,Nm.transition=n}}function lk(){return Ur().memoizedState}function O6(e,t,r){var n=Ri(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ck(e))uk(t,r);else if(r=V_(e,t,r,n),r!==null){var i=Gt();cn(r,e,n,i),dk(r,t,n)}}function C6(e,t,r){var n=Ri(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ck(e))uk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,un(l,a)){var c=t.interleaved;c===null?(i.next=i,py(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=V_(e,t,i,n),r!==null&&(i=Gt(),cn(r,e,n,i),dk(r,t,n))}}function ck(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function uk(e,t){jl=jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function dk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ty(e,r)}}var Nd={readContext:zr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},T6={readContext:zr,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:Nw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hu(4194308,4,nk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hu(4,2,e,t)},useMemo:function(e,t){var r=mn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=O6.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:jw,useDebugValue:Sy,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=jw(!1),t=e[0];return e=E6.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,i=mn();if(Ue){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Nt===null)throw Error(G(349));Ls&30||Y_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Nw(J_.bind(null,n,s,e),[e]),n.flags|=2048,Ql(9,X_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=mn(),t=Nt.identifierPrefix;if(Ue){var r=Bn,n=Ln;r=(n&~(1<<32-ln(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=A6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M6={readContext:zr,useCallback:sk,useContext:zr,useEffect:Ny,useImperativeHandle:ik,useInsertionEffect:tk,useLayoutEffect:rk,useMemo:ak,useReducer:Sm,useRef:ek,useState:function(){return Sm(Jl)},useDebugValue:Sy,useDeferredValue:function(e){var t=Ur();return ok(t,ut.memoizedState,e)},useTransition:function(){var e=Sm(Jl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:G_,useId:lk,unstable_isNewReconciler:!1},R6={readContext:zr,useCallback:sk,useContext:zr,useEffect:Ny,useImperativeHandle:ik,useInsertionEffect:tk,useLayoutEffect:rk,useMemo:ak,useReducer:Pm,useRef:ek,useState:function(){return Pm(Jl)},useDebugValue:Sy,useDeferredValue:function(e){var t=Ur();return ut===null?t.memoizedState=e:ok(t,ut.memoizedState,e)},useTransition:function(){var e=Pm(Jl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:G_,useId:lk,unstable_isNewReconciler:!1};function Zr(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ng(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Ri(e),s=Un(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ti(e,s,i),t!==null&&(cn(t,e,i,n),Ku(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Ri(e),s=Un(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ti(e,s,i),t!==null&&(cn(t,e,i,n),Ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gt(),n=Ri(e),i=Un(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,n),t!==null&&(cn(t,e,n,r),Ku(t,e,n))}};function Sw(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Vl(r,n)||!Vl(i,s):!0}function fk(e,t,r){var n=!1,i=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=cr(t)?$s:Bt.current,n=t.contextTypes,s=(n=n!=null)?Va(e,i):Fi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function ig(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},gy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=cr(t)?$s:Bt.current,i.context=Va(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ng(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cf.enqueueReplaceState(i,i.state,null),bd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ga(e,t){try{var r="",n=t;do r+=lD(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function _m(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D6=typeof WeakMap=="function"?WeakMap:Map;function hk(e,t,r){r=Un(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pd||(Pd=!0,pg=n),sg(e,t)},r}function mk(e,t,r){r=Un(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){sg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sg(e,t),typeof n!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function _w(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Y6.bind(null,e,t,r),t.then(e,e))}function kw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Aw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Un(-1,1),t.tag=2,Ti(r,t,1))),r.lanes|=1),e)}var $6=ii.ReactCurrentOwner,sr=!1;function Vt(e,t,r,n){t.child=e===null?W_(t,null,r,n):qa(t,e.child,r,n)}function Ew(e,t,r,n,i){r=r.render;var s=t.ref;return Ia(t,i),n=wy(e,t,r,n,s,i),r=jy(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Ue&&r&&cy(t),t.flags|=1,Vt(e,t,n,i),t.child)}function Ow(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Ty(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,pk(e,t,s,n,i)):(e=Ju(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(a,n)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=Di(s,n),e.ref=t.ref,e.return=t,t.child=e}function pk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Vl(s,n)&&e.ref===t.ref)if(sr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return ag(e,t,r,n,i)}function gk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(ja,pr),pr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(ja,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,De(ja,pr),pr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,De(ja,pr),pr|=n;return Vt(e,t,i,r),t.child}function yk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ag(e,t,r,n,i){var s=cr(r)?$s:Bt.current;return s=Va(t,s),Ia(t,i),r=wy(e,t,r,n,s,i),n=jy(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Ue&&n&&cy(t),t.flags|=1,Vt(e,t,r,i),t.child)}function Cw(e,t,r,n,i){if(cr(r)){var s=!0;pd(t)}else s=!1;if(Ia(t,i),t.stateNode===null)Gu(e,t),fk(t,r,n),ig(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=cr(r)?$s:Bt.current,u=Va(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Pw(t,a,n,u),bi=!1;var h=t.memoizedState;a.state=h,bd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||lr.current||bi?(typeof d=="function"&&(ng(t,r,d,n),c=t.memoizedState),(l=bi||Sw(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,K_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=cr(r)?$s:Bt.current,c=Va(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Pw(t,a,n,c),bi=!1,h=t.memoizedState,a.state=h,bd(t,n,a,i);var p=t.memoizedState;l!==f||h!==p||lr.current||bi?(typeof m=="function"&&(ng(t,r,m,n),p=t.memoizedState),(u=bi||Sw(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return og(e,t,r,n,s,i)}function og(e,t,r,n,i,s){yk(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&gw(t,r,!1),Yn(e,t,s);n=t.stateNode,$6.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=qa(t,e.child,null,s),t.child=qa(t,null,l,s)):Vt(e,t,l,s),t.memoizedState=n.state,i&&gw(t,r,!0),t.child}function vk(e){var t=e.stateNode;t.pendingContext?pw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pw(e,t.context,!1),yy(e,t.containerInfo)}function Tw(e,t,r,n,i){return Ka(),dy(i),t.flags|=256,Vt(e,t,r,n),t.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function xk(e,t,r){var n=t.pendingProps,i=Ve.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Ve,i&1),e===null)return tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Rf(a,n,0,null),e=ks(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cg(r),t.memoizedState=lg,e):Py(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return I6(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Di(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Di(l,s):(s=ks(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?cg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=lg,n}return s=e.child,e=s.sibling,n=Di(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Py(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fu(e,t,r,n){return n!==null&&dy(n),qa(t,e.child,null,r),e=Py(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=_m(Error(G(422))),fu(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Rf({mode:"visible",children:n.children},i,0,null),s=ks(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qa(t,e.child,null,a),t.child.memoizedState=cg(a),t.memoizedState=lg,s);if(!(t.mode&1))return fu(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(G(419)),n=_m(s,n,void 0),fu(e,t,a,n)}if(l=(a&e.childLanes)!==0,sr||l){if(n=Nt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),cn(n,e,i,-1))}return Cy(),n=_m(Error(G(421))),fu(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=X6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yr=Ci(i.nextSibling),vr=t,Ue=!0,rn=null,e!==null&&(Rr[Dr++]=Ln,Rr[Dr++]=Bn,Rr[Dr++]=Is,Ln=e.id,Bn=e.overflow,Is=t),t=Py(t,n.children),t.flags|=4096,t)}function Mw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rg(e.return,t,r)}function km(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function bk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Vt(e,t,n.children,r),n=Ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mw(e,r,t);else if(e.tag===19)Mw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(De(Ve,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&wd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),km(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}km(t,!0,r,null,s);break;case"together":km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Di(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Di(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L6(e,t,r){switch(t.tag){case 3:vk(t),Ka();break;case 5:q_(t);break;case 1:cr(t.type)&&pd(t);break;case 4:yy(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;De(vd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(De(Ve,Ve.current&1),t.flags|=128,null):r&t.child.childLanes?xk(e,t,r):(De(Ve,Ve.current&1),e=Yn(e,t,r),e!==null?e.sibling:null);De(Ve,Ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return bk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ve,Ve.current),n)break;return null;case 22:case 23:return t.lanes=0,gk(e,t,r)}return Yn(e,t,r)}var wk,ug,jk,Nk;wk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ug=function(){};jk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vs(wn.current);var s=null;switch(r){case"input":i=Tp(e,i),n=Tp(e,n),s=[];break;case"select":i=He({},i,{value:void 0}),n=He({},n,{value:void 0}),s=[];break;case"textarea":i=Dp(e,i),n=Dp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hd)}Ip(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Nk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Go(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function B6(e,t,r){var n=t.pendingProps;switch(uy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return cr(t.type)&&md(),Tt(t),null;case 3:return n=t.stateNode,Ha(),ze(lr),ze(Bt),xy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(vg(rn),rn=null))),ug(e,t),Tt(t),null;case 5:vy(t);var i=vs(Yl.current);if(r=t.type,e!==null&&t.stateNode!=null)jk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Tt(t),null}if(e=vs(wn.current),uu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[pn]=t,n[Hl]=s,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<dl.length;i++)Be(dl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Ub(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":Vb(n,s),Be("invalid",n)}Ip(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&cu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&cu(n.textContent,l,e),i=["children",""+l]):Il.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",n)}switch(r){case"input":tu(n),Wb(n,s,!0);break;case"textarea":tu(n),Kb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=hd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=JP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[pn]=t,e[Hl]=n,wk(e,t,!1,!1),t.stateNode=e;e:{switch(a=Lp(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<dl.length;i++)Be(dl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":Ub(e,n),i=Tp(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=He({},n,{value:void 0}),Be("invalid",e);break;case"textarea":Vb(e,n),i=Dp(e,n),Be("invalid",e);break;default:i=n}Ip(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?e_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&QP(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ll(e,c):typeof c=="number"&&Ll(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&Y0(e,s,c,a))}switch(r){case"input":tu(e),Wb(e,n,!1);break;case"textarea":tu(e),Kb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ma(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ma(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Nk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=vs(Yl.current),vs(wn.current),uu(t)){if(n=t.stateNode,r=t.memoizedProps,n[pn]=t,(s=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cu(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pn]=t,t.stateNode=n}return Tt(t),null;case 13:if(ze(Ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&yr!==null&&t.mode&1&&!(t.flags&128))z_(),Ka(),t.flags|=98560,s=!1;else if(s=uu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[pn]=t}else Ka(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else rn!==null&&(vg(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?dt===0&&(dt=3):Cy())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return Ha(),ug(e,t),e===null&&Kl(t.stateNode.containerInfo),Tt(t),null;case 10:return my(t.type._context),Tt(t),null;case 17:return cr(t.type)&&md(),Tt(t),null;case 19:if(ze(Ve),s=t.memoizedState,s===null)return Tt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Go(s,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=wd(e),a!==null){for(t.flags|=128,Go(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(Ve,Ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Ya&&(t.flags|=128,n=!0,Go(s,!1),t.lanes=4194304)}else{if(!n)if(e=wd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ue)return Tt(t),null}else 2*nt()-s.renderingStartTime>Ya&&r!==1073741824&&(t.flags|=128,n=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,r=Ve.current,De(Ve,n?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return Oy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function F6(e,t){switch(uy(t),t.tag){case 1:return cr(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(),ze(lr),ze(Bt),xy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vy(t),null;case 13:if(ze(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Ka()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ve),null;case 4:return Ha(),null;case 10:return my(t.type._context),null;case 22:case 23:return Oy(),null;case 24:return null;default:return null}}var hu=!1,Dt=!1,z6=typeof WeakSet=="function"?WeakSet:Set,se=null;function wa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Rw=!1;function U6(e,t){if(Gp=ud,e=A_(),ly(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yp={focusedElem:e,selectionRange:r},ud=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Zr(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return p=Rw,Rw=!1,p}function Nl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dg(t,r,s)}i=i.next}while(i!==n)}}function Tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Sk(e){var t=e.alternate;t!==null&&(e.alternate=null,Sk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[Hl],delete t[Qp],delete t[S6],delete t[P6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Pk(e){return e.tag===5||e.tag===3||e.tag===4}function Dw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Pk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hd));else if(n!==4&&(e=e.child,e!==null))for(hg(e,t,r),e=e.sibling;e!==null;)hg(e,t,r),e=e.sibling}function mg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}var _t=null,en=!1;function fi(e,t,r){for(r=r.child;r!==null;)_k(e,t,r),r=r.sibling}function _k(e,t,r){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:Dt||wa(r,t);case 6:var n=_t,i=en;_t=null,fi(e,t,r),_t=n,en=i,_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?bm(e.parentNode,r):e.nodeType===1&&bm(e,r),Ul(e)):bm(_t,r.stateNode));break;case 4:n=_t,i=en,_t=r.stateNode.containerInfo,en=!0,fi(e,t,r),_t=n,en=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dg(r,t,a),i=i.next}while(i!==n)}fi(e,t,r);break;case 1:if(!Dt&&(wa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}fi(e,t,r);break;case 21:fi(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,fi(e,t,r),Dt=n):fi(e,t,r);break;default:fi(e,t,r)}}function $w(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new z6),t.forEach(function(n){var i=J6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,en=!1;break e;case 3:_t=l.stateNode.containerInfo,en=!0;break e;case 4:_t=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(_t===null)throw Error(G(160));_k(s,a,i),_t=null,en=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kk(t,e),t=t.sibling}function kk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),hn(e),n&4){try{Nl(3,e,e.return),Tf(3,e)}catch(y){Qe(e,e.return,y)}try{Nl(5,e,e.return)}catch(y){Qe(e,e.return,y)}}break;case 1:Xr(t,e),hn(e),n&512&&r!==null&&wa(r,r.return);break;case 5:if(Xr(t,e),hn(e),n&512&&r!==null&&wa(r,r.return),e.flags&32){var i=e.stateNode;try{Ll(i,"")}catch(y){Qe(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&YP(i,s),Lp(l,a);var u=Lp(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?e_(i,f):d==="dangerouslySetInnerHTML"?QP(i,f):d==="children"?Ll(i,f):Y0(i,d,f,u)}switch(l){case"input":Mp(i,s);break;case"textarea":XP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ma(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ma(i,!!s.multiple,s.defaultValue,!0):Ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hl]=s}catch(y){Qe(e,e.return,y)}}break;case 6:if(Xr(t,e),hn(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Qe(e,e.return,y)}}break;case 3:if(Xr(t,e),hn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(t.containerInfo)}catch(y){Qe(e,e.return,y)}break;case 4:Xr(t,e),hn(e);break;case 13:Xr(t,e),hn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ay=nt())),n&4&&$w(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||d,Xr(t,e),Dt=u):Xr(t,e),hn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Nl(4,h,h.return);break;case 1:wa(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Qe(n,r,y)}}break;case 5:wa(h,h.return);break;case 22:if(h.memoizedState!==null){Lw(f);continue}}m!==null?(m.return=h,se=m):Lw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ZP("display",a))}catch(y){Qe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Qe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,e),hn(e),n&4&&$w(e);break;case 21:break;default:Xr(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Pk(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ll(i,""),n.flags&=-33);var s=Dw(e);mg(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Dw(e);hg(e,l,a);break;default:throw Error(G(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W6(e,t,r){se=e,Ak(e)}function Ak(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||hu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=hu;var u=Dt;if(hu=a,(Dt=c)&&!u)for(se=i;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?Bw(i):c!==null?(c.return=a,se=c):Bw(i);for(;s!==null;)se=s,Ak(s),s=s.sibling;se=i,hu=l,Dt=u}Iw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Iw(e)}}function Iw(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Tf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Zr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ww(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ww(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Dt||t.flags&512&&fg(t)}catch(h){Qe(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Lw(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Bw(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tf(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Qe(t,i,c)}}var s=t.return;try{fg(t)}catch(c){Qe(t,s,c)}break;case 5:var a=t.return;try{fg(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var V6=Math.ceil,Sd=ii.ReactCurrentDispatcher,_y=ii.ReactCurrentOwner,Br=ii.ReactCurrentBatchConfig,we=0,Nt=null,ot=null,At=0,pr=0,ja=qi(0),dt=0,Zl=null,Bs=0,Mf=0,ky=0,Sl=null,rr=null,Ay=0,Ya=1/0,Mn=null,Pd=!1,pg=null,Mi=null,mu=!1,ki=null,_d=0,Pl=0,gg=null,Yu=-1,Xu=0;function Gt(){return we&6?nt():Yu!==-1?Yu:Yu=nt()}function Ri(e){return e.mode&1?we&2&&At!==0?At&-At:k6.transition!==null?(Xu===0&&(Xu=f_()),Xu):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:x_(e.type)),e):1}function cn(e,t,r,n){if(50<Pl)throw Pl=0,gg=null,Error(G(185));bc(e,r,n),(!(we&2)||e!==Nt)&&(e===Nt&&(!(we&2)&&(Mf|=r),dt===4&&Ni(e,At)),ur(e,n),r===1&&we===0&&!(t.mode&1)&&(Ya=nt()+500,Ef&&Hi()))}function ur(e,t){var r=e.callbackNode;kD(e,t);var n=cd(e,e===Nt?At:0);if(n===0)r!==null&&Gb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gb(r),t===1)e.tag===0?_6(Fw.bind(null,e)):L_(Fw.bind(null,e)),j6(function(){!(we&6)&&Hi()}),r=null;else{switch(h_(n)){case 1:r=ey;break;case 4:r=u_;break;case 16:r=ld;break;case 536870912:r=d_;break;default:r=ld}r=$k(r,Ek.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ek(e,t){if(Yu=-1,Xu=0,we&6)throw Error(G(327));var r=e.callbackNode;if(La()&&e.callbackNode!==r)return null;var n=cd(e,e===Nt?At:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kd(e,n);else{t=n;var i=we;we|=2;var s=Ck();(Nt!==e||At!==t)&&(Mn=null,Ya=nt()+500,_s(e,t));do try{H6();break}catch(l){Ok(e,l)}while(!0);hy(),Sd.current=s,we=i,ot!==null?t=0:(Nt=null,At=0,t=dt)}if(t!==0){if(t===2&&(i=Wp(e),i!==0&&(n=i,t=yg(e,i))),t===1)throw r=Zl,_s(e,0),Ni(e,n),ur(e,nt()),r;if(t===6)Ni(e,n);else{if(i=e.current.alternate,!(n&30)&&!K6(i)&&(t=kd(e,n),t===2&&(s=Wp(e),s!==0&&(n=s,t=yg(e,s))),t===1))throw r=Zl,_s(e,0),Ni(e,n),ur(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:cs(e,rr,Mn);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=Ay+500-nt(),10<t)){if(cd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jp(cs.bind(null,e,rr,Mn),t);break}cs(e,rr,Mn);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-ln(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V6(n/1960))-n,10<n){e.timeoutHandle=Jp(cs.bind(null,e,rr,Mn),n);break}cs(e,rr,Mn);break;case 5:cs(e,rr,Mn);break;default:throw Error(G(329))}}}return ur(e,nt()),e.callbackNode===r?Ek.bind(null,e):null}function yg(e,t){var r=Sl;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=kd(e,t),e!==2&&(t=rr,rr=r,t!==null&&vg(t)),e}function vg(e){rr===null?rr=e:rr.push.apply(rr,e)}function K6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~ky,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ln(t),n=1<<r;e[r]=-1,t&=~n}}function Fw(e){if(we&6)throw Error(G(327));La();var t=cd(e,0);if(!(t&1))return ur(e,nt()),null;var r=kd(e,t);if(e.tag!==0&&r===2){var n=Wp(e);n!==0&&(t=n,r=yg(e,n))}if(r===1)throw r=Zl,_s(e,0),Ni(e,t),ur(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,rr,Mn),ur(e,nt()),null}function Ey(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Ya=nt()+500,Ef&&Hi())}}function Fs(e){ki!==null&&ki.tag===0&&!(we&6)&&La();var t=we;we|=1;var r=Br.transition,n=Ae;try{if(Br.transition=null,Ae=1,e)return e()}finally{Ae=n,Br.transition=r,we=t,!(we&6)&&Hi()}}function Oy(){pr=ja.current,ze(ja)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,w6(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(uy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&md();break;case 3:Ha(),ze(lr),ze(Bt),xy();break;case 5:vy(n);break;case 4:Ha();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:my(n.type._context);break;case 22:case 23:Oy()}r=r.return}if(Nt=e,ot=e=Di(e.current,null),At=pr=t,dt=0,Zl=null,ky=Mf=Bs=0,rr=Sl=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ys=null}return e}function Ok(e,t){do{var r=ot;try{if(hy(),qu.current=Nd,jd){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jd=!1}if(Ls=0,xt=ut=qe=null,jl=!1,Xl=0,_y.current=null,r===null||r.return===null){dt=1,Zl=t,ot=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kw(a);if(m!==null){m.flags&=-257,Aw(m,a,l,s,t),m.mode&1&&_w(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){_w(s,u,t),Cy();break e}c=Error(G(426))}}else if(Ue&&l.mode&1){var w=kw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Aw(w,a,l,s,t),dy(Ga(c,l));break e}}s=c=Ga(c,l),dt!==4&&(dt=2),Sl===null?Sl=[s]:Sl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=hk(s,c,t);bw(s,g);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Mi===null||!Mi.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=mk(s,l,t);bw(s,j);break e}}s=s.return}while(s!==null)}Mk(r)}catch(N){t=N,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Ck(){var e=Sd.current;return Sd.current=Nd,e===null?Nd:e}function Cy(){(dt===0||dt===3||dt===2)&&(dt=4),Nt===null||!(Bs&268435455)&&!(Mf&268435455)||Ni(Nt,At)}function kd(e,t){var r=we;we|=2;var n=Ck();(Nt!==e||At!==t)&&(Mn=null,_s(e,t));do try{q6();break}catch(i){Ok(e,i)}while(!0);if(hy(),we=r,Sd.current=n,ot!==null)throw Error(G(261));return Nt=null,At=0,dt}function q6(){for(;ot!==null;)Tk(ot)}function H6(){for(;ot!==null&&!vD();)Tk(ot)}function Tk(e){var t=Dk(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?Mk(e):ot=t,_y.current=null}function Mk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=F6(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ot=null;return}}else if(r=B6(r,t,pr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);dt===0&&(dt=5)}function cs(e,t,r){var n=Ae,i=Br.transition;try{Br.transition=null,Ae=1,G6(e,t,r,n)}finally{Br.transition=i,Ae=n}return null}function G6(e,t,r,n){do La();while(ki!==null);if(we&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(AD(e,s),e===Nt&&(ot=Nt=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mu||(mu=!0,$k(ld,function(){return La(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var a=Ae;Ae=1;var l=we;we|=4,_y.current=null,U6(e,r),kk(r,e),m6(Yp),ud=!!Gp,Yp=Gp=null,e.current=r,W6(r),xD(),we=l,Ae=a,Br.transition=s}else e.current=r;if(mu&&(mu=!1,ki=e,_d=i),s=e.pendingLanes,s===0&&(Mi=null),jD(r.stateNode),ur(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,e=pg,pg=null,e;return _d&1&&e.tag!==0&&La(),s=e.pendingLanes,s&1?e===gg?Pl++:(Pl=0,gg=e):Pl=0,Hi(),null}function La(){if(ki!==null){var e=h_(_d),t=Br.transition,r=Ae;try{if(Br.transition=null,Ae=16>e?16:e,ki===null)var n=!1;else{if(e=ki,ki=null,_d=0,we&6)throw Error(G(331));var i=we;for(we|=4,se=e.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Nl(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(Sk(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,se=g;break e}se=s.return}}var v=e.current;for(se=v;se!==null;){a=se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,se=b;else e:for(a=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tf(9,l)}}catch(N){Qe(l,l.return,N)}if(l===a){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(we=i,Hi(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Sf,e)}catch{}n=!0}return n}finally{Ae=r,Br.transition=t}}return!1}function zw(e,t,r){t=Ga(r,t),t=hk(e,t,1),e=Ti(e,t,1),t=Gt(),e!==null&&(bc(e,1,t),ur(e,t))}function Qe(e,t,r){if(e.tag===3)zw(e,e,r);else for(;t!==null;){if(t.tag===3){zw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mi===null||!Mi.has(n))){e=Ga(r,e),e=mk(t,e,1),t=Ti(t,e,1),e=Gt(),t!==null&&(bc(t,1,e),ur(t,e));break}}t=t.return}}function Y6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(At&r)===r&&(dt===4||dt===3&&(At&130023424)===At&&500>nt()-Ay?_s(e,0):ky|=r),ur(e,t)}function Rk(e,t){t===0&&(e.mode&1?(t=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):t=1);var r=Gt();e=Gn(e,t),e!==null&&(bc(e,t,r),ur(e,r))}function X6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Rk(e,r)}function J6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Rk(e,r)}var Dk;Dk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sr=!1,L6(e,t,r);sr=!!(e.flags&131072)}else sr=!1,Ue&&t.flags&1048576&&B_(t,yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gu(e,t),e=t.pendingProps;var i=Va(t,Bt.current);Ia(t,r),i=wy(null,t,n,e,i,r);var s=jy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(n)?(s=!0,pd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,gy(t),i.updater=Cf,t.stateNode=i,i._reactInternals=t,ig(t,n,e,r),t=og(null,t,n,!0,s,r)):(t.tag=0,Ue&&s&&cy(t),Vt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Z6(n),e=Zr(n,e),i){case 0:t=ag(null,t,n,e,r);break e;case 1:t=Cw(null,t,n,e,r);break e;case 11:t=Ew(null,t,n,e,r);break e;case 14:t=Ow(null,t,n,Zr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),ag(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Cw(e,t,n,i,r);case 3:e:{if(vk(t),e===null)throw Error(G(387));n=t.pendingProps,s=t.memoizedState,i=s.element,K_(e,t),bd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ga(Error(G(423)),t),t=Tw(e,t,n,r,i);break e}else if(n!==i){i=Ga(Error(G(424)),t),t=Tw(e,t,n,r,i);break e}else for(yr=Ci(t.stateNode.containerInfo.firstChild),vr=t,Ue=!0,rn=null,r=W_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ka(),n===i){t=Yn(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return q_(t),e===null&&tg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Xp(n,i)?a=null:s!==null&&Xp(n,s)&&(t.flags|=32),yk(e,t),Vt(e,t,a,r),t.child;case 6:return e===null&&tg(t),null;case 13:return xk(e,t,r);case 4:return yy(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qa(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Ew(e,t,n,i,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,De(vd,n._currentValue),n._currentValue=a,s!==null)if(un(s.value,a)){if(s.children===i.children&&!lr.current){t=Yn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Un(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),rg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(G(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),rg(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ia(t,r),i=zr(i),n=n(i),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,i=Zr(n,t.pendingProps),i=Zr(n.type,i),Ow(e,t,n,i,r);case 15:return pk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Gu(e,t),t.tag=1,cr(n)?(e=!0,pd(t)):e=!1,Ia(t,r),fk(t,n,i),ig(t,n,i,r),og(null,t,n,!0,e,r);case 19:return bk(e,t,r);case 22:return gk(e,t,r)}throw Error(G(156,t.tag))};function $k(e,t){return c_(e,t)}function Q6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new Q6(e,t,r,n)}function Ty(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z6(e){if(typeof e=="function")return Ty(e)?1:0;if(e!=null){if(e=e.$$typeof,e===J0)return 11;if(e===Q0)return 14}return 2}function Di(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")Ty(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case fa:return ks(r.children,i,s,t);case X0:a=8,i|=8;break;case Ap:return e=Ir(12,r,t,i|2),e.elementType=Ap,e.lanes=s,e;case Ep:return e=Ir(13,r,t,i),e.elementType=Ep,e.lanes=s,e;case Op:return e=Ir(19,r,t,i),e.elementType=Op,e.lanes=s,e;case qP:return Rf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case VP:a=10;break e;case KP:a=9;break e;case J0:a=11;break e;case Q0:a=14;break e;case xi:a=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ir(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ks(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function Rf(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=qP,e.lanes=r,e.stateNode={isHidden:!1},e}function Am(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function Em(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function My(e,t,r,n,i,s,a,l,c){return e=new e$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ir(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},gy(s),e}function t$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:da,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ik(e){if(!e)return Fi;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(cr(r))return I_(e,r,t)}return t}function Lk(e,t,r,n,i,s,a,l,c){return e=My(r,n,!0,e,i,s,a,l,c),e.context=Ik(null),r=e.current,n=Gt(),i=Ri(r),s=Un(n,i),s.callback=t??null,Ti(r,s,i),e.current.lanes=i,bc(e,i,n),ur(e,n),e}function Df(e,t,r,n){var i=t.current,s=Gt(),a=Ri(i);return r=Ik(r),t.context===null?t.context=r:t.pendingContext=r,t=Un(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ti(i,t,a),e!==null&&(cn(e,i,a,s),Ku(e,i,a)),a}function Ad(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Ry(e,t){Uw(e,t),(e=e.alternate)&&Uw(e,t)}function r$(){return null}var Bk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Dy(e){this._internalRoot=e}$f.prototype.render=Dy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Df(e,t,null,null)};$f.prototype.unmount=Dy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Df(null,e,null,null)}),t[Hn]=null}};function $f(e){this._internalRoot=e}$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=g_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ji.length&&t!==0&&t<ji[r].priority;r++);ji.splice(r,0,e),r===0&&v_(e)}};function $y(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function n$(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Ad(a);s.call(u)}}var a=Lk(t,n,e,0,null,!1,!1,"",Ww);return e._reactRootContainer=a,e[Hn]=a.current,Kl(e.nodeType===8?e.parentNode:e),Fs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Ad(c);l.call(u)}}var c=My(e,0,!1,null,null,!1,!1,"",Ww);return e._reactRootContainer=c,e[Hn]=c.current,Kl(e.nodeType===8?e.parentNode:e),Fs(function(){Df(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Ad(a);l.call(c)}}Df(t,a,e,i)}else a=n$(r,t,e,i,n);return Ad(a)}m_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ul(t.pendingLanes);r!==0&&(ty(t,r|1),ur(t,nt()),!(we&6)&&(Ya=nt()+500,Hi()))}break;case 13:Fs(function(){var n=Gn(e,1);if(n!==null){var i=Gt();cn(n,e,1,i)}}),Ry(e,1)}};ry=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Gt();cn(t,e,134217728,r)}Ry(e,134217728)}};p_=function(e){if(e.tag===13){var t=Ri(e),r=Gn(e,t);if(r!==null){var n=Gt();cn(r,e,t,n)}Ry(e,t)}};g_=function(){return Ae};y_=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Fp=function(e,t,r){switch(t){case"input":if(Mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Af(n);if(!i)throw Error(G(90));GP(n),Mp(n,i)}}}break;case"textarea":XP(e,r);break;case"select":t=r.value,t!=null&&Ma(e,!!r.multiple,t,!1)}};n_=Ey;i_=Fs;var i$={usingClientEntryPoint:!1,Events:[jc,ga,Af,t_,r_,Ey]},Yo={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s$={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=o_(e),e===null?null:e.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||r$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Sf=pu.inject(s$),bn=pu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$y(t))throw Error(G(200));return t$(e,t,null,r)};Pr.createRoot=function(e,t){if(!$y(e))throw Error(G(299));var r=!1,n="",i=Bk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=My(e,1,!1,null,null,r,!1,n,i),e[Hn]=t.current,Kl(e.nodeType===8?e.parentNode:e),new Dy(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=o_(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Fs(e)};Pr.hydrate=function(e,t,r){if(!If(t))throw Error(G(200));return Lf(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!$y(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Bk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Lk(t,null,e,1,r??null,i,!1,s,a),e[Hn]=t.current,Kl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $f(t)};Pr.render=function(e,t,r){if(!If(t))throw Error(G(200));return Lf(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!If(e))throw Error(G(40));return e._reactRootContainer?(Fs(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Pr.unstable_batchedUpdates=Ey;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!If(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Lf(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function Fk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fk)}catch(e){console.error(e)}}Fk(),FP.exports=Pr;var zk=FP.exports,Uk,Vw=zk;Uk=Vw.createRoot,Vw.hydrateRoot;const a$="modulepreload",o$=function(e){return"/"+e},Kw={},Sc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=o$(c),c in Kw)return;Kw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":a$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},l$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Iy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class c$ extends Iy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class qw extends Iy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Hw extends Iy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xg||(xg={}));var u$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class d${constructor(t,{headers:r={},customFetch:n,region:i=xg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=l$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return u$(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(y=>{throw new c$(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new qw(f);if(!f.ok)throw new Hw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Hw||i instanceof qw?i.context:void 0}}})}}var nr={},Ly={},Bf={},Pc={},Ff={},zf={},f$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xa=f$();const h$=Xa.fetch,Wk=Xa.fetch.bind(Xa),Vk=Xa.Headers,m$=Xa.Request,p$=Xa.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Vk,Request:m$,Response:p$,default:Wk,fetch:h$},Symbol.toStringTag,{value:"Module"})),g$=MR(vo);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let y$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=y$;var Kk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const v$=Kk(g$),x$=Kk(Uf);let b$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=v$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await s.text();try{u=JSON.parse(y),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new x$.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};zf.default=b$;var w$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ff,"__esModule",{value:!0});const j$=w$(zf);let N$=class extends j$.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=N$;var S$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pc,"__esModule",{value:!0});const P$=S$(Ff);let _$=class extends P$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Pc.default=_$;var k$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const Xo=k$(Pc);let A$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Xo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bf.default=A$;var Wf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.version=void 0;Vf.version="0.0.0-automated";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.DEFAULT_HEADERS=void 0;const E$=Vf;Wf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E$.version}`};var qk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ly,"__esModule",{value:!0});const O$=qk(Bf),C$=qk(Pc),T$=Wf;let M$=class Hk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},T$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new O$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Hk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new C$.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ly.default=M$;var xo=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const Gk=xo(Ly);nr.PostgrestClient=Gk.default;const Yk=xo(Bf);nr.PostgrestQueryBuilder=Yk.default;const Xk=xo(Pc);nr.PostgrestFilterBuilder=Xk.default;const Jk=xo(Ff);nr.PostgrestTransformBuilder=Jk.default;const Qk=xo(zf);nr.PostgrestBuilder=Qk.default;const Zk=xo(Uf);nr.PostgrestError=Zk.default;var R$=nr.default={PostgrestClient:Gk.default,PostgrestQueryBuilder:Yk.default,PostgrestFilterBuilder:Xk.default,PostgrestTransformBuilder:Jk.default,PostgrestBuilder:Qk.default,PostgrestError:Zk.default};const{PostgrestClient:D$,PostgrestQueryBuilder:dre,PostgrestFilterBuilder:fre,PostgrestTransformBuilder:hre,PostgrestBuilder:mre,PostgrestError:pre}=R$;function $$(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const I$=$$(),L$="2.11.15",B$=`realtime-js/${L$}`,F$="1.0.0",e2=1e4,z$=1e3;var _l;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_l||(_l={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var bg;(function(e){e.websocket="websocket"})(bg||(bg={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class U${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class t2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const Gw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=W$(a,e,t,i),s),{})},W$=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?r2(s,a):wg(a)},r2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return H$(t,r)}switch(e){case Me.bool:return V$(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return K$(t);case Me.json:case Me.jsonb:return q$(t);case Me.timestamp:return G$(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return wg(t);default:return wg(t)}},wg=e=>e,V$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},q$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},H$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>r2(t,l))}return e},G$=e=>typeof e=="string"?e.replace(" ","T"):e,n2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Om{constructor(t,r,n={},i=e2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yw||(Yw={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=kl.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xw||(Xw={}));var Jw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jw||(Jw={}));var Rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class By{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Om(this,tn.join,this.params,this.timeout),this.rejoinTimer=new t2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new kl(this),this.broadcastEndpointURL=n2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Rn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Rn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let y=0;y<m;y++){const w=h[y],{filter:{event:g,schema:v,table:b,filter:j}}=w,N=d&&d[y];if(N&&N.event===g&&N.schema===v&&N.table===b&&N.filter===j)p.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=Mt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Rn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Mt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Om(this,tn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Om(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,y,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var p,y,w,g,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,N=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:w,commit_timestamp:g,type:v,errors:b}=p;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&By.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gw(t.columns,t.old_record)),r}}const Qw=()=>{},Y$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qw,this.ref=0,this.logger=Qw,this.conn=null,this.sendBuffer=[],this.serializer=new U$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Sc(async()=>{const{default:c}=await Promise.resolve().then(()=>vo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${bg.websocket}`,this.httpEndpoint=n2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new t2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=I$),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:F$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _l.connecting:return ps.Connecting;case _l.open:return ps.Open;case _l.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new By(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:B$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(tn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(z$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Y$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Fy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class J$ extends Fy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jg extends Fy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Q$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const i2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z$=()=>Q$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sc(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response}),Ng=e=>{if(Array.isArray(e))return e.map(r=>Ng(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ng(n)}),t},e3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ys=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t3=(e,t,r)=>Ys(void 0,void 0,void 0,function*(){const n=yield Z$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new J$(Cm(i),s,a))}).catch(i=>{t(new jg(Cm(i),i))}):t(new jg(Cm(e),e))}),r3=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(e3(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function _c(e,t,r,n,i,s){return Ys(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,r3(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>t3(c,l,n))})})}function Ed(e,t,r,n){return Ys(this,void 0,void 0,function*(){return _c(e,"GET",t,r,n)})}function Dn(e,t,r,n,i){return Ys(this,void 0,void 0,function*(){return _c(e,"POST",t,n,i,r)})}function Sg(e,t,r,n,i){return Ys(this,void 0,void 0,function*(){return _c(e,"PUT",t,n,i,r)})}function n3(e,t,r,n){return Ys(this,void 0,void 0,function*(){return _c(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function s2(e,t,r,n,i){return Ys(this,void 0,void 0,function*(){return _c(e,"DELETE",t,n,i,r)})}var Zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const i3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class s3{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=i2(i)}uploadOrUpdate(t,r,n,i){return Zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Zw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Sg:Dn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zw.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Sg(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Fy("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Dn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}download(t,r){return Zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ed(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}info(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ed(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ng(n),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}exists(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield n3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gt(n)&&n instanceof jg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield s2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},i3),r),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const a3="2.10.4",o3={"X-Client-Info":`storage-js/${a3}`};var ra=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class l3{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},o3),r),this.fetch=i2(n)}listBuckets(){return ra(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}})}getBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Ed(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ra(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ra(this,void 0,void 0,function*(){try{return{data:yield Sg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ra(this,void 0,void 0,function*(){try{return{data:yield s2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}}class c3 extends l3{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new s3(this.url,this.headers,t,this.fetch)}}const u3="2.53.0";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const d3={"X-Client-Info":`supabase-js-${fl}/${u3}`},f3={headers:d3},h3={schema:"public"},m3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},p3={};var g3=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const y3=e=>{let t;return e?t=e:typeof fetch>"u"?t=Wk:t=fetch,(...r)=>t(...r)},v3=()=>typeof Headers>"u"?Vk:Headers,x3=(e,t,r)=>{const n=y3(r),i=v3();return(s,a)=>g3(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var b3=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function w3(e){return e.endsWith("/")?e:e+"/"}function j3(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>b3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const a2="2.71.1",ca=30*1e3,Pg=3,Tm=Pg*ca,N3="http://localhost:9999",S3="supabase.auth.token",P3={"X-Client-Info":`gotrue-js/${a2}`},_g="X-Supabase-Api-Version",o2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,k3=10*60*1e3;class zy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class A3 extends zy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function E3(e){return fe(e)&&e.name==="AuthApiError"}class l2 extends zy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gi extends zy{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class gi extends Gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function O3(e){return fe(e)&&e.name==="AuthSessionMissingError"}class gu extends Gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yu extends Gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vu extends Gi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function C3(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class e1 extends Gi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kg extends Gi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mm(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class t1 extends Gi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ag extends Gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Od="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r1=` 	
\r=`.split(""),T3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r1.length;t+=1)e[r1[t].charCodeAt(0)]=-2;for(let t=0;t<Od.length;t+=1)e[Od[t].charCodeAt(0)]=t;return e})();function n1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Od[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Od[n]),t.queuedBits-=6}}function c2(e,t,r){const n=T3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function i1(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{D3(a,n,r)};for(let a=0;a<e.length;a+=1)c2(e.charCodeAt(a),i,s);return t.join("")}function M3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function R3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}M3(n,t)}}function D3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $3(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)c2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function I3(e){const t=[];return R3(e,r=>t.push(r)),new Uint8Array(t)}function L3(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>n1(i,r,n)),n1(null,r,n),t.join("")}function B3(e){return Math.round(Date.now()/1e3)+e}function F3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},u2=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function z3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const d2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},U3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ua=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},as=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hi=async(e,t)=>{await e.removeItem(t)};class Kf{constructor(){this.promise=new Kf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kf.promiseConstructor=Promise;function Rm(e){const t=e.split(".");if(t.length!==3)throw new Ag("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_3.test(t[n]))throw new Ag("JWT not in base64url format");return{header:JSON.parse(i1(t[0])),payload:JSON.parse(i1(t[1])),signature:$3(t[2]),raw:{header:t[0],payload:t[1]}}}async function W3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function V3(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function K3(e){return("0"+e.toString(16)).substr(-2)}function q3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,K3).join("")}async function H3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function G3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await H3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function na(e,t,r=!1){const n=q3();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ua(e,`${t}-code-verifier`,i);const s=await G3(n);return[s,n===s?"plain":"s256"]}const Y3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function X3(e){const t=e.headers.get(_g);if(!t||!t.match(Y3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function J3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Q3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Z3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(e){if(!Z3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s1(e){return JSON.parse(JSON.stringify(e))}var eI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tI=[502,503,504];async function a1(e){var t;if(!U3(e))throw new kg(us(e),0);if(tI.includes(e.status))throw new kg(us(e),e.status);let r;try{r=await e.json()}catch(s){throw new l2(us(s),s)}let n;const i=X3(e);if(i&&i.getTime()>=o2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new t1(us(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new t1(us(r),e.status,r.weak_password.reasons);throw new A3(us(r),e.status||500,n)}const rI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ye(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[_g]||(s[_g]=o2["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await nI(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nI(e,t,r,n,i,s){const a=rI(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new kg(us(c),0)}if(l.ok||await a1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await a1(c)}}function Tn(e){var t;let r=null;oI(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=B3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function o1(e){const t=Tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Si(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iI(e){return{data:e,error:null}}function sI(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=eI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function aI(e){return e}function oI(e){return e.access_token&&e.refresh_token&&e.expires_in}const $m=["global","local","others"];var lI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class cI{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=d2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=$m[0]){if($m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$m.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Si})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lI(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sI,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Si})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:aI});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ia(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Si})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ia(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Si})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ia(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Si})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ia(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ia(t.userId),ia(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function l1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function uI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sa={debug:!!(globalThis&&u2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class f2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dI extends f2{}async function fI(e,t,r){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}uI();const hI={url:N3,storageKey:S3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function c1(e,t,r){return await r()}const aa={};class ec{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ec.nextInstanceID,ec.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hI),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cI({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=d2(i.fetch),this.lock=i.lock||c1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fI:this.lock=c1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:u2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=l1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=l1(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=aa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=aa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){aa[this.storageKey]=Object.assign(Object.assign({},aa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=z3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),C3(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new l2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await na(this.storage,this.storageKey)),s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Tn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new yu("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:o1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:o1})}else throw new yu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:w,wallet:g,statement:v,options:b}=t;let j;if(Jr())if(typeof g=="object")j=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)p=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=S}}try{const{data:w,error:g}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:L3(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tn});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new gu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tn});if(await hi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new gu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await na(this.storage,this.storageKey));const{error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new yu("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Tn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await na(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:iI})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gi;const{error:i}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new yu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await as(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Dm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Si}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Si})})}catch(r){if(fe(r))return O3(r)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new gi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await na(this.storage,this.storageKey));const{data:u,error:d}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Si});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Rm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new e1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new e1("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new vu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ca&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:y,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(E3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=F3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await na(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await V3(async i=>(i>0&&await W3(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Mm(s)&&Date.now()+a-n<ca})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let a=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ua(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Dm()}else if(i&&!i.user&&!i.user){const a=await as(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await hi(this.storage,this.storageKey+"-user"),await ua(this.storage,this.storageKey,i)):i.user=Dm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Tm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Mm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new gi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),fe(s)){const a={session:null,error:s};return Mm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ua(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=s1(i);await ua(this.storage,this.storageKey,s)}else{const i=s1(r);await ua(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await hi(this.storage,this.storageKey+"-code-verifier"),await hi(this.storage,this.storageKey+"-user"),this.userStorage&&await hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ca);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ca);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ca}ms, refresh threshold is ${Pg} ticks`),i<=Pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof f2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await na(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+k3>i)return n;const{data:s,error:a}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Rm(n);r!=null&&r.allowExpired||J3(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=Q3(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,I3(`${l}.${c}`)))throw new Ag("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}ec.nextInstanceID=0;const mI=ec;class pI extends mI{constructor(t){super(t)}}var gI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class yI{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=w3(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:h3,realtime:p3,auth:Object.assign(Object.assign({},m3),{storageKey:u}),global:f3},f=j3(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=x3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new D$(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new c3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new d$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return gI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pI({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new X$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vI=(e,t,r)=>new yI(e,t,r);function xI(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bI="https://eymxpphofhhfeuvaqfad.supabase.co",wI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",J=vI(bI,wI),h2=x.createContext(void 0);function jI({children:e}){const[t,r]=x.useState(null),[n,i]=x.useState(!1);x.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await J.auth.getSession();if(u!=null&&u.user){const{data:d}=await J.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await J.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:p}=await J.auth.signInWithPassword({email:h.email,password:u});return p?(console.error("❌ SUPABASE AUTH ERROR:",p.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,p,y;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await J.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:g,error:v}=await J.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error("❌ SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=g.user)==null?void 0:h.id,email:(m=g.user)==null?void 0:m.email,email_confirmed:(p=g.user)==null?void 0:p.email_confirmed_at,user_metadata:(y=g.user)==null?void 0:y.user_metadata}),g.user){const{error:b}=await J.from("profiles").insert({id:g.user.id,username:c,email:u,role:f});b?console.error("❌ PROFILE CREATION ERROR:",b.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await J.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),console.log("✅ LOGOUT: User state cleared - Back to guest mode"),window.location.reload()}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),window.location.reload()}};return o.jsx(h2.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function Ft(){const e=x.useContext(h2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const m2=x.createContext(void 0);function NI({children:e}){const[t,r]=x.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(m2.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Yi(){const e=x.useContext(m2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...SI,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${PI(e)}`,l].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ce("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ce("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=ce("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=ce("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ce("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=ce("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wy=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ce("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=ce("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=ce("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function VI({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=x.useState(""),[i,s]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[p,y]=x.useState(""),[w,g]=x.useState(!1),[v,b]=x.useState(!1),{signup:j}=Ft(),N=async S=>{if(S.preventDefault(),g(!0),y(""),b(!1),a!==c){y("Passwords do not match."),g(!1);return}if(a.length<6){y("Password must be at least 6 characters long."),g(!1);return}if(r.trim().length<3){y("Username must be at least 3 characters long."),g(!1);return}if(!i.trim()||!i.includes("@")){y("Please enter a valid email address."),g(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){y("Username can only contain letters, numbers, hyphens, and underscores."),g(!1);return}await j(r.trim(),i.trim(),a,"user")?b(!0):y("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),g(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-space-grotesk",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"primary-button w-full",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(qf,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:S=>n(S.target.value),className:"input-field w-full",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:S=>s(S.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:S=>l(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?o.jsx(Eg,{size:20}):o.jsx(jn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:S=>u(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h?o.jsx(Eg,{size:20}):o.jsx(jn,{size:20})})]})]}),p&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md font-inter",children:p}),o.jsx("button",{type:"submit",disabled:w,className:"primary-button w-full disabled:opacity-50",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"secondary-button w-full",children:"Back to Login"})})]})}function x2({onLoginSuccess:e}){const[t,r]=x.useState(""),[n,i]=x.useState(""),[s,a]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState("login"),[m,p]=x.useState(!1),[y,w]=x.useState(""),[g,v]=x.useState(!1),[b,j]=x.useState(""),{login:N}=Ft(),S=async A=>{A.preventDefault(),d(!0),c(""),await N(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async A=>{A.preventDefault(),v(!0),j("");try{const{error:R}=await J.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});if(R)throw R;j("Password reset email sent! Check your inbox for further instructions.")}catch(R){j(`Error: ${R.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(VI,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(qf,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:y,onChange:A=>w(A.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),b&&o.jsx("div",{className:`text-sm font-inter text-center p-3 rounded-md ${b.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:b}),o.jsx("button",{type:"submit",disabled:g,className:"primary-button w-full disabled:opacity-50 text-center",children:g?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>p(!1),className:"secondary-button w-full text-center",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:A=>r(A.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:A=>i(A.target.value),className:"input-field w-full pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?o.jsx(Eg,{size:20}):o.jsx(jn,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-inter",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"primary-button w-full disabled:opacity-50 text-center",children:u?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const KI=[{id:"dashboard",label:"Dashboard",icon:o.jsx(TI,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(bt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx($i,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(Wn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(hl,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(Et,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(Et,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"match-tracker",label:"Match Tracker",icon:o.jsx(zi,{size:20}),roles:["technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(v2,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(Et,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(Wn,{size:20}),roles:["developer"]}];function qI({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=Ft(),[a,l]=on.useState(!1),c=KI.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return x.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),x.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"}),o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Beyblade Community"})]})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(wt,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(y2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(g2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(x2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(wt,{size:16})})]})})]})]})}const Vy=x.createContext({});function wo(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ky=typeof window<"u",Yf=Ky?x.useLayoutEffect:x.useEffect,Xf=x.createContext(null);function qy(e,t){e.indexOf(t)===-1&&e.push(t)}function Hy(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const An=(e,t,r)=>r>t?t:r<e?e:r;let Qa=()=>{};const Xn={},b2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function w2(e){return typeof e=="object"&&e!==null}const j2=e=>/^0[^.\s]+$/u.test(e);function Gy(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,HI=(e,t)=>r=>t(e(r)),Ec=(...e)=>e.reduce(HI),Za=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Yy{constructor(){this.subscriptions=[]}add(t){return qy(this.subscriptions,t),()=>Hy(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nn=e=>e*1e3,Sn=e=>e/1e3;function Xy(e,t){return t?e*(1e3/t):0}const N2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,GI=1e-7,YI=12;function XI(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=N2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>GI&&++l<YI);return a}function Oc(e,t,r,n){if(e===t&&r===n)return dr;const i=s=>XI(s,0,1,e,r);return s=>s===0||s===1?s:N2(i(s),t,n)}const S2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,P2=e=>t=>1-e(1-t),_2=Oc(.33,1.53,.69,.99),Jy=P2(_2),k2=S2(Jy),A2=e=>(e*=2)<1?.5*Jy(e):.5*(2-Math.pow(2,-10*(e-1))),Qy=e=>1-Math.sin(Math.acos(e)),E2=P2(Qy),O2=S2(Qy),JI=Oc(.42,0,1,1),QI=Oc(0,0,.58,1),C2=Oc(.42,0,.58,1),ZI=e=>Array.isArray(e)&&typeof e[0]!="number",T2=e=>Array.isArray(e)&&typeof e[0]=="number",h1={linear:dr,easeIn:JI,easeInOut:C2,easeOut:QI,circIn:Qy,circInOut:O2,circOut:E2,backIn:Jy,backInOut:k2,backOut:_2,anticipate:A2},eL=e=>typeof e=="string",m1=e=>{if(T2(e)){Qa(e.length===4);const[t,r,n,i]=e;return Oc(t,r,n,i)}else if(eL(e))return Qa(h1[e]!==void 0),h1[e];return e},xu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],p1={value:null,addProjectionMetrics:null};function tL(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const y=m&&i?r:n;return h&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&p1.value&&p1.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const rL=40;function M2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=xu.reduce((b,j)=>(b[j]=tL(s,t?j:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,y=()=>{const b=Xn.useManualTiming?i.timestamp:performance.now();r=!1,Xn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,rL),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(y))},w=()=>{r=!0,n=!0,i.isProcessing||e(y)};return{schedule:xu.reduce((b,j)=>{const N=a[j];return b[j]=(S,P=!1,A=!1)=>(r||w(),N.schedule(S,P,A)),b},{}),cancel:b=>{for(let j=0;j<xu.length;j++)a[xu[j]].cancel(b)},state:i,steps:a}}const{schedule:ke,cancel:dn,state:yt,steps:Im}=M2(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let Qu;function nL(){Qu=void 0}const ar={now:()=>(Qu===void 0&&ar.set(yt.isProcessing||Xn.useManualTiming?yt.timestamp:performance.now()),Qu),set:e=>{Qu=e,queueMicrotask(nL)}},R2=e=>t=>typeof t=="string"&&t.startsWith(e),Zy=R2("--"),iL=R2("var(--"),ev=e=>iL(e)?sL.test(e.split("/*")[0].trim()):!1,sL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rc={...jo,transform:e=>An(0,1,e)},bu={...jo,default:1},Al=e=>Math.round(e*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function aL(e){return e==null}const oL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rv=(e,t)=>r=>!!(typeof r=="string"&&oL.test(r)&&r.startsWith(e)||t&&!aL(r)&&Object.prototype.hasOwnProperty.call(r,t)),D2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(tv);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},lL=e=>An(0,255,e),Lm={...jo,transform:e=>Math.round(lL(e))},xs={test:rv("rgb","red"),parse:D2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Lm.transform(e)+", "+Lm.transform(t)+", "+Lm.transform(r)+", "+Al(rc.transform(n))+")"};function cL(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Og={test:rv("#"),parse:cL,transform:xs.transform},Cc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yi=Cc("deg"),Pn=Cc("%"),ue=Cc("px"),uL=Cc("vh"),dL=Cc("vw"),g1={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},Na={test:rv("hsl","hue"),parse:D2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pn.transform(Al(t))+", "+Pn.transform(Al(r))+", "+Al(rc.transform(n))+")"},at={test:e=>xs.test(e)||Og.test(e)||Na.test(e),parse:e=>xs.test(e)?xs.parse(e):Na.test(e)?Na.parse(e):Og.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xs.transform(e):Na.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},fL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hL(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(tv))==null?void 0:t.length)||0)+(((r=e.match(fL))==null?void 0:r.length)||0)>0}const $2="number",I2="color",mL="var",pL="var(",y1="${}",gL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(gL,c=>(at.test(c)?(n.color.push(s),i.push(I2),r.push(at.parse(c))):c.startsWith(pL)?(n.var.push(s),i.push(mL),r.push(c)):(n.number.push(s),i.push($2),r.push(parseFloat(c))),++s,y1)).split(y1);return{values:r,split:l,indexes:n,types:i}}function L2(e){return nc(e).values}function B2(e){const{split:t,types:r}=nc(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===$2?s+=Al(i[a]):l===I2?s+=at.transform(i[a]):s+=i[a]}return s}}const yL=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function vL(e){const t=L2(e);return B2(e)(t.map(yL))}const Ui={test:hL,parse:L2,createTransformer:B2,getAnimatableNone:vL};function Bm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function xL({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Bm(c,l,e+1/3),s=Bm(c,l,e),a=Bm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Md(e,t){return r=>r>0?t:e}const Ke=(e,t,r)=>e+(t-e)*r,Fm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},bL=[Og,xs,Na],wL=e=>bL.find(t=>t.test(e));function v1(e){const t=wL(e);if(!t)return!1;let r=t.parse(e);return t===Na&&(r=xL(r)),r}const x1=(e,t)=>{const r=v1(e),n=v1(t);if(!r||!n)return Md(e,t);const i={...r};return s=>(i.red=Fm(r.red,n.red,s),i.green=Fm(r.green,n.green,s),i.blue=Fm(r.blue,n.blue,s),i.alpha=Ke(r.alpha,n.alpha,s),xs.transform(i))},Cg=new Set(["none","hidden"]);function jL(e,t){return Cg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function NL(e,t){return r=>Ke(e,t,r)}function nv(e){return typeof e=="number"?NL:typeof e=="string"?ev(e)?Md:at.test(e)?x1:_L:Array.isArray(e)?F2:typeof e=="object"?at.test(e)?x1:SL:Md}function F2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>nv(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function SL(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=nv(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function PL(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const _L=(e,t)=>{const r=Ui.createTransformer(t),n=nc(e),i=nc(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Cg.has(e)&&!i.values.length||Cg.has(t)&&!n.values.length?jL(e,t):Ec(F2(PL(n,i),i.values),r):Md(e,t)};function z2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ke(e,t,r):nv(e)(e,t)}const kL=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ke.update(t,r),stop:()=>dn(t),now:()=>yt.isProcessing?yt.timestamp:ar.now()}},U2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Rd=2e4;function iv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Rd;)t+=r,n=e.next(t);return t>=Rd?1/0:t}function AL(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(iv(n),Rd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:Sn(i)}}const EL=5;function W2(e,t,r){const n=Math.max(t-EL,0);return Xy(r-e(n),t-n)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zm=.001;function OL({duration:e=Je.duration,bounce:t=Je.bounce,velocity:r=Je.velocity,mass:n=Je.mass}){let i,s,a=1-t;a=An(Je.minDamping,Je.maxDamping,a),e=An(Je.minDuration,Je.maxDuration,Sn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=Tg(u,a),p=Math.exp(-f);return zm-h/m*p},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),y=Tg(Math.pow(u,2),a);return(-i(u)+zm>0?-1:1)*((h-m)*p)/y}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-zm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=TL(i,s,l);if(e=Nn(e),isNaN(c))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const CL=12;function TL(e,t,r){let n=r;for(let i=1;i<CL;i++)n=n-e(n)/t(n);return n}function Tg(e,t){return e*Math.sqrt(1-t*t)}const ML=["duration","bounce"],RL=["stiffness","damping","mass"];function b1(e,t){return t.some(r=>e[r]!==void 0)}function DL(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!b1(e,RL)&&b1(e,ML))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*An(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:s}}else{const r=OL(e);t={...t,...r,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Dd(e=Je.visualDuration,t=Je.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=DL({...r,velocity:-Sn(r.velocity||0)}),p=h||0,y=u/(2*Math.sqrt(c*d)),w=a-s,g=Sn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Je.restSpeed.granular:Je.restSpeed.default),i||(i=v?Je.restDelta.granular:Je.restDelta.default);let b;if(y<1){const N=Tg(g,y);b=S=>{const P=Math.exp(-y*g*S);return a-P*((p+y*g*w)/N*Math.sin(N*S)+w*Math.cos(N*S))}}else if(y===1)b=N=>a-Math.exp(-g*N)*(w+(p+g*w)*N);else{const N=g*Math.sqrt(y*y-1);b=S=>{const P=Math.exp(-y*g*S),A=Math.min(N*S,300);return a-P*((p+y*g*w)*Math.sinh(A)+N*w*Math.cosh(A))/N}}const j={calculatedDuration:m&&f||null,next:N=>{const S=b(N);if(m)l.done=N>=f;else{let P=N===0?p:0;y<1&&(P=N===0?Nn(p):W2(b,N,S));const A=Math.abs(P)<=n,R=Math.abs(a-S)<=i;l.done=A&&R}return l.value=l.done?a:S,l},toString:()=>{const N=Math.min(iv(j),Rd),S=U2(P=>j.next(N*P).value,N,30);return N+"ms "+S},toTransition:()=>{}};return j}Dd.applyToOptions=e=>{const t=AL(e,100,Dd);return e.ease=t.ease,e.duration=Nn(t.duration),e.type="keyframes",e};function Mg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,p=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let y=r*t;const w=f+y,g=a===void 0?w:a(w);g!==w&&(y=g-f);const v=A=>-y*Math.exp(-A/n),b=A=>g+v(A),j=A=>{const R=v(A),D=b(A);h.done=Math.abs(R)<=u,h.value=h.done?g:D};let N,S;const P=A=>{m(h.value)&&(N=A,S=Dd({keyframes:[h.value,p(h.value)],velocity:W2(b,A,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:A=>{let R=!1;return!S&&N===void 0&&(R=!0,j(A),P(A)),N!==void 0&&A>=N?S.next(A-N):(!R&&j(A),h)}}}function $L(e,t,r){const n=[],i=r||Xn.mix||z2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||dr:t;l=Ec(c,l)}n.push(l)}return n}function sv(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Qa(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=$L(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Za(e[f],e[f+1],d);return l[f](h)};return r?d=>u(An(e[0],e[s-1],d)):u}function IL(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Za(0,t,n);e.push(Ke(r,1,i))}}function V2(e){const t=[0];return IL(t,e.length-1),t}function LL(e,t){return e.map(r=>r*t)}function BL(e,t){return e.map(()=>t||C2).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=ZI(n)?n.map(m1):m1(n),s={done:!1,value:t[0]},a=LL(r&&r.length===t.length?r:V2(t),e),l=sv(a,t,{ease:Array.isArray(i)?i:BL(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const FL=e=>e!==null;function av(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(FL),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const zL={decay:Mg,inertia:Mg,tween:El,keyframes:El,spring:Dd};function K2(e){typeof e.type=="string"&&(e.type=zL[e.type])}class ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const UL=e=>e/100;class lv extends ov{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;K2(t);const{type:r=El,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||El;c!==El&&typeof l[0]!="number"&&(this.mixKeyframes=Ec(UL,z2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=iv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=n;if(f){const A=Math.min(this.currentTime,i)/l;let R=Math.floor(A),D=A%1;!D&&A>=1&&(D=1),D===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(h==="reverse"?(D=1-D,m&&(D-=m/l)):h==="mirror"&&(j=a)),b=An(0,1,D)*l}const N=v?{done:!1,value:d[0]}:j.next(b);s&&(N.value=s(N.value));let{done:S}=N;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&p!==Mg&&(N.value=av(d,this.options,w,this.speed)),y&&y(N.value),P&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return Sn(this.calculatedDuration)}get time(){return Sn(this.currentTime)}set time(t){var r;t=Nn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ar.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Sn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=kL,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function WL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bs=e=>e*180/Math.PI,Rg=e=>{const t=bs(Math.atan2(e[1],e[0]));return Dg(t)},VL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Rg,rotateZ:Rg,skewX:e=>bs(Math.atan(e[1])),skewY:e=>bs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Dg=e=>(e=e%360,e<0&&(e+=360),e),w1=Rg,j1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),N1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),KL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j1,scaleY:N1,scale:e=>(j1(e)+N1(e))/2,rotateX:e=>Dg(bs(Math.atan2(e[6],e[5]))),rotateY:e=>Dg(bs(Math.atan2(-e[2],e[0]))),rotateZ:w1,rotate:w1,skewX:e=>bs(Math.atan(e[4])),skewY:e=>bs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function $g(e){return e.includes("scale")?1:0}function Ig(e,t){if(!e||e==="none")return $g(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=KL,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=VL,i=l}if(!i)return $g(t);const s=n[t],a=i[1].split(",").map(HL);return typeof s=="function"?s(a):a[s]}const qL=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Ig(r,t)};function HL(e){return parseFloat(e.trim())}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],So=new Set(No),S1=e=>e===jo||e===ue,GL=new Set(["x","y","z"]),YL=No.filter(e=>!GL.has(e));function XL(e){const t=[];return YL.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Os={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Ig(t,"x"),y:(e,{transform:t})=>Ig(t,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Cs=new Set;let Lg=!1,Bg=!1,Fg=!1;function q2(){if(Bg){const e=Array.from(Cs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=XL(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Bg=!1,Lg=!1,Cs.forEach(e=>e.complete(Fg)),Cs.clear()}function H2(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Bg=!0)})}function JL(){Fg=!0,H2(),q2(),Fg=!1}class cv{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),Lg||(Lg=!0,ke.read(H2),ke.resolveKeyframes(q2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}WL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const QL=e=>e.startsWith("--");function ZL(e,t,r){QL(t)?e.style.setProperty(t,r):e.style[t]=r}const G2=Gy(()=>window.ScrollTimeline!==void 0),e4={};function t4(e,t){const r=Gy(e);return()=>e4[t]??r()}const Y2=t4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ml=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,P1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function X2(e,t){if(e)return typeof e=="function"?Y2()?U2(e,t):"ease-out":T2(e)?ml(e):Array.isArray(e)?e.map(r=>X2(r,t)||P1.easeOut):P1[e]}function r4(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=X2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function J2(e){return typeof e=="function"&&"applyToOptions"in e}function n4({type:e,...t}){return J2(e)&&Y2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class i4 extends ov{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,Qa(typeof t.type!="string");const u=n4(t);this.animation=r4(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=av(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):ZL(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Sn(Number(t))}get time(){return Sn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Nn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&G2()?(this.animation.timeline=t,dr):r(this)}}const Q2={anticipate:A2,backInOut:k2,circInOut:O2};function s4(e){return e in Q2}function a4(e){typeof e.ease=="string"&&s4(e.ease)&&(e.ease=Q2[e.ease])}const _1=10;class o4 extends i4{constructor(t){a4(t),K2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new lv({...a,autoplay:!1}),c=Nn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-_1).value,l.sample(c).value,_1),l.stop()}}const k1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ui.test(e)||e==="0")&&!e.startsWith("url("));function l4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function c4(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=k1(i,t),l=k1(s,t);return!a||!l?!1:l4(e)||(r==="spring"||J2(r))&&n}function zg(e){e.duration=0,e.type}const u4=new Set(["opacity","clipPath","filter","transform"]),d4=Gy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function f4(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return d4()&&r&&u4.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const h4=40;class m4 extends ov{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ar.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||cv;this.keyframeResolver=new m(l,(y,w,g)=>this.onKeyframesResolved(y,w,h,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ar.now(),c4(t,s,a,l)||((Xn.instantAnimations||!c)&&(d==null||d(av(t,n,r))),t[0]=t[t.length-1],zg(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>h4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&f4(h)?new o4({...h,element:h.motionValue.owner.current}):new lv(h);m.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),JL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const p4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function g4(e){const t=p4.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Z2(e,t,r=1){const[n,i]=g4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return b2(a)?parseFloat(a):a}return ev(i)?Z2(i,t,r+1):i}function uv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const eA=new Set(["width","height","top","left","right","bottom",...No]),y4={test:e=>e==="auto",parse:e=>e},tA=e=>t=>t.test(e),rA=[jo,ue,Pn,yi,dL,uL,y4],A1=e=>rA.find(tA(e));function v4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||j2(e):!0}const x4=new Set(["brightness","contrast","saturate","opacity"]);function b4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(tv)||[];if(!n)return e;const i=r.replace(n,"");let s=x4.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const w4=/\b([a-z-]*)\(.*?\)/gu,Ug={...Ui,getAnimatableNone:e=>{const t=e.match(w4);return t?t.map(b4).join(" "):e}},E1={...jo,transform:Math.round},j4={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:bu,scaleX:bu,scaleY:bu,scaleZ:bu,skew:yi,skewX:yi,skewY:yi,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:rc,originX:g1,originY:g1,originZ:ue},dv={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...j4,zIndex:E1,fillOpacity:rc,strokeOpacity:rc,numOctaves:E1},N4={...dv,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Ug,WebkitFilter:Ug},nA=e=>N4[e];function iA(e,t){let r=nA(e);return r!==Ug&&(r=Ui),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const S4=new Set(["auto","none","0"]);function P4(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!S4.has(s)&&nc(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=iA(r,i)}class _4 extends cv{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ev(u))){const d=Z2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eA.has(n)||t.length!==2)return;const[i,s]=t,a=A1(i),l=A1(s);if(a!==l)if(S1(a)&&S1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Os[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||v4(t[i]))&&n.push(i);n.length&&P4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Os[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function sA(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const aA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fv(e){return w2(e)&&"offsetHeight"in e}const O1=30,k4=e=>!isNaN(parseFloat(e)),Ol={current:void 0};class A4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=k4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Yy);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ol.current&&Ol.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>O1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,O1);return Xy(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function an(e,t){return new A4(e,t)}const{schedule:hv,cancel:gre}=M2(queueMicrotask,!1),Qr={x:!1,y:!1};function oA(){return Qr.x||Qr.y}function E4(e){return e==="x"||e==="y"?Qr[e]?null:(Qr[e]=!0,()=>{Qr[e]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function lA(e,t){const r=sA(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function C1(e){return!(e.pointerType==="touch"||oA())}function O4(e,t,r={}){const[n,i,s]=lA(e,r),a=l=>{if(!C1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{C1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const cA=(e,t)=>t?e===t?!0:cA(e,t.parentElement):!1,mv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,C4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function T4(e){return C4.has(e.tagName)||e.tabIndex!==-1}const Zu=new WeakSet;function T1(e){return t=>{t.key==="Enter"&&e(t)}}function Um(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const M4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=T1(()=>{if(Zu.has(r))return;Um(r,"down");const i=T1(()=>{Um(r,"up")}),s=()=>Um(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function M1(e){return mv(e)&&!oA()}function R4(e,t,r={}){const[n,i,s]=lA(e,r),a=l=>{const c=l.currentTarget;if(!M1(l))return;Zu.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Zu.has(c)&&Zu.delete(c),M1(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||cA(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),fv(l)&&(l.addEventListener("focus",u=>M4(u,i)),!T4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function pv(e){return w2(e)&&"ownerSVGElement"in e}const ed=new WeakMap;let vi;const uA=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:pv(n)&&"getBBox"in n?n.getBBox()[t]:n[r],D4=uA("inline","width","offsetWidth"),$4=uA("block","height","offsetHeight");function I4({target:e,borderBoxSize:t}){var r;(r=ed.get(e))==null||r.forEach(n=>{n(e,{get width(){return D4(e,t)},get height(){return $4(e,t)}})})}function L4(e){e.forEach(I4)}function B4(){typeof ResizeObserver>"u"||(vi=new ResizeObserver(L4))}function F4(e,t){vi||B4();const r=sA(e);return r.forEach(n=>{let i=ed.get(n);i||(i=new Set,ed.set(n,i)),i.add(t),vi==null||vi.observe(n)}),()=>{r.forEach(n=>{const i=ed.get(n);i==null||i.delete(t),i!=null&&i.size||vi==null||vi.unobserve(n)})}}const td=new Set;let Sa;function z4(){Sa=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};td.forEach(t=>t(e))},window.addEventListener("resize",Sa)}function U4(e){return td.add(e),Sa||z4(),()=>{td.delete(e),!td.size&&typeof Sa=="function"&&(window.removeEventListener("resize",Sa),Sa=void 0)}}function W4(e,t){return typeof e=="function"?U4(e):F4(e,t)}function dA(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return ke.preUpdate(n,!0),()=>dn(n)}function V4(e){return pv(e)&&e.tagName==="svg"}function K4(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=sv(i,s,a);return t?l(n):l}const Lt=e=>!!(e&&e.getVelocity),q4=[...rA,at,Ui],H4=e=>q4.find(tA(e)),Jf=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class G4 extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=fv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Y4({children:e,isPresent:t,anchorX:r,root:n}){const i=x.useId(),s=x.useRef(null),a=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(Jf);return x.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");l&&(p.nonce=l);const y=n??document.head;return y.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.contains(p)&&y.removeChild(p)}},[t]),o.jsx(G4,{isPresent:t,childRef:s,sizeRef:a,children:x.cloneElement(e,{ref:s})})}const X4=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=wo(J4),d=x.useId();let f=!0,h=x.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),x.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),x.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(Y4,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Xf.Provider,{value:h,children:e})};function J4(){return new Map}function fA(e=!0){const t=x.useContext(Xf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=x.useId();x.useEffect(()=>{if(e)return i(s)},[e]);const a=x.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const wu=e=>e.key||"";function R1(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const ju=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=fA(a),f=x.useMemo(()=>R1(e),[e]),h=a&&!u?[]:f.map(wu),m=x.useRef(!0),p=x.useRef(f),y=wo(()=>new Map),[w,g]=x.useState(f),[v,b]=x.useState(f);Yf(()=>{m.current=!1,p.current=f;for(let S=0;S<v.length;S++){const P=wu(v[S]);h.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[v,h.length,h.join("-")]);const j=[];if(f!==w){let S=[...f];for(let P=0;P<v.length;P++){const A=v[P],R=wu(A);h.includes(R)||(S.splice(P,0,A),j.push(A))}return s==="wait"&&j.length&&(S=j),b(R1(S)),g(f),null}const{forceRender:N}=x.useContext(Vy);return o.jsx(o.Fragment,{children:v.map(S=>{const P=wu(S),A=a&&!u?!1:f===v||h.includes(P),R=()=>{if(y.has(P))y.set(P,!0);else return;let D=!0;y.forEach(E=>{E||(D=!1)}),D&&(N==null||N(),b(p.current),a&&(d==null||d()),n&&n())};return o.jsx(X4,{isPresent:A,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:A?void 0:R,anchorX:l,children:S},P)})})},hA=x.createContext({strict:!1}),D1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in D1)eo[e]={isEnabled:t=>D1[e].some(r=>!!t[r])};function Q4(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const Z4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $d(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Z4.has(e)}let mA=e=>!$d(e);function eB(e){typeof e=="function"&&(mA=t=>t.startsWith("on")?!$d(t):e(t))}try{eB(require("@emotion/is-prop-valid").default)}catch{}function tB(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(mA(i)||r===!0&&$d(i)||!t&&!$d(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Qf=x.createContext({});function Zf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ic(e){return typeof e=="string"||Array.isArray(e)}const gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yv=["initial",...gv];function eh(e){return Zf(e.animate)||yv.some(t=>ic(e[t]))}function pA(e){return!!(eh(e)||e.variants)}function rB(e,t){if(eh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ic(r)?r:void 0,animate:ic(n)?n:void 0}}return e.inherit!==!1?t:{}}function nB(e){const{initial:t,animate:r}=rB(e,x.useContext(Qf));return x.useMemo(()=>({initial:t,animate:r}),[$1(t),$1(r)])}function $1(e){return Array.isArray(e)?e.join(" "):e}const sc={};function iB(e){for(const t in e)sc[t]=e[t],Zy(t)&&(sc[t].isCSSVariable=!0)}function gA(e,{layout:t,layoutId:r}){return So.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!sc[e]||e==="opacity")}const sB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aB=No.length;function oB(e,t,r){let n="",i=!0;for(let s=0;s<aB;s++){const a=No[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=aA(l,dv[a]);if(!c){i=!1;const d=sB[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function vv(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(So.has(c)){a=!0;continue}else if(Zy(c)){i[c]=u;continue}else{const d=aA(u,dv[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=oB(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yA(e,t,r){for(const n in t)!Lt(t[n])&&!gA(n,r)&&(e[n]=t[n])}function lB({transformTemplate:e},t){return x.useMemo(()=>{const r=xv();return vv(r,t,e),Object.assign({},r.vars,r.style)},[t])}function cB(e,t){const r=e.style||{},n={};return yA(n,r,e),Object.assign(n,lB(e,t)),n}function uB(e,t){const r={},n=cB(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const dB={offset:"stroke-dashoffset",array:"stroke-dasharray"},fB={offset:"strokeDashoffset",array:"strokeDasharray"};function hB(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?dB:fB;e[s.offset]=ue.transform(-n);const a=ue.transform(t),l=ue.transform(r);e[s.array]=`${a} ${l}`}function vA(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(vv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&hB(f,i,s,a,!1)}const xA=()=>({...xv(),attrs:{}}),bA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function mB(e,t,r,n){const i=x.useMemo(()=>{const s=xA();return vA(s,t,bA(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};yA(s,e.style,e),i.style={...s,...i.style}}return i}const pB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bv(e){return typeof e!="string"||e.includes("-")?!1:!!(pB.indexOf(e)>-1||/[A-Z]/u.test(e))}function gB(e,t,r,{latestValues:n},i,s=!1){const l=(bv(e)?mB:uB)(t,n,i,e),c=tB(t,typeof e=="string",s),u=e!==x.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=x.useMemo(()=>Lt(d)?d.get():d,[d]);return x.createElement(e,{...u,children:f})}function I1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wv(e,t,r,n){if(typeof t=="function"){const[i,s]=I1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=I1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function rd(e){return Lt(e)?e.get():e}function yB({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:vB(r,n,i,e),renderState:t()}}function vB(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=rd(s[h]);let{initial:a,animate:l}=e;const c=eh(e),u=pA(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Zf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=wv(e,h[m]);if(p){const{transitionEnd:y,transition:w,...g}=p;for(const v in g){let b=g[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in y)i[v]=y[v]}}}return i}const wA=e=>(t,r)=>{const n=x.useContext(Qf),i=x.useContext(Xf),s=()=>yB(e,t,n,i);return r?s():wo(s)};function jv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(Lt(n[a])||t.style&&Lt(t.style[a])||gA(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const xB=wA({scrapeMotionValuesFromProps:jv,createRenderState:xv});function jA(e,t,r){const n=jv(e,t,r);for(const i in e)if(Lt(e[i])||Lt(t[i])){const s=No.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const bB=wA({scrapeMotionValuesFromProps:jA,createRenderState:xA}),wB=Symbol.for("motionComponentSymbol");function Pa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function jB(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Pa(r)&&(r.current=n))},[t])}const Nv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),NB="framerAppearId",NA="data-"+Nv(NB),SA=x.createContext({});function SB(e,t,r,n,i){var y,w;const{visualElement:s}=x.useContext(Qf),a=x.useContext(hA),l=x.useContext(Xf),c=x.useContext(Jf).reducedMotion,u=x.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=x.useContext(SA);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&PB(u.current,r,i,f);const h=x.useRef(!1);x.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[NA],p=x.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Yf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function PB(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:PA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Pa(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function PA(e){if(e)return e.options.allowProjection!==!1?e.projection:PA(e.parent)}function Wm(e,{forwardMotionProps:t=!1}={},r,n){r&&Q4(r);const i=bv(e)?bB:xB;function s(l,c){let u;const d={...x.useContext(Jf),...l,layoutId:_B(l)},{isStatic:f}=d,h=nB(l),m=i(l,f);if(!f&&Ky){kB();const p=AB(d);u=p.MeasureLayout,h.visualElement=SB(e,m,d,n,p.ProjectionNode)}return o.jsxs(Qf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,gB(e,l,jB(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=x.forwardRef(s);return a[wB]=e,a}function _B({layoutId:e}){const t=x.useContext(Vy).id;return t&&e!==void 0?t+"-"+e:e}function kB(e,t){x.useContext(hA).strict}function AB(e){const{drag:t,layout:r}=eo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function EB(e,t){if(typeof Proxy>"u")return Wm;const r=new Map,n=(s,a)=>Wm(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,Wm(a,void 0,e,t)),r.get(a))})}function _A({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function OB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function CB(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vm(e){return e===void 0||e===1}function Wg({scale:e,scaleX:t,scaleY:r}){return!Vm(e)||!Vm(t)||!Vm(r)}function ds(e){return Wg(e)||kA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kA(e){return L1(e.x)||L1(e.y)}function L1(e){return e&&e!=="0%"}function Id(e,t,r){const n=e-r,i=t*n;return r+i}function B1(e,t,r,n,i){return i!==void 0&&(e=Id(e,i,n)),Id(e,r,n)+t}function Vg(e,t=0,r=1,n,i){e.min=B1(e.min,t,r,n,i),e.max=B1(e.max,t,r,n,i)}function AA(e,{x:t,y:r}){Vg(e.x,t.translate,t.scale,t.originPoint),Vg(e.y,r.translate,r.scale,r.originPoint)}const F1=.999999999999,z1=1.0000000000001;function TB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ka(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,AA(e,a)),n&&ds(s.latestValues)&&ka(e,s.latestValues))}t.x<z1&&t.x>F1&&(t.x=1),t.y<z1&&t.y>F1&&(t.y=1)}function _a(e,t){e.min=e.min+t,e.max=e.max+t}function U1(e,t,r,n,i=.5){const s=Ke(e.min,e.max,i);Vg(e,t,r,s,n)}function ka(e,t){U1(e.x,t.x,t.scaleX,t.scale,t.originX),U1(e.y,t.y,t.scaleY,t.scale,t.originY)}function EA(e,t){return _A(CB(e.getBoundingClientRect(),t))}function MB(e,t,r){const n=EA(e,r),{scroll:i}=t;return i&&(_a(n.x,i.offset.x),_a(n.y,i.offset.y)),n}const W1=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:W1(),y:W1()}),V1=()=>({min:0,max:0}),rt=()=>({x:V1(),y:V1()}),Kg={current:null},OA={current:!1};function RB(){if(OA.current=!0,!!Ky)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kg.current=e.matches;e.addEventListener("change",t),t()}else Kg.current=!1}const DB=new WeakMap;function $B(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Lt(i))e.addValue(n,i);else if(Lt(s))e.addValue(n,an(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,an(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const K1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class IB{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ar.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ke.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=eh(r),this.isVariantNode=pA(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Lt(m)&&m.set(c[h])}}mount(t){var r;this.current=t,DB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),OA.current||RB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=So.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const r=eo[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<K1.length;n++){const i=K1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=$B(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=an(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(b2(n)||j2(n))?n=parseFloat(n):!H4(n)&&Ui.test(r)&&(n=iA(t,r)),this.setBaseTarget(t,Lt(n)?n.get():n)),Lt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=wv(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Lt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Yy),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){hv.render(this.render)}}class CA extends IB{constructor(){super(...arguments),this.KeyframeResolver=_4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function TA(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function LB(e){return window.getComputedStyle(e)}class BB extends CA{constructor(){super(...arguments),this.type="html",this.renderInstance=TA}readValueFromInstance(t,r){var n;if(So.has(r))return(n=this.projection)!=null&&n.isProjecting?$g(r):qL(t,r);{const i=LB(t),s=(Zy(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return EA(t,r)}build(t,r,n){vv(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return jv(t,r,n)}}const MA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function FB(e,t,r,n){TA(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(MA.has(i)?i:Nv(i),t.attrs[i])}class zB extends CA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(So.has(r)){const n=nA(r);return n&&n.default||0}return r=MA.has(r)?r:Nv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return jA(t,r,n)}build(t,r,n){vA(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){FB(t,r,n,i)}mount(t){this.isSVGTag=bA(t.tagName),super.mount(t)}}const UB=(e,t)=>bv(e)?new zB(t):new BB(t,{allowProjection:e!==x.Fragment});function Fa(e,t,r){const n=e.getProps();return wv(n,t,r!==void 0?r:n.custom,e)}const qg=e=>Array.isArray(e);function WB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,an(r))}function VB(e){return qg(e)?e[e.length-1]||0:e}function KB(e,t){const r=Fa(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=VB(s[a]);WB(e,a,l)}}function qB(e){return!!(Lt(e)&&e.add)}function Hg(e,t){const r=e.getValue("willChange");if(qB(r))return r.add(t);if(!r&&Xn.WillChange){const n=new Xn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function RA(e){return e.props[NA]}const HB=e=>e!==null;function GB(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(HB),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const YB={type:"spring",stiffness:500,damping:25,restSpeed:10},XB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),JB={type:"keyframes",duration:.8},QB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},ZB=(e,{keyframes:t})=>t.length>2?JB:So.has(e)?e.startsWith("scale")?XB(t[1]):YB:QB;function e5({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Sv=(e,t,r,n={},i,s)=>a=>{const l=uv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Nn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};e5(l)||Object.assign(d,ZB(e,d)),d.duration&&(d.duration=Nn(d.duration)),d.repeatDelay&&(d.repeatDelay=Nn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(zg(d),d.delay===0&&(f=!0)),(Xn.instantAnimations||Xn.skipAnimations)&&(f=!0,zg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=GB(d.keyframes,l);if(h!==void 0){ke.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new lv(d):new m4(d)};function t5({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function DA(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&t5(u,d))continue;const m={delay:r,...uv(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=RA(e);if(g){const v=window.MotionHandoffAnimation(g,d,ke);v!==null&&(m.startTime=v,y=!0)}}Hg(e,d),f.start(Sv(d,f,h,e.shouldReduceMotion&&eA.has(d)?{type:!1}:m,e,y));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{ke.update(()=>{a&&KB(e,a)})}),c}function $A(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function Gg(e,t,r={}){var c;const n=Fa(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(DA(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return r5(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function r5(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Gg(c,t,{...a,delay:r+(typeof n=="function"?0:n)+$A(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function n5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Gg(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Gg(e,t,r);else{const i=typeof t=="function"?Fa(e,t,r.custom):t;n=Promise.all(DA(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function IA(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const i5=yv.length;function LA(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?LA(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<i5;r++){const n=yv[r],i=e.props[n];(ic(i)||i===!1)&&(t[n]=i)}return t}const s5=[...gv].reverse(),a5=gv.length;function o5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>n5(e,r,n)))}function l5(e){let t=o5(e),r=q1(),n=!0;const i=c=>(u,d)=>{var h;const f=Fa(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=LA(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<a5;w++){const g=s5[w],v=r[g],b=u[g]!==void 0?u[g]:d[g],j=ic(b),N=g===c?v.isActive:null;N===!1&&(p=w);let S=b===d[g]&&b!==u[g]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&N===null||!b&&!v.prevProp||Zf(b)||typeof b=="boolean")continue;const P=c5(v.prevProp,b);let A=P||g===c&&v.isActive&&!S&&j||w>p&&j,R=!1;const D=Array.isArray(b)?b:[b];let E=D.reduce(i(g),{});N===!1&&(E={});const{prevResolvedValues:B={}}=v,$={...B,...E},M=V=>{A=!0,h.has(V)&&(R=!0,h.delete(V)),v.needsAnimating[V]=!0;const k=e.getValue(V);k&&(k.liveStyle=!1)};for(const V in $){const k=E[V],C=B[V];if(m.hasOwnProperty(V))continue;let W=!1;qg(k)&&qg(C)?W=!IA(k,C):W=k!==C,W?k!=null?M(V):h.add(V):k!==void 0&&h.has(V)?M(V):v.protectedKeys[V]=!0}v.prevProp=b,v.prevResolvedValues=E,v.isActive&&(m={...m,...E}),n&&e.blockInitialAnimation&&(A=!1);const O=S&&P;A&&(!O||R)&&f.push(...D.map(V=>{const k={type:g};if(typeof V=="string"&&n&&!O&&e.manuallyAnimateOnMount&&e.parent){const{parent:C}=e,W=Fa(C,V);if(C.enteringChildren&&W){const{delayChildren:H}=W.transition||{};k.delay=$A(C.enteringChildren,e,H)}}return{animation:V,options:k}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const g=Fa(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}h.forEach(g=>{const v=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),w[g]=v??null}),f.push({animation:w})}let y=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=q1(),n=!0}}}function c5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IA(t,e):!1}function os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function q1(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Xi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class u5 extends Xi{constructor(t){super(t),t.animationState||(t.animationState=l5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let d5=0;class f5 extends Xi{constructor(){super(...arguments),this.id=d5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const h5={animation:{Feature:u5},exit:{Feature:f5}};function ac(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Tc(e){return{point:{x:e.pageX,y:e.pageY}}}const m5=e=>t=>mv(t)&&e(t,Tc(t));function Cl(e,t,r,n){return ac(e,t,m5(r),n)}const BA=1e-4,p5=1-BA,g5=1+BA,FA=.01,y5=0-FA,v5=0+FA;function Kt(e){return e.max-e.min}function x5(e,t,r){return Math.abs(e-t)<=r}function H1(e,t,r,n=.5){e.origin=n,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=Kt(r)/Kt(t),e.translate=Ke(r.min,r.max,e.origin)-e.originPoint,(e.scale>=p5&&e.scale<=g5||isNaN(e.scale))&&(e.scale=1),(e.translate>=y5&&e.translate<=v5||isNaN(e.translate))&&(e.translate=0)}function Tl(e,t,r,n){H1(e.x,t.x,r.x,n?n.originX:void 0),H1(e.y,t.y,r.y,n?n.originY:void 0)}function G1(e,t,r){e.min=r.min+t.min,e.max=e.min+Kt(t)}function b5(e,t,r){G1(e.x,t.x,r.x),G1(e.y,t.y,r.y)}function Y1(e,t,r){e.min=t.min-r.min,e.max=e.min+Kt(t)}function Ml(e,t,r){Y1(e.x,t.x,r.x),Y1(e.y,t.y,r.y)}function Mr(e){return[e("x"),e("y")]}const zA=({current:e})=>e?e.ownerDocument.defaultView:null,X1=(e,t)=>Math.abs(e-t);function w5(e,t){const r=X1(e.x,t.x),n=X1(e.y,t.y);return Math.sqrt(r**2+n**2)}class UA{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=qm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=w5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:y}=h,{timestamp:w}=yt;this.history.push({...y,timestamp:w});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Km(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=qm(h.type==="pointercancel"?this.lastMoveEventInfo:Km(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),y&&y(h,g)},!mv(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Tc(t),c=Km(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=yt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,qm(c,this.history)),this.removeListeners=Ec(Cl(this.contextWindow,"pointermove",this.handlePointerMove),Cl(this.contextWindow,"pointerup",this.handlePointerUp),Cl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function Km(e,t){return t?{point:t(e.point)}:e}function J1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qm({point:e},t){return{point:e,delta:J1(e,WA(t)),offset:J1(e,j5(t)),velocity:N5(t,.1)}}function j5(e){return e[0]}function WA(e){return e[e.length-1]}function N5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=WA(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Nn(t)));)r--;if(!n)return{x:0,y:0};const s=Sn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function S5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ke(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ke(r,e,n.max):Math.min(e,r)),e}function Q1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function P5(e,{top:t,left:r,bottom:n,right:i}){return{x:Q1(e.x,r,i),y:Q1(e.y,t,n)}}function Z1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function _5(e,t){return{x:Z1(e.x,t.x),y:Z1(e.y,t.y)}}function k5(e,t){let r=.5;const n=Kt(e),i=Kt(t);return i>n?r=Za(t.min,t.max-n,e.min):n>i&&(r=Za(e.min,e.max-i,t.min)),An(0,1,r)}function A5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Yg=.35;function E5(e=Yg){return e===!1?e=0:e===!0&&(e=Yg),{x:ej(e,"left","right"),y:ej(e,"top","bottom")}}function ej(e,t,r){return{min:tj(e,t),max:tj(e,r)}}function tj(e,t){return typeof e=="number"?e:e[t]||0}const O5=new WeakMap;class C5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Tc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=E4(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Pn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[g];j&&(v=Kt(j)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&ke.postRender(()=>y(f,h)),Hg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=T5(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Mr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new UA(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:zA(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ke.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Nu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=S5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Pa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=P5(n.layoutBox,t):this.constraints=!1,this.elastic=E5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Mr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=A5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Pa(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=MB(n,i.root,this.visualElement.getTransformPagePoint());let a=_5(i.layout.layoutBox,s);if(r){const l=r(OB(a));this.hasMutatedConstraints=!!l,l&&(a=_A(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Mr(d=>{if(!Nu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Hg(this.visualElement,t),n.start(Sv(t,n,0,r,this.visualElement,!1))}stopAnimation(){Mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Mr(r=>{const{drag:n}=this.getProps();if(!Nu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Pa(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=k5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mr(a=>{if(!Nu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ke(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;O5.set(this.visualElement,this);const t=this.visualElement.current,r=Cl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Pa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ke.read(n);const a=ac(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Yg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Nu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function T5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class M5 extends Xi{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new C5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const rj=e=>(t,r)=>{e&&ke.postRender(()=>e(t,r))};class R5 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new UA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:rj(t),onStart:rj(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ke.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const r=nj(e,t.target.x),n=nj(e,t.target.y);return`${r}% ${n}%`}},D5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ui.parse(e);if(i.length>5)return n;const s=Ui.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Ke(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Hm=!1;class $5 extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;iB(I5),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Hm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Hm=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Hm=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VA(e){const[t,r]=fA(),n=x.useContext(Vy);return o.jsx($5,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(SA),isPresent:t,safeToRemove:r})}const I5={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:D5};function L5(e,t,r){const n=Lt(e)?e:an(e);return n.start(Sv("",n,t,r)),n.animation}const B5=(e,t)=>e.depth-t.depth;class F5{constructor(){this.children=[],this.isDirty=!1}add(t){qy(this.children,t),this.isDirty=!0}remove(t){Hy(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(B5),this.isDirty=!1,this.children.forEach(t)}}function z5(e,t){const r=ar.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(dn(n),e(s-t))};return ke.setup(n,!0),()=>dn(n)}const KA=["TopLeft","TopRight","BottomLeft","BottomRight"],U5=KA.length,ij=e=>typeof e=="string"?parseFloat(e):e,sj=e=>typeof e=="number"||ue.test(e);function W5(e,t,r,n,i,s){i?(e.opacity=Ke(0,r.opacity??1,V5(n)),e.opacityExit=Ke(t.opacity??1,0,K5(n))):s&&(e.opacity=Ke(t.opacity??1,r.opacity??1,n));for(let a=0;a<U5;a++){const l=`border${KA[a]}Radius`;let c=aj(t,l),u=aj(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||sj(c)===sj(u)?(e[l]=Math.max(Ke(ij(c),ij(u),n),0),(Pn.test(u)||Pn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ke(t.rotate||0,r.rotate||0,n))}function aj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const V5=qA(0,.5,E2),K5=qA(.5,.95,dr);function qA(e,t,r){return n=>n<e?0:n>t?1:r(Za(e,t,n))}function oj(e,t){e.min=t.min,e.max=t.max}function Er(e,t){oj(e.x,t.x),oj(e.y,t.y)}function lj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function cj(e,t,r,n,i){return e-=t,e=Id(e,1/r,n),i!==void 0&&(e=Id(e,1/i,n)),e}function q5(e,t=0,r=1,n=.5,i,s=e,a=e){if(Pn.test(t)&&(t=parseFloat(t),t=Ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ke(s.min,s.max,n);e===s&&(l-=t),e.min=cj(e.min,t,r,l,i),e.max=cj(e.max,t,r,l,i)}function uj(e,t,[r,n,i],s,a){q5(e,t[r],t[n],t[i],t.scale,s,a)}const H5=["x","scaleX","originX"],G5=["y","scaleY","originY"];function dj(e,t,r,n){uj(e.x,t,H5,r?r.x:void 0,n?n.x:void 0),uj(e.y,t,G5,r?r.y:void 0,n?n.y:void 0)}function fj(e){return e.translate===0&&e.scale===1}function HA(e){return fj(e.x)&&fj(e.y)}function hj(e,t){return e.min===t.min&&e.max===t.max}function Y5(e,t){return hj(e.x,t.x)&&hj(e.y,t.y)}function mj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GA(e,t){return mj(e.x,t.x)&&mj(e.y,t.y)}function pj(e){return Kt(e.x)/Kt(e.y)}function gj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class X5{constructor(){this.members=[]}add(t){qy(this.members,t),t.scheduleRender()}remove(t){if(Hy(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function J5(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Gm=["","X","Y","Z"],Q5=1e3;let Z5=0;function Ym(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function YA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=RA(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ke,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&YA(n)}function XA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=Z5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(rF),this.nodes.forEach(aF),this.nodes.forEach(oF),this.nodes.forEach(nF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new F5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Yy),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=pv(a)&&!V4(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=z5(h,250),nd.hasAnimatedSinceResize&&(nd.hasAnimatedSinceResize=!1,this.nodes.forEach(xj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||fF,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!GA(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...uv(p,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||xj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(lF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(yj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(vj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(sF),this.nodes.forEach(eF),this.nodes.forEach(tF)):this.nodes.forEach(vj),this.clearAllSnapshots();const l=ar.now();yt.delta=An(0,1e3/60,l-yt.timestamp),yt.timestamp=l,yt.isProcessing=!0,Im.update.process(yt),Im.preRender.process(yt),Im.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iF),this.sharedNodes.forEach(cF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!HA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||ds(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),hF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(mF))){const{scroll:d}=this.root;d&&(_a(l.x,d.offset.x),_a(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=rt();if(Er(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Er(l,a),_a(l.x,f.offset.x),_a(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=rt();Er(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ka(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ds(d.latestValues)&&ka(c,d.latestValues)}return ds(this.latestValues)&&ka(c,this.latestValues),c}removeTransform(a){const l=rt();Er(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ds(u.latestValues))continue;Wg(u.latestValues)&&u.updateSnapshot();const d=rt(),f=u.measurePageBox();Er(d,f),dj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ds(this.latestValues)&&dj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),b5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),AA(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.target,m.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Wg(this.parent.latestValues)||kA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Er(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;TB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(lj(this.prevProjectionDelta.x,this.projectionDelta.x),lj(this.prevProjectionDelta.y,this.projectionDelta.y)),Tl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!gj(this.projectionDelta.x,this.prevProjectionDelta.x)||!gj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Aa(),this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=rt(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,w=this.getStack(),g=!w||w.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(dF));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;bj(f.x,a.x,N),bj(f.y,a.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uF(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&Y5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=rt()),Er(b,this.relativeTarget)),y&&(this.animationValues=d,W5(d,u,this.latestValues,N,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=an(0)),this.currentAnimation=L5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Q5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&JA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const f=Kt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Kt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Er(l,c),ka(l,d),Tl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new X5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ym("z",a,u,this.animationValues);for(let d=0;d<Gm.length;d++)Ym(`rotate${Gm[d]}`,a,u,this.animationValues),Ym(`skew${Gm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=rd(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=rd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=J5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in sc){if(d[p]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:g}=sc[p],v=f==="none"?d[p]:y(d[p],u);if(w){const b=w.length;for(let j=0;j<b;j++)a[w[j]]=v}else g?this.options.visualElement.renderState.vars[p]=v:a[p]=v}this.options.layoutId&&(a.pointerEvents=u===this?rd(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(yj),this.root.sharedNodes.clear()}}}function eF(e){e.updateLayout()}function tF(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Kt(h);h.min=n[f].min,h.max=h.min+m}):JA(s,t.layoutBox,n)&&Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Kt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Aa();Tl(l,n,t.layoutBox);const c=Aa();a?Tl(c,e.applyTransform(i,!0),t.measuredBox):Tl(c,n,t.layoutBox);const u=!HA(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=rt();Ml(p,t.layoutBox,h.layoutBox);const y=rt();Ml(y,n,m.layoutBox),GA(p,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function rF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function nF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function iF(e){e.clearSnapshot()}function yj(e){e.clearMeasurements()}function vj(e){e.isLayoutDirty=!1}function sF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function xj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function aF(e){e.resolveTargetDelta()}function oF(e){e.calcProjection()}function lF(e){e.resetSkewAndRotation()}function cF(e){e.removeLeadSnapshot()}function bj(e,t,r){e.translate=Ke(t.translate,0,r),e.scale=Ke(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function wj(e,t,r,n){e.min=Ke(t.min,r.min,n),e.max=Ke(t.max,r.max,n)}function uF(e,t,r,n){wj(e.x,t.x,r.x,n),wj(e.y,t.y,r.y,n)}function dF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const fF={duration:.45,ease:[.4,0,.1,1]},jj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nj=jj("applewebkit/")&&!jj("chrome/")?Math.round:dr;function Sj(e){e.min=Nj(e.min),e.max=Nj(e.max)}function hF(e){Sj(e.x),Sj(e.y)}function JA(e,t,r){return e==="position"||e==="preserve-aspect"&&!x5(pj(t),pj(r),.2)}function mF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const pF=XA({attachResizeListener:(e,t)=>ac(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xm={current:void 0},QA=XA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xm.current){const e=new pF({});e.mount(window),e.setOptions({layoutScroll:!0}),Xm.current=e}return Xm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),gF={pan:{Feature:R5},drag:{Feature:M5,ProjectionNode:QA,MeasureLayout:VA}};function Pj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ke.postRender(()=>s(t,Tc(t)))}class yF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=O4(t,(r,n)=>(Pj(this.node,n,"Start"),i=>Pj(this.node,i,"End"))))}unmount(){}}class vF extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ec(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function _j(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ke.postRender(()=>s(t,Tc(t)))}class xF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=R4(t,(r,n)=>(_j(this.node,n,"Start"),(i,{success:s})=>_j(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xg=new WeakMap,Jm=new WeakMap,bF=e=>{const t=Xg.get(e.target);t&&t(e)},wF=e=>{e.forEach(bF)};function jF({root:e,...t}){const r=e||document;Jm.has(r)||Jm.set(r,{});const n=Jm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(wF,{root:e,...t})),n[i]}function NF(e,t,r){const n=jF(t);return Xg.set(e,r),n.observe(e),()=>{Xg.delete(e),n.unobserve(e)}}const SF={some:0,all:1};class PF extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:SF[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return NF(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(_F(t,r))&&this.startObserver()}unmount(){}}function _F({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const kF={inView:{Feature:PF},tap:{Feature:xF},focus:{Feature:vF},hover:{Feature:yF}},AF={layout:{ProjectionNode:QA,MeasureLayout:VA}},EF={...h5,...kF,...gF,...AF},Le=EB(EF,UB),OF=50,kj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),CF=()=>({time:0,x:kj(),y:kj()}),TF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Aj(e,t,r,n){const i=r[t],{length:s,position:a}=TF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Za(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>OF?0:Xy(i.current-l,u)}function MF(e,t,r){Aj(e,"x",t,r),Aj(e,"y",t,r),t.time=r}function RF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(fv(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Jg={start:0,center:.5,end:1};function Ej(e,t,r=0){let n=0;if(e in Jg&&(e=Jg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const DF=[0,0];function $F(e,t,r,n){let i=Array.isArray(e)?e:DF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Jg[e]?e:"0"]),s=Ej(i[0],r,n),a=Ej(i[1],t),s-a}const IF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},LF={x:0,y:0};function BF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function FF(e,t,r){const{offset:n=IF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?RF(i,e):LF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:BF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=$F(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=sv(t[s].offset,V2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=An(0,1,t[s].interpolate(t[s].current))}function zF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function UF(e,t,r,n={}){return{measure:i=>{zF(e,n.target,r),MF(e,r,i),(n.offset||n.target)&&FF(e,r,n)},notify:()=>t(r)}}const Zo=new WeakMap,Oj=new WeakMap,Qm=new WeakMap,Cj=e=>e===document.scrollingElement?window:e;function ZA(e,{container:t=document.scrollingElement,...r}={}){if(!t)return dr;let n=Qm.get(t);n||(n=new Set,Qm.set(t,n));const i=CF(),s=UF(t,e,i,r);if(n.add(s),!Zo.has(t)){const l=()=>{for(const f of n)f.measure(yt.timestamp);ke.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>ke.read(l);Zo.set(t,u);const d=Cj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Oj.set(t,W4(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Zo.get(t);return ke.read(a,!1,!0),()=>{var u;dn(a);const l=Qm.get(t);if(!l||(l.delete(s),l.size))return;const c=Zo.get(t);Zo.delete(t),c&&(Cj(t).removeEventListener("scroll",c),(u=Oj.get(t))==null||u(),window.removeEventListener("resize",c))}}const Tj=new Map;function WF(e){const t={value:0},r=ZA(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function eE({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Tj.get(t)??new Map;Tj.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&G2()?new ScrollTimeline({source:t,axis:n}):WF({container:t,...r})),a[l]}function VF(e,t){const r=eE(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),dA(i=>{n.time=n.duration*i},r))})}function KF(e){return e.length===2}function qF(e,t){return KF(e)?ZA(r=>{e(r[t.axis].progress,r)},t):dA(e,eE(t))}function HF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return dr;const i={axis:t,container:r,...n};return typeof e=="function"?qF(e,i):VF(e,i)}const GF=()=>({scrollX:an(0),scrollY:an(0),scrollXProgress:an(0),scrollYProgress:an(0)}),Su=e=>e?!e.current:!1;function YF({container:e,target:t,...r}={}){const n=wo(GF),i=x.useRef(null),s=x.useRef(!1),a=x.useCallback(()=>(i.current=HF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Yf(()=>{if(s.current=!1,Su(e)||Su(t)){s.current=!0;return}else return a()},[a]),x.useEffect(()=>{if(s.current)return Qa(!Su(e)),Qa(!Su(t)),a()},[a]),n}function XF(e){const t=wo(()=>an(e)),{isStatic:r}=x.useContext(Jf);if(r){const[,n]=x.useState(e);x.useEffect(()=>t.on("change",n),[])}return t}function tE(e,t){const r=XF(t()),n=()=>r.set(t());return n(),Yf(()=>{const i=()=>ke.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),dn(n)}}),r}function JF(e){Ol.current=[],e();const t=tE(Ol.current,e);return Ol.current=void 0,t}function Zm(e,t,r,n){if(typeof e=="function")return JF(e);const i=typeof t=="function"?t:K4(t,r,n);return Array.isArray(e)?Mj(e,i):Mj([e],([s])=>i(s))}function Mj(e,t){const r=wo(()=>[]);return tE(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Rj({onViewChange:e}){var k,C,W,H,X,pe;const{user:t,logout:r}=Ft(),[n,i]=x.useState(!1),[s,a]=x.useState(!1),[l,c]=x.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,p]=x.useState([]),[y,w]=x.useState([]),[g,v]=x.useState([]),[b,j]=x.useState(!0),[N,S]=x.useState("all"),[P,A]=x.useState(0),R=x.useRef(null),{scrollYProgress:D}=YF(R.current?{target:R,offset:["start start","end start"],layoutEffect:!1}:void 0),E=Zm(D,[0,1],[0,-200]),B=Zm(D,[0,.5],[1,0]),$=Zm(D,[0,1],[0,-100]),M=async()=>{try{const{data:z}=await J.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!z)return;const te={};z.forEach(K=>{const{player1_name:Z,player2_name:I,winner_name:ee}=K;te[Z]||(te[Z]={wins:0,total:0,tournaments:new Set}),te[I]||(te[I]={wins:0,total:0,tournaments:new Set}),te[Z].total++,te[I].total++,ee===Z?te[Z].wins++:ee===I&&te[I].wins++});const de=Object.entries(te).map(([K,Z])=>({name:K,wins:Z.wins,tournaments:Z.tournaments.size,winRate:Z.total>0?Math.round(Z.wins/Z.total*100):0})).filter(K=>K.wins>0).sort((K,Z)=>Z.wins!==K.wins?Z.wins-K.wins:Z.winRate-K.winRate).slice(0,5);h(de)}catch(z){console.error("Error fetching top players:",z)}},O=async()=>{try{const{data:z}=await J.from("tournaments").select("*"),{data:te}=await J.from("match_results").select("*"),de=new Set;te==null||te.forEach(I=>{I.player1_name&&de.add(I.player1_name),I.player2_name&&de.add(I.player2_name)});const K=new Date,Z=(z==null?void 0:z.filter(I=>new Date(I.tournament_date)>K&&I.status!=="completed"))||[];c({totalTournaments:(z==null?void 0:z.length)||0,activePlayers:de.size,upcomingEvents:Z.length,completedMatches:(te==null?void 0:te.length)||0}),d(Z.slice(0,3)),v(z||[])}catch(z){console.error("Error fetching dashboard stats:",z)}},F=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:z}=await J.from("deck_presets").select("*").eq("user_id",t.id);p(z||[])}catch(z){console.error("Error fetching deck presets:",z)}},V=async()=>{try{let z=J.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});N!=="all"&&(z=z.eq("tournament_id",N));const{data:te}=await z.limit(20);w(te||[])}catch(z){console.error("Error fetching recent matches:",z)}};return x.useEffect(()=>{(async()=>{j(!0),await Promise.all([O(),M(),F(),V()]),j(!1)})()},[t]),x.useEffect(()=>{V()},[N]),x.useEffect(()=>{if(f.length<=1)return;const z=setInterval(()=>{A(te=>(te+1)%f.length)},5e3);return()=>clearInterval(z)},[f.length]),b?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(ju,{children:n&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(v2,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(y2,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(g2,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Le.section,{ref:R,style:{y:E,opacity:B},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(bt,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Jo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx($i,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Jo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Le.div,{style:{y:$},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:bt,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:Et,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:zi,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:kc,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((z,te)=>o.jsxs(Le.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:te*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${z.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${z.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(z.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:z.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:z.label})]},z.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Jump into action with our most popular features"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(bt,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles and view tournament brackets"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString()," • ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-blue-200 text-sm",children:[u[0].current_participants,"/",u[0].max_participants," registered"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Gf,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed • Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Ac,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory • Save presets • Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(ju,{mode:"wait",children:o.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(k=f[P])==null?void 0:k.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(p2,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(C=f[P])==null?void 0:C.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(Wy,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(W=f[P])==null?void 0:W.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(H=f[P])==null?void 0:H.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(X=f[P])==null?void 0:X.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((z,te)=>o.jsx("button",{onClick:()=>A(te),className:`w-3 h-3 rounded-full transition-all duration-300 ${te===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},te))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:N,onChange:z=>S(z.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),g.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(ju,{mode:"wait",children:y.length===0?o.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Ja,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:N==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((pe=g.find(z=>z.id===N))==null?void 0:pe.name)||"this tournament"}`})]}):o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:y.slice(0,6).map((z,te)=>{var de;return o.jsx(Le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:te*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:z.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",z.winner_name===z.player1_name?z.player2_name:z.player1_name]})]})]}),(z.player1_beyblade||z.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:z.winner_name===z.player1_name?`${z.player1_beyblade||"Unknown"} vs ${z.player2_beyblade||"Unknown"}`:`${z.player2_beyblade||"Unknown"} vs ${z.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((de=z.outcome)==null?void 0:de.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(z.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${z.tournament_id}-${z.submitted_at}-${te}`)})})})]})})}),o.jsx(Le.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay • Powered by Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.4.0"})]})]})})})]}),o.jsx(ju,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Le.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(x2,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(wt,{size:16})})]})})]})})]})}function QF(e,t){const{user:r}=Ft(),{alert:n}=Yi(),[i,s]=x.useState(""),[a,l]=x.useState(e.is_free?"free":"cash"),[c,u]=x.useState([{id:"1",bladeLine:"",parts:{}}]),[d,f]=x.useState([]),[h,m]=x.useState(""),[p,y]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[w,g]=x.useState(!1),[v,b]=x.useState(null),j=async()=>{g(!0),b(null);try{const[E,B,$,M,O]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);if(E.error)throw E.error;if(B.error)throw B.error;if($.error)throw $.error;if(M.error)throw M.error;if(O.error)throw O.error;y({blades:E.data||[],ratchets:B.data||[],bits:$.data||[],lockchips:M.data||[],assistBlades:O.data||[]})}catch(E){console.error(E),b("Failed to load Beyblade parts. Please try again.")}finally{g(!1)}},N=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:E,error:B}=await J.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(B)throw B;f(E||[])}catch(E){console.error(E)}},S=E=>{const B=d.find(M=>M.id===E);if(!B)return;const $=B.beyblades.slice(0,e.beyblades_per_player).map((M,O)=>({id:(O+1).toString(),bladeLine:M.blade_line,parts:M.parts}));u($),m("")},P=async()=>{var E;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const $=(E=(await J.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&E.is_free?"confirmed":"unpaid",{data:M,error:O}=await J.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:$}).select().single();if(O)throw O;for(const F of c){const V=R(F),{data:k,error:C}=await J.from("tournament_beyblades").insert({registration_id:M.id,beyblade_name:V,blade_line:F.bladeLine}).select().single();if(C)throw C;const W=Object.entries(F.parts).map(([X,pe])=>({beyblade_id:k.id,part_type:X,part_name:A(pe,X),part_data:pe})),{error:H}=await J.from("tournament_beyblade_parts").insert(W);if(H)throw H}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(B){console.error(B),await n("Registration Failed",B.message||"Unknown error occurred.")}},A=(E,B)=>{switch(B){case"Blade":case"Main Blade":return E.Blades;case"Ratchet":return E.Ratchet;case"Bit":return`${E.Bit} (${E.Shortcut})`;case"Lockchip":return E.Lockchip;case"Assist Blade":return`${E["Assist Blade Name"]} (${E["Assist Blade"]})`;default:return""}},R=E=>{if(!D(E.bladeLine).every($=>E.parts[$]))return"";if(E.bladeLine==="Custom"){const{Lockchip:$,"Main Blade":M,"Assist Blade":O,Ratchet:F,Bit:V}=E.parts;return`${($==null?void 0:$.Lockchip)||""}${(M==null?void 0:M.Blades)||""} ${(O==null?void 0:O["Assist Blade"])||""}${(F==null?void 0:F.Ratchet)||""}${(V==null?void 0:V.Shortcut)||""}`}else{const{Blade:$,Ratchet:M,Bit:O}=E.parts;return`${($==null?void 0:$.Blades)||""} ${(M==null?void 0:M.Ratchet)||""}${(O==null?void 0:O.Shortcut)||""}`}},D=E=>{switch(E){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}};return x.useEffect(()=>{j(),N()},[]),{playerName:i,setPlayerName:s,paymentMode:a,setPaymentMode:l,beyblades:c,setBeyblades:u,deckPresets:d,selectedPreset:h,setSelectedPreset:m,loadPreset:S,partsData:p,isLoadingParts:w,partsError:v,fetchPartsData:j,handleSubmit:P}}function ZF(e,t,r){const[n,i]=x.useState([]),[s,a]=x.useState({duplicateParts:[],duplicatePlayerName:!1}),l=async()=>{try{const{data:m,error:p}=await J.from("tournament_registrations").select("player_name").eq("tournament_id",r.id).eq("status","confirmed");if(p)throw p;i((m||[]).map(y=>y.player_name.toLowerCase().trim()))}catch(m){console.error("Error fetching player names",m)}},c=m=>{const p=m.toLowerCase().trim(),y=n.includes(p);return a(w=>({...w,duplicatePlayerName:y})),!y},u=()=>{const m=[],p=new Map;return t.forEach((y,w)=>{d(y.bladeLine).forEach(v=>{const b=y.parts[v];if(!b)return;const j=f(b,v),N=`${v}:${j}`;if(p.has(N)){const S=p.get(N);m.push(`${j} (${v}) is used in both Beyblade ${S.beybladeIndex+1} and Beyblade ${w+1}`)}else p.set(N,{beybladeIndex:w,partType:v})})}),a(y=>({...y,duplicateParts:m})),m.length===0},d=m=>{switch(m){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},f=(m,p)=>{switch(p){case"Blade":case"Main Blade":return m.Blades;case"Ratchet":return m.Ratchet;case"Bit":return`${m.Bit} (${m.Shortcut})`;case"Lockchip":return m.Lockchip;case"Assist Blade":return`${m["Assist Blade Name"]} (${m["Assist Blade"]})`;default:return""}},h=()=>!e.trim()||s.duplicatePlayerName||s.duplicateParts.length>0?!1:t.every(m=>m.bladeLine?d(m.bladeLine).every(y=>m.parts[y]):!1);return x.useEffect(()=>{e.trim()?c(e):a(m=>({...m,duplicatePlayerName:!1}))},[e,n]),x.useEffect(()=>{u()},[t]),x.useEffect(()=>{l()},[r.id]),{validationErrors:s,isFormValid:h,validatePlayerName:c,validateBeybladeConfiguration:u}}function ez({playerName:e,setPlayerName:t,paymentMode:r,setPaymentMode:n,tournament:i,validationErrors:s}){const{user:a}=Ft(),[l,c]=on.useState(!1);return on.useEffect(()=>{l&&a&&!a.id.startsWith("guest-")?t(a.username):l||t("")},[l,a,t]),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Td,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),a&&!a.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l,onChange:u=>c(u.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(UI,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Registering for myself (",a.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:e,onChange:u=>t(u.target.value),disabled:l,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"bg-gray-100 cursor-not-allowed":""}`}),s.duplicatePlayerName&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:r,onChange:u=>n(u.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]})}function tz({deckPresets:e,selectedPreset:t,setSelectedPreset:r,loadPreset:n}){var i,s,a;return o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Ba,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:t,onChange:l=>r(l.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),e.map(l=>o.jsxs("option",{value:l.id,children:[l.name," (",l.beyblades.length," Beyblades)"]},l.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>t&&n(t),disabled:!t,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),t&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(i=e.find(l=>l.id===t))==null?void 0:i.beyblades.slice(0,3).map((l,c)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:["• ",l.name||`Beyblade ${c+1}`]},c)),((s=e.find(l=>l.id===t))==null?void 0:s.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((a=e.find(l=>l.id===t))==null?void 0:a.beyblades.length)-3," more..."]})]})})]})}function rz({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(Ac,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(Es,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(Hf,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx(Ja,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(Uy,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Ja,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function nz({beyblade:e,index:t,beyblades:r,setBeyblades:n,partsData:i,validationErrors:s}){const a=p=>{switch(p){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},l=(p,y)=>{let w=[];switch(y){case"Blade":w=i.blades.filter(g=>g.Line===p);break;case"Main Blade":w=i.blades.filter(g=>g.Line==="Custom");break;case"Ratchet":w=i.ratchets;break;case"Bit":w=i.bits;break;case"Lockchip":w=i.lockchips;break;case"Assist Blade":w=i.assistBlades;break}return w.sort((g,v)=>c(g,y).localeCompare(c(v,y)))},c=(p,y)=>{switch(y){case"Blade":case"Main Blade":return p.Blades;case"Ratchet":return p.Ratchet;case"Bit":return`${p.Bit} (${p.Shortcut})`;case"Lockchip":return p.Lockchip;case"Assist Blade":return`${p["Assist Blade Name"]} (${p["Assist Blade"]})`;default:return""}},u=(p,y)=>{n(r.map(w=>w.id===e.id?{...w,bladeLine:y,parts:{}}:w))},d=(p,y)=>{n(r.map(w=>w.id===e.id?{...w,parts:{...w.parts,[p]:y}}:w))},f=()=>{r.length>1&&n(r.filter(p=>p.id!==e.id))},h=()=>{if(!a(e.bladeLine).every(y=>e.parts[y]))return"";if(e.bladeLine==="Custom"){const{Lockchip:y,"Main Blade":w,"Assist Blade":g,Ratchet:v,Bit:b}=e.parts;return`${(y==null?void 0:y.Lockchip)||""}${(w==null?void 0:w.Blades)||""} ${(g==null?void 0:g["Assist Blade"])||""}${(v==null?void 0:v.Ratchet)||""}${(b==null?void 0:b.Shortcut)||""}`}else{const{Blade:y,Ratchet:w,Bit:g}=e.parts;return`${(y==null?void 0:y.Blades)||""} ${(w==null?void 0:w.Ratchet)||""}${(g==null?void 0:g.Shortcut)||""}`}},m=()=>Object.values(e.parts).reduce((p,y)=>(y&&(p.attack+=y.Attack||0,p.defense+=y.Defense||0,p.stamina+=y.Stamina||0,p.dash+=y.Dash||0,p.burstRes+=y["Burst Res"]||0),p),{attack:0,defense:0,stamina:0,dash:0,burstRes:0});return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",t+1]}),r.length>1&&o.jsx("button",{onClick:f,className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blade Line *"}),o.jsxs("select",{value:e.bladeLine,onChange:p=>u("bladeLine",p.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Blade Line"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),e.bladeLine&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:h()||"Select all parts to generate name"})]})]}),e.bladeLine&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a(e.bladeLine).map(p=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[p," *"]}),o.jsxs("select",{value:e.parts[p]?JSON.stringify(e.parts[p]):"",onChange:y=>y.target.value&&d(p,JSON.parse(y.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",p]}),l(e.bladeLine,p).map((y,w)=>o.jsx("option",{value:JSON.stringify(y),children:c(y,p)},w))]}),e.parts[p]&&s.duplicateParts.some(y=>y.includes(c(e.parts[p],p)))&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This part is used in another Beyblade"})]},p))}),e.bladeLine&&Object.keys(e.parts).length>0&&o.jsx(rz,{stats:m()})]})}function iz({tournament:e,onClose:t}){const{user:r}=Ft();Yi();const{playerName:n,setPlayerName:i,paymentMode:s,setPaymentMode:a,beyblades:l,setBeyblades:c,deckPresets:u,selectedPreset:d,setSelectedPreset:f,loadPreset:h,partsData:m,isLoadingParts:p,partsError:y,fetchPartsData:w,handleSubmit:g}=QF(e,t),{validationErrors:v,isFormValid:b}=ZF(n,l,e);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[p&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[y&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:y}),o.jsx("button",{onClick:w,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsx(ez,{playerName:n,setPlayerName:i,paymentMode:s,setPaymentMode:a,tournament:e,validationErrors:v}),!(r!=null&&r.id.startsWith("guest-"))&&u.length>0&&o.jsx(tz,{deckPresets:u,selectedPreset:d,setSelectedPreset:f,loadPreset:h}),l.map((j,N)=>o.jsx(nz,{beyblade:j,index:N,beyblades:l,setBeyblades:c,partsData:m,validationErrors:v},j.id)),l.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>c([...l,{id:Date.now().toString(),bladeLine:"",parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:g,disabled:!b()||p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function sz(){Ft();const{alert:e}=Yi(),[t,r]=x.useState("all"),[n,i]=x.useState(null),[s,a]=x.useState([]),[l,c]=x.useState(!0);on.useEffect(()=>{(async()=>{try{const{data:m,error:p}=await J.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(p)throw p;a(m||[])}catch(m){console.error("Error fetching tournaments:",m),a([])}finally{c(!1)}})()},[]);const u=s.filter(h=>t==="all"||h.status===t),d=(h,m)=>{console.log("Tournament registration:",{playerName:h,beyblades:m}),e("Registration Complete",`Successfully registered ${h} with ${m.length} Beyblades for the tournament!`),i(null)},f=h=>{switch(h){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade battles"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(h=>o.jsx("button",{onClick:()=>r(h),className:`filter-tab capitalize ${t===h?"filter-tab-active":"filter-tab-inactive"}`,children:h},h))})}),l?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(bt,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>o.jsxs("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:h.name}),o.jsx("span",{className:`badge capitalize ${f(h.status)}`,children:h.status})]}),o.jsx("p",{className:"text-gray-600 mb-6 font-inter",children:h.description}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(zi,{size:16,className:"mr-2"}),new Date(h.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(DI,{size:16,className:"mr-2"}),h.location]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Et,{size:16,className:"mr-2"}),h.max_participants===999999?`${h.current_participants} participants (no limit)`:`${h.current_participants}/${h.max_participants} participants`]}),h.prize_pool&&o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(bt,{size:16,className:"mr-2"}),"Prize Pool: ",h.prize_pool]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Hf,{size:16,className:"mr-2"}),"Registration ends: ",new Date(h.registration_deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-2",children:[o.jsx("span",{children:"Registration Progress"}),o.jsx("span",{children:h.max_participants===999999?`${h.current_participants} registered`:`${Math.round(h.current_participants/h.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:h.max_participants===999999?"100%":`${Math.min(h.current_participants/h.max_participants*100,100)}%`}})})]}),h.status==="upcoming"&&o.jsx("button",{onClick:()=>i(h.id),disabled:h.max_participants!==999999&&h.current_participants>=h.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed",children:h.max_participants!==999999&&h.current_participants>=h.max_participants?"Tournament Full":"Register for Tournament"})]},h.id))}),n&&o.jsx(iz,{tournament:u.find(h=>h.id===n),onClose:()=>i(null),onSubmit:d})]})})}function rE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=rE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=rE(e))&&(n&&(n+=" "),n+=t);return n}var th={},nE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(nE);var Pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Pv);var _v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(_v);var rh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(rh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nE,r=Pv,n=_v,i=rh;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(th);var az=th.get;const Wi=Kr(az);var iE={exports:{}},Oe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=Symbol.for("react.transitional.element"),Av=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),ah=Symbol.for("react.consumer"),oh=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),oz=Symbol.for("react.view_transition"),lz=Symbol.for("react.client.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kv:switch(e=e.type,e){case nh:case sh:case ih:case ch:case uh:case oz:return e;default:switch(e=e&&e.$$typeof,e){case oh:case lh:case fh:case dh:return e;case ah:return e;default:return t}}case Av:return t}}}Oe.ContextConsumer=ah;Oe.ContextProvider=oh;Oe.Element=kv;Oe.ForwardRef=lh;Oe.Fragment=nh;Oe.Lazy=fh;Oe.Memo=dh;Oe.Portal=Av;Oe.Profiler=sh;Oe.StrictMode=ih;Oe.Suspense=ch;Oe.SuspenseList=uh;Oe.isContextConsumer=function(e){return qr(e)===ah};Oe.isContextProvider=function(e){return qr(e)===oh};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kv};Oe.isForwardRef=function(e){return qr(e)===lh};Oe.isFragment=function(e){return qr(e)===nh};Oe.isLazy=function(e){return qr(e)===fh};Oe.isMemo=function(e){return qr(e)===dh};Oe.isPortal=function(e){return qr(e)===Av};Oe.isProfiler=function(e){return qr(e)===sh};Oe.isStrictMode=function(e){return qr(e)===ih};Oe.isSuspense=function(e){return qr(e)===ch};Oe.isSuspenseList=function(e){return qr(e)===uh};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nh||e===sh||e===ih||e===ch||e===uh||typeof e=="object"&&e!==null&&(e.$$typeof===fh||e.$$typeof===dh||e.$$typeof===oh||e.$$typeof===ah||e.$$typeof===lh||e.$$typeof===lz||e.getModuleId!==void 0)};Oe.typeOf=qr;iE.exports=Oe;var cz=iE.exports,jt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),En=e=>ie(e)||typeof e=="string",uz=0,oc=e=>{var t=++uz;return"".concat(e||"").concat(t)},Yt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return n;var s;if(ws(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return wr(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},sE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Ea=(e,t)=>ie(e)&&ie(t)?r=>e+r*(t-e):()=>t;function oa(e,t,r){return ie(e)&&ie(t)?e+r*(t-e):t}function dz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wi(n,t))===r)}var et=e=>e===null||typeof e>"u",Mc=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),fz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ev(e){if(typeof e!="string")return!1;var t=fz;return t.includes(e)}var hz=["viewBox","children"],Dj=["points","pathLength"],ep={svg:hz,polygon:Dj,polyline:Dj},Ov=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Ev(i)&&(n[i]=s=>r[i](r,s))}),n},mz=(e,t,r)=>n=>(e(t,r,n),null),Po=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Ev(i)&&typeof s=="function"&&(n||(n={}),n[i]=mz(s,t,r))}),n},pz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aE(e){if(typeof e!="string")return!1;var t=pz;return t.includes(e)}function zt(e){var t=Object.entries(e).filter(r=>{var[n]=r;return aE(n)});return Object.fromEntries(t)}var $j=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Ij=null,tp=null,oE=e=>{if(e===Ij&&Array.isArray(tp))return tp;var t=[];return x.Children.forEach(e,r=>{et(r)||(cz.isFragment(r)?t=t.concat(oE(r.props.children)):t.push(r))}),tp=t,Ij=e,t};function Rc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>$j(i)):n=[$j(t)],oE(e).forEach(i=>{var s=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var gz=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(ep==null?void 0:ep[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||aE(t)),c=!!r&&Ev(t);return a||l||c},je=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;gz((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},yz=["children","width","height","viewBox","className","style","title","desc"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(null,arguments)}function vz(e,t){if(e==null)return{};var r,n,i=xz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lE=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=vz(e,yz),f=s||{width:n,height:i,x:0,y:0},h=me("recharts-surface",a);return x.createElement("svg",Qg({},je(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),bz=["children","className"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}function wz(e,t){if(e==null)return{};var r,n,i=jz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ge=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=wz(e,bz),s=me("recharts-layer",n);return x.createElement("g",Zg({className:s},je(i,!0),{ref:t}),r)}),Nz=x.createContext(null);function Re(e){return function(){return e}}const cE=Math.cos,Ld=Math.sin,fn=Math.sqrt,Bd=Math.PI,hh=2*Bd,e0=Math.PI,t0=2*e0,fs=1e-6,Sz=t0-fs;function uE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Pz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uE;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class _z{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uE:Pz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fs)if(!(Math.abs(f*c-u*d)>fs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=i-l,y=c*c+u*u,w=m*m+p*p,g=Math.sqrt(y),v=Math.sqrt(h),b=s*Math.tan((e0-Math.acos((y+h-w)/(2*g*v)))/2),j=b/v,N=b/g;Math.abs(j-1)>fs&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fs||Math.abs(this._y1-d)>fs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%t0+t0),h>Sz?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>fs&&this._append`A${n},${n},0,${+(h>=e0)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Cv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new _z(t)}function Tv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dE(e){this._context=e}dE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mh(e){return new dE(e)}function fE(e){return e[0]}function hE(e){return e[1]}function mE(e,t){var r=Re(!0),n=null,i=mh,s=null,a=Cv(l);e=typeof e=="function"?e:e===void 0?fE:Re(e),t=typeof t=="function"?t:t===void 0?hE:Re(t);function l(c){var u,d=(c=Tv(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Pu(e,t,r){var n=null,i=Re(!0),s=null,a=mh,l=null,c=Cv(u);e=typeof e=="function"?e:e===void 0?fE:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?hE:Re(+r);function u(f){var h,m,p,y=(f=Tv(f)).length,w,g=!1,v,b=new Array(y),j=new Array(y);for(s==null&&(l=a(v=c())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return mE().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Re(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class pE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function kz(e){return new pE(e,!0)}function Az(e){return new pE(e,!1)}const Mv={draw(e,t){const r=fn(t/Bd);e.moveTo(r,0),e.arc(0,0,r,0,hh)}},Ez={draw(e,t){const r=fn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gE=fn(1/3),Oz=gE*2,Cz={draw(e,t){const r=fn(t/Oz),n=r*gE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Tz={draw(e,t){const r=fn(t),n=-r/2;e.rect(n,n,r,r)}},Mz=.8908130915292852,yE=Ld(Bd/10)/Ld(7*Bd/10),Rz=Ld(hh/10)*yE,Dz=-cE(hh/10)*yE,$z={draw(e,t){const r=fn(t*Mz),n=Rz*r,i=Dz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=hh*s/5,l=cE(a),c=Ld(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},rp=fn(3),Iz={draw(e,t){const r=-fn(t/(rp*3));e.moveTo(0,r*2),e.lineTo(-rp*r,-r),e.lineTo(rp*r,-r),e.closePath()}},Or=-.5,Cr=fn(3)/2,r0=1/fn(12),Lz=(r0/2+1)*3,Bz={draw(e,t){const r=fn(t/Lz),n=r/2,i=r*r0,s=n,a=r*r0+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Or*n-Cr*i,Cr*n+Or*i),e.lineTo(Or*s-Cr*a,Cr*s+Or*a),e.lineTo(Or*l-Cr*c,Cr*l+Or*c),e.lineTo(Or*n+Cr*i,Or*i-Cr*n),e.lineTo(Or*s+Cr*a,Or*a-Cr*s),e.lineTo(Or*l+Cr*c,Or*c-Cr*l),e.closePath()}};function Fz(e,t){let r=null,n=Cv(i);e=typeof e=="function"?e:Re(e||Mv),t=typeof t=="function"?t:Re(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Fd(){}function zd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vE(e){this._context=e}vE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zz(e){return new vE(e)}function xE(e){this._context=e}xE.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Uz(e){return new xE(e)}function bE(e){this._context=e}bE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wz(e){return new bE(e)}function wE(e){this._context=e}wE.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Vz(e){return new wE(e)}function Lj(e){return e<0?-1:1}function Bj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(Lj(s)+Lj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Fj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function np(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:np(this,this._t0,Fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,np(this,Fj(this,r=Bj(this,e,t)),r);break;default:np(this,this._t0,r=Bj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jE(e){this._context=new NE(e)}(jE.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function NE(e){this._context=e}NE.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Kz(e){return new Ud(e)}function qz(e){return new jE(e)}function SE(e){this._context=e}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=zj(e),i=zj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Hz(e){return new SE(e)}function ph(e,t){this._context=e,this._t=t}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Gz(e){return new ph(e,.5)}function Yz(e){return new ph(e,0)}function Xz(e){return new ph(e,1)}function to(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function n0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Jz(e,t){return e[t]}function Qz(e){const t=[];return t.key=e,t}function Zz(){var e=Re([]),t=n0,r=to,n=Jz;function i(s){var a=Array.from(e.apply(this,arguments),Qz),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Tv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?n0:typeof s=="function"?s:Re(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??to,i):r},i}function e8(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}to(e,t)}}function t8(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}to(e,t)}}function r8(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var y=e[t[p]],w=y[n][1]||0,g=y[n-1][1]||0;m+=w-g}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,to(e,t)}}var n8=["type","size","sizeType"];function i0(){return i0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i0.apply(null,arguments)}function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){i8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i8(e,t,r){return(t=s8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function o8(e,t){if(e==null)return{};var r,n,i=l8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function l8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PE={symbolCircle:Mv,symbolCross:Ez,symbolDiamond:Cz,symbolSquare:Tz,symbolStar:$z,symbolTriangle:Iz,symbolWye:Bz},c8=Math.PI/180,u8=e=>{var t="symbol".concat(Mc(e));return PE[t]||Mv},d8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*c8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},f8=(e,t)=>{PE["symbol".concat(Mc(e))]=t},_E=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=o8(e,n8),s=Wj(Wj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=u8(t),h=Fz().type(f).size(d8(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=je(s,!0);return c===+c&&u===+u&&r===+r?x.createElement("path",i0({},d,{className:me("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};_E.registerSymbol=f8;var kE={},AE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(AE);var Dc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Dc);var EE={},gh={},OE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(OE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gh);var CE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(CE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gh,r=CE;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(EE);var yh={},TE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=th;function r(n){return function(i){return t.get(i,n)}}e.property=r})(TE);var ME={},ip={},sp={},Rv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Rv);var Dv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Dv);var vh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(vh);var Vj;function h8(){return Vj||(Vj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v(),r=Rv,n=Dv,i=vh;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(y,w,g,v,b,j){const N=m(y,w,g,v,b,j);return N!==void 0?!!N:a(y,w,p,j)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let w=0;w<y.length;w++){const g=y[w];if(!n.isPrimitive(f)&&!(g in f)||h[g]===void 0&&f[g]!==void 0||h[g]===null&&f[g]!==null||!m(f[g],h[g],g,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,w]of h.entries()){const g=f.get(y);if(m(g,w,y,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let w=0;w<h.length;w++){const g=h[w];let v=!1;for(let b=0;b<f.length;b++){if(y.has(b))continue;const j=f[b];let N=!1;if(m(j,g,w,f,h,p)&&(N=!0),N){y.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=s,e.isSetMatch=d}(sp)),sp}var Kj;function $v(){return Kj||(Kj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=h8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(ip)),ip}var RE={},Iv={},Lv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Lv);var xh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(xh);var bh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",w="[object Uint8Array]",g="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",A="[object BigInt64Array]",R="[object Float32Array]",D="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=D,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=g})(bh);var DE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(DE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lv,r=xh,n=bh,i=Dv,s=DE;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const y=p==null?void 0:p(d,f,h,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let g=0;g<d.length;g++)w[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[g,v]of d)w.set(g,l(v,g,h,m,p));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const g of d)w.add(l(g,void 0,h,m,p));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let g=0;g<d.length;g++)w[g]=l(d[g],g,h,m,p);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,p),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,p),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,p),w}return d}function c(d,f,h=d,m,p){const y=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<y.length;w++){const g=y[w],v=Object.getOwnPropertyDescriptor(d,g);(v==null||v.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(Iv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(RE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v(),r=RE;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(ME);var $E={},IE={},LE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv,r=bh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(LE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(IE);var BE={},Bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Bv);var FE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(FE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pv,r=Bv,n=FE,i=rh;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(BE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v(),r=_v,n=IE,i=th,s=BE;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})($E);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dc,r=TE,n=ME,i=$E;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(yh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AE,r=Dc,n=EE,i=yh;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(kE);var m8=kE.uniqBy;const qj=Kr(m8);function p8(e,t,r){return t===!0?qj(e,r):typeof t=="function"?qj(e,t):e}var zE={exports:{}},UE={},WE={exports:{}},VE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=x;function g8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var y8=typeof Object.is=="function"?Object.is:g8,v8=ro.useState,x8=ro.useEffect,b8=ro.useLayoutEffect,w8=ro.useDebugValue;function j8(e,t){var r=t(),n=v8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return b8(function(){i.value=r,i.getSnapshot=t,ap(i)&&s({inst:i})},[e,r,t]),x8(function(){return ap(i)&&s({inst:i}),e(function(){ap(i)&&s({inst:i})})},[e]),w8(r),r}function ap(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!y8(e,r)}catch{return!0}}function N8(e,t){return t()}var S8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?N8:j8;VE.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:S8;WE.exports=VE;var P8=WE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=x,_8=P8;function k8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var A8=typeof Object.is=="function"?Object.is:k8,E8=_8.useSyncExternalStore,O8=wh.useRef,C8=wh.useEffect,T8=wh.useMemo,M8=wh.useDebugValue;UE.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=O8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=T8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,A8(d,m))return p;var y=n(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=E8(e,s[0],s[1]);return C8(function(){a.hasValue=!0,a.value=l},[l]),M8(l),l};zE.exports=UE;var R8=zE.exports,Fv=x.createContext(null),D8=e=>e,Ye=()=>{var e=x.useContext(Fv);return e?e.store.dispatch:D8},id=()=>{},$8=()=>id,I8=(e,t)=>e===t;function ne(e){var t=x.useContext(Fv);return R8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$8,t?t.store.getState:id,t?t.store.getState:id,t?e:id,I8)}function L8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function B8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function F8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Hj=e=>Array.isArray(e)?e:[e];function z8(e){const t=Array.isArray(e[0])?e[0]:e;return F8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function U8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var W8=class{constructor(e){this.value=e}deref(){return this.value}},V8=typeof WeakRef<"u"?WeakRef:W8,K8=0,Gj=1;function _u(){return{s:K8,v:void 0,o:null,p:null}}function KE(e,t={}){let r=_u();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const w=y.get(p);w===void 0?(l=_u(),y.set(p,l)):l=w}else{let y=l.p;y===null&&(l.p=y=new Map);const w=y.get(p);w===void 0?(l=_u(),y.set(p,l)):l=w}}const u=l;let d;if(l.s===Gj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new V8(d):d}return u.s=Gj,u.v=d,d}return a.clearCache=()=>{r=_u(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function q8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),L8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=KE,argsMemoizeOptions:p=[],devModeChecks:y={}}=d,w=Hj(h),g=Hj(p),v=z8(i),b=f(function(){return s++,u.apply(null,arguments)},...w),j=m(function(){a++;const S=U8(v,arguments);return l=b.apply(null,S),l},...g);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=q8(KE),H8=Object.assign((e,t=L)=>{B8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>H8}),qE={},HE={},GE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(GE);var YE={},zv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(zv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(YE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GE,r=YE,n=rh;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let y=m;for(let w=0;w<p.length&&y!=null;++w)y=y[p[w]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<f.length;y++){const w=t.compareValues(m.criteria[y],p.criteria[y],l[y]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(HE);var XE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(XE);var Uv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv,r=gh,n=Rv,i=vh;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Uv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HE,r=XE,n=Uv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(qE);var G8=qE.sortBy;const jh=Kr(G8);var JE=e=>e.legend.settings,Y8=e=>e.legend.size,X8=e=>e.legend.payload;L([X8,JE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?jh(n,r):n});var ku=1;function J8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>ku||Math.abs(a.left-t.left)>ku||Math.abs(a.top-t.top)>ku||Math.abs(a.width-t.width)>ku)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Q8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Yj=Q8,op=()=>Math.random().toString(36).substring(7).split("").join("."),Z8={INIT:`@@redux/INIT${op()}`,REPLACE:`@@redux/REPLACE${op()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${op()}`},Wd=Z8;function Wv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QE(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(QE)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,g)=>{a.set(g,w)}))}function d(){if(c)throw new Error(Pt(3));return i}function f(w){if(typeof w!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let g=!0;u();const v=l++;return a.set(v,w),function(){if(g){if(c)throw new Error(Pt(6));g=!1,u(),a.delete(v),s=null}}}function h(w){if(!Wv(w))throw new Error(Pt(7));if(typeof w.type>"u")throw new Error(Pt(8));if(typeof w.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(Pt(10));n=w,h({type:Wd.REPLACE})}function p(){const w=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Pt(11));function v(){const j=g;j.next&&j.next(d())}return v(),{unsubscribe:w(v)}},[Yj](){return this}}}return h({type:Wd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Yj]:p}}function eU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wd.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function ZE(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{eU(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Pt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function tU(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Vd(...l)(i.dispatch),{...i,dispatch:s}}}function eO(e){return Wv(e)&&"type"in e&&typeof e.type=="string"}var tO=Symbol.for("immer-nothing"),Xj=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var no=Object.getPrototypeOf;function Us(e){return!!e&&!!e[jr]}function Jn(e){var t;return e?rO(e)||Array.isArray(e)||!!e[Xj]||!!((t=e.constructor)!=null&&t[Xj])||Sh(e)||Ph(e):!1}var rU=Object.prototype.constructor.toString();function rO(e){if(!e||typeof e!="object")return!1;const t=no(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===rU}function Kd(e,t){Nh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Nh(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Sh(e)?2:Ph(e)?3:0}function s0(e,t){return Nh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nO(e,t,r){const n=Nh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function nU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Sh(e){return e instanceof Map}function Ph(e){return e instanceof Set}function hs(e){return e.copy_||e.base_}function a0(e,t){if(Sh(e))return new Map(e);if(Ph(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=rO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(no(e),n)}else{const n=no(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Vv(e,t=!1){return _h(e)||Us(e)||!Jn(e)||(Nh(e)>1&&(e.set=e.add=e.clear=e.delete=iU),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Vv(n,!0))),e}function iU(){nn(2)}function _h(e){return Object.isFrozen(e)}var sU={};function Ws(e){const t=sU[e];return t||nn(0,e),t}var lc;function iO(){return lc}function aU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jj(e,t){t&&(Ws("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function o0(e){l0(e),e.drafts_.forEach(oU),e.drafts_=null}function l0(e){e===lc&&(lc=e.parent_)}function Qj(e){return lc=aU(lc,e)}function oU(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Zj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(o0(t),nn(4)),Jn(e)&&(e=qd(t,e),t.parent_||Hd(t,e)),t.patches_&&Ws("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=qd(t,r,[]),o0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tO?e:void 0}function qd(e,t,r){if(_h(t))return t;const n=t[jr];if(!n)return Kd(t,(i,s)=>eN(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Hd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Kd(s,(l,c)=>eN(e,n,i,l,c,r,a)),Hd(e,i,!1),r&&e.patches_&&Ws("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function eN(e,t,r,n,i,s,a){if(Us(i)){const l=s&&t&&t.type_!==3&&!s0(t.assigned_,n)?s.concat(n):void 0,c=qd(e,i,l);if(nO(r,n,c),Us(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Jn(i)&&!_h(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Hd(e,i)}}function Hd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vv(t,r)}function lU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:iO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Kv;r&&(i=[n],s=cc);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var Kv={get(e,t){if(t===jr)return e;const r=hs(e);if(!s0(r,t))return cU(e,r,t);const n=r[t];return e.finalized_||!Jn(n)?n:n===lp(e.base_,t)?(cp(e),e.copy_[t]=u0(n,e)):n},has(e,t){return t in hs(e)},ownKeys(e){return Reflect.ownKeys(hs(e))},set(e,t,r){const n=sO(hs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=lp(hs(e),t),s=i==null?void 0:i[jr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(nU(r,i)&&(r!==void 0||s0(e.base_,t)))return!0;cp(e),c0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cp(e),c0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){nn(11)},getPrototypeOf(e){return no(e.base_)},setPrototypeOf(){nn(12)}},cc={};Kd(Kv,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,r){return Kv.set.call(this,e[0],t,r,e[0])};function lp(e,t){const r=e[jr];return(r?hs(r):e)[t]}function cU(e,t,r){var i;const n=sO(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function sO(e,t){if(!(t in e))return;let r=no(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=no(r)}}function c0(e){e.modified_||(e.modified_=!0,e.parent_&&c0(e.parent_))}function cp(e){e.copy_||(e.copy_=a0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var uU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&nn(6),n!==void 0&&typeof n!="function"&&nn(7);let i;if(Jn(t)){const s=Qj(this),a=u0(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?o0(s):l0(s)}return Jj(s,n),Zj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===tO&&(i=void 0),this.autoFreeze_&&Vv(i,!0),n){const s=[],a=[];Ws("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else nn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jn(e)||nn(8),Us(e)&&(e=Vn(e));const t=Qj(this),r=u0(e,void 0);return r[jr].isManual_=!0,l0(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&nn(9);const{scope_:n}=r;return Jj(n,t),Zj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ws("Patches").applyPatches_;return Us(e)?n(e,t):this.produce(e,i=>n(i,t))}};function u0(e,t){const r=Sh(e)?Ws("MapSet").proxyMap_(e,t):Ph(e)?Ws("MapSet").proxySet_(e,t):lU(e,t);return(t?t.scope_:iO()).drafts_.push(r),r}function Vn(e){return Us(e)||nn(10,e),aO(e)}function aO(e){if(!Jn(e)||_h(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=a0(e,t.scope_.immer_.useStrictShallowCopy_)}else r=a0(e,!0);return Kd(r,(n,i)=>{nO(r,n,aO(i))}),t&&(t.finalized_=!1),r}var Nr=new uU,oO=Nr.produce;Nr.produceWithPatches.bind(Nr);Nr.setAutoFreeze.bind(Nr);Nr.setUseStrictShallowCopy.bind(Nr);Nr.applyPatches.bind(Nr);Nr.createDraft.bind(Nr);Nr.finishDraft.bind(Nr);function lO(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var dU=lO(),fU=lO,hU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vd:Vd.apply(null,arguments)};function Wr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>eO(n)&&n.type===e,r}var cO=class pl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pl.prototype)}static get[Symbol.species](){return pl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pl(...t[0].concat(this)):new pl(...t.concat(this))}};function tN(e){return Jn(e)?oO(e,()=>{}):e}function Au(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function mU(e){return typeof e=="boolean"}var pU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new cO;return r&&(mU(r)?a.push(dU):a.push(fU(r.extraArgument))),a},gU="RTK_autoBatch",rN=e=>t=>{setTimeout(t,e)},yU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:rN(10):e.type==="callback"?e.queueNotification:rN(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[gU]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},vU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new cO(e);return n&&i.push(yU(typeof n=="object"?n:void 0)),i};function xU(e){const t=pU(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Wv(r))c=ZE(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Vd;i&&(d=hU({trace:!1,...typeof i=="object"&&i}));const f=tU(...u),h=vU(f);let m=typeof l=="function"?l(h):h();const p=d(...m);return QE(c,a,p)}function uO(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(xr(28));if(l in t)throw new Error(xr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function bU(e){return typeof e=="function"}function wU(e,t){let[r,n,i]=uO(t),s;if(bU(e))s=()=>tN(e());else{const l=tN(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Us(d)){const m=f(d,c);return m===void 0?d:m}else{if(Jn(d))return oO(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var jU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",NU=(e=21)=>{let t="",r=e;for(;r--;)t+=jU[Math.random()*64|0];return t},SU=Symbol.for("rtk-slice-createasyncthunk");function PU(e,t){return`${e}/${t}`}function _U({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[SU];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(xr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(AU()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(xr(12));if(S in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=l[j],S={reducerName:j,type:PU(s,j),createNotation:typeof i.reducers=="function"};OU(N)?TU(S,N,d,t):EU(S,N,d)});function f(){const[j={},N=[],S=void 0]=typeof i.extraReducers=="function"?uO(i.extraReducers):[i.extraReducers],P={...j,...u.sliceCaseReducersByType};return wU(i.initialState,A=>{for(let R in P)A.addCase(R,P[R]);for(let R of u.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of N)A.addMatcher(R.matcher,R.reducer);S&&A.addDefaultCase(S)})}const h=j=>j,m=new Map,p=new WeakMap;let y;function w(j,N){return y||(y=f()),y(j,N)}function g(){return y||(y=f()),y.getInitialState()}function v(j,N=!1){function S(A){let R=A[j];return typeof R>"u"&&N&&(R=Au(p,S,g)),R}function P(A=h){const R=Au(m,N,()=>new WeakMap);return Au(R,A,()=>{const D={};for(const[E,B]of Object.entries(i.selectors??{}))D[E]=kU(B,A,()=>Au(p,A,g),N);return D})}return{reducerPath:j,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...v(a),injectInto(j,{reducerPath:N,...S}={}){const P=N??a;return j.inject({reducerPath:P,reducer:w},S),{...b,...v(P,!0)}}};return b}}function kU(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var kr=_U();function AU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function EU({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!CU(n))throw new Error(xr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Wr(e,a):Wr(e))}function OU(e){return e._reducerDefinitionType==="asyncThunk"}function CU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function TU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Eu,pending:l||Eu,rejected:c||Eu,settled:u||Eu})}function Eu(){}var MU="task",dO="listener",fO="completed",qv="cancelled",RU=`task-${qv}`,DU=`task-${fO}`,d0=`${dO}-${qv}`,$U=`${dO}-${fO}`,kh=class{constructor(e){nm(this,"name","TaskAbortError");nm(this,"message");this.code=e,this.message=`${MU} ${qv} (reason: ${e})`}},Hv=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},Gd=()=>{},hO=(e,t=Gd)=>(e.catch(t),e),mO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ts=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ms=e=>{if(e.aborted){const{reason:t}=e;throw new kh(t)}};function pO(e,t){let r=Gd;return new Promise((n,i)=>{const s=()=>i(new kh(e.reason));if(e.aborted){s();return}r=mO(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gd})}var IU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof kh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yd=e=>t=>hO(pO(e,t).then(r=>(Ms(e),r))),gO=e=>{const t=Yd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:za}=Object,nN={},Ah="listenerMiddleware",LU=(e,t)=>{const r=n=>mO(e,()=>Ts(n,e.reason));return(n,i)=>{Hv(n);const s=new AbortController;r(s);const a=IU(async()=>{Ms(e),Ms(s.signal);const l=await n({pause:Yd(s.signal),delay:gO(s.signal),signal:s.signal});return Ms(s.signal),l},()=>Ts(s,DU));return i!=null&&i.autoJoin&&t.push(a.catch(Gd)),{result:Yd(e)(a),cancel(){Ts(s,RU)}}}},BU=(e,t)=>{const r=async(n,i)=>{Ms(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await pO(t,Promise.race(l));return Ms(t),c}finally{s()}};return(n,i)=>hO(r(n,i))},yO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Wr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return Hv(s),{predicate:i,type:t,effect:s}},vO=za(e=>{const{type:t,predicate:r,effect:n}=yO(e);return{id:NU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>vO}),iN=(e,t)=>{const{type:r,effect:n,predicate:i}=yO(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},f0=e=>{e.pending.forEach(t=>{Ts(t,d0)})},FU=e=>()=>{e.forEach(f0),e.clear()},sN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},xO=za(Wr(`${Ah}/add`),{withTypes:()=>xO}),zU=Wr(`${Ah}/removeAll`),bO=za(Wr(`${Ah}/remove`),{withTypes:()=>bO}),UU=(...e)=>{console.error(`${Ah}/error`,...e)},$c=(e={})=>{const t=new Map,{extra:r,onError:n=UU}=e;Hv(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&f0(d)}),s=d=>{const f=iN(t,d)??vO(d);return i(f)};za(s,{withTypes:()=>s});const a=d=>{const f=iN(t,d);return f&&(f.unsubscribe(),d.cancelActive&&f0(f)),!!f};za(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,y=BU(s,p.signal),w=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,za({},h,{getOriginalState:m,condition:(g,v)=>y(g,v).then(Boolean),take:y,delay:gO(p.signal),pause:Yd(p.signal),extra:r,signal:p.signal,fork:LU(p.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((g,v,b)=>{g!==p&&(Ts(g,d0),b.delete(g))})},cancel:()=>{Ts(p,d0),d.pending.delete(p)},throwIfCancelled:()=>{Ms(p.signal)}})))}catch(g){g instanceof kh||sN(n,g,{raisedBy:"effect"})}finally{await Promise.all(w),Ts(p,$U),d.pending.delete(p)}},c=FU(t);return{middleware:d=>f=>h=>{if(!eO(h))return f(h);if(xO.match(h))return s(h.payload);if(zU.match(h)){c();return}if(bO.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===nN)throw new Error(xr(23));return m};let y;try{if(y=f(h),t.size>0){const w=d.getState(),g=Array.from(t.values());for(const v of g){let b=!1;try{b=v.predicate(h,w,m)}catch(j){b=!1,sN(n,j,{raisedBy:"predicate"})}b&&l(v,h,d,p)}}}finally{m=nN}return y},startListening:s,stopListening:a,clearListeners:c}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wO=kr({name:"chartLayout",initialState:WU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:VU,setLayout:KU,setChartSize:qU,setScale:HU}=wO.actions,GU=wO.reducer;function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return(t=XU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=JU(e,"string");return typeof t=="symbol"?t:t+""}function JU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,QU=e=>e*180/Math.PI,Se=(e,t,r,n)=>({x:e+Math.cos(-Xd*n)*r,y:t+Math.sin(-Xd*n)*r}),jO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},ZU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},e9=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=ZU({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:QU(c),angleInRadian:c}},t9=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},r9=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},n9=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=e9({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=t9(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?oN(oN({},t),{},{radius:i,angle:r9(d,t)}):null},NO=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function SO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function lN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lN(Object(r),!0).forEach(function(n){i9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i9(e,t,r){return(t=s9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s9(e){var t=a9(e,"string");return typeof t=="symbol"?t:t+""}function a9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $e(e,t,r){return et(e)||et(t)?r:En(t)?Wi(e,t,r):typeof t=="function"?t(e):r}var o9=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(jt(d-u)!==jt(f-d)){var m=[];if(jt(f-d)===jt(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var y=f+i[1]-i[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var g=Math.min(u,f),v=Math.max(u,f);if(e>(g+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},l9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ie(e[s]))return $r($r({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ie(e[a]))return $r($r({},e),{},{[a]:e[a]+(i||0)})}return e},Ji=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PO=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},_O=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(y=m==="angleAxis"&&s&&s.length>=2?jt(s[0]-s[1])*2*y:y,f||h){var w=(f||h||[]).map((g,v)=>{var b=n?n.indexOf(g):g;return{coordinate:a(b)+y,value:g,offset:y,index:v}});return w.filter(g=>!wr(g.coordinate))}return c&&u?u.map((g,v)=>({coordinate:a(g)+y,value:g,index:v,offset:y})):a.ticks&&!r&&d!=null?a.ticks(d).map((g,v)=>({coordinate:a(g)+y,value:g,offset:y,index:v})):a.domain().map((g,v)=>({coordinate:a(g)+y,value:n?n[g]:g,index:v,offset:y}))},cN=1e-4,c9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-cN,s=Math.max(n[0],n[1])+cN,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},u9=(e,t)=>{if(!t||t.length!==2||!ie(t[0])||!ie(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(i[0]=r),(!ie(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},d9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=wr(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},f9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=wr(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},h9={sign:d9,expand:e8,none:to,silhouette:t8,wiggle:r8,positive:f9},m9=(e,t,r)=>{var n=h9[r],i=Zz().keys(t).value((s,a)=>+$e(s,a,0)).order(n0).offset(n);return i(e)};function p9(e){return e==null?void 0:String(e)}var uN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=$e(s,t.dataKey,t.scale.domain()[a]);return et(l)?null:t.scale(l)-i/2+n},g9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},y9=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},v9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],x9=(e,t,r)=>{if(e!=null)return v9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=SO(u,t,r),f=y9(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},dN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=jh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function hN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return $r($r({},t),{},{dataKey:r,payload:n,value:i,name:s})}function _o(e,t){if(e)return String(e);if(typeof t=="string")return t}function b9(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?n9({x:e,y:t},n):null}var w9=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return $r($r($r({},n),Se(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return $r($r($r({},n),Se(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},j9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,si=e=>e.layout.width,ai=e=>e.layout.height,N9=e=>e.layout.scale,kO=e=>e.layout.margin,Gv=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yv=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AO="data-recharts-item-index",EO="data-recharts-item-data-key",Eh=60;function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){S9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function S9(e,t,r){return(t=P9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P9(e){var t=_9(e,"string");return typeof t=="symbol"?t:t+""}function _9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var k9=e=>e.brush.height,ft=L([si,ai,kO,k9,Gv,Yv,JE,Y8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((p,y)=>{var{orientation:w}=y;if(!y.mirror&&!y.hide){var g=typeof y.width=="number"?y.width:Eh;return mi(mi({},p),{},{[w]:p[w]+g})}return p},{left:r.left||0,right:r.right||0}),u=i.reduce((p,y)=>{var{orientation:w}=y;return!y.mirror&&!y.hide?mi(mi({},p),{},{[w]:Wi(p,"".concat(w))+y.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=mi(mi({},u),c),f=d.bottom;d.bottom+=n,d=l9(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return mi(mi({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),A9=L(ft,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),OO=L(si,ai,(e,t)=>({x:0,y:0,width:e,height:t})),E9=x.createContext(null),fr=()=>x.useContext(E9)!=null,Oh=e=>e.brush,Ch=L([Oh,ft,kO],(e,t,r)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ie(e.width)?e.width:t.width})),Xv=()=>{var e,t=fr(),r=ne(A9),n=ne(Ch),i=(e=ne(Oh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},O9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CO=()=>{var e;return(e=ne(ft))!==null&&e!==void 0?e:O9},TO=()=>ne(si),MO=()=>ne(ai),xe=e=>e.layout.layoutType,Jv=()=>ne(xe),C9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RO=kr({name:"legend",initialState:C9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Vn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:vre,setLegendSettings:xre,addLegendPayload:DO,removeLegendPayload:$O}=RO.actions,T9=RO.reducer;function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(null,arguments)}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $9(e){return Array.isArray(e)&&En(e[0])&&En(e[1])?e.join(" ~ "):e}var I9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var N={padding:0,margin:0},S=(l?jh(s,l):s).map((P,A)=>{if(P.type==="none")return null;var R=P.formatter||a||$9,{value:D,name:E}=P,B=D,$=E;if(R){var M=R(D,E,P,A,s);if(Array.isArray(M))[B,$]=M;else if(M!=null)B=M;else return null}var O=up({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:O},En($)?x.createElement("span",{className:"recharts-tooltip-item-name"},$):null,En($)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},B),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},p=up({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=up({margin:0},i),w=!et(d),g=w?d:"",v=me("recharts-default-tooltip",c),b=me("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(g=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",h0({className:v,style:p},j),x.createElement("p",{className:b,style:y},x.isValidElement(g)?g:"".concat(g)),m())},el="recharts-tooltip-wrapper",L9={visibility:"hidden"};function B9(e){var{coordinate:t,translateX:r,translateY:n}=e;return me(el,{["".concat(el,"-right")]:ie(r)&&t&&ie(t.x)&&r>=t.x,["".concat(el,"-left")]:ie(r)&&t&&ie(t.x)&&r<t.x,["".concat(el,"-bottom")]:ie(n)&&t&&ie(t.y)&&n>=t.y,["".concat(el,"-top")]:ie(n)&&t&&ie(t.y)&&n<t.y})}function gN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ie(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,w=h+u;return y>w?Math.max(d,h):Math.max(f,h)}function F9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function z9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=gN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=gN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=F9({translateX:d,translateY:f,useTranslate3d:l})):u=L9,{cssProperties:u,cssClasses:B9({translateX:d,translateY:f,coordinate:r})}}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ou(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){m0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function m0(e,t,r){return(t=U9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=W9(e,"string");return typeof t=="symbol"?t:t+""}function W9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class V9 extends x.PureComponent{constructor(){super(...arguments),m0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),m0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:w,hasPortalFromProps:g}=this.props,{cssClasses:v,cssProperties:b}=z9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:Ou(Ou({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Ou(Ou({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:w},s)}}var K9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Xs={isSsr:K9()},IO=()=>ne(e=>e.rootProps.accessibilityLayer);function Sr(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bN={curveBasisClosed:Uz,curveBasisOpen:Wz,curveBasis:zz,curveBumpX:kz,curveBumpY:Az,curveLinearClosed:Vz,curveLinear:mh,curveMonotoneX:Kz,curveMonotoneY:qz,curveNatural:Hz,curveStep:Gz,curveStepAfter:Xz,curveStepBefore:Yz},Cu=e=>Sr(e.x)&&Sr(e.y),tl=e=>e.x,rl=e=>e.y,Y9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Mc(e));return(r==="curveMonotone"||r==="curveBump")&&t?bN["".concat(r).concat(t==="vertical"?"Y":"X")]:bN[r]||mh},X9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=Y9(t,i),l=s?r.filter(Cu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Cu(f)):n,d=l.map((f,h)=>xN(xN({},f),{},{base:u[h]}));return i==="vertical"?c=Pu().y(rl).x1(tl).x0(f=>f.base.x):c=Pu().x(tl).y1(rl).y0(f=>f.base.y),c.defined(Cu).curve(a),c(d)}return i==="vertical"&&ie(n)?c=Pu().y(rl).x1(tl).x0(n):ie(n)?c=Pu().x(tl).y1(rl).y0(n):c=mE().x(tl).y(rl),c.defined(Cu).curve(a),c(l)},LO=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?X9(e):n;return x.createElement("path",p0({},zt(e),Ov(e),{className:me("recharts-curve",t),d:s===null?void 0:s,ref:i}))},J9=["x","y","top","left","width","height","className"];function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Q9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){Z9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z9(e,t,r){return(t=eW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eW(e){var t=tW(e,"string");return typeof t=="symbol"?t:t+""}function tW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rW(e,t){if(e==null)return{};var r,n,i=nW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var iW=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),sW=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=rW(e,J9),u=Q9({x:t,y:r,top:n,left:i,width:s,height:a},c);return!ie(t)||!ie(r)||!ie(s)||!ie(a)||!ie(n)||!ie(i)?null:x.createElement("path",g0({},je(u,!0),{className:me("recharts-cross",l),d:iW(t,r,s,a,n,i)}))};function aW(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return(t=cW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var r=oW({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var BO={},FO={},zO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(zO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zO,r=Lv,n=xh,i=bh,s=vh;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,y){const w=y(u,d,f,h,m,p);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,y)}return c(u,d,p,y)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),m!==p)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const g=u.valueOf(),v=d.valueOf();return s.eq(g,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const y=f.get(u),w=f.get(d);if(y!=null&&w!=null)return y===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[g,v]of u.entries())if(!d.has(g)||!l(v,d.get(g),g,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const g=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<g.length;b++){const j=g[b],N=v.findIndex(S=>l(j,S,void 0,u,d,f,h));if(N===-1)return!1;v.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let g=0;g<u.length;g++)if(!l(u[g],d[g],g,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const N=v[j],S=u[N];if(!Object.hasOwn(d,N))return!1;const P=d[N];if(!l(S,P,N,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(FO);var UO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(UO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO,r=UO;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(BO);var dW=BO.isEqual;const fW=Kr(dW);var Jd=1e-4,WO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],VO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),NN=(e,t)=>r=>{var n=WO(e,t);return VO(n,r)},hW=(e,t)=>r=>{var n=WO(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return VO(i,r)},SN=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,i]=a);var u=NN(t,r),d=NN(n,i),f=hW(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var y=p>1?1:p,w=y,g=0;g<8;++g){var v=u(w)-y,b=f(w);if(Math.abs(v-y)<Jd||b<Jd)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},mW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Jd&&Math.abs(f)<Jd?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},KO=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SN(e);case"spring":return mW();default:if(e.split("(")[0]==="cubic-bezier")return SN(e)}return typeof e=="function"?e:null};function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),xW=(e,t,r)=>e.map(n=>"".concat(vW(n)," ").concat(t,"ms ").concat(r)).join(","),bW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),dc=(e,t)=>Object.keys(t).reduce((r,n)=>_N(_N({},r),{},{[n]:e(n,t[n])}),{});function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){wW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wW(e,t,r){return(t=jW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,r)=>e+(t-e)*r,y0=e=>{var{from:t,to:r}=e;return t!==r},qO=(e,t,r)=>{var n=dc((i,s)=>{if(y0(s)){var[a,l]=e(s.from,s.to,s.velocity);return kt(kt({},s),{},{from:a,velocity:l})}return s},t);return r<1?dc((i,s)=>y0(s)?kt(kt({},s),{},{velocity:Qd(s.velocity,n[i].velocity,r),from:Qd(s.from,n[i].from,r)}):s,t):qO(e,n,r-1)};function SW(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>kt(kt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>dc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(y0).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;l=qO(r,l,p),i(kt(kt(kt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function PW(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>kt(kt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=dc((y,w)=>Qd(...w,r(h)),c);if(s(kt(kt(kt({},e),t),m)),h<1)l=a.setTimeout(d);else{var p=dc((y,w)=>Qd(...w,r(1)),c);s(kt(kt(kt({},e),t),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const HO=(e,t,r,n,i,s)=>{var a=bW(e,t);return r.isStepper===!0?SW(e,t,r,a,i,s):PW(e,t,r,n,a,i,s)};function _W(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class kW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function AW(){return _W(new kW)}var EW=x.createContext(AW);function GO(e,t){var r=x.useContext(EW);return x.useMemo(()=>t??r(e),[e,t,r])}var OW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(null,arguments)}function CW(e,t){if(e==null)return{};var r,n,i=TW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function js(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qv extends x.PureComponent{constructor(t,r){super(t,r),js(this,"mounted",!1),js(this,"manager",void 0),js(this,"stopJSAnimation",null),js(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(fW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(pi(pi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=HO(r,n,KO(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=xW(Object.keys(d),n,a);this.manager.start([l,r,pi(pi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,y=CW(t,OW),w=x.Children.count(r),g=this.state.style;if(typeof r=="function")return r(g);if(!l||w===0||i<=0)return r;var v=b=>{var{style:j={},className:N}=b.props,S=x.cloneElement(b,pi(pi({},y),{},{style:pi(pi({},j),g),className:N}));return S};return w===1?v(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,b=>v(b)))}}js(Qv,"displayName","Animate");js(Qv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Zd(e){var t,r=GO((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return x.createElement(Qv,v0({},e,{animationManager:r}))}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}var EN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},DW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YO=e=>{var t=Hr(e,DW),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=me("recharts-rectangle",d);return y?x.createElement(Zd,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:y},g=>{var{width:v,height:b,x:j,y:N}=g;return x.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},x.createElement("path",ef({},je(t,!0),{className:w,d:EN(j,N,v,b,u),ref:r})))}):x.createElement("path",ef({},je(t,!0),{className:w,d:EN(s,a,l,c,u)}))};function XO(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Se(t,r,n,i),l=Se(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(null,arguments)}var $W=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Xd,f=c?i:i+s*d,h=Se(t,r,u,f),m=Se(t,r,n,f),p=c?i-s*d:i,y=Se(t,r,u*Math.cos(d*Xd),p);return{center:h,circleTangency:m,lineTangency:y,theta:d}},JO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=$W(s,a),c=s+l,u=Se(t,r,i,s),d=Se(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Se(t,r,n,s),m=Se(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},IW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=jt(u-c),{circleTangency:f,lineTangency:h,theta:m}=Tu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:w}=Tu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(g<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):JO({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:N}=Tu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:A}=Tu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=l?Math.abs(c-u):Math.abs(c-u)-N-A;if(R<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},LW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QO=e=>{var t=Hr(e,LW),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=me("recharts-sector",f),m=s-i,p=Yt(a,m,0,!0),y;return p>0&&Math.abs(u-d)<360?y=IW({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=JO({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),x.createElement("path",x0({},je(t,!0),{className:h,d:y}))};function BW(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Se(l,c,u,f),m=Se(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return XO(t);return[{x:n,y:i},{x:s,y:a}]}var ZO={},eC={},tC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(eC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv,r=eC;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(ZO);var FW=ZO.range;const rC=Kr(FW);function Ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function zW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zv(e){let t,r,n;e.length!==2?(t=Ii,r=(l,c)=>Ii(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ii||e===zW?e:UW,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function UW(){return 0}function nC(e){return e===null?NaN:+e}function*WW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const VW=Zv(Ii),Ic=VW.right;Zv(nC).center;class ON extends Map{constructor(t,r=HW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(CN(this,t))}has(t){return super.has(CN(this,t))}set(t,r){return super.set(KW(this,t),r)}delete(t){return super.delete(qW(this,t))}}function CN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function KW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function qW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function HW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function GW(e=Ii){if(e===Ii)return iC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const YW=Math.sqrt(50),XW=Math.sqrt(10),JW=Math.sqrt(2);function tf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=YW?10:s>=XW?5:s>=JW?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tf(e,t,r*2):[l,c,u]}function b0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?tf(t,e,r):tf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function w0(e,t,r){return t=+t,e=+e,r=+r,tf(e,t,r)[2]}function j0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?w0(t,e,r):w0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function TN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function MN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?iC:GW(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));sC(e,t,m,p,i)}const s=e[t];let a=r,l=n;for(nl(e,r,t),i(e[n],s)>0&&nl(e,r,n);a<l;){for(nl(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?nl(e,r,l):(++l,nl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function QW(e,t,r){if(e=Float64Array.from(WW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return MN(e);if(t>=1)return TN(e);var n,i=(n-1)*t,s=Math.floor(i),a=TN(sC(e,s).subarray(0,s+1)),l=MN(e.subarray(s+1));return a+(l-a)*(i-s)}}function ZW(e,t,r=nC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function eV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const N0=Symbol("implicit");function ex(){var e=new ON,t=[],r=[],n=N0;function i(s){let a=e.get(s);if(a===void 0){if(n!==N0)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ON;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ex(t,r).unknown(n)},Gr.apply(i,arguments),i}function tx(){var e=ex().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,y=m?n:i;s=(y-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(y-p-s*(h-c))*d,a=s*(1-c),l&&(p=Math.round(p),a=Math.round(a));var w=eV(h).map(function(g){return p+s*g});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tx(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gr.apply(f(),arguments)}function aC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aC(t())},e}function tV(){return aC(tx.apply(null,arguments).paddingInner(1))}function rx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lc(){}var fc=.7,rf=1/fc,Ua="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",rV=/^#([0-9a-f]{3,8})$/,nV=new RegExp(`^rgb\\(${Ua},${Ua},${Ua}\\)$`),iV=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),sV=new RegExp(`^rgba\\(${Ua},${Ua},${Ua},${hc}\\)$`),aV=new RegExp(`^rgba\\(${_n},${_n},${_n},${hc}\\)$`),oV=new RegExp(`^hsl\\(${hc},${_n},${_n}\\)$`),lV=new RegExp(`^hsla\\(${hc},${_n},${_n},${hc}\\)$`),RN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rx(Lc,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DN,formatHex:DN,formatHex8:cV,formatHsl:uV,formatRgb:$N,toString:$N});function DN(){return this.rgb().formatHex()}function cV(){return this.rgb().formatHex8()}function uV(){return lC(this).formatHsl()}function $N(){return this.rgb().formatRgb()}function mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=rV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?IN(t):r===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nV.exec(e))?new or(t[1],t[2],t[3],1):(t=iV.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sV.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=aV.exec(e))?Mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oV.exec(e))?FN(t[1],t[2]/100,t[3]/100,1):(t=lV.exec(e))?FN(t[1],t[2]/100,t[3]/100,t[4]):RN.hasOwnProperty(e)?IN(RN[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function IN(e){return new or(e>>16&255,e>>8&255,e&255,1)}function Mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new or(e,t,r,n)}function dV(e){return e instanceof Lc||(e=mc(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function S0(e,t,r,n){return arguments.length===1?dV(e):new or(e,t,r,n??1)}function or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rx(or,S0,oC(Lc,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(Rs(this.r),Rs(this.g),Rs(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:LN,formatHex:LN,formatHex8:fV,formatRgb:BN,toString:BN}));function LN(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function fV(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function BN(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Rs(this.r)}, ${Rs(this.g)}, ${Rs(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ns(e){return e=Rs(e),(e<16?"0":"")+e.toString(16)}function FN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function lC(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=mc(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new sn(a,l,c,e.opacity)}function hV(e,t,r,n){return arguments.length===1?lC(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rx(sn,hV,oC(Lc,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new or(dp(e>=240?e-240:e+120,i,n),dp(e,i,n),dp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sn(zN(this.h),Ru(this.s),Ru(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${zN(this.h)}, ${Ru(this.s)*100}%, ${Ru(this.l)*100}%${e===1?")":`, ${e})`}`}}));function zN(e){return e=(e||0)%360,e<0?e+360:e}function Ru(e){return Math.max(0,Math.min(1,e||0))}function dp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nx=e=>()=>e;function mV(e,t){return function(r){return e+r*t}}function pV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function gV(e){return(e=+e)==1?cC:function(t,r){return r-t?pV(t,r,e):nx(isNaN(t)?r:t)}}function cC(e,t){var r=t-e;return r?mV(e,r):nx(isNaN(e)?t:e)}const UN=function e(t){var r=gV(t);function n(i,s){var a=r((i=S0(i)).r,(s=S0(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=cC(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function yV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function vV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=ko(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function bV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function wV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ko(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var P0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fp=new RegExp(P0.source,"g");function jV(e){return function(){return e}}function NV(e){return function(t){return e(t)+""}}function SV(e,t){var r=P0.lastIndex=fp.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=P0.exec(e))&&(i=fp.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:sf(n,i)})),r=fp.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?NV(c[0].x):jV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ko(e,t){var r=typeof t,n;return t==null||r==="boolean"?nx(t):(r==="number"?sf:r==="string"?(n=mc(t))?(t=n,UN):SV:t instanceof mc?UN:t instanceof Date?bV:vV(t)?yV:Array.isArray(t)?xV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?wV:sf)(e,t)}function ix(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function PV(e,t){t===void 0&&(t=e,e=ko);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function _V(e){return function(){return e}}function af(e){return+e}var WN=[0,1];function qt(e){return e}function _0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:_V(isNaN(t)?NaN:.5)}function kV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function AV(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=_0(i,n),s=r(a,s)):(n=_0(n,i),s=r(s,a)),function(l){return s(n(l))}}function EV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=_0(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=Ic(e,l,1,n)-1;return s[c](i[c](l))}}function Bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Th(){var e=WN,t=WN,r=ko,n,i,s,a=qt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==qt&&(a=kV(e[0],e[h-1])),l=h>2?EV:AV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),sf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,af),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ix,d()},f.clamp=function(h){return arguments.length?(a=h?!0:qt,d()):a!==qt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function sx(){return Th()(qt,qt)}function OV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function so(e){return e=of(Math.abs(e)),e?e[1]:NaN}function CV(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function TV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var MV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=MV.exec(e)))throw new Error("invalid format: "+e);var t;return new ax({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=ax.prototype;function ax(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ax.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function RV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var uC;function DV(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(uC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+of(e,Math.max(0,t+s-1))[0]}function VN(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const KN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:OV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>VN(e*100,t),r:VN,s:DV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function qN(e){return e}var HN=Array.prototype.map,GN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function $V(e){var t=e.grouping===void 0||e.thousands===void 0?qN:CV(HN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?qN:TV(HN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pc(f);var h=f.fill,m=f.align,p=f.sign,y=f.symbol,w=f.zero,g=f.width,v=f.comma,b=f.precision,j=f.trim,N=f.type;N==="n"?(v=!0,N="g"):KN[N]||(b===void 0&&(b=12),j=!0,N="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=y==="$"?r:y==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=y==="$"?n:/[%p]/.test(N)?a:"",A=KN[N],R=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function D(E){var B=S,$=P,M,O,F;if(N==="c")$=A(E)+$,E="";else{E=+E;var V=E<0||1/E<0;if(E=isNaN(E)?c:A(Math.abs(E),b),j&&(E=RV(E)),V&&+E==0&&p!=="+"&&(V=!1),B=(V?p==="("?p:l:p==="-"||p==="("?"":p)+B,$=(N==="s"?GN[8+uC/3]:"")+$+(V&&p==="("?")":""),R){for(M=-1,O=E.length;++M<O;)if(F=E.charCodeAt(M),48>F||F>57){$=(F===46?i+E.slice(M+1):E.slice(M))+$,E=E.slice(0,M);break}}}v&&!w&&(E=t(E,1/0));var k=B.length+E.length+$.length,C=k<g?new Array(g-k+1).join(h):"";switch(v&&w&&(E=t(C+E,C.length?g-$.length:1/0),C=""),m){case"<":E=B+E+$+C;break;case"=":E=B+C+E+$;break;case"^":E=C.slice(0,k=C.length>>1)+B+E+$+C.slice(k);break;default:E=C+B+E+$;break}return s(E)}return D.toString=function(){return f+""},D}function d(f,h){var m=u((f=pc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(so(h)/3)))*3,y=Math.pow(10,-p),w=GN[8+p/3];return function(g){return m(y*g)+w}}return{format:u,formatPrefix:d}}var Du,ox,dC;IV({thousands:",",grouping:[3],currency:["$",""]});function IV(e){return Du=$V(e),ox=Du.format,dC=Du.formatPrefix,Du}function LV(e){return Math.max(0,-so(Math.abs(e)))}function BV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(t)/3)))*3-so(Math.abs(e)))}function FV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,so(t)-so(e))+1}function fC(e,t,r,n){var i=j0(e,t,r),s;switch(n=pc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=BV(i,a))&&(n.precision=s),dC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=FV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=LV(i))&&(n.precision=s-(n.type==="%")*2);break}}return ox(n)}function Qi(e){var t=e.domain;return e.ticks=function(r){var n=t();return b0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return fC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=w0(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hC(){var e=sx();return e.copy=function(){return Bc(e,hC())},Gr.apply(e,arguments),Qi(e)}function mC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,af),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mC(e).unknown(t)},e=arguments.length?Array.from(e,af):[0,1],Qi(r)}function pC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function YN(e){return Math.log(e)}function XN(e){return Math.exp(e)}function zV(e){return-Math.log(-e)}function UV(e){return-Math.exp(-e)}function WV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function VV(e){return e===10?WV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function KV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function JN(e){return(t,r)=>-e(-t,r)}function lx(e){const t=e(YN,XN),r=t.domain;let n=10,i,s;function a(){return i=KV(n),s=VV(n),r()[0]<0?(i=JN(i),s=JN(s),e(zV,UV)):e(YN,XN),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,y;const w=l==null?10:+l;let g=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(y=h<0?p/s(-h):p*s(h),!(y<u)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(y=h>0?p/s(-h):p*s(h),!(y<u)){if(y>d)break;g.push(y)}g.length*2<w&&(g=b0(u,d,w))}else g=b0(h,m,Math.min(m-h,w)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pc(c)).precision==null&&(c.trim=!0),c=ox(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function gC(){const e=lx(Th()).domain([1,10]);return e.copy=()=>Bc(e,gC()).base(e.base()),Gr.apply(e,arguments),e}function QN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ZN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cx(e){var t=1,r=e(QN(t),ZN(t));return r.constant=function(n){return arguments.length?e(QN(t=+n),ZN(t)):t},Qi(r)}function yC(){var e=cx(Th());return e.copy=function(){return Bc(e,yC()).constant(e.constant())},Gr.apply(e,arguments)}function eS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function qV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HV(e){return e<0?-e*e:e*e}function ux(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(qV,HV):e(eS(r),eS(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qi(t)}function dx(){var e=ux(Th());return e.copy=function(){return Bc(e,dx()).exponent(e.exponent())},Gr.apply(e,arguments),e}function GV(){return dx.apply(null,arguments).exponent(.5)}function tS(e){return Math.sign(e)*e*e}function YV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vC(){var e=sx(),t=[0,1],r=!1,n;function i(s){var a=YV(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(tS(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,af)).map(tS)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return vC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gr.apply(i,arguments),Qi(i)}function xC(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=ZW(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Ic(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ii),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return xC().domain(e).range(t).unknown(n)},Gr.apply(s,arguments)}function bC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Ic(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return bC().domain([e,t]).range(i).unknown(s)},Gr.apply(Qi(a),arguments)}function wC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Ic(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wC().domain(e).range(t).unknown(r)},Gr.apply(i,arguments)}const hp=new Date,mp=new Date;function ht(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>ht(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(hp.setTime(+s),mp.setTime(+a),e(hp),e(mp),Math.floor(r(hp,mp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const lf=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Fn=1e3,Lr=Fn*60,zn=Lr*60,Qn=zn*24,fx=Qn*7,rS=Qn*30,pp=Qn*365,Ss=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCSeconds());Ss.range;const hx=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());hx.range;const mx=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());mx.range;const px=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getHours());px.range;const gx=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCHours());gx.range;const Fc=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Qn,e=>e.getDate()-1);Fc.range;const Mh=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>e.getUTCDate()-1);Mh.range;const jC=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>Math.floor(e/Qn));jC.range;function Js(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/fx)}const Rh=Js(0),cf=Js(1),XV=Js(2),JV=Js(3),ao=Js(4),QV=Js(5),ZV=Js(6);Rh.range;cf.range;XV.range;JV.range;ao.range;QV.range;ZV.range;function Qs(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fx)}const Dh=Qs(0),uf=Qs(1),e7=Qs(2),t7=Qs(3),oo=Qs(4),r7=Qs(5),n7=Qs(6);Dh.range;uf.range;e7.range;t7.range;oo.range;r7.range;n7.range;const yx=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yx.range;const vx=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vx.range;const Zn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zn.range;const ei=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ei.range;function NC(e,t,r,n,i,s){const a=[[Ss,1,Fn],[Ss,5,5*Fn],[Ss,15,15*Fn],[Ss,30,30*Fn],[s,1,Lr],[s,5,5*Lr],[s,15,15*Lr],[s,30,30*Lr],[i,1,zn],[i,3,3*zn],[i,6,6*zn],[i,12,12*zn],[n,1,Qn],[n,2,2*Qn],[r,1,fx],[t,1,rS],[t,3,3*rS],[e,1,pp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=Zv(([,,w])=>w).right(a,h);if(m===a.length)return e.every(j0(u/pp,d/pp,f));if(m===0)return lf.every(Math.max(j0(u,d,f),1));const[p,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(y)}return[l,c]}const[i7,s7]=NC(ei,vx,Dh,jC,gx,mx),[a7,o7]=NC(Zn,yx,Rh,Fc,px,hx);function gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function l7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=sl(i),d=al(i),f=sl(s),h=al(s),m=sl(a),p=al(a),y=sl(l),w=al(l),g=sl(c),v=al(c),b={a:V,A:k,b:C,B:W,c:null,d:lS,e:lS,f:C7,g:z7,G:W7,H:A7,I:E7,j:O7,L:SC,m:T7,M:M7,p:H,q:X,Q:dS,s:fS,S:R7,u:D7,U:$7,V:I7,w:L7,W:B7,x:null,X:null,y:F7,Y:U7,Z:V7,"%":uS},j={a:pe,A:z,b:te,B:de,c:null,d:cS,e:cS,f:G7,g:iK,G:aK,H:K7,I:q7,j:H7,L:_C,m:Y7,M:X7,p:K,q:Z,Q:dS,s:fS,S:J7,u:Q7,U:Z7,V:eK,w:tK,W:rK,x:null,X:null,y:nK,Y:sK,Z:oK,"%":uS},N={a:D,A:E,b:B,B:$,c:M,d:aS,e:aS,f:S7,g:sS,G:iS,H:oS,I:oS,j:b7,L:N7,m:x7,M:w7,p:R,q:v7,Q:_7,s:k7,S:j7,u:h7,U:m7,V:p7,w:f7,W:g7,x:O,X:F,y:sS,Y:iS,Z:y7,"%":P7};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(I,ee){return function(T){var _=[],U=-1,Q=0,Y=I.length,le,ge,Pe;for(T instanceof Date||(T=new Date(+T));++U<Y;)I.charCodeAt(U)===37&&(_.push(I.slice(Q,U)),(ge=nS[le=I.charAt(++U)])!=null?le=I.charAt(++U):ge=le==="e"?" ":"0",(Pe=ee[le])&&(le=Pe(T,ge)),_.push(le),Q=U+1);return _.push(I.slice(Q,U)),_.join("")}}function P(I,ee){return function(T){var _=il(1900,void 0,1),U=A(_,I,T+="",0),Q,Y;if(U!=T.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(ee&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(Q=yp(il(_.y,0,1)),Y=Q.getUTCDay(),Q=Y>4||Y===0?uf.ceil(Q):uf(Q),Q=Mh.offset(Q,(_.V-1)*7),_.y=Q.getUTCFullYear(),_.m=Q.getUTCMonth(),_.d=Q.getUTCDate()+(_.w+6)%7):(Q=gp(il(_.y,0,1)),Y=Q.getDay(),Q=Y>4||Y===0?cf.ceil(Q):cf(Q),Q=Fc.offset(Q,(_.V-1)*7),_.y=Q.getFullYear(),_.m=Q.getMonth(),_.d=Q.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),Y="Z"in _?yp(il(_.y,0,1)).getUTCDay():gp(il(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(Y+5)%7:_.w+_.U*7-(Y+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,yp(_)):gp(_)}}function A(I,ee,T,_){for(var U=0,Q=ee.length,Y=T.length,le,ge;U<Q;){if(_>=Y)return-1;if(le=ee.charCodeAt(U++),le===37){if(le=ee.charAt(U++),ge=N[le in nS?ee.charAt(U++):le],!ge||(_=ge(I,T,_))<0)return-1}else if(le!=T.charCodeAt(_++))return-1}return _}function R(I,ee,T){var _=u.exec(ee.slice(T));return _?(I.p=d.get(_[0].toLowerCase()),T+_[0].length):-1}function D(I,ee,T){var _=m.exec(ee.slice(T));return _?(I.w=p.get(_[0].toLowerCase()),T+_[0].length):-1}function E(I,ee,T){var _=f.exec(ee.slice(T));return _?(I.w=h.get(_[0].toLowerCase()),T+_[0].length):-1}function B(I,ee,T){var _=g.exec(ee.slice(T));return _?(I.m=v.get(_[0].toLowerCase()),T+_[0].length):-1}function $(I,ee,T){var _=y.exec(ee.slice(T));return _?(I.m=w.get(_[0].toLowerCase()),T+_[0].length):-1}function M(I,ee,T){return A(I,t,ee,T)}function O(I,ee,T){return A(I,r,ee,T)}function F(I,ee,T){return A(I,n,ee,T)}function V(I){return a[I.getDay()]}function k(I){return s[I.getDay()]}function C(I){return c[I.getMonth()]}function W(I){return l[I.getMonth()]}function H(I){return i[+(I.getHours()>=12)]}function X(I){return 1+~~(I.getMonth()/3)}function pe(I){return a[I.getUTCDay()]}function z(I){return s[I.getUTCDay()]}function te(I){return c[I.getUTCMonth()]}function de(I){return l[I.getUTCMonth()]}function K(I){return i[+(I.getUTCHours()>=12)]}function Z(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var ee=S(I+="",b);return ee.toString=function(){return I},ee},parse:function(I){var ee=P(I+="",!1);return ee.toString=function(){return I},ee},utcFormat:function(I){var ee=S(I+="",j);return ee.toString=function(){return I},ee},utcParse:function(I){var ee=P(I+="",!0);return ee.toString=function(){return I},ee}}}var nS={"-":"",_:" ",0:"0"},St=/^\s*\d+/,c7=/^%/,u7=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function d7(e){return e.replace(u7,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(d7).join("|")+")","i")}function al(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function f7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function h7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function iS(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function sS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function y7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function v7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function x7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function aS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function b7(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function oS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function w7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function S7(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function P7(e,t,r){var n=c7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function _7(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function k7(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function lS(e,t){return Ne(e.getDate(),t,2)}function A7(e,t){return Ne(e.getHours(),t,2)}function E7(e,t){return Ne(e.getHours()%12||12,t,2)}function O7(e,t){return Ne(1+Fc.count(Zn(e),e),t,3)}function SC(e,t){return Ne(e.getMilliseconds(),t,3)}function C7(e,t){return SC(e,t)+"000"}function T7(e,t){return Ne(e.getMonth()+1,t,2)}function M7(e,t){return Ne(e.getMinutes(),t,2)}function R7(e,t){return Ne(e.getSeconds(),t,2)}function D7(e){var t=e.getDay();return t===0?7:t}function $7(e,t){return Ne(Rh.count(Zn(e)-1,e),t,2)}function PC(e){var t=e.getDay();return t>=4||t===0?ao(e):ao.ceil(e)}function I7(e,t){return e=PC(e),Ne(ao.count(Zn(e),e)+(Zn(e).getDay()===4),t,2)}function L7(e){return e.getDay()}function B7(e,t){return Ne(cf.count(Zn(e)-1,e),t,2)}function F7(e,t){return Ne(e.getFullYear()%100,t,2)}function z7(e,t){return e=PC(e),Ne(e.getFullYear()%100,t,2)}function U7(e,t){return Ne(e.getFullYear()%1e4,t,4)}function W7(e,t){var r=e.getDay();return e=r>=4||r===0?ao(e):ao.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function V7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function cS(e,t){return Ne(e.getUTCDate(),t,2)}function K7(e,t){return Ne(e.getUTCHours(),t,2)}function q7(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function H7(e,t){return Ne(1+Mh.count(ei(e),e),t,3)}function _C(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function G7(e,t){return _C(e,t)+"000"}function Y7(e,t){return Ne(e.getUTCMonth()+1,t,2)}function X7(e,t){return Ne(e.getUTCMinutes(),t,2)}function J7(e,t){return Ne(e.getUTCSeconds(),t,2)}function Q7(e){var t=e.getUTCDay();return t===0?7:t}function Z7(e,t){return Ne(Dh.count(ei(e)-1,e),t,2)}function kC(e){var t=e.getUTCDay();return t>=4||t===0?oo(e):oo.ceil(e)}function eK(e,t){return e=kC(e),Ne(oo.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function tK(e){return e.getUTCDay()}function rK(e,t){return Ne(uf.count(ei(e)-1,e),t,2)}function nK(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function iK(e,t){return e=kC(e),Ne(e.getUTCFullYear()%100,t,2)}function sK(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function aK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oo(e):oo.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function oK(){return"+0000"}function uS(){return"%"}function dS(e){return+e}function fS(e){return Math.floor(+e/1e3)}var la,AC,EC;lK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function lK(e){return la=l7(e),AC=la.format,la.parse,EC=la.utcFormat,la.utcParse,la}function cK(e){return new Date(e)}function uK(e){return e instanceof Date?+e:+new Date(+e)}function xx(e,t,r,n,i,s,a,l,c,u){var d=sx(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),y=u("%I:%M"),w=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?p:a(S)<S?y:s(S)<S?w:n(S)<S?i(S)<S?g:v:r(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,uK)):h().map(cK)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?N:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(pC(P,S)):d},d.copy=function(){return Bc(d,xx(e,t,r,n,i,s,a,l,c,u))},d}function dK(){return Gr.apply(xx(a7,o7,Zn,yx,Rh,Fc,px,hx,Ss,AC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fK(){return Gr.apply(xx(i7,s7,ei,vx,Dh,Mh,gx,mx,Ss,EC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $h(){var e=0,t=1,r,n,i,s,a=qt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(ko),u.rangeRound=d(ix),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function OC(){var e=Qi($h()(qt));return e.copy=function(){return Zi(e,OC())},oi.apply(e,arguments)}function CC(){var e=lx($h()).domain([1,10]);return e.copy=function(){return Zi(e,CC()).base(e.base())},oi.apply(e,arguments)}function TC(){var e=cx($h());return e.copy=function(){return Zi(e,TC()).constant(e.constant())},oi.apply(e,arguments)}function bx(){var e=ux($h());return e.copy=function(){return Zi(e,bx()).exponent(e.exponent())},oi.apply(e,arguments)}function hK(){return bx.apply(null,arguments).exponent(.5)}function MC(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ic(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ii),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>QW(e,s/n))},r.copy=function(){return MC(t).domain(e)},oi.apply(r,arguments)}function Ih(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=qt,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function p(y){return function(w){var g,v,b;return arguments.length?([g,v,b]=w,u=PV(y,[g,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(ko),m.rangeRound=p(ix),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(e),s=y(t),a=y(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function RC(){var e=Qi(Ih()(qt));return e.copy=function(){return Zi(e,RC())},oi.apply(e,arguments)}function DC(){var e=lx(Ih()).domain([.1,1,10]);return e.copy=function(){return Zi(e,DC()).base(e.base())},oi.apply(e,arguments)}function $C(){var e=cx(Ih());return e.copy=function(){return Zi(e,$C()).constant(e.constant())},oi.apply(e,arguments)}function wx(){var e=ux(Ih());return e.copy=function(){return Zi(e,wx()).exponent(e.exponent())},oi.apply(e,arguments)}function mK(){return wx.apply(null,arguments).exponent(.5)}const gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tx,scaleDiverging:RC,scaleDivergingLog:DC,scaleDivergingPow:wx,scaleDivergingSqrt:mK,scaleDivergingSymlog:$C,scaleIdentity:mC,scaleImplicit:N0,scaleLinear:hC,scaleLog:gC,scaleOrdinal:ex,scalePoint:tV,scalePow:dx,scaleQuantile:xC,scaleQuantize:bC,scaleRadial:vC,scaleSequential:OC,scaleSequentialLog:CC,scaleSequentialPow:bx,scaleSequentialQuantile:MC,scaleSequentialSqrt:hK,scaleSequentialSymlog:TC,scaleSqrt:GV,scaleSymlog:yC,scaleThreshold:wC,scaleTime:dK,scaleUtc:fK,tickFormat:fC},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,Lh=L([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jx=(e,t,r,n)=>n?Lh(e):es(e);function lo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Sr(t)&&Sr(r))return!0}return!1}function hS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function pK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Sr(r))i=r;else if(typeof r=="function")return;if(Sr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(lo(a))return a}}function gK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lo(n))return hS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ie(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&dN.test(i)){var c=dN.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ie(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&fN.test(s)){var d=fN.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(lo(h))return t==null?h:hS(h,t,r)}}}var Ao=1e9,yK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sx,We=!0,Vr="[DecimalError] ",Ds=Vr+"Invalid argument: ",Nx=Vr+"Exponent out of range: ",Eo=Math.floor,ms=Math.pow,vK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,vt=1e7,Fe=7,IC=9007199254740991,df=Eo(IC/Fe),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return Kn(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Ee(Kn(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return lt(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gr))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(We=!1,t=Kn(gc(r,s),gc(e,s),s),We=!0,Ee(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FC(t,e):LC(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vr+"NaN");return r.s?(We=!1,t=Kn(r,e,0,1).times(e),We=!0,r.minus(t)):Ee(new n(r),i)};ae.naturalExponential=ae.exp=function(){return BC(this)};ae.naturalLogarithm=ae.ln=function(){return gc(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LC(t,e):FC(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ds+e);if(t=lt(i)+1,n=i.d.length-1,r=n*Fe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vr+"NaN")}for(e=lt(l),We=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=vn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Kn(l,s,a+2)).times(.5),vn(s.d).slice(0,a)===(t=vn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ee(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return We=!0,Ee(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%vt|0,t=l/vt|0;s[i]=(s[i]+t)%vt|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,We?Ee(e,f.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(On(e,0,Ao),t===void 0?t=n.rounding:On(t,0,8),Ee(r,e+lt(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Vs(n,!0):(On(e,0,Ao),t===void 0?t=i.rounding:On(t,0,8),n=Ee(new i(n),e+1,t),r=Vs(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Vs(i):(On(e,0,Ao),t===void 0?t=s.rounding:On(t,0,8),n=Ee(new s(i),e+lt(i)+1,t),r=Vs(n.abs(),!1,e+lt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Ee(new t(e),lt(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vr+"Infinity");return l}if(l.eq(gr))return l;if(n=c.precision,e.eq(gr))return Ee(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=IC){for(i=new c(gr),t=Math.ceil(n/Fe+4),We=!1;r%2&&(i=i.times(l),pS(i.d,t)),r=Eo(r/2),r!==0;)l=l.times(l),pS(l.d,t);return We=!0,e.s<0?new c(gr).div(i):Ee(i,n)}}else if(s<0)throw Error(Vr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,i=e.times(gc(l,n+u)),We=!0,i=BC(i),i.s=s,i};ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=lt(i),n=Vs(i,r<=s.toExpNeg||r>=s.toExpPos)):(On(e,1,Ao),t===void 0?t=s.rounding:On(t,0,8),i=Ee(new s(i),e,t),r=lt(i),n=Vs(i,e<=r||r<=s.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(On(e,1,Ao),t===void 0?t=n.rounding:On(t,0,8)),Ee(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lt(e),r=e.constructor;return Vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function LC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ee(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/Fe),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/vt|0,c[s]%=vt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,We?Ee(t,f):t}function On(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ds+e)}function vn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=wi(r)),s+=n;a=e[t],n=a+"",r=Fe-n.length,r&&(s+=wi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Kn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%vt|0,a=s/vt|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*vt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,p,y,w,g,v,b,j,N,S,P,A,R=n.constructor,D=n.s==i.s?1:-1,E=n.d,B=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Vr+"Division by zero");for(c=n.e-i.e,P=B.length,N=E.length,m=new R(D),p=m.d=[],u=0;B[u]==(E[u]||0);)++u;if(B[u]>(E[u]||0)&&--c,s==null?v=s=R.precision:a?v=s+(lt(n)-lt(i))+1:v=s,v<0)return new R(0);if(v=v/Fe+2|0,u=0,P==1)for(d=0,B=B[0],v++;(u<N||d)&&v--;u++)b=d*vt+(E[u]||0),p[u]=b/B|0,d=b%B|0;else{for(d=vt/(B[0]+1)|0,d>1&&(B=e(B,d),E=e(E,d),P=B.length,N=E.length),j=P,y=E.slice(0,P),w=y.length;w<P;)y[w++]=0;A=B.slice(),A.unshift(0),S=B[0],B[1]>=vt/2&&++S;do d=0,l=t(B,y,P,w),l<0?(g=y[0],P!=w&&(g=g*vt+(y[1]||0)),d=g/S|0,d>1?(d>=vt&&(d=vt-1),f=e(B,d),h=f.length,w=y.length,l=t(f,y,h,w),l==1&&(d--,r(f,P<h?A:B,h))):(d==0&&(l=d=1),f=B.slice()),h=f.length,h<w&&f.unshift(0),r(y,f,w),l==-1&&(w=y.length,l=t(B,y,P,w),l<1&&(d++,r(y,P<w?A:B,w))),w=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[w++]=E[j]||0:(y=[E[j]],w=1);while((j++<N||y[0]!==void 0)&&v--)}return p[0]||p.shift(),m.e=c,Ee(m,a?s+lt(m)+1:s)}}();function BC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(lt(e)>16)throw Error(Nx+lt(e));if(!e.s)return new d(gr);for(t==null?(We=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(ms(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(gr),d.precision=l;;){if(i=Ee(i.times(e),l),r=r.times(++c),a=s.plus(Kn(i,r,l)),vn(a.d).slice(0,l)===vn(s.d).slice(0,l)){for(;u--;)s=Ee(s.times(s),l);return d.precision=f,t==null?(We=!0,Ee(s,f)):s}s=a}}function lt(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function vp(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(Vr+"LN10 precision limit exceeded");return Ee(new e(e.LN10),t)}function wi(e){for(var t="";e--;)t+="0";return t}function gc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,p=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(Vr+(m.s?"NaN":"-Infinity"));if(m.eq(gr))return new y(0);if(t==null?(We=!1,u=w):u=t,m.eq(10))return t==null&&(We=!0),vp(y,u);if(u+=h,y.precision=u,r=vn(p),n=r.charAt(0),s=lt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=vn(m.d),n=r.charAt(0),f++;s=lt(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1))}else return c=vp(y,u+2,w).times(s+""),m=gc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=w,t==null?(We=!0,Ee(m,w)):m;for(l=a=m=Kn(m.minus(gr),m.plus(gr),u),d=Ee(m.times(m),u),i=3;;){if(a=Ee(a.times(d),u),c=l.plus(Kn(a,new y(i),u)),vn(c.d).slice(0,u)===vn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(vp(y,u+2,w).times(s+""))),l=Kn(l,new y(f),u),y.precision=w,t==null?(We=!0,Ee(l,w)):l;l=c,i+=2}}function mS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eo(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Fe;n<i;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>df||e.e<-df))throw Error(Nx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ee(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Fe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Fe,i=n-Fe+a}if(r!==void 0&&(s=ms(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ms(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=lt(e),f.length=1,t=t-s-1,f[0]=ms(10,(Fe-t%Fe)%Fe),e.e=Eo(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ms(10,Fe-n),f[d]=i>0?(u/ms(10,a-i)%ms(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==vt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=vt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>df||e.e<-df))throw Error(Nx+lt(e));return e}function FC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),We?Ee(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Fe),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=vt-1;--c[s],c[i]+=vt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?Ee(t,m):t):new h(0)}function Vs(e,t,r){var n,i=lt(e),s=vn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+wi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+wi(-i-1)+s,r&&(n=r-a)>0&&(s+=wi(n))):i>=a?(s+=wi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+wi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=wi(n))),e.s<0?"-"+s:s}function pS(e,t){if(e.length>t)return e.length=t,!0}function zC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ds+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return mS(a,s.toString())}else if(typeof s!="string")throw Error(Ds+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,vK.test(s))mS(a,s);else throw Error(Ds+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zC,i.config=i.set=xK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function xK(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ds+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ds+r+": "+n);return this}var Sx=zC(yK);gr=new Sx(1);const _e=Sx;var bK=e=>e,UC={"@@functional/placeholder":!0},WC=e=>e===UC,gS=e=>function t(){return arguments.length===0||arguments.length===1&&WC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},VC=(e,t)=>e===1?t:gS(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==UC).length;return s>=e?t(...n):VC(e-s,gS(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>WC(d)?l.shift():d);return t(...u,...l)}))}),Bh=e=>VC(e.length,e),k0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},wK=Bh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),jK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return bK;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},A0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),KC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function qC(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function HC(e,t,r){for(var n=new _e(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Bh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Bh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Bh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var GC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},YC=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=qC(e.toNumber()),i=new _e(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new _e(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},NK=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _e(10).pow(qC(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var a=Math.floor((t-1)/2),l=jK(wK(c=>i.add(new _e(c-a).mul(n)).toNumber()),k0);return l(0,t)},XC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=YC(new _e(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new _e(0):(l=new _e(t).add(r).div(2),l=l.sub(new _e(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new _e(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?XC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new _e(c).mul(a)),tickMax:l.add(new _e(u).mul(a))})};function SK(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=GC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...k0(0,n-1).map(()=>1/0)]:[...k0(0,n-1).map(()=>-1/0),l];return t>r?A0(c):c}if(a===l)return NK(a,n,i);var{step:u,tickMin:d,tickMax:f}=XC(a,l,s,i,0),h=HC(d,f.add(new _e(.1).mul(u)),u);return t>r?A0(h):h}function PK(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=GC([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=YC(new _e(a).sub(s).div(l-1),i,0),u=[...HC(new _e(s),new _e(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?A0(u):u}var _K=KC(SK),kK=KC(PK),JC=e=>e.rootProps.maxBarSize,AK=e=>e.rootProps.barGap,QC=e=>e.rootProps.barCategoryGap,EK=e=>e.rootProps.barSize,zc=e=>e.rootProps.stackOffset,Px=e=>e.options.chartName,_x=e=>e.rootProps.syncId,ZC=e=>e.rootProps.syncMethod,kx=e=>e.options.eventEmitter,gn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Fh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},OK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:gn.type,unit:void 0},CK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},TK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},MK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},Oo=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?TK:OK,Uc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?MK:CK,zh=e=>e.polarOptions,Ax=L([si,ai,ft],jO),eT=L([zh,Ax],(e,t)=>{if(e!=null)return Yt(e.innerRadius,t,0)}),tT=L([zh,Ax],(e,t)=>{if(e!=null)return Yt(e.outerRadius,t,t*.8)}),RK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rT=L([zh],RK),DK=L([Oo,rT],Fh),nT=L([Ax,eT,tT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),$K=L([Uc,nT],Fh),Co=L([xe,zh,eT,tT,si,ai],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Yt(a,i,i/2),cy:Yt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ce=(e,t)=>t,Wc=(e,t,r)=>r;function Ex(e){return e==null?void 0:e.id}var mt=e=>{var t=xe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},To=e=>e.tooltip.settings.axisId,pt=e=>{var t=mt(e),r=To(e);return Mo(e,t,r)};function iT(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=Ex(a);c.forEach((d,f)=>{var h=i==null?f:String($e(d,i,null)),m=$e(d,a.dataKey,0),p;s.has(h)?p=s.get(h):p={},Object.assign(p,{[u]:m}),s.set(h,p)})}}),Array.from(s.values())}function Uh(e){return e.stackId!=null&&e.dataKey!=null}function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){IK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IK(e,t,r){return(t=LK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LK(e){var t=BK(e,"string");return typeof t=="symbol"?t:t+""}function BK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E0=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},li=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??hr},mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:E0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eh},ts=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??mr},FK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ox=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??FK},it=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return ts(e,r);case"zAxis":return Ox(e,r);case"angleAxis":return Oo(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zK=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return ts(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mo=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return ts(e,r);case"angleAxis":return Oo(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Cx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Tx=e=>e.graphicalItems.cartesianItems,UK=L([Ce,Wc],Cx),Mx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Vc=L([Tx,it,UK],Mx),aT=L([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uh)),oT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lT=L([Vc],oT),Rx=e=>e.map(t=>t.data).filter(Boolean).flat(1),WK=L([Vc],Rx),Dx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},$x=L([WK,jx],Dx),Ix=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$e(i,n)}))):e.map(n=>({value:n})),Wh=L([$x,it,Vc],Ix);function cT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Zs(e){return e.filter(t=>En(t)||t instanceof Date).map(Number).filter(t=>wr(t)===!1)}function VK(e,t,r){return!r||typeof t!="number"||wr(t)?[]:r.length?Zs(r.flatMap(n=>{var i=$e(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Sr(s)||!Sr(a)))return[t-s,t+a]})):[]}var KK=L([aT,jx,pt],iT),uT=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(Ex);return[a,{stackedData:m9(e,c,r),graphicalItems:l}]}))},O0=L([KK,aT,zc],uT),dT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=x9(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},qK=L([O0,es,Ce],dT),fT=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>cT(i,f)),d=$e(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:VK(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:$e(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Vh=e=>e.errorBars,hT=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>cT(r,n));L([lT,Vh,Ce],hT);var HK=L([$x,it,lT,Vh,Ce],fT);function GK(e){var{value:t}=e;if(En(t)||t instanceof Date)return t}var vS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Zs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},YK=(e,t,r)=>{var n=e.map(GK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&sE(n))?rC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Lx=e=>{var t;if(e==null||!("domain"in e))return E0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Zs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:E0},hf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},mT=e=>e.referenceElements.dots,Ro=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),XK=L([mT,Ce,Wc],Ro),pT=e=>e.referenceElements.areas,JK=L([pT,Ce,Wc],Ro),gT=e=>e.referenceElements.lines,QK=L([gT,Ce,Wc],Ro),yT=(e,t)=>{var r=Zs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},ZK=L(XK,Ce,yT),vT=(e,t)=>{var r=Zs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},eq=L([JK,Ce],vT),xT=(e,t)=>{var r=Zs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tq=L(QK,Ce,xT),rq=L(ZK,tq,eq,(e,t,r)=>hf(e,r,t)),bT=L([it],Lx),Bx=(e,t,r,n,i,s,a)=>{var l=pK(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?hf(r,i,vS(n)):hf(i,vS(n));return gK(t,u,e.allowDataOverflow)},nq=L([it,bT,qK,HK,rq,xe,Ce],Bx),iq=[0,1],Fx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ji(t,s);return u&&l==null?rC(0,r.length):c==="category"?YK(n,e,u):i==="expand"?iq:a}},zx=L([it,xe,$x,Wh,zc,Ce,nq],Fx),wT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Mc(s));return l in gl?l:"point"}}},rs=L([it,xe,sT,Px,Ce],wT);function sq(e){if(e!=null){if(e in gl)return gl[e]();var t="scale".concat(Mc(e));if(t in gl)return gl[t]()}}function Kh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=sq(t);if(i!=null){var s=i.domain(r).range(n);return c9(s),s}}}var Ux=(e,t,r)=>{var n=Lx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lo(e))return _K(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lo(e))return kK(e,t.tickCount,t.allowDecimals)}},Wx=L([zx,Mo,rs],Ux),Vx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},aq=L([it,zx,Wx,Ce],Vx),oq=L(Wh,it,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Zs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),jT=L(oq,xe,QC,ft,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Sr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Yt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),lq=(e,t)=>{var r=li(e,t);return r==null||typeof r.padding!="string"?0:jT(e,"xAxis",t,r.padding)},cq=(e,t)=>{var r=ts(e,t);return r==null||typeof r.padding!="string"?0:jT(e,"yAxis",t,r.padding)},uq=L(li,lq,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),dq=L(ts,cq,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),fq=L([ft,uq,Ch,Oh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),hq=L([ft,xe,dq,Ch,Oh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Kc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return fq(e,r,n);case"yAxis":return hq(e,r,n);case"zAxis":return(i=Ox(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return rT(e);case"radiusAxis":return nT(e,r);default:return}},NT=L([it,Kc],Fh),Do=L([it,rs,aq,NT],Kh);L([Vc,Vh,Ce],hT);function ST(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qh=(e,t)=>t,Hh=(e,t,r)=>r,mq=L(Gv,qh,Hh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ST)),pq=L(Yv,qh,Hh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ST)),PT=(e,t)=>({width:e.width,height:t.height}),gq=(e,t)=>{var r=typeof t.width=="number"?t.width:Eh;return{width:r,height:e.height}},_T=L(ft,li,PT),yq=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},vq=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},xq=L(ai,ft,mq,qh,Hh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=PT(t,l);a==null&&(a=yq(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),bq=L(si,ft,pq,qh,Hh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=gq(t,l);a==null&&(a=vq(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),wq=(e,t)=>{var r=ft(e),n=li(e,t);if(n!=null){var i=xq(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},jq=(e,t)=>{var r=ft(e),n=ts(e,t);if(n!=null){var i=bq(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},kT=L(ft,ts,(e,t)=>{var r=typeof t.width=="number"?t.width:Eh;return{width:r,height:e.height}}),xS=(e,t,r)=>{switch(t){case"xAxis":return _T(e,r).width;case"yAxis":return kT(e,r).height;default:return}},AT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ji(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&sE(c))return c}},qc=L([xe,Wh,it,Ce],AT),Kx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ji(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},qx=L([xe,Wh,Mo,Ce],Kx),bS=L([xe,zK,rs,Do,qc,qx,Kc,Wx,Ce],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ji(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),ET=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ji(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?jt(s[0]-s[1])*2*p:p;var y=f||i;if(y){var w=y.map((g,v)=>{var b=a?a.indexOf(g):g;return{index:v,coordinate:n(b)+p,value:g,offset:p}});return w.filter(g=>!wr(g.coordinate))}return u&&l?l.map((g,v)=>({coordinate:n(g)+p,value:g,index:v,offset:p})):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,v)=>({coordinate:n(g)+p,value:a?a[g]:g,index:v,offset:p}))}},OT=L([xe,Mo,rs,Do,Wx,Kc,qc,qx,Ce],ET),CT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ji(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?jt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},co=L([xe,Mo,Do,Kc,qc,qx,Ce],CT),uo=L(it,Do,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})}),Nq=L([it,rs,zx,NT],Kh);L((e,t,r)=>Ox(e,r),Nq,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})});var Sq=L([xe,Gv,Yv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TT=e=>e.options.defaultTooltipEventType,MT=e=>e.options.validateTooltipEventTypes;function RT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Hx(e,t){var r=TT(e),n=MT(e);return RT(t,r,n)}function Pq(e){return ne(t=>Hx(t,e))}var DT=(e,t)=>{var r,n=Number(t);if(!(wr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},_q=e=>e.tooltip.settings,Pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},kq={itemInteraction:{click:Pi,hover:Pi},axisInteraction:{click:Pi,hover:Pi},keyboardInteraction:Pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$T=kr({name:"tooltip",initialState:kq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Vn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Aq,removeTooltipEntrySettings:Eq,setTooltipSettingsState:Oq,setActiveMouseOverItemIndex:IT,mouseLeaveItem:Cq,mouseLeaveChart:LT,setActiveClickItemIndex:Tq,setMouseOverAxisIndex:BT,setMouseClickAxisIndex:Mq,setSyncInteraction:C0,setKeyboardInteraction:T0}=$T.actions,Rq=$T.reducer;function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){Dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dq(e,t,r){return(t=$q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $q(e){var t=Iq(e,"string");return typeof t=="symbol"?t:t+""}function Iq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Bq(e){return e.index!=null}var FT=(e,t,r,n)=>{if(t==null)return Pi;var i=Lq(e,t,r);if(i==null)return Pi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Bq(i)){if(s)return $u($u({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return $u($u({},Pi),{},{coordinate:i.coordinate})},Gx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Sr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},zT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},UT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Hc=e=>e.options.tooltipPayloadSearcher,$o=e=>e.tooltip;function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){Fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fq(e,t,r){return(t=zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zq(e){var t=Uq(e,"string");return typeof t=="symbol"?t:t+""}function Uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wq(e,t){return e??t}var WT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:y,settings:w}=m,g=Wq(y,l),v=Array.isArray(g)?SO(g,u,d):g,b=(p=w==null?void 0:w.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?N=dz(v,n.dataKey,i):N=s(v,t,c,j),Array.isArray(N))N.forEach(P=>{var A=NS(NS({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(hN({tooltipEntrySettings:A,dataKey:P.dataKey,payload:P.payload,value:$e(P.payload,P.dataKey),name:P.name}))});else{var S;h.push(hN({tooltipEntrySettings:w,dataKey:b,payload:N,value:$e(N,b),name:(S=$e(N,j))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},Yx=L([pt,xe,sT,Px,mt],wT),Vq=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Kq=L([mt,To],Cx),Gc=L([Vq,pt,Kq],Mx),qq=L([Gc],e=>e.filter(Uh)),Hq=L([Gc],Rx),Io=L([Hq,es],Dx),Gq=L([qq,es,pt],iT),Xx=L([Io,pt,Gc],Ix),Yq=L([pt],Lx),Xq=L([Gc],e=>e.filter(Uh)),Jq=L([Gq,Xq,zc],uT),Qq=L([Jq,es,mt],dT),Zq=L([Gc],oT),eH=L([Io,pt,Zq,Vh,mt],fT),tH=L([mT,mt,To],Ro),rH=L([tH,mt],yT),nH=L([pT,mt,To],Ro),iH=L([nH,mt],vT),sH=L([gT,mt,To],Ro),aH=L([sH,mt],xT),oH=L([rH,aH,iH],hf),lH=L([pt,Yq,Qq,eH,oH,xe,mt],Bx),VT=L([pt,xe,Io,Xx,zc,mt,lH],Fx),cH=L([VT,pt,Yx],Ux),uH=L([pt,VT,cH,mt],Vx),KT=e=>{var t=mt(e),r=To(e),n=!1;return Kc(e,t,r,n)},qT=L([pt,KT],Fh),HT=L([pt,Yx,uH,qT],Kh),dH=L([xe,Xx,pt,mt],AT),fH=L([xe,Xx,pt,mt],Kx),hH=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ji(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},ci=L([xe,pt,Yx,HT,KT,dH,fH,mt],hH),Jx=L([TT,MT,_q],(e,t,r)=>RT(r.shared,e,t)),GT=e=>e.tooltip.settings.trigger,Qx=e=>e.tooltip.settings.defaultIndex,Gh=L([$o,Jx,GT,Qx],FT),Vi=L([Gh,Io],Gx),YT=L([ci,Vi],DT),XT=L([Gh],e=>{if(e)return e.dataKey}),JT=L([$o,Jx,GT,Qx],UT),mH=L([si,ai,xe,ft,ci,Qx,JT,Hc],zT),pH=L([Gh,mH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),gH=L([Gh],e=>e.active),yH=L([JT,Vi,es,pt,YT,Hc,Jx],WT),vH=L([yH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return(t=bH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bH(e){var t=wH(e,"string");return typeof t=="symbol"?t:t+""}function wH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jH=()=>ne(pt),NH=()=>{var e=jH(),t=ne(ci),r=ne(HT);return uc(PS(PS({},e),{},{scale:r}),t)},SH=()=>ne(Px),Zx=(e,t)=>t,QT=(e,t,r)=>r,eb=(e,t,r,n)=>n,PH=L(ci,e=>jh(e,t=>t.coordinate)),tb=L([$o,Zx,QT,eb],FT),ZT=L([tb,Io],Gx),_H=(e,t,r)=>{if(t!=null){var n=$o(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eM=L([$o,Zx,QT,eb],UT),mf=L([si,ai,xe,ft,ci,eb,eM,Hc],zT),kH=L([tb,mf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tM=L(ci,ZT,DT),AH=L([eM,ZT,es,pt,tM,Hc,Zx],WT),EH=L([tb],e=>({isActive:e.active,activeIndex:e.index})),OH=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=b9(e.chartX,e.chartY,t,r,l);if(c){var u=j9(c,t),d=o9(u,a,s,n,i),f=w9(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(null,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){CH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CH(e,t,r){return(t=TH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TH(e){var t=MH(e,"string");return typeof t=="symbol"?t:t+""}function MH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=sW;else if(u==="BarChart")m=aW(a,d,i,s),p=YO;else if(a==="radial"){var{cx:y,cy:w,radius:g,startAngle:v,endAngle:b}=XO(d);m={cx:y,cy:w,startAngle:v,endAngle:b,innerRadius:g,outerRadius:g},p=QO}else m={points:BW(a,d,i)},p=LO;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=Iu(Iu(Iu(Iu({stroke:"#ccc",pointerEvents:"none"},i),m),je(l,!1)),{},{payload:f,payloadIndex:h,className:me("recharts-tooltip-cursor",j)});return x.isValidElement(l)?x.cloneElement(l,N):x.createElement(p,N)}function DH(e){var t=NH(),r=CO(),n=Jv(),i=SH();return x.createElement(RH,M0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var rM=x.createContext(null),$H=()=>x.useContext(rM),nM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],g=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,p),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,N;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),g){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(N=1,v=new Array(g-1);N<g;N++)v[N-1]=arguments[N];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var y=0,w=[],g=p.length;y<g;y++)(p[y].fn!==d||h&&!p[y].once||f&&p[y].context!==f)&&w.push(p[y]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(nM);var IH=nM.exports;const LH=Kr(IH);var yc=new LH,R0="recharts.syncEvent.tooltip",kS="recharts.syncEvent.brush";function rb(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return e==null?void 0:e[r]}}var BH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iM=kr({name:"options",initialState:BH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),FH=iM.reducer,{createEventEmitter:zH}=iM.actions;function UH(e){return e.tooltip.syncInteraction}var WH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sM=kr({name:"chartData",initialState:WH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:AS,setDataStartEndIndexes:VH,setComputedData:bre}=sM.actions,KH=sM.reducer,aM=()=>{};function qH(){var e=ne(_x),t=ne(kx),r=Ye(),n=ne(ZC),i=ne(ci),s=Jv(),a=Xv(),l=ne(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return aM;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(i,m);h=i[p]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:y}=d.payload;if(h==null||d.payload.active===!1||y==null||a==null){r(C0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:g}=y,v=Math.min(w,a.x+a.width),b=Math.min(g,a.y+a.height),j={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},N=C0({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(N)}}};return yc.on(R0,c),()=>{yc.off(R0,c)}},[l,r,t,e,n,i,s,a])}function HH(){var e=ne(_x),t=ne(kx),r=Ye();x.useEffect(()=>{if(e==null)return aM;var n=(i,s,a)=>{t!==a&&e===i&&r(VH(s))};return yc.on(kS,n),()=>{yc.off(kS,n)}},[r,t,e])}function GH(){var e=Ye();x.useEffect(()=>{e(zH())},[e]),qH(),HH()}function YH(e,t,r,n,i,s){var a=ne(h=>_H(h,e,t)),l=ne(kx),c=ne(_x),u=ne(ZC),d=ne(UH),f=d==null?void 0:d.active;x.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=C0({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});yc.emit(R0,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){XH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XH(e,t,r){return(t=JH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JH(e){var t=QH(e,"string");return typeof t=="symbol"?t:t+""}function QH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZH(e){return e.dataKey}function eG(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(I9,t)}var CS=[],tG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Xs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ks(e){var t=Hr(e,tG),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:y,shared:w,trigger:g,defaultIndex:v,portal:b,axisId:j}=t,N=Ye(),S=typeof v=="number"?String(v):v;x.useEffect(()=>{N(Oq({shared:w,trigger:g,axisId:j,active:r,defaultIndex:S}))},[N,w,g,j,r,S]);var P=Xv(),A=IO(),R=Pq(w),{activeIndex:D,isActive:E}=ne(te=>EH(te,R,g,S)),B=ne(te=>AH(te,R,g,S)),$=ne(te=>tM(te,R,g,S)),M=ne(te=>kH(te,R,g,S)),O=B,F=$H(),V=r??E,[k,C]=J8([O,V]),W=R==="axis"?$:void 0;YH(R,g,M,W,D,V);var H=b??F;if(H==null)return null;var X=O??CS;V||(X=CS),l&&X.length&&(X=p8(O.filter(te=>te.value!=null&&(te.hide!==!0||t.includeHidden)),d,ZH));var pe=X.length>0,z=x.createElement(V9,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:V,coordinate:M,hasPayload:pe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:p,lastBoundingBox:k,innerRef:C,hasPortalFromProps:!!b},eG(a,OS(OS({},t),{},{payload:X,label:W,active:V,coordinate:M,accessibilityLayer:A})));return x.createElement(x.Fragment,null,zk.createPortal(z,H),V&&x.createElement(DH,{cursor:y,tooltipEventType:R,coordinate:M,payload:O,index:D}))}var oM={},lM={},cM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{p(),a=void 0,l=null},w=()=>{d()},g=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return g.schedule=m,g.cancel=y,g.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(lM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(oM);var rG=oM.throttle;const nG=Kr(rG);var Rl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qs=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,y=x.useRef(null),w=x.useRef();w.current=m,x.useImperativeHandle(t,()=>y.current);var[g,v]=x.useState({containerWidth:n.width,containerHeight:n.height}),b=x.useCallback((N,S)=>{v(P=>{var A=Math.round(N),R=Math.round(S);return P.containerWidth===A&&P.containerHeight===R?P:{containerWidth:A,containerHeight:R}})},[]);x.useEffect(()=>{var N=R=>{var D,{width:E,height:B}=R[0].contentRect;b(E,B),(D=w.current)===null||D===void 0||D.call(w,E,B)};d>0&&(N=nG(N,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:P,height:A}=y.current.getBoundingClientRect();return b(P,A),S.observe(y.current),()=>{S.disconnect()}},[b,d]);var j=x.useMemo(()=>{var{containerWidth:N,containerHeight:S}=g;if(N<0||S<0)return null;Rl(ws(i)||ws(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Rl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=ws(i)?N:i,A=ws(s)?S:s;return r&&r>0&&(P?A=P/r:A&&(P=A*r),c&&A>c&&(A=c)),Rl(P>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,A,i,s,a,l,r),x.Children.map(u,R=>x.cloneElement(R,{width:P,height:A,style:xp({width:P,height:A},R.props.style)}))},[r,u,s,c,l,a,g,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:me("recharts-responsive-container",h),style:xp(xp({},p),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:y},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),ea=e=>null;ea.displayName="Cell";function oG(e,t,r){return(t=lG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uG{constructor(t){oG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){fG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fG(e,t,r){return(t=hG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hG(e){var t=mG(e,"string");return typeof t=="symbol"?t:t+""}function mG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pG={cacheSize:2e3,enableCache:!0},uM=dG({},pG),RS=new uG(uM.cacheSize),gG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DS="recharts_measurement_span";function yG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var $S=(e,t)=>{try{var r=document.getElementById(DS);r||(r=document.createElement("span"),r.setAttribute("id",DS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,gG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Dl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Xs.isSsr)return{width:0,height:0};if(!uM.enableCache)return $S(t,r);var n=yG(t,r),i=RS.get(n);if(i)return i;var s=$S(t,r);return RS.set(n,s),s},IS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,vG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},bG=Object.keys(dM),Oa="NaN";function wG(e,t){return e*dM[t]}class er{static parse(t){var r,[,n,i]=(r=xG.exec(t))!==null&&r!==void 0?r:[];return new er(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wr(t)&&(this.unit=""),r!==""&&!vG.test(r)&&(this.num=NaN,this.unit=""),bG.includes(r)&&(this.num=wG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function fM(e){if(e.includes(Oa))return Oa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=IS.exec(t))!==null&&r!==void 0?r:[],a=er.parse(n??""),l=er.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Oa;t=t.replace(IS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=LS.exec(t))!==null&&u!==void 0?u:[],m=er.parse(d??""),p=er.parse(h??""),y=f==="+"?m.add(p):m.subtract(p);if(y.isNaN())return Oa;t=t.replace(LS,y.toString())}return t}var BS=/\(([^()]*)\)/;function jG(e){for(var t=e,r;(r=BS.exec(t))!=null;){var[,n]=r;t=t.replace(BS,fM(n))}return t}function NG(e){var t=e.replace(/\s+/g,"");return t=jG(t),t=fM(t),t}function SG(e){try{return NG(e)}catch{return Oa}}function bp(e){var t=SG(e.slice(5,-1));return t===Oa?"":t}var PG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_G=["dx","dy","angle","className","breakAll"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(null,arguments)}function FS(e,t){if(e==null)return{};var r,n,i=kG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hM=/[ \f\n\r\t\v\u2028\u2029]+/,mM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];et(t)||(r?i=t.toString().split(""):i=t.toString().split(hM));var s=i.map(l=>({word:l,width:Dl(l,n).width})),a=r?0:Dl(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},AG=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=ie(s),d=a,f=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return E.reduce((B,$)=>{var{word:M,width:O}=$,F=B[B.length-1];if(F&&(n==null||i||F.width+O+r<Number(n)))F.words.push(M),F.width+=O+r;else{var V={words:[M],width:O};B.push(V)}return B},[])},h=f(t),m=D=>D.reduce((E,B)=>E.width>B.width?E:B);if(!u||i)return h;var p=h.length>s||m(h).width>Number(n);if(!p)return h;for(var y="…",w=D=>{var E=d.slice(0,D),B=mM({breakAll:c,style:l,children:E+y}).wordsWithComputedWidth,$=f(B),M=$.length>s||m($).width>Number(n);return[M,$]},g=0,v=d.length-1,b=0,j;g<=v&&b<=d.length-1;){var N=Math.floor((g+v)/2),S=N-1,[P,A]=w(S),[R]=w(N);if(!P&&!R&&(g=N+1),P&&R&&(v=N-1),!P&&R){j=A;break}b++}return j||h},zS=e=>{var t=et(e)?[]:e.toString().split(hM);return[{words:t}]},EG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Xs.isSsr){var l,c,u=mM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return zS(n);return AG({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return zS(n)},US="#808080",Lo=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=US}=e,d=FS(e,PG),f=x.useMemo(()=>EG({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:y,breakAll:w}=d,g=FS(d,_G);if(!En(r)||!En(n))return null;var v=r+(ie(h)?h:0),b=n+(ie(m)?m:0),j;switch(c){case"start":j=bp("calc(".concat(s,")"));break;case"middle":j=bp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=bp("calc(".concat(f.length-1," * -").concat(i,")"));break}var N=[];if(a){var S=f[0].width,{width:P}=d;N.push("scale(".concat(ie(P)?P/S:1,")"))}return p&&N.push("rotate(".concat(p,", ").concat(v,", ").concat(b,")")),N.length&&(g.transform=N.join(" ")),x.createElement("text",D0({},je(g,!0),{ref:t,x:v,y:b,className:me("recharts-text",y),textAnchor:l,fill:u.includes("url")?US:u}),f.map((A,R)=>{var D=A.words.join(w?"":" ");return x.createElement("tspan",{x:v,dy:R===0?j:i,key:"".concat(D,"-").concat(R)},D)}))});Lo.displayName="Text";var OG=["offset"],CG=["labelRef"];function WS(e,t){if(e==null)return{};var r,n,i=TG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=DG(e,"string");return typeof t=="symbol"?t:t+""}function DG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(null,arguments)}var $G=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},nb=e=>e!=null&&typeof e=="function",IG=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},LG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,p=(u+d)/2,y=IG(f,h),w=y>=0?1:-1,g,v;i==="insideStart"?(g=f+w*s,v=m):i==="insideEnd"?(g=h-w*s,v=!m):i==="end"&&(g=h+w*s,v=m),v=y<=0?v:!v;var b=Se(l,c,p,g),j=Se(l,c,p,g+(v?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=et(e.id)?oc("recharts-radial-line-"):e.id;return x.createElement("text",In({},r,{dominantBaseline:"central",className:me("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:S,d:N})),x.createElement("textPath",{xlinkHref:"#".concat(S)},t))},BG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Se(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:p}=Se(n,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},FG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var g={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Xe(Xe({},g),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Xe(Xe({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-p,y:a+c/2,textAnchor:y,verticalAnchor:"middle"};return Xe(Xe({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Xe(Xe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var N=r?{width:l,height:c}:{};return i==="insideLeft"?Xe({x:s+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Xe({x:s+l-p,y:a+c/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideTop"?Xe({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},N):i==="insideBottom"?Xe({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},N):i==="insideTopLeft"?Xe({x:s+p,y:a+d,textAnchor:w,verticalAnchor:h},N):i==="insideTopRight"?Xe({x:s+l-p,y:a+d,textAnchor:y,verticalAnchor:h},N):i==="insideBottomLeft"?Xe({x:s+p,y:a+c-d,textAnchor:w,verticalAnchor:f},N):i==="insideBottomRight"?Xe({x:s+l-p,y:a+c-d,textAnchor:y,verticalAnchor:f},N):i&&typeof i=="object"&&(ie(i.x)||ws(i.x))&&(ie(i.y)||ws(i.y))?Xe({x:s+Yt(i.x,l),y:a+Yt(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):Xe({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},zG=e=>"cx"in e&&ie(e.cx);function ir(e){var{offset:t=5}=e,r=WS(e,OG),n=Xe({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=ne(Co),m=Xv(),p=s==="center"?m:h??m,y=i||p;if(!y||et(a)&&et(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var w=Xe(Xe({},n),{},{viewBox:y});if(x.isValidElement(c)){var g=WS(w,CG);return x.cloneElement(c,g)}var v;if(typeof c=="function"){if(v=x.createElement(c,w),x.isValidElement(v))return v}else v=$G(n);var b=zG(y),j=je(n,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return LG(n,v,j,y);var N=b?BG(y,n.offset,n.position):FG(n,y);return x.createElement(Lo,In({ref:f,className:me("recharts-label",u)},j,N,{breakAll:d}),v)}ir.displayName="Label";var pM=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:y,clockWise:w,labelViewBox:g}=e;if(g)return g;if(ie(p)&&ie(y)){if(ie(d)&&ie(f))return{x:d,y:f,width:p,height:y};if(ie(h)&&ie(m))return{x:h,y:m,width:p,height:y}}if(ie(d)&&ie(f))return{x:d,y:f,width:0,height:0};if(ie(t)&&ie(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},UG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(ir,In({key:"label-implicit"},n)):En(e)?x.createElement(ir,In({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===ir?x.cloneElement(e,Xe({key:"label-implicit"},n)):x.createElement(ir,In({key:"label-implicit",content:e},n)):nb(e)?x.createElement(ir,In({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(ir,In({},e,{key:"label-implicit"},n)):null},WG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=pM(t),l=Rc(i,ir).map((u,d)=>x.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=UG(t.label,r||a,s);return[c,...l]};ir.parseViewBox=pM;ir.renderCallByParent=WG;var gM={},yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yM);var vM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM,r=vM,n=gh;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(gM);var VG=gM.last;const xM=Kr(VG);var KG=["valueAccessor"],qG=["data","dataKey","clockWise","id","textBreakAll"];function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){HG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=YG(e,"string");return typeof t=="symbol"?t:t+""}function YG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HS(e,t){if(e==null)return{};var r,n,i=XG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var JG=e=>Array.isArray(e.value)?xM(e.value):e.value;function Li(e){var{valueAccessor:t=JG}=e,r=HS(e,KG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=HS(r,qG);return!n||!n.length?null:x.createElement(Ge,{className:"recharts-label-list"},n.map((u,d)=>{var f=et(i)?t(u,d):$e(u&&u.payload,i),h=et(a)?{}:{id:"".concat(a,"-").concat(d)};return x.createElement(ir,pf({},je(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:ir.parseViewBox(et(s)?u:qS(qS({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Li.displayName="LabelList";function QG(e,t){return e?e===!0?x.createElement(Li,{key:"labelList-implicit",data:t}):x.isValidElement(e)||nb(e)?x.createElement(Li,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?x.createElement(Li,pf({data:t},e,{key:"labelList-implicit"})):null:null}function ZG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Rc(n,Li).map((a,l)=>x.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=QG(e.label,t);return[s,...i]}Li.renderCallByParent=ZG;var eY=["points","className","baseLinePoints","connectNulls"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function tY(e,t){if(e==null)return{};var r,n,i=rY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GS=e=>e&&e.x===+e.x&&e.y===+e.y,nY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{GS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),GS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$l=(e,t)=>{var r=nY(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},iY=(e,t,r)=>{var n=$l(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat($l(t.reverse(),r).slice(1))},bM=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=tY(e,eY);if(!t||!t.length)return null;var a=me("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=iY(t,n,i);return x.createElement("g",{className:a},x.createElement("path",Ca({},je(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?x.createElement("path",Ca({},je(s,!0),{fill:"none",d:$l(t,i)})):null,l?x.createElement("path",Ca({},je(s,!0),{fill:"none",d:$l(n,i)})):null)}var u=$l(t,i);return x.createElement("path",Ca({},je(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}var ib=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=me("recharts-dot",i);return t===+t&&r===+r&&n===+n?x.createElement("circle",$0({},zt(e),Ov(e),{className:s,cx:t,cy:r,r:n})):null},sb=e=>e.graphicalItems.polarItems,sY=L([Ce,Wc],Cx),ab=L([sb,it,sY],Mx),aY=L([ab],Rx),ob=L([aY,Lh],Dx),wM=L([ob,it,ab],Ix),oY=L([ob,it,ab],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=$e(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),YS=()=>{},lY=L([it,bT,YS,oY,YS,xe,Ce],Bx),jM=L([it,xe,ob,wM,zc,Ce,lY],Fx),NM=L([jM,it,rs],Ux),cY=L([it,jM,NM,Ce],Vx),lb=(e,t,r)=>{switch(t){case"angleAxis":return Oo(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cb=(e,t,r)=>{switch(t){case"angleAxis":return DK(e,r);case"radiusAxis":return $K(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Bo=L([lb,rs,cY,cb],Kh),SM=L([xe,wM,Mo,Ce],Kx),Fo=L([xe,lb,rs,Bo,NM,cb,qc,SM,Ce],ET);L([xe,lb,Bo,cb,qc,SM,Ce],CT);var uY=(e,t)=>Fo(e,"angleAxis",t,!1),dY=L([uY],e=>{if(e)return e.map(t=>t.coordinate)}),fY=(e,t)=>Fo(e,"radiusAxis",t,!1),hY=L([fY],e=>{if(e)return e.map(t=>t.coordinate)}),mY=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function pY(e,t){if(e==null)return{};var r,n,i=gY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){yY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yY(e,t,r){return(t=vY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=xY(e,"string");return typeof t=="symbol"?t:t+""}function xY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bY=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=Se(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},wY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=fo({stroke:"#ccc"},zt(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=Se(t,r,n,c),d=Se(t,r,i,c);return x.createElement("line",ti({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},jY=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=fo(fo({stroke:"#ccc"},zt(e)),{},{fill:"none"});return x.createElement("circle",ti({},s,{className:me("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},NY=e=>{var{radius:t,index:r}=e,n=fo(fo({stroke:"#ccc"},zt(e)),{},{fill:"none"});return x.createElement("path",ti({},n,{className:me("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:bY(t,e.cx,e.cy,e.polarAngles)}))},SY=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:x.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?x.createElement(jY,ti({key:s},e,{radius:n,index:i})):x.createElement(NY,ti({key:s},e,{radius:n,index:i}))}))},PM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:y,outerRadius:w}=e,g=pY(e,mY),v=ne(Co),b=fo({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=v==null?void 0:v.cy)!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0,innerRadius:(s=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:y)!==null&&s!==void 0?s:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},g),{polarAngles:j,polarRadius:N,cx:S,cy:P,innerRadius:A,outerRadius:R}=b,D=ne(M=>dY(M,f)),E=ne(M=>hY(M,h)),B=Array.isArray(j)?j:D,$=Array.isArray(N)?N:E;return R<=0||B==null||$==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(wY,ti({cx:S,cy:P,innerRadius:A,outerRadius:R,gridType:u,radialLines:d},b,{polarAngles:B,polarRadius:$})),x.createElement(SY,ti({cx:S,cy:P,innerRadius:A,outerRadius:R,gridType:u,radialLines:d},b,{polarAngles:B,polarRadius:$})))};PM.displayName="PolarGrid";var _M={},kM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(kM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kM,r=Dc,n=yh;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(_M);var PY=_M.maxBy;const _Y=Kr(PY);var AM={},EM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(EM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EM,r=Dc,n=yh;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(AM);var kY=AM.minBy;const AY=Kr(kY);var EY={radiusAxis:{},angleAxis:{}},OM=kr({name:"polarAxis",initialState:EY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:OY,removeRadiusAxis:CY,addAngleAxis:TY,removeAngleAxis:MY}=OM.actions,RY=OM.reducer,DY=["cx","cy","angle","axisLine"],$Y=["angle","tickFormatter","stroke","tick"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(null,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return(t=IY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CM(e,t){if(e==null)return{};var r,n,i=BY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TM="radiusAxis";function FY(e){var t=Ye();return x.useEffect(()=>(t(OY(e)),()=>{t(CY(e))})),null}var zY=(e,t,r,n)=>{var{coordinate:i}=e;return Se(r,n,i,t)},UY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},WY=(e,t,r,n)=>{var i=_Y(n,a=>a.coordinate||0),s=AY(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},VY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=CM(e,DY),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Se(r,n,l[0],i),u=Se(r,n,l[1],i),d=xn(xn(xn({},zt(a)),{},{fill:"none"},je(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return x.createElement("line",vc({className:"recharts-polar-radius-axis-line"},d))},KY=(e,t,r)=>{var n;return x.isValidElement(e)?n=x.cloneElement(e,t):typeof e=="function"?n=e(t):n=x.createElement(Lo,vc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},qY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=CM(e,$Y),l=UY(e.orientation),c=zt(a),u=je(s,!1),d=t.map((f,h)=>{var m=zY(f,e.angle,e.cx,e.cy),p=xn(xn(xn(xn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return x.createElement(Ge,vc({className:me("recharts-polar-radius-axis-tick",NO(s)),key:"tick-".concat(f.coordinate)},Po(e,f,h)),KY(s,p,n?n(f.value,h):f.value))});return x.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},d)},HY=e=>{var{radiusAxisId:t}=e,r=ne(Co),n=ne(c=>Bo(c,"radiusAxis",t)),i=ne(c=>Fo(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=xn(xn(xn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return x.createElement(Ge,{className:me("recharts-polar-radius-axis",TM,s.className)},l&&VY(s,i),a&&qY(s,i),ir.renderCallByParent(s,WY(s.angle,s.cx,s.cy,i)))};class Xh extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(FY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(HY,this.props))}}Yh(Xh,"displayName","PolarRadiusAxis");Yh(Xh,"axisType",TM);Yh(Xh,"defaultProps",tr);var GY=["children"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jh(e,t,r){return(t=YY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YY(e){var t=XY(e,"string");return typeof t=="symbol"?t:t+""}function XY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JY(e,t){if(e==null)return{};var r,n,i=QY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZY=Math.PI/180,ZS=1e-5,MM="angleAxis";function eX(e){var t=Ye(),r=x.useMemo(()=>{var s=JY(e,GY);return s},[e]),n=ne(s=>Oo(s,r.id)),i=r===n;return x.useEffect(()=>(t(TY(r)),()=>{t(MY(r))}),[t,r]),i?e.children:null}var tX=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=Se(r,n,i,e.coordinate),u=Se(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},rX=(e,t)=>{var r=Math.cos(-e.coordinate*ZY);return r>ZS?t==="outer"?"start":"end":r<-ZS?t==="outer"?"end":"start":"middle"},nX=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=yn(yn({},zt(e)),{},{fill:"none"},je(s,!1));if(i==="circle")return x.createElement(ib,ri({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>Se(t,r,n,u.coordinate));return x.createElement(bM,ri({className:"recharts-polar-angle-axis-line"},l,{points:c}))},iX=e=>{var{tick:t,tickProps:r,value:n}=e;return t?x.isValidElement(t)?x.cloneElement(t,r):typeof t=="function"?t(r):x.createElement(Lo,ri({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},sX=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=zt(e),l=je(t,!1),c=yn(yn({},a),{},{fill:"none"},je(r,!1)),u=s.map((d,f)=>{var h=tX(d,e),m=rX(d,e.orientation),p=yn(yn(yn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return x.createElement(Ge,ri({className:me("recharts-polar-angle-axis-tick",NO(t)),key:"tick-".concat(d.coordinate)},Po(e,d,f)),r&&x.createElement("line",ri({className:"recharts-polar-angle-axis-tick-line"},c,h)),x.createElement(iX,{tick:t,tickProps:p,value:n?n(d.value,f):d.value}))});return x.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},u)},aX=e=>{var{angleAxisId:t}=e,r=ne(Co),n=ne(l=>Bo(l,"angleAxis",t)),i=fr(),s=ne(l=>Fo(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=yn(yn(yn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return x.createElement(Ge,{className:me("recharts-polar-angle-axis",MM,a.className)},x.createElement(nX,ri({},a,{ticks:s})),x.createElement(sX,ri({},a,{ticks:s})))};class Qh extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(eX,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(aX,this.props))}}Jh(Qh,"displayName","PolarAngleAxis");Jh(Qh,"axisType",MM);Jh(Qh,"defaultProps",gn);function eP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eP(Object(r),!0).forEach(function(n){oX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oX(e,t,r){return(t=lX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lX(e){var t=cX(e,"string");return typeof t=="symbol"?t:t+""}function cX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uX=(e,t)=>t,ub=L([sb,uX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),dX=[],db=(e,t,r)=>(r==null?void 0:r.length)===0?dX:r,RM=L([Lh,ub,db],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>tP(tP({},t.presentationProps),s.props))),i!=null)return i}}),fX=L([RM,ub,db],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=$e(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:_o(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),hX=L([RM,ub,db,ft],(e,t,r,n)=>{if(!(t==null||e==null))return iJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),DM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(DM);var mX=DM.isPlainObject;const pX=Kr(mX);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var rP=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},gX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yX=e=>{var t=Hr(e,gX),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var y=me("recharts-trapezoid",d);return p?x.createElement(Zd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:p},w=>{var{upperWidth:g,lowerWidth:v,height:b,x:j,y:N}=w;return x.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},x.createElement("path",gf({},je(t,!0),{className:y,d:rP(j,N,g,v,b),ref:r})))}):x.createElement("g",null,x.createElement("path",gf({},je(t,!0),{className:y,d:rP(s,a,l,c,u)})))},vX=["option","shapeType","propTransformer","activeClassName","isActive"];function xX(e,t){if(e==null)return{};var r,n,i=bX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nP(Object(r),!0).forEach(function(n){wX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wX(e,t,r){return(t=jX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SX(e,t){return yf(yf({},t),e)}function PX(e,t){return e==="symbols"}function iP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(YO,r);case"trapezoid":return x.createElement(yX,r);case"sector":return x.createElement(QO,r);case"symbols":if(PX(t))return x.createElement(_E,r);break;default:return null}}function _X(e){return x.isValidElement(e)?e.props:e}function $M(e){var{option:t,shapeType:r,propTransformer:n=SX,activeClassName:i="recharts-active-shape",isActive:s}=e,a=xX(e,vX),l;if(x.isValidElement(t))l=x.cloneElement(t,yf(yf({},a),_X(t)));else if(typeof t=="function")l=t(a);else if(pX(t)&&typeof t!="boolean"){var c=n(t,a);l=x.createElement(iP,{shapeType:r,elementProps:c})}else{var u=a;l=x.createElement(iP,{shapeType:r,elementProps:u})}return s?x.createElement(Ge,{className:i},l):l}var fb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(IT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},hb=e=>{var t=Ye();return(r,n)=>i=>{e==null||e(r,n,i),t(Cq())}},mb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(Tq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function pb(e){var{fn:t,args:r}=e,n=Ye(),i=fr();return x.useEffect(()=>{if(!i){var s=t(r);return n(Aq(s)),()=>{n(Eq(s))}}},[t,r,n,i]),null}var IM=()=>{};function kX(e){var{legendPayload:t}=e,r=Ye(),n=fr();return x.useEffect(()=>n?IM:(r(DO(t)),()=>{r($O(t))}),[r,n,t]),null}function LM(e){var{legendPayload:t}=e,r=Ye(),n=ne(xe);return x.useEffect(()=>n!=="centric"&&n!=="radial"?IM:(r(DO(t)),()=>{r($O(t))}),[r,n,t]),null}function gb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(oc(t)),n=x.useRef(e);return n.current!==e&&(r.current=oc(t),n.current=e),r.current}var wp,AX=()=>{var[e]=x.useState(()=>oc("uid-"));return e},EX=(wp=YR.useId)!==null&&wp!==void 0?wp:AX;function OX(e,t){var r=EX();return t||(e?"".concat(e,"-").concat(r):r)}var CX=x.createContext(void 0),yb=e=>{var{id:t,type:r,children:n}=e,i=OX("recharts-".concat(r),t);return x.createElement(CX.Provider,{value:i},n(i))},TX={cartesianItems:[],polarItems:[]},BM=kr({name:"graphicalItems",initialState:TX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Vn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Vn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Vn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:MX,replaceCartesianGraphicalItem:RX,removeCartesianGraphicalItem:DX,addPolarGraphicalItem:$X,removePolarGraphicalItem:IX}=BM.actions,LX=BM.reducer;function BX(e){var t=Ye(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(MX(e)):r.current!==e&&t(RX({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(DX(r.current)),r.current=null)},[t]),null}function FM(e){var t=Ye();return x.useEffect(()=>(t($X(e)),()=>{t(IX(e))}),[t,e]),null}function FX(){}var zX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},sP={t:0},jp={t:1};function vb(e){var t=Hr(e,zX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=GO("JavascriptAnimate",t.animationManager),[f,h]=x.useState(r?sP:jp),m=x.useRef(null);return x.useEffect(()=>{r||h(jp)},[r]),x.useEffect(()=>{if(!r||!n)return FX;var p=HO(sP,jp,KO(s),i,h,d.getTimeoutController()),y=()=>{m.current=p()};return d.start([c,a,y,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var UX=["onMouseEnter","onClick","onMouseLeave"],WX=["id"],VX=["id"];function xb(e,t){if(e==null)return{};var r,n,i=KX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){qX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qX(e,t,r){return(t=HX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HX(e){var t=GX(e,"string");return typeof t=="symbol"?t:t+""}function GX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function YX(e){var t=x.useMemo(()=>Rc(e.children,ea),[e.children]),r=ne(n=>fX(n,e.id,t));return r==null?null:x.createElement(LM,{legendPayload:r})}function XX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:_o(l,t),hide:c,type:u,color:a,unit:""}}}var JX=(e,t)=>e>t?"start":e<t?"end":"middle",QX=(e,t,r)=>typeof t=="function"?t(e):Yt(t,r,r*.8),ZX=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=jO(s,a),c=i+Yt(e.cx,s,s/2),u=n+Yt(e.cy,a,a/2),d=Yt(e.innerRadius,l,0),f=QX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},eJ=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},tJ=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=me("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(LO,ni({},t,{type:"linear",className:r}))},rJ=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var i=me("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return x.createElement(Lo,ni({},t,{alignmentBaseline:"middle",className:i}),n)};function nJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=zt(r),c=je(i,!1),u=je(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,y=Se(h.cx,h.cy,h.outerRadius+d,p),w=Ze(Ze(Ze(Ze({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:JX(y.x,h.cx)},y),g=Ze(Ze(Ze(Ze({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Se(h.cx,h.cy,h.outerRadius,p),y],key:"line"});return x.createElement(Ge,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&tJ(s,g),rJ(i,w,$e(h,a)))});return x.createElement(Ge,{className:"recharts-pie-labels"},f)}function zM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=ne(Vi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=xb(i,UX),f=fb(l,i.dataKey),h=hb(u),m=mb(c,i.dataKey);return t==null?null:x.createElement(x.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var w=r&&String(y)===a,g=a?n:null,v=w?r:g,b=Ze(Ze({},p),{},{stroke:p.stroke,tabIndex:-1,[AO]:y,[EO]:i.dataKey});return x.createElement(Ge,ni({tabIndex:-1,className:"recharts-pie-sector"},Po(d,p,y),{onMouseEnter:f(p,y),onMouseLeave:h(p,y),onClick:m(p,y),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y)}),x.createElement($M,ni({option:v,isActive:w,shapeType:"sector"},b)))}),x.createElement(nJ,{sectors:t,props:i,showLabels:s}))}function iJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=eJ(l,c),p=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>$e(S,u,0)!==0).length,g=(p>=360?w:w-1)*y,v=p-w*h-g,b=n.reduce((S,P)=>{var A=$e(P,u,0);return S+(ie(A)?A:0)},0),j;if(b>0){var N;j=n.map((S,P)=>{var A=$e(S,u,0),R=$e(S,d,P),D=ZX(r,s,S),E=(ie(A)?A:0)/b,B,$=Ze(Ze({},S),i&&i[P]&&i[P].props);P?B=N.endAngle+jt(m)*y*(A!==0?1:0):B=l;var M=B+jt(m)*((A!==0?h:0)+E*v),O=(B+M)/2,F=(D.innerRadius+D.outerRadius)/2,V=[{name:R,value:A,payload:$,dataKey:u,type:f}],k=Se(D.cx,D.cy,F,O);return N=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:E,cornerRadius:a,name:R,tooltipPayload:V,midAngle:O,middleRadius:F,tooltipPosition:k},$),D),{},{value:$e(S,u),startAngle:B,endAngle:M,payload:$,paddingAngle:jt(m)*y}),N})}return j}function sJ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=gb(t,"recharts-pie-"),m=r.current,[p,y]=x.useState(!0),w=x.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),g=x.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return x.createElement(vb,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:g,onAnimationEnd:w,key:h},v=>{var b=[],j=n&&n[0],N=j.startAngle;return n.forEach((S,P)=>{var A=m&&m[P],R=P>0?Wi(S,"paddingAngle",0):0;if(A){var D=Ea(A.endAngle-A.startAngle,S.endAngle-S.startAngle),E=Ze(Ze({},S),{},{startAngle:N+R,endAngle:N+D(v)+R});b.push(E),N=E.endAngle}else{var{endAngle:B,startAngle:$}=S,M=Ea(0,B-$),O=M(v),F=Ze(Ze({},S),{},{startAngle:N+R,endAngle:N+O+R});b.push(F),N=F.endAngle}}),r.current=b,x.createElement(Ge,null,x.createElement(zM,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function aJ(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=x.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?x.createElement(sJ,{props:e,previousSectorsRef:s}):x.createElement(zM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function oJ(e){var{hide:t,className:r,rootTabIndex:n}=e,i=me("recharts-pie",r);return t?null:x.createElement(Ge,{tabIndex:n,className:i},x.createElement(aJ,e))}var lJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Xs.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function cJ(e){var{id:t}=e,r=xb(e,WX),n=x.useMemo(()=>Rc(e.children,ea),[e.children]),i=ne(s=>hX(s,t,n));return x.createElement(x.Fragment,null,x.createElement(pb,{fn:XX,args:Ze(Ze({},e),{},{sectors:i})}),x.createElement(oJ,ni({},r,{sectors:i})))}function Zh(e){var t=Hr(e,lJ),{id:r}=t,n=xb(t,VX),i=zt(n);return x.createElement(yb,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(FM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(YX,ni({},n,{id:s})),x.createElement(cJ,ni({},n,{id:s})),n.children))}Zh.displayName="Pie";var uJ=L([ft],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),dJ=L([uJ,si,ai],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),UM=()=>ne(dJ),fJ=()=>ne(vH);function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){hJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJ(e,t,r){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=lP(lP({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},je(i,!1)),Ov(i)),l;return x.isValidElement(i)?l=x.cloneElement(i,a):typeof i=="function"?l=i(a):l=x.createElement(ib,a),x.createElement(Ge,{className:"recharts-active-dot"},l)};function yJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=ne(Vi),a=fJ();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return et(l)?null:gJ({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){vJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vJ(e,t,r){return(t=xJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xJ(e){var t=bJ(e,"string");return typeof t=="symbol"?t:t+""}function bJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WM=(e,t)=>Bo(e,"radiusAxis",t),wJ=L([WM],e=>{if(e!=null)return{scale:e}}),jJ=L([Uc,WM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),NJ=(e,t,r,n)=>Fo(e,"radiusAxis",t,n),VM=(e,t,r)=>Oo(e,r),KM=(e,t,r)=>Bo(e,"angleAxis",r),SJ=L([VM,KM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),PJ=(e,t,r,n)=>Fo(e,"angleAxis",r,n),_J=L([VM,KM,Co],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),kJ=(e,t,r,n,i)=>i,AJ=L([xe,jJ,NJ,SJ,PJ],(e,t,r,n,i)=>Ji(e,"radiusAxis")?uc(t,r,!1):uc(n,i,!1)),EJ=L([sb,kJ],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),OJ=L([wJ,_J,Lh,EJ,AJ],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return BJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),CJ=["id"];function TJ(e,t){if(e==null)return{};var r,n,i=MJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bb(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function wb(e,t){return e&&e!=="none"?e:t}var $J=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:wb(n,i),value:_o(r,t),payload:e}]};function IJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:_o(s,t),hide:a,type:l,color:wb(r,i),unit:""}}}function LJ(e,t){var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(ib,ho({},t,{className:me("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function BJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var p=$e(h,r.dataKey,m),y=$e(h,i),w=r.scale(p)+d,g=Array.isArray(y)?xM(y):y,v=et(g)?void 0:t.scale(g);Array.isArray(y)&&y.length>=2&&(c=!0),u.push(Ht(Ht({},Se(a,l,v,w)),{},{name:p,value:y,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=et(m)?void 0:t.scale(m);f.push(Ht(Ht({},h),{},{radius:p},Se(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function FJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=TJ(r,CJ),a=zt(s),l=je(n,!0),c=t.map((u,d)=>{var f=Ht(Ht(Ht({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return LJ(n,f)});return x.createElement(Ge,{className:"recharts-radar-dots"},c)}function qM(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return x.isValidElement(i)?d=x.cloneElement(i,Ht(Ht({},r),{},{points:t})):typeof i=="function"?d=i(Ht(Ht({},r),{},{points:t})):d=x.createElement(bM,ho({},je(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),x.createElement(Ge,{className:"recharts-radar-polygon"},d,x.createElement(FJ,{props:r,points:t}),n&&Li.renderCallByParent(r,t))}function zJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=gb(t,"recharts-radar-"),[h,m]=x.useState(!0),p=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),y=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(vb,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:y},w=>{var g=d&&d.length/n.length,v=w===1?n:n.map((b,j)=>{var N=d&&d[Math.floor(j*g)];if(N){var S=Ea(N.x,b.x),P=Ea(N.y,b.y);return Ht(Ht({},b),{},{x:S(w),y:P(w)})}var A=Ea(b.cx,b.x),R=Ea(b.cy,b.y);return Ht(Ht({},b),{},{x:A(w),y:R(w)})});return w>0&&(r.current=v),x.createElement(qM,{points:v,props:t,showLabels:!h})})}function UJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=x.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?x.createElement(zJ,{props:e,previousPointsRef:i}):x.createElement(qM,{points:t,props:e,showLabels:!0})}var WJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Xs.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class VJ extends x.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=me("recharts-radar",r);return x.createElement(x.Fragment,null,x.createElement(Ge,{className:i},x.createElement(UJ,this.props)),x.createElement(yJ,{points:n,mainColor:wb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function KJ(e){var t=fr(),r=ne(n=>OJ(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return x.createElement(VJ,ho({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class jb extends x.PureComponent{render(){return x.createElement(yb,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(FM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(LM,{legendPayload:$J(this.props)}),x.createElement(pb,{fn:IJ,args:this.props}),x.createElement(KJ,ho({},this.props,{id:t}))))}}bb(jb,"displayName","Radar");bb(jb,"defaultProps",WJ);var qJ="Invariant failed";function HJ(e,t){throw new Error(qJ)}var GJ=["x","y"];function I0(){return I0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},I0.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){YJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YJ(e,t,r){return(t=XJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XJ(e){var t=JJ(e,"string");return typeof t=="symbol"?t:t+""}function JJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJ(e,t){if(e==null)return{};var r,n,i=ZJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function eQ(e,t){var{x:r,y:n}=e,i=QJ(e,GJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ol(ol(ol(ol(ol({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function HM(e){return x.createElement($M,I0({shapeType:"rectangle",propTransformer:eQ,activeClassName:"recharts-active-bar"},e))}var tQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ie(t))return t;var s=ie(n)||et(n);return s?t(n,i):(s||HJ(),r)}},rQ={},nQ=kr({name:"errorBars",initialState:rQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),iQ=nQ.reducer,sQ=["children"];function aQ(e,t){if(e==null)return{};var r,n,i=oQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},cQ=x.createContext(lQ);function uQ(e){var{children:t}=e,r=aQ(e,sQ);return x.createElement(cQ.Provider,{value:r},t)}function GM(e,t){var r,n,i=ne(u=>li(u,e)),s=ne(u=>ts(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function dQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=UM(),{needClipX:s,needClipY:a,needClip:l}=GM(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var fQ=["onMouseEnter","onMouseLeave","onClick"],hQ=["value","background","tooltipPosition"],mQ=["id"],pQ=["onMouseEnter","onClick","onMouseLeave"];function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){gQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gQ(e,t,r){return(t=yQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yQ(e){var t=vQ(e,"string");return typeof t=="symbol"?t:t+""}function vQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(e,t){if(e==null)return{};var r,n,i=xQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:_o(r,t),payload:e}]};function wQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:_o(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function jQ(e){var t=ne(Vi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=xf(s,fQ),d=fb(a,n),f=hb(l),h=mb(c,n);if(!i||r==null)return null;var m=je(i,!1);return x.createElement(x.Fragment,null,r.map((p,y)=>{var{value:w,background:g,tooltipPosition:v}=p,b=xf(p,hQ);if(!g)return null;var j=d(p,y),N=f(p,y),S=h(p,y),P=$t($t($t($t($t({option:i,isActive:String(y)===t},b),{},{fill:"#eee"},g),m),Po(u,p,y)),{},{onMouseEnter:j,onMouseLeave:N,onClick:S,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(HM,mo({key:"background-bar-".concat(y)},P))}))}function YM(e){var{data:t,props:r,showLabels:n}=e,i=zt(r),s=xf(i,mQ),{shape:a,dataKey:l,activeBar:c}=r,u=ne(Vi),d=ne(XT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,p=xf(r,pQ),y=fb(f,l),w=hb(m),g=mb(h,l);return t?x.createElement(x.Fragment,null,t.map((v,b)=>{var j=c&&String(b)===u&&(d==null||l===d),N=j?c:a,S=$t($t($t({},s),v),{},{isActive:j,option:N,index:b,dataKey:l});return x.createElement(Ge,mo({className:"recharts-bar-rectangle"},Po(p,v,b),{onMouseEnter:y(v,b),onMouseLeave:w(v,b),onClick:g(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),x.createElement(HM,S))}),n&&Li.renderCallByParent(r,t)):null}function NQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=gb(t,"recharts-bar-"),[m,p]=x.useState(!1),y=x.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),w=x.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return x.createElement(vb,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:w,key:h},g=>{var v=g===1?n:n==null?void 0:n.map((b,j)=>{var N=f&&f[j];if(N)return $t($t({},b),{},{x:oa(N.x,b.x,g),y:oa(N.y,b.y,g),width:oa(N.width,b.width,g),height:oa(N.height,b.height,g)});if(i==="horizontal"){var S=oa(0,b.height,g);return $t($t({},b),{},{y:b.y+b.height-S,height:S})}var P=oa(0,b.width,g);return $t($t({},b),{},{width:P})});return g>0&&(r.current=v??null),v==null?null:x.createElement(Ge,null,x.createElement(YM,{props:t,data:v,showLabels:!m}))})}function SQ(e){var{data:t,isAnimationActive:r}=e,n=x.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?x.createElement(NQ,{previousRectanglesRef:n,props:e}):x.createElement(YM,{props:e,data:t,showLabels:!0})}var XM=0,PQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$e(e,t)}};class _Q extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=me("recharts-bar",i),f=u;return x.createElement(Ge,{className:d,id:u},l&&x.createElement("defs",null,x.createElement(dQ,{clipPathId:f,xAxisId:s,yAxisId:a})),x.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},x.createElement(jQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),x.createElement(SQ,this.props)),this.props.children)}}var kQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Xs.isSsr,legendType:"rect",minPointSize:XM,xAxisId:0,yAxisId:0};function AQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=GM(t,r),h=Jv(),m=fr(),p=Rc(e.children,ea),y=ne(v=>tZ(v,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var w,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?w=0:w=h==="vertical"?g.height/2:g.width/2,x.createElement(uQ,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:PQ,errorBarOffset:w},x.createElement(_Q,mo({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function EQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:a,y=d?p.scale.domain():null,w=g9({numericAxis:p});return f.map((g,v)=>{var b,j,N,S,P,A;d?b=u9(d[v],y):(b=$e(g,r),Array.isArray(b)||(b=[w,b]));var R=tQ(n,XM)(b[1],v);if(t==="horizontal"){var D,[E,B]=[l.scale(b[0]),l.scale(b[1])];j=uN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:g,index:v}),N=(D=B??E)!==null&&D!==void 0?D:void 0,S=i.size;var $=E-B;if(P=wr($)?0:$,A={x:j,y:h.top,width:S,height:h.height},Math.abs(R)>0&&Math.abs(P)<Math.abs(R)){var M=jt(P||R)*(Math.abs(R)-Math.abs(P));N-=M,P+=M}}else{var[O,F]=[a.scale(b[0]),a.scale(b[1])];if(j=O,N=uN({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:g,index:v}),S=F-O,P=i.size,A={x:h.left,y:N,width:h.width,height:P},Math.abs(R)>0&&Math.abs(S)<Math.abs(R)){var V=jt(S||R)*(Math.abs(R)-Math.abs(S));S+=V}}if(j==null||N==null||S==null||P==null)return null;var k=$t($t({},g),{},{x:j,y:N,width:S,height:P,value:d?b:b[1],payload:g,background:A,tooltipPosition:{x:j+S/2,y:N+P/2}},m&&m[v]&&m[v].props);return k}).filter(Boolean)}function em(e){var t=Hr(e,kQ),r=fr();return x.createElement(yb,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(kX,{legendPayload:bQ(t)}),x.createElement(pb,{fn:wQ,args:t}),x.createElement(BX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:p9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(AQ,mo({},t,{id:n}))))}em.displayName="Bar";function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){OQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OQ(e,t,r){return(t=CQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CQ(e){var t=TQ(e,"string");return typeof t=="symbol"?t:t+""}function TQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MQ=(e,t)=>t,RQ=(e,t,r)=>r,DQ=(e,t,r,n)=>n,$Q=(e,t,r,n,i)=>i,Yc=L([Tx,$Q],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),IQ=L([Yc],e=>e==null?void 0:e.maxBarSize),LQ=(e,t,r,n,i,s)=>s,mP=(e,t,r)=>{var n=r??e;if(!et(n))return Yt(n,t,0)},BQ=L([xe,Tx,MQ,RQ,DQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),FQ=(e,t,r,n)=>{var i=xe(e);return i==="horizontal"?O0(e,"yAxis",r,n):O0(e,"xAxis",t,n)},zQ=(e,t,r)=>{var n=xe(e);return n==="horizontal"?xS(e,"xAxis",t):xS(e,"yAxis",r)},UQ=(e,t,r)=>{var n={},i=e.filter(Uh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=mP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=mP(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},WQ=L([BQ,EK,zQ],UQ),VQ=(e,t,r,n,i)=>{var s,a,l=Yc(e,t,r,n,i);if(l!=null){var c=xe(e),u=JC(e),{maxBarSize:d}=l,f=et(d)?u:d,h,m;return c==="horizontal"?(h=uo(e,"xAxis",t,n),m=co(e,"xAxis",t,n)):(h=uo(e,"yAxis",r,n),m=co(e,"yAxis",r,n)),(s=(a=uc(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},JM=(e,t,r,n)=>{var i=xe(e),s,a;return i==="horizontal"?(s=uo(e,"xAxis",t,n),a=co(e,"xAxis",t,n)):(s=uo(e,"yAxis",r,n),a=co(e,"yAxis",r,n)),uc(s,a)};function KQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Yt(e,r,0,!0),l,c=[];if(Sr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((g,v)=>g+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((g,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},N=[...g,j];return m=N[N.length-1].position,N},c)}else{var p=Yt(t,r,0,!0);r-2*p-(s-1)*a<=0&&(a=0);var y=(r-2*p-(s-1)*a)/s;y>1&&(y>>=0);var w=Sr(i)?Math.min(y,i):y;l=n.reduce((g,v,b)=>[...g,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p+(y+a)*b+(y-w)/2,size:w}}],c)}return l}}var qQ=(e,t,r,n,i,s,a)=>{var l=et(a)?t:a,c=KQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Lu(Lu({},u),{},{position:Lu(Lu({},u.position),{},{offset:u.position.offset-i/2})}))),c},HQ=L([WQ,JC,AK,QC,VQ,JM,IQ],qQ),GQ=(e,t,r,n)=>uo(e,"xAxis",t,n),YQ=(e,t,r,n)=>uo(e,"yAxis",r,n),XQ=(e,t,r,n)=>co(e,"xAxis",t,n),JQ=(e,t,r,n)=>co(e,"yAxis",r,n),QQ=L([HQ,Yc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),ZQ=(e,t)=>{var r=Ex(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},eZ=L([FQ,Yc],ZQ),tZ=L([ft,GQ,YQ,XQ,JQ,QQ,xe,jx,JM,eZ,Yc,LQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:y}=d,w;if(y!=null&&y.length>0?w=y:w=h==null?void 0:h.slice(m,p+1),w!=null)return EQ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),QM=e=>{var{chartData:t}=e,r=Ye(),n=fr();return x.useEffect(()=>n?()=>{}:(r(AS(t)),()=>{r(AS(void 0))}),[t,r,n]),null},pP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},rZ=kr({name:"brush",initialState:pP,reducers:{setBrushSettings(e,t){return t.payload==null?pP:t.payload}}}),nZ=rZ.reducer;function iZ(e,t,r){return(t=sZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sZ(e){var t=aZ(e,"string");return typeof t=="symbol"?t:t+""}function aZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nb{static create(t){return new Nb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}iZ(Nb,"EPS",1e-4);function oZ(e){return(e%180+180)%180}var lZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=oZ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},cZ={dots:[],areas:[],lines:[]},uZ=kr({name:"referenceElements",initialState:cZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Vn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Vn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Vn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),dZ=uZ.reducer,fZ=x.createContext(void 0),hZ=e=>{var{children:t}=e,[r]=x.useState("".concat(oc("recharts"),"-clip")),n=UM();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return x.createElement(fZ.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function Np(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ZM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function mZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return lZ(n,r)}function pZ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function bf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function gZ(e,t){return ZM(e,t+1)}function yZ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:ZM(n,u)};var y=c,w,g=()=>(w===void 0&&(w=r(p,y)),w),v=p.coordinate,b=c===0||bf(e,v,g,d,l);b||(c=0,d=a,u+=1),b&&(d=v+e*(g()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){vZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vZ(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wZ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,y=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var w=e*(m.coordinate+e*y()/2-c);s[h]=m=Rt(Rt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=Rt(Rt({},m),{},{tickCoord:m.coordinate});var g=bf(e,m.tickCoord,y,l,c);g&&(c=m.tickCoord-e*(y()/2+i),s[h]=Rt(Rt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function jZ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Rt(Rt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=bf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Rt(Rt({},d),{},{isShow:!0}))}for(var p=s?l-1:l,y=function(v){var b=a[v],j,N=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=e*(b.coordinate-e*N()/2-c);a[v]=b=Rt(Rt({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else a[v]=b=Rt(Rt({},b),{},{tickCoord:b.coordinate});var P=bf(e,b.tickCoord,N,c,u);P&&(c=b.tickCoord+e*(N()/2+i),a[v]=Rt(Rt({},b),{},{isShow:!0}))},w=0;w<p;w++)y(w);return a}function Sb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ie(c)||Xs.isSsr){var h;return(h=gZ(i,ie(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Dl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var N=typeof u=="function"?u(b.value,j):b.value;return p==="width"?mZ(Dl(N,{fontSize:t,letterSpacing:r}),y,f):Dl(N,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?jt(i[1].coordinate-i[0].coordinate):1,v=pZ(s,g,p);return c==="equidistantPreserveStart"?yZ(g,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=jZ(g,v,w,i,a,c==="preserveStartEnd"):m=wZ(g,v,w,i,a),m.filter(b=>b.isShow))}var NZ=["viewBox"],SZ=["viewBox"];function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){Pb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vP(e,t){if(e==null)return{};var r,n,i=PZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pb(e,t,r){return(t=_Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Z(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ns extends x.Component{constructor(t){super(t),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=vP(t,NZ),s=this.props,{viewBox:a}=s,l=vP(s,SZ);return!Np(n,a)||!Np(i,l)||!Np(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,y,w=c?-1:1,g=t.tickSize||l,v=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*g,y=h-w*u,p=v;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*g,p=d-w*u,y=v;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*g,p=d+w*u,y=v;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*g,y=h+w*u,p=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=ct(ct(ct({},je(this.props,!1)),je(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=ct(ct({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=ct(ct({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return x.createElement("line",Ta({},c,{className:me("recharts-cartesian-axis-line",Wi(l,"className"))}))}static renderTickItem(t,r,n){var i,s=me(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,ct(ct({},r),{},{className:s}));else if(typeof t=="function")i=t(ct(ct({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=me(a,t.className)),i=x.createElement(Lo,Ta({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=Sb(ct(ct({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=zt(this.props),p=je(a,!1),y=ct(ct({},m),{},{fill:"none"},je(i,!1)),w=d.map((g,v)=>{var{line:b,tick:j}=this.getTickLineCoord(g),N=ct(ct(ct(ct({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},p),j),{},{index:v,payload:g,visibleTicksCount:d.length,tickFormatter:l,padding:u});return x.createElement(Ge,Ta({className:"recharts-cartesian-axis-tick",key:"tick-".concat(g.value,"-").concat(g.coordinate,"-").concat(g.tickCoord)},Po(this.props,g,v)),i&&x.createElement("line",Ta({},y,b,{className:me("recharts-cartesian-axis-tick-line",Wi(i,"className"))})),a&&ns.renderTickItem(a,N,"".concat(typeof l=="function"?l(g.value,v):g.value).concat(c||"")))});return w.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Ge,{className:me("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ir.renderCallByParent(this.props))}}Pb(ns,"displayName","CartesianAxis");Pb(ns,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var AZ=["x1","y1","x2","y2","key"],EZ=["offset"],OZ=["xAxisId","yAxisId"],CZ=["xAxisId","yAxisId"];function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=MZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,i=DZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $Z=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return x.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function eR(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=wf(t,AZ),u=zt(c),d=wf(u,EZ);r=x.createElement("line",Ps({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function IZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,OZ),a=i.map((l,c)=>{var u=It(It({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return eR(n,u)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function LZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,CZ),a=i.map((l,c)=>{var u=It(It({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return eR(n,u)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function BZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var y=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function FZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var y=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var zZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return PO(Sb(It(It(It({},ns.defaultProps),r),{},{ticks:_O(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},UZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return PO(Sb(It(It(It({},ns.defaultProps),r),{},{ticks:_O(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},WZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function tm(e){var t=TO(),r=MO(),n=CO(),i=It(It({},Hr(e,WZ)),{},{x:ie(e.x)?e.x:n.left,y:ie(e.y)?e.y:n.top,width:ie(e.width)?e.width:n.width,height:ie(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=fr(),y=ne(R=>bS(R,"xAxis",s,p)),w=ne(R=>bS(R,"yAxis",a,p));if(!ie(u)||u<=0||!ie(d)||d<=0||!ie(l)||l!==+l||!ie(c)||c!==+c)return null;var g=i.verticalCoordinatesGenerator||zZ,v=i.horizontalCoordinatesGenerator||UZ,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof v=="function"){var N=h&&h.length,S=v({yAxis:w?It(It({},w),{},{ticks:N?h:w.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Rl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof g=="function"){var P=m&&m.length,A=g({xAxis:y?It(It({},y),{},{ticks:P?m:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);Rl(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(j=A)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement($Z,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(BZ,Ps({},i,{horizontalPoints:b})),x.createElement(FZ,Ps({},i,{verticalPoints:j})),x.createElement(IZ,Ps({},i,{offset:n,horizontalPoints:b,xAxis:y,yAxis:w})),x.createElement(LZ,Ps({},i,{offset:n,verticalPoints:j,xAxis:y,yAxis:w})))}tm.displayName="CartesianGrid";function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){VZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VZ(e,t,r){return(t=KZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HZ={xAxis:{},yAxis:{},zAxis:{}},tR=kr({name:"cartesianAxis",initialState:HZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=wP(wP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:GZ,removeXAxis:YZ,addYAxis:XZ,removeYAxis:JZ,addZAxis:wre,removeZAxis:jre,updateYAxisWidth:QZ}=tR.actions,ZZ=tR.reducer,eee=["children"],tee=["dangerouslySetInnerHTML","ticks"];function rR(e,t,r){return(t=ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ree(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}function nR(e,t){if(e==null)return{};var r,n,i=iee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function see(e){var t=Ye(),r=x.useMemo(()=>{var s=nR(e,eee);return s},[e]),n=ne(s=>li(s,r.id)),i=r===n;return x.useEffect(()=>(t(GZ(r)),()=>{t(YZ(r))}),[r,t]),i?e.children:null}var aee=e=>{var{xAxisId:t,className:r}=e,n=ne(OO),i=fr(),s="xAxis",a=ne(f=>Do(f,s,t,i)),l=ne(f=>OT(f,s,t,i)),c=ne(f=>_T(f,t)),u=ne(f=>wq(f,t));if(c==null||u==null)return null;var d=nR(e,tee);return x.createElement(ns,L0({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:me("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},oee=e=>{var t,r,n,i,s;return x.createElement(see,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},x.createElement(aee,e))};class Xc extends x.Component{render(){return x.createElement(oee,this.props)}}rR(Xc,"displayName","XAxis");rR(Xc,"defaultProps",{allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,height:hr.height,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,xAxisId:0});var lee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},cee=["dangerouslySetInnerHTML","ticks"];function iR(e,t,r){return(t=uee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uee(e){var t=dee(e,"string");return typeof t=="symbol"?t:t+""}function dee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(null,arguments)}function fee(e,t){if(e==null)return{};var r,n,i=hee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function mee(e){var t=Ye();return x.useEffect(()=>(t(XZ(e)),()=>{t(JZ(e))}),[e,t]),null}var pee=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=x.useRef(null),l=x.useRef(null),c=ne(OO),u=fr(),d=Ye(),f="yAxis",h=ne(g=>Do(g,f,r,u)),m=ne(g=>kT(g,r)),p=ne(g=>jq(g,r)),y=ne(g=>OT(g,f,r,u));if(x.useLayoutEffect(()=>{var g;if(!(i!=="auto"||!m||nb(s)||x.isValidElement(s))){var v=a.current,b=v==null||(g=v.tickRefs)===null||g===void 0?void 0:g.current,{tickSize:j,tickMargin:N}=v.props,S=lee({ticks:b,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:N});Math.round(m.width)!==Math.round(S)&&d(QZ({id:r,width:S}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||p==null)return null;var w=fee(e,cee);return x.createElement(ns,B0({},w,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:me("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:y}))},gee=e=>{var t,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(mee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),x.createElement(pee,e))},yee={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,width:mr.width,yAxisId:0};class Jc extends x.Component{render(){return x.createElement(gee,this.props)}}iR(Jc,"displayName","YAxis");iR(Jc,"defaultProps",yee);var vee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=x;function xee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bee=typeof Object.is=="function"?Object.is:xee,wee=Qc.useSyncExternalStore,jee=Qc.useRef,Nee=Qc.useEffect,See=Qc.useMemo,Pee=Qc.useDebugValue;vee.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=jee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=See(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,bee(d,m))return p;var y=n(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=wee(e,s[0],s[1]);return Nee(function(){a.hasValue=!0,a.value=l},[l]),Pee(l),l};function _ee(e){e()}function kee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){_ee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var jP={notify(){},get:()=>[]};function Aee(e,t){let r,n=jP,i=0,s=!1;function a(y){d();const w=n.subscribe(y);let g=!1;return()=>{g||(g=!0,w(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=kee())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=jP)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Eee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Oee=Eee(),Cee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tee=Cee(),Mee=()=>Oee||Tee?x.useLayoutEffect:x.useEffect,Ree=Mee(),Sp=Symbol.for("react-redux-context"),Pp=typeof globalThis<"u"?globalThis:{};function Dee(){if(!x.createContext)return{};const e=Pp[Sp]??(Pp[Sp]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var $ee=Dee();function Iee(e){const{children:t,context:r,serverState:n,store:i}=e,s=x.useMemo(()=>{const c=Aee(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);Ree(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||$ee;return x.createElement(l.Provider,{value:s},t)}var Lee=Iee,Bee=(e,t)=>t,_b=L([Bee,xe,Co,mt,qT,ci,PH,ft],OH),kb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},sR=Wr("mouseClick"),aR=$c();aR.startListening({actionCreator:sR,effect:(e,t)=>{var r=e.payload,n=_b(t.getState(),kb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Mq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var F0=Wr("mouseMove"),oR=$c();oR.startListening({actionCreator:F0,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Hx(n,n.tooltip.settings.shared),s=_b(n,kb(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(BT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(LT()))}});function Fee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var NP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},lR=kr({name:"rootProps",initialState:NP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:NP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),zee=lR.reducer,{updateOptions:Uee}=lR.actions,cR=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Wee}=cR.actions,Vee=cR.reducer,uR=Wr("keyDown"),dR=Wr("focus"),Ab=$c();Ab.startListening({actionCreator:uR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Gx(i,Io(r))),l=ci(r);if(s==="Enter"){var c=mf(r,"axis","hover",String(i.index));t.dispatch(T0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=Sq(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=mf(r,"axis","hover",String(h));t.dispatch(T0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Ab.startListening({actionCreator:dR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=mf(r,"axis","hover",String(s));t.dispatch(T0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Tr=Wr("externalEvent"),fR=$c();fR.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:pH(r),activeDataKey:XT(r),activeIndex:Vi(r),activeLabel:YT(r),activeTooltipIndex:Vi(r),isTooltipActive:gH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Kee=L([$o],e=>e.tooltipItemPayloads),qee=L([Kee,Hc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),hR=Wr("touchMove"),mR=$c();mR.startListening({actionCreator:hR,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Hx(n,n.tooltip.settings.shared);if(i==="axis"){var s=_b(n,kb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(BT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(AO),d=(a=c.getAttribute(EO))!==null&&a!==void 0?a:void 0,f=qee(t.getState(),u,d);t.dispatch(IT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Hee=ZE({brush:nZ,cartesianAxis:ZZ,chartData:KH,errorBars:iQ,graphicalItems:LX,layout:GU,legend:T9,options:FH,polarAxis:RY,polarOptions:Vee,referenceElements:dZ,rootProps:zee,tooltip:Rq}),Gee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return xU({reducer:Hee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([aR.middleware,oR.middleware,Ab.middleware,fR.middleware,mR.middleware]),devTools:{serialize:{replacer:Fee},name:"recharts-".concat(r)}})};function pR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=fr(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=Gee(t,n));var a=Fv;return x.createElement(Lee,{context:a,store:s.current},r)}function gR(e){var{layout:t,width:r,height:n,margin:i}=e,s=Ye(),a=fr();return x.useEffect(()=>{a||(s(KU(t)),s(qU({width:r,height:n})),s(VU(i)))},[s,a,t,r,n,i]),null}function yR(e){var t=Ye();return x.useEffect(()=>{t(Uee(e))},[t,e]),null}var Yee=["children"];function Xee(e,t){if(e==null)return{};var r,n,i=Jee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Jee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}var Qee={width:"100%",height:"100%"},Zee=x.forwardRef((e,t)=>{var r=TO(),n=MO(),i=IO();if(!io(r)||!io(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,x.createElement(lE,jf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Qee,ref:t}),s)}),ete=e=>{var{children:t}=e,r=ne(Ch);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(lE,{width:n,height:i,x:a,y:s},t)},SP=x.forwardRef((e,t)=>{var{children:r}=e,n=Xee(e,Yee),i=fr();return i?x.createElement(ete,null,r):x.createElement(Zee,jf({ref:t},n),r)});function tte(){var e=Ye(),[t,r]=x.useState(null),n=ne(N9);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Sr(s)&&s!==n&&e(HU(s))}},[t,e,n]),r}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){nte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nte(e,t,r){return(t=ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ite(e){var t=ste(e,"string");return typeof t=="symbol"?t:t+""}function ste(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ate=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:w,width:g}=e,v=Ye(),[b,j]=x.useState(null),[N,S]=x.useState(null);GH();var P=tte(),A=x.useCallback(X=>{P(X),typeof t=="function"&&t(X),j(X),S(X)},[P,t,j,S]),R=x.useCallback(X=>{v(sR(X)),v(Tr({handler:s,reactEvent:X}))},[v,s]),D=x.useCallback(X=>{v(F0(X)),v(Tr({handler:u,reactEvent:X}))},[v,u]),E=x.useCallback(X=>{v(LT()),v(Tr({handler:d,reactEvent:X}))},[v,d]),B=x.useCallback(X=>{v(F0(X)),v(Tr({handler:f,reactEvent:X}))},[v,f]),$=x.useCallback(()=>{v(dR())},[v]),M=x.useCallback(X=>{v(uR(X.key))},[v]),O=x.useCallback(X=>{v(Tr({handler:a,reactEvent:X}))},[v,a]),F=x.useCallback(X=>{v(Tr({handler:l,reactEvent:X}))},[v,l]),V=x.useCallback(X=>{v(Tr({handler:c,reactEvent:X}))},[v,c]),k=x.useCallback(X=>{v(Tr({handler:h,reactEvent:X}))},[v,h]),C=x.useCallback(X=>{v(Tr({handler:y,reactEvent:X}))},[v,y]),W=x.useCallback(X=>{v(hR(X)),v(Tr({handler:p,reactEvent:X}))},[v,p]),H=x.useCallback(X=>{v(Tr({handler:m,reactEvent:X}))},[v,m]);return x.createElement(rM.Provider,{value:b},x.createElement(Nz.Provider,{value:N},x.createElement("div",{className:me("recharts-wrapper",n),style:rte({position:"relative",cursor:"default",width:g,height:i},w),onClick:R,onContextMenu:O,onDoubleClick:F,onFocus:$,onKeyDown:M,onMouseDown:V,onMouseEnter:D,onMouseLeave:E,onMouseMove:B,onMouseUp:k,onTouchEnd:H,onTouchMove:W,onTouchStart:C,ref:A},r)))}),ote=["children","className","width","height","style","compact","title","desc"];function lte(e,t){if(e==null)return{};var r,n,i=cte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vR=x.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=lte(e,ote),f=zt(d);return l?x.createElement(SP,{otherAttributes:f,title:c,desc:u},r):x.createElement(ate,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(SP,{otherAttributes:f,title:c,desc:u,ref:t},x.createElement(hZ,null,r)))}),ute=["width","height"];function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},z0.apply(null,arguments)}function dte(e,t){if(e==null)return{};var r,n,i=fte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hte={top:5,right:5,bottom:5,left:5},mte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hte,reverseStackOrder:!1,syncMethod:"index"},pte=x.forwardRef(function(t,r){var n,i=Hr(t.categoricalChartProps,mte),{width:s,height:a}=i,l=dte(i,ute);if(!io(s)||!io(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(pR,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},x.createElement(QM,{chartData:h.data}),x.createElement(gR,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(yR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(vR,z0({},l,{width:s,height:a,ref:r})))}),gte=["axis","item"],Eb=x.forwardRef((e,t)=>x.createElement(pte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gte,tooltipPayloadSearcher:rb,categoricalChartProps:e,ref:t}));function yte(e){var t=Ye();return x.useEffect(()=>{t(Wee(e))},[t,e]),null}var vte=["width","height","layout"];function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(null,arguments)}function xte(e,t){if(e==null)return{};var r,n,i=bte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wte={top:5,right:5,bottom:5,left:5},jte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:wte,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xR=x.forwardRef(function(t,r){var n,i=Hr(t.categoricalChartProps,jte),{width:s,height:a,layout:l}=i,c=xte(i,vte);if(!io(s)||!io(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(pR,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},x.createElement(QM,{chartData:i.data}),x.createElement(gR,{width:s,height:a,layout:l,margin:i.margin}),x.createElement(yR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(yte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(vR,U0({width:s,height:a},c,{ref:r})))}),Nte=["item"],Ste={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ob=x.forwardRef((e,t)=>{var r=Hr(e,Ste);return x.createElement(xR,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Nte,tooltipPayloadSearcher:rb,categoricalChartProps:r,ref:t})}),Pte=["axis"],_te={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},kte=x.forwardRef((e,t)=>{var r=Hr(e,_te);return x.createElement(xR,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Pte,tooltipPayloadSearcher:rb,categoricalChartProps:r,ref:t})});const _P={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Ate={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Ete(){const{user:e}=Ft(),[t,r]=x.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[n,i]=x.useState([]),[s,a]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0);x.useEffect(()=>{m(),e&&!e.id.startsWith("guest-")&&p()},[e]);const m=async()=>{var y;try{const{data:w,error:g}=await J.from("match_results").select("*");if(g)throw g;const v=w||[];if(v.length===0){h(!1);return}const b={},j={},N={};let S=0;v.forEach(E=>{var O;if(!E.winner_name||!E.player1_name||!E.player2_name)return;const B=((O=E.outcome)==null?void 0:O.split(" (")[0])||"Unknown",$=E.points_awarded||_P[B]||0;S+=$,N[B]=(N[B]||0)+1,[E.player1_name,E.player2_name].forEach(F=>{b[F]||(b[F]={wins:0,matches:0,points:0}),b[F].matches++,E.winner_name===F&&(b[F].wins++,b[F].points+=$)});const M=(F,V,k,C)=>{const W=`${V}_${F}`;j[W]||(j[W]={combo:V,player:F,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown"});const H=j[W];H.totalMatches++,C?(H.wins++,H.totalPoints+=$):H.losses++};M(E.player1_name,E.player1_beyblade,E.player1_blade_line||"Unknown",E.winner_name===E.player1_name),M(E.player2_name,E.player2_beyblade,E.player2_blade_line||"Unknown",E.winner_name===E.player2_name)}),Object.values(j).forEach(E=>{E.winRate=E.totalMatches>0?E.wins/E.totalMatches*100:0,E.weightedWinRate=E.totalMatches>0?E.wins/E.totalMatches*(E.totalMatches/(E.totalMatches+10)):0,E.avgPointsPerMatch=E.totalMatches>0?E.totalPoints/E.totalMatches:0,E.comboScore=E.weightedWinRate*(E.avgPointsPerMatch/3)*100});const P=Object.entries(b).filter(([E,B])=>B.matches>=5).sort((E,B)=>{const $=E[1].wins/E[1].matches;return B[1].wins/B[1].matches-$})[0],A=((y=Object.entries(N).sort((E,B)=>B[1]-E[1])[0])==null?void 0:y[0])||"Unknown",{count:R}=await J.from("tournaments").select("*",{count:"exact",head:!0});r({totalMatches:v.length,totalPlayers:Object.keys(b).length,totalTournaments:R||0,avgPointsPerMatch:v.length>0?S/v.length:0,mostCommonFinish:A,topPlayer:(P==null?void 0:P[0])||"N/A",topPlayerWinRate:P?P[1].wins/P[1].matches*100:0}),i(Object.values(j).sort((E,B)=>B.comboScore-E.comboScore));const D=Object.entries(N).map(([E,B])=>({name:E,value:B,color:Ate[E]||"#6B7280"}));d(D)}catch(w){console.error("Error fetching global data:",w)}finally{h(!1)}},p=async()=>{var y;if(!(!e||e.id.startsWith("guest-")))try{const{data:w,error:g}=await J.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(g)throw g;const v=w||[];if(v.length===0){a(null);return}let b=0,j=0;const N={},S={},P={},A=new Set;v.forEach(M=>{var H;if(!M.winner_name)return;const O=M.player1_name===e.username,F=M.winner_name===e.username,V=O?M.player1_beyblade:M.player2_beyblade,k=O?M.player2_name:M.player1_name,C=((H=M.outcome)==null?void 0:H.split(" (")[0])||"Unknown",W=M.points_awarded||_P[C]||0;A.add(M.tournament_id),F&&(b++,j+=W,S[C]=(S[C]||0)+1),N[V]||(N[V]={wins:0,matches:0,points:0}),N[V].matches++,F&&(N[V].wins++,N[V].points+=W),P[k]||(P[k]={opponent:k,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),P[k].totalMatches++,F?(P[k].wins++,P[k].pointsFor+=W):(P[k].losses++,P[k].pointsAgainst+=W)}),Object.values(P).forEach(M=>{M.winRate=M.totalMatches>0?M.wins/M.totalMatches*100:0});const R=Object.entries(N).map(([M,O])=>{const F=O.matches>0?O.wins/O.matches:0,V=O.matches>0?F*(O.matches/(O.matches+10)):0,k=O.matches>0?O.points/O.matches:0,C=V*(k/3)*100;return{combo:M,comboScore:C}}).sort((M,O)=>O.comboScore-M.comboScore)[0],D=((y=Object.entries(S).sort((M,O)=>O[1]-M[1])[0])==null?void 0:y[0])||"N/A",E=v.length,B=E>0?b/E*100:0,$=E>0?b/E*(E/(E+10)):0;a({totalMatches:E,wins:b,losses:E-b,winRate:B,weightedWinRate:$*100,totalPoints:j,avgPointsPerMatch:E>0?j/E:0,mvpCombo:(R==null?void 0:R.combo)||"N/A",mvpComboScore:(R==null?void 0:R.comboScore)||0,favoriteFinish:D,tournamentsPlayed:A.size}),c(Object.values(P).sort((M,O)=>O.winRate-M.winRate))}catch(w){console.error("Error fetching personal data:",w)}};return f?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(kc,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(Et,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(bt,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Gf,{size:24,className:"text-orange-600"})})]})})]}),s&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Et,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",s.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:s.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",s.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(qs,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Zh,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:w})=>`${y} ${(w*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((y,w)=>o.jsx(ea,{fill:y.color},`cell-${w}`))}),o.jsx(Ks,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(qs,{width:"100%",height:300,children:o.jsxs(Eb,{data:n.slice(0,8).map(y=>({name:y.combo,score:y.comboScore,winRate:y.winRate,matches:y.totalMatches})),margin:{bottom:80},children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Jc,{}),o.jsx(Ks,{formatter:(y,w)=>[typeof y=="number"?y.toFixed(2):y,w==="score"?"Combo Score":w==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(em,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"}),o.jsx("button",{onClick:()=>{n.map(y=>({rank:n.indexOf(y)+1,combo:y.combo,player:y.player,bladeLine:y.bladeLine,totalMatches:y.totalMatches,winRate:y.winRate,weightedWinRate:y.weightedWinRate*100,comboScore:y.comboScore})),alert("Show All functionality for global combos coming soon!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:o.jsx("span",{children:"Show All"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,20).map((y,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",w+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.bladeLine==="Basic"?"bg-blue-100 text-blue-800":y.bladeLine==="Unique"?"bg-purple-100 text-purple-800":y.bladeLine==="Custom"?"bg-orange-100 text-orange-800":y.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${y.winRate>=60?"text-green-600":y.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[y.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(y.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:y.comboScore.toFixed(1)})]},w))})]})})]}),s&&l.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((y,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:y.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:y.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${y.winRate>=60?"text-green-600":y.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[y.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.pointsAgainst})]},w))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(bt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Player"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.topPlayer}),o.jsxs("p",{className:"text-gray-600",children:["Win Rate: ",t.topPlayerWinRate.toFixed(1),"%"]})]})]})]})}const Ote={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Cte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Tte(){const{user:e}=Ft(),[t,r]=x.useState([]),[n,i]=x.useState([]),[s,a]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0),[m,p]=x.useState("");x.useEffect(()=>{e&&!e.id.startsWith("guest-")?y():h(!1)},[e]);const y=async()=>{if(!e||e.id.startsWith("guest-")){h(!1);return}try{const{data:g,error:v}=await J.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(v)throw v;const b=g||[];if(b.length===0){h(!1);return}const j=[...new Set(b.map(M=>M.tournament_id))],{data:N}=await J.from("tournaments").select("id, name, tournament_date").in("id",j),S=(N||[]).reduce((M,O)=>(M[O.id]={name:O.name,date:O.tournament_date},M),{}),P={},A={},R={},D={},E={};b.forEach(M=>{var de,K,Z;if(!M.winner_name)return;const O=M.player1_name===e.username,F=M.winner_name===e.username,V=O?M.player1_beyblade:M.player2_beyblade,k=O?M.player1_blade_line:M.player2_blade_line,C=((de=M.outcome)==null?void 0:de.split(" (")[0])||"Unknown",W=M.points_awarded||Ote[C]||0;F&&(D[C]=(D[C]||0)+1,E[C]=(E[C]||0)+W),P[V]||(P[V]={combo:V,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown",finishDistribution:{},pointsPerFinish:{}});const H=P[V];H.totalMatches++,F?(H.wins++,H.totalPoints+=W,H.finishDistribution[C]=(H.finishDistribution[C]||0)+1,H.pointsPerFinish[C]=(H.pointsPerFinish[C]||0)+W):H.losses++;const X=k||"Unknown";A[X]||(A[X]={bladeLine:X,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const pe=A[X];pe.matches++,F&&(pe.wins++,pe.avgPoints=(pe.avgPoints*(pe.wins-1)+W)/pe.wins);const z=M.tournament_id;R[z]||(R[z]={tournamentName:((K=S[z])==null?void 0:K.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((Z=S[z])==null?void 0:Z.date)||""});const te=R[z];te.matches++,F&&(te.wins++,te.points+=W)}),Object.values(P).forEach(M=>{M.winRate=M.totalMatches>0?M.wins/M.totalMatches*100:0,M.weightedWinRate=M.totalMatches>0?M.wins/M.totalMatches*(M.totalMatches/(M.totalMatches+10)):0,M.avgPointsPerMatch=M.totalMatches>0?M.totalPoints/M.totalMatches:0,M.comboScore=M.weightedWinRate*(M.avgPointsPerMatch/3)*100}),Object.values(A).forEach(M=>{M.winRate=M.matches>0?M.wins/M.matches*100:0,M.riskReward=Math.random()*100}),Object.values(R).forEach(M=>{M.winRate=M.matches>0?M.wins/M.matches*100:0,M.avgPointsPerMatch=M.matches>0?M.points/M.matches:0}),r(Object.values(P).sort((M,O)=>O.comboScore-M.comboScore)),i(Object.values(A)),a(Object.values(R).sort((M,O)=>new Date(O.date).getTime()-new Date(M.date).getTime()));const B=Object.entries(D).map(([M,O])=>({name:M,value:O,color:Cte[M]||"#6B7280"}));c(B);const $=Object.entries(E).map(([M,O])=>({finish:M,points:O,avgPoints:D[M]>0?O/D[M]:0}));d($)}catch(g){console.error("Error fetching personal stats:",g)}finally{h(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Td,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(f)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your personal stats..."})]});if(t.length===0)return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bt,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]});const w=m?t.find(g=>g.combo===m):null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((g,v)=>g+v.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(kc,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[t.length>0?(t.reduce((g,v)=>g+v.wins,0)/t.reduce((g,v)=>g+v.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(bt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((g,v)=>g+v.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Ac,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Td,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(qs,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Zh,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((g,v)=>o.jsx(ea,{fill:g.color},`cell-${v}`))}),o.jsx(Ks,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(qs,{width:"100%",height:300,children:o.jsxs(Eb,{data:u,children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"finish"}),o.jsx(Jc,{}),o.jsx(Ks,{}),o.jsx(em,{dataKey:"points",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:m,onChange:g=>p(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),t.map(g=>o.jsxs("option",{value:g.combo,children:[g.combo," (",g.totalMatches," matches)"]},g.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((g,v)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${m===g.combo?"bg-blue-50":""}`,onClick:()=>p(g.combo===m?"":g.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.bladeLine==="Basic"?"bg-blue-100 text-blue-800":g.bladeLine==="Unique"?"bg-purple-100 text-purple-800":g.bladeLine==="Custom"?"bg-orange-100 text-orange-800":g.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(g.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:g.comboScore.toFixed(1)})]},v))})]})}),w&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",w.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.finishDistribution).map(([g,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:g}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:v}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",w.totalMatches>0?(v/w.wins*100).toFixed(0):0,"%)"]})]})]},g))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.pointsPerFinish).map(([g,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:g}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[v," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",w.finishDistribution[g]>0?(v/w.finishDistribution[g]).toFixed(1):"0.0",")"]})]})]},g))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Performance by Blade Line"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk/Reward"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((g,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.bladeLine==="Basic"?"bg-blue-100 text-blue-800":g.bladeLine==="Unique"?"bg-purple-100 text-purple-800":g.bladeLine==="Custom"?"bg-orange-100 text-orange-800":g.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.riskReward.toFixed(1)})]},v))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((g,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.date?new Date(g.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:g.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:g.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPointsPerMatch.toFixed(2)})]},v))})]})})]}),t.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:t[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:t[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:t[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:t[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function Mte(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return(s-a)/i}function Rte(e,t,r){console.log(`⚙️ PARSER: Attempting ${t} parsing for: "${e}"`);let n=e;const i=bR(n,r.bits);if(!i)return console.log(`❌ PARSER: ${t} parsing failed - no bit found`),null;n=n.slice(0,n.length-i.bitName.length).trim(),console.log(`⚙️ PARSER: After bit removal: "${n}"`);const s=wR(n,r.ratchets);if(!s)return console.log(`❌ PARSER: ${t} parsing failed - no ratchet found`),null;n=n.slice(0,n.length-s.ratchetName.length).trim(),console.log(`⚙️ PARSER: After ratchet removal: "${n}"`),console.log(`🔍 PARSER: Looking for ${t} blade: "${n}"`);const a=jR(n,r.blades.filter(c=>c.Line===t));if(!a)return console.log(`❌ PARSER: ${t} parsing failed - no ${t} blade found for "${n}"`),null;const l={isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName};return console.log(`✅ PARSER: ${t} parsing successful:`,l),l}function Dte(e,t){console.log(`🔧 PARSER: Attempting Custom parsing for: "${e}"`);let r=e;const n=$te(e,t.lockchips);if(!n)return console.log("❌ PARSER: Custom parsing failed - no lockchip found"),null;r=e.slice(n.lockchipName.length),console.log(`🔧 PARSER: After lockchip removal: "${r}"`);const i=bR(r,t.bits);if(!i)return console.log("❌ PARSER: Custom parsing failed - no bit found"),null;r=r.slice(0,r.length-i.bitName.length).trim(),console.log(`🔧 PARSER: After bit removal: "${r}"`);const s=wR(r,t.ratchets);if(!s)return console.log("❌ PARSER: Custom parsing failed - no ratchet found"),null;r=r.slice(0,r.length-s.ratchetName.length).trim(),console.log(`🔧 PARSER: After ratchet removal: "${r}"`);const a=Ite(r,t.assistBlades);if(!a)return console.log("❌ PARSER: Custom parsing failed - no assist blade found"),null;r=r.slice(0,r.length-a.assistBladeName.length).trim(),console.log(`🔧 PARSER: After assist blade removal: "${r}"`);const l=jR(r,t.blades.filter(u=>u.Line==="Custom"));if(!l)return console.log(`❌ PARSER: Custom parsing failed - no Custom main blade found for "${r}"`),null;const c={isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName};return console.log("✅ PARSER: Custom parsing successful:",c),c}function bR(e,t){console.log(`🔍 PARSER: Finding bit in "${e}"`),console.log("🔍 PARSER: Available bits:",t.map(n=>({shortcut:n.Shortcut,full:n.Bit})));const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found bit by shortcut: ${i}`),{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found bit by full name: ${i} → ${n.Shortcut||i}`),{bit:n,bitName:n.Shortcut||i}}return console.log(`❌ PARSER: No bit found in "${e}"`),null}function wR(e,t){console.log(`🔍 PARSER: Finding ratchet in "${e}"`);const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found ratchet: ${i}`),{ratchet:n,ratchetName:i}}return console.log(`❌ PARSER: No ratchet found in "${e}"`),null}function jR(e,t){console.log(`🔍 PARSER: Finding blade in "${e}"`),console.log("🔍 PARSER: Available blades:",t.map(r=>({name:r.Blades,line:r.Line})));for(const r of t){const n=r.Blades;if(n&&e===n)return console.log(`✅ PARSER: Found blade: ${n} (${r.Line} line)`),{blade:r,bladeName:n}}return console.log(`❌ PARSER: No blade found for "${e}" in available blades`),null}function $te(e,t){console.log(`🔍 PARSER: Finding lockchip in "${e}"`),console.log("🔍 PARSER: Available lockchips:",t.map(n=>n.Lockchip));const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return console.log(`✅ PARSER: Found lockchip: ${i}`),{lockchip:n,lockchipName:i}}return console.log(`❌ PARSER: No lockchip found in "${e}"`),null}function Ite(e,t){console.log(`🔍 PARSER: Finding assist blade in "${e}"`),console.log("🔍 PARSER: Available assist blades:",t.map(n=>n["Assist Blade"]));const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found assist blade: ${i}`),{assistBlade:n,assistBladeName:i}}return console.log(`❌ PARSER: No assist blade found in "${e}"`),null}function kP(e,t,r){if(!e||!e.trim())return console.log("❌ PARSER: Empty beyblade name"),{isCustom:!1};console.log(`
🎯 PARSER: Starting to parse "${e}"`);const n=["Basic","Unique","X-Over","Custom"];for(const i of n){if(console.log(`🔍 PARSER: Trying ${i} blade line...`),i==="Custom"){const s=Dte(e,r);if(s)return console.log(`🎯 PARSER: Successfully parsed as ${i} Beyblade`),s}else{const s=Rte(e,i,r);if(s)return console.log(`🎯 PARSER: Successfully parsed as ${i} Beyblade`),s}console.log(`❌ PARSER: ${i} parsing failed`)}return console.log(`❌ PARSER: All parsing attempts failed for "${e}"`),{isCustom:!1}}const Lte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Bte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Fte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=x.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function zte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Ute({tournamentId:e,loading:t=!1}){const[r,n]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=x.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(!0),[h,m]=x.useState(""),[p,y]=x.useState(""),[w,g]=x.useState([]),[v,b]=x.useState({key:"comboScore",direction:"desc"}),[j,N]=x.useState({isOpen:!1,title:"",data:[],columns:[]}),[S,P]=x.useState({isOpen:!1,title:"",matches:[]});x.useEffect(()=>{e&&A()},[e]),x.useEffect(()=>{e&&r.blades.length>0&&R()},[e,r]);const A=async()=>{try{const[k,C,W,H,X]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:C.data||[],bits:W.data||[],lockchips:H.data||[],assistBlades:X.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},R=async()=>{try{const{data:k,error:C}=await J.from("match_results").select("*").eq("tournament_id",e);if(C)throw C;if(!k||k.length===0){f(!1);return}const W=[],H={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},X={};k.forEach(z=>{var _;if(!z.winner_name||!z.player1_name||!z.player2_name)return;const te=kP(z.player1_beyblade,z.player1_blade_line,r),de=kP(z.player2_beyblade,z.player2_blade_line,r),K=((_=z.outcome)==null?void 0:_.split(" (")[0])||"Unknown",Z=z.points_awarded||Lte[K]||0,I={player:z.player1_name,opponent:z.player2_name,beyblade:z.player1_beyblade,opponentBeyblade:z.player2_beyblade,isWin:z.winner_name===z.player1_name,outcome:K,parsedParts:te,bladeLine:z.player1_blade_line||"Unknown"},ee={player:z.player2_name,opponent:z.player1_name,beyblade:z.player2_beyblade,opponentBeyblade:z.player1_beyblade,isWin:z.winner_name===z.player2_name,outcome:K,parsedParts:de,bladeLine:z.player2_blade_line||"Unknown"};W.push(I,ee),[I,ee].forEach(U=>{const Q=`${U.beyblade}_${U.player}`;X[Q]||(X[Q]={combo:U.beyblade,player:U.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:U.bladeLine,allMatches:[]});const Y=X[Q];Y.totalMatches++,Y.finishDistribution[K]=(Y.finishDistribution[K]||0)+1,Y.allMatches.push(z),U.isWin?(Y.wins++,Y.totalPoints+=Z):Y.losses++});const T=(U,Q)=>{Object.entries(U).forEach(([Y,le])=>{if(Y==="isCustom"||!le)return;H[Y][le]||(H[Y][le]={name:le,usage:0,wins:0,losses:0,winRate:0,wilson:0});const ge=H[Y][le];ge.usage++,Q?ge.wins++:ge.losses++})};T(te,I.isWin),T(de,ee.isWin)}),Object.keys(H).forEach(z=>{Object.values(H[z]).forEach(te=>{const de=te.wins+te.losses;te.winRate=de>0?te.wins/de*100:0,te.wilson=Mte(te.wins,de)})});const pe=Object.values(X).map(z=>(z.winRate=z.totalMatches>0?z.wins/z.totalMatches*100:0,z.weightedWinRate=z.totalMatches>0?z.wins/z.totalMatches*(z.totalMatches/(z.totalMatches+10)):0,z.avgPointsPerMatch=z.totalMatches>0?z.totalPoints/z.totalMatches:0,z.comboScore=z.weightedWinRate*(z.avgPointsPerMatch/3)*100,z));s(H),l(pe),u(W),h&&p&&D()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},D=()=>{if(!h||!p)return;const k=a.filter(C=>c.filter(H=>H.beyblade===C.combo&&H.player===C.player).some(H=>H.parsedParts[h]===p));g(k.sort((C,W)=>W.comboScore-C.comboScore))};on.useEffect(()=>{h&&p&&a.length>0?D():g([])},[h,p,a]);const E=k=>{let C="asc";v.key===k&&v.direction==="asc"&&(C="desc"),b({key:k,direction:C})},B=()=>{N({isOpen:!0,title:"All Combo Performance Rankings",data:M,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),N(C=>({...C,isOpen:!1}))}})},$=k=>{const C=Object.values(i[k]||{}).filter(W=>W.usage>0).sort((W,H)=>H.wilson-W.wilson).map(W=>({...W,allMatches:c.filter(H=>H.parsedParts[k]===W.name)}));N({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:C,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:W=>{P({isOpen:!0,title:`All Matches using ${W.name}`,matches:W.allMatches||[]}),N(H=>({...H,isOpen:!1}))}})},M=[...a].sort((k,C)=>{const W=k[v.key],H=C[v.key];if(typeof W=="number"&&typeof H=="number")return v.direction==="asc"?W-H:H-W;const X=String(W),pe=String(H);return v.direction==="asc"?X.localeCompare(pe):pe.localeCompare(X)}),O=({children:k,sortKey:C})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>E(C),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),v.key===C&&(v.direction==="asc"?o.jsx(AI,{size:12}):o.jsx(_I,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx($i,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const F=M.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),V=Object.entries(c.reduce((k,C)=>(C.isWin&&(k[C.outcome]=(k[C.outcome]||0)+1),k),{})).map(([k,C])=>({name:k,value:C,color:Bte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(kc,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(qs,{width:"100%",height:300,children:o.jsxs(Eb,{data:F,margin:{bottom:60},children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Jc,{}),o.jsx(Ks,{formatter:(k,C)=>[typeof k=="number"?k.toFixed(2):k,C==="score"?"Combo Score":C==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(em,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(qs,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Zh,{data:V,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:C})=>`${k} ${(C*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:V.map((k,C)=>o.jsx(ea,{fill:k.color},`cell-${C}`))}),o.jsx(Ks,{})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(bo,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),y("")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:p,onChange:k=>y(k.target.value),disabled:!h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,C)=>C.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&p&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",p," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,C)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},C))})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(O,{sortKey:"combo",children:"Combo"}),o.jsx(O,{sortKey:"player",children:"Player"}),o.jsx(O,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(O,{sortKey:"totalMatches",children:"Matches"}),o.jsx(O,{sortKey:"winRate",children:"Win Rate"}),o.jsx(O,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(O,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(O,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:M.slice(0,20).map((k,C)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},C))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>$(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(jn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx($i,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(C=>C.usage>0).sort((C,W)=>W.wilson-C.wilson).slice(0,8).map((C,W)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${C.winRate>=60?"text-green-600":C.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[C.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.wilson.toFixed(3)})]},W))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>$(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(jn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx($i,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(C=>C.usage>0).sort((C,W)=>W.wilson-C.wilson).slice(0,8).map((C,W)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${C.winRate>=60?"text-green-600":C.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[C.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.wilson.toFixed(3)})]},W))})]})})]},k))})]}),o.jsx(Fte,{isOpen:j.isOpen,onClose:()=>N(k=>({...k,isOpen:!1})),title:j.title,data:j.data,columns:j.columns,onRowClick:j.onRowClick}),o.jsx(zte,{isOpen:S.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:S.title,matches:S.matches})]})}const AP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Bu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function Wte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=x.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Vte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Kte({tournamentId:e,loading:t=!1}){const[r,n]=x.useState({}),[i,s]=x.useState(""),[a,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState({isOpen:!1,title:"",data:[],columns:[]}),[h,m]=x.useState({isOpen:!1,title:"",matches:[]});x.useEffect(()=>{e&&y()},[e]);const p=(j,N)=>N===0?0:j/N*(N/(N+10)),y=async()=>{try{const{data:j,error:N}=await J.from("match_results").select("*").eq("tournament_id",e);if(N)throw N;const S=j||[];if(S.length===0){u(!1);return}const P={},A={};S.forEach(D=>{var C;if(!D.winner_name||!D.player1_name||!D.player2_name)return;const E=((C=D.outcome)==null?void 0:C.split(" (")[0])||"Unknown",B=D.points_awarded||AP[E]||0,$=D.phase_number||1;[D.player1_name,D.player2_name].forEach(W=>{P[W]||(P[W]={name:W,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),P[D.player1_name].allMatches.push(D),P[D.player2_name].allMatches.push(D);const M=P[D.winner_name],O=P[D.winner_name===D.player1_name?D.player2_name:D.player1_name],F=D.winner_name===D.player1_name?D.player1_beyblade:D.player2_beyblade,V=D.winner_name===D.player1_name?D.player2_beyblade:D.player1_beyblade;M.matches++,M.wins++,M.totalPoints+=B,M.finishDistribution[E]=(M.finishDistribution[E]||0)+1,M.winsByFinish[F]||(M.winsByFinish[F]={}),M.winsByFinish[F][E]=(M.winsByFinish[F][E]||0)+1,M.pointsGainedByBey[F]=(M.pointsGainedByBey[F]||0)+B,M.phasePerformance[$]||(M.phasePerformance[$]={wins:0,matches:0,points:0}),M.phasePerformance[$].wins++,M.phasePerformance[$].matches++,M.phasePerformance[$].points+=B,O.matches++,O.losses++,O.finishDistribution[E]=(O.finishDistribution[E]||0)+1,O.lossesByFinish[V]||(O.lossesByFinish[V]={}),O.lossesByFinish[V][E]=(O.lossesByFinish[V][E]||0)+1,O.pointsGivenByBey[V]=(O.pointsGivenByBey[V]||0)+B,O.phasePerformance[$]||(O.phasePerformance[$]={wins:0,matches:0,points:0}),O.phasePerformance[$].matches++;const k=[D.player1_name,D.player2_name].sort().join("_vs_");A[k]||(A[k]={player1:D.player1_name,player2:D.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),A[k].totalMatches++,D.winner_name===D.player1_name?A[k].p1Wins++:A[k].p2Wins++}),Object.values(P).forEach(D=>{D.winRate=D.matches>0?D.wins/D.matches*100:0,D.weightedWinRate=p(D.wins,D.matches),D.avgPointsPerMatch=D.matches>0?D.totalPoints/D.matches:0;const E=Object.entries(D.finishDistribution);D.mostCommonWinFinish=E.length>0?E.reduce((B,$)=>B[1]>$[1]?B:$)[0]:"N/A",D.mostCommonLoseFinish=D.mostCommonWinFinish}),Object.values(A).forEach(D=>{D.p1WinRate=D.totalMatches>0?D.p1Wins/D.totalMatches*100:0}),n(P),l(Object.values(A).filter(D=>D.totalMatches>0));const R=Object.keys(P);R.length>0&&!i&&s(R[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=()=>{const j=Object.values(r).map(N=>({name:N.name,matches:N.matches,winRate:N.winRate,weightedWinRate:N.weightedWinRate*100,totalPoints:N.totalPoints,avgPointsPerMatch:N.avgPointsPerMatch,mostCommonWinFinish:N.mostCommonWinFinish}));f({isOpen:!0,title:"All Tournament Players",data:j,columns:[{key:"name",label:"Player"},{key:"matches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"totalPoints",label:"Total Points"},{key:"avgPointsPerMatch",label:"Avg Points/Match"},{key:"mostCommonWinFinish",label:"Most Common Win"}],onRowClick:N=>{var P;const S=((P=r[N.name])==null?void 0:P.allMatches)||[];m({isOpen:!0,title:`All Matches for ${N.name}`,matches:S}),f(A=>({...A,isOpen:!1}))}})},g=()=>{f({isOpen:!0,title:"All Head-to-Head Matchups",data:a,columns:[{key:"player1",label:"Player 1"},{key:"player2",label:"Player 2"},{key:"totalMatches",label:"Total Matches"},{key:"p1Wins",label:"Player 1 Wins"},{key:"p2Wins",label:"Player 2 Wins"},{key:"p1WinRate",label:"Player 1 Win Rate (%)"}],onRowClick:j=>{const N=Object.values(r).flatMap(S=>S.allMatches.filter(P=>P.player1_name===j.player1&&P.player2_name===j.player2||P.player1_name===j.player2&&P.player2_name===j.player1));m({isOpen:!0,title:`${j.player1} vs ${j.player2} Matches`,matches:N}),f(S=>({...S,isOpen:!1}))}})};if(t||c)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing player analytics..."})]});const v=Object.keys(r);if(v.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Et,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Player Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Player analytics require match results to generate statistics."})]})});const b=i?r[i]:null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Et,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),v.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(bt,{size:24,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,N)=>N.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,N)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:N+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.mostCommonWinFinish})]},j.name))})]})})]}),b&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[o.jsx(kc,{size:24,className:"mr-2 text-blue-600"}),b.name," - Detailed Performance"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:b.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[b.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:b.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:b.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Bu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Bu.map(N=>{var S;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-green-600",children:((S=b.winsByFinish[j])==null?void 0:S[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-green-700",children:b.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Bu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Bu.map(N=>{var S;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-red-600",children:((S=b.lossesByFinish[j])==null?void 0:S[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-red-700",children:b.pointsGivenByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(qs,{width:"100%",height:400,children:o.jsxs(kte,{data:Object.entries(b.finishDistribution).map(([j,N])=>({finish:j,points:N*(AP[j]||0),count:N})),children:[o.jsx(PM,{}),o.jsx(Qh,{dataKey:"finish"}),o.jsx(Xh,{}),o.jsx(jb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),o.jsx(Ks,{})]})})]}),Object.keys(b.phasePerformance).length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phase"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(b.phasePerformance).sort(([j],[N])=>parseInt(j)-parseInt(N)).map(([j,N])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:N.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:N.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${N.matches>0&&N.wins/N.matches*100>=50?"text-green-600":"text-red-600"}`,children:[N.matches>0?(N.wins/N.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:N.matches>0?(N.points/N.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Gf,{size:24,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,N)=>N.totalMatches-j.totalMatches).slice(0,10).map((j,N)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},N))})]})})]}),o.jsx(Wte,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(Vte,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function qte(){const[e,t]=x.useState("meta"),[r,n]=x.useState([]),[i,s]=x.useState(""),[a,l]=x.useState(!0),[c,u]=x.useState(!1);x.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await J.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const p=h==null?void 0:h.find(y=>y.status==="completed");p&&s(p.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Wn,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx($i,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Et,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx(Ute,{tournamentId:i}),e==="player"&&o.jsx(Kte,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function Hte(){Ft();const[e,t]=x.useState("overview"),[r,n]=x.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx($i,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament and player statistics"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(bt,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Td,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Wn,{size:16,className:"mr-2"}),"Tournament Analysis"]})]})]})}),e==="overview"&&o.jsx(Ete,{}),e==="personal"&&o.jsx(Tte,{}),e==="tournament"&&o.jsx(qte,{})]})})}const _p={"Over Finish (2 pts)":2,"Burst Finish (2 pts)":2,"Spin Finish (1 pt)":1,"Extreme Finish (3 pts)":3},Gte=()=>{const{confirm:e,alert:t}=Yi(),[r,n]=x.useState([]),[i,s]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(""),[h,m]=x.useState({}),[p,y]=x.useState({}),[w,g]=x.useState(!0),[v,b]=x.useState(!1),[j,N]=x.useState(""),[S,P]=x.useState(""),[A,R]=x.useState(1),[D,E]=x.useState(""),[B,$]=x.useState({}),[M,O]=x.useState(0),[F,V]=x.useState(0),[k,C]=x.useState(2),[W,H]=x.useState(!1),[X,pe]=x.useState(!1),[z,te]=x.useState(!1),[de,K]=x.useState(""),[Z,I]=x.useState({}),[ee,T]=x.useState(null);x.useEffect(()=>{_()},[]),x.useEffect(()=>{if(i){u(!1),l(""),f("");const q=r.find(re=>re.id===i);q!=null&&q.password||(u(!0),Q(i))}},[i]);const _=async()=>{try{const{data:q,error:re}=await J.from("tournaments").select("id, name, status, tournament_date, location, beyblades_per_player, password").order("tournament_date",{ascending:!1});if(re)throw re;n(q||[]);const oe=q==null?void 0:q.find(he=>he.status==="active");oe&&s(oe.id)}catch(q){console.error("Error fetching tournaments:",q)}finally{g(!1)}},U=()=>{const q=r.find(re=>re.id===i);if(!(q!=null&&q.password)){u(!0),Q(i);return}a===q.password?(u(!0),f(""),Q(i)):f("Incorrect password. Please try again.")},Q=async q=>{b(!0);try{const{data:re,error:oe}=await J.from("tournament_registrations").select(`
          player_name,
          tournament_beyblades(
            beyblade_name,
            blade_line
          )
        `).eq("tournament_id",q).eq("status","confirmed").order("player_name",{ascending:!0});if(oe)throw oe;const he={},tt={};re==null||re.forEach(Ie=>{const Te=Ie.player_name,Ut=Ie.tournament_beyblades.map(Ar=>Ar.beyblade_name),st=Ie.tournament_beyblades.map(Ar=>({name:Ar.beyblade_name,blade_line:Ar.blade_line}));Ut.length>0&&(he[Te]=Ut,tt[Te]=st)}),m(he),y(tt),Y()}catch(re){console.error("Error fetching player data:",re),m({})}finally{b(!1)}},Y=()=>{N(""),P(""),R(1),E(""),$({}),O(0),V(0),C(2),H(!1),I({}),y({}),K("")},le=(q,re)=>{q===1?(N(re),re===S&&P("")):(P(re),re===j&&N("")),re&&($({}),O(0),V(0),C(2),H(!1),I({}))},ge=(q,re)=>{var Te,Ut,st;const oe=(be==null?void 0:be.beyblades_per_player)||3,he=Math.floor(re/oe)+1,tt=re%oe;if(he===1)return((Te=h[q])==null?void 0:Te[tt])||"";const Ie=(Ut=Z[he])==null?void 0:Ut[q];return Ie?Ie[tt]||"":((st=h[q])==null?void 0:st[tt])||""},Pe=(q,re)=>{var Te,Ut,st,Ar,is,Wt;const oe=(be==null?void 0:be.beyblades_per_player)||3,he=Math.floor(re/oe)+1,tt=re%oe;if(he===1)return((Ut=(Te=p[q])==null?void 0:Te[tt])==null?void 0:Ut.blade_line)||"";const Ie=(st=Z[he])==null?void 0:st[q];if(Ie){const Cn=Ie[tt],Yr=(Ar=p[q])==null?void 0:Ar.find(ER=>ER.name===Cn);return(Yr==null?void 0:Yr.blade_line)||""}return((Wt=(is=p[q])==null?void 0:is[tt])==null?void 0:Wt.blade_line)||""},Qt=()=>{if(W){t("Phase Required",`Click Shuffle before adding the next match (after every ${(be==null?void 0:be.beyblades_per_player)||3} matches).`);return}if(!j||!S){t("Missing Players","Please select both players first.");return}let q=0;for(;B[q]!==void 0;)q++;const re={...B,[q]:{outcome:null,winner:null,points:0}};$(re);const oe=(be==null?void 0:be.beyblades_per_player)||3,he=Object.keys(re).length;he>0&&he%oe===0&&H(!0)},ui=(q,re)=>{const oe={...B};if(oe[q]){oe[q].outcome=re;const he=re&&oe[q].winner&&_p[re]||0;oe[q].points=he}$(oe),zo(oe)},di=(q,re)=>{const oe={...B};if(oe[q]){oe[q].winner=re;const he=oe[q].outcome&&re&&_p[oe[q].outcome]||0;oe[q].points=he}$(oe),zo(oe)},zo=q=>{let re=0,oe=0;Object.values(q).forEach(he=>{he.winner&&he.outcome&&he.points>0&&(he.winner===j?re+=he.points:he.winner===S&&(oe+=he.points))}),O(re),V(oe)},rm=q=>{const re={...B};delete re[q],$(re),zo(re),H(!1)},NR=()=>{const q=k,re={...Z};re[q]||(re[q]={[j]:[...h[j]||[]],[S]:[...h[S]||[]]}),I(re),C(oe=>oe+1),H(!1)},SR=(q,re,oe)=>{I(he=>({...he,[q]:{...he[q],[re]:oe}}))},Cb=(q,re)=>{T(re),q.dataTransfer.effectAllowed="move"},Tb=q=>{q.preventDefault(),q.dataTransfer.dropEffect="move"},Mb=(q,re,oe,he)=>{var Ut;if(q.preventDefault(),!ee)return;const tt=((Ut=Z[re])==null?void 0:Ut[oe])||[],Ie=tt.indexOf(ee);if(Ie===-1)return;const Te=[...tt];Te.splice(Ie,1),Te.splice(he,0,ee),SR(re,oe,Te),T(null)},Rb=()=>{T(null)},PR=async()=>{if(!D.trim()){t("Please enter the Tournament Officer name before submitting.");return}const q=Object.entries(B).filter(([re,oe])=>oe.outcome&&oe.winner);if(q.length===0){t("No complete matches to submit.");return}te(!0),K("Submitting matches...");try{const re=q.map(([tt,Ie])=>{const Te=parseInt(tt);return{tournament_id:i,round_number:A,player1_name:j,player2_name:S,player1_beyblade:ge(j,Te),player2_beyblade:ge(S,Te),player1_blade_line:Pe(j,Te),player2_blade_line:Pe(S,Te),outcome:Ie.outcome,winner_name:Ie.winner,points_awarded:Ie.points,match_number:Te+1,phase_number:Math.floor(Te/3)+1,tournament_officer:D}}),{error:oe}=await J.from("match_results").insert(re);if(oe)throw oe;const{error:he}=await J.from("match_sessions").insert({tournament_id:i,round_number:A,player1_name:j,player2_name:S,player1_final_score:M,player2_final_score:F,winner_name:M>F?j:S,total_matches:q.length,tournament_officer:D,match_summary:q.map(([tt,Ie])=>{const Te=parseInt(tt),Ut=ge(Ie.winner,Te),st=(be==null?void 0:be.beyblades_per_player)||3,Ar=Math.floor(Te/st)+1,is=Te%st+1;return`Phase ${Ar}, Match ${is}: ${Ie.outcome} by ${Ie.winner} using ${Ut}`}).join("; "),phases:Object.keys(Z).length+1,deck_orders:Z});if(he)throw he;K("✅ Matches submitted successfully!"),pe(!1),setTimeout(()=>{Y(),K("")},2e3)}catch(re){console.error("Error submitting matches:",re),K("❌ Failed to submit matches. Please try again.")}finally{te(!1)}},_R=()=>Object.entries(B).filter(([re,oe])=>oe.outcome&&oe.winner).map(([re,oe])=>{const he=parseInt(re),tt=ge(oe.winner,he);return`Match ${he+1}: ${oe.outcome} by ${oe.winner} using ${tt}`}),be=r.find(q=>q.id===i),Db=Object.keys(h),kR=Db.filter(q=>q!==S),AR=Db.filter(q=>q!==j);return w?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBC Match Tracker"}),o.jsx("p",{className:"text-gray-600",children:"Track tournament matches in real-time"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tournament Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),o.jsxs("select",{value:i,onChange:q=>s(q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(q=>o.jsxs("option",{value:q.id,children:[q.name," (",q.status,")"]},q.id))]})]}),be&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:be.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",o.jsx("span",{className:`capitalize ${be.status==="active"?"text-green-600":be.status==="upcoming"?"text-blue-600":"text-gray-600"}`,children:be.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(be.tournament_date).toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",be.location]}),be.password&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"🔒 Password protected"})]})]})]}),i&&(be==null?void 0:be.password)&&!c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:"🔒 Tournament Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This tournament requires a password to access match tracking features."}),o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"password",placeholder:"Enter tournament password",value:a,onChange:q=>{l(q.target.value),f("")},onKeyPress:q=>q.key==="Enter"&&U(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Verify"})]}),d&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:d})]})]}),i&&c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Match Setup"}),v?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading player data..."})]}):Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Et,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No confirmed registrations found for this tournament"})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Round #"}),o.jsx("input",{type:"number",min:"1",value:A,onChange:q=>R(parseInt(q.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),o.jsxs("select",{value:j,onChange:q=>le(1,q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 1 --"}),kR.map(q=>o.jsx("option",{value:q,children:q},q))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),o.jsxs("select",{value:S,onChange:q=>le(2,q.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 2 --"}),AR.map(q=>o.jsx("option",{value:q,children:q},q))]})]})]})]}),j&&S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tournament Officer",value:D,onChange:q=>E(q.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),o.jsxs("div",{className:"text-lg font-bold",children:[o.jsxs("span",{className:`${M>F?"text-green-600":M<F?"text-red-600":"text-gray-600"}`,children:[j,": ",M]}),o.jsx("span",{className:"mx-4 text-gray-400",children:"|"}),o.jsxs("span",{className:`${F>M?"text-green-600":F<M?"text-red-600":"text-gray-600"}`,children:[S,": ",F]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Phase 1 Decks (",(be==null?void 0:be.beyblades_per_player)||3," Beyblades)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2"}),o.jsx("th",{className:"text-left py-2 font-semibold",children:j}),o.jsx("th",{className:"text-left py-2 font-semibold",children:S})]})}),o.jsx("tbody",{children:Array.from({length:(be==null?void 0:be.beyblades_per_player)||3},(q,re)=>{var oe,he;return o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 font-medium",children:["Bey ",re+1]}),o.jsx("td",{className:"py-2",children:((oe=h[j])==null?void 0:oe[re])||""}),o.jsx("td",{className:"py-2",children:((he=h[S])==null?void 0:he[re])||""})]},re)})})]})})]}),o.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(B).map(([q,re])=>{var Ar,is;const oe=parseInt(q),he=ge(j,oe),tt=ge(S,oe),Ie=oe+1,Te=(be==null?void 0:be.beyblades_per_player)||3,Ut=Ie%Te===0&&Ie>0,st=Math.floor(Ie/Te)+1;return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold",children:["Match ",Ie,": ",he," vs ",tt]}),o.jsx("button",{onClick:()=>rm(oe),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Outcome:"}),o.jsx("div",{className:"space-y-2",children:Object.keys(_p).map(Wt=>o.jsx("button",{onClick:()=>ui(oe,Wt),className:`w-full text-left px-3 py-2 rounded border transition-colors ${re.outcome===Wt?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:Wt},Wt))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Winner:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>di(oe,j),className:`w-full text-left px-3 py-2 rounded border transition-colors ${re.winner===j?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:j}),o.jsx("button",{onClick:()=>di(oe,S),className:`w-full text-left px-3 py-2 rounded border transition-colors ${re.winner===S?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:S})]})]})]})]}),Ut&&st>1&&Z[st]&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-md p-6 mt-4 border-2 border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center",children:[o.jsx(d1,{className:"mr-2",size:20}),"Phase ",st," Decks - Drag to Reorder"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:j}),o.jsx("div",{className:"space-y-2",children:(Ar=Z[st][j])==null?void 0:Ar.map((Wt,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Cb(Yr,Wt),onDragOver:Tb,onDrop:Yr=>Mb(Yr,st,j,Cn),onDragEnd:Rb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${ee===Wt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(u1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:Wt})]},`${st}-${j}-${Cn}`))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:S}),o.jsx("div",{className:"space-y-2",children:(is=Z[st][S])==null?void 0:is.map((Wt,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Cb(Yr,Wt),onDragOver:Tb,onDrop:Yr=>Mb(Yr,st,S,Cn),onDragEnd:Rb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${ee===Wt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(u1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:Wt})]},`${st}-${S}-${Cn}`))})]})]})]})]},q)})}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsxs("button",{onClick:W?NR:Qt,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:W?"Shuffle":"Add Match"})]}),o.jsxs("button",{onClick:()=>pe(!0),disabled:Object.values(B).every(q=>!q.outcome||!q.winner),className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o.jsx(FI,{size:20}),o.jsx("span",{children:"Submit Scores"})]}),o.jsxs("button",{onClick:Y,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(d1,{size:20}),o.jsx("span",{children:"Refresh"})]})]}),de&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:`font-semibold ${de.includes("✅")?"text-green-600":de.includes("❌")?"text-red-600":"text-blue-600"}`,children:de})})]})]}),X&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Summary"}),o.jsx("button",{onClick:()=>pe(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Final Scores"}),o.jsxs("p",{className:"text-xl",children:[o.jsxs("strong",{children:[j,":"]})," ",M," pts | ",o.jsxs("strong",{children:[S,":"]})," ",F," pts"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Match Results"}),o.jsx("div",{className:"space-y-2",children:_R().map((q,re)=>o.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:q}},re))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>pe(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:PR,disabled:z,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[z&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Confirm Submit"})]})]})]})]})})]})};function Yte(){var I,ee;const{user:e}=Ft(),[t,r]=x.useState([]),[n,i]=x.useState(!1),[s,a]=x.useState(null),[l,c]=x.useState({}),[u,d]=x.useState(null),[f,h]=x.useState([]),[m,p]=x.useState(!1),[y,w]=x.useState(!0),[g,v]=x.useState(null),[b,j]=x.useState([]),[N,S]=x.useState(!1),[P,A]=x.useState(null),[R,D]=x.useState({});x.useState(!1),x.useState([]),x.useState(!1);const E=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";on.useEffect(()=>{O()},[]);const B=async T=>{p(!0);try{const{data:_,error:U}=await J.from("tournament_registration_details").select("*").eq("tournament_id",T).order("registered_at",{ascending:!1});if(U)throw U;const Q={};_==null||_.forEach(Y=>{Q[Y.registration_id]||(Q[Y.registration_id]={registration_id:Y.registration_id,tournament_id:Y.tournament_id,player_name:Y.player_name,payment_mode:Y.payment_mode,registered_at:Y.registered_at,status:Y.status,payment_status:Y.payment_status,beyblades:[]}),Y.beyblade_id&&(Q[Y.registration_id].beyblades.find(ge=>ge.beyblade_id===Y.beyblade_id)||Q[Y.registration_id].beyblades.push({beyblade_id:Y.beyblade_id,beyblade_name:Y.beyblade_name,blade_line:Y.blade_line,parts:Y.beyblade_parts||[]}))}),h(Object.values(Q))}catch(_){console.error("Error fetching registrations:",_),h([])}finally{p(!1)}},$=async(T,_)=>{try{console.log("Updating payment status:",{registrationId:T,newStatus:_});const{error:U}=await J.from("tournament_registrations").update({payment_status:_}).eq("id",T);if(U)throw console.error("Payment status update error:",U),U.code==="42501"||U.message.includes("RLS")?alert("Permission denied. You need admin or developer role to update payment status."):alert(`Failed to update payment status: ${U.message}`),U;console.log("Payment status updated successfully"),await O(),alert("Payment status updated successfully!")}catch(U){console.error("Error updating payment status:",U)}},M=(T,_)=>_==="Custom"?["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"].map(Q=>T.find(Y=>Y.part_type===Q)).filter(Boolean):["Blade","Ratchet","Bit"].map(Q=>T.find(Y=>Y.part_type===Q)).filter(Boolean),O=async()=>{try{const{data:T,error:_}=await J.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(_)throw _;const U=await Promise.all((T||[]).map(async Q=>{const{count:Y}=await J.from("tournament_registrations").select("*",{count:"exact",head:!0}).eq("tournament_id",Q.id).eq("status","confirmed");return{...Q,current_participants:Y||0}}));r(U)}catch(T){console.error("Error fetching tournaments:",T)}finally{w(!1)}},F=()=>{i(!0),c({name:"",description:"",tournament_date:"",location:"",max_participants:16,has_participant_limit:!0,status:"upcoming",registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,is_free:!0,entry_fee:0,tournament_type:"casual"})},V=T=>{a(T.id),c(T)},k=async()=>{try{if(n){const{error:T}=await J.from("tournaments").insert([l]);if(T){console.error("Insert error:",T),T.code==="42501"||T.message.includes("RLS")?alert("Permission denied. You need admin or developer role to create tournaments."):alert(`Failed to create tournament: ${T.message}`);return}}else if(s){const{error:T}=await J.from("tournaments").update(l).eq("id",s);if(T){console.error("Update error:",T),T.code==="42501"||T.message.includes("RLS")||T.code==="42883"?alert("Permission denied. You need admin or developer role to edit tournaments."):alert(`Failed to update tournament: ${T.message}`);return}}await O(),i(!1),a(null),c({})}catch(T){console.error("Error saving tournament:",T),alert(`Failed to save tournament: ${T instanceof Error?T.message:"Unknown error"}. Please try again.`)}},C=()=>{i(!1),a(null),c({})},W=async T=>{if(confirm("Are you sure you want to delete this tournament? This will permanently delete ALL related data including registrations, beyblades, parts, matches, and sessions. This action cannot be undone."))try{const{error:_}=await J.from("tournaments").delete().eq("id",T);if(_){console.error("Delete error:",_),_.code==="42501"||_.message.includes("RLS")||_.message.includes("permission")?alert("Permission denied. You need admin or developer role to delete tournaments."):alert(`Failed to delete tournament: ${_.message}`);return}alert("Tournament deleted successfully!"),await O()}catch(_){console.error("Error deleting tournament:",_),alert(`Failed to delete tournament: ${_ instanceof Error?_.message:"Unknown error"}. Please try again.`)}},H=async T=>{S(!0),v(T);try{const{data:_,error:U}=await J.from("match_results").select("*").eq("tournament_id",T).order("submitted_at",{ascending:!1});if(U)throw U;j(_||[])}catch(_){console.error("Error fetching matches:",_),alert("Failed to load matches. Please try again.")}finally{S(!1)}},X=T=>{A(T.id),D({...T})},pe=async()=>{if(!(!P||!E))try{const{error:T}=await J.from("match_results").update(R).eq("id",P);if(T){console.error("Update error:",T),alert(`Failed to update match: ${T.message}`);return}A(null),D({}),await H(g),alert("Match updated successfully!")}catch(T){console.error("Error updating match:",T),alert(`Failed to update match: ${T instanceof Error?T.message:"Unknown error"}`)}},z=()=>{A(null),D({})},te=async T=>{if(confirm("Are you sure you want to delete this match? This action cannot be undone."))try{const{error:_}=await J.from("match_results").delete().eq("id",T);if(_){console.error("Delete error:",_),alert(`Failed to delete match: ${_.message}`);return}alert("Match deleted successfully!"),await H(g)}catch(_){console.error("Error deleting match:",_),alert(`Failed to delete match: ${_ instanceof Error?_.message:"Unknown error"}`)}},de=T=>{switch(T){case"upcoming":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},K=T=>{d(T),B(T)},Z=()=>{d(null),h([])};if(y)return o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})});if(u){const T=t.find(_=>_.id===u);return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:Z,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors mb-4",children:[o.jsx(qf,{size:20}),o.jsx("span",{children:"Back to Tournament Manager"})]}),o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[T==null?void 0:T.name," - Registrations"]}),o.jsx("p",{className:"text-gray-600",children:"Manage tournament registrations and payment status"})]}),m?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading registrations..."})]}):f.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Et,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):o.jsx("div",{className:"space-y-6",children:f.map(_=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:_.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:_.player_name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Registered: ",new Date(_.registered_at).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment Mode:"}),o.jsx("p",{className:"font-medium capitalize",children:_.payment_mode==="free"?"Free":_.payment_mode.replace("_"," ").replace(/\b\w/g,U=>U.toUpperCase())||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("p",{className:"font-medium capitalize",children:_.status})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Status"}),o.jsxs("select",{value:_.payment_status||"unpaid",onChange:U=>$(_.registration_id,U.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"unpaid",children:"Unpaid"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"confirmed",children:"Confirmed"})]})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.payment_status==="confirmed"?"bg-green-100 text-green-800":_.payment_status==="paid"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:_.payment_status||"unpaid"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[o.jsx(bt,{size:16,className:"mr-2 text-yellow-500"}),"Registered Beyblades (",_.beyblades.length,")"]}),_.beyblades.length===0?o.jsx("p",{className:"text-gray-500 text-sm italic",children:"No Beyblades registered"}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:_.beyblades.map((U,Q)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h5",{className:"font-semibold text-gray-900",children:U.beyblade_name}),o.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[U.blade_line," Line"]})]}),U.parts&&U.parts.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-2",children:M(U.parts,U.blade_line).map((Y,le)=>o.jsxs("div",{className:"bg-white border border-gray-300 p-2 rounded text-xs",children:[o.jsx("div",{className:"font-medium text-gray-700",children:Y.part_type}),o.jsx("div",{className:"text-gray-600",children:Y.part_name})]},le))}):o.jsx("p",{className:"text-gray-500 text-xs",children:"No parts configured"})]},U.beyblade_id))})]})]},_.registration_id))})]})}return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tournament Manager"}),o.jsx("p",{className:"text-gray-600",children:"Create and manage tournaments"})]}),o.jsx("div",{className:"flex space-x-3",children:E&&o.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"Create Tournament"})]})})]}),(n||s)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:n?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Name"}),o.jsx("input",{type:"text",value:l.name||"",onChange:T=>c({...l,name:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:l.location||"",onChange:T=>c({...l,location:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Date"}),o.jsx("input",{type:"date",value:l.tournament_date||"",onChange:T=>c({...l,tournament_date:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),o.jsx("input",{type:"date",value:l.registration_deadline||"",onChange:T=>c({...l,registration_deadline:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participant Limit"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:l.has_participant_limit,onChange:()=>c({...l,has_participant_limit:!0}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Set participant limit"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:!l.has_participant_limit,onChange:()=>c({...l,has_participant_limit:!1}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"No limit"})]})]}),l.has_participant_limit&&o.jsx("input",{type:"number",min:"1",value:l.max_participants,onChange:T=>c({...l,max_participants:parseInt(T.target.value)||1}),placeholder:"Maximum participants",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Pool"}),o.jsx("input",{type:"text",value:l.prize_pool||"",onChange:T=>c({...l,prize_pool:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., $500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Type"}),o.jsxs("select",{value:l.tournament_type||"casual",onChange:T=>c({...l,tournament_type:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Type"}),o.jsxs("select",{value:l.is_free?"free":"paid",onChange:T=>{const _=T.target.value==="free";c({...l,is_free:_,entry_fee:_?0:l.entry_fee||50})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"paid",children:"Paid Entry"})]})]}),!l.is_free&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Fee"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:l.entry_fee||"",onChange:T=>c({...l,entry_fee:parseFloat(T.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:"1",max:"5",value:l.beyblades_per_player||3,onChange:T=>c({...l,beyblades_per_player:parseInt(T.target.value)}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Players per Team"}),o.jsx("input",{type:"number",min:"1",max:"4",value:l.players_per_team||1,onChange:T=>c({...l,players_per_team:parseInt(T.target.value)}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:l.description||"",onChange:T=>c({...l,description:T.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:l.status||"",onChange:T=>c({...l,status:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Type"}),o.jsxs("select",{value:l.tournament_type||"casual",onChange:T=>c({...l,tournament_type:T.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Type"}),o.jsxs("select",{value:l.is_free?"free":"paid",onChange:T=>{const _=T.target.value==="free";c({...l,is_free:_,entry_fee:_?0:l.entry_fee||50})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"paid",children:"Paid Entry"})]})]}),!l.is_free&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Fee (₱)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:l.entry_fee||"",onChange:T=>c({...l,entry_fee:parseFloat(T.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50.00"})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-6",children:[o.jsxs("button",{onClick:k,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(tc,{size:16}),o.jsx("span",{children:"Save"})]}),o.jsxs("button",{onClick:C,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(wt,{size:16}),o.jsx("span",{children:"Cancel"})]})]})]}),o.jsx("div",{className:"space-y-4",children:t.map(T=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:T.name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${de(T.status)}`,children:T.status})]}),o.jsx("p",{className:"text-gray-600 mb-2",children:T.description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(T.tournament_date).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",T.location]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Participants:"})," ",T.current_participants,"/",T.max_participants===999999?"∞":T.max_participants]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Prize Pool:"})," ",T.prize_pool]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"}),o.jsx("span",{className:`ml-1 capitalize ${T.tournament_type==="ranked"?"text-orange-600 font-semibold":"text-gray-600"}`,children:T.tournament_type})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Entry:"}),o.jsx("span",{className:`ml-1 ${T.is_free?"text-green-600":"text-blue-600"} font-semibold`,children:T.is_free?"Free":`₱${T.entry_fee}`})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Beyblades/Player:"})," ",T.beyblades_per_player]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Players/Team:"})," ",T.players_per_team]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[E&&o.jsx("button",{onClick:()=>V(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Tournament",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>K(T.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"View Registrations",children:o.jsx(jn,{size:16})}),o.jsx("button",{onClick:()=>H(T.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"View Matches",children:o.jsx(f1,{size:16})}),E&&o.jsx("button",{onClick:()=>W(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete Tournament",children:o.jsx(kn,{size:16})})]})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsxs("span",{children:["Registration Deadline: ",new Date(T.registration_deadline).toLocaleDateString()]}),o.jsxs("span",{children:["Tournament ID: ",T.id]})]})})]},T.id))}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tournament Registrations"}),o.jsx("p",{className:"text-gray-600",children:(I=t.find(T=>T.id===u))==null?void 0:I.name})]}),o.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]}),o.jsx("div",{className:"p-6",children:m?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading registrations..."})]}):f.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Et,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations yet for this tournament"})]}):o.jsx("div",{className:"space-y-6",children:f.map(T=>o.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-6 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:T.player_name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Registered: ",new Date(T.registered_at).toLocaleString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Payment: ",o.jsx("span",{className:"capitalize",children:T.payment_mode.replace("_"," ")})]})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${T.status==="confirmed"?"bg-green-100 text-green-800":T.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:T.status})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"Registered Beyblades:"}),T.beyblades.map(_=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:_.beyblade_name}),o.jsxs("span",{className:"text-sm text-gray-600 bg-white px-2 py-1 rounded",children:[_.blade_line," Line"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 text-sm",children:_.parts.map((U,Q)=>o.jsxs("div",{className:"bg-white border border-gray-300 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-gray-700",children:U.part_type}),o.jsx("div",{className:"text-gray-600",children:U.part_name})]},Q))})]},_.beyblade_id))]})]},T.registration_id))})})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tournament Matches"}),o.jsx("p",{className:"text-gray-600",children:(ee=t.find(T=>T.id===g))==null?void 0:ee.name})]}),o.jsx("button",{onClick:()=>{v(null),A(null),D({})},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]}),o.jsx("div",{className:"p-6",children:N?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading matches..."})]}):b.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(f1,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No matches found for this tournament"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Round"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match #"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Bey"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Bey"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outcome"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Officer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),E&&o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:b.map(T=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsx("input",{type:"number",value:R.round_number||"",onChange:_=>D({...R,round_number:parseInt(_.target.value)}),className:"w-16 border border-gray-300 rounded px-2 py-1 text-sm"}):T.round_number}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsx("input",{type:"number",value:R.match_number||"",onChange:_=>D({...R,match_number:parseInt(_.target.value)}),className:"w-16 border border-gray-300 rounded px-2 py-1 text-sm"}):T.match_number}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P===T.id?o.jsx("input",{type:"text",value:R.player1_name||"",onChange:_=>D({...R,player1_name:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):T.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsx("input",{type:"text",value:R.player1_beyblade||"",onChange:_=>D({...R,player1_beyblade:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):T.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P===T.id?o.jsx("input",{type:"text",value:R.player2_name||"",onChange:_=>D({...R,player2_name:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):T.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsx("input",{type:"text",value:R.player2_beyblade||"",onChange:_=>D({...R,player2_beyblade:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):T.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsxs("select",{value:R.winner_name||"",onChange:_=>D({...R,winner_name:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Select Winner"}),o.jsx("option",{value:R.player1_name,children:R.player1_name}),o.jsx("option",{value:R.player2_name,children:R.player2_name})]}):o.jsx("span",{className:`font-medium ${T.winner_name===T.player1_name?"text-green-600":"text-blue-600"}`,children:T.winner_name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsxs("select",{value:R.outcome||"",onChange:_=>D({...R,outcome:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Select Outcome"}),o.jsx("option",{value:"Spin Finish (1 pt)",children:"Spin Finish (1 pt)"}),o.jsx("option",{value:"Burst Finish (2 pts)",children:"Burst Finish (2 pts)"}),o.jsx("option",{value:"Over Finish (2 pts)",children:"Over Finish (2 pts)"}),o.jsx("option",{value:"Extreme Finish (3 pts)",children:"Extreme Finish (3 pts)"})]}):T.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsx("input",{type:"number",value:R.points_awarded||"",onChange:_=>D({...R,points_awarded:parseInt(_.target.value)}),className:"w-16 border border-gray-300 rounded px-2 py-1 text-sm"}):T.points_awarded}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===T.id?o.jsx("input",{type:"text",value:R.tournament_officer||"",onChange:_=>D({...R,tournament_officer:_.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):T.tournament_officer}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:12,className:"mr-1"}),new Date(T.created_at).toLocaleDateString()]})}),E&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:P===T.id?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:pe,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Save Changes",children:o.jsx(tc,{size:16})}),o.jsx("button",{onClick:z,className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-50",title:"Cancel",children:o.jsx(wt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>X(T),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Edit Match",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>te(T.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete Match",children:o.jsx(kn,{size:16})})]})})})]},T.id))})]})})})]})})]})}function Xte(){const{user:e}=Ft(),{confirm:t,alert:r}=Yi(),[n,i]=x.useState([]),[s,a]=x.useState("all"),[l,c]=x.useState("all"),[u,d]=x.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";on.useEffect(()=>{h()},[]);const h=async()=>{try{console.log("🔍 USER MANAGEMENT: Fetching profiles...");const{data:v,error:b}=await J.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw console.error("❌ USER MANAGEMENT: Error fetching profiles:",b),b;console.log("📊 USER MANAGEMENT: Raw profiles data:",{count:(v==null?void 0:v.length)||0,sample:(v==null?void 0:v.slice(0,3))||[],allProfiles:v||[]});const j=(v||[]).map(N=>({id:N.id,username:N.username,email:N.email||"",role:N.role,joinedDate:N.created_at,status:"active",lastLogin:null}));console.log("🔄 USER MANAGEMENT: Formatted profiles as users:",{count:j.length,sample:j.slice(0,3),roles:j.map(N=>N.role),statuses:j.map(N=>N.status)}),i(j),console.log("✅ USER MANAGEMENT: Profiles loaded successfully as users")}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const b=s==="all"||v.status===s,j=l==="all"||v.role===l;return b&&j}),p=async(v,b)=>{try{const{error:j}=await J.from("profiles").update(b).eq("id",v);if(j){const N=j.code==="42501"||j.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${j.message}`;await r("Update Failed",N);return}await h()}catch(j){console.error("Error updating user:",j),await r("Update Failed",`Failed to update user: ${j instanceof Error?j.message:"Unknown error"}`)}},y=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:j,error:N}=await J.rpc("delete_user_completely",{user_id_to_delete:v});if(N){console.error("Delete error:",N),N.code==="42501"||N.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):N.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${N.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(j){console.error("Error deleting user:",j),await r("Delete Failed",`Failed to delete user: ${j instanceof Error?j.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(Et,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(RI,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:b=>p(v.id,{role:b.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${g(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>y(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(kn,{size:16})})]})})})]},v.id))})]})})})]})}function Jte(){var I,ee,T;const{user:e}=Ft(),{confirm:t,alert:r}=Yi(),[n,i]=x.useState("tournaments"),[s,a]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,p]=x.useState(null),[y,w]=x.useState([]),[g,v]=x.useState(null),[b,j]=x.useState({}),[N,S]=x.useState(null),[P,A]=x.useState([]),[R,D]=x.useState(""),[E,B]=x.useState(1),[$]=x.useState(10);on.useEffect(()=>{a(null),S(null),v(null),j({}),D(""),B(1)},[n]);const M=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",O=async()=>{try{console.log("🔍 DATABASE: Fetching table counts...");const[_,U,Q,Y]=await Promise.all([J.from("profiles").select("*",{count:"exact",head:!0}),J.from("tournaments").select("*",{count:"exact",head:!0}),J.from("match_results").select("*",{count:"exact",head:!0}),J.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:_.count||0,icon:o.jsx(Et,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:U.count||0,icon:o.jsx(bt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:Q.count||0,icon:o.jsx(zi,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:Y.count||0,icon:o.jsx(zI,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:le}=await J.from("tournaments").select("id, name").order("name");A(le||[]),console.log("✅ DATABASE: Table counts loaded successfully")}catch(_){console.error("Error fetching table counts:",_)}},F=async(_,U)=>{h(!0),p(null),console.log("🔍 DATABASE: Fetching table data for:",{tableName:_,tournamentId:U});try{let Q=[];if(_==="registrations"&&U){const{data:Y,error:le}=await J.from("tournament_registration_details").select("*").eq("tournament_id",U).order("registered_at",{ascending:!1});if(le)throw le;const ge={};Y==null||Y.forEach(Pe=>{var Qt;ge[Pe.registration_id]||(ge[Pe.registration_id]={registration_id:Pe.registration_id,tournament_id:Pe.tournament_id,tournament_name:((Qt=P.find(ui=>ui.id===Pe.tournament_id))==null?void 0:Qt.name)||"Unknown Tournament",player_name:Pe.player_name,payment_mode:Pe.payment_mode,registered_at:Pe.registered_at,status:Pe.status,beyblades:[]}),Pe.beyblade_id&&(ge[Pe.registration_id].beyblades.find(di=>di.beyblade_id===Pe.beyblade_id)||ge[Pe.registration_id].beyblades.push({beyblade_id:Pe.beyblade_id,beyblade_name:Pe.beyblade_name,blade_line:Pe.blade_line,parts:Pe.beyblade_parts||[]}))}),Q=Object.values(ge)}else if(_==="registrations"&&!U)Q=P;else{let Y=_;_==="registrations"?Y="tournament_registrations":_==="users"?Y="profiles":_==="matches"&&(Y="match_results");const{data:le,error:ge}=await J.from(Y).select("*").order(_==="tournaments"?"tournament_date":_==="matches"?"submitted_at":"created_at",{ascending:!1});if(ge)throw console.error(`❌ DATABASE: Error fetching ${_}:`,ge),ge;Q=le||[]}(_!=="registrations"||U)&&Q.sort((Y,le)=>{const ge=Object.values(Y).find(Qt=>typeof Qt=="string")||"",Pe=Object.values(le).find(Qt=>typeof Qt=="string")||"";return ge.localeCompare(Pe)}),d(Q),console.log(`✅ DATABASE: Table data loaded for ${_}:`,{finalCount:Q.length,hasData:Q.length>0})}catch(Q){console.error("Error fetching table data:",Q),p(`Failed to load ${_} data. Please try again.`)}finally{h(!1)}},V=async()=>{c(!0),await Promise.all([O(),F(n,s||void 0)]),c(!1)},k=_=>{const U=JSON.stringify(u,null,2),Q=new Blob([U],{type:"application/json"}),Y=URL.createObjectURL(Q),le=document.createElement("a");le.href=Y,le.download=`${_}_export_${new Date().toISOString().split("T")[0]}.json`,le.click(),URL.revokeObjectURL(Y)},C=_=>{v(_.id||_.registration_id||_.tournament_id),j({..._})},W=async()=>{if(!(!g||!M))try{let _=n;n==="registrations"?_="tournament_registrations":n==="users"?_="profiles":n==="matches"&&(_="match_results");const{error:U}=await J.from(_).update(b).eq("id",g);if(U){console.error("Update error:",U),U.code==="42501"||U.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${U.message}`);return}v(null),j({}),await F(n)}catch(_){console.error("Error updating row:",_),await r("Update Failed",`Failed to update record: ${_ instanceof Error?_.message:"Unknown error"}. Please try again.`)}},H=async _=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let Q=n;n==="registrations"?Q="tournament_registrations":n==="users"?Q="profiles":n==="matches"&&(Q="match_results");const{error:Y}=await J.from(Q).delete().eq("id",_);if(Y){console.error("Delete error:",Y),Y.code==="42501"||Y.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${Y.message}`);return}await Promise.all([O(),F(n,s||void 0)])}catch(Q){console.error("Error deleting row:",Q),await r("Delete Failed",`Failed to delete record: ${Q instanceof Error?Q.message:"Unknown error"}. Please try again.`)}},X=_=>{a(_),F("registrations",_)},pe=()=>{a(null),F("registrations")},z=_=>{S(_)};x.useEffect(()=>{O()},[]),x.useEffect(()=>{n==="registrations"&&a(null),F(n)},[n]);const te=u.filter(_=>R?Object.values(_).filter(Q=>typeof Q=="string").join(" ").toLowerCase().includes(R.toLowerCase()):!0),de=Math.ceil(te.length/$),K=te.slice((E-1)*$,E*$),Z=()=>{var _;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>F(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(U=>o.jsxs("button",{onClick:()=>X(U.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:U.name}),o.jsx(kI,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:U.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(U.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${U.status==="upcoming"?"bg-blue-100 text-blue-800":U.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:U.status})})]},U.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:pe,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(qf,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((_=P.find(U=>U.id===s))==null?void 0:_.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(U=>{var Q;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:U.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:U.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:U.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(U.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((Q=U.payment_mode)==null?void 0:Q.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${U.status==="confirmed"?"bg-green-100 text-green-800":U.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:U.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>z(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(jn,{size:16})}),M&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>C(U),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>H(U.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(kn,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[U.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:U.beyblades.length>0?U.beyblades.map((Y,le)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:Y.beyblade_name},le)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},U.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:R,onChange:U=>{D(U.target.value),B(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",K.length," of ",te.length," records"]}),de>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>B(Math.max(1,E-1)),disabled:E===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",E," of ",de]}),o.jsx("button",{onClick:()=>B(Math.min(de,E+1)),disabled:E===de,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[K.length>0&&K[0]&&Object.keys(K[0]).map(U=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:U.replace(/_/g," ")},U)),M&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:K.map((U,Q)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(U).map(([Y,le],ge)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:g===(U.id||U.registration_id||U.tournament_id)&&M?o.jsx("input",{type:"text",value:b[Y]||"",onChange:Pe=>j({...b,[Y]:Pe.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof le=="object"&&le!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(le).length>50?JSON.stringify(le).substring(0,50)+"...":JSON.stringify(le)}):le instanceof Date?le.toLocaleString():o.jsx("span",{className:Y.includes("email")?"font-mono text-blue-600":"",children:String(le||"")})})},ge)),M&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:g===(U.id||U.registration_id||U.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:W,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(tc,{size:16})}),o.jsx("button",{onClick:()=>{v(null),j({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(wt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>C(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>H(U.id||U.registration_id||U.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(kn,{size:16})})]})})})]},U.id||Q))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Wn,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:V,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(BI,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>k(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(EI,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Wn,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:y.map(_=>o.jsxs("button",{onClick:()=>i(_.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===_.name?"bg-gradient-to-r "+_.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===_.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:on.cloneElement(_.icon,{className:n===_.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===_.name?"text-white":"text-gray-900"}`,children:_.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===_.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:_.records})]}),o.jsx("p",{className:`text-xs ${n===_.name?"text-white/80":"text-gray-600"}`,children:_.description})]},_.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx($i,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.reduce((_,U)=>_+U.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((I=y.find(_=>_.name===n))==null?void 0:I.icon)&&on.cloneElement(y.find(_=>_.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((ee=P.find(_=>_.id===s))==null?void 0:ee.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(T=y.find(_=>_.name===n))==null?void 0:T.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${te.length} records`})})]})}),Z()]})})]}),N&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:N.player_name})]}),o.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:N.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:N.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:N.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${N.status==="confirmed"?"bg-green-100 text-green-800":N.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(N.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(bt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[N.beyblades.length," Beyblades"]})]}),N.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(bt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.beyblades.map((_,U)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:_.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[_.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:U+1})})]}),_.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:_.parts.map((Q,Y)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:Q.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:Q.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:Y+1})})]},Y))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},_.beyblade_id))})]})]})]})})]})})}function Qte({showHeader:e=!0}){const{user:t}=Ft(),{confirm:r,alert:n}=Yi();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ba,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=x.useState([]),[a,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,m]=x.useState(null),[p,y]=x.useState(!0),[w,g]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=x.useState(""),[j,N]=x.useState(""),[S,P]=x.useState(3),[A,R]=x.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);x.useEffect(()=>{D(),p&&B(),E()},[t]);const D=async()=>{try{const{data:K,error:Z}=await J.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(Z)throw Z;s(K||[])}catch(K){console.error("Error fetching presets:",K)}finally{u(!1)}};x.useEffect(()=>{p||E()},[p]);const E=async()=>{try{const[K,Z,I,ee,T]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);g({blades:K.data||[],ratchets:Z.data||[],bits:I.data||[],lockchips:ee.data||[],assistBlades:T.data||[]})}catch(K){console.error("Error fetching parts data:",K)}},B=async()=>{try{const{data:K,error:Z}=await J.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(Z)throw Z;l(K||[])}catch(K){console.error("Error fetching inventory:",K)}},$=K=>{switch(K){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},M=K=>{if(!p)switch(K==="Main Blade"?"Blade":K){case"Blade":return w.blades.map(I=>({id:`db-${I.Blades}`,part_type:"Blade",part_name:I.Blades,part_data:I,quantity:999}));case"Ratchet":return w.ratchets.map(I=>({id:`db-${I.Ratchet}`,part_type:"Ratchet",part_name:I.Ratchet,part_data:I,quantity:999}));case"Bit":return w.bits.map(I=>({id:`db-${I.Bit}`,part_type:"Bit",part_name:`${I.Bit} (${I.Shortcut})`,part_data:I,quantity:999}));case"Lockchip":return w.lockchips.map(I=>({id:`db-${I.Lockchip}`,part_type:"Lockchip",part_name:I.Lockchip,part_data:I,quantity:999}));case"Assist Blade":return w.assistBlades.map(I=>({id:`db-${I["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${I["Assist Blade Name"]} (${I["Assist Blade"]})`,part_data:I,quantity:999}));default:return[]}return K==="Blade"||K==="Main Blade"?a.filter(I=>I.part_type.startsWith("Blade (")&&I.part_type===`Blade (${K==="Main Blade"?"Custom":"Basic"})`):a.filter(I=>I.part_type===K)},O=(K,Z)=>{var T,_,U,Q,Y,le,ge,Pe;if(!K||!$(K).every(Qt=>Z[Qt]))return"";if(K==="Custom"){const Qt=((T=Z.Lockchip)==null?void 0:T.Lockchip)||"",ui=((_=Z["Main Blade"])==null?void 0:_.Blades)||"",di=((U=Z["Assist Blade"])==null?void 0:U["Assist Blade"])||"",zo=((Q=Z.Ratchet)==null?void 0:Q.Ratchet)||"",rm=((Y=Z.Bit)==null?void 0:Y.Shortcut)||"";return`${Qt}${ui} ${di}${zo}${rm}`}else{const Qt=((le=Z.Blade)==null?void 0:le.Blades)||"",ui=((ge=Z.Ratchet)==null?void 0:ge.Ratchet)||"",di=((Pe=Z.Bit)==null?void 0:Pe.Shortcut)||"";return`${Qt} ${ui}${di}`}},F=K=>{let Z={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(K).forEach(I=>{I&&(Z.attack+=I.Attack||0,Z.defense+=I.Defense||0,Z.stamina+=I.Stamina||0,Z.dash+=I.Dash||0,Z.burstRes+=I["Burst Res"]||0)}),Z},V=()=>{f(!0),b(""),N(""),P(3),R([{id:"1",name:"",blade_line:"Basic",parts:{}}])},k=K=>{m(K.id),b(K.name),N(K.description||""),P(K.beyblades.length),R(K.beyblades)},C=()=>{A.length<S&&R([...A,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},W=K=>{A.length>1&&R(A.filter(Z=>Z.id!==K))},H=(K,Z,I)=>{R(A.map(ee=>{if(ee.id===K){const T={...ee,[Z]:I,parts:{}};return T.name=O(I,{}),T}return ee}))},X=(K,Z,I)=>{R(A.map(ee=>{if(ee.id===K){const T={...ee.parts,[Z]:I},_=O(ee.blade_line,T);return{...ee,parts:T,name:_}}return ee}))},pe=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const K=A.filter(Z=>{const I=$(Z.blade_line);return Z.blade_line&&I.every(ee=>Z.parts[ee])});if(K.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const Z={user_id:t.id,name:v.trim(),description:j.trim()||null,beyblades:K};if(d){const{error:I}=await J.from("deck_presets").insert([Z]);if(I)throw I}else if(h){const{error:I}=await J.from("deck_presets").update({...Z,updated_at:new Date().toISOString()}).eq("id",h);if(I)throw I}await D(),te(),await n("Success","Deck preset saved successfully!")}catch(Z){console.error("Error saving preset:",Z),await n("Error","Failed to save deck preset. Please try again.")}},z=async K=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:I}=await J.from("deck_presets").delete().eq("id",K);if(I)throw I;await D()}catch(I){console.error("Error deleting preset:",I),await n("Error","Failed to delete deck preset. Please try again.")}},te=()=>{f(!1),m(null),b(""),N(""),P(3),R([{id:"1",name:"",blade_line:"Basic",parts:{}}])},de=K=>{switch(K){case"attack":return o.jsx(Ac,{size:12,className:"text-red-500"});case"defense":return o.jsx(Es,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Hf,{size:12,className:"text-green-500"});case"dash":return o.jsx(Ja,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(Uy,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>y(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>y(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>y(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>y(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:K=>b(K.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:j,onChange:K=>N(K.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:A.map((K,Z)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",Z+1]}),A.length>1&&o.jsx("button",{onClick:()=>W(K.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:K.blade_line,onChange:I=>H(K.id,"blade_line",I.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:K.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:$(K.blade_line).map(I=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:I}),o.jsxs("select",{value:K.parts[I]?JSON.stringify(K.parts[I]):"",onChange:ee=>{if(ee.target.value){const T=JSON.parse(ee.target.value);X(K.id,I,T)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",I]}),M(I).filter(ee=>{var T;return!p&&(I==="Blade"||I==="Main Blade")&&((T=ee.part_data)!=null&&T.Line)?ee.part_data.Line===(I==="Main Blade"?"Custom":K.blade_line):!0}).map(ee=>o.jsxs("option",{value:JSON.stringify(ee.part_data),children:[ee.part_name," ",p?`(Qty: ${ee.quantity})`:""]},ee.id))]})]},I))}),Object.keys(K.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Ja,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(F(K.parts)).map(([I,ee])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:de(I)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:I==="burstRes"?"Burst Res":I}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:ee})]},I))})]})]},K.id))}),A.length<5&&o.jsxs("button",{onClick:C,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(As,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",A.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:te,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(wt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:pe,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(tc,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ba,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:V,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(K=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:K.name}),K.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:K.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>k(K),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>z(K.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:K.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[K.beyblades.slice(0,3).map((Z,I)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:Z.name||`Beyblade ${I+1}`},I)),K.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",K.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(K.updated_at).toLocaleDateString()]})]},K.id))})]})}function Zte(){const{user:e}=Ft(),{confirm:t,alert:r}=Yi(),[n,i]=x.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(hl,{size:64,className:"text-gray-400"}),o.jsx(Ba,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(""),[y,w]=x.useState("all"),[g,v]=x.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[b,j]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});x.useEffect(()=>{N(),S()},[e]);const N=async()=>{try{const{data:O,error:F}=await J.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(F)throw F;a(O||[])}catch(O){console.error("Error fetching inventory:",O)}finally{c(!1)}},S=async()=>{try{const[O,F,V,k,C]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);j({blades:O.data||[],ratchets:F.data||[],bits:V.data||[],lockchips:k.data||[],assistBlades:C.data||[]})}catch(O){console.error("Error fetching parts data:",O)}},P=O=>{let F=[];if(O.startsWith("Blade (")){const V=O.replace("Blade (","").replace(")","");F=b.blades.filter(k=>k.Line===V)}else O==="Ratchet"?F=b.ratchets:O==="Bit"?F=b.bits:O==="Lockchip"?F=b.lockchips:O==="Assist Blade"&&(F=b.assistBlades);return O==="Blade"?F=b.blades.filter(V=>V.Line!=="Custom"):O==="Blade (Custom)"?F=b.blades.filter(V=>V.Line==="Custom"):O==="Ratchet"?F=b.ratchets:O==="Bit"?F=b.bits:O==="Lockchip"?F=b.lockchips:O==="Assist Blade"&&(F=b.assistBlades),F},A=(O,F)=>{if(F.startsWith("Blade ("))return O.Blades;switch(F){case"Ratchet":return O.Ratchet;case"Bit":return`${O.Bit} (${O.Shortcut})`;case"Lockchip":return O.Lockchip;case"Assist Blade":return`${O["Assist Blade Name"]} (${O["Assist Blade"]})`;default:return""}},R=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},D=O=>{h(O.id),v({part_type:O.part_type,part_name:O.part_name,part_data:O.part_data,quantity:O.quantity,notes:O.notes||""})},E=async()=>{if(!g.part_name||!g.part_data){await r("Missing Information","Please select a part before saving.");return}try{const O={user_id:e.id,part_type:g.part_type,part_name:g.part_name,part_data:g.part_data,quantity:g.quantity,notes:g.notes||null};if(u){const{error:F}=await J.from("user_inventory").insert([O]);if(F)throw F}else if(f){const{error:F}=await J.from("user_inventory").update(O).eq("id",f);if(F)throw F}await N()}catch(O){console.error("Error saving inventory item:",O),await r("Error","Failed to save inventory item. Please try again.")}},B=async O=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:V}=await J.from("user_inventory").delete().eq("id",O);if(V)throw V;await N()}catch(V){console.error("Error deleting inventory item:",V),await r("Error","Failed to delete inventory item. Please try again.")}},$=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},M=s.filter(O=>{var k;const F=O.part_name.toLowerCase().includes(m.toLowerCase())||O.notes&&O.notes.toLowerCase().includes(m.toLowerCase());let V=!1;if(y==="all")V=!0;else if(y.startsWith("Blade (")){const C=y.replace("Blade (","").replace(")","");V=O.part_type==="Blade"&&((k=O.part_data)==null?void 0:k.Line)===C}else V=O.part_type===y;return F&&V});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(hl,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Ba,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(Qte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(hl,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Ba,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:O=>p(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(OI,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:y,onChange:O=>w(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:g.part_type,onChange:O=>v({...g,part_type:O.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:g.part_data?JSON.stringify(g.part_data):"",onChange:O=>{if(O.target.value){const F=JSON.parse(O.target.value);v({...g,part_name:A(F,g.part_type),part_data:F})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(g.part_type).map((O,F)=>o.jsx("option",{value:JSON.stringify(O),children:A(O,g.part_type)},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:g.quantity,onChange:O=>v({...g,quantity:parseInt(O.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:g.notes,onChange:O=>v({...g,notes:O.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:$,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(wt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(tc,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),M.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hl,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:R,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(O=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:O.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>D(O),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>B(O.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:O.quantity})]}),O.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:O.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(O.created_at).toLocaleDateString()]})]}),O.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(O.part_data).map(([F,V])=>typeof V=="number"&&V>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(F)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[F,":"]}),o.jsx("span",{className:"font-medium",children:V})]},F):null)})})]},O.id))})]})}function ere(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[a,l]=x.useState("name"),[c,u]=x.useState("asc"),[d,f]=x.useState("grid"),[h,m]=x.useState(null),[p,y]=x.useState("lockchips"),[w,g]=x.useState(""),[v,b]=x.useState(""),j=["lockchips","blades (custom)","blades","ratchets","bits"];x.useEffect(()=>{N()},[]);const N=async()=>{n(!0);try{const[$,M,O,F,V]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]),k=[];($.data||[]).forEach(C=>{k.push({id:`blade-${C.Blades}`,name:C.Blades,category:"Blade",role:C.Type,line:C.Line,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),(M.data||[]).forEach(C=>{k.push({id:`ratchet-${C.Ratchet}`,name:C.Ratchet,category:"Ratchet",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),(O.data||[]).forEach(C=>{k.push({id:`bit-${C.Bit}`,name:`${C.Bit} (${C.Shortcut})`,category:"Bit",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:C.Dash||0,burstRes:C["Burst Res"]||0},data:C})}),(F.data||[]).forEach(C=>{k.push({id:`lockchip-${C.Lockchip}`,name:C.Lockchip,category:"Lockchip",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),(V.data||[]).forEach(C=>{k.push({id:`assistblade-${C["Assist Blade"]}`,name:`${C["Assist Blade Name"]} (${C["Assist Blade"]})`,category:"Assist Blade",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),t(k)}catch($){console.error("Error fetching parts:",$)}finally{n(!1)}},S=$=>{switch($){case"attack":return o.jsx(Ac,{size:16,className:"text-red-500"});case"defense":return o.jsx(Es,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Hf,{size:16,className:"text-green-500"});case"dash":return o.jsx(Ja,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(Uy,{size:16,className:"text-purple-500"});default:return null}},R=e.filter($=>$.name.toLowerCase().includes(i.toLowerCase())).sort(($,M)=>{let O,F;return a==="name"?(O=$.name,F=M.name):a==="role"?(O=$.role||"",F=M.role||""):(O=$.stats[a],F=M.stats[a]),typeof O=="string"&&typeof F=="string"?c==="asc"?O.localeCompare(F):F.localeCompare(O):c==="asc"?O-F:F-O}).filter($=>{var M,O,F;return p==="blades (custom)"?$.category==="Blade"&&((M=$.line)==null?void 0:M.toLowerCase())==="custom":p==="blades"?v?$.category==="Blade"&&((F=$.line)==null?void 0:F.toLowerCase())===v.toLowerCase():$.category==="Blade"&&["basic","unique","x-over"].includes(((O=$.line)==null?void 0:O.toLowerCase())||""):p==="lockchips"?$.category==="Lockchip":p==="ratchets"?$.category==="Ratchet":p==="bits"?$.category==="Bit":!0}).filter($=>w?($.role||"").toLowerCase()===w:!0),D={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},E=$=>{switch($){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},B=$=>{const M=D[$.category]||"",O=E($.category),F=encodeURIComponent($.data[O]),V=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${M}/${F}.png`;return o.jsxs("div",{onClick:()=>m($),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:V,alt:$.name,width:128,height:128,loading:"lazy",onError:k=>{const C=k.target,W=document.createElement("div");W.textContent="Picture Not Available",W.className="text-gray-400 text-xs text-center",C.replaceWith(W)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:$.name}),$.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:$.role})]}),$.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:$.line})]},$.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(CI,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(MI,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:$=>s($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:$=>g($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:j.map($=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${p===$?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>y($),children:$},$))}),p==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:$=>b($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),R.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wn,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map(B)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(p==="bits"?["dash","burstRes"]:[]).map($=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${$==="name"?"text-left":"text-center"}`,onClick:()=>{l($),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:$}),o.jsx("span",{className:"w-4 inline-block",children:a===$&&(c==="asc"?"▲":"▼")})]})},$)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map($=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:$.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.stamina}),p==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},$.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([$])=>h.category==="Bit"?!0:!["dash","burstRes"].includes($)).map(([$,M])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:S($)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:$}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:M})]},$))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${D[h.category]}/${encodeURIComponent(h.data[E(h.category)])}.png`,alt:h.name,onError:$=>{const M=$.target,O=document.createElement("div");O.textContent="Picture Not Available",O.className="text-gray-400 text-sm text-center",M.replaceWith(O)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function tre(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Et,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage competitive teams"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Et,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Create competitive teams, manage rosters, and coordinate team tournaments. Perfect for organizing group battles and team-based competitions."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(p2,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Creation"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Create teams with custom names, logos, and member roles"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(WI,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Member Management"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Add, remove, and assign roles to team members"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Es,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and participate in team-based competitions"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team creation and customization"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Member invitation system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team-based tournament registration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Role-based permissions"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Stay tuned for updates! This feature is in active development."})]})}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Cd,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(LI,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Events"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Wy,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Cd,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestions"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth analytics"]})]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function rre(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Cd,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Foster community engagement and build connections"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Cd,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach programs."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(zi,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Event Planning"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Wy,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx($I,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Gf,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Growth Analytics"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track community growth and engagement metrics"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion box"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration and sharing"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth and engagement analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Welcome program for new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function nre(){const[e,t]=x.useState("dashboard"),[r,n]=x.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(Rj,{onViewChange:t});case"tournaments":return o.jsx(sz,{});case"inventory":return o.jsx(Zte,{});case"analytics":return o.jsx(Hte,{});case"parts-database":return o.jsx(ere,{});case"team-manager":return o.jsx(tre,{});case"community-manager":return o.jsx(rre,{});case"match-tracker":return o.jsx(Gte,{});case"tournament-manager":return o.jsx(Yte,{});case"user-management":return o.jsx(Xte,{});case"database":return o.jsx(Jte,{});default:return o.jsx(Rj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(II,{size:24})}),o.jsx(qI,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function ire(){return o.jsx(jI,{children:o.jsx(NI,{children:o.jsx(nre,{})})})}Uk(document.getElementById("root")).render(o.jsx(x.StrictMode,{children:o.jsx(ire,{})}));
