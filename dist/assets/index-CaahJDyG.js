var ED=Object.defineProperty;var CD=(e,t,r)=>t in e?ED(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nm=(e,t,r)=>CD(e,typeof t!="symbol"?t+"":t,r);function TD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function MD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var OP={exports:{}},Nf={},AP={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),DD=Symbol.for("react.portal"),RD=Symbol.for("react.fragment"),$D=Symbol.for("react.strict_mode"),ID=Symbol.for("react.profiler"),LD=Symbol.for("react.provider"),BD=Symbol.for("react.context"),FD=Symbol.for("react.forward_ref"),zD=Symbol.for("react.suspense"),UD=Symbol.for("react.memo"),WD=Symbol.for("react.lazy"),$b=Symbol.iterator;function VD(e){return e===null||typeof e!="object"?null:(e=$b&&e[$b]||e["@@iterator"],typeof e=="function"?e:null)}var EP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},CP=Object.assign,TP={};function po(e,t,r){this.props=e,this.context=t,this.refs=TP,this.updater=r||EP}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function MP(){}MP.prototype=po.prototype;function Uy(e,t,r){this.props=e,this.context=t,this.refs=TP,this.updater=r||EP}var Wy=Uy.prototype=new MP;Wy.constructor=Uy;CP(Wy,po.prototype);Wy.isPureReactComponent=!0;var Ib=Array.isArray,DP=Object.prototype.hasOwnProperty,Vy={current:null},RP={key:!0,ref:!0,__self:!0,__source:!0};function $P(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)DP.call(t,n)&&!RP.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:vc,type:e,key:s,ref:a,props:i,_owner:Vy.current}}function KD(e,t){return{$$typeof:vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ky(e){return typeof e=="object"&&e!==null&&e.$$typeof===vc}function HD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Lb=/\/+/g;function im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HD(""+e.key):t.toString(36)}function Bu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vc:case DD:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+im(a,0):n,Ib(i)?(r="",e!=null&&(r=e.replace(Lb,"$&/")+"/"),Bu(i,t,r,"",function(u){return u})):i!=null&&(Ky(i)&&(i=KD(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Lb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Ib(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+im(s,l);a+=Bu(s,t,r,c,i)}else if(c=VD(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+im(s,l++),a+=Bu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qc(e,t,r){if(e==null)return e;var n=[],i=0;return Bu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function qD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},Fu={transition:null},GD={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Vy};function IP(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Qc,forEach:function(e,t,r){Qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qc(e,function(){t++}),t},toArray:function(e){return Qc(e,function(t){return t})||[]},only:function(e){if(!Ky(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=po;ye.Fragment=RD;ye.Profiler=ID;ye.PureComponent=Uy;ye.StrictMode=$D;ye.Suspense=zD;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GD;ye.act=IP;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=CP({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Vy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)DP.call(t,c)&&!RP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vc,type:e.type,key:i,ref:s,props:n,_owner:a}};ye.createContext=function(e){return e={$$typeof:BD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:LD,_context:e},e.Consumer=e};ye.createElement=$P;ye.createFactory=function(e){var t=$P.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:FD,render:e}};ye.isValidElement=Ky;ye.lazy=function(e){return{$$typeof:WD,_payload:{_status:-1,_result:e},_init:qD}};ye.memo=function(e,t){return{$$typeof:UD,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};ye.unstable_act=IP;ye.useCallback=function(e,t){return Yt.current.useCallback(e,t)};ye.useContext=function(e){return Yt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Yt.current.useEffect(e,t)};ye.useId=function(){return Yt.current.useId()};ye.useImperativeHandle=function(e,t,r){return Yt.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Yt.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return Yt.current.useReducer(e,t,r)};ye.useRef=function(e){return Yt.current.useRef(e)};ye.useState=function(e){return Yt.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return Yt.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return Yt.current.useTransition()};ye.version="18.3.1";AP.exports=ye;var y=AP.exports;const ki=Kr(y),YD=TD({__proto__:null,default:ki},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XD=y,JD=Symbol.for("react.element"),QD=Symbol.for("react.fragment"),ZD=Object.prototype.hasOwnProperty,eR=XD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tR={key:!0,ref:!0,__self:!0,__source:!0};function LP(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)ZD.call(t,n)&&!tR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:JD,type:e,key:s,ref:a,props:i,_owner:eR.current}}Nf.Fragment=QD;Nf.jsx=LP;Nf.jsxs=LP;OP.exports=Nf;var o=OP.exports,BP={exports:{}},Pr={},FP={exports:{}},zP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,E){var K=k.length;k.push(E);e:for(;0<K;){var Y=K-1>>>1,J=k[Y];if(0<i(J,E))k[Y]=E,k[K]=J,K=Y;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var E=k[0],K=k.pop();if(K!==E){k[0]=K;e:for(var Y=0,J=k.length,xe=J>>>1;Y<xe;){var U=2*(Y+1)-1,B=k[U],Q=U+1,I=k[Q];if(0>i(B,K))Q<J&&0>i(I,B)?(k[Y]=I,k[Q]=K,Y=Q):(k[Y]=B,k[U]=K,Y=U);else if(Q<J&&0>i(I,K))k[Y]=I,k[Q]=K,Y=Q;else break e}}return E}function i(k,E){var K=k.sortIndex-E.sortIndex;return K!==0?K:k.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var E=r(u);E!==null;){if(E.callback===null)n(u);else if(E.startTime<=k)n(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(u)}}function j(k){if(x=!1,b(k),!g)if(r(c)!==null)g=!0,F(N);else{var E=r(u);E!==null&&W(j,E.startTime-k)}}function N(k,E){g=!1,x&&(x=!1,p(O),O=-1),m=!0;var K=h;try{for(b(E),f=r(c);f!==null&&(!(f.expirationTime>E)||k&&!C());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var J=Y(f.expirationTime<=E);E=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),b(E)}else n(c);f=r(c)}if(f!==null)var xe=!0;else{var U=r(u);U!==null&&W(j,U.startTime-E),xe=!1}return xe}finally{f=null,h=K,m=!1}}var S=!1,P=null,O=-1,D=5,T=-1;function C(){return!(e.unstable_now()-T<D)}function z(){if(P!==null){var k=e.unstable_now();T=k;var E=!0;try{E=P(!0,k)}finally{E?$():(S=!1,P=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(z)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,A=_.port2;_.port1.onmessage=z,$=function(){A.postMessage(null)}}else $=function(){w(z,0)};function F(k){P=k,S||(S=!0,$())}function W(k,E){O=w(function(){k(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var K=h;h=E;try{return k()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,E){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=h;h=k;try{return E()}finally{h=K}},e.unstable_scheduleCallback=function(k,E,K){var Y=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,k){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,k={id:d++,callback:E,priorityLevel:k,startTime:K,expirationTime:J,sortIndex:-1},K>Y?(k.sortIndex=K,t(u,k),r(c)===null&&k===r(u)&&(x?(p(O),O=-1):x=!0,W(j,K-Y))):(k.sortIndex=J,t(c,k),g||m||(g=!0,F(N))),k},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(k){var E=h;return function(){var K=h;h=E;try{return k.apply(this,arguments)}finally{h=K}}}})(zP);FP.exports=zP;var rR=FP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nR=y,br=rR;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var UP=new Set,Il={};function Hs(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Il[e]=t,e=0;e<t.length;e++)UP.add(t[e])}var Kn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=Object.prototype.hasOwnProperty,iR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Bb={},Fb={};function sR(e){return kp.call(Fb,e)?!0:kp.call(Bb,e)?!1:iR.test(e)?Fb[e]=!0:(Bb[e]=!0,!1)}function aR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function oR(e,t,r,n){if(t===null||typeof t>"u"||aR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Hy=/[\-:]([a-z])/g;function qy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Hy,qy);At[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Hy,qy);At[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Hy,qy);At[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gy(e,t,r,n){var i=At.hasOwnProperty(t)?At[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(oR(t,r,i,n)&&(r=null),n||i===null?sR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ni=nR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),ua=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),Op=Symbol.for("react.profiler"),WP=Symbol.for("react.provider"),VP=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Ap=Symbol.for("react.suspense"),Ep=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),KP=Symbol.for("react.offscreen"),zb=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=zb&&e[zb]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,sm;function ll(e){if(sm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sm=t&&t[1]||""}return`
`+sm+e}var am=!1;function om(e,t){if(!e||am)return"";am=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{am=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ll(e):""}function lR(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=om(e.type,!1),e;case 11:return e=om(e.type.render,!1),e;case 1:return e=om(e.type,!0),e;default:return""}}function Cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ua:return"Portal";case Op:return"Profiler";case Yy:return"StrictMode";case Ap:return"Suspense";case Ep:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case VP:return(e.displayName||"Context")+".Consumer";case WP:return(e._context.displayName||"Context")+".Provider";case Xy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jy:return t=e.displayName||null,t!==null?t:Cp(e.type)||"Memo";case vi:t=e._payload,e=e._init;try{return Cp(e(t))}catch{}}return null}function cR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(t);case 8:return t===Yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function HP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function uR(e){var t=HP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eu(e){e._valueTracker||(e._valueTracker=uR(e))}function qP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=HP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tp(e,t){var r=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ub(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function GP(e,t){t=t.checked,t!=null&&Gy(e,"checked",t,!1)}function Mp(e,t){GP(e,t);var r=Bi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Dp(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Wb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Dp(e,t,r){(t!=="number"||id(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cl=Array.isArray;function Ta(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Vb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(cl(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bi(r)}}function YP(e,t){var r=Bi(t.value),n=Bi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Kb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function XP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?XP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tu,JP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ll(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dR=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(e){dR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yl[t]=yl[e]})});function QP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yl.hasOwnProperty(e)&&yl[e]?(""+t).trim():t+"px"}function ZP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=QP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var fR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(e,t){if(t){if(fR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bp=null;function Qy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fp=null,Ma=null,Da=null;function Hb(e){if(e=wc(e)){if(typeof Fp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Of(t),Fp(e.stateNode,e.type,t))}}function e_(e){Ma?Da?Da.push(e):Da=[e]:Ma=e}function t_(){if(Ma){var e=Ma,t=Da;if(Da=Ma=null,Hb(e),t)for(e=0;e<t.length;e++)Hb(t[e])}}function r_(e,t){return e(t)}function n_(){}var lm=!1;function i_(e,t,r){if(lm)return e(t,r);lm=!0;try{return r_(e,t,r)}finally{lm=!1,(Ma!==null||Da!==null)&&(n_(),t_())}}function Bl(e,t){var r=e.stateNode;if(r===null)return null;var n=Of(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var zp=!1;if(Kn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){zp=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{zp=!1}function hR(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var vl=!1,sd=null,ad=!1,Up=null,mR={onError:function(e){vl=!0,sd=e}};function pR(e,t,r,n,i,s,a,l,c){vl=!1,sd=null,hR.apply(mR,arguments)}function gR(e,t,r,n,i,s,a,l,c){if(pR.apply(this,arguments),vl){if(vl){var u=sd;vl=!1,sd=null}else throw Error(G(198));ad||(ad=!0,Up=u)}}function qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function s_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qb(e){if(qs(e)!==e)throw Error(G(188))}function yR(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return qb(i),e;if(s===n)return qb(i),t;s=s.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function a_(e){return e=yR(e),e!==null?o_(e):null}function o_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=o_(e);if(t!==null)return t;e=e.sibling}return null}var l_=br.unstable_scheduleCallback,Gb=br.unstable_cancelCallback,vR=br.unstable_shouldYield,xR=br.unstable_requestPaint,nt=br.unstable_now,bR=br.unstable_getCurrentPriorityLevel,Zy=br.unstable_ImmediatePriority,c_=br.unstable_UserBlockingPriority,od=br.unstable_NormalPriority,wR=br.unstable_LowPriority,u_=br.unstable_IdlePriority,Sf=null,xn=null;function jR(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:PR,NR=Math.log,SR=Math.LN2;function PR(e){return e>>>=0,e===0?32:31-(NR(e)/SR|0)|0}var ru=64,nu=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ld(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=ul(l):(s&=a,s!==0&&(n=ul(s)))}else a=r&~i,a!==0?n=ul(a):s!==0&&(n=ul(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-on(t),i=1<<r,n|=e[r],t&=~i;return n}function _R(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-on(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=_R(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function d_(){var e=ru;return ru<<=1,!(ru&4194240)&&(ru=64),e}function cm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=r}function OR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-on(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function e0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-on(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Oe=0;function f_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var h_,t0,m_,p_,g_,Vp=!1,iu=[],Oi=null,Ai=null,Ei=null,Fl=new Map,zl=new Map,wi=[],AR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Yb(e,t){switch(e){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Vo(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=wc(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function ER(e,t,r,n,i){switch(t){case"focusin":return Oi=Vo(Oi,e,t,r,n,i),!0;case"dragenter":return Ai=Vo(Ai,e,t,r,n,i),!0;case"mouseover":return Ei=Vo(Ei,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Vo(Fl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zl.set(s,Vo(zl.get(s)||null,e,t,r,n,i)),!0}return!1}function y_(e){var t=gs(e.target);if(t!==null){var r=qs(t);if(r!==null){if(t=r.tag,t===13){if(t=s_(r),t!==null){e.blockedOn=t,g_(e.priority,function(){m_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bp=n,r.target.dispatchEvent(n),Bp=null}else return t=wc(r),t!==null&&t0(t),e.blockedOn=r,!1;t.shift()}return!0}function Xb(e,t,r){zu(e)&&r.delete(t)}function CR(){Vp=!1,Oi!==null&&zu(Oi)&&(Oi=null),Ai!==null&&zu(Ai)&&(Ai=null),Ei!==null&&zu(Ei)&&(Ei=null),Fl.forEach(Xb),zl.forEach(Xb)}function Ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,CR)))}function Ul(e){function t(i){return Ko(i,e)}if(0<iu.length){Ko(iu[0],e);for(var r=1;r<iu.length;r++){var n=iu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Oi!==null&&Ko(Oi,e),Ai!==null&&Ko(Ai,e),Ei!==null&&Ko(Ei,e),Fl.forEach(t),zl.forEach(t),r=0;r<wi.length;r++)n=wi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<wi.length&&(r=wi[0],r.blockedOn===null);)y_(r),r.blockedOn===null&&wi.shift()}var Ra=ni.ReactCurrentBatchConfig,cd=!0;function TR(e,t,r,n){var i=Oe,s=Ra.transition;Ra.transition=null;try{Oe=1,r0(e,t,r,n)}finally{Oe=i,Ra.transition=s}}function MR(e,t,r,n){var i=Oe,s=Ra.transition;Ra.transition=null;try{Oe=4,r0(e,t,r,n)}finally{Oe=i,Ra.transition=s}}function r0(e,t,r,n){if(cd){var i=Kp(e,t,r,n);if(i===null)xm(e,t,n,ud,r),Yb(e,n);else if(ER(i,e,t,r,n))n.stopPropagation();else if(Yb(e,n),t&4&&-1<AR.indexOf(e)){for(;i!==null;){var s=wc(i);if(s!==null&&h_(s),s=Kp(e,t,r,n),s===null&&xm(e,t,n,ud,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else xm(e,t,n,null,r)}}var ud=null;function Kp(e,t,r,n){if(ud=null,e=Qy(n),e=gs(e),e!==null)if(t=qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=s_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ud=e,null}function v_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case Zy:return 1;case c_:return 4;case od:case wR:return 16;case u_:return 536870912;default:return 16}default:return 16}}var Pi=null,n0=null,Uu=null;function x_(){if(Uu)return Uu;var e,t=n0,r=t.length,n,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Uu=i.slice(e,1<n?1-n:void 0)}function Wu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function su(){return!0}function Jb(){return!1}function _r(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?su:Jb,this.isPropagationStopped=Jb,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i0=_r(go),bc=qe({},go,{view:0,detail:0}),DR=_r(bc),um,dm,Ho,Pf=qe({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(um=e.screenX-Ho.screenX,dm=e.screenY-Ho.screenY):dm=um=0,Ho=e),um)},movementY:function(e){return"movementY"in e?e.movementY:dm}}),Qb=_r(Pf),RR=qe({},Pf,{dataTransfer:0}),$R=_r(RR),IR=qe({},bc,{relatedTarget:0}),fm=_r(IR),LR=qe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),BR=_r(LR),FR=qe({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),zR=_r(FR),UR=qe({},go,{data:0}),Zb=_r(UR),WR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=KR[e])?!!t[e]:!1}function s0(){return HR}var qR=qe({},bc,{key:function(e){if(e.key){var t=WR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(e){return e.type==="keypress"?Wu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),GR=_r(qR),YR=qe({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ew=_r(YR),XR=qe({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),JR=_r(XR),QR=qe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZR=_r(QR),e6=qe({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),t6=_r(e6),r6=[9,13,27,32],a0=Kn&&"CompositionEvent"in window,xl=null;Kn&&"documentMode"in document&&(xl=document.documentMode);var n6=Kn&&"TextEvent"in window&&!xl,b_=Kn&&(!a0||xl&&8<xl&&11>=xl),tw=" ",rw=!1;function w_(e,t){switch(e){case"keyup":return r6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function j_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function i6(e,t){switch(e){case"compositionend":return j_(t);case"keypress":return t.which!==32?null:(rw=!0,tw);case"textInput":return e=t.data,e===tw&&rw?null:e;default:return null}}function s6(e,t){if(fa)return e==="compositionend"||!a0&&w_(e,t)?(e=x_(),Uu=n0=Pi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return b_&&t.locale!=="ko"?null:t.data;default:return null}}var a6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a6[e.type]:t==="textarea"}function N_(e,t,r,n){e_(n),t=dd(t,"onChange"),0<t.length&&(r=new i0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bl=null,Wl=null;function o6(e){D_(e,0)}function _f(e){var t=pa(e);if(qP(t))return e}function l6(e,t){if(e==="change")return t}var S_=!1;if(Kn){var hm;if(Kn){var mm="oninput"in document;if(!mm){var iw=document.createElement("div");iw.setAttribute("oninput","return;"),mm=typeof iw.oninput=="function"}hm=mm}else hm=!1;S_=hm&&(!document.documentMode||9<document.documentMode)}function sw(){bl&&(bl.detachEvent("onpropertychange",P_),Wl=bl=null)}function P_(e){if(e.propertyName==="value"&&_f(Wl)){var t=[];N_(t,Wl,e,Qy(e)),i_(o6,t)}}function c6(e,t,r){e==="focusin"?(sw(),bl=t,Wl=r,bl.attachEvent("onpropertychange",P_)):e==="focusout"&&sw()}function u6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _f(Wl)}function d6(e,t){if(e==="click")return _f(t)}function f6(e,t){if(e==="input"||e==="change")return _f(t)}function h6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:h6;function Vl(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kp.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function aw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ow(e,t){var r=aw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=aw(r)}}function __(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?__(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function k_(){for(var e=window,t=id();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=id(e.document)}return t}function o0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function m6(e){var t=k_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&__(r.ownerDocument.documentElement,r)){if(n!==null&&o0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=ow(r,s);var a=ow(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p6=Kn&&"documentMode"in document&&11>=document.documentMode,ha=null,Hp=null,wl=null,qp=!1;function lw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;qp||ha==null||ha!==id(n)||(n=ha,"selectionStart"in n&&o0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wl&&Vl(wl,n)||(wl=n,n=dd(Hp,"onSelect"),0<n.length&&(t=new i0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ha)))}function au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ma={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},pm={},O_={};Kn&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function kf(e){if(pm[e])return pm[e];if(!ma[e])return e;var t=ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in O_)return pm[e]=t[r];return e}var A_=kf("animationend"),E_=kf("animationiteration"),C_=kf("animationstart"),T_=kf("transitionend"),M_=new Map,cw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){M_.set(e,t),Hs(t,[e])}for(var gm=0;gm<cw.length;gm++){var ym=cw[gm],g6=ym.toLowerCase(),y6=ym[0].toUpperCase()+ym.slice(1);Ki(g6,"on"+y6)}Ki(A_,"onAnimationEnd");Ki(E_,"onAnimationIteration");Ki(C_,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(T_,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v6=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function uw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gR(n,t,void 0,e),e.currentTarget=null}function D_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;uw(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;uw(i,l,u),s=c}}}if(ad)throw e=Up,ad=!1,Up=null,e}function Be(e,t){var r=t[Qp];r===void 0&&(r=t[Qp]=new Set);var n=e+"__bubble";r.has(n)||(R_(t,e,2,!1),r.add(n))}function vm(e,t,r){var n=0;t&&(n|=4),R_(r,e,n,t)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[ou]){e[ou]=!0,UP.forEach(function(r){r!=="selectionchange"&&(v6.has(r)||vm(r,!1,e),vm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ou]||(t[ou]=!0,vm("selectionchange",!1,t))}}function R_(e,t,r,n){switch(v_(t)){case 1:var i=TR;break;case 4:i=MR;break;default:i=r0}r=i.bind(null,t,r,e),i=void 0,!zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function xm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}i_(function(){var u=s,d=Qy(r),f=[];e:{var h=M_.get(e);if(h!==void 0){var m=i0,g=e;switch(e){case"keypress":if(Wu(r)===0)break e;case"keydown":case"keyup":m=GR;break;case"focusin":g="focus",m=fm;break;case"focusout":g="blur",m=fm;break;case"beforeblur":case"afterblur":m=fm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Qb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$R;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=JR;break;case A_:case E_:case C_:m=BR;break;case T_:m=ZR;break;case"scroll":m=DR;break;case"wheel":m=t6;break;case"copy":case"cut":case"paste":m=zR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ew}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,p!==null&&(j=Bl(v,p),j!=null&&x.push(Hl(v,j,b)))),w)break;v=v.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Bp&&(g=r.relatedTarget||r.fromElement)&&(gs(g)||g[Hn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?gs(g):null,g!==null&&(w=qs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=Qb,j="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=ew,j="onPointerLeave",p="onPointerEnter",v="pointer"),w=m==null?h:pa(m),b=g==null?h:pa(g),h=new x(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,gs(d)===u&&(x=new x(p,v+"enter",g,r,d),x.target=b,x.relatedTarget=w,j=x),w=j,m&&g)t:{for(x=m,p=g,v=0,b=x;b;b=ea(b))v++;for(b=0,j=p;j;j=ea(j))b++;for(;0<v-b;)x=ea(x),v--;for(;0<b-v;)p=ea(p),b--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=ea(x),p=ea(p)}x=null}else x=null;m!==null&&dw(f,h,m,x,!1),g!==null&&w!==null&&dw(f,w,g,x,!0)}}e:{if(h=u?pa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=l6;else if(nw(h))if(S_)N=f6;else{N=u6;var S=c6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=d6);if(N&&(N=N(e,u))){N_(f,N,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Dp(h,"number",h.value)}switch(S=u?pa(u):window,e){case"focusin":(nw(S)||S.contentEditable==="true")&&(ha=S,Hp=u,wl=null);break;case"focusout":wl=Hp=ha=null;break;case"mousedown":qp=!0;break;case"contextmenu":case"mouseup":case"dragend":qp=!1,lw(f,r,d);break;case"selectionchange":if(p6)break;case"keydown":case"keyup":lw(f,r,d)}var P;if(a0)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else fa?w_(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(b_&&r.locale!=="ko"&&(fa||O!=="onCompositionStart"?O==="onCompositionEnd"&&fa&&(P=x_()):(Pi=d,n0="value"in Pi?Pi.value:Pi.textContent,fa=!0)),S=dd(u,O),0<S.length&&(O=new Zb(O,e,null,r,d),f.push({event:O,listeners:S}),P?O.data=P:(P=j_(r),P!==null&&(O.data=P)))),(P=n6?i6(e,r):s6(e,r))&&(u=dd(u,"onBeforeInput"),0<u.length&&(d=new Zb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}D_(f,t)})}function Hl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bl(e,r),s!=null&&n.unshift(Hl(e,s,i)),s=Bl(e,t),s!=null&&n.push(Hl(e,s,i))),e=e.return}return n}function ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function dw(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Bl(r,s),c!=null&&a.unshift(Hl(r,c,l))):i||(c=Bl(r,s),c!=null&&a.push(Hl(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var x6=/\r\n?/g,b6=/\u0000|\uFFFD/g;function fw(e){return(typeof e=="string"?e:""+e).replace(x6,`
`).replace(b6,"")}function lu(e,t,r){if(t=fw(t),fw(e)!==t&&r)throw Error(G(425))}function fd(){}var Gp=null,Yp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jp=typeof setTimeout=="function"?setTimeout:void 0,w6=typeof clearTimeout=="function"?clearTimeout:void 0,hw=typeof Promise=="function"?Promise:void 0,j6=typeof queueMicrotask=="function"?queueMicrotask:typeof hw<"u"?function(e){return hw.resolve(null).then(e).catch(N6)}:Jp;function N6(e){setTimeout(function(){throw e})}function bm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ul(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ul(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function mw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),mn="__reactFiber$"+yo,ql="__reactProps$"+yo,Hn="__reactContainer$"+yo,Qp="__reactEvents$"+yo,S6="__reactListeners$"+yo,P6="__reactHandles$"+yo;function gs(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hn]||r[mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=mw(e);e!==null;){if(r=e[mn])return r;e=mw(e)}return t}e=r,r=e.parentNode}return null}function wc(e){return e=e[mn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Of(e){return e[ql]||null}var Zp=[],ga=-1;function Hi(e){return{current:e}}function ze(e){0>ga||(e.current=Zp[ga],Zp[ga]=null,ga--)}function Re(e,t){ga++,Zp[ga]=e.current,e.current=t}var Fi={},Lt=Hi(Fi),or=Hi(!1),$s=Fi;function Wa(e,t){var r=e.type.contextTypes;if(!r)return Fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function lr(e){return e=e.childContextTypes,e!=null}function hd(){ze(or),ze(Lt)}function pw(e,t,r){if(Lt.current!==Fi)throw Error(G(168));Re(Lt,t),Re(or,r)}function $_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,cR(e)||"Unknown",i));return qe({},r,n)}function md(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,$s=Lt.current,Re(Lt,e),Re(or,or.current),!0}function gw(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=$_(e,t,$s),n.__reactInternalMemoizedMergedChildContext=e,ze(or),ze(Lt),Re(Lt,e)):ze(or),Re(or,r)}var Rn=null,Af=!1,wm=!1;function I_(e){Rn===null?Rn=[e]:Rn.push(e)}function _6(e){Af=!0,I_(e)}function qi(){if(!wm&&Rn!==null){wm=!0;var e=0,t=Oe;try{var r=Rn;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Rn=null,Af=!1}catch(i){throw Rn!==null&&(Rn=Rn.slice(e+1)),l_(Zy,qi),i}finally{Oe=t,wm=!1}}return null}var ya=[],va=0,pd=null,gd=0,Dr=[],Rr=0,Is=null,In=1,Ln="";function ls(e,t){ya[va++]=gd,ya[va++]=pd,pd=e,gd=t}function L_(e,t,r){Dr[Rr++]=In,Dr[Rr++]=Ln,Dr[Rr++]=Is,Is=e;var n=In;e=Ln;var i=32-on(n)-1;n&=~(1<<i),r+=1;var s=32-on(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,In=1<<32-on(t)+i|r<<i|n,Ln=s+e}else In=1<<s|r<<i|n,Ln=e}function l0(e){e.return!==null&&(ls(e,1),L_(e,1,0))}function c0(e){for(;e===pd;)pd=ya[--va],ya[va]=null,gd=ya[--va],ya[va]=null;for(;e===Is;)Is=Dr[--Rr],Dr[Rr]=null,Ln=Dr[--Rr],Dr[Rr]=null,In=Dr[--Rr],Dr[Rr]=null}var vr=null,yr=null,Ue=!1,rn=null;function B_(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function yw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,yr=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:In,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,yr=null,!0):!1;default:return!1}}function eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tg(e){if(Ue){var t=yr;if(t){var r=t;if(!yw(e,t)){if(eg(e))throw Error(G(418));t=Ci(r.nextSibling);var n=vr;t&&yw(e,t)?B_(n,r):(e.flags=e.flags&-4097|2,Ue=!1,vr=e)}}else{if(eg(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,vr=e}}}function vw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function cu(e){if(e!==vr)return!1;if(!Ue)return vw(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=yr)){if(eg(e))throw F_(),Error(G(418));for(;t;)B_(e,t),t=Ci(t.nextSibling)}if(vw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=vr?Ci(e.stateNode.nextSibling):null;return!0}function F_(){for(var e=yr;e;)e=Ci(e.nextSibling)}function Va(){yr=vr=null,Ue=!1}function u0(e){rn===null?rn=[e]:rn.push(e)}var k6=ni.ReactCurrentBatchConfig;function qo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function uu(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xw(e){var t=e._init;return t(e._payload)}function z_(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=Ri(p,v),p.index=0,p.sibling=null,p}function s(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,j){return v===null||v.tag!==6?(v=Om(b,p.mode,j),v.return=p,v):(v=i(v,b),v.return=p,v)}function c(p,v,b,j){var N=b.type;return N===da?d(p,v,b.props.children,j,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vi&&xw(N)===v.type)?(j=i(v,b.props),j.ref=qo(p,v,b),j.return=p,j):(j=Xu(b.type,b.key,b.props,null,p.mode,j),j.ref=qo(p,v,b),j.return=p,j)}function u(p,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Am(b,p.mode,j),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function d(p,v,b,j,N){return v===null||v.tag!==7?(v=ks(b,p.mode,j,N),v.return=p,v):(v=i(v,b),v.return=p,v)}function f(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Om(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zc:return b=Xu(v.type,v.key,v.props,null,p.mode,b),b.ref=qo(p,null,v),b.return=p,b;case ua:return v=Am(v,p.mode,b),v.return=p,v;case vi:var j=v._init;return f(p,j(v._payload),b)}if(cl(v)||Uo(v))return v=ks(v,p.mode,b,null),v.return=p,v;uu(p,v)}return null}function h(p,v,b,j){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(p,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return b.key===N?c(p,v,b,j):null;case ua:return b.key===N?u(p,v,b,j):null;case vi:return N=b._init,h(p,v,N(b._payload),j)}if(cl(b)||Uo(b))return N!==null?null:d(p,v,b,j,null);uu(p,b)}return null}function m(p,v,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(b)||null,l(v,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zc:return p=p.get(j.key===null?b:j.key)||null,c(v,p,j,N);case ua:return p=p.get(j.key===null?b:j.key)||null,u(v,p,j,N);case vi:var S=j._init;return m(p,v,b,S(j._payload),N)}if(cl(j)||Uo(j))return p=p.get(b)||null,d(v,p,j,N,null);uu(v,j)}return null}function g(p,v,b,j){for(var N=null,S=null,P=v,O=v=0,D=null;P!==null&&O<b.length;O++){P.index>O?(D=P,P=null):D=P.sibling;var T=h(p,P,b[O],j);if(T===null){P===null&&(P=D);break}e&&P&&T.alternate===null&&t(p,P),v=s(T,v,O),S===null?N=T:S.sibling=T,S=T,P=D}if(O===b.length)return r(p,P),Ue&&ls(p,O),N;if(P===null){for(;O<b.length;O++)P=f(p,b[O],j),P!==null&&(v=s(P,v,O),S===null?N=P:S.sibling=P,S=P);return Ue&&ls(p,O),N}for(P=n(p,P);O<b.length;O++)D=m(P,p,O,b[O],j),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?O:D.key),v=s(D,v,O),S===null?N=D:S.sibling=D,S=D);return e&&P.forEach(function(C){return t(p,C)}),Ue&&ls(p,O),N}function x(p,v,b,j){var N=Uo(b);if(typeof N!="function")throw Error(G(150));if(b=N.call(b),b==null)throw Error(G(151));for(var S=N=null,P=v,O=v=0,D=null,T=b.next();P!==null&&!T.done;O++,T=b.next()){P.index>O?(D=P,P=null):D=P.sibling;var C=h(p,P,T.value,j);if(C===null){P===null&&(P=D);break}e&&P&&C.alternate===null&&t(p,P),v=s(C,v,O),S===null?N=C:S.sibling=C,S=C,P=D}if(T.done)return r(p,P),Ue&&ls(p,O),N;if(P===null){for(;!T.done;O++,T=b.next())T=f(p,T.value,j),T!==null&&(v=s(T,v,O),S===null?N=T:S.sibling=T,S=T);return Ue&&ls(p,O),N}for(P=n(p,P);!T.done;O++,T=b.next())T=m(P,p,O,T.value,j),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?O:T.key),v=s(T,v,O),S===null?N=T:S.sibling=T,S=T);return e&&P.forEach(function(z){return t(p,z)}),Ue&&ls(p,O),N}function w(p,v,b,j){if(typeof b=="object"&&b!==null&&b.type===da&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:e:{for(var N=b.key,S=v;S!==null;){if(S.key===N){if(N=b.type,N===da){if(S.tag===7){r(p,S.sibling),v=i(S,b.props.children),v.return=p,p=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===vi&&xw(N)===S.type){r(p,S.sibling),v=i(S,b.props),v.ref=qo(p,S,b),v.return=p,p=v;break e}r(p,S);break}else t(p,S);S=S.sibling}b.type===da?(v=ks(b.props.children,p.mode,j,b.key),v.return=p,p=v):(j=Xu(b.type,b.key,b.props,null,p.mode,j),j.ref=qo(p,v,b),j.return=p,p=j)}return a(p);case ua:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=Am(b,p.mode,j),v.return=p,p=v}return a(p);case vi:return S=b._init,w(p,v,S(b._payload),j)}if(cl(b))return g(p,v,b,j);if(Uo(b))return x(p,v,b,j);uu(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=i(v,b),v.return=p,p=v):(r(p,v),v=Om(b,p.mode,j),v.return=p,p=v),a(p)):r(p,v)}return w}var Ka=z_(!0),U_=z_(!1),yd=Hi(null),vd=null,xa=null,d0=null;function f0(){d0=xa=vd=null}function h0(e){var t=yd.current;ze(yd),e._currentValue=t}function rg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $a(e,t){vd=e,d0=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(d0!==e)if(e={context:e,memoizedValue:t,next:null},xa===null){if(vd===null)throw Error(G(308));xa=e,vd.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ys=null;function m0(e){ys===null?ys=[e]:ys.push(e)}function W_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,m0(t)):(r.next=i.next,i.next=r),t.interleaved=r,qn(e,n)}function qn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var xi=!1;function p0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function V_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,qn(e,r)}return i=n.interleaved,i===null?(t.next=t,m0(n)):(t.next=i.next,i.next=t),n.interleaved=t,qn(e,r)}function Vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e0(e,r)}}function bw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xd(e,t,r,n){var i=e.updateQueue;xi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=qe({},f,h);break e;case 2:xi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function ww(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var jc={},bn=Hi(jc),Gl=Hi(jc),Yl=Hi(jc);function vs(e){if(e===jc)throw Error(G(174));return e}function g0(e,t){switch(Re(Yl,t),Re(Gl,e),Re(bn,jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$p(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$p(t,e)}ze(bn),Re(bn,t)}function Ha(){ze(bn),ze(Gl),ze(Yl)}function K_(e){vs(Yl.current);var t=vs(bn.current),r=$p(t,e.type);t!==r&&(Re(Gl,e),Re(bn,r))}function y0(e){Gl.current===e&&(ze(bn),ze(Gl))}var Ve=Hi(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jm=[];function v0(){for(var e=0;e<jm.length;e++)jm[e]._workInProgressVersionPrimary=null;jm.length=0}var Ku=ni.ReactCurrentDispatcher,Nm=ni.ReactCurrentBatchConfig,Ls=0,He=null,dt=null,bt=null,wd=!1,jl=!1,Xl=0,O6=0;function Et(){throw Error(G(321))}function x0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function b0(e,t,r,n,i,s){if(Ls=s,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.current=e===null||e.memoizedState===null?T6:M6,e=r(n,i),jl){s=0;do{if(jl=!1,Xl=0,25<=s)throw Error(G(301));s+=1,bt=dt=null,t.updateQueue=null,Ku.current=D6,e=r(n,i)}while(jl)}if(Ku.current=jd,t=dt!==null&&dt.next!==null,Ls=0,bt=dt=He=null,wd=!1,t)throw Error(G(300));return e}function w0(){var e=Xl!==0;return Xl=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?He.memoizedState=bt=e:bt=bt.next=e,bt}function Ur(){if(dt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=bt===null?He.memoizedState:bt.next;if(t!==null)bt=t,dt=e;else{if(e===null)throw Error(G(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},bt===null?He.memoizedState=bt=e:bt=bt.next=e}return bt}function Jl(e,t){return typeof t=="function"?t(e):t}function Sm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=dt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,He.lanes|=d,Bs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,cn(n,t.memoizedState)||(ir=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,He.lanes|=s,Bs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);cn(s,t.memoizedState)||(ir=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function H_(){}function q_(e,t){var r=He,n=Ur(),i=t(),s=!cn(n.memoizedState,i);if(s&&(n.memoizedState=i,ir=!0),n=n.queue,j0(X_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Ql(9,Y_.bind(null,r,n,i,t),void 0,null),jt===null)throw Error(G(349));Ls&30||G_(r,t,i)}return i}function G_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Y_(e,t,r,n){t.value=r,t.getSnapshot=n,J_(t)&&Q_(e)}function X_(e,t,r){return r(function(){J_(t)&&Q_(e)})}function J_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cn(e,r)}catch{return!0}}function Q_(e){var t=qn(e,1);t!==null&&ln(t,e,1,-1)}function jw(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t.queue=e,e=e.dispatch=C6.bind(null,He,e),[t.memoizedState,e]}function Ql(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Z_(){return Ur().memoizedState}function Hu(e,t,r,n){var i=hn();He.flags|=e,i.memoizedState=Ql(1|t,r,void 0,n===void 0?null:n)}function Ef(e,t,r,n){var i=Ur();n=n===void 0?null:n;var s=void 0;if(dt!==null){var a=dt.memoizedState;if(s=a.destroy,n!==null&&x0(n,a.deps)){i.memoizedState=Ql(t,r,s,n);return}}He.flags|=e,i.memoizedState=Ql(1|t,r,s,n)}function Nw(e,t){return Hu(8390656,8,e,t)}function j0(e,t){return Ef(2048,8,e,t)}function ek(e,t){return Ef(4,2,e,t)}function tk(e,t){return Ef(4,4,e,t)}function rk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nk(e,t,r){return r=r!=null?r.concat([e]):null,Ef(4,4,rk.bind(null,t,e),r)}function N0(){}function ik(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sk(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ak(e,t,r){return Ls&21?(cn(r,t)||(r=d_(),He.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=r)}function A6(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=Nm.transition;Nm.transition={};try{e(!1),t()}finally{Oe=r,Nm.transition=n}}function ok(){return Ur().memoizedState}function E6(e,t,r){var n=Di(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lk(e))ck(t,r);else if(r=W_(e,t,r,n),r!==null){var i=Ht();ln(r,e,n,i),uk(r,t,n)}}function C6(e,t,r){var n=Di(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lk(e))ck(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,cn(l,a)){var c=t.interleaved;c===null?(i.next=i,m0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=W_(e,t,i,n),r!==null&&(i=Ht(),ln(r,e,n,i),uk(r,t,n))}}function lk(e){var t=e.alternate;return e===He||t!==null&&t===He}function ck(e,t){jl=wd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e0(e,r)}}var jd={readContext:zr,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},T6={readContext:zr,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:Nw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hu(4194308,4,rk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hu(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=E6.bind(null,He,e),[n.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:jw,useDebugValue:N0,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=jw(!1),t=e[0];return e=A6.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=He,i=hn();if(Ue){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),jt===null)throw Error(G(349));Ls&30||G_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Nw(X_.bind(null,n,s,e),[e]),n.flags|=2048,Ql(9,Y_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=hn(),t=jt.identifierPrefix;if(Ue){var r=Ln,n=In;r=(n&~(1<<32-on(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=O6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},M6={readContext:zr,useCallback:ik,useContext:zr,useEffect:j0,useImperativeHandle:nk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:sk,useReducer:Sm,useRef:Z_,useState:function(){return Sm(Jl)},useDebugValue:N0,useDeferredValue:function(e){var t=Ur();return ak(t,dt.memoizedState,e)},useTransition:function(){var e=Sm(Jl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:q_,useId:ok,unstable_isNewReconciler:!1},D6={readContext:zr,useCallback:ik,useContext:zr,useEffect:j0,useImperativeHandle:nk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:sk,useReducer:Pm,useRef:Z_,useState:function(){return Pm(Jl)},useDebugValue:N0,useDeferredValue:function(e){var t=Ur();return dt===null?t.memoizedState=e:ak(t,dt.memoizedState,e)},useTransition:function(){var e=Pm(Jl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:H_,useSyncExternalStore:q_,useId:ok,unstable_isNewReconciler:!1};function Zr(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ng(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=Di(e),s=zn(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ti(e,s,i),t!==null&&(ln(t,e,i,n),Vu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=Di(e),s=zn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ti(e,s,i),t!==null&&(ln(t,e,i,n),Vu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),n=Di(e),i=zn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,n),t!==null&&(ln(t,e,n,r),Vu(t,e,n))}};function Sw(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Vl(r,n)||!Vl(i,s):!0}function dk(e,t,r){var n=!1,i=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=lr(t)?$s:Lt.current,n=t.contextTypes,s=(n=n!=null)?Wa(e,i):Fi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Pw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function ig(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},p0(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=lr(t)?$s:Lt.current,i.context=Wa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ng(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cf.enqueueReplaceState(i,i.state,null),xd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qa(e,t){try{var r="",n=t;do r+=lR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function _m(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var R6=typeof WeakMap=="function"?WeakMap:Map;function fk(e,t,r){r=zn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Sd||(Sd=!0,pg=n),sg(e,t)},r}function hk(e,t,r){r=zn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){sg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sg(e,t),typeof n!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function _w(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new R6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Y6.bind(null,e,t,r),t.then(e,e))}function kw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ow(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=zn(-1,1),t.tag=2,Ti(r,t,1))),r.lanes|=1),e)}var $6=ni.ReactCurrentOwner,ir=!1;function Ut(e,t,r,n){t.child=e===null?U_(t,null,r,n):Ka(t,e.child,r,n)}function Aw(e,t,r,n,i){r=r.render;var s=t.ref;return $a(t,i),n=b0(e,t,r,n,s,i),r=w0(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gn(e,t,i)):(Ue&&r&&l0(t),t.flags|=1,Ut(e,t,n,i),t.child)}function Ew(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,mk(e,t,s,n,i)):(e=Xu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(a,n)&&e.ref===t.ref)return Gn(e,t,i)}return t.flags|=1,e=Ri(s,n),e.ref=t.ref,e.return=t,t.child=e}function mk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Vl(s,n)&&e.ref===t.ref)if(ir=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,Gn(e,t,i)}return ag(e,t,r,n,i)}function pk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(wa,pr),pr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(wa,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Re(wa,pr),pr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Re(wa,pr),pr|=n;return Ut(e,t,i,r),t.child}function gk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ag(e,t,r,n,i){var s=lr(r)?$s:Lt.current;return s=Wa(t,s),$a(t,i),r=b0(e,t,r,n,s,i),n=w0(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Gn(e,t,i)):(Ue&&n&&l0(t),t.flags|=1,Ut(e,t,r,i),t.child)}function Cw(e,t,r,n,i){if(lr(r)){var s=!0;md(t)}else s=!1;if($a(t,i),t.stateNode===null)qu(e,t),dk(t,r,n),ig(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=lr(r)?$s:Lt.current,u=Wa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Pw(t,a,n,u),xi=!1;var h=t.memoizedState;a.state=h,xd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||or.current||xi?(typeof d=="function"&&(ng(t,r,d,n),c=t.memoizedState),(l=xi||Sw(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,V_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=lr(r)?$s:Lt.current,c=Wa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Pw(t,a,n,c),xi=!1,h=t.memoizedState,a.state=h,xd(t,n,a,i);var g=t.memoizedState;l!==f||h!==g||or.current||xi?(typeof m=="function"&&(ng(t,r,m,n),g=t.memoizedState),(u=xi||Sw(t,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return og(e,t,r,n,s,i)}function og(e,t,r,n,i,s){gk(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&gw(t,r,!1),Gn(e,t,s);n=t.stateNode,$6.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ka(t,e.child,null,s),t.child=Ka(t,null,l,s)):Ut(e,t,l,s),t.memoizedState=n.state,i&&gw(t,r,!0),t.child}function yk(e){var t=e.stateNode;t.pendingContext?pw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&pw(e,t.context,!1),g0(e,t.containerInfo)}function Tw(e,t,r,n,i){return Va(),u0(i),t.flags|=256,Ut(e,t,r,n),t.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function vk(e,t,r){var n=t.pendingProps,i=Ve.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Re(Ve,i&1),e===null)return tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Df(a,n,0,null),e=ks(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cg(r),t.memoizedState=lg,e):S0(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return I6(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ri(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ri(l,s):(s=ks(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?cg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=lg,n}return s=e.child,e=s.sibling,n=Ri(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function S0(e,t){return t=Df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function du(e,t,r,n){return n!==null&&u0(n),Ka(t,e.child,null,r),e=S0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function I6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=_m(Error(G(422))),du(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Df({mode:"visible",children:n.children},i,0,null),s=ks(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ka(t,e.child,null,a),t.child.memoizedState=cg(a),t.memoizedState=lg,s);if(!(t.mode&1))return du(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(G(419)),n=_m(s,n,void 0),du(e,t,a,n)}if(l=(a&e.childLanes)!==0,ir||l){if(n=jt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qn(e,i),ln(n,e,i,-1))}return E0(),n=_m(Error(G(421))),du(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=X6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yr=Ci(i.nextSibling),vr=t,Ue=!0,rn=null,e!==null&&(Dr[Rr++]=In,Dr[Rr++]=Ln,Dr[Rr++]=Is,In=e.id,Ln=e.overflow,Is=t),t=S0(t,n.children),t.flags|=4096,t)}function Mw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rg(e.return,t,r)}function km(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function xk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ut(e,t,n.children,r),n=Ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mw(e,r,t);else if(e.tag===19)Mw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Ve,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&bd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),km(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}km(t,!0,r,null,s);break;case"together":km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Ri(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ri(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function L6(e,t,r){switch(t.tag){case 3:yk(t),Va();break;case 5:K_(t);break;case 1:lr(t.type)&&md(t);break;case 4:g0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Re(yd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Ve,Ve.current&1),t.flags|=128,null):r&t.child.childLanes?vk(e,t,r):(Re(Ve,Ve.current&1),e=Gn(e,t,r),e!==null?e.sibling:null);Re(Ve,Ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Ve,Ve.current),n)break;return null;case 22:case 23:return t.lanes=0,pk(e,t,r)}return Gn(e,t,r)}var bk,ug,wk,jk;bk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ug=function(){};wk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vs(bn.current);var s=null;switch(r){case"input":i=Tp(e,i),n=Tp(e,n),s=[];break;case"select":i=qe({},i,{value:void 0}),n=qe({},n,{value:void 0}),s=[];break;case"textarea":i=Rp(e,i),n=Rp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fd)}Ip(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};jk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Go(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function B6(e,t,r){var n=t.pendingProps;switch(c0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return lr(t.type)&&hd(),Ct(t),null;case 3:return n=t.stateNode,Ha(),ze(or),ze(Lt),v0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(vg(rn),rn=null))),ug(e,t),Ct(t),null;case 5:y0(t);var i=vs(Yl.current);if(r=t.type,e!==null&&t.stateNode!=null)wk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Ct(t),null}if(e=vs(bn.current),cu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[mn]=t,n[ql]=s,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<dl.length;i++)Be(dl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Ub(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":Vb(n,s),Be("invalid",n)}Ip(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&lu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&lu(n.textContent,l,e),i=["children",""+l]):Il.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",n)}switch(r){case"input":eu(n),Wb(n,s,!0);break;case"textarea":eu(n),Kb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=XP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[mn]=t,e[ql]=n,bk(e,t,!1,!1),t.stateNode=e;e:{switch(a=Lp(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<dl.length;i++)Be(dl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":Ub(e,n),i=Tp(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=qe({},n,{value:void 0}),Be("invalid",e);break;case"textarea":Vb(e,n),i=Rp(e,n),Be("invalid",e);break;default:i=n}Ip(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?ZP(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&JP(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ll(e,c):typeof c=="number"&&Ll(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&Gy(e,s,c,a))}switch(r){case"input":eu(e),Wb(e,n,!1);break;case"textarea":eu(e),Kb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ta(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ta(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)jk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=vs(Yl.current),vs(bn.current),cu(t)){if(n=t.stateNode,r=t.memoizedProps,n[mn]=t,(s=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:lu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lu(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mn]=t,t.stateNode=n}return Ct(t),null;case 13:if(ze(Ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&yr!==null&&t.mode&1&&!(t.flags&128))F_(),Va(),t.flags|=98560,s=!1;else if(s=cu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[mn]=t}else Va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else rn!==null&&(vg(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?ft===0&&(ft=3):E0())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Ha(),ug(e,t),e===null&&Kl(t.stateNode.containerInfo),Ct(t),null;case 10:return h0(t.type._context),Ct(t),null;case 17:return lr(t.type)&&hd(),Ct(t),null;case 19:if(ze(Ve),s=t.memoizedState,s===null)return Ct(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Go(s,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bd(e),a!==null){for(t.flags|=128,Go(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Ve,Ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Ga&&(t.flags|=128,n=!0,Go(s,!1),t.lanes=4194304)}else{if(!n)if(e=bd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ue)return Ct(t),null}else 2*nt()-s.renderingStartTime>Ga&&r!==1073741824&&(t.flags|=128,n=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,r=Ve.current,Re(Ve,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return A0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function F6(e,t){switch(c0(t),t.tag){case 1:return lr(t.type)&&hd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(),ze(or),ze(Lt),v0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y0(t),null;case 13:if(ze(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ve),null;case 4:return Ha(),null;case 10:return h0(t.type._context),null;case 22:case 23:return A0(),null;case 24:return null;default:return null}}var fu=!1,Dt=!1,z6=typeof WeakSet=="function"?WeakSet:Set,se=null;function ba(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Dw=!1;function U6(e,t){if(Gp=cd,e=k_(),o0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yp={focusedElem:e,selectionRange:r},cd=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Zr(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return g=Dw,Dw=!1,g}function Nl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dg(t,r,s)}i=i.next}while(i!==n)}}function Tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nk(e){var t=e.alternate;t!==null&&(e.alternate=null,Nk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[ql],delete t[Qp],delete t[S6],delete t[P6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sk(e){return e.tag===5||e.tag===3||e.tag===4}function Rw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fd));else if(n!==4&&(e=e.child,e!==null))for(hg(e,t,r),e=e.sibling;e!==null;)hg(e,t,r),e=e.sibling}function mg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}var _t=null,en=!1;function di(e,t,r){for(r=r.child;r!==null;)Pk(e,t,r),r=r.sibling}function Pk(e,t,r){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:Dt||ba(r,t);case 6:var n=_t,i=en;_t=null,di(e,t,r),_t=n,en=i,_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?bm(e.parentNode,r):e.nodeType===1&&bm(e,r),Ul(e)):bm(_t,r.stateNode));break;case 4:n=_t,i=en,_t=r.stateNode.containerInfo,en=!0,di(e,t,r),_t=n,en=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dg(r,t,a),i=i.next}while(i!==n)}di(e,t,r);break;case 1:if(!Dt&&(ba(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}di(e,t,r);break;case 21:di(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,di(e,t,r),Dt=n):di(e,t,r);break;default:di(e,t,r)}}function $w(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new z6),t.forEach(function(n){var i=J6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,en=!1;break e;case 3:_t=l.stateNode.containerInfo,en=!0;break e;case 4:_t=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(_t===null)throw Error(G(160));Pk(s,a,i),_t=null,en=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_k(t,e),t=t.sibling}function _k(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),fn(e),n&4){try{Nl(3,e,e.return),Tf(3,e)}catch(x){Qe(e,e.return,x)}try{Nl(5,e,e.return)}catch(x){Qe(e,e.return,x)}}break;case 1:Xr(t,e),fn(e),n&512&&r!==null&&ba(r,r.return);break;case 5:if(Xr(t,e),fn(e),n&512&&r!==null&&ba(r,r.return),e.flags&32){var i=e.stateNode;try{Ll(i,"")}catch(x){Qe(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&GP(i,s),Lp(l,a);var u=Lp(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?ZP(i,f):d==="dangerouslySetInnerHTML"?JP(i,f):d==="children"?Ll(i,f):Gy(i,d,f,u)}switch(l){case"input":Mp(i,s);break;case"textarea":YP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ta(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ta(i,!!s.multiple,s.defaultValue,!0):Ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[ql]=s}catch(x){Qe(e,e.return,x)}}break;case 6:if(Xr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Qe(e,e.return,x)}}break;case 3:if(Xr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(t.containerInfo)}catch(x){Qe(e,e.return,x)}break;case 4:Xr(t,e),fn(e);break;case 13:Xr(t,e),fn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k0=nt())),n&4&&$w(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||d,Xr(t,e),Dt=u):Xr(t,e),fn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Nl(4,h,h.return);break;case 1:ba(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Qe(n,r,x)}}break;case 5:ba(h,h.return);break;case 22:if(h.memoizedState!==null){Lw(f);continue}}m!==null?(m.return=h,se=m):Lw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QP("display",a))}catch(x){Qe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Qe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,e),fn(e),n&4&&$w(e);break;case 21:break;default:Xr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sk(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ll(i,""),n.flags&=-33);var s=Rw(e);mg(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Rw(e);hg(e,l,a);break;default:throw Error(G(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function W6(e,t,r){se=e,kk(e)}function kk(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||fu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=fu;var u=Dt;if(fu=a,(Dt=c)&&!u)for(se=i;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?Bw(i):c!==null?(c.return=a,se=c):Bw(i);for(;s!==null;)se=s,kk(s),s=s.sibling;se=i,fu=l,Dt=u}Iw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Iw(e)}}function Iw(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Tf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Zr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&ww(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ww(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Dt||t.flags&512&&fg(t)}catch(h){Qe(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Lw(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Bw(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tf(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Qe(t,i,c)}}var s=t.return;try{fg(t)}catch(c){Qe(t,s,c)}break;case 5:var a=t.return;try{fg(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var V6=Math.ceil,Nd=ni.ReactCurrentDispatcher,P0=ni.ReactCurrentOwner,Br=ni.ReactCurrentBatchConfig,we=0,jt=null,ot=null,Ot=0,pr=0,wa=Hi(0),ft=0,Zl=null,Bs=0,Mf=0,_0=0,Sl=null,tr=null,k0=0,Ga=1/0,Tn=null,Sd=!1,pg=null,Mi=null,hu=!1,_i=null,Pd=0,Pl=0,gg=null,Gu=-1,Yu=0;function Ht(){return we&6?nt():Gu!==-1?Gu:Gu=nt()}function Di(e){return e.mode&1?we&2&&Ot!==0?Ot&-Ot:k6.transition!==null?(Yu===0&&(Yu=d_()),Yu):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:v_(e.type)),e):1}function ln(e,t,r,n){if(50<Pl)throw Pl=0,gg=null,Error(G(185));xc(e,r,n),(!(we&2)||e!==jt)&&(e===jt&&(!(we&2)&&(Mf|=r),ft===4&&ji(e,Ot)),cr(e,n),r===1&&we===0&&!(t.mode&1)&&(Ga=nt()+500,Af&&qi()))}function cr(e,t){var r=e.callbackNode;kR(e,t);var n=ld(e,e===jt?Ot:0);if(n===0)r!==null&&Gb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Gb(r),t===1)e.tag===0?_6(Fw.bind(null,e)):I_(Fw.bind(null,e)),j6(function(){!(we&6)&&qi()}),r=null;else{switch(f_(n)){case 1:r=Zy;break;case 4:r=c_;break;case 16:r=od;break;case 536870912:r=u_;break;default:r=od}r=Rk(r,Ok.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ok(e,t){if(Gu=-1,Yu=0,we&6)throw Error(G(327));var r=e.callbackNode;if(Ia()&&e.callbackNode!==r)return null;var n=ld(e,e===jt?Ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_d(e,n);else{t=n;var i=we;we|=2;var s=Ek();(jt!==e||Ot!==t)&&(Tn=null,Ga=nt()+500,_s(e,t));do try{q6();break}catch(l){Ak(e,l)}while(!0);f0(),Nd.current=s,we=i,ot!==null?t=0:(jt=null,Ot=0,t=ft)}if(t!==0){if(t===2&&(i=Wp(e),i!==0&&(n=i,t=yg(e,i))),t===1)throw r=Zl,_s(e,0),ji(e,n),cr(e,nt()),r;if(t===6)ji(e,n);else{if(i=e.current.alternate,!(n&30)&&!K6(i)&&(t=_d(e,n),t===2&&(s=Wp(e),s!==0&&(n=s,t=yg(e,s))),t===1))throw r=Zl,_s(e,0),ji(e,n),cr(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:cs(e,tr,Tn);break;case 3:if(ji(e,n),(n&130023424)===n&&(t=k0+500-nt(),10<t)){if(ld(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jp(cs.bind(null,e,tr,Tn),t);break}cs(e,tr,Tn);break;case 4:if(ji(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-on(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*V6(n/1960))-n,10<n){e.timeoutHandle=Jp(cs.bind(null,e,tr,Tn),n);break}cs(e,tr,Tn);break;case 5:cs(e,tr,Tn);break;default:throw Error(G(329))}}}return cr(e,nt()),e.callbackNode===r?Ok.bind(null,e):null}function yg(e,t){var r=Sl;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=_d(e,t),e!==2&&(t=tr,tr=r,t!==null&&vg(t)),e}function vg(e){tr===null?tr=e:tr.push.apply(tr,e)}function K6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ji(e,t){for(t&=~_0,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-on(t),n=1<<r;e[r]=-1,t&=~n}}function Fw(e){if(we&6)throw Error(G(327));Ia();var t=ld(e,0);if(!(t&1))return cr(e,nt()),null;var r=_d(e,t);if(e.tag!==0&&r===2){var n=Wp(e);n!==0&&(t=n,r=yg(e,n))}if(r===1)throw r=Zl,_s(e,0),ji(e,t),cr(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,tr,Tn),cr(e,nt()),null}function O0(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Ga=nt()+500,Af&&qi())}}function Fs(e){_i!==null&&_i.tag===0&&!(we&6)&&Ia();var t=we;we|=1;var r=Br.transition,n=Oe;try{if(Br.transition=null,Oe=1,e)return e()}finally{Oe=n,Br.transition=r,we=t,!(we&6)&&qi()}}function A0(){pr=wa.current,ze(wa)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,w6(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(c0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hd();break;case 3:Ha(),ze(or),ze(Lt),v0();break;case 5:y0(n);break;case 4:Ha();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:h0(n.type._context);break;case 22:case 23:A0()}r=r.return}if(jt=e,ot=e=Ri(e.current,null),Ot=pr=t,ft=0,Zl=null,_0=Mf=Bs=0,tr=Sl=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ys=null}return e}function Ak(e,t){do{var r=ot;try{if(f0(),Ku.current=jd,wd){for(var n=He.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wd=!1}if(Ls=0,bt=dt=He=null,jl=!1,Xl=0,P0.current=null,r===null||r.return===null){ft=1,Zl=t,ot=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=Ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=kw(a);if(m!==null){m.flags&=-257,Ow(m,a,l,s,t),m.mode&1&&_w(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){_w(s,u,t),E0();break e}c=Error(G(426))}}else if(Ue&&l.mode&1){var w=kw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ow(w,a,l,s,t),u0(qa(c,l));break e}}s=c=qa(c,l),ft!==4&&(ft=2),Sl===null?Sl=[s]:Sl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=fk(s,c,t);bw(s,p);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Mi===null||!Mi.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=hk(s,l,t);bw(s,j);break e}}s=s.return}while(s!==null)}Tk(r)}catch(N){t=N,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Ek(){var e=Nd.current;return Nd.current=jd,e===null?jd:e}function E0(){(ft===0||ft===3||ft===2)&&(ft=4),jt===null||!(Bs&268435455)&&!(Mf&268435455)||ji(jt,Ot)}function _d(e,t){var r=we;we|=2;var n=Ek();(jt!==e||Ot!==t)&&(Tn=null,_s(e,t));do try{H6();break}catch(i){Ak(e,i)}while(!0);if(f0(),we=r,Nd.current=n,ot!==null)throw Error(G(261));return jt=null,Ot=0,ft}function H6(){for(;ot!==null;)Ck(ot)}function q6(){for(;ot!==null&&!vR();)Ck(ot)}function Ck(e){var t=Dk(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?Tk(e):ot=t,P0.current=null}function Tk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=F6(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,ot=null;return}}else if(r=B6(r,t,pr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ft===0&&(ft=5)}function cs(e,t,r){var n=Oe,i=Br.transition;try{Br.transition=null,Oe=1,G6(e,t,r,n)}finally{Br.transition=i,Oe=n}return null}function G6(e,t,r,n){do Ia();while(_i!==null);if(we&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(OR(e,s),e===jt&&(ot=jt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hu||(hu=!0,Rk(od,function(){return Ia(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var a=Oe;Oe=1;var l=we;we|=4,P0.current=null,U6(e,r),_k(r,e),m6(Yp),cd=!!Gp,Yp=Gp=null,e.current=r,W6(r),xR(),we=l,Oe=a,Br.transition=s}else e.current=r;if(hu&&(hu=!1,_i=e,Pd=i),s=e.pendingLanes,s===0&&(Mi=null),jR(r.stateNode),cr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Sd)throw Sd=!1,e=pg,pg=null,e;return Pd&1&&e.tag!==0&&Ia(),s=e.pendingLanes,s&1?e===gg?Pl++:(Pl=0,gg=e):Pl=0,qi(),null}function Ia(){if(_i!==null){var e=f_(Pd),t=Br.transition,r=Oe;try{if(Br.transition=null,Oe=16>e?16:e,_i===null)var n=!1;else{if(e=_i,_i=null,Pd=0,we&6)throw Error(G(331));var i=we;for(we|=4,se=e.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Nl(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(Nk(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nl(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,se=p;break e}se=s.return}}var v=e.current;for(se=v;se!==null;){a=se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,se=b;else e:for(a=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tf(9,l)}}catch(N){Qe(l,l.return,N)}if(l===a){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(we=i,qi(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Sf,e)}catch{}n=!0}return n}finally{Oe=r,Br.transition=t}}return!1}function zw(e,t,r){t=qa(r,t),t=fk(e,t,1),e=Ti(e,t,1),t=Ht(),e!==null&&(xc(e,1,t),cr(e,t))}function Qe(e,t,r){if(e.tag===3)zw(e,e,r);else for(;t!==null;){if(t.tag===3){zw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mi===null||!Mi.has(n))){e=qa(r,e),e=hk(t,e,1),t=Ti(t,e,1),e=Ht(),t!==null&&(xc(t,1,e),cr(t,e));break}}t=t.return}}function Y6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(Ot&r)===r&&(ft===4||ft===3&&(Ot&130023424)===Ot&&500>nt()-k0?_s(e,0):_0|=r),cr(e,t)}function Mk(e,t){t===0&&(e.mode&1?(t=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):t=1);var r=Ht();e=qn(e,t),e!==null&&(xc(e,t,r),cr(e,r))}function X6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mk(e,r)}function J6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Mk(e,r)}var Dk;Dk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ir=!1,L6(e,t,r);ir=!!(e.flags&131072)}else ir=!1,Ue&&t.flags&1048576&&L_(t,gd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;qu(e,t),e=t.pendingProps;var i=Wa(t,Lt.current);$a(t,r),i=b0(null,t,n,e,i,r);var s=w0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lr(n)?(s=!0,md(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p0(t),i.updater=Cf,t.stateNode=i,i._reactInternals=t,ig(t,n,e,r),t=og(null,t,n,!0,s,r)):(t.tag=0,Ue&&s&&l0(t),Ut(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(qu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Z6(n),e=Zr(n,e),i){case 0:t=ag(null,t,n,e,r);break e;case 1:t=Cw(null,t,n,e,r);break e;case 11:t=Aw(null,t,n,e,r);break e;case 14:t=Ew(null,t,n,Zr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),ag(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Cw(e,t,n,i,r);case 3:e:{if(yk(t),e===null)throw Error(G(387));n=t.pendingProps,s=t.memoizedState,i=s.element,V_(e,t),xd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=qa(Error(G(423)),t),t=Tw(e,t,n,r,i);break e}else if(n!==i){i=qa(Error(G(424)),t),t=Tw(e,t,n,r,i);break e}else for(yr=Ci(t.stateNode.containerInfo.firstChild),vr=t,Ue=!0,rn=null,r=U_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Va(),n===i){t=Gn(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return K_(t),e===null&&tg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Xp(n,i)?a=null:s!==null&&Xp(n,s)&&(t.flags|=32),gk(e,t),Ut(e,t,a,r),t.child;case 6:return e===null&&tg(t),null;case 13:return vk(e,t,r);case 4:return g0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ka(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Aw(e,t,n,i,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Re(yd,n._currentValue),n._currentValue=a,s!==null)if(cn(s.value,a)){if(s.children===i.children&&!or.current){t=Gn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=zn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),rg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(G(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),rg(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ut(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$a(t,r),i=zr(i),n=n(i),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,i=Zr(n,t.pendingProps),i=Zr(n.type,i),Ew(e,t,n,i,r);case 15:return mk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),qu(e,t),t.tag=1,lr(n)?(e=!0,md(t)):e=!1,$a(t,r),dk(t,n,i),ig(t,n,i,r),og(null,t,n,!0,e,r);case 19:return xk(e,t,r);case 22:return pk(e,t,r)}throw Error(G(156,t.tag))};function Rk(e,t){return l_(e,t)}function Q6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new Q6(e,t,r,n)}function C0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z6(e){if(typeof e=="function")return C0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xy)return 11;if(e===Jy)return 14}return 2}function Ri(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xu(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")C0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return ks(r.children,i,s,t);case Yy:a=8,i|=8;break;case Op:return e=Ir(12,r,t,i|2),e.elementType=Op,e.lanes=s,e;case Ap:return e=Ir(13,r,t,i),e.elementType=Ap,e.lanes=s,e;case Ep:return e=Ir(19,r,t,i),e.elementType=Ep,e.lanes=s,e;case KP:return Df(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case WP:a=10;break e;case VP:a=9;break e;case Xy:a=11;break e;case Jy:a=14;break e;case vi:a=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ir(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ks(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function Df(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=KP,e.lanes=r,e.stateNode={isHidden:!1},e}function Om(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function Am(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function e$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T0(e,t,r,n,i,s,a,l,c){return e=new e$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ir(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),e}function t$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $k(e){if(!e)return Fi;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(lr(r))return $_(e,r,t)}return t}function Ik(e,t,r,n,i,s,a,l,c){return e=T0(r,n,!0,e,i,s,a,l,c),e.context=$k(null),r=e.current,n=Ht(),i=Di(r),s=zn(n,i),s.callback=t??null,Ti(r,s,i),e.current.lanes=i,xc(e,i,n),cr(e,n),e}function Rf(e,t,r,n){var i=t.current,s=Ht(),a=Di(i);return r=$k(r),t.context===null?t.context=r:t.pendingContext=r,t=zn(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ti(i,t,a),e!==null&&(ln(e,i,a,s),Vu(e,i,a)),a}function kd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function M0(e,t){Uw(e,t),(e=e.alternate)&&Uw(e,t)}function r$(){return null}var Lk=typeof reportError=="function"?reportError:function(e){console.error(e)};function D0(e){this._internalRoot=e}$f.prototype.render=D0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Rf(e,t,null,null)};$f.prototype.unmount=D0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Rf(null,e,null,null)}),t[Hn]=null}};function $f(e){this._internalRoot=e}$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=p_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<wi.length&&t!==0&&t<wi[r].priority;r++);wi.splice(r,0,e),r===0&&y_(e)}};function R0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ww(){}function n$(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=kd(a);s.call(u)}}var a=Ik(t,n,e,0,null,!1,!1,"",Ww);return e._reactRootContainer=a,e[Hn]=a.current,Kl(e.nodeType===8?e.parentNode:e),Fs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=kd(c);l.call(u)}}var c=T0(e,0,!1,null,null,!1,!1,"",Ww);return e._reactRootContainer=c,e[Hn]=c.current,Kl(e.nodeType===8?e.parentNode:e),Fs(function(){Rf(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=kd(a);l.call(c)}}Rf(t,a,e,i)}else a=n$(r,t,e,i,n);return kd(a)}h_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ul(t.pendingLanes);r!==0&&(e0(t,r|1),cr(t,nt()),!(we&6)&&(Ga=nt()+500,qi()))}break;case 13:Fs(function(){var n=qn(e,1);if(n!==null){var i=Ht();ln(n,e,1,i)}}),M0(e,1)}};t0=function(e){if(e.tag===13){var t=qn(e,134217728);if(t!==null){var r=Ht();ln(t,e,134217728,r)}M0(e,134217728)}};m_=function(e){if(e.tag===13){var t=Di(e),r=qn(e,t);if(r!==null){var n=Ht();ln(r,e,t,n)}M0(e,t)}};p_=function(){return Oe};g_=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};Fp=function(e,t,r){switch(t){case"input":if(Mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Of(n);if(!i)throw Error(G(90));qP(n),Mp(n,i)}}}break;case"textarea":YP(e,r);break;case"select":t=r.value,t!=null&&Ta(e,!!r.multiple,t,!1)}};r_=O0;n_=Fs;var i$={usingClientEntryPoint:!1,Events:[wc,pa,Of,e_,t_,O0]},Yo={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s$={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=a_(e),e===null?null:e.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||r$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Sf=mu.inject(s$),xn=mu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=i$;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!R0(t))throw Error(G(200));return t$(e,t,null,r)};Pr.createRoot=function(e,t){if(!R0(e))throw Error(G(299));var r=!1,n="",i=Lk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=T0(e,1,!1,null,null,r,!1,n,i),e[Hn]=t.current,Kl(e.nodeType===8?e.parentNode:e),new D0(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=a_(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Fs(e)};Pr.hydrate=function(e,t,r){if(!If(t))throw Error(G(200));return Lf(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!R0(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Lk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Ik(t,null,e,1,r??null,i,!1,s,a),e[Hn]=t.current,Kl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $f(t)};Pr.render=function(e,t,r){if(!If(t))throw Error(G(200));return Lf(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!If(e))throw Error(G(40));return e._reactRootContainer?(Fs(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Pr.unstable_batchedUpdates=O0;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!If(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Lf(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function Bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bk)}catch(e){console.error(e)}}Bk(),BP.exports=Pr;var Fk=BP.exports,zk,Vw=Fk;zk=Vw.createRoot,Vw.hydrateRoot;const a$="modulepreload",o$=function(e){return"/"+e},Kw={},Nc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=o$(c),c in Kw)return;Kw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":a$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},l$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class c$ extends $0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Hw extends $0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qw extends $0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xg||(xg={}));var u$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class d${constructor(t,{headers:r={},customFetch:n,region:i=xg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=l$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return u$(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new c$(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Hw(f);if(!f.ok)throw new qw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof qw||i instanceof Hw?i.context:void 0}}})}}var rr={},I0={},Bf={},Sc={},Ff={},zf={},f$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ya=f$();const h$=Ya.fetch,Uk=Ya.fetch.bind(Ya),Wk=Ya.Headers,m$=Ya.Request,p$=Ya.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wk,Request:m$,Response:p$,default:Uk,fetch:h$},Symbol.toStringTag,{value:"Module"})),g$=MD(vo);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let y$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=y$;var Vk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const v$=Vk(g$),x$=Vk(Uf);let b$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=v$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&x===""?(h=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new x$.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};zf.default=b$;var w$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ff,"__esModule",{value:!0});const j$=w$(zf);let N$=class extends j$.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=N$;var S$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sc,"__esModule",{value:!0});const P$=S$(Ff);let _$=class extends P$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Sc.default=_$;var k$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const Xo=k$(Sc);let O$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Xo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bf.default=O$;var Wf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.version=void 0;Vf.version="0.0.0-automated";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.DEFAULT_HEADERS=void 0;const A$=Vf;Wf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${A$.version}`};var Kk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I0,"__esModule",{value:!0});const E$=Kk(Bf),C$=Kk(Sc),T$=Wf;let M$=class Hk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},T$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new E$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Hk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new C$.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};I0.default=M$;var xo=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rr,"__esModule",{value:!0});rr.PostgrestError=rr.PostgrestBuilder=rr.PostgrestTransformBuilder=rr.PostgrestFilterBuilder=rr.PostgrestQueryBuilder=rr.PostgrestClient=void 0;const qk=xo(I0);rr.PostgrestClient=qk.default;const Gk=xo(Bf);rr.PostgrestQueryBuilder=Gk.default;const Yk=xo(Sc);rr.PostgrestFilterBuilder=Yk.default;const Xk=xo(Ff);rr.PostgrestTransformBuilder=Xk.default;const Jk=xo(zf);rr.PostgrestBuilder=Jk.default;const Qk=xo(Uf);rr.PostgrestError=Qk.default;var D$=rr.default={PostgrestClient:qk.default,PostgrestQueryBuilder:Gk.default,PostgrestFilterBuilder:Yk.default,PostgrestTransformBuilder:Xk.default,PostgrestBuilder:Jk.default,PostgrestError:Qk.default};const{PostgrestClient:R$,PostgrestQueryBuilder:sre,PostgrestFilterBuilder:are,PostgrestTransformBuilder:ore,PostgrestBuilder:lre,PostgrestError:cre}=D$;function $$(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const I$=$$(),L$="2.11.15",B$=`realtime-js/${L$}`,F$="1.0.0",Zk=1e4,z$=1e3;var _l;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_l||(_l={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var bg;(function(e){e.websocket="websocket"})(bg||(bg={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class U${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class e2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const Gw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=W$(a,e,t,i),s),{})},W$=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?t2(s,a):wg(a)},t2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return q$(t,r)}switch(e){case Me.bool:return V$(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return K$(t);case Me.json:case Me.jsonb:return H$(t);case Me.timestamp:return G$(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return wg(t);default:return wg(t)}},wg=e=>e,V$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},q$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>t2(t,l))}return e},G$=e=>typeof e=="string"?e.replace(" ","T"):e,r2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Em{constructor(t,r,n={},i=Zk){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Yw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Yw||(Yw={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=kl.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),g=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Xw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Xw||(Xw={}));var Jw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Jw||(Jw={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class L0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Em(this,tn.join,this.params,this.timeout),this.rejoinTimer=new e2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new kl(this),this.broadcastEndpointURL=r2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Mn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Mn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Mn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let x=0;x<m;x++){const w=h[x],{filter:{event:p,schema:v,table:b,filter:j}}=w,N=d&&d[x];if(N&&N.event===p&&N.schema===v&&N.table===b&&N.filter===j)g.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=Tt.errored,t==null||t(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Mn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Tt.errored,t==null||t(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Em(this,tn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Em(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,x,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var g,x,w,p,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:w,commit_timestamp:p,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&L0.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Gw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Gw(t.columns,t.old_record)),r}}const Qw=()=>{},Y$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class X${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qw,this.ref=0,this.logger=Qw,this.conn=null,this.sendBuffer=[],this.serializer=new U$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Nc(async()=>{const{default:c}=await Promise.resolve().then(()=>vo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${bg.websocket}`,this.httpEndpoint=r2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new e2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=I$),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:F$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _l.connecting:return ps.Connecting;case _l.open:return ps.Open;case _l.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new L0(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:B$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(tn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(z$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Y$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class B0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class J$ extends B0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jg extends B0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Q$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const n2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Z$=()=>Q$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nc(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response}),Ng=e=>{if(Array.isArray(e))return e.map(r=>Ng(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Ng(n)}),t},eI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Gs=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tI=(e,t,r)=>Gs(void 0,void 0,void 0,function*(){const n=yield Z$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new J$(Cm(i),s,a))}).catch(i=>{t(new jg(Cm(i),i))}):t(new jg(Cm(e),e))}),rI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(eI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Pc(e,t,r,n,i,s){return Gs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,rI(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>tI(c,l,n))})})}function Od(e,t,r,n){return Gs(this,void 0,void 0,function*(){return Pc(e,"GET",t,r,n)})}function Dn(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return Pc(e,"POST",t,n,i,r)})}function Sg(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return Pc(e,"PUT",t,n,i,r)})}function nI(e,t,r,n){return Gs(this,void 0,void 0,function*(){return Pc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function i2(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return Pc(e,"DELETE",t,n,i,r)})}var Qt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const iI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Zw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sI{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=n2(i)}uploadOrUpdate(t,r,n,i){return Qt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Zw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Sg:Dn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Zw.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Sg(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new B0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Dn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qt(this,void 0,void 0,function*(){try{const i=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}download(t,r){return Qt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Od(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(yt(l))return{data:null,error:l};throw l}})}info(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Od(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ng(n),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}exists(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(yt(n)&&n instanceof jg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield i2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},iI),r),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const aI="2.10.4",oI={"X-Client-Info":`storage-js/${aI}`};var ta=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class lI{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},oI),r),this.fetch=n2(n)}listBuckets(){return ta(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}getBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Od(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ta(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ta(this,void 0,void 0,function*(){try{return{data:yield Sg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield i2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}}class cI extends lI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new sI(this.url,this.headers,t,this.fetch)}}const uI="2.53.0";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const dI={"X-Client-Info":`supabase-js-${fl}/${uI}`},fI={headers:dI},hI={schema:"public"},mI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},pI={};var gI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const yI=e=>{let t;return e?t=e:typeof fetch>"u"?t=Uk:t=fetch,(...r)=>t(...r)},vI=()=>typeof Headers>"u"?Wk:Headers,xI=(e,t,r)=>{const n=yI(r),i=vI();return(s,a)=>gI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var bI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function wI(e){return e.endsWith("/")?e:e+"/"}function jI(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const s2="2.71.1",la=30*1e3,Pg=3,Tm=Pg*la,NI="http://localhost:9999",SI="supabase.auth.token",PI={"X-Client-Info":`gotrue-js/${s2}`},_g="X-Supabase-Api-Version",a2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_I=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kI=10*60*1e3;class F0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class OI extends F0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function AI(e){return fe(e)&&e.name==="AuthApiError"}class o2 extends F0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gi extends F0{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class pi extends Gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function EI(e){return fe(e)&&e.name==="AuthSessionMissingError"}class pu extends Gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gu extends Gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yu extends Gi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CI(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class e1 extends Gi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kg extends Gi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mm(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class t1 extends Gi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Og extends Gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ad="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),r1=` 	
\r=`.split(""),TI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<r1.length;t+=1)e[r1[t].charCodeAt(0)]=-2;for(let t=0;t<Ad.length;t+=1)e[Ad[t].charCodeAt(0)]=t;return e})();function n1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ad[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ad[n]),t.queuedBits-=6}}function l2(e,t,r){const n=TI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function i1(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{RI(a,n,r)};for(let a=0;a<e.length;a+=1)l2(e.charCodeAt(a),i,s);return t.join("")}function MI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}MI(n,t)}}function RI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function $I(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)l2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function II(e){const t=[];return DI(e,r=>t.push(r)),new Uint8Array(t)}function LI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>n1(i,r,n)),n1(null,r,n),t.join("")}function BI(e){return Math.round(Date.now()/1e3)+e}function FI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},c2=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function zI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const u2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},UI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ca=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},as=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},fi=async(e,t)=>{await e.removeItem(t)};class Kf{constructor(){this.promise=new Kf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kf.promiseConstructor=Promise;function Dm(e){const t=e.split(".");if(t.length!==3)throw new Og("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!_I.test(t[n]))throw new Og("JWT not in base64url format");return{header:JSON.parse(i1(t[0])),payload:JSON.parse(i1(t[1])),signature:$I(t[2]),raw:{header:t[0],payload:t[1]}}}async function WI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function VI(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function KI(e){return("0"+e.toString(16)).substr(-2)}function HI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,KI).join("")}async function qI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function GI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await qI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,r=!1){const n=HI();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ca(e,`${t}-code-verifier`,i);const s=await GI(n);return[s,n===s?"plain":"s256"]}const YI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function XI(e){const t=e.headers.get(_g);if(!t||!t.match(YI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function JI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function QI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ZI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function na(e){if(!ZI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function s1(e){return JSON.parse(JSON.stringify(e))}var eL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tL=[502,503,504];async function a1(e){var t;if(!UI(e))throw new kg(us(e),0);if(tL.includes(e.status))throw new kg(us(e),e.status);let r;try{r=await e.json()}catch(s){throw new o2(us(s),s)}let n;const i=XI(e);if(i&&i.getTime()>=a2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new t1(us(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new pi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new t1(us(r),e.status,r.weak_password.reasons);throw new OI(us(r),e.status||500,n)}const rL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ge(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[_g]||(s[_g]=a2["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await nL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function nL(e,t,r,n,i,s){const a=rL(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new kg(us(c),0)}if(l.ok||await a1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await a1(c)}}function Cn(e){var t;let r=null;oL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=BI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function o1(e){const t=Cn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function iL(e){return{data:e,error:null}}function sL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=eL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function aL(e){return e}function oL(e){return e.access_token&&e.refresh_token&&e.expires_in}const $m=["global","local","others"];var lL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class cL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=u2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=$m[0]){if($m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$m.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=lL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:sL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ni})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:aL});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){na(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ni})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){na(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){na(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){na(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){na(t.userId),na(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function l1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function uL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ia={debug:!!(globalThis&&c2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dL extends d2{}async function fL(e,t,r){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ia.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}uL();const hL={url:NI,storageKey:SI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function c1(e,t,r){return await r()}const sa={};class ec{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ec.nextInstanceID,ec.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},hL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new cL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=u2(i.fetch),this.lock=i.lock||c1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=fL:this.lock=c1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:c2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=l1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=l1(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${s2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=zI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),CI(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new o2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Cn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ra(this.storage,this.storageKey)),s=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Cn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Cn})}else throw new gu("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:o1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:o1})}else throw new gu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:w,wallet:p,statement:v,options:b}=t;let j;if(Jr())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:w,error:p}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:LI(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Cn});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new pu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Cn});if(await fi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new pu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new pu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ra(this.storage,this.storageKey));const{error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new gu("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Cn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ra(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:iL})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new pi;const{error:i}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new gu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await as(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Rm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ni}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pi}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ni})})}catch(r){if(fe(r))return EI(r)&&(await this._removeSession(),await fi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new pi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ra(this.storage,this.storageKey));const{data:u,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ni});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new pi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Dm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new pi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new yu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new e1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new e1("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new yu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const p={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(AI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await fi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=FI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ra(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await VI(async i=>(i>0&&await WI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Cn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Mm(s)&&Date.now()+a-n<la})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let a=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ca(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Rm()}else if(i&&!i.user&&!i.user){const a=await as(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await fi(this.storage,this.storageKey+"-user"),await ca(this.storage,this.storageKey,i)):i.user=Rm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Tm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Mm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new pi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new pi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),fe(s)){const a={session:null,error:s};return Mm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ca(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=s1(i);await ca(this.storage,this.storageKey,s)}else{const i=s1(r);await ca(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await fi(this.storage,this.storageKey),await fi(this.storage,this.storageKey+"-code-verifier"),await fi(this.storage,this.storageKey+"-user"),this.userStorage&&await fi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${la}ms, refresh threshold is ${Pg} ticks`),i<=Pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof d2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Dm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+kI>i)return n;const{data:s,error:a}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Dm(n);r!=null&&r.allowExpired||JI(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=QI(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,II(`${l}.${c}`)))throw new Og("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}ec.nextInstanceID=0;const mL=ec;class pL extends mL{constructor(t){super(t)}}var gL=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class yL{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=wI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:hI,realtime:pI,auth:Object.assign(Object.assign({},mI),{storageKey:u}),global:fI},f=jI(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=xI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new R$(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new cI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new d$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return gL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new X$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vL=(e,t,r)=>new yL(e,t,r);function xL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}xL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bL="https://eymxpphofhhfeuvaqfad.supabase.co",wL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",Z=vL(bL,wL),f2=y.createContext(void 0);function jL({children:e}){const[t,r]=y.useState(null),[n,i]=y.useState(!1);y.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await Z.auth.getSession();if(u!=null&&u.user){const{data:d}=await Z.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await Z.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:g}=await Z.auth.signInWithPassword({email:h.email,password:u});return g?(console.error("❌ SUPABASE AUTH ERROR:",g.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,g,x;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await Z.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:p,error:v}=await Z.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error("❌ SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=p.user)==null?void 0:h.id,email:(m=p.user)==null?void 0:m.email,email_confirmed:(g=p.user)==null?void 0:g.email_confirmed_at,user_metadata:(x=p.user)==null?void 0:x.user_metadata}),p.user){const{error:b}=await Z.from("profiles").insert({id:p.user.id,username:c,email:u,role:f});b?console.error("❌ PROFILE CREATION ERROR:",b.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await Z.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),console.log("✅ LOGOUT: User state cleared - Back to guest mode"),window.location.reload()}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),window.location.reload()}};return o.jsx(f2.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function dr(){const e=y.useContext(f2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const h2=y.createContext(void 0);function NL({children:e}){const[t,r]=y.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(h2.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Yi(){const e=y.useContext(h2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var SL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...SL,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${PL(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ue("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ed=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ue("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=ue("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=ue("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ue("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _n=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=ue("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function WL({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=y.useState(""),[i,s]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[g,x]=y.useState(""),[w,p]=y.useState(!1),[v,b]=y.useState(!1),{signup:j}=dr(),N=async S=>{if(S.preventDefault(),p(!0),x(""),b(!1),a!==c){x("Passwords do not match."),p(!1);return}if(a.length<6){x("Password must be at least 6 characters long."),p(!1);return}if(r.trim().length<3){x("Username must be at least 3 characters long."),p(!1);return}if(!i.trim()||!i.includes("@")){x("Please enter a valid email address."),p(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){x("Username can only contain letters, numbers, hyphens, and underscores."),p(!1);return}await j(r.trim(),i.trim(),a,"user")?b(!0):x("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),p(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-space-grotesk",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"primary-button w-full",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(z0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:S=>n(S.target.value),className:"input-field w-full",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:S=>s(S.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:S=>l(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?o.jsx(Ed,{size:20}):o.jsx(wn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:S=>u(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h?o.jsx(Ed,{size:20}):o.jsx(wn,{size:20})})]})]}),g&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md font-inter",children:g}),o.jsx("button",{type:"submit",disabled:w,className:"primary-button w-full disabled:opacity-50",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"secondary-button w-full",children:"Back to Login"})})]})}function x2({onLoginSuccess:e}){const[t,r]=y.useState(""),[n,i]=y.useState(""),[s,a]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState("login"),[m,g]=y.useState(!1),[x,w]=y.useState(""),[p,v]=y.useState(!1),[b,j]=y.useState(""),{login:N}=dr(),S=async O=>{O.preventDefault(),d(!0),c(""),await N(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async O=>{O.preventDefault(),v(!0),j("");try{const{error:D}=await Z.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(D)throw D;j("Password reset email sent! Check your inbox for further instructions.")}catch(D){j(`Error: ${D.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(WL,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(z0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:x,onChange:O=>w(O.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),b&&o.jsx("div",{className:`text-sm font-inter text-center p-3 rounded-md ${b.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:b}),o.jsx("button",{type:"submit",disabled:p,className:"primary-button w-full disabled:opacity-50 text-center",children:p?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>g(!1),className:"secondary-button w-full text-center",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:O=>r(O.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:O=>i(O.target.value),className:"input-field w-full pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?o.jsx(Ed,{size:20}):o.jsx(wn,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-inter",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"primary-button w-full disabled:opacity-50 text-center",children:u?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const VL=[{id:"dashboard",label:"Dashboard",icon:o.jsx(TL,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(lt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx($i,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(Un,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(hl,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(Nt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(Nt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"match-tracker",label:"Match Tracker",icon:o.jsx(zi,{size:20}),roles:["technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(v2,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(Nt,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(Un,{size:20}),roles:["developer"]}];function KL({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=dr(),[a,l]=ki.useState(!1),c=VL.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return y.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),y.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"}),o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Beyblade Community"})]})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(g2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(p2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(x2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Gt,{size:16})})]})})]})]})}const V0=y.createContext({});function wo(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const K0=typeof window<"u",Yf=K0?y.useLayoutEffect:y.useEffect,Xf=y.createContext(null);function H0(e,t){e.indexOf(t)===-1&&e.push(t)}function q0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const kn=(e,t,r)=>r>t?t:r<e?e:r;let Qa=()=>{};const Yn={},b2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function w2(e){return typeof e=="object"&&e!==null}const j2=e=>/^0[^.\s]+$/u.test(e);function G0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ur=e=>e,HL=(e,t)=>r=>t(e(r)),Oc=(...e)=>e.reduce(HL),Za=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Y0{constructor(){this.subscriptions=[]}add(t){return H0(this.subscriptions,t),()=>q0(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const jn=e=>e*1e3,Nn=e=>e/1e3;function X0(e,t){return t?e*(1e3/t):0}const N2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,qL=1e-7,GL=12;function YL(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=N2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>qL&&++l<GL);return a}function Ac(e,t,r,n){if(e===t&&r===n)return ur;const i=s=>YL(s,0,1,e,r);return s=>s===0||s===1?s:N2(i(s),t,n)}const S2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,P2=e=>t=>1-e(1-t),_2=Ac(.33,1.53,.69,.99),J0=P2(_2),k2=S2(J0),O2=e=>(e*=2)<1?.5*J0(e):.5*(2-Math.pow(2,-10*(e-1))),Q0=e=>1-Math.sin(Math.acos(e)),A2=P2(Q0),E2=S2(Q0),XL=Ac(.42,0,1,1),JL=Ac(0,0,.58,1),C2=Ac(.42,0,.58,1),QL=e=>Array.isArray(e)&&typeof e[0]!="number",T2=e=>Array.isArray(e)&&typeof e[0]=="number",f1={linear:ur,easeIn:XL,easeInOut:C2,easeOut:JL,circIn:Q0,circInOut:E2,circOut:A2,backIn:J0,backInOut:k2,backOut:_2,anticipate:O2},ZL=e=>typeof e=="string",h1=e=>{if(T2(e)){Qa(e.length===4);const[t,r,n,i]=e;return Ac(t,r,n,i)}else if(ZL(e))return Qa(f1[e]!==void 0),f1[e];return e},vu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],m1={value:null,addProjectionMetrics:null};function e3(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const x=m&&i?r:n;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&m1.value&&m1.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const t3=40;function M2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=vu.reduce((b,j)=>(b[j]=e3(s,t?j:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=a,x=()=>{const b=Yn.useManualTiming?i.timestamp:performance.now();r=!1,Yn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,t3),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,i.isProcessing||e(x)};return{schedule:vu.reduce((b,j)=>{const N=a[j];return b[j]=(S,P=!1,O=!1)=>(r||w(),N.schedule(S,P,O)),b},{}),cancel:b=>{for(let j=0;j<vu.length;j++)a[vu[j]].cancel(b)},state:i,steps:a}}const{schedule:ke,cancel:un,state:vt,steps:Im}=M2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ur,!0);let Ju;function r3(){Ju=void 0}const sr={now:()=>(Ju===void 0&&sr.set(vt.isProcessing||Yn.useManualTiming?vt.timestamp:performance.now()),Ju),set:e=>{Ju=e,queueMicrotask(r3)}},D2=e=>t=>typeof t=="string"&&t.startsWith(e),Z0=D2("--"),n3=D2("var(--"),ev=e=>n3(e)?i3.test(e.split("/*")[0].trim()):!1,i3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tc={...jo,transform:e=>kn(0,1,e)},xu={...jo,default:1},Ol=e=>Math.round(e*1e5)/1e5,tv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function s3(e){return e==null}const a3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,rv=(e,t)=>r=>!!(typeof r=="string"&&a3.test(r)&&r.startsWith(e)||t&&!s3(r)&&Object.prototype.hasOwnProperty.call(r,t)),R2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(tv);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},o3=e=>kn(0,255,e),Lm={...jo,transform:e=>Math.round(o3(e))},xs={test:rv("rgb","red"),parse:R2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Lm.transform(e)+", "+Lm.transform(t)+", "+Lm.transform(r)+", "+Ol(tc.transform(n))+")"};function l3(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Ag={test:rv("#"),parse:l3,transform:xs.transform},Ec=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gi=Ec("deg"),Sn=Ec("%"),de=Ec("px"),c3=Ec("vh"),u3=Ec("vw"),p1={...Sn,parse:e=>Sn.parse(e)/100,transform:e=>Sn.transform(e*100)},ja={test:rv("hsl","hue"),parse:R2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Sn.transform(Ol(t))+", "+Sn.transform(Ol(r))+", "+Ol(tc.transform(n))+")"},at={test:e=>xs.test(e)||Ag.test(e)||ja.test(e),parse:e=>xs.test(e)?xs.parse(e):ja.test(e)?ja.parse(e):Ag.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xs.transform(e):ja.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},d3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function f3(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(tv))==null?void 0:t.length)||0)+(((r=e.match(d3))==null?void 0:r.length)||0)>0}const $2="number",I2="color",h3="var",m3="var(",g1="${}",p3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(p3,c=>(at.test(c)?(n.color.push(s),i.push(I2),r.push(at.parse(c))):c.startsWith(m3)?(n.var.push(s),i.push(h3),r.push(c)):(n.number.push(s),i.push($2),r.push(parseFloat(c))),++s,g1)).split(g1);return{values:r,split:l,indexes:n,types:i}}function L2(e){return rc(e).values}function B2(e){const{split:t,types:r}=rc(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===$2?s+=Ol(i[a]):l===I2?s+=at.transform(i[a]):s+=i[a]}return s}}const g3=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function y3(e){const t=L2(e);return B2(e)(t.map(g3))}const Ui={test:f3,parse:L2,createTransformer:B2,getAnimatableNone:y3};function Bm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function v3({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Bm(c,l,e+1/3),s=Bm(c,l,e),a=Bm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Md(e,t){return r=>r>0?t:e}const Ke=(e,t,r)=>e+(t-e)*r,Fm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},x3=[Ag,xs,ja],b3=e=>x3.find(t=>t.test(e));function y1(e){const t=b3(e);if(!t)return!1;let r=t.parse(e);return t===ja&&(r=v3(r)),r}const v1=(e,t)=>{const r=y1(e),n=y1(t);if(!r||!n)return Md(e,t);const i={...r};return s=>(i.red=Fm(r.red,n.red,s),i.green=Fm(r.green,n.green,s),i.blue=Fm(r.blue,n.blue,s),i.alpha=Ke(r.alpha,n.alpha,s),xs.transform(i))},Eg=new Set(["none","hidden"]);function w3(e,t){return Eg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function j3(e,t){return r=>Ke(e,t,r)}function nv(e){return typeof e=="number"?j3:typeof e=="string"?ev(e)?Md:at.test(e)?v1:P3:Array.isArray(e)?F2:typeof e=="object"?at.test(e)?v1:N3:Md}function F2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>nv(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function N3(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=nv(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function S3(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const P3=(e,t)=>{const r=Ui.createTransformer(t),n=rc(e),i=rc(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Eg.has(e)&&!i.values.length||Eg.has(t)&&!n.values.length?w3(e,t):Oc(F2(S3(n,i),i.values),r):Md(e,t)};function z2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ke(e,t,r):nv(e)(e,t)}const _3=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ke.update(t,r),stop:()=>un(t),now:()=>vt.isProcessing?vt.timestamp:sr.now()}},U2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Dd=2e4;function iv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Dd;)t+=r,n=e.next(t);return t>=Dd?1/0:t}function k3(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(iv(n),Dd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:Nn(i)}}const O3=5;function W2(e,t,r){const n=Math.max(t-O3,0);return X0(r-e(n),t-n)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zm=.001;function A3({duration:e=Je.duration,bounce:t=Je.bounce,velocity:r=Je.velocity,mass:n=Je.mass}){let i,s,a=1-t;a=kn(Je.minDamping,Je.maxDamping,a),e=kn(Je.minDuration,Je.maxDuration,Nn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=Cg(u,a),g=Math.exp(-f);return zm-h/m*g},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),x=Cg(Math.pow(u,2),a);return(-i(u)+zm>0?-1:1)*((h-m)*g)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-zm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=C3(i,s,l);if(e=jn(e),isNaN(c))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const E3=12;function C3(e,t,r){let n=r;for(let i=1;i<E3;i++)n=n-e(n)/t(n);return n}function Cg(e,t){return e*Math.sqrt(1-t*t)}const T3=["duration","bounce"],M3=["stiffness","damping","mass"];function x1(e,t){return t.some(r=>e[r]!==void 0)}function D3(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!x1(e,M3)&&x1(e,T3))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*kn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:s}}else{const r=A3(e);t={...t,...r,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Rd(e=Je.visualDuration,t=Je.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=D3({...r,velocity:-Nn(r.velocity||0)}),g=h||0,x=u/(2*Math.sqrt(c*d)),w=a-s,p=Nn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Je.restSpeed.granular:Je.restSpeed.default),i||(i=v?Je.restDelta.granular:Je.restDelta.default);let b;if(x<1){const N=Cg(p,x);b=S=>{const P=Math.exp(-x*p*S);return a-P*((g+x*p*w)/N*Math.sin(N*S)+w*Math.cos(N*S))}}else if(x===1)b=N=>a-Math.exp(-p*N)*(w+(g+p*w)*N);else{const N=p*Math.sqrt(x*x-1);b=S=>{const P=Math.exp(-x*p*S),O=Math.min(N*S,300);return a-P*((g+x*p*w)*Math.sinh(O)+N*w*Math.cosh(O))/N}}const j={calculatedDuration:m&&f||null,next:N=>{const S=b(N);if(m)l.done=N>=f;else{let P=N===0?g:0;x<1&&(P=N===0?jn(g):W2(b,N,S));const O=Math.abs(P)<=n,D=Math.abs(a-S)<=i;l.done=O&&D}return l.value=l.done?a:S,l},toString:()=>{const N=Math.min(iv(j),Dd),S=U2(P=>j.next(N*P).value,N,30);return N+"ms "+S},toTransition:()=>{}};return j}Rd.applyToOptions=e=>{const t=k3(e,100,Rd);return e.ease=t.ease,e.duration=jn(t.duration),e.type="keyframes",e};function Tg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=O=>l!==void 0&&O<l||c!==void 0&&O>c,g=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let x=r*t;const w=f+x,p=a===void 0?w:a(w);p!==w&&(x=p-f);const v=O=>-x*Math.exp(-O/n),b=O=>p+v(O),j=O=>{const D=v(O),T=b(O);h.done=Math.abs(D)<=u,h.value=h.done?p:T};let N,S;const P=O=>{m(h.value)&&(N=O,S=Rd({keyframes:[h.value,g(h.value)],velocity:W2(b,O,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:O=>{let D=!1;return!S&&N===void 0&&(D=!0,j(O),P(O)),N!==void 0&&O>=N?S.next(O-N):(!D&&j(O),h)}}}function R3(e,t,r){const n=[],i=r||Yn.mix||z2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||ur:t;l=Oc(c,l)}n.push(l)}return n}function sv(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Qa(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=R3(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Za(e[f],e[f+1],d);return l[f](h)};return r?d=>u(kn(e[0],e[s-1],d)):u}function $3(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Za(0,t,n);e.push(Ke(r,1,i))}}function V2(e){const t=[0];return $3(t,e.length-1),t}function I3(e,t){return e.map(r=>r*t)}function L3(e,t){return e.map(()=>t||C2).splice(0,e.length-1)}function Al({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=QL(n)?n.map(h1):h1(n),s={done:!1,value:t[0]},a=I3(r&&r.length===t.length?r:V2(t),e),l=sv(a,t,{ease:Array.isArray(i)?i:L3(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const B3=e=>e!==null;function av(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(B3),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const F3={decay:Tg,inertia:Tg,tween:Al,keyframes:Al,spring:Rd};function K2(e){typeof e.type=="string"&&(e.type=F3[e.type])}class ov{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const z3=e=>e/100;class lv extends ov{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==sr.now()&&this.tick(sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;K2(t);const{type:r=Al,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||Al;c!==Al&&typeof l[0]!="number"&&(this.mixKeyframes=Oc(z3,z2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=iv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=n;if(f){const O=Math.min(this.currentTime,i)/l;let D=Math.floor(O),T=O%1;!T&&O>=1&&(T=1),T===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(h==="reverse"?(T=1-T,m&&(T-=m/l)):h==="mirror"&&(j=a)),b=kn(0,1,T)*l}const N=v?{done:!1,value:d[0]}:j.next(b);s&&(N.value=s(N.value));let{done:S}=N;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&g!==Tg&&(N.value=av(d,this.options,w,this.speed)),x&&x(N.value),P&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return Nn(this.calculatedDuration)}get time(){return Nn(this.currentTime)}set time(t){var r;t=jn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Nn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=_3,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function U3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bs=e=>e*180/Math.PI,Mg=e=>{const t=bs(Math.atan2(e[1],e[0]));return Dg(t)},W3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Mg,rotateZ:Mg,skewX:e=>bs(Math.atan(e[1])),skewY:e=>bs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Dg=e=>(e=e%360,e<0&&(e+=360),e),b1=Mg,w1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),j1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),V3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:w1,scaleY:j1,scale:e=>(w1(e)+j1(e))/2,rotateX:e=>Dg(bs(Math.atan2(e[6],e[5]))),rotateY:e=>Dg(bs(Math.atan2(-e[2],e[0]))),rotateZ:b1,rotate:b1,skewX:e=>bs(Math.atan(e[4])),skewY:e=>bs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Rg(e){return e.includes("scale")?1:0}function $g(e,t){if(!e||e==="none")return Rg(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=V3,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=W3,i=l}if(!i)return Rg(t);const s=n[t],a=i[1].split(",").map(H3);return typeof s=="function"?s(a):a[s]}const K3=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return $g(r,t)};function H3(e){return parseFloat(e.trim())}const No=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],So=new Set(No),N1=e=>e===jo||e===de,q3=new Set(["x","y","z"]),G3=No.filter(e=>!q3.has(e));function Y3(e){const t=[];return G3.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Es={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$g(t,"x"),y:(e,{transform:t})=>$g(t,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const Cs=new Set;let Ig=!1,Lg=!1,Bg=!1;function H2(){if(Lg){const e=Array.from(Cs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Y3(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Lg=!1,Ig=!1,Cs.forEach(e=>e.complete(Bg)),Cs.clear()}function q2(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lg=!0)})}function X3(){Bg=!0,q2(),H2(),Bg=!1}class cv{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),Ig||(Ig=!0,ke.read(q2),ke.resolveKeyframes(H2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}U3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const J3=e=>e.startsWith("--");function Q3(e,t,r){J3(t)?e.style.setProperty(t,r):e.style[t]=r}const G2=G0(()=>window.ScrollTimeline!==void 0),Z3={};function e4(e,t){const r=G0(e);return()=>Z3[t]??r()}const Y2=e4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ml=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,S1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function X2(e,t){if(e)return typeof e=="function"?Y2()?U2(e,t):"ease-out":T2(e)?ml(e):Array.isArray(e)?e.map(r=>X2(r,t)||S1.easeOut):S1[e]}function t4(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=X2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function J2(e){return typeof e=="function"&&"applyToOptions"in e}function r4({type:e,...t}){return J2(e)&&Y2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class n4 extends ov{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,Qa(typeof t.type!="string");const u=r4(t);this.animation=t4(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=av(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):Q3(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Nn(Number(t))}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=jn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&G2()?(this.animation.timeline=t,ur):r(this)}}const Q2={anticipate:O2,backInOut:k2,circInOut:E2};function i4(e){return e in Q2}function s4(e){typeof e.ease=="string"&&i4(e.ease)&&(e.ease=Q2[e.ease])}const P1=10;class a4 extends n4{constructor(t){s4(t),K2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new lv({...a,autoplay:!1}),c=jn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-P1).value,l.sample(c).value,P1),l.stop()}}const _1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ui.test(e)||e==="0")&&!e.startsWith("url("));function o4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function l4(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=_1(i,t),l=_1(s,t);return!a||!l?!1:o4(e)||(r==="spring"||J2(r))&&n}function Fg(e){e.duration=0,e.type}const c4=new Set(["opacity","clipPath","filter","transform"]),u4=G0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function d4(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return u4()&&r&&c4.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const f4=40;class h4 extends ov{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=sr.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||cv;this.keyframeResolver=new m(l,(x,w,p)=>this.onKeyframesResolved(x,w,h,!p),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=sr.now(),l4(t,s,a,l)||((Yn.instantAnimations||!c)&&(d==null||d(av(t,n,r))),t[0]=t[t.length-1],Fg(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>f4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&d4(h)?new a4({...h,element:h.motionValue.owner.current}):new lv(h);m.finished.then(()=>this.notifyFinished()).catch(ur),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),X3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const m4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p4(e){const t=m4.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Z2(e,t,r=1){const[n,i]=p4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return b2(a)?parseFloat(a):a}return ev(i)?Z2(i,t,r+1):i}function uv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const eO=new Set(["width","height","top","left","right","bottom",...No]),g4={test:e=>e==="auto",parse:e=>e},tO=e=>t=>t.test(e),rO=[jo,de,Sn,gi,u3,c3,g4],k1=e=>rO.find(tO(e));function y4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||j2(e):!0}const v4=new Set(["brightness","contrast","saturate","opacity"]);function x4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(tv)||[];if(!n)return e;const i=r.replace(n,"");let s=v4.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const b4=/\b([a-z-]*)\(.*?\)/gu,zg={...Ui,getAnimatableNone:e=>{const t=e.match(b4);return t?t.map(x4).join(" "):e}},O1={...jo,transform:Math.round},w4={rotate:gi,rotateX:gi,rotateY:gi,rotateZ:gi,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:gi,skewX:gi,skewY:gi,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:tc,originX:p1,originY:p1,originZ:de},dv={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...w4,zIndex:O1,fillOpacity:tc,strokeOpacity:tc,numOctaves:O1},j4={...dv,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:zg,WebkitFilter:zg},nO=e=>j4[e];function iO(e,t){let r=nO(e);return r!==zg&&(r=Ui),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const N4=new Set(["auto","none","0"]);function S4(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!N4.has(s)&&rc(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=iO(r,i)}class P4 extends cv{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),ev(u))){const d=Z2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!eO.has(n)||t.length!==2)return;const[i,s]=t,a=k1(i),l=k1(s);if(a!==l)if(N1(a)&&N1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Es[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||y4(t[i]))&&n.push(i);n.length&&S4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Es[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function sO(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const aO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function fv(e){return w2(e)&&"offsetHeight"in e}const A1=30,_4=e=>!isNaN(parseFloat(e)),El={current:void 0};class k4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=sr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=sr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Y0);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return El.current&&El.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>A1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,A1);return X0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function an(e,t){return new k4(e,t)}const{schedule:hv,cancel:ure}=M2(queueMicrotask,!1),Qr={x:!1,y:!1};function oO(){return Qr.x||Qr.y}function O4(e){return e==="x"||e==="y"?Qr[e]?null:(Qr[e]=!0,()=>{Qr[e]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function lO(e,t){const r=sO(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function E1(e){return!(e.pointerType==="touch"||oO())}function A4(e,t,r={}){const[n,i,s]=lO(e,r),a=l=>{if(!E1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{E1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const cO=(e,t)=>t?e===t?!0:cO(e,t.parentElement):!1,mv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,E4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function C4(e){return E4.has(e.tagName)||e.tabIndex!==-1}const Qu=new WeakSet;function C1(e){return t=>{t.key==="Enter"&&e(t)}}function Um(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const T4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=C1(()=>{if(Qu.has(r))return;Um(r,"down");const i=C1(()=>{Um(r,"up")}),s=()=>Um(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function T1(e){return mv(e)&&!oO()}function M4(e,t,r={}){const[n,i,s]=lO(e,r),a=l=>{const c=l.currentTarget;if(!T1(l))return;Qu.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Qu.has(c)&&Qu.delete(c),T1(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||cO(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),fv(l)&&(l.addEventListener("focus",u=>T4(u,i)),!C4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function pv(e){return w2(e)&&"ownerSVGElement"in e}const Zu=new WeakMap;let yi;const uO=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:pv(n)&&"getBBox"in n?n.getBBox()[t]:n[r],D4=uO("inline","width","offsetWidth"),R4=uO("block","height","offsetHeight");function $4({target:e,borderBoxSize:t}){var r;(r=Zu.get(e))==null||r.forEach(n=>{n(e,{get width(){return D4(e,t)},get height(){return R4(e,t)}})})}function I4(e){e.forEach($4)}function L4(){typeof ResizeObserver>"u"||(yi=new ResizeObserver(I4))}function B4(e,t){yi||L4();const r=sO(e);return r.forEach(n=>{let i=Zu.get(n);i||(i=new Set,Zu.set(n,i)),i.add(t),yi==null||yi.observe(n)}),()=>{r.forEach(n=>{const i=Zu.get(n);i==null||i.delete(t),i!=null&&i.size||yi==null||yi.unobserve(n)})}}const ed=new Set;let Na;function F4(){Na=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ed.forEach(t=>t(e))},window.addEventListener("resize",Na)}function z4(e){return ed.add(e),Na||F4(),()=>{ed.delete(e),!ed.size&&typeof Na=="function"&&(window.removeEventListener("resize",Na),Na=void 0)}}function U4(e,t){return typeof e=="function"?z4(e):B4(e,t)}function dO(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return ke.preUpdate(n,!0),()=>un(n)}function W4(e){return pv(e)&&e.tagName==="svg"}function V4(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=sv(i,s,a);return t?l(n):l}const It=e=>!!(e&&e.getVelocity),K4=[...rO,at,Ui],H4=e=>K4.find(tO(e)),Jf=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class q4 extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=fv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function G4({children:e,isPresent:t,anchorX:r,root:n}){const i=y.useId(),s=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(Jf);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const g=document.createElement("style");l&&(g.nonce=l);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),o.jsx(q4,{isPresent:t,childRef:s,sizeRef:a,children:y.cloneElement(e,{ref:s})})}const Y4=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=wo(X4),d=y.useId();let f=!0,h=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),y.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(G4,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Xf.Provider,{value:h,children:e})};function X4(){return new Map}function fO(e=!0){const t=y.useContext(Xf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=y.useId();y.useEffect(()=>{if(e)return i(s)},[e]);const a=y.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const bu=e=>e.key||"";function M1(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const wu=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=fO(a),f=y.useMemo(()=>M1(e),[e]),h=a&&!u?[]:f.map(bu),m=y.useRef(!0),g=y.useRef(f),x=wo(()=>new Map),[w,p]=y.useState(f),[v,b]=y.useState(f);Yf(()=>{m.current=!1,g.current=f;for(let S=0;S<v.length;S++){const P=bu(v[S]);h.includes(P)?x.delete(P):x.get(P)!==!0&&x.set(P,!1)}},[v,h.length,h.join("-")]);const j=[];if(f!==w){let S=[...f];for(let P=0;P<v.length;P++){const O=v[P],D=bu(O);h.includes(D)||(S.splice(P,0,O),j.push(O))}return s==="wait"&&j.length&&(S=j),b(M1(S)),p(f),null}const{forceRender:N}=y.useContext(V0);return o.jsx(o.Fragment,{children:v.map(S=>{const P=bu(S),O=a&&!u?!1:f===v||h.includes(P),D=()=>{if(x.has(P))x.set(P,!0);else return;let T=!0;x.forEach(C=>{C||(T=!1)}),T&&(N==null||N(),b(g.current),a&&(d==null||d()),n&&n())};return o.jsx(Y4,{isPresent:O,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:O?void 0:D,anchorX:l,children:S},P)})})},hO=y.createContext({strict:!1}),D1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in D1)eo[e]={isEnabled:t=>D1[e].some(r=>!!t[r])};function J4(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const Q4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $d(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Q4.has(e)}let mO=e=>!$d(e);function Z4(e){typeof e=="function"&&(mO=t=>t.startsWith("on")?!$d(t):e(t))}try{Z4(require("@emotion/is-prop-valid").default)}catch{}function eB(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(mO(i)||r===!0&&$d(i)||!t&&!$d(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Qf=y.createContext({});function Zf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nc(e){return typeof e=="string"||Array.isArray(e)}const gv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yv=["initial",...gv];function eh(e){return Zf(e.animate)||yv.some(t=>nc(e[t]))}function pO(e){return!!(eh(e)||e.variants)}function tB(e,t){if(eh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||nc(r)?r:void 0,animate:nc(n)?n:void 0}}return e.inherit!==!1?t:{}}function rB(e){const{initial:t,animate:r}=tB(e,y.useContext(Qf));return y.useMemo(()=>({initial:t,animate:r}),[R1(t),R1(r)])}function R1(e){return Array.isArray(e)?e.join(" "):e}const ic={};function nB(e){for(const t in e)ic[t]=e[t],Z0(t)&&(ic[t].isCSSVariable=!0)}function gO(e,{layout:t,layoutId:r}){return So.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ic[e]||e==="opacity")}const iB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sB=No.length;function aB(e,t,r){let n="",i=!0;for(let s=0;s<sB;s++){const a=No[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=aO(l,dv[a]);if(!c){i=!1;const d=iB[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function vv(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(So.has(c)){a=!0;continue}else if(Z0(c)){i[c]=u;continue}else{const d=aO(u,dv[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=aB(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const xv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function yO(e,t,r){for(const n in t)!It(t[n])&&!gO(n,r)&&(e[n]=t[n])}function oB({transformTemplate:e},t){return y.useMemo(()=>{const r=xv();return vv(r,t,e),Object.assign({},r.vars,r.style)},[t])}function lB(e,t){const r=e.style||{},n={};return yO(n,r,e),Object.assign(n,oB(e,t)),n}function cB(e,t){const r={},n=lB(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const uB={offset:"stroke-dashoffset",array:"stroke-dasharray"},dB={offset:"strokeDashoffset",array:"strokeDasharray"};function fB(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?uB:dB;e[s.offset]=de.transform(-n);const a=de.transform(t),l=de.transform(r);e[s.array]=`${a} ${l}`}function vO(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(vv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&fB(f,i,s,a,!1)}const xO=()=>({...xv(),attrs:{}}),bO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function hB(e,t,r,n){const i=y.useMemo(()=>{const s=xO();return vO(s,t,bO(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};yO(s,e.style,e),i.style={...s,...i.style}}return i}const mB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function bv(e){return typeof e!="string"||e.includes("-")?!1:!!(mB.indexOf(e)>-1||/[A-Z]/u.test(e))}function pB(e,t,r,{latestValues:n},i,s=!1){const l=(bv(e)?hB:cB)(t,n,i,e),c=eB(t,typeof e=="string",s),u=e!==y.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=y.useMemo(()=>It(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function $1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function wv(e,t,r,n){if(typeof t=="function"){const[i,s]=$1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=$1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function td(e){return It(e)?e.get():e}function gB({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:yB(r,n,i,e),renderState:t()}}function yB(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=td(s[h]);let{initial:a,animate:l}=e;const c=eh(e),u=pO(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Zf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=wv(e,h[m]);if(g){const{transitionEnd:x,transition:w,...p}=g;for(const v in p){let b=p[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in x)i[v]=x[v]}}}return i}const wO=e=>(t,r)=>{const n=y.useContext(Qf),i=y.useContext(Xf),s=()=>gB(e,t,n,i);return r?s():wo(s)};function jv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(It(n[a])||t.style&&It(t.style[a])||gO(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const vB=wO({scrapeMotionValuesFromProps:jv,createRenderState:xv});function jO(e,t,r){const n=jv(e,t,r);for(const i in e)if(It(e[i])||It(t[i])){const s=No.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const xB=wO({scrapeMotionValuesFromProps:jO,createRenderState:xO}),bB=Symbol.for("motionComponentSymbol");function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function wB(e,t,r){return y.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Sa(r)&&(r.current=n))},[t])}const Nv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),jB="framerAppearId",NO="data-"+Nv(jB),SO=y.createContext({});function NB(e,t,r,n,i){var x,w;const{visualElement:s}=y.useContext(Qf),a=y.useContext(hO),l=y.useContext(Xf),c=y.useContext(Jf).reducedMotion,u=y.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=y.useContext(SO);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&SB(u.current,r,i,f);const h=y.useRef(!1);y.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[NO],g=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Yf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function SB(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:PO(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Sa(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function PO(e){if(e)return e.options.allowProjection!==!1?e.projection:PO(e.parent)}function Wm(e,{forwardMotionProps:t=!1}={},r,n){r&&J4(r);const i=bv(e)?xB:vB;function s(l,c){let u;const d={...y.useContext(Jf),...l,layoutId:PB(l)},{isStatic:f}=d,h=rB(l),m=i(l,f);if(!f&&K0){_B();const g=kB(d);u=g.MeasureLayout,h.visualElement=NB(e,m,d,n,g.ProjectionNode)}return o.jsxs(Qf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,pB(e,l,wB(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=y.forwardRef(s);return a[bB]=e,a}function PB({layoutId:e}){const t=y.useContext(V0).id;return t&&e!==void 0?t+"-"+e:e}function _B(e,t){y.useContext(hO).strict}function kB(e){const{drag:t,layout:r}=eo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function OB(e,t){if(typeof Proxy>"u")return Wm;const r=new Map,n=(s,a)=>Wm(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,Wm(a,void 0,e,t)),r.get(a))})}function _O({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function AB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function EB(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vm(e){return e===void 0||e===1}function Ug({scale:e,scaleX:t,scaleY:r}){return!Vm(e)||!Vm(t)||!Vm(r)}function ds(e){return Ug(e)||kO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function kO(e){return I1(e.x)||I1(e.y)}function I1(e){return e&&e!=="0%"}function Id(e,t,r){const n=e-r,i=t*n;return r+i}function L1(e,t,r,n,i){return i!==void 0&&(e=Id(e,i,n)),Id(e,r,n)+t}function Wg(e,t=0,r=1,n,i){e.min=L1(e.min,t,r,n,i),e.max=L1(e.max,t,r,n,i)}function OO(e,{x:t,y:r}){Wg(e.x,t.translate,t.scale,t.originPoint),Wg(e.y,r.translate,r.scale,r.originPoint)}const B1=.999999999999,F1=1.0000000000001;function CB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_a(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,OO(e,a)),n&&ds(s.latestValues)&&_a(e,s.latestValues))}t.x<F1&&t.x>B1&&(t.x=1),t.y<F1&&t.y>B1&&(t.y=1)}function Pa(e,t){e.min=e.min+t,e.max=e.max+t}function z1(e,t,r,n,i=.5){const s=Ke(e.min,e.max,i);Wg(e,t,r,s,n)}function _a(e,t){z1(e.x,t.x,t.scaleX,t.scale,t.originX),z1(e.y,t.y,t.scaleY,t.scale,t.originY)}function AO(e,t){return _O(EB(e.getBoundingClientRect(),t))}function TB(e,t,r){const n=AO(e,r),{scroll:i}=t;return i&&(Pa(n.x,i.offset.x),Pa(n.y,i.offset.y)),n}const U1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:U1(),y:U1()}),W1=()=>({min:0,max:0}),rt=()=>({x:W1(),y:W1()}),Vg={current:null},EO={current:!1};function MB(){if(EO.current=!0,!!K0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vg.current=e.matches;e.addEventListener("change",t),t()}else Vg.current=!1}const DB=new WeakMap;function RB(e,t,r){for(const n in t){const i=t[n],s=r[n];if(It(i))e.addValue(n,i);else if(It(s))e.addValue(n,an(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,an(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const V1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $B{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=cv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=sr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ke.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=eh(r),this.isVariantNode=pO(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&It(m)&&m.set(c[h])}}mount(t){var r;this.current=t,DB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),EO.current||MB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=So.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const r=eo[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<V1.length;n++){const i=V1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=RB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=an(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(b2(n)||j2(n))?n=parseFloat(n):!H4(n)&&Ui.test(r)&&(n=iO(t,r)),this.setBaseTarget(t,It(n)?n.get():n)),It(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=wv(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!It(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Y0),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){hv.render(this.render)}}class CO extends $B{constructor(){super(...arguments),this.KeyframeResolver=P4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;It(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function TO(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function IB(e){return window.getComputedStyle(e)}class LB extends CO{constructor(){super(...arguments),this.type="html",this.renderInstance=TO}readValueFromInstance(t,r){var n;if(So.has(r))return(n=this.projection)!=null&&n.isProjecting?Rg(r):K3(t,r);{const i=IB(t),s=(Z0(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return AO(t,r)}build(t,r,n){vv(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return jv(t,r,n)}}const MO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function BB(e,t,r,n){TO(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(MO.has(i)?i:Nv(i),t.attrs[i])}class FB extends CO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(So.has(r)){const n=nO(r);return n&&n.default||0}return r=MO.has(r)?r:Nv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return jO(t,r,n)}build(t,r,n){vO(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){BB(t,r,n,i)}mount(t){this.isSVGTag=bO(t.tagName),super.mount(t)}}const zB=(e,t)=>bv(e)?new FB(t):new LB(t,{allowProjection:e!==y.Fragment});function Ba(e,t,r){const n=e.getProps();return wv(n,t,r!==void 0?r:n.custom,e)}const Kg=e=>Array.isArray(e);function UB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,an(r))}function WB(e){return Kg(e)?e[e.length-1]||0:e}function VB(e,t){const r=Ba(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=WB(s[a]);UB(e,a,l)}}function KB(e){return!!(It(e)&&e.add)}function Hg(e,t){const r=e.getValue("willChange");if(KB(r))return r.add(t);if(!r&&Yn.WillChange){const n=new Yn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function DO(e){return e.props[NO]}const HB=e=>e!==null;function qB(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(HB),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const GB={type:"spring",stiffness:500,damping:25,restSpeed:10},YB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),XB={type:"keyframes",duration:.8},JB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},QB=(e,{keyframes:t})=>t.length>2?XB:So.has(e)?e.startsWith("scale")?YB(t[1]):GB:JB;function ZB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Sv=(e,t,r,n={},i,s)=>a=>{const l=uv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-jn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};ZB(l)||Object.assign(d,QB(e,d)),d.duration&&(d.duration=jn(d.duration)),d.repeatDelay&&(d.repeatDelay=jn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Fg(d),d.delay===0&&(f=!0)),(Yn.instantAnimations||Yn.skipAnimations)&&(f=!0,Fg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=qB(d.keyframes,l);if(h!==void 0){ke.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new lv(d):new h4(d)};function e5({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function RO(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&e5(u,d))continue;const m={delay:r,...uv(s||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const p=DO(e);if(p){const v=window.MotionHandoffAnimation(p,d,ke);v!==null&&(m.startTime=v,x=!0)}}Hg(e,d),f.start(Sv(d,f,h,e.shouldReduceMotion&&eO.has(d)?{type:!1}:m,e,x));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{ke.update(()=>{a&&VB(e,a)})}),c}function $O(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function qg(e,t,r={}){var c;const n=Ba(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(RO(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return t5(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function t5(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(qg(c,t,{...a,delay:r+(typeof n=="function"?0:n)+$O(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function r5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>qg(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=qg(e,t,r);else{const i=typeof t=="function"?Ba(e,t,r.custom):t;n=Promise.all(RO(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function IO(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const n5=yv.length;function LO(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?LO(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<n5;r++){const n=yv[r],i=e.props[n];(nc(i)||i===!1)&&(t[n]=i)}return t}const i5=[...gv].reverse(),s5=gv.length;function a5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>r5(e,r,n)))}function o5(e){let t=a5(e),r=K1(),n=!0;const i=c=>(u,d)=>{var h;const f=Ba(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=LO(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let w=0;w<s5;w++){const p=i5[w],v=r[p],b=u[p]!==void 0?u[p]:d[p],j=nc(b),N=p===c?v.isActive:null;N===!1&&(g=w);let S=b===d[p]&&b!==u[p]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&N===null||!b&&!v.prevProp||Zf(b)||typeof b=="boolean")continue;const P=l5(v.prevProp,b);let O=P||p===c&&v.isActive&&!S&&j||w>g&&j,D=!1;const T=Array.isArray(b)?b:[b];let C=T.reduce(i(p),{});N===!1&&(C={});const{prevResolvedValues:z={}}=v,$={...z,...C},_=W=>{O=!0,h.has(W)&&(D=!0,h.delete(W)),v.needsAnimating[W]=!0;const k=e.getValue(W);k&&(k.liveStyle=!1)};for(const W in $){const k=C[W],E=z[W];if(m.hasOwnProperty(W))continue;let K=!1;Kg(k)&&Kg(E)?K=!IO(k,E):K=k!==E,K?k!=null?_(W):h.add(W):k!==void 0&&h.has(W)?_(W):v.protectedKeys[W]=!0}v.prevProp=b,v.prevResolvedValues=C,v.isActive&&(m={...m,...C}),n&&e.blockInitialAnimation&&(O=!1);const A=S&&P;O&&(!A||D)&&f.push(...T.map(W=>{const k={type:p};if(typeof W=="string"&&n&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:E}=e,K=Ba(E,W);if(E.enteringChildren&&K){const{delayChildren:Y}=K.transition||{};k.delay=$O(E.enteringChildren,e,Y)}}return{animation:W,options:k}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const p=Ba(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}h.forEach(p=>{const v=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),w[p]=v??null}),f.push({animation:w})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=K1(),n=!0}}}function l5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!IO(t,e):!1}function os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function K1(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Xi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class c5 extends Xi{constructor(t){super(t),t.animationState||(t.animationState=o5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let u5=0;class d5 extends Xi{constructor(){super(...arguments),this.id=u5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const f5={animation:{Feature:c5},exit:{Feature:d5}};function sc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Cc(e){return{point:{x:e.pageX,y:e.pageY}}}const h5=e=>t=>mv(t)&&e(t,Cc(t));function Cl(e,t,r,n){return sc(e,t,h5(r),n)}const BO=1e-4,m5=1-BO,p5=1+BO,FO=.01,g5=0-FO,y5=0+FO;function Wt(e){return e.max-e.min}function v5(e,t,r){return Math.abs(e-t)<=r}function H1(e,t,r,n=.5){e.origin=n,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=Wt(r)/Wt(t),e.translate=Ke(r.min,r.max,e.origin)-e.originPoint,(e.scale>=m5&&e.scale<=p5||isNaN(e.scale))&&(e.scale=1),(e.translate>=g5&&e.translate<=y5||isNaN(e.translate))&&(e.translate=0)}function Tl(e,t,r,n){H1(e.x,t.x,r.x,n?n.originX:void 0),H1(e.y,t.y,r.y,n?n.originY:void 0)}function q1(e,t,r){e.min=r.min+t.min,e.max=e.min+Wt(t)}function x5(e,t,r){q1(e.x,t.x,r.x),q1(e.y,t.y,r.y)}function G1(e,t,r){e.min=t.min-r.min,e.max=e.min+Wt(t)}function Ml(e,t,r){G1(e.x,t.x,r.x),G1(e.y,t.y,r.y)}function Mr(e){return[e("x"),e("y")]}const zO=({current:e})=>e?e.ownerDocument.defaultView:null,Y1=(e,t)=>Math.abs(e-t);function b5(e,t){const r=Y1(e.x,t.x),n=Y1(e.y,t.y);return Math.sqrt(r**2+n**2)}class UO{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Hm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=b5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:x}=h,{timestamp:w}=vt;this.history.push({...x,timestamp:w});const{onStart:p,onMove:v}=this.handlers;m||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Km(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Hm(h.type==="pointercancel"?this.lastMoveEventInfo:Km(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,p),x&&x(h,p)},!mv(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Cc(t),c=Km(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=vt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Hm(c,this.history)),this.removeListeners=Oc(Cl(this.contextWindow,"pointermove",this.handlePointerMove),Cl(this.contextWindow,"pointerup",this.handlePointerUp),Cl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Km(e,t){return t?{point:t(e.point)}:e}function X1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Hm({point:e},t){return{point:e,delta:X1(e,WO(t)),offset:X1(e,w5(t)),velocity:j5(t,.1)}}function w5(e){return e[0]}function WO(e){return e[e.length-1]}function j5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=WO(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>jn(t)));)r--;if(!n)return{x:0,y:0};const s=Nn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function N5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ke(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ke(r,e,n.max):Math.min(e,r)),e}function J1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function S5(e,{top:t,left:r,bottom:n,right:i}){return{x:J1(e.x,r,i),y:J1(e.y,t,n)}}function Q1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function P5(e,t){return{x:Q1(e.x,t.x),y:Q1(e.y,t.y)}}function _5(e,t){let r=.5;const n=Wt(e),i=Wt(t);return i>n?r=Za(t.min,t.max-n,e.min):n>i&&(r=Za(e.min,e.max-i,t.min)),kn(0,1,r)}function k5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Gg=.35;function O5(e=Gg){return e===!1?e=0:e===!0&&(e=Gg),{x:Z1(e,"left","right"),y:Z1(e,"top","bottom")}}function Z1(e,t,r){return{min:ej(e,t),max:ej(e,r)}}function ej(e,t){return typeof e=="number"?e:e[t]||0}const A5=new WeakMap;class E5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Cc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=O4(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(p=>{let v=this.getAxisMotionValue(p).get()||0;if(Sn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[p];j&&(v=Wt(j)*(parseFloat(v)/100))}}this.originPoint[p]=v}),x&&ke.postRender(()=>x(f,h)),Hg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=h;if(g&&this.currentDirection===null){this.currentDirection=C5(p),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Mr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new UO(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:zO(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ke.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!ju(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=N5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=S5(n.layoutBox,t):this.constraints=!1,this.elastic=O5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Mr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=k5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Sa(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=TB(n,i.root,this.visualElement.getTransformPagePoint());let a=P5(i.layout.layoutBox,s);if(r){const l=r(AB(a));this.hasMutatedConstraints=!!l,l&&(a=_O(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Mr(d=>{if(!ju(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Hg(this.visualElement,t),n.start(Sv(t,n,0,r,this.visualElement,!1))}stopAnimation(){Mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Mr(r=>{const{drag:n}=this.getProps();if(!ju(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=_5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mr(a=>{if(!ju(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ke(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;A5.set(this.visualElement,this);const t=this.visualElement.current,r=Cl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Sa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ke.read(n);const a=sc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Gg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function ju(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function C5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class T5 extends Xi{constructor(t){super(t),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new E5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const tj=e=>(t,r)=>{e&&ke.postRender(()=>e(t,r))};class M5 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(t){this.session=new UO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:zO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:tj(t),onStart:tj(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ke.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function rj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const r=rj(e,t.target.x),n=rj(e,t.target.y);return`${r}% ${n}%`}},D5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ui.parse(e);if(i.length>5)return n;const s=Ui.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Ke(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let qm=!1;class R5 extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;nB($5),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),qm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,qm=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),hv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;qm=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function VO(e){const[t,r]=fO(),n=y.useContext(V0);return o.jsx(R5,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(SO),isPresent:t,safeToRemove:r})}const $5={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:D5};function I5(e,t,r){const n=It(e)?e:an(e);return n.start(Sv("",n,t,r)),n.animation}const L5=(e,t)=>e.depth-t.depth;class B5{constructor(){this.children=[],this.isDirty=!1}add(t){H0(this.children,t),this.isDirty=!0}remove(t){q0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(L5),this.isDirty=!1,this.children.forEach(t)}}function F5(e,t){const r=sr.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(un(n),e(s-t))};return ke.setup(n,!0),()=>un(n)}const KO=["TopLeft","TopRight","BottomLeft","BottomRight"],z5=KO.length,nj=e=>typeof e=="string"?parseFloat(e):e,ij=e=>typeof e=="number"||de.test(e);function U5(e,t,r,n,i,s){i?(e.opacity=Ke(0,r.opacity??1,W5(n)),e.opacityExit=Ke(t.opacity??1,0,V5(n))):s&&(e.opacity=Ke(t.opacity??1,r.opacity??1,n));for(let a=0;a<z5;a++){const l=`border${KO[a]}Radius`;let c=sj(t,l),u=sj(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||ij(c)===ij(u)?(e[l]=Math.max(Ke(nj(c),nj(u),n),0),(Sn.test(u)||Sn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ke(t.rotate||0,r.rotate||0,n))}function sj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const W5=HO(0,.5,A2),V5=HO(.5,.95,ur);function HO(e,t,r){return n=>n<e?0:n>t?1:r(Za(e,t,n))}function aj(e,t){e.min=t.min,e.max=t.max}function Ar(e,t){aj(e.x,t.x),aj(e.y,t.y)}function oj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function lj(e,t,r,n,i){return e-=t,e=Id(e,1/r,n),i!==void 0&&(e=Id(e,1/i,n)),e}function K5(e,t=0,r=1,n=.5,i,s=e,a=e){if(Sn.test(t)&&(t=parseFloat(t),t=Ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ke(s.min,s.max,n);e===s&&(l-=t),e.min=lj(e.min,t,r,l,i),e.max=lj(e.max,t,r,l,i)}function cj(e,t,[r,n,i],s,a){K5(e,t[r],t[n],t[i],t.scale,s,a)}const H5=["x","scaleX","originX"],q5=["y","scaleY","originY"];function uj(e,t,r,n){cj(e.x,t,H5,r?r.x:void 0,n?n.x:void 0),cj(e.y,t,q5,r?r.y:void 0,n?n.y:void 0)}function dj(e){return e.translate===0&&e.scale===1}function qO(e){return dj(e.x)&&dj(e.y)}function fj(e,t){return e.min===t.min&&e.max===t.max}function G5(e,t){return fj(e.x,t.x)&&fj(e.y,t.y)}function hj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function GO(e,t){return hj(e.x,t.x)&&hj(e.y,t.y)}function mj(e){return Wt(e.x)/Wt(e.y)}function pj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Y5{constructor(){this.members=[]}add(t){H0(this.members,t),t.scheduleRender()}remove(t){if(q0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function X5(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Gm=["","X","Y","Z"],J5=1e3;let Q5=0;function Ym(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function YO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=DO(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ke,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&YO(n)}function XO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=Q5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(tF),this.nodes.forEach(sF),this.nodes.forEach(aF),this.nodes.forEach(rF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new B5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Y0),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=pv(a)&&!W4(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=F5(h,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(vj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||dF,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=u.getProps(),p=!this.targetLayout||!GO(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...uv(g,"layout"),onPlay:x,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||vj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(gj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(yj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(iF),this.nodes.forEach(Z5),this.nodes.forEach(eF)):this.nodes.forEach(yj),this.clearAllSnapshots();const l=sr.now();vt.delta=kn(0,1e3/60,l-vt.timestamp),vt.timestamp=l,vt.isProcessing=!0,Im.update.process(vt),Im.preRender.process(vt),Im.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,hv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(nF),this.sharedNodes.forEach(lF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wt(this.snapshot.measuredBox.x)&&!Wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!qO(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||ds(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),fF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(hF))){const{scroll:d}=this.root;d&&(Pa(l.x,d.offset.x),Pa(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=rt();if(Ar(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ar(l,a),Pa(l.x,f.offset.x),Pa(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=rt();Ar(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_a(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ds(d.latestValues)&&_a(c,d.latestValues)}return ds(this.latestValues)&&_a(c,this.latestValues),c}removeTransform(a){const l=rt();Ar(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ds(u.latestValues))continue;Ug(u.latestValues)&&u.updateSnapshot();const d=rt(),f=u.measurePageBox();Ar(d,f),uj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ds(this.latestValues)&&uj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),x5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),OO(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.target,m.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ug(this.parent.latestValues)||kO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ar(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;CB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(oj(this.prevProjectionDelta.x,this.projectionDelta.x),oj(this.prevProjectionDelta.y,this.projectionDelta.y)),Tl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!pj(this.projectionDelta.x,this.prevProjectionDelta.x)||!pj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=rt(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,w=this.getStack(),p=!w||w.members.length<=1,v=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(uF));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;xj(f.x,a.x,N),xj(f.y,a.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cF(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&G5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=rt()),Ar(b,this.relativeTarget)),x&&(this.animationValues=d,U5(d,u,this.latestValues,N,v,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=an(0)),this.currentAnimation=I5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(J5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&JO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const f=Wt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Wt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Ar(l,c),_a(l,d),Tl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Y5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ym("z",a,u,this.animationValues);for(let d=0;d<Gm.length;d++)Ym(`rotate${Gm[d]}`,a,u,this.animationValues),Ym(`skew${Gm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=td(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=td(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=X5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in ic){if(d[g]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:p}=ic[g],v=f==="none"?d[g]:x(d[g],u);if(w){const b=w.length;for(let j=0;j<b;j++)a[w[j]]=v}else p?this.options.visualElement.renderState.vars[g]=v:a[g]=v}this.options.layoutId&&(a.pointerEvents=u===this?td(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(gj),this.root.sharedNodes.clear()}}}function Z5(e){e.updateLayout()}function eF(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Wt(h);h.min=n[f].min,h.max=h.min+m}):JO(s,t.layoutBox,n)&&Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Wt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ka();Tl(l,n,t.layoutBox);const c=ka();a?Tl(c,e.applyTransform(i,!0),t.measuredBox):Tl(c,n,t.layoutBox);const u=!qO(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=rt();Ml(g,t.layoutBox,h.layoutBox);const x=rt();Ml(x,n,m.layoutBox),GO(g,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function tF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function rF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function nF(e){e.clearSnapshot()}function gj(e){e.clearMeasurements()}function yj(e){e.isLayoutDirty=!1}function iF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function vj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sF(e){e.resolveTargetDelta()}function aF(e){e.calcProjection()}function oF(e){e.resetSkewAndRotation()}function lF(e){e.removeLeadSnapshot()}function xj(e,t,r){e.translate=Ke(t.translate,0,r),e.scale=Ke(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function bj(e,t,r,n){e.min=Ke(t.min,r.min,n),e.max=Ke(t.max,r.max,n)}function cF(e,t,r,n){bj(e.x,t.x,r.x,n),bj(e.y,t.y,r.y,n)}function uF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dF={duration:.45,ease:[.4,0,.1,1]},wj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),jj=wj("applewebkit/")&&!wj("chrome/")?Math.round:ur;function Nj(e){e.min=jj(e.min),e.max=jj(e.max)}function fF(e){Nj(e.x),Nj(e.y)}function JO(e,t,r){return e==="position"||e==="preserve-aspect"&&!v5(mj(t),mj(r),.2)}function hF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const mF=XO({attachResizeListener:(e,t)=>sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xm={current:void 0},QO=XO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xm.current){const e=new mF({});e.mount(window),e.setOptions({layoutScroll:!0}),Xm.current=e}return Xm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),pF={pan:{Feature:M5},drag:{Feature:T5,ProjectionNode:QO,MeasureLayout:VO}};function Sj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ke.postRender(()=>s(t,Cc(t)))}class gF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=A4(t,(r,n)=>(Sj(this.node,n,"Start"),i=>Sj(this.node,i,"End"))))}unmount(){}}class yF extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Oc(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Pj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ke.postRender(()=>s(t,Cc(t)))}class vF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=M4(t,(r,n)=>(Pj(this.node,n,"Start"),(i,{success:s})=>Pj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yg=new WeakMap,Jm=new WeakMap,xF=e=>{const t=Yg.get(e.target);t&&t(e)},bF=e=>{e.forEach(xF)};function wF({root:e,...t}){const r=e||document;Jm.has(r)||Jm.set(r,{});const n=Jm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(bF,{root:e,...t})),n[i]}function jF(e,t,r){const n=wF(t);return Yg.set(e,r),n.observe(e),()=>{Yg.delete(e),n.unobserve(e)}}const NF={some:0,all:1};class SF extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:NF[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return jF(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(PF(t,r))&&this.startObserver()}unmount(){}}function PF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const _F={inView:{Feature:SF},tap:{Feature:vF},focus:{Feature:yF},hover:{Feature:gF}},kF={layout:{ProjectionNode:QO,MeasureLayout:VO}},OF={...f5,..._F,...pF,...kF},Le=OB(OF,zB),AF=50,_j=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),EF=()=>({time:0,x:_j(),y:_j()}),CF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function kj(e,t,r,n){const i=r[t],{length:s,position:a}=CF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Za(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>AF?0:X0(i.current-l,u)}function TF(e,t,r){kj(e,"x",t,r),kj(e,"y",t,r),t.time=r}function MF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(fv(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Xg={start:0,center:.5,end:1};function Oj(e,t,r=0){let n=0;if(e in Xg&&(e=Xg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const DF=[0,0];function RF(e,t,r,n){let i=Array.isArray(e)?e:DF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Xg[e]?e:"0"]),s=Oj(i[0],r,n),a=Oj(i[1],t),s-a}const $F={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},IF={x:0,y:0};function LF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function BF(e,t,r){const{offset:n=$F.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?MF(i,e):IF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:LF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=RF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=sv(t[s].offset,V2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=kn(0,1,t[s].interpolate(t[s].current))}function FF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function zF(e,t,r,n={}){return{measure:i=>{FF(e,n.target,r),TF(e,r,i),(n.offset||n.target)&&BF(e,r,n)},notify:()=>t(r)}}const Zo=new WeakMap,Aj=new WeakMap,Qm=new WeakMap,Ej=e=>e===document.scrollingElement?window:e;function ZO(e,{container:t=document.scrollingElement,...r}={}){if(!t)return ur;let n=Qm.get(t);n||(n=new Set,Qm.set(t,n));const i=EF(),s=zF(t,e,i,r);if(n.add(s),!Zo.has(t)){const l=()=>{for(const f of n)f.measure(vt.timestamp);ke.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>ke.read(l);Zo.set(t,u);const d=Ej(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Aj.set(t,U4(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Zo.get(t);return ke.read(a,!1,!0),()=>{var u;un(a);const l=Qm.get(t);if(!l||(l.delete(s),l.size))return;const c=Zo.get(t);Zo.delete(t),c&&(Ej(t).removeEventListener("scroll",c),(u=Aj.get(t))==null||u(),window.removeEventListener("resize",c))}}const Cj=new Map;function UF(e){const t={value:0},r=ZO(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function eA({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Cj.get(t)??new Map;Cj.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&G2()?new ScrollTimeline({source:t,axis:n}):UF({container:t,...r})),a[l]}function WF(e,t){const r=eA(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),dO(i=>{n.time=n.duration*i},r))})}function VF(e){return e.length===2}function KF(e,t){return VF(e)?ZO(r=>{e(r[t.axis].progress,r)},t):dO(e,eA(t))}function HF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return ur;const i={axis:t,container:r,...n};return typeof e=="function"?KF(e,i):WF(e,i)}const qF=()=>({scrollX:an(0),scrollY:an(0),scrollXProgress:an(0),scrollYProgress:an(0)}),Nu=e=>e?!e.current:!1;function GF({container:e,target:t,...r}={}){const n=wo(qF),i=y.useRef(null),s=y.useRef(!1),a=y.useCallback(()=>(i.current=HF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Yf(()=>{if(s.current=!1,Nu(e)||Nu(t)){s.current=!0;return}else return a()},[a]),y.useEffect(()=>{if(s.current)return Qa(!Nu(e)),Qa(!Nu(t)),a()},[a]),n}function YF(e){const t=wo(()=>an(e)),{isStatic:r}=y.useContext(Jf);if(r){const[,n]=y.useState(e);y.useEffect(()=>t.on("change",n),[])}return t}function tA(e,t){const r=YF(t()),n=()=>r.set(t());return n(),Yf(()=>{const i=()=>ke.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),un(n)}}),r}function XF(e){El.current=[],e();const t=tA(El.current,e);return El.current=void 0,t}function Zm(e,t,r,n){if(typeof e=="function")return XF(e);const i=typeof t=="function"?t:V4(t,r,n);return Array.isArray(e)?Tj(e,i):Tj([e],([s])=>i(s))}function Tj(e,t){const r=wo(()=>[]);return tA(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Mj({onViewChange:e}){var k,E,K,Y,J,xe;const{user:t,logout:r}=dr(),[n,i]=y.useState(!1),[s,a]=y.useState(!1),[l,c]=y.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState([]),[x,w]=y.useState([]),[p,v]=y.useState([]),[b,j]=y.useState(!0),[N,S]=y.useState("all"),[P,O]=y.useState(0),D=y.useRef(null),{scrollYProgress:T}=GF(D.current?{target:D,offset:["start start","end start"],layoutEffect:!1}:void 0),C=Zm(T,[0,1],[0,-200]),z=Zm(T,[0,.5],[1,0]),$=Zm(T,[0,1],[0,-100]),_=async()=>{try{const{data:U}=await Z.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!U)return;const B={};U.forEach(I=>{const{player1_name:V,player2_name:M,winner_name:X}=I;B[V]||(B[V]={wins:0,total:0,tournaments:new Set}),B[M]||(B[M]={wins:0,total:0,tournaments:new Set}),B[V].total++,B[M].total++,X===V?B[V].wins++:X===M&&B[M].wins++});const Q=Object.entries(B).map(([I,V])=>({name:I,wins:V.wins,tournaments:V.tournaments.size,winRate:V.total>0?Math.round(V.wins/V.total*100):0})).filter(I=>I.wins>0).sort((I,V)=>V.wins!==I.wins?V.wins-I.wins:V.winRate-I.winRate).slice(0,5);h(Q)}catch(U){console.error("Error fetching top players:",U)}},A=async()=>{try{const{data:U}=await Z.from("tournaments").select("*"),{data:B}=await Z.from("match_results").select("*"),Q=new Set;B==null||B.forEach(M=>{M.player1_name&&Q.add(M.player1_name),M.player2_name&&Q.add(M.player2_name)});const I=new Date,V=(U==null?void 0:U.filter(M=>new Date(M.tournament_date)>I&&M.status!=="completed"))||[];c({totalTournaments:(U==null?void 0:U.length)||0,activePlayers:Q.size,upcomingEvents:V.length,completedMatches:(B==null?void 0:B.length)||0}),d(V.slice(0,3)),v(U||[])}catch(U){console.error("Error fetching dashboard stats:",U)}},F=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:U}=await Z.from("deck_presets").select("*").eq("user_id",t.id);g(U||[])}catch(U){console.error("Error fetching deck presets:",U)}},W=async()=>{try{let U=Z.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});N!=="all"&&(U=U.eq("tournament_id",N));const{data:B}=await U.limit(20);w(B||[])}catch(U){console.error("Error fetching recent matches:",U)}};return y.useEffect(()=>{(async()=>{j(!0),await Promise.all([A(),_(),F(),W()]),j(!1)})()},[t]),y.useEffect(()=>{W()},[N]),y.useEffect(()=>{if(f.length<=1)return;const U=setInterval(()=>{O(B=>(B+1)%f.length)},5e3);return()=>clearInterval(U)},[f.length]),b?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(wu,{children:n&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(v2,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(g2,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(p2,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Le.section,{ref:D,style:{y:C,opacity:z},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(lt,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Jo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx($i,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Jo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Le.div,{style:{y:$},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:lt,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:Nt,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:zi,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:_c,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((U,B)=>o.jsxs(Le.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:B*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${U.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${U.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(U.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:U.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:U.label})]},U.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Jump into action with our most popular features"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(lt,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles and view tournament brackets"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString()," • ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-blue-200 text-sm",children:[u[0].current_participants,"/",u[0].max_participants," registered"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Gf,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed • Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(kc,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory • Save presets • Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(wu,{mode:"wait",children:o.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(k=f[P])==null?void 0:k.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(m2,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(E=f[P])==null?void 0:E.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(W0,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(K=f[P])==null?void 0:K.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(Y=f[P])==null?void 0:Y.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(J=f[P])==null?void 0:J.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((U,B)=>o.jsx("button",{onClick:()=>O(B),className:`w-3 h-3 rounded-full transition-all duration-300 ${B===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},B))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:N,onChange:U=>S(U.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),p.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(wu,{mode:"wait",children:x.length===0?o.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Xa,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:N==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((xe=p.find(U=>U.id===N))==null?void 0:xe.name)||"this tournament"}`})]}):o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:x.slice(0,6).map((U,B)=>{var Q;return o.jsx(Le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:U.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",U.winner_name===U.player1_name?U.player2_name:U.player1_name]})]})]}),(U.player1_beyblade||U.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:U.winner_name===U.player1_name?`${U.player1_beyblade||"Unknown"} vs ${U.player2_beyblade||"Unknown"}`:`${U.player2_beyblade||"Unknown"} vs ${U.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((Q=U.outcome)==null?void 0:Q.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(U.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${U.tournament_id}-${U.submitted_at}-${B}`)})})})]})})}),o.jsx(Le.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay • Powered by Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.5.3"})]})]})})})]}),o.jsx(wu,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Le.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(x2,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Gt,{size:16})})]})})]})})]})}function JF({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(kc,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(As,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(Hf,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx(Xa,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(U0,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function QF({tournament:e,onClose:t}){var J,xe,U;const{user:r}=dr(),{alert:n}=Yi(),[i,s]=y.useState(""),[a,l]=y.useState(e.is_free?"free":"cash"),[c,u]=y.useState([{id:"1",bladeLine:"",parts:{}}]),[d,f]=y.useState([]),[h,m]=y.useState(""),[g,x]=y.useState(!1),[w,p]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(!1),[j,N]=y.useState(null),[S,P]=y.useState([]);y.useEffect(()=>{g&&r&&!r.id.startsWith("guest-")?s(r.username):g||s("")},[g,r]),y.useEffect(()=>{O(),D(),T()},[]);const O=async()=>{b(!0),N(null);try{const[B,Q,I,V,M]=await Promise.all([supabase.from("beypart_blade").select("*"),supabase.from("beypart_ratchet").select("*"),supabase.from("beypart_bit").select("*"),supabase.from("beypart_lockchip").select("*"),supabase.from("beypart_assistblade").select("*")]);if(B.error)throw B.error;if(Q.error)throw Q.error;if(I.error)throw I.error;if(V.error)throw V.error;if(M.error)throw M.error;p({blades:B.data||[],ratchets:Q.data||[],bits:I.data||[],lockchips:V.data||[],assistBlades:M.data||[]})}catch(B){console.error(B),N("Failed to load Beyblade parts. Please try again.")}finally{b(!1)}},D=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:B,error:Q}=await supabase.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(Q)throw Q;f(B||[])}catch(B){console.error(B)}},T=async()=>{try{const{data:B,error:Q}=await supabase.from("tournament_registrations").select("player_name").eq("tournament_id",e.id).eq("status","confirmed");if(Q)throw Q;P((B||[]).map(I=>I.player_name.toLowerCase().trim()))}catch(B){console.error("Error fetching player names",B)}},C=B=>{switch(B){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},z=(B,Q)=>{let I=[];switch(Q){case"Blade":I=w.blades.filter(V=>V.Line===B);break;case"Main Blade":I=w.blades.filter(V=>V.Line==="Custom");break;case"Ratchet":I=w.ratchets;break;case"Bit":I=w.bits;break;case"Lockchip":I=w.lockchips;break;case"Assist Blade":I=w.assistBlades;break}return I.sort((V,M)=>$(V,Q).localeCompare($(M,Q)))},$=(B,Q)=>{switch(Q){case"Blade":case"Main Blade":return B.Blades;case"Ratchet":return B.Ratchet;case"Bit":return`${B.Bit} (${B.Shortcut})`;case"Lockchip":return B.Lockchip;case"Assist Blade":return`${B["Assist Blade Name"]} (${B["Assist Blade"]})`;default:return""}},_=B=>{if(!C(B.bladeLine).every(I=>B.parts[I]))return"";if(B.bladeLine==="Custom"){const{Lockchip:I,"Main Blade":V,"Assist Blade":M,Ratchet:X,Bit:oe}=B.parts;return`${(I==null?void 0:I.Lockchip)||""}${(V==null?void 0:V.Blades)||""} ${(M==null?void 0:M["Assist Blade"])||""}${(X==null?void 0:X.Ratchet)||""}${(oe==null?void 0:oe.Shortcut)||""}`}else{const{Blade:I,Ratchet:V,Bit:M}=B.parts;return`${(I==null?void 0:I.Blades)||""} ${(V==null?void 0:V.Ratchet)||""}${(M==null?void 0:M.Shortcut)||""}`}},A=B=>Object.values(B).reduce((Q,I)=>(I&&(Q.attack+=I.Attack||0,Q.defense+=I.Defense||0,Q.stamina+=I.Stamina||0,Q.dash+=I.Dash||0,Q.burstRes+=I["Burst Res"]||0),Q),{attack:0,defense:0,stamina:0,dash:0,burstRes:0}),F=(B,Q,I)=>{u(c.map(V=>V.id===B?{...V,[Q]:I,parts:{}}:V))},W=(B,Q,I)=>{u(c.map(V=>{if(V.id===B){const M={...V.parts,[Q]:I};return{...V,parts:M}}return V}))},k=B=>{c.length>1&&u(c.filter(Q=>Q.id!==B))},E=B=>{const Q=d.find(V=>V.id===B);if(!Q)return;const I=Q.beyblades.slice(0,e.beyblades_per_player).map((V,M)=>({id:(M+1).toString(),bladeLine:V.blade_line,parts:V.parts}));u(I),m("")},K=()=>{if(!i.trim())return!1;const B=i.toLowerCase().trim();return S.includes(B)?!1:c.every(Q=>Q.bladeLine?C(Q.bladeLine).every(V=>Q.parts[V]):!1)},Y=async()=>{var B;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const I=(B=(await supabase.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&B.is_free?"confirmed":"unpaid",{data:V,error:M}=await supabase.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:I}).select().single();if(M)throw M;for(const X of c){const oe=_(X),{data:R,error:q}=await supabase.from("tournament_beyblades").insert({registration_id:V.id,beyblade_name:oe,blade_line:X.bladeLine}).select().single();if(q)throw q;const ee=Object.entries(X.parts).map(([ce,me])=>({beyblade_id:R.id,part_type:ce,part_name:$(me,ce),part_data:me})),{error:ne}=await supabase.from("tournament_beyblade_parts").insert(ee);if(ne)throw ne}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(Q){console.error(Q),await n("Registration Failed",Q.message||"Unknown error occurred.")}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[v&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[j&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:j}),o.jsx("button",{onClick:O,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Td,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),r&&!r.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:B=>x(B.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zL,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Registering for myself (",r.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:i,onChange:B=>s(B.target.value),disabled:g,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`}),i.trim()&&S.includes(i.toLowerCase().trim())&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:a,onChange:B=>l(B.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),!(r!=null&&r.id.startsWith("guest-"))&&d.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(La,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:h,onChange:B=>m(B.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),d.map(B=>o.jsxs("option",{value:B.id,children:[B.name," (",B.beyblades.length," Beyblades)"]},B.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>h&&E(h),disabled:!h,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(J=d.find(B=>B.id===h))==null?void 0:J.beyblades.slice(0,3).map((B,Q)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:["• ",B.name||`Beyblade ${Q+1}`]},Q)),((xe=d.find(B=>B.id===h))==null?void 0:xe.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((U=d.find(B=>B.id===h))==null?void 0:U.beyblades.length)-3," more..."]})]})})]}),c.map((B,Q)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",Q+1]}),c.length>1&&o.jsx("button",{onClick:()=>k(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(_n,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blade Line *"}),o.jsxs("select",{value:B.bladeLine,onChange:I=>F(B.id,"bladeLine",I.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Blade Line"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),B.bladeLine&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:_(B)||"Select all parts to generate name"})]})]}),B.bladeLine&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C(B.bladeLine).map(I=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[I," *"]}),o.jsxs("select",{value:B.parts[I]?JSON.stringify(B.parts[I]):"",onChange:V=>V.target.value&&W(B.id,I,JSON.parse(V.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",I]}),z(B.bladeLine,I).map((V,M)=>o.jsx("option",{value:JSON.stringify(V),children:$(V,I)},M))]})]},I))}),B.bladeLine&&Object.keys(B.parts).length>0&&o.jsx(JF,{stats:A(B.parts)})]},B.id)),c.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>u([...c,{id:Date.now().toString(),bladeLine:"",parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:Y,disabled:!K()||v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function ZF(){dr();const{alert:e}=Yi(),[t,r]=y.useState("all"),[n,i]=y.useState(null),[s,a]=y.useState([]),[l,c]=y.useState(!0);ki.useEffect(()=>{(async()=>{try{const{data:m,error:g}=await Z.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(g)throw g;a(m||[])}catch(m){console.error("Error fetching tournaments:",m),a([])}finally{c(!1)}})()},[]);const u=s.filter(h=>t==="all"||h.status===t),d=(h,m)=>{console.log("Tournament registration:",{playerName:h,beyblades:m}),e("Registration Complete",`Successfully registered ${h} with ${m.length} Beyblades for the tournament!`),i(null)},f=h=>{switch(h){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade battles"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(h=>o.jsx("button",{onClick:()=>r(h),className:`filter-tab capitalize ${t===h?"filter-tab-active":"filter-tab-inactive"}`,children:h},h))})}),l?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(lt,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>o.jsxs("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:h.name}),o.jsx("span",{className:`badge capitalize ${f(h.status)}`,children:h.status})]}),o.jsx("p",{className:"text-gray-600 mb-6 font-inter",children:h.description}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(zi,{size:16,className:"mr-2"}),new Date(h.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(y2,{size:16,className:"mr-2"}),h.location]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Nt,{size:16,className:"mr-2"}),h.max_participants===999999?`${h.current_participants} participants (no limit)`:`${h.current_participants}/${h.max_participants} participants`]}),h.prize_pool&&o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(lt,{size:16,className:"mr-2"}),"Prize Pool: ",h.prize_pool]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Hf,{size:16,className:"mr-2"}),"Registration ends: ",new Date(h.registration_deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-2",children:[o.jsx("span",{children:"Registration Progress"}),o.jsx("span",{children:h.max_participants===999999?`${h.current_participants} registered`:`${Math.round(h.current_participants/h.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:h.max_participants===999999?"100%":`${Math.min(h.current_participants/h.max_participants*100,100)}%`}})})]}),h.status==="upcoming"&&o.jsx("button",{onClick:()=>i(h.id),disabled:h.max_participants!==999999&&h.current_participants>=h.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed",children:h.max_participants!==999999&&h.current_participants>=h.max_participants?"Tournament Full":"Register for Tournament"})]},h.id))}),n&&o.jsx(QF,{tournament:u.find(h=>h.id===n),onClose:()=>i(null),onSubmit:d})]})})}function rA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=rA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=rA(e))&&(n&&(n+=" "),n+=t);return n}var th={},nA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(nA);var Pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Pv);var _v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(_v);var rh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(rh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nA,r=Pv,n=_v,i=rh;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(th);var ez=th.get;const Wi=Kr(ez);var iA={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv=Symbol.for("react.transitional.element"),Ov=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),ah=Symbol.for("react.consumer"),oh=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),tz=Symbol.for("react.view_transition"),rz=Symbol.for("react.client.reference");function Hr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case kv:switch(e=e.type,e){case nh:case sh:case ih:case ch:case uh:case tz:return e;default:switch(e=e&&e.$$typeof,e){case oh:case lh:case fh:case dh:return e;case ah:return e;default:return t}}case Ov:return t}}}Ee.ContextConsumer=ah;Ee.ContextProvider=oh;Ee.Element=kv;Ee.ForwardRef=lh;Ee.Fragment=nh;Ee.Lazy=fh;Ee.Memo=dh;Ee.Portal=Ov;Ee.Profiler=sh;Ee.StrictMode=ih;Ee.Suspense=ch;Ee.SuspenseList=uh;Ee.isContextConsumer=function(e){return Hr(e)===ah};Ee.isContextProvider=function(e){return Hr(e)===oh};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===kv};Ee.isForwardRef=function(e){return Hr(e)===lh};Ee.isFragment=function(e){return Hr(e)===nh};Ee.isLazy=function(e){return Hr(e)===fh};Ee.isMemo=function(e){return Hr(e)===dh};Ee.isPortal=function(e){return Hr(e)===Ov};Ee.isProfiler=function(e){return Hr(e)===sh};Ee.isStrictMode=function(e){return Hr(e)===ih};Ee.isSuspense=function(e){return Hr(e)===ch};Ee.isSuspenseList=function(e){return Hr(e)===uh};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nh||e===sh||e===ih||e===ch||e===uh||typeof e=="object"&&e!==null&&(e.$$typeof===fh||e.$$typeof===dh||e.$$typeof===oh||e.$$typeof===ah||e.$$typeof===lh||e.$$typeof===rz||e.getModuleId!==void 0)};Ee.typeOf=Hr;iA.exports=Ee;var nz=iA.exports,wt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),On=e=>ie(e)||typeof e=="string",iz=0,ac=e=>{var t=++iz;return"".concat(e||"").concat(t)},qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return n;var s;if(ws(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return wr(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},sA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Oa=(e,t)=>ie(e)&&ie(t)?r=>e+r*(t-e):()=>t;function aa(e,t,r){return ie(e)&&ie(t)?e+r*(t-e):t}function sz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wi(n,t))===r)}var et=e=>e===null||typeof e>"u",Tc=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),az=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Av(e){if(typeof e!="string")return!1;var t=az;return t.includes(e)}var oz=["viewBox","children"],Dj=["points","pathLength"],ep={svg:oz,polygon:Dj,polyline:Dj},Ev=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Av(i)&&(n[i]=s=>r[i](r,s))}),n},lz=(e,t,r)=>n=>(e(t,r,n),null),Po=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Av(i)&&typeof s=="function"&&(n||(n={}),n[i]=lz(s,t,r))}),n},cz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function aA(e){if(typeof e!="string")return!1;var t=cz;return t.includes(e)}function Bt(e){var t=Object.entries(e).filter(r=>{var[n]=r;return aA(n)});return Object.fromEntries(t)}var Rj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$j=null,tp=null,oA=e=>{if(e===$j&&Array.isArray(tp))return tp;var t=[];return y.Children.forEach(e,r=>{et(r)||(nz.isFragment(r)?t=t.concat(oA(r.props.children)):t.push(r))}),tp=t,$j=e,t};function Mc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Rj(i)):n=[Rj(t)],oA(e).forEach(i=>{var s=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var uz=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(ep==null?void 0:ep[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||aA(t)),c=!!r&&Av(t);return a||l||c},je=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;uz((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},dz=["children","width","height","viewBox","className","style","title","desc"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function fz(e,t){if(e==null)return{};var r,n,i=hz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lA=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=fz(e,dz),f=s||{width:n,height:i,x:0,y:0},h=pe("recharts-surface",a);return y.createElement("svg",Jg({},je(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),mz=["children","className"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(null,arguments)}function pz(e,t){if(e==null)return{};var r,n,i=gz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ge=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=pz(e,mz),s=pe("recharts-layer",n);return y.createElement("g",Qg({className:s},je(i,!0),{ref:t}),r)}),yz=y.createContext(null);function De(e){return function(){return e}}const cA=Math.cos,Ld=Math.sin,dn=Math.sqrt,Bd=Math.PI,hh=2*Bd,Zg=Math.PI,ey=2*Zg,fs=1e-6,vz=ey-fs;function uA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function xz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return uA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class bz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?uA:xz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fs)if(!(Math.abs(f*c-u*d)>fs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,g=i-l,x=c*c+u*u,w=m*m+g*g,p=Math.sqrt(x),v=Math.sqrt(h),b=s*Math.tan((Zg-Math.acos((x+h-w)/(2*p*v)))/2),j=b/v,N=b/p;Math.abs(j-1)>fs&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fs||Math.abs(this._y1-d)>fs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ey+ey),h>vz?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>fs&&this._append`A${n},${n},0,${+(h>=Zg)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Cv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new bz(t)}function Tv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function dA(e){this._context=e}dA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mh(e){return new dA(e)}function fA(e){return e[0]}function hA(e){return e[1]}function mA(e,t){var r=De(!0),n=null,i=mh,s=null,a=Cv(l);e=typeof e=="function"?e:e===void 0?fA:De(e),t=typeof t=="function"?t:t===void 0?hA:De(t);function l(c){var u,d=(c=Tv(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:De(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:De(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:De(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Su(e,t,r){var n=null,i=De(!0),s=null,a=mh,l=null,c=Cv(u);e=typeof e=="function"?e:e===void 0?fA:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?hA:De(+r);function u(f){var h,m,g,x=(f=Tv(f)).length,w,p=!1,v,b=new Array(x),j=new Array(x);for(s==null&&(l=a(v=c())),h=0;h<=x;++h){if(!(h<x&&i(w=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}p&&(b[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return mA().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:De(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:De(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:De(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class pA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function wz(e){return new pA(e,!0)}function jz(e){return new pA(e,!1)}const Mv={draw(e,t){const r=dn(t/Bd);e.moveTo(r,0),e.arc(0,0,r,0,hh)}},Nz={draw(e,t){const r=dn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},gA=dn(1/3),Sz=gA*2,Pz={draw(e,t){const r=dn(t/Sz),n=r*gA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},_z={draw(e,t){const r=dn(t),n=-r/2;e.rect(n,n,r,r)}},kz=.8908130915292852,yA=Ld(Bd/10)/Ld(7*Bd/10),Oz=Ld(hh/10)*yA,Az=-cA(hh/10)*yA,Ez={draw(e,t){const r=dn(t*kz),n=Oz*r,i=Az*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=hh*s/5,l=cA(a),c=Ld(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},rp=dn(3),Cz={draw(e,t){const r=-dn(t/(rp*3));e.moveTo(0,r*2),e.lineTo(-rp*r,-r),e.lineTo(rp*r,-r),e.closePath()}},Er=-.5,Cr=dn(3)/2,ty=1/dn(12),Tz=(ty/2+1)*3,Mz={draw(e,t){const r=dn(t/Tz),n=r/2,i=r*ty,s=n,a=r*ty+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Er*n-Cr*i,Cr*n+Er*i),e.lineTo(Er*s-Cr*a,Cr*s+Er*a),e.lineTo(Er*l-Cr*c,Cr*l+Er*c),e.lineTo(Er*n+Cr*i,Er*i-Cr*n),e.lineTo(Er*s+Cr*a,Er*a-Cr*s),e.lineTo(Er*l+Cr*c,Er*c-Cr*l),e.closePath()}};function Dz(e,t){let r=null,n=Cv(i);e=typeof e=="function"?e:De(e||Mv),t=typeof t=="function"?t:De(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:De(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:De(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Fd(){}function zd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function vA(e){this._context=e}vA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rz(e){return new vA(e)}function xA(e){this._context=e}xA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $z(e){return new xA(e)}function bA(e){this._context=e}bA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Iz(e){return new bA(e)}function wA(e){this._context=e}wA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Lz(e){return new wA(e)}function Ij(e){return e<0?-1:1}function Lj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(Ij(s)+Ij(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Bj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function np(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:np(this,this._t0,Bj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,np(this,Bj(this,r=Lj(this,e,t)),r);break;default:np(this,this._t0,r=Lj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function jA(e){this._context=new NA(e)}(jA.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function NA(e){this._context=e}NA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Bz(e){return new Ud(e)}function Fz(e){return new jA(e)}function SA(e){this._context=e}SA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Fj(e),i=Fj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Fj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function zz(e){return new SA(e)}function ph(e,t){this._context=e,this._t=t}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Uz(e){return new ph(e,.5)}function Wz(e){return new ph(e,0)}function Vz(e){return new ph(e,1)}function to(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ry(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Kz(e,t){return e[t]}function Hz(e){const t=[];return t.key=e,t}function qz(){var e=De([]),t=ry,r=to,n=Kz;function i(s){var a=Array.from(e.apply(this,arguments),Hz),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Tv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:De(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:De(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?ry:typeof s=="function"?s:De(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??to,i):r},i}function Gz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}to(e,t)}}function Yz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}to(e,t)}}function Xz(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var x=e[t[g]],w=x[n][1]||0,p=x[n-1][1]||0;m+=w-p}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,to(e,t)}}var Jz=["type","size","sizeType"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){Qz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qz(e,t,r){return(t=Zz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zz(e){var t=e8(e,"string");return typeof t=="symbol"?t:t+""}function e8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function t8(e,t){if(e==null)return{};var r,n,i=r8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function r8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PA={symbolCircle:Mv,symbolCross:Nz,symbolDiamond:Pz,symbolSquare:_z,symbolStar:Ez,symbolTriangle:Cz,symbolWye:Mz},n8=Math.PI/180,i8=e=>{var t="symbol".concat(Tc(e));return PA[t]||Mv},s8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*n8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},a8=(e,t)=>{PA["symbol".concat(Tc(e))]=t},_A=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=t8(e,Jz),s=Uj(Uj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=i8(t),h=Dz().type(f).size(s8(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=je(s,!0);return c===+c&&u===+u&&r===+r?y.createElement("path",ny({},d,{className:pe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};_A.registerSymbol=a8;var kA={},OA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(OA);var Dc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Dc);var AA={},gh={},EA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(EA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gh);var CA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(CA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gh,r=CA;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(AA);var yh={},TA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=th;function r(n){return function(i){return t.get(i,n)}}e.property=r})(TA);var MA={},ip={},sp={},Dv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dv);var Rv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Rv);var vh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(vh);var Wj;function o8(){return Wj||(Wj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v(),r=Dv,n=Rv,i=vh;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function g(x,w,p,v,b,j){const N=m(x,w,p,v,b,j);return N!==void 0?!!N:a(x,w,g,j)},new Map)}function a(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,g);case"function":return Object.keys(h).length>0?a(f,{...h},m,g):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let w=0;w<x.length;w++){const p=x[w];if(!n.isPrimitive(f)&&!(p in f)||h[p]===void 0&&f[p]!==void 0||h[p]===null&&f[p]!==null||!m(f[p],h[p],p,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const p=f.get(x);if(m(p,w,x,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const p=h[w];let v=!1;for(let b=0;b<f.length;b++){if(x.has(b))continue;const j=f[b];let N=!1;if(m(j,p,w,f,h,g)&&(N=!0),N){x.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}e.isMatchWith=s,e.isSetMatch=d}(sp)),sp}var Vj;function $v(){return Vj||(Vj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(ip)),ip}var DA={},Iv={},Lv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Lv);var xh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(xh);var bh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",w="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=D,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=p})(bh);var RA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(RA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lv,r=xh,n=bh,i=Rv,s=RA;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const x=g==null?void 0:g(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let p=0;p<d.length;p++)w[p]=l(d[p],p,h,m,g);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[p,v]of d)w.set(p,l(v,p,h,m,g));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const p of d)w.add(l(p,void 0,h,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let p=0;p<d.length;p++)w[p]=l(d[p],p,h,m,g);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,g),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,g),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,g),w}return d}function c(d,f,h=d,m,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<x.length;w++){const p=x[w],v=Object.getOwnPropertyDescriptor(d,p);(v==null||v.writable)&&(d[p]=l(f[p],p,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(Iv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(DA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v(),r=DA;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(MA);var $A={},IA={},LA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv,r=bh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(LA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(IA);var BA={},Bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Bv);var FA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(FA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pv,r=Bv,n=FA,i=rh;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(BA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v(),r=_v,n=IA,i=th,s=BA;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})($A);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dc,r=TA,n=MA,i=$A;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(yh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OA,r=Dc,n=AA,i=yh;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(kA);var l8=kA.uniqBy;const Kj=Kr(l8);function c8(e,t,r){return t===!0?Kj(e,r):typeof t=="function"?Kj(e,t):e}var zA={exports:{}},UA={},WA={exports:{}},VA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=y;function u8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var d8=typeof Object.is=="function"?Object.is:u8,f8=ro.useState,h8=ro.useEffect,m8=ro.useLayoutEffect,p8=ro.useDebugValue;function g8(e,t){var r=t(),n=f8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return m8(function(){i.value=r,i.getSnapshot=t,ap(i)&&s({inst:i})},[e,r,t]),h8(function(){return ap(i)&&s({inst:i}),e(function(){ap(i)&&s({inst:i})})},[e]),p8(r),r}function ap(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!d8(e,r)}catch{return!0}}function y8(e,t){return t()}var v8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?y8:g8;VA.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:v8;WA.exports=VA;var x8=WA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=y,b8=x8;function w8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var j8=typeof Object.is=="function"?Object.is:w8,N8=b8.useSyncExternalStore,S8=wh.useRef,P8=wh.useEffect,_8=wh.useMemo,k8=wh.useDebugValue;UA.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=S8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=_8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,j8(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=N8(e,s[0],s[1]);return P8(function(){a.hasValue=!0,a.value=l},[l]),k8(l),l};zA.exports=UA;var O8=zA.exports,Fv=y.createContext(null),A8=e=>e,Ye=()=>{var e=y.useContext(Fv);return e?e.store.dispatch:A8},nd=()=>{},E8=()=>nd,C8=(e,t)=>e===t;function re(e){var t=y.useContext(Fv);return O8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:E8,t?t.store.getState:nd,t?t.store.getState:nd,t?e:nd,C8)}function T8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function M8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function D8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Hj=e=>Array.isArray(e)?e:[e];function R8(e){const t=Array.isArray(e[0])?e[0]:e;return D8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function $8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var I8=class{constructor(e){this.value=e}deref(){return this.value}},L8=typeof WeakRef<"u"?WeakRef:I8,B8=0,qj=1;function Pu(){return{s:B8,v:void 0,o:null,p:null}}function KA(e,t={}){let r=Pu();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=Pu(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=Pu(),x.set(g,l)):l=w}}const u=l;let d;if(l.s===qj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new L8(d):d}return u.s=qj,u.v=d,d}return a.clearCache=()=>{r=Pu(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function F8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),T8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=KA,argsMemoizeOptions:g=[],devModeChecks:x={}}=d,w=Hj(h),p=Hj(g),v=R8(i),b=f(function(){return s++,u.apply(null,arguments)},...w),j=m(function(){a++;const S=$8(v,arguments);return l=b.apply(null,S),l},...p);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=F8(KA),z8=Object.assign((e,t=L)=>{M8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>z8}),HA={},qA={},GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(GA);var YA={},zv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(zv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(YA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GA,r=YA,n=rh;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let x=m;for(let w=0;w<g.length&&x!=null;++w)x=x[g[w]];return x},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let x=0;x<f.length;x++){const w=t.compareValues(m.criteria[x],g.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(qA);var XA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(XA);var Uv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv,r=gh,n=Dv,i=vh;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Uv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA,r=XA,n=Uv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(HA);var U8=HA.sortBy;const jh=Kr(U8);var JA=e=>e.legend.settings,W8=e=>e.legend.size,V8=e=>e.legend.payload;L([V8,JA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?jh(n,r):n});var _u=1;function K8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>_u||Math.abs(a.left-t.left)>_u||Math.abs(a.top-t.top)>_u||Math.abs(a.width-t.width)>_u)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var H8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Gj=H8,op=()=>Math.random().toString(36).substring(7).split("").join("."),q8={INIT:`@@redux/INIT${op()}`,REPLACE:`@@redux/REPLACE${op()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${op()}`},Wd=q8;function Wv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function QA(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(QA)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,p)=>{a.set(p,w)}))}function d(){if(c)throw new Error(Pt(3));return i}function f(w){if(typeof w!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let p=!0;u();const v=l++;return a.set(v,w),function(){if(p){if(c)throw new Error(Pt(6));p=!1,u(),a.delete(v),s=null}}}function h(w){if(!Wv(w))throw new Error(Pt(7));if(typeof w.type>"u")throw new Error(Pt(8));if(typeof w.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(Pt(10));n=w,h({type:Wd.REPLACE})}function g(){const w=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Pt(11));function v(){const j=p;j.next&&j.next(d())}return v(),{unsubscribe:w(v)}},[Gj](){return this}}}return h({type:Wd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Gj]:g}}function G8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wd.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function ZA(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{G8(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(Pt(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function Y8(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Vd(...l)(i.dispatch),{...i,dispatch:s}}}function eE(e){return Wv(e)&&"type"in e&&typeof e.type=="string"}var tE=Symbol.for("immer-nothing"),Yj=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var no=Object.getPrototypeOf;function zs(e){return!!e&&!!e[jr]}function Xn(e){var t;return e?rE(e)||Array.isArray(e)||!!e[Yj]||!!((t=e.constructor)!=null&&t[Yj])||Sh(e)||Ph(e):!1}var X8=Object.prototype.constructor.toString();function rE(e){if(!e||typeof e!="object")return!1;const t=no(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===X8}function Kd(e,t){Nh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Nh(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Sh(e)?2:Ph(e)?3:0}function iy(e,t){return Nh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function nE(e,t,r){const n=Nh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function J8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Sh(e){return e instanceof Map}function Ph(e){return e instanceof Set}function hs(e){return e.copy_||e.base_}function sy(e,t){if(Sh(e))return new Map(e);if(Ph(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=rE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(no(e),n)}else{const n=no(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Vv(e,t=!1){return _h(e)||zs(e)||!Xn(e)||(Nh(e)>1&&(e.set=e.add=e.clear=e.delete=Q8),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Vv(n,!0))),e}function Q8(){nn(2)}function _h(e){return Object.isFrozen(e)}var Z8={};function Us(e){const t=Z8[e];return t||nn(0,e),t}var oc;function iE(){return oc}function eU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xj(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ay(e){oy(e),e.drafts_.forEach(tU),e.drafts_=null}function oy(e){e===oc&&(oc=e.parent_)}function Jj(e){return oc=eU(oc,e)}function tU(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Qj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(ay(t),nn(4)),Xn(e)&&(e=Hd(t,e),t.parent_||qd(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=Hd(t,r,[]),ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==tE?e:void 0}function Hd(e,t,r){if(_h(t))return t;const n=t[jr];if(!n)return Kd(t,(i,s)=>Zj(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return qd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Kd(s,(l,c)=>Zj(e,n,i,l,c,r,a)),qd(e,i,!1),r&&e.patches_&&Us("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Zj(e,t,r,n,i,s,a){if(zs(i)){const l=s&&t&&t.type_!==3&&!iy(t.assigned_,n)?s.concat(n):void 0,c=Hd(e,i,l);if(nE(r,n,c),zs(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Xn(i)&&!_h(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&qd(e,i)}}function qd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vv(t,r)}function rU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:iE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Kv;r&&(i=[n],s=lc);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var Kv={get(e,t){if(t===jr)return e;const r=hs(e);if(!iy(r,t))return nU(e,r,t);const n=r[t];return e.finalized_||!Xn(n)?n:n===lp(e.base_,t)?(cp(e),e.copy_[t]=cy(n,e)):n},has(e,t){return t in hs(e)},ownKeys(e){return Reflect.ownKeys(hs(e))},set(e,t,r){const n=sE(hs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=lp(hs(e),t),s=i==null?void 0:i[jr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(J8(r,i)&&(r!==void 0||iy(e.base_,t)))return!0;cp(e),ly(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cp(e),ly(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){nn(11)},getPrototypeOf(e){return no(e.base_)},setPrototypeOf(){nn(12)}},lc={};Kd(Kv,(e,t)=>{lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lc.deleteProperty=function(e,t){return lc.set.call(this,e,t,void 0)};lc.set=function(e,t,r){return Kv.set.call(this,e[0],t,r,e[0])};function lp(e,t){const r=e[jr];return(r?hs(r):e)[t]}function nU(e,t,r){var i;const n=sE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function sE(e,t){if(!(t in e))return;let r=no(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=no(r)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function cp(e){e.copy_||(e.copy_=sy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var iU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&nn(6),n!==void 0&&typeof n!="function"&&nn(7);let i;if(Xn(t)){const s=Jj(this),a=cy(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?ay(s):oy(s)}return Xj(s,n),Qj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===tE&&(i=void 0),this.autoFreeze_&&Vv(i,!0),n){const s=[],a=[];Us("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else nn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Xn(e)||nn(8),zs(e)&&(e=Wn(e));const t=Jj(this),r=cy(e,void 0);return r[jr].isManual_=!0,oy(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&nn(9);const{scope_:n}=r;return Xj(n,t),Qj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Us("Patches").applyPatches_;return zs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function cy(e,t){const r=Sh(e)?Us("MapSet").proxyMap_(e,t):Ph(e)?Us("MapSet").proxySet_(e,t):rU(e,t);return(t?t.scope_:iE()).drafts_.push(r),r}function Wn(e){return zs(e)||nn(10,e),aE(e)}function aE(e){if(!Xn(e)||_h(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sy(e,t.scope_.immer_.useStrictShallowCopy_)}else r=sy(e,!0);return Kd(r,(n,i)=>{nE(r,n,aE(i))}),t&&(t.finalized_=!1),r}var Nr=new iU,oE=Nr.produce;Nr.produceWithPatches.bind(Nr);Nr.setAutoFreeze.bind(Nr);Nr.setUseStrictShallowCopy.bind(Nr);Nr.applyPatches.bind(Nr);Nr.createDraft.bind(Nr);Nr.finishDraft.bind(Nr);function lE(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var sU=lE(),aU=lE,oU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vd:Vd.apply(null,arguments)};function Wr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>eE(n)&&n.type===e,r}var cE=class pl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pl.prototype)}static get[Symbol.species](){return pl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pl(...t[0].concat(this)):new pl(...t.concat(this))}};function eN(e){return Xn(e)?oE(e,()=>{}):e}function ku(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function lU(e){return typeof e=="boolean"}var cU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new cE;return r&&(lU(r)?a.push(sU):a.push(aU(r.extraArgument))),a},uU="RTK_autoBatch",tN=e=>t=>{setTimeout(t,e)},dU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:tN(10):e.type==="callback"?e.queueNotification:tN(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[uU]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},fU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new cE(e);return n&&i.push(dU(typeof n=="object"?n:void 0)),i};function hU(e){const t=cU(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Wv(r))c=ZA(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Vd;i&&(d=oU({trace:!1,...typeof i=="object"&&i}));const f=Y8(...u),h=fU(f);let m=typeof l=="function"?l(h):h();const g=d(...m);return QA(c,a,g)}function uE(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(xr(28));if(l in t)throw new Error(xr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function mU(e){return typeof e=="function"}function pU(e,t){let[r,n,i]=uE(t),s;if(mU(e))s=()=>eN(e());else{const l=eN(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(zs(d)){const m=f(d,c);return m===void 0?d:m}else{if(Xn(d))return oE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var gU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",yU=(e=21)=>{let t="",r=e;for(;r--;)t+=gU[Math.random()*64|0];return t},vU=Symbol.for("rtk-slice-createasyncthunk");function xU(e,t){return`${e}/${t}`}function bU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[vU];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(xr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(jU()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(xr(12));if(S in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=l[j],S={reducerName:j,type:xU(s,j),createNotation:typeof i.reducers=="function"};SU(N)?_U(S,N,d,t):NU(S,N,d)});function f(){const[j={},N=[],S=void 0]=typeof i.extraReducers=="function"?uE(i.extraReducers):[i.extraReducers],P={...j,...u.sliceCaseReducersByType};return pU(i.initialState,O=>{for(let D in P)O.addCase(D,P[D]);for(let D of u.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of N)O.addMatcher(D.matcher,D.reducer);S&&O.addDefaultCase(S)})}const h=j=>j,m=new Map,g=new WeakMap;let x;function w(j,N){return x||(x=f()),x(j,N)}function p(){return x||(x=f()),x.getInitialState()}function v(j,N=!1){function S(O){let D=O[j];return typeof D>"u"&&N&&(D=ku(g,S,p)),D}function P(O=h){const D=ku(m,N,()=>new WeakMap);return ku(D,O,()=>{const T={};for(const[C,z]of Object.entries(i.selectors??{}))T[C]=wU(z,O,()=>ku(g,O,p),N);return T})}return{reducerPath:j,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...v(a),injectInto(j,{reducerPath:N,...S}={}){const P=N??a;return j.inject({reducerPath:P,reducer:w},S),{...b,...v(P,!0)}}};return b}}function wU(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var kr=bU();function jU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function NU({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!PU(n))throw new Error(xr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Wr(e,a):Wr(e))}function SU(e){return e._reducerDefinitionType==="asyncThunk"}function PU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _U({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Ou,pending:l||Ou,rejected:c||Ou,settled:u||Ou})}function Ou(){}var kU="task",dE="listener",fE="completed",Hv="cancelled",OU=`task-${Hv}`,AU=`task-${fE}`,uy=`${dE}-${Hv}`,EU=`${dE}-${fE}`,kh=class{constructor(e){nm(this,"name","TaskAbortError");nm(this,"message");this.code=e,this.message=`${kU} ${Hv} (reason: ${e})`}},qv=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},Gd=()=>{},hE=(e,t=Gd)=>(e.catch(t),e),mE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ts=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ms=e=>{if(e.aborted){const{reason:t}=e;throw new kh(t)}};function pE(e,t){let r=Gd;return new Promise((n,i)=>{const s=()=>i(new kh(e.reason));if(e.aborted){s();return}r=mE(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gd})}var CU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof kh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yd=e=>t=>hE(pE(e,t).then(r=>(Ms(e),r))),gE=e=>{const t=Yd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fa}=Object,rN={},Oh="listenerMiddleware",TU=(e,t)=>{const r=n=>mE(e,()=>Ts(n,e.reason));return(n,i)=>{qv(n);const s=new AbortController;r(s);const a=CU(async()=>{Ms(e),Ms(s.signal);const l=await n({pause:Yd(s.signal),delay:gE(s.signal),signal:s.signal});return Ms(s.signal),l},()=>Ts(s,AU));return i!=null&&i.autoJoin&&t.push(a.catch(Gd)),{result:Yd(e)(a),cancel(){Ts(s,OU)}}}},MU=(e,t)=>{const r=async(n,i)=>{Ms(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await pE(t,Promise.race(l));return Ms(t),c}finally{s()}};return(n,i)=>hE(r(n,i))},yE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Wr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return qv(s),{predicate:i,type:t,effect:s}},vE=Fa(e=>{const{type:t,predicate:r,effect:n}=yE(e);return{id:yU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>vE}),nN=(e,t)=>{const{type:r,effect:n,predicate:i}=yE(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},dy=e=>{e.pending.forEach(t=>{Ts(t,uy)})},DU=e=>()=>{e.forEach(dy),e.clear()},iN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},xE=Fa(Wr(`${Oh}/add`),{withTypes:()=>xE}),RU=Wr(`${Oh}/removeAll`),bE=Fa(Wr(`${Oh}/remove`),{withTypes:()=>bE}),$U=(...e)=>{console.error(`${Oh}/error`,...e)},Rc=(e={})=>{const t=new Map,{extra:r,onError:n=$U}=e;qv(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&dy(d)}),s=d=>{const f=nN(t,d)??vE(d);return i(f)};Fa(s,{withTypes:()=>s});const a=d=>{const f=nN(t,d);return f&&(f.unsubscribe(),d.cancelActive&&dy(f)),!!f};Fa(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const g=new AbortController,x=MU(s,g.signal),w=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,Fa({},h,{getOriginalState:m,condition:(p,v)=>x(p,v).then(Boolean),take:x,delay:gE(g.signal),pause:Yd(g.signal),extra:r,signal:g.signal,fork:TU(g.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((p,v,b)=>{p!==g&&(Ts(p,uy),b.delete(p))})},cancel:()=>{Ts(g,uy),d.pending.delete(g)},throwIfCancelled:()=>{Ms(g.signal)}})))}catch(p){p instanceof kh||iN(n,p,{raisedBy:"effect"})}finally{await Promise.all(w),Ts(g,EU),d.pending.delete(g)}},c=DU(t);return{middleware:d=>f=>h=>{if(!eE(h))return f(h);if(xE.match(h))return s(h.payload);if(RU.match(h)){c();return}if(bE.match(h))return a(h.payload);let m=d.getState();const g=()=>{if(m===rN)throw new Error(xr(23));return m};let x;try{if(x=f(h),t.size>0){const w=d.getState(),p=Array.from(t.values());for(const v of p){let b=!1;try{b=v.predicate(h,w,m)}catch(j){b=!1,iN(n,j,{raisedBy:"predicate"})}b&&l(v,h,d,g)}}}finally{m=rN}return x},startListening:s,stopListening:a,clearListeners:c}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var IU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},wE=kr({name:"chartLayout",initialState:IU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:LU,setLayout:BU,setChartSize:FU,setScale:zU}=wE.actions,UU=wE.reducer;function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){WU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=KU(e,"string");return typeof t=="symbol"?t:t+""}function KU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,HU=e=>e*180/Math.PI,Se=(e,t,r,n)=>({x:e+Math.cos(-Xd*n)*r,y:t+Math.sin(-Xd*n)*r}),jE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},GU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=qU({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:HU(c),angleInRadian:c}},YU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},XU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},JU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=GU({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=YU(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?aN(aN({},t),{},{radius:i,angle:XU(d,t)}):null},NE=e=>!y.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function SE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){QU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QU(e,t,r){return(t=ZU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZU(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $e(e,t,r){return et(e)||et(t)?r:On(t)?Wi(e,t,r):typeof t=="function"?t(e):r}var t9=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(wt(d-u)!==wt(f-d)){var m=[];if(wt(f-d)===wt(i[1]-i[0])){h=f;var g=d+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var x=f+i[1]-i[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var p=Math.min(u,f),v=Math.max(u,f);if(e>(p+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},r9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ie(e[s]))return $r($r({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ie(e[a]))return $r($r({},e),{},{[a]:e[a]+(i||0)})}return e},Ji=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},_E=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(x=m==="angleAxis"&&s&&s.length>=2?wt(s[0]-s[1])*2*x:x,f||h){var w=(f||h||[]).map((p,v)=>{var b=n?n.indexOf(p):p;return{coordinate:a(b)+x,value:p,offset:x,index:v}});return w.filter(p=>!wr(p.coordinate))}return c&&u?u.map((p,v)=>({coordinate:a(p)+x,value:p,index:v,offset:x})):a.ticks&&!r&&d!=null?a.ticks(d).map((p,v)=>({coordinate:a(p)+x,value:p,offset:x,index:v})):a.domain().map((p,v)=>({coordinate:a(p)+x,value:n?n[p]:p,index:v,offset:x}))},lN=1e-4,n9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-lN,s=Math.max(n[0],n[1])+lN,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},i9=(e,t)=>{if(!t||t.length!==2||!ie(t[0])||!ie(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(i[0]=r),(!ie(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},s9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=wr(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},a9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=wr(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},o9={sign:s9,expand:Gz,none:to,silhouette:Yz,wiggle:Xz,positive:a9},l9=(e,t,r)=>{var n=o9[r],i=qz().keys(t).value((s,a)=>+$e(s,a,0)).order(ry).offset(n);return i(e)};function c9(e){return e==null?void 0:String(e)}var cN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=$e(s,t.dataKey,t.scale.domain()[a]);return et(l)?null:t.scale(l)-i/2+n},u9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},d9=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},f9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],h9=(e,t,r)=>{if(e!=null)return f9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=SE(u,t,r),f=d9(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},uN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=jh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function fN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return $r($r({},t),{},{dataKey:r,payload:n,value:i,name:s})}function _o(e,t){if(e)return String(e);if(typeof t=="string")return t}function m9(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?JU({x:e,y:t},n):null}var p9=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return $r($r($r({},n),Se(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return $r($r($r({},n),Se(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},g9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ii=e=>e.layout.width,si=e=>e.layout.height,y9=e=>e.layout.scale,kE=e=>e.layout.margin,Gv=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Yv=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),OE="data-recharts-item-index",AE="data-recharts-item-data-key",Ah=60;function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){v9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v9(e,t,r){return(t=x9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w9=e=>e.brush.height,ht=L([ii,si,kE,w9,Gv,Yv,JA,W8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((g,x)=>{var{orientation:w}=x;if(!x.mirror&&!x.hide){var p=typeof x.width=="number"?x.width:Ah;return hi(hi({},g),{},{[w]:g[w]+p})}return g},{left:r.left||0,right:r.right||0}),u=i.reduce((g,x)=>{var{orientation:w}=x;return!x.mirror&&!x.hide?hi(hi({},g),{},{[w]:Wi(g,"".concat(w))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=hi(hi({},u),c),f=d.bottom;d.bottom+=n,d=r9(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return hi(hi({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),j9=L(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),EE=L(ii,si,(e,t)=>({x:0,y:0,width:e,height:t})),N9=y.createContext(null),fr=()=>y.useContext(N9)!=null,Eh=e=>e.brush,Ch=L([Eh,ht,kE],(e,t,r)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ie(e.width)?e.width:t.width})),Xv=()=>{var e,t=fr(),r=re(j9),n=re(Ch),i=(e=re(Eh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},S9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},CE=()=>{var e;return(e=re(ht))!==null&&e!==void 0?e:S9},TE=()=>re(ii),ME=()=>re(si),ve=e=>e.layout.layoutType,Jv=()=>re(ve),P9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},DE=kr({name:"legend",initialState:P9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Wn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:fre,setLegendSettings:hre,addLegendPayload:RE,removeLegendPayload:$E}=DE.actions,_9=DE.reducer;function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function mN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mN(Object(r),!0).forEach(function(n){k9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function k9(e,t,r){return(t=O9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E9(e){return Array.isArray(e)&&On(e[0])&&On(e[1])?e.join(" ~ "):e}var C9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var N={padding:0,margin:0},S=(l?jh(s,l):s).map((P,O)=>{if(P.type==="none")return null;var D=P.formatter||a||E9,{value:T,name:C}=P,z=T,$=C;if(D){var _=D(T,C,P,O,s);if(Array.isArray(_))[z,$]=_;else if(_!=null)z=_;else return null}var A=up({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:A},On($)?y.createElement("span",{className:"recharts-tooltip-item-name"},$):null,On($)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},z),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},g=up({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=up({margin:0},i),w=!et(d),p=w?d:"",v=pe("recharts-default-tooltip",c),b=pe("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(p=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",fy({className:v,style:g},j),y.createElement("p",{className:b,style:x},y.isValidElement(p)?p:"".concat(p)),m())},el="recharts-tooltip-wrapper",T9={visibility:"hidden"};function M9(e){var{coordinate:t,translateX:r,translateY:n}=e;return pe(el,{["".concat(el,"-right")]:ie(r)&&t&&ie(t.x)&&r>=t.x,["".concat(el,"-left")]:ie(r)&&t&&ie(t.x)&&r<t.x,["".concat(el,"-bottom")]:ie(n)&&t&&ie(t.y)&&n>=t.y,["".concat(el,"-top")]:ie(n)&&t&&ie(t.y)&&n<t.y})}function pN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ie(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function D9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function R9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=pN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=pN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=D9({translateX:d,translateY:f,useTranslate3d:l})):u=T9,{cssProperties:u,cssClasses:M9({translateX:d,translateY:f,coordinate:r})}}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Au(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hy(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class L9 extends y.PureComponent{constructor(){super(...arguments),hy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:w,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:b}=R9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=p?{}:Au(Au({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Au(Au({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:w},s)}}var B9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ys={isSsr:B9()},IE=()=>re(e=>e.rootProps.accessibilityLayer);function Sr(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xN={curveBasisClosed:$z,curveBasisOpen:Iz,curveBasis:Rz,curveBumpX:wz,curveBumpY:jz,curveLinearClosed:Lz,curveLinear:mh,curveMonotoneX:Bz,curveMonotoneY:Fz,curveNatural:zz,curveStep:Uz,curveStepAfter:Vz,curveStepBefore:Wz},Eu=e=>Sr(e.x)&&Sr(e.y),tl=e=>e.x,rl=e=>e.y,W9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Tc(e));return(r==="curveMonotone"||r==="curveBump")&&t?xN["".concat(r).concat(t==="vertical"?"Y":"X")]:xN[r]||mh},V9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=W9(t,i),l=s?r.filter(Eu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Eu(f)):n,d=l.map((f,h)=>vN(vN({},f),{},{base:u[h]}));return i==="vertical"?c=Su().y(rl).x1(tl).x0(f=>f.base.x):c=Su().x(tl).y1(rl).y0(f=>f.base.y),c.defined(Eu).curve(a),c(d)}return i==="vertical"&&ie(n)?c=Su().y(rl).x1(tl).x0(n):ie(n)?c=Su().x(tl).y1(rl).y0(n):c=mA().x(tl).y(rl),c.defined(Eu).curve(a),c(l)},LE=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?V9(e):n;return y.createElement("path",my({},Bt(e),Ev(e),{className:pe("recharts-curve",t),d:s===null?void 0:s,ref:i}))},K9=["x","y","top","left","width","height","className"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return(t=G9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G9(e){var t=Y9(e,"string");return typeof t=="symbol"?t:t+""}function Y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function X9(e,t){if(e==null)return{};var r,n,i=J9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function J9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Q9=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Z9=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=X9(e,K9),u=H9({x:t,y:r,top:n,left:i,width:s,height:a},c);return!ie(t)||!ie(r)||!ie(s)||!ie(a)||!ie(n)||!ie(i)?null:y.createElement("path",py({},je(u,!0),{className:pe("recharts-cross",l),d:Q9(t,r,s,a,n,i)}))};function eW(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function wN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wN(Object(r),!0).forEach(function(n){rW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rW(e,t,r){return(t=nW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var r=tW({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var BE={},FE={},zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(zE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE,r=Lv,n=xh,i=bh,s=vh;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,g,x){const w=x(u,d,f,h,m,g);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,g,x)}return c(u,d,g,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),g=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const p=u.valueOf(),v=d.valueOf();return s.eq(p,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const x=f.get(u),w=f.get(d);if(x!=null&&w!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[p,v]of u.entries())if(!d.has(p)||!l(v,d.get(p),p,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const p=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<p.length;b++){const j=p[b],N=v.findIndex(S=>l(j,S,void 0,u,d,f,h));if(N===-1)return!1;v.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let p=0;p<u.length;p++)if(!l(u[p],d[p],p,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const N=v[j],S=u[N];if(!Object.hasOwn(d,N))return!1;const P=d[N];if(!l(S,P,N,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(FE);var UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FE,r=UE;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(BE);var sW=BE.isEqual;const aW=Kr(sW);var Jd=1e-4,WE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],VE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),jN=(e,t)=>r=>{var n=WE(e,t);return VE(n,r)},oW=(e,t)=>r=>{var n=WE(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return VE(i,r)},NN=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([t,n,r,i]=a);var u=jN(t,r),d=jN(n,i),f=oW(t,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,w=x,p=0;p<8;++p){var v=u(w)-x,b=f(w);if(Math.abs(v-x)<Jd||b<Jd)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},lW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Jd&&Math.abs(f)<Jd?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},KE=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NN(e);case"spring":return lW();default:if(e.split("(")[0]==="cubic-bezier")return NN(e)}return typeof e=="function"?e:null};function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),hW=(e,t,r)=>e.map(n=>"".concat(fW(n)," ").concat(t,"ms ").concat(r)).join(","),mW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),uc=(e,t)=>Object.keys(t).reduce((r,n)=>PN(PN({},r),{},{[n]:e(n,t[n])}),{});function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){pW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pW(e,t,r){return(t=gW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gW(e){var t=yW(e,"string");return typeof t=="symbol"?t:t+""}function yW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,r)=>e+(t-e)*r,gy=e=>{var{from:t,to:r}=e;return t!==r},HE=(e,t,r)=>{var n=uc((i,s)=>{if(gy(s)){var[a,l]=e(s.from,s.to,s.velocity);return kt(kt({},s),{},{from:a,velocity:l})}return s},t);return r<1?uc((i,s)=>gy(s)?kt(kt({},s),{},{velocity:Qd(s.velocity,n[i].velocity,r),from:Qd(s.from,n[i].from,r)}):s,t):HE(e,n,r-1)};function vW(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>kt(kt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>uc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(gy).length,d=null,f=h=>{a||(a=h);var m=h-a,g=m/r.dt;l=HE(r,l,g),i(kt(kt(kt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function xW(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>kt(kt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=uc((x,w)=>Qd(...w,r(h)),c);if(s(kt(kt(kt({},e),t),m)),h<1)l=a.setTimeout(d);else{var g=uc((x,w)=>Qd(...w,r(1)),c);s(kt(kt(kt({},e),t),g))}};return()=>(l=a.setTimeout(d),()=>{l()})}const qE=(e,t,r,n,i,s)=>{var a=mW(e,t);return r.isStepper===!0?vW(e,t,r,a,i,s):xW(e,t,r,n,a,i,s)};function bW(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class wW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function jW(){return bW(new wW)}var NW=y.createContext(jW);function GE(e,t){var r=y.useContext(NW);return y.useMemo(()=>t??r(e),[e,t,r])}var SW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function PW(e,t){if(e==null)return{};var r,n,i=_W(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _W(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function js(e,t,r){return(t=kW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Qv extends y.PureComponent{constructor(t,r){super(t,r),js(this,"mounted",!1),js(this,"manager",void 0),js(this,"stopJSAnimation",null),js(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(aW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(mi(mi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=qE(r,n,KE(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=hW(Object.keys(d),n,a);this.manager.start([l,r,mi(mi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:g}=t,x=PW(t,SW),w=y.Children.count(r),p=this.state.style;if(typeof r=="function")return r(p);if(!l||w===0||i<=0)return r;var v=b=>{var{style:j={},className:N}=b.props,S=y.cloneElement(b,mi(mi({},x),{},{style:mi(mi({},j),p),className:N}));return S};return w===1?v(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,b=>v(b)))}}js(Qv,"displayName","Animate");js(Qv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Zd(e){var t,r=GE((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return y.createElement(Qv,yy({},e,{animationManager:r}))}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}var ON=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},AW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YE=e=>{var t=qr(e,AW),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var p=r.current.getTotalLength();p&&i(p)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=pe("recharts-rectangle",d);return x?y.createElement(Zd,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:x},p=>{var{width:v,height:b,x:j,y:N}=p;return y.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:f},y.createElement("path",ef({},je(t,!0),{className:w,d:ON(j,N,v,b,u),ref:r})))}):y.createElement("path",ef({},je(t,!0),{className:w,d:ON(s,a,l,c,u)}))};function XE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Se(t,r,n,i),l=Se(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}var EW=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Cu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Xd,f=c?i:i+s*d,h=Se(t,r,u,f),m=Se(t,r,n,f),g=c?i-s*d:i,x=Se(t,r,u*Math.cos(d*Xd),g);return{center:h,circleTangency:m,lineTangency:x,theta:d}},JE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=EW(s,a),c=s+l,u=Se(t,r,i,s),d=Se(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Se(t,r,n,s),m=Se(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},CW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=wt(u-c),{circleTangency:f,lineTangency:h,theta:m}=Cu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:w}=Cu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),p=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(p<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):JE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(p>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:N}=Cu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:O}=Cu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=l?Math.abs(c-u):Math.abs(c-u)-N-O;if(D<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},TW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},QE=e=>{var t=qr(e,TW),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=pe("recharts-sector",f),m=s-i,g=qt(a,m,0,!0),x;return g>0&&Math.abs(u-d)<360?x=CW({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=JE({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),y.createElement("path",vy({},je(t,!0),{className:h,d:x}))};function MW(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Se(l,c,u,f),m=Se(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return XE(t);return[{x:n,y:i},{x:s,y:a}]}var ZE={},eC={},tC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(tC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(eC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv,r=eC;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(ZE);var DW=ZE.range;const rC=Kr(DW);function Ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function RW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Zv(e){let t,r,n;e.length!==2?(t=Ii,r=(l,c)=>Ii(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ii||e===RW?e:$W,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function $W(){return 0}function nC(e){return e===null?NaN:+e}function*IW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const LW=Zv(Ii),$c=LW.right;Zv(nC).center;class AN extends Map{constructor(t,r=zW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(EN(this,t))}has(t){return super.has(EN(this,t))}set(t,r){return super.set(BW(this,t),r)}delete(t){return super.delete(FW(this,t))}}function EN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function BW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function FW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function zW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function UW(e=Ii){if(e===Ii)return iC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function iC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const WW=Math.sqrt(50),VW=Math.sqrt(10),KW=Math.sqrt(2);function tf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=WW?10:s>=VW?5:s>=KW?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tf(e,t,r*2):[l,c,u]}function xy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?tf(t,e,r):tf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function by(e,t,r){return t=+t,e=+e,r=+r,tf(e,t,r)[2]}function wy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?by(t,e,r):by(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function CN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function TN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function sC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?iC:UW(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));sC(e,t,m,g,i)}const s=e[t];let a=r,l=n;for(nl(e,r,t),i(e[n],s)>0&&nl(e,r,n);a<l;){for(nl(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?nl(e,r,l):(++l,nl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function HW(e,t,r){if(e=Float64Array.from(IW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return TN(e);if(t>=1)return CN(e);var n,i=(n-1)*t,s=Math.floor(i),a=CN(sC(e,s).subarray(0,s+1)),l=TN(e.subarray(s+1));return a+(l-a)*(i-s)}}function qW(e,t,r=nC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function GW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ai(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jy=Symbol("implicit");function ex(){var e=new AN,t=[],r=[],n=jy;function i(s){let a=e.get(s);if(a===void 0){if(n!==jy)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new AN;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ex(t,r).unknown(n)},Gr.apply(i,arguments),i}function tx(){var e=ex().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,g=m?i:n,x=m?n:i;s=(x-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(x-g-s*(h-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var w=GW(h).map(function(p){return g+s*p});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return tx(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gr.apply(f(),arguments)}function aC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return aC(t())},e}function YW(){return aC(tx.apply(null,arguments).paddingInner(1))}function rx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function oC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ic(){}var dc=.7,rf=1/dc,za="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",XW=/^#([0-9a-f]{3,8})$/,JW=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),QW=new RegExp(`^rgb\\(${Pn},${Pn},${Pn}\\)$`),ZW=new RegExp(`^rgba\\(${za},${za},${za},${fc}\\)$`),eV=new RegExp(`^rgba\\(${Pn},${Pn},${Pn},${fc}\\)$`),tV=new RegExp(`^hsl\\(${fc},${Pn},${Pn}\\)$`),rV=new RegExp(`^hsla\\(${fc},${Pn},${Pn},${fc}\\)$`),MN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};rx(Ic,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:DN,formatHex:DN,formatHex8:nV,formatHsl:iV,formatRgb:RN,toString:RN});function DN(){return this.rgb().formatHex()}function nV(){return this.rgb().formatHex8()}function iV(){return lC(this).formatHsl()}function RN(){return this.rgb().formatRgb()}function hc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=XW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?$N(t):r===3?new ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=JW.exec(e))?new ar(t[1],t[2],t[3],1):(t=QW.exec(e))?new ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=ZW.exec(e))?Tu(t[1],t[2],t[3],t[4]):(t=eV.exec(e))?Tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=tV.exec(e))?BN(t[1],t[2]/100,t[3]/100,1):(t=rV.exec(e))?BN(t[1],t[2]/100,t[3]/100,t[4]):MN.hasOwnProperty(e)?$N(MN[e]):e==="transparent"?new ar(NaN,NaN,NaN,0):null}function $N(e){return new ar(e>>16&255,e>>8&255,e&255,1)}function Tu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ar(e,t,r,n)}function sV(e){return e instanceof Ic||(e=hc(e)),e?(e=e.rgb(),new ar(e.r,e.g,e.b,e.opacity)):new ar}function Ny(e,t,r,n){return arguments.length===1?sV(e):new ar(e,t,r,n??1)}function ar(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}rx(ar,Ny,oC(Ic,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ar(Ds(this.r),Ds(this.g),Ds(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:IN,formatHex:IN,formatHex8:aV,formatRgb:LN,toString:LN}));function IN(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function aV(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function LN(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ns(e){return e=Ds(e),(e<16?"0":"")+e.toString(16)}function BN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function lC(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Ic||(e=hc(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new sn(a,l,c,e.opacity)}function oV(e,t,r,n){return arguments.length===1?lC(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}rx(sn,oV,oC(Ic,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ar(dp(e>=240?e-240:e+120,i,n),dp(e,i,n),dp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sn(FN(this.h),Mu(this.s),Mu(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${FN(this.h)}, ${Mu(this.s)*100}%, ${Mu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function FN(e){return e=(e||0)%360,e<0?e+360:e}function Mu(e){return Math.max(0,Math.min(1,e||0))}function dp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const nx=e=>()=>e;function lV(e,t){return function(r){return e+r*t}}function cV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function uV(e){return(e=+e)==1?cC:function(t,r){return r-t?cV(t,r,e):nx(isNaN(t)?r:t)}}function cC(e,t){var r=t-e;return r?lV(e,r):nx(isNaN(e)?t:e)}const zN=function e(t){var r=uV(t);function n(i,s){var a=r((i=Ny(i)).r,(s=Ny(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=cC(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function dV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function fV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function hV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=ko(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function mV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function pV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ko(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Sy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fp=new RegExp(Sy.source,"g");function gV(e){return function(){return e}}function yV(e){return function(t){return e(t)+""}}function vV(e,t){var r=Sy.lastIndex=fp.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Sy.exec(e))&&(i=fp.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:sf(n,i)})),r=fp.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?yV(c[0].x):gV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ko(e,t){var r=typeof t,n;return t==null||r==="boolean"?nx(t):(r==="number"?sf:r==="string"?(n=hc(t))?(t=n,zN):vV:t instanceof hc?zN:t instanceof Date?mV:fV(t)?dV:Array.isArray(t)?hV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?pV:sf)(e,t)}function ix(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function xV(e,t){t===void 0&&(t=e,e=ko);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function bV(e){return function(){return e}}function af(e){return+e}var UN=[0,1];function Vt(e){return e}function Py(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:bV(isNaN(t)?NaN:.5)}function wV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function jV(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=Py(i,n),s=r(a,s)):(n=Py(n,i),s=r(s,a)),function(l){return s(n(l))}}function NV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=Py(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=$c(e,l,1,n)-1;return s[c](i[c](l))}}function Lc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Th(){var e=UN,t=UN,r=ko,n,i,s,a=Vt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Vt&&(a=wV(e[0],e[h-1])),l=h>2?NV:jV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),sf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,af),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ix,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Vt,d()):a!==Vt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function sx(){return Th()(Vt,Vt)}function SV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function so(e){return e=of(Math.abs(e)),e?e[1]:NaN}function PV(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function _V(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mc(e){if(!(t=kV.exec(e)))throw new Error("invalid format: "+e);var t;return new ax({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mc.prototype=ax.prototype;function ax(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ax.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function OV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var uC;function AV(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(uC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+of(e,Math.max(0,t+s-1))[0]}function WN(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const VN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:SV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>WN(e*100,t),r:WN,s:AV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function KN(e){return e}var HN=Array.prototype.map,qN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function EV(e){var t=e.grouping===void 0||e.thousands===void 0?KN:PV(HN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?KN:_V(HN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=mc(f);var h=f.fill,m=f.align,g=f.sign,x=f.symbol,w=f.zero,p=f.width,v=f.comma,b=f.precision,j=f.trim,N=f.type;N==="n"?(v=!0,N="g"):VN[N]||(b===void 0&&(b=12),j=!0,N="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=x==="$"?n:/[%p]/.test(N)?a:"",O=VN[N],D=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(C){var z=S,$=P,_,A,F;if(N==="c")$=O(C)+$,C="";else{C=+C;var W=C<0||1/C<0;if(C=isNaN(C)?c:O(Math.abs(C),b),j&&(C=OV(C)),W&&+C==0&&g!=="+"&&(W=!1),z=(W?g==="("?g:l:g==="-"||g==="("?"":g)+z,$=(N==="s"?qN[8+uC/3]:"")+$+(W&&g==="("?")":""),D){for(_=-1,A=C.length;++_<A;)if(F=C.charCodeAt(_),48>F||F>57){$=(F===46?i+C.slice(_+1):C.slice(_))+$,C=C.slice(0,_);break}}}v&&!w&&(C=t(C,1/0));var k=z.length+C.length+$.length,E=k<p?new Array(p-k+1).join(h):"";switch(v&&w&&(C=t(E+C,E.length?p-$.length:1/0),E=""),m){case"<":C=z+C+$+E;break;case"=":C=z+E+C+$;break;case"^":C=E.slice(0,k=E.length>>1)+z+C+$+E.slice(k);break;default:C=E+z+C+$;break}return s(C)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=mc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(so(h)/3)))*3,x=Math.pow(10,-g),w=qN[8+g/3];return function(p){return m(x*p)+w}}return{format:u,formatPrefix:d}}var Du,ox,dC;CV({thousands:",",grouping:[3],currency:["$",""]});function CV(e){return Du=EV(e),ox=Du.format,dC=Du.formatPrefix,Du}function TV(e){return Math.max(0,-so(Math.abs(e)))}function MV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(t)/3)))*3-so(Math.abs(e)))}function DV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,so(t)-so(e))+1}function fC(e,t,r,n){var i=wy(e,t,r),s;switch(n=mc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=MV(i,a))&&(n.precision=s),dC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=DV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=TV(i))&&(n.precision=s-(n.type==="%")*2);break}}return ox(n)}function Qi(e){var t=e.domain;return e.ticks=function(r){var n=t();return xy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return fC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=by(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function hC(){var e=sx();return e.copy=function(){return Lc(e,hC())},Gr.apply(e,arguments),Qi(e)}function mC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,af),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return mC(e).unknown(t)},e=arguments.length?Array.from(e,af):[0,1],Qi(r)}function pC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function GN(e){return Math.log(e)}function YN(e){return Math.exp(e)}function RV(e){return-Math.log(-e)}function $V(e){return-Math.exp(-e)}function IV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function LV(e){return e===10?IV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function BV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function XN(e){return(t,r)=>-e(-t,r)}function lx(e){const t=e(GN,YN),r=t.domain;let n=10,i,s;function a(){return i=BV(n),s=LV(n),r()[0]<0?(i=XN(i),s=XN(s),e(RV,$V)):e(GN,YN),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,x;const w=l==null?10:+l;let p=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}p.length*2<w&&(p=xy(u,d,w))}else p=xy(h,m,Math.min(m-h,w)).map(s);return f?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mc(c)).precision==null&&(c.trim=!0),c=ox(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(pC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function gC(){const e=lx(Th()).domain([1,10]);return e.copy=()=>Lc(e,gC()).base(e.base()),Gr.apply(e,arguments),e}function JN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function QN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cx(e){var t=1,r=e(JN(t),QN(t));return r.constant=function(n){return arguments.length?e(JN(t=+n),QN(t)):t},Qi(r)}function yC(){var e=cx(Th());return e.copy=function(){return Lc(e,yC()).constant(e.constant())},Gr.apply(e,arguments)}function ZN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function FV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function zV(e){return e<0?-e*e:e*e}function ux(e){var t=e(Vt,Vt),r=1;function n(){return r===1?e(Vt,Vt):r===.5?e(FV,zV):e(ZN(r),ZN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qi(t)}function dx(){var e=ux(Th());return e.copy=function(){return Lc(e,dx()).exponent(e.exponent())},Gr.apply(e,arguments),e}function UV(){return dx.apply(null,arguments).exponent(.5)}function eS(e){return Math.sign(e)*e*e}function WV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function vC(){var e=sx(),t=[0,1],r=!1,n;function i(s){var a=WV(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(eS(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,af)).map(eS)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return vC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gr.apply(i,arguments),Qi(i)}function xC(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=qW(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[$c(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ii),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return xC().domain(e).range(t).unknown(n)},Gr.apply(s,arguments)}function bC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[$c(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return bC().domain([e,t]).range(i).unknown(s)},Gr.apply(Qi(a),arguments)}function wC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[$c(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wC().domain(e).range(t).unknown(r)},Gr.apply(i,arguments)}const hp=new Date,mp=new Date;function mt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>mt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(hp.setTime(+s),mp.setTime(+a),e(hp),e(mp),Math.floor(r(hp,mp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const lf=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Bn=1e3,Lr=Bn*60,Fn=Lr*60,Jn=Fn*24,fx=Jn*7,tS=Jn*30,pp=Jn*365,Ss=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bn)},(e,t)=>(t-e)/Bn,e=>e.getUTCSeconds());Ss.range;const hx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());hx.range;const mx=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());mx.range;const px=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bn-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getHours());px.range;const gx=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCHours());gx.range;const Bc=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Jn,e=>e.getDate()-1);Bc.range;const Mh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jn,e=>e.getUTCDate()-1);Mh.range;const jC=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jn,e=>Math.floor(e/Jn));jC.range;function Xs(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/fx)}const Dh=Xs(0),cf=Xs(1),VV=Xs(2),KV=Xs(3),ao=Xs(4),HV=Xs(5),qV=Xs(6);Dh.range;cf.range;VV.range;KV.range;ao.range;HV.range;qV.range;function Js(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/fx)}const Rh=Js(0),uf=Js(1),GV=Js(2),YV=Js(3),oo=Js(4),XV=Js(5),JV=Js(6);Rh.range;uf.range;GV.range;YV.range;oo.range;XV.range;JV.range;const yx=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());yx.range;const vx=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());vx.range;const Qn=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Qn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Qn.range;const Zn=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Zn.range;function NC(e,t,r,n,i,s){const a=[[Ss,1,Bn],[Ss,5,5*Bn],[Ss,15,15*Bn],[Ss,30,30*Bn],[s,1,Lr],[s,5,5*Lr],[s,15,15*Lr],[s,30,30*Lr],[i,1,Fn],[i,3,3*Fn],[i,6,6*Fn],[i,12,12*Fn],[n,1,Jn],[n,2,2*Jn],[r,1,fx],[t,1,tS],[t,3,3*tS],[e,1,pp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Zv(([,,w])=>w).right(a,h);if(m===a.length)return e.every(wy(u/pp,d/pp,f));if(m===0)return lf.every(Math.max(wy(u,d,f),1));const[g,x]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(x)}return[l,c]}const[QV,ZV]=NC(Zn,vx,Rh,jC,gx,mx),[e7,t7]=NC(Qn,yx,Dh,Bc,px,hx);function gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function r7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=sl(i),d=al(i),f=sl(s),h=al(s),m=sl(a),g=al(a),x=sl(l),w=al(l),p=sl(c),v=al(c),b={a:W,A:k,b:E,B:K,c:null,d:oS,e:oS,f:P7,g:R7,G:I7,H:j7,I:N7,j:S7,L:SC,m:_7,M:k7,p:Y,q:J,Q:uS,s:dS,S:O7,u:A7,U:E7,V:C7,w:T7,W:M7,x:null,X:null,y:D7,Y:$7,Z:L7,"%":cS},j={a:xe,A:U,b:B,B:Q,c:null,d:lS,e:lS,f:U7,g:Q7,G:eK,H:B7,I:F7,j:z7,L:_C,m:W7,M:V7,p:I,q:V,Q:uS,s:dS,S:K7,u:H7,U:q7,V:G7,w:Y7,W:X7,x:null,X:null,y:J7,Y:Z7,Z:tK,"%":cS},N={a:T,A:C,b:z,B:$,c:_,d:sS,e:sS,f:v7,g:iS,G:nS,H:aS,I:aS,j:m7,L:y7,m:h7,M:p7,p:D,q:f7,Q:b7,s:w7,S:g7,u:o7,U:l7,V:c7,w:a7,W:u7,x:A,X:F,y:iS,Y:nS,Z:d7,"%":x7};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(M,X){return function(oe){var R=[],q=-1,ee=0,ne=M.length,ce,me,Pe;for(oe instanceof Date||(oe=new Date(+oe));++q<ne;)M.charCodeAt(q)===37&&(R.push(M.slice(ee,q)),(me=rS[ce=M.charAt(++q)])!=null?ce=M.charAt(++q):me=ce==="e"?" ":"0",(Pe=X[ce])&&(ce=Pe(oe,me)),R.push(ce),ee=q+1);return R.push(M.slice(ee,q)),R.join("")}}function P(M,X){return function(oe){var R=il(1900,void 0,1),q=O(R,M,oe+="",0),ee,ne;if(q!=oe.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(X&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(ee=yp(il(R.y,0,1)),ne=ee.getUTCDay(),ee=ne>4||ne===0?uf.ceil(ee):uf(ee),ee=Mh.offset(ee,(R.V-1)*7),R.y=ee.getUTCFullYear(),R.m=ee.getUTCMonth(),R.d=ee.getUTCDate()+(R.w+6)%7):(ee=gp(il(R.y,0,1)),ne=ee.getDay(),ee=ne>4||ne===0?cf.ceil(ee):cf(ee),ee=Bc.offset(ee,(R.V-1)*7),R.y=ee.getFullYear(),R.m=ee.getMonth(),R.d=ee.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),ne="Z"in R?yp(il(R.y,0,1)).getUTCDay():gp(il(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(ne+5)%7:R.w+R.U*7-(ne+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,yp(R)):gp(R)}}function O(M,X,oe,R){for(var q=0,ee=X.length,ne=oe.length,ce,me;q<ee;){if(R>=ne)return-1;if(ce=X.charCodeAt(q++),ce===37){if(ce=X.charAt(q++),me=N[ce in rS?X.charAt(q++):ce],!me||(R=me(M,oe,R))<0)return-1}else if(ce!=oe.charCodeAt(R++))return-1}return R}function D(M,X,oe){var R=u.exec(X.slice(oe));return R?(M.p=d.get(R[0].toLowerCase()),oe+R[0].length):-1}function T(M,X,oe){var R=m.exec(X.slice(oe));return R?(M.w=g.get(R[0].toLowerCase()),oe+R[0].length):-1}function C(M,X,oe){var R=f.exec(X.slice(oe));return R?(M.w=h.get(R[0].toLowerCase()),oe+R[0].length):-1}function z(M,X,oe){var R=p.exec(X.slice(oe));return R?(M.m=v.get(R[0].toLowerCase()),oe+R[0].length):-1}function $(M,X,oe){var R=x.exec(X.slice(oe));return R?(M.m=w.get(R[0].toLowerCase()),oe+R[0].length):-1}function _(M,X,oe){return O(M,t,X,oe)}function A(M,X,oe){return O(M,r,X,oe)}function F(M,X,oe){return O(M,n,X,oe)}function W(M){return a[M.getDay()]}function k(M){return s[M.getDay()]}function E(M){return c[M.getMonth()]}function K(M){return l[M.getMonth()]}function Y(M){return i[+(M.getHours()>=12)]}function J(M){return 1+~~(M.getMonth()/3)}function xe(M){return a[M.getUTCDay()]}function U(M){return s[M.getUTCDay()]}function B(M){return c[M.getUTCMonth()]}function Q(M){return l[M.getUTCMonth()]}function I(M){return i[+(M.getUTCHours()>=12)]}function V(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var X=S(M+="",b);return X.toString=function(){return M},X},parse:function(M){var X=P(M+="",!1);return X.toString=function(){return M},X},utcFormat:function(M){var X=S(M+="",j);return X.toString=function(){return M},X},utcParse:function(M){var X=P(M+="",!0);return X.toString=function(){return M},X}}}var rS={"-":"",_:" ",0:"0"},St=/^\s*\d+/,n7=/^%/,i7=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function s7(e){return e.replace(i7,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(s7).join("|")+")","i")}function al(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function a7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function c7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function u7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function nS(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function iS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function d7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function f7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function h7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function sS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function aS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function y7(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function x7(e,t,r){var n=n7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function b7(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function w7(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function oS(e,t){return Ne(e.getDate(),t,2)}function j7(e,t){return Ne(e.getHours(),t,2)}function N7(e,t){return Ne(e.getHours()%12||12,t,2)}function S7(e,t){return Ne(1+Bc.count(Qn(e),e),t,3)}function SC(e,t){return Ne(e.getMilliseconds(),t,3)}function P7(e,t){return SC(e,t)+"000"}function _7(e,t){return Ne(e.getMonth()+1,t,2)}function k7(e,t){return Ne(e.getMinutes(),t,2)}function O7(e,t){return Ne(e.getSeconds(),t,2)}function A7(e){var t=e.getDay();return t===0?7:t}function E7(e,t){return Ne(Dh.count(Qn(e)-1,e),t,2)}function PC(e){var t=e.getDay();return t>=4||t===0?ao(e):ao.ceil(e)}function C7(e,t){return e=PC(e),Ne(ao.count(Qn(e),e)+(Qn(e).getDay()===4),t,2)}function T7(e){return e.getDay()}function M7(e,t){return Ne(cf.count(Qn(e)-1,e),t,2)}function D7(e,t){return Ne(e.getFullYear()%100,t,2)}function R7(e,t){return e=PC(e),Ne(e.getFullYear()%100,t,2)}function $7(e,t){return Ne(e.getFullYear()%1e4,t,4)}function I7(e,t){var r=e.getDay();return e=r>=4||r===0?ao(e):ao.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function L7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function lS(e,t){return Ne(e.getUTCDate(),t,2)}function B7(e,t){return Ne(e.getUTCHours(),t,2)}function F7(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function z7(e,t){return Ne(1+Mh.count(Zn(e),e),t,3)}function _C(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function U7(e,t){return _C(e,t)+"000"}function W7(e,t){return Ne(e.getUTCMonth()+1,t,2)}function V7(e,t){return Ne(e.getUTCMinutes(),t,2)}function K7(e,t){return Ne(e.getUTCSeconds(),t,2)}function H7(e){var t=e.getUTCDay();return t===0?7:t}function q7(e,t){return Ne(Rh.count(Zn(e)-1,e),t,2)}function kC(e){var t=e.getUTCDay();return t>=4||t===0?oo(e):oo.ceil(e)}function G7(e,t){return e=kC(e),Ne(oo.count(Zn(e),e)+(Zn(e).getUTCDay()===4),t,2)}function Y7(e){return e.getUTCDay()}function X7(e,t){return Ne(uf.count(Zn(e)-1,e),t,2)}function J7(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function Q7(e,t){return e=kC(e),Ne(e.getUTCFullYear()%100,t,2)}function Z7(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function eK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oo(e):oo.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function tK(){return"+0000"}function cS(){return"%"}function uS(e){return+e}function dS(e){return Math.floor(+e/1e3)}var oa,OC,AC;rK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rK(e){return oa=r7(e),OC=oa.format,oa.parse,AC=oa.utcFormat,oa.utcParse,oa}function nK(e){return new Date(e)}function iK(e){return e instanceof Date?+e:+new Date(+e)}function xx(e,t,r,n,i,s,a,l,c,u){var d=sx(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),w=u("%I %p"),p=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?g:a(S)<S?x:s(S)<S?w:n(S)<S?i(S)<S?p:v:r(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,iK)):h().map(nK)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?N:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(pC(P,S)):d},d.copy=function(){return Lc(d,xx(e,t,r,n,i,s,a,l,c,u))},d}function sK(){return Gr.apply(xx(e7,t7,Qn,yx,Dh,Bc,px,hx,Ss,OC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function aK(){return Gr.apply(xx(QV,ZV,Zn,vx,Rh,Mh,gx,mx,Ss,AC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $h(){var e=0,t=1,r,n,i,s,a=Vt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(ko),u.rangeRound=d(ix),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function EC(){var e=Qi($h()(Vt));return e.copy=function(){return Zi(e,EC())},ai.apply(e,arguments)}function CC(){var e=lx($h()).domain([1,10]);return e.copy=function(){return Zi(e,CC()).base(e.base())},ai.apply(e,arguments)}function TC(){var e=cx($h());return e.copy=function(){return Zi(e,TC()).constant(e.constant())},ai.apply(e,arguments)}function bx(){var e=ux($h());return e.copy=function(){return Zi(e,bx()).exponent(e.exponent())},ai.apply(e,arguments)}function oK(){return bx.apply(null,arguments).exponent(.5)}function MC(){var e=[],t=Vt;function r(n){if(n!=null&&!isNaN(n=+n))return t(($c(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ii),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>HW(e,s/n))},r.copy=function(){return MC(t).domain(e)},ai.apply(r,arguments)}function Ih(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Vt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(w){var p,v,b;return arguments.length?([p,v,b]=w,u=xV(x,[p,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(ko),m.rangeRound=g(ix),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),s=x(t),a=x(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function DC(){var e=Qi(Ih()(Vt));return e.copy=function(){return Zi(e,DC())},ai.apply(e,arguments)}function RC(){var e=lx(Ih()).domain([.1,1,10]);return e.copy=function(){return Zi(e,RC()).base(e.base())},ai.apply(e,arguments)}function $C(){var e=cx(Ih());return e.copy=function(){return Zi(e,$C()).constant(e.constant())},ai.apply(e,arguments)}function wx(){var e=ux(Ih());return e.copy=function(){return Zi(e,wx()).exponent(e.exponent())},ai.apply(e,arguments)}function lK(){return wx.apply(null,arguments).exponent(.5)}const gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:tx,scaleDiverging:DC,scaleDivergingLog:RC,scaleDivergingPow:wx,scaleDivergingSqrt:lK,scaleDivergingSymlog:$C,scaleIdentity:mC,scaleImplicit:jy,scaleLinear:hC,scaleLog:gC,scaleOrdinal:ex,scalePoint:YW,scalePow:dx,scaleQuantile:xC,scaleQuantize:bC,scaleRadial:vC,scaleSequential:EC,scaleSequentialLog:CC,scaleSequentialPow:bx,scaleSequentialQuantile:MC,scaleSequentialSqrt:oK,scaleSequentialSymlog:TC,scaleSqrt:UV,scaleSymlog:yC,scaleThreshold:wC,scaleTime:sK,scaleUtc:aK,tickFormat:fC},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,Lh=L([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),jx=(e,t,r,n)=>n?Lh(e):es(e);function lo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Sr(t)&&Sr(r))return!0}return!1}function fS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function cK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Sr(r))i=r;else if(typeof r=="function")return;if(Sr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(lo(a))return a}}function uK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lo(n))return fS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ie(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&uN.test(i)){var c=uN.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ie(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&dN.test(s)){var d=dN.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(lo(h))return t==null?h:fS(h,t,r)}}}var Oo=1e9,dK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Sx,We=!0,Vr="[DecimalError] ",Rs=Vr+"Invalid argument: ",Nx=Vr+"Exponent out of range: ",Ao=Math.floor,ms=Math.pow,fK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,xt=1e7,Fe=7,IC=9007199254740991,df=Ao(IC/Fe),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return Vn(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Ae(Vn(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return ct(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gr))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(We=!1,t=Vn(pc(r,s),pc(e,s),s),We=!0,Ae(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?FC(t,e):LC(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vr+"NaN");return r.s?(We=!1,t=Vn(r,e,0,1).times(e),We=!0,r.minus(t)):Ae(new n(r),i)};ae.naturalExponential=ae.exp=function(){return BC(this)};ae.naturalLogarithm=ae.ln=function(){return pc(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?LC(t,e):FC(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rs+e);if(t=ct(i)+1,n=i.d.length-1,r=n*Fe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vr+"NaN")}for(e=ct(l),We=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=yn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ao((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Vn(l,s,a+2)).times(.5),yn(s.d).slice(0,a)===(t=yn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ae(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return We=!0,Ae(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%xt|0,t=l/xt|0;s[i]=(s[i]+t)%xt|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,We?Ae(e,f.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(An(e,0,Oo),t===void 0?t=n.rounding:An(t,0,8),Ae(r,e+ct(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ws(n,!0):(An(e,0,Oo),t===void 0?t=i.rounding:An(t,0,8),n=Ae(new i(n),e+1,t),r=Ws(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ws(i):(An(e,0,Oo),t===void 0?t=s.rounding:An(t,0,8),n=Ae(new s(i),e+ct(i)+1,t),r=Ws(n.abs(),!1,e+ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Ae(new t(e),ct(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vr+"Infinity");return l}if(l.eq(gr))return l;if(n=c.precision,e.eq(gr))return Ae(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=IC){for(i=new c(gr),t=Math.ceil(n/Fe+4),We=!1;r%2&&(i=i.times(l),mS(i.d,t)),r=Ao(r/2),r!==0;)l=l.times(l),mS(l.d,t);return We=!0,e.s<0?new c(gr).div(i):Ae(i,n)}}else if(s<0)throw Error(Vr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,i=e.times(pc(l,n+u)),We=!0,i=BC(i),i.s=s,i};ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ct(i),n=Ws(i,r<=s.toExpNeg||r>=s.toExpPos)):(An(e,1,Oo),t===void 0?t=s.rounding:An(t,0,8),i=Ae(new s(i),e,t),r=ct(i),n=Ws(i,e<=r||r<=s.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(An(e,1,Oo),t===void 0?t=n.rounding:An(t,0,8)),Ae(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),r=e.constructor;return Ws(e,t<=r.toExpNeg||t>=r.toExpPos)};function LC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ae(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/Fe),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/xt|0,c[s]%=xt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,We?Ae(t,f):t}function An(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rs+e)}function yn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=bi(r)),s+=n;a=e[t],n=a+"",r=Fe-n.length,r&&(s+=bi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Vn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%xt|0,a=s/xt|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*xt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,g,x,w,p,v,b,j,N,S,P,O,D=n.constructor,T=n.s==i.s?1:-1,C=n.d,z=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(Vr+"Division by zero");for(c=n.e-i.e,P=z.length,N=C.length,m=new D(T),g=m.d=[],u=0;z[u]==(C[u]||0);)++u;if(z[u]>(C[u]||0)&&--c,s==null?v=s=D.precision:a?v=s+(ct(n)-ct(i))+1:v=s,v<0)return new D(0);if(v=v/Fe+2|0,u=0,P==1)for(d=0,z=z[0],v++;(u<N||d)&&v--;u++)b=d*xt+(C[u]||0),g[u]=b/z|0,d=b%z|0;else{for(d=xt/(z[0]+1)|0,d>1&&(z=e(z,d),C=e(C,d),P=z.length,N=C.length),j=P,x=C.slice(0,P),w=x.length;w<P;)x[w++]=0;O=z.slice(),O.unshift(0),S=z[0],z[1]>=xt/2&&++S;do d=0,l=t(z,x,P,w),l<0?(p=x[0],P!=w&&(p=p*xt+(x[1]||0)),d=p/S|0,d>1?(d>=xt&&(d=xt-1),f=e(z,d),h=f.length,w=x.length,l=t(f,x,h,w),l==1&&(d--,r(f,P<h?O:z,h))):(d==0&&(l=d=1),f=z.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=t(z,x,P,w),l<1&&(d++,r(x,P<w?O:z,w))),w=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[w++]=C[j]||0:(x=[C[j]],w=1);while((j++<N||x[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Ae(m,a?s+ct(m)+1:s)}}();function BC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(ct(e)>16)throw Error(Nx+ct(e));if(!e.s)return new d(gr);for(t==null?(We=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(ms(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(gr),d.precision=l;;){if(i=Ae(i.times(e),l),r=r.times(++c),a=s.plus(Vn(i,r,l)),yn(a.d).slice(0,l)===yn(s.d).slice(0,l)){for(;u--;)s=Ae(s.times(s),l);return d.precision=f,t==null?(We=!0,Ae(s,f)):s}s=a}}function ct(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function vp(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(Vr+"LN10 precision limit exceeded");return Ae(new e(e.LN10),t)}function bi(e){for(var t="";e--;)t+="0";return t}function pc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,g=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Vr+(m.s?"NaN":"-Infinity"));if(m.eq(gr))return new x(0);if(t==null?(We=!1,u=w):u=t,m.eq(10))return t==null&&(We=!0),vp(x,u);if(u+=h,x.precision=u,r=yn(g),n=r.charAt(0),s=ct(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=yn(m.d),n=r.charAt(0),f++;s=ct(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=vp(x,u+2,w).times(s+""),m=pc(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,t==null?(We=!0,Ae(m,w)):m;for(l=a=m=Vn(m.minus(gr),m.plus(gr),u),d=Ae(m.times(m),u),i=3;;){if(a=Ae(a.times(d),u),c=l.plus(Vn(a,new x(i),u)),yn(c.d).slice(0,u)===yn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(vp(x,u+2,w).times(s+""))),l=Vn(l,new x(f),u),x.precision=w,t==null?(We=!0,Ae(l,w)):l;l=c,i+=2}}function hS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Ao(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Fe;n<i;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>df||e.e<-df))throw Error(Nx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ae(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Fe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Fe,i=n-Fe+a}if(r!==void 0&&(s=ms(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ms(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ct(e),f.length=1,t=t-s-1,f[0]=ms(10,(Fe-t%Fe)%Fe),e.e=Ao(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ms(10,Fe-n),f[d]=i>0?(u/ms(10,a-i)%ms(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==xt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=xt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>df||e.e<-df))throw Error(Nx+ct(e));return e}function FC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),We?Ae(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Fe),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=xt-1;--c[s],c[i]+=xt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?Ae(t,m):t):new h(0)}function Ws(e,t,r){var n,i=ct(e),s=yn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+bi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+bi(-i-1)+s,r&&(n=r-a)>0&&(s+=bi(n))):i>=a?(s+=bi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+bi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=bi(n))),e.s<0?"-"+s:s}function mS(e,t){if(e.length>t)return e.length=t,!0}function zC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Rs+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return hS(a,s.toString())}else if(typeof s!="string")throw Error(Rs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,fK.test(s))hS(a,s);else throw Error(Rs+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=zC,i.config=i.set=hK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function hK(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,r,n,i=["precision",1,Oo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Ao(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Rs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rs+r+": "+n);return this}var Sx=zC(dK);gr=new Sx(1);const _e=Sx;var mK=e=>e,UC={"@@functional/placeholder":!0},WC=e=>e===UC,pS=e=>function t(){return arguments.length===0||arguments.length===1&&WC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},VC=(e,t)=>e===1?t:pS(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==UC).length;return s>=e?t(...n):VC(e-s,pS(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>WC(d)?l.shift():d);return t(...u,...l)}))}),Bh=e=>VC(e.length,e),_y=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},pK=Bh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),gK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return mK;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},ky=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),KC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function HC(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function qC(e,t,r){for(var n=new _e(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Bh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Bh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Bh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var GC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},YC=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=HC(e.toNumber()),i=new _e(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new _e(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},yK=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _e(10).pow(HC(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var a=Math.floor((t-1)/2),l=gK(pK(c=>i.add(new _e(c-a).mul(n)).toNumber()),_y);return l(0,t)},XC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=YC(new _e(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new _e(0):(l=new _e(t).add(r).div(2),l=l.sub(new _e(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new _e(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?XC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new _e(c).mul(a)),tickMax:l.add(new _e(u).mul(a))})};function vK(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=GC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,..._y(0,n-1).map(()=>1/0)]:[..._y(0,n-1).map(()=>-1/0),l];return t>r?ky(c):c}if(a===l)return yK(a,n,i);var{step:u,tickMin:d,tickMax:f}=XC(a,l,s,i,0),h=qC(d,f.add(new _e(.1).mul(u)),u);return t>r?ky(h):h}function xK(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=GC([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=YC(new _e(a).sub(s).div(l-1),i,0),u=[...qC(new _e(s),new _e(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?ky(u):u}var bK=KC(vK),wK=KC(xK),JC=e=>e.rootProps.maxBarSize,jK=e=>e.rootProps.barGap,QC=e=>e.rootProps.barCategoryGap,NK=e=>e.rootProps.barSize,Fc=e=>e.rootProps.stackOffset,Px=e=>e.options.chartName,_x=e=>e.rootProps.syncId,ZC=e=>e.rootProps.syncMethod,kx=e=>e.options.eventEmitter,pn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},er={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Fh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},SK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pn.angleAxisId,includeHidden:!1,name:void 0,reversed:pn.reversed,scale:pn.scale,tick:pn.tick,tickCount:void 0,ticks:void 0,type:pn.type,unit:void 0},PK={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:er.type,unit:void 0},_K={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},kK={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:"category",unit:void 0},Eo=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_K:SK,zc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?kK:PK,zh=e=>e.polarOptions,Ox=L([ii,si,ht],jE),eT=L([zh,Ox],(e,t)=>{if(e!=null)return qt(e.innerRadius,t,0)}),tT=L([zh,Ox],(e,t)=>{if(e!=null)return qt(e.outerRadius,t,t*.8)}),OK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},rT=L([zh],OK),AK=L([Eo,rT],Fh),nT=L([Ox,eT,tT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),EK=L([zc,nT],Fh),Co=L([ve,zh,eT,tT,ii,si],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:qt(a,i,i/2),cy:qt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ce=(e,t)=>t,Uc=(e,t,r)=>r;function Ax(e){return e==null?void 0:e.id}var pt=e=>{var t=ve(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},To=e=>e.tooltip.settings.axisId,gt=e=>{var t=pt(e),r=To(e);return Mo(e,t,r)};function iT(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=Ax(a);c.forEach((d,f)=>{var h=i==null?f:String($e(d,i,null)),m=$e(d,a.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:m}),s.set(h,g)})}}),Array.from(s.values())}function Uh(e){return e.stackId!=null&&e.dataKey!=null}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){CK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CK(e,t,r){return(t=TK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oy=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},oi=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??hr},mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Oy,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ah},ts=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??mr},DK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ex=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??DK},it=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return ts(e,r);case"zAxis":return Ex(e,r);case"angleAxis":return Eo(e,r);case"radiusAxis":return zc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},RK=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return ts(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mo=(e,t,r)=>{switch(t){case"xAxis":return oi(e,r);case"yAxis":return ts(e,r);case"angleAxis":return Eo(e,r);case"radiusAxis":return zc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},sT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Cx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Tx=e=>e.graphicalItems.cartesianItems,$K=L([Ce,Uc],Cx),Mx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Wc=L([Tx,it,$K],Mx),aT=L([Wc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uh)),oT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),lT=L([Wc],oT),Dx=e=>e.map(t=>t.data).filter(Boolean).flat(1),IK=L([Wc],Dx),Rx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},$x=L([IK,jx],Rx),Ix=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$e(i,n)}))):e.map(n=>({value:n})),Wh=L([$x,it,Wc],Ix);function cT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qs(e){return e.filter(t=>On(t)||t instanceof Date).map(Number).filter(t=>wr(t)===!1)}function LK(e,t,r){return!r||typeof t!="number"||wr(t)?[]:r.length?Qs(r.flatMap(n=>{var i=$e(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Sr(s)||!Sr(a)))return[t-s,t+a]})):[]}var BK=L([aT,jx,gt],iT),uT=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(Ax);return[a,{stackedData:l9(e,c,r),graphicalItems:l}]}))},Ay=L([BK,aT,Fc],uT),dT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=h9(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},FK=L([Ay,es,Ce],dT),fT=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>cT(i,f)),d=$e(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:LK(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:$e(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Vh=e=>e.errorBars,hT=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>cT(r,n));L([lT,Vh,Ce],hT);var zK=L([$x,it,lT,Vh,Ce],fT);function UK(e){var{value:t}=e;if(On(t)||t instanceof Date)return t}var yS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Qs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},WK=(e,t,r)=>{var n=e.map(UK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&sA(n))?rC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Lx=e=>{var t;if(e==null||!("domain"in e))return Oy;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Qs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Oy},hf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},mT=e=>e.referenceElements.dots,Do=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),VK=L([mT,Ce,Uc],Do),pT=e=>e.referenceElements.areas,KK=L([pT,Ce,Uc],Do),gT=e=>e.referenceElements.lines,HK=L([gT,Ce,Uc],Do),yT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qK=L(VK,Ce,yT),vT=(e,t)=>{var r=Qs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},GK=L([KK,Ce],vT),xT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},YK=L(HK,Ce,xT),XK=L(qK,YK,GK,(e,t,r)=>hf(e,r,t)),bT=L([it],Lx),Bx=(e,t,r,n,i,s,a)=>{var l=cK(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?hf(r,i,yS(n)):hf(i,yS(n));return uK(t,u,e.allowDataOverflow)},JK=L([it,bT,FK,zK,XK,ve,Ce],Bx),QK=[0,1],Fx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ji(t,s);return u&&l==null?rC(0,r.length):c==="category"?WK(n,e,u):i==="expand"?QK:a}},zx=L([it,ve,$x,Wh,Fc,Ce,JK],Fx),wT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Tc(s));return l in gl?l:"point"}}},rs=L([it,ve,sT,Px,Ce],wT);function ZK(e){if(e!=null){if(e in gl)return gl[e]();var t="scale".concat(Tc(e));if(t in gl)return gl[t]()}}function Kh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=ZK(t);if(i!=null){var s=i.domain(r).range(n);return n9(s),s}}}var Ux=(e,t,r)=>{var n=Lx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lo(e))return bK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lo(e))return wK(e,t.tickCount,t.allowDecimals)}},Wx=L([zx,Mo,rs],Ux),Vx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},eH=L([it,zx,Wx,Ce],Vx),tH=L(Wh,it,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Qs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),jT=L(tH,ve,QC,ht,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Sr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=qt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),rH=(e,t)=>{var r=oi(e,t);return r==null||typeof r.padding!="string"?0:jT(e,"xAxis",t,r.padding)},nH=(e,t)=>{var r=ts(e,t);return r==null||typeof r.padding!="string"?0:jT(e,"yAxis",t,r.padding)},iH=L(oi,rH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),sH=L(ts,nH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),aH=L([ht,iH,Ch,Eh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),oH=L([ht,ve,sH,Ch,Eh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Vc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return aH(e,r,n);case"yAxis":return oH(e,r,n);case"zAxis":return(i=Ex(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return rT(e);case"radiusAxis":return nT(e,r);default:return}},NT=L([it,Vc],Fh),Ro=L([it,rs,eH,NT],Kh);L([Wc,Vh,Ce],hT);function ST(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Hh=(e,t)=>t,qh=(e,t,r)=>r,lH=L(Gv,Hh,qh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ST)),cH=L(Yv,Hh,qh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ST)),PT=(e,t)=>({width:e.width,height:t.height}),uH=(e,t)=>{var r=typeof t.width=="number"?t.width:Ah;return{width:r,height:e.height}},_T=L(ht,oi,PT),dH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},fH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},hH=L(si,ht,lH,Hh,qh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=PT(t,l);a==null&&(a=dH(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),mH=L(ii,ht,cH,Hh,qh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=uH(t,l);a==null&&(a=fH(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),pH=(e,t)=>{var r=ht(e),n=oi(e,t);if(n!=null){var i=hH(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},gH=(e,t)=>{var r=ht(e),n=ts(e,t);if(n!=null){var i=mH(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},kT=L(ht,ts,(e,t)=>{var r=typeof t.width=="number"?t.width:Ah;return{width:r,height:e.height}}),vS=(e,t,r)=>{switch(t){case"xAxis":return _T(e,r).width;case"yAxis":return kT(e,r).height;default:return}},OT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ji(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&sA(c))return c}},Kc=L([ve,Wh,it,Ce],OT),Kx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ji(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},Hx=L([ve,Wh,Mo,Ce],Kx),xS=L([ve,RK,rs,Ro,Kc,Hx,Vc,Wx,Ce],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ji(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),AT=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ji(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?wt(s[0]-s[1])*2*g:g;var x=f||i;if(x){var w=x.map((p,v)=>{var b=a?a.indexOf(p):p;return{index:v,coordinate:n(b)+g,value:p,offset:g}});return w.filter(p=>!wr(p.coordinate))}return u&&l?l.map((p,v)=>({coordinate:n(p)+g,value:p,index:v,offset:g})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,v)=>({coordinate:n(p)+g,value:a?a[p]:p,index:v,offset:g}))}},ET=L([ve,Mo,rs,Ro,Wx,Vc,Kc,Hx,Ce],AT),CT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ji(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?wt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},co=L([ve,Mo,Ro,Vc,Kc,Hx,Ce],CT),uo=L(it,Ro,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})}),yH=L([it,rs,zx,NT],Kh);L((e,t,r)=>Ex(e,r),yH,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})});var vH=L([ve,Gv,Yv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),TT=e=>e.options.defaultTooltipEventType,MT=e=>e.options.validateTooltipEventTypes;function DT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function qx(e,t){var r=TT(e),n=MT(e);return DT(t,r,n)}function xH(e){return re(t=>qx(t,e))}var RT=(e,t)=>{var r,n=Number(t);if(!(wr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bH=e=>e.tooltip.settings,Si={active:!1,index:null,dataKey:void 0,coordinate:void 0},wH={itemInteraction:{click:Si,hover:Si},axisInteraction:{click:Si,hover:Si},keyboardInteraction:Si,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},$T=kr({name:"tooltip",initialState:wH,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Wn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:jH,removeTooltipEntrySettings:NH,setTooltipSettingsState:SH,setActiveMouseOverItemIndex:IT,mouseLeaveItem:PH,mouseLeaveChart:LT,setActiveClickItemIndex:_H,setMouseOverAxisIndex:BT,setMouseClickAxisIndex:kH,setSyncInteraction:Ey,setKeyboardInteraction:Cy}=$T.actions,OH=$T.reducer;function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ru(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){AH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AH(e,t,r){return(t=EH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EH(e){var t=CH(e,"string");return typeof t=="symbol"?t:t+""}function CH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function MH(e){return e.index!=null}var FT=(e,t,r,n)=>{if(t==null)return Si;var i=TH(e,t,r);if(i==null)return Si;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(MH(i)){if(s)return Ru(Ru({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ru(Ru({},Si),{},{coordinate:i.coordinate})},Gx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Sr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},zT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},UT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Hc=e=>e.options.tooltipPayloadSearcher,$o=e=>e.tooltip;function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){DH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=$H(e,"string");return typeof t=="symbol"?t:t+""}function $H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IH(e,t){return e??t}var WT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:x,settings:w}=m,p=IH(x,l),v=Array.isArray(p)?SE(p,u,d):p,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?N=sz(v,n.dataKey,i):N=s(v,t,c,j),Array.isArray(N))N.forEach(P=>{var O=jS(jS({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(fN({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:$e(P.payload,P.dataKey),name:P.name}))});else{var S;h.push(fN({tooltipEntrySettings:w,dataKey:b,payload:N,value:$e(N,b),name:(S=$e(N,j))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},Yx=L([gt,ve,sT,Px,pt],wT),LH=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),BH=L([pt,To],Cx),qc=L([LH,gt,BH],Mx),FH=L([qc],e=>e.filter(Uh)),zH=L([qc],Dx),Io=L([zH,es],Rx),UH=L([FH,es,gt],iT),Xx=L([Io,gt,qc],Ix),WH=L([gt],Lx),VH=L([qc],e=>e.filter(Uh)),KH=L([UH,VH,Fc],uT),HH=L([KH,es,pt],dT),qH=L([qc],oT),GH=L([Io,gt,qH,Vh,pt],fT),YH=L([mT,pt,To],Do),XH=L([YH,pt],yT),JH=L([pT,pt,To],Do),QH=L([JH,pt],vT),ZH=L([gT,pt,To],Do),eq=L([ZH,pt],xT),tq=L([XH,eq,QH],hf),rq=L([gt,WH,HH,GH,tq,ve,pt],Bx),VT=L([gt,ve,Io,Xx,Fc,pt,rq],Fx),nq=L([VT,gt,Yx],Ux),iq=L([gt,VT,nq,pt],Vx),KT=e=>{var t=pt(e),r=To(e),n=!1;return Vc(e,t,r,n)},HT=L([gt,KT],Fh),qT=L([gt,Yx,iq,HT],Kh),sq=L([ve,Xx,gt,pt],OT),aq=L([ve,Xx,gt,pt],Kx),oq=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ji(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},li=L([ve,gt,Yx,qT,KT,sq,aq,pt],oq),Jx=L([TT,MT,bH],(e,t,r)=>DT(r.shared,e,t)),GT=e=>e.tooltip.settings.trigger,Qx=e=>e.tooltip.settings.defaultIndex,Gh=L([$o,Jx,GT,Qx],FT),Vi=L([Gh,Io],Gx),YT=L([li,Vi],RT),XT=L([Gh],e=>{if(e)return e.dataKey}),JT=L([$o,Jx,GT,Qx],UT),lq=L([ii,si,ve,ht,li,Qx,JT,Hc],zT),cq=L([Gh,lq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),uq=L([Gh],e=>e.active),dq=L([JT,Vi,es,gt,YT,Hc,Jx],WT),fq=L([dq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=pq(e,"string");return typeof t=="symbol"?t:t+""}function pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gq=()=>re(gt),yq=()=>{var e=gq(),t=re(li),r=re(qT);return cc(SS(SS({},e),{},{scale:r}),t)},vq=()=>re(Px),Zx=(e,t)=>t,QT=(e,t,r)=>r,eb=(e,t,r,n)=>n,xq=L(li,e=>jh(e,t=>t.coordinate)),tb=L([$o,Zx,QT,eb],FT),ZT=L([tb,Io],Gx),bq=(e,t,r)=>{if(t!=null){var n=$o(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eM=L([$o,Zx,QT,eb],UT),mf=L([ii,si,ve,ht,li,eb,eM,Hc],zT),wq=L([tb,mf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tM=L(li,ZT,RT),jq=L([eM,ZT,es,gt,tM,Hc,Zx],WT),Nq=L([tb],e=>({isActive:e.active,activeIndex:e.index})),Sq=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=m9(e.chartX,e.chartY,t,r,l);if(c){var u=g9(c,t),d=t9(u,a,s,n,i),f=p9(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Pq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pq(e,t,r){return(t=_q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=kq(e,"string");return typeof t=="symbol"?t:t+""}function kq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oq(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=Z9;else if(u==="BarChart")m=eW(a,d,i,s),g=YE;else if(a==="radial"){var{cx:x,cy:w,radius:p,startAngle:v,endAngle:b}=XE(d);m={cx:x,cy:w,startAngle:v,endAngle:b,innerRadius:p,outerRadius:p},g=QE}else m={points:MW(a,d,i)},g=LE;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=$u($u($u($u({stroke:"#ccc",pointerEvents:"none"},i),m),je(l,!1)),{},{payload:f,payloadIndex:h,className:pe("recharts-tooltip-cursor",j)});return y.isValidElement(l)?y.cloneElement(l,N):y.createElement(g,N)}function Aq(e){var t=yq(),r=CE(),n=Jv(),i=vq();return y.createElement(Oq,Ty({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var rM=y.createContext(null),Eq=()=>y.useContext(rM),nM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],p=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),p){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,g),!0}for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,N;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),p){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(N=1,v=new Array(p-1);N<p;N++)v[N-1]=arguments[N];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var x=0,w=[],p=g.length;x<p;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&w.push(g[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(nM);var Cq=nM.exports;const Tq=Kr(Cq);var gc=new Tq,My="recharts.syncEvent.tooltip",_S="recharts.syncEvent.brush";function rb(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return e==null?void 0:e[r]}}var Mq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iM=kr({name:"options",initialState:Mq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Dq=iM.reducer,{createEventEmitter:Rq}=iM.actions;function $q(e){return e.tooltip.syncInteraction}var Iq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},sM=kr({name:"chartData",initialState:Iq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:kS,setDataStartEndIndexes:Lq,setComputedData:mre}=sM.actions,Bq=sM.reducer,aM=()=>{};function Fq(){var e=re(_x),t=re(kx),r=Ye(),n=re(ZC),i=re(li),s=Jv(),a=Xv(),l=re(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return aM;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(i,m);h=i[g]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||a==null){r(Ey({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:p}=x,v=Math.min(w,a.x+a.width),b=Math.min(p,a.y+a.height),j={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},N=Ey({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(N)}}};return gc.on(My,c),()=>{gc.off(My,c)}},[l,r,t,e,n,i,s,a])}function zq(){var e=re(_x),t=re(kx),r=Ye();y.useEffect(()=>{if(e==null)return aM;var n=(i,s,a)=>{t!==a&&e===i&&r(Lq(s))};return gc.on(_S,n),()=>{gc.off(_S,n)}},[r,t,e])}function Uq(){var e=Ye();y.useEffect(()=>{e(Rq())},[e]),Fq(),zq()}function Wq(e,t,r,n,i,s){var a=re(h=>bq(h,e,t)),l=re(kx),c=re(_x),u=re(ZC),d=re($q),f=d==null?void 0:d.active;y.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Ey({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});gc.emit(My,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function AS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){Vq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Hq(e,"string");return typeof t=="symbol"?t:t+""}function Hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qq(e){return e.dataKey}function Gq(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(C9,t)}var ES=[],Yq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ys.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vs(e){var t=qr(e,Yq),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:w,trigger:p,defaultIndex:v,portal:b,axisId:j}=t,N=Ye(),S=typeof v=="number"?String(v):v;y.useEffect(()=>{N(SH({shared:w,trigger:p,axisId:j,active:r,defaultIndex:S}))},[N,w,p,j,r,S]);var P=Xv(),O=IE(),D=xH(w),{activeIndex:T,isActive:C}=re(B=>Nq(B,D,p,S)),z=re(B=>jq(B,D,p,S)),$=re(B=>tM(B,D,p,S)),_=re(B=>wq(B,D,p,S)),A=z,F=Eq(),W=r??C,[k,E]=K8([A,W]),K=D==="axis"?$:void 0;Wq(D,p,_,K,T,W);var Y=b??F;if(Y==null)return null;var J=A??ES;W||(J=ES),l&&J.length&&(J=c8(A.filter(B=>B.value!=null&&(B.hide!==!0||t.includeHidden)),d,qq));var xe=J.length>0,U=y.createElement(L9,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:W,coordinate:_,hasPayload:xe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:g,lastBoundingBox:k,innerRef:E,hasPortalFromProps:!!b},Gq(a,AS(AS({},t),{},{payload:J,label:K,active:W,coordinate:_,accessibilityLayer:O})));return y.createElement(y.Fragment,null,Fk.createPortal(U,Y),W&&y.createElement(Aq,{cursor:x,tooltipEventType:D,coordinate:_,payload:A,index:T}))}var oM={},lM={},cM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),a=void 0,l=null},w=()=>{d()},p=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return p.schedule=m,p.cancel=x,p.flush=w,i==null||i.addEventListener("abort",x,{once:!0}),p}e.debounce=t})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(lM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(oM);var Xq=oM.throttle;const Jq=Kr(Xq);var Dl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return(t=Zq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zq(e){var t=eG(e,"string");return typeof t=="symbol"?t:t+""}function eG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ks=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,x=y.useRef(null),w=y.useRef();w.current=m,y.useImperativeHandle(t,()=>x.current);var[p,v]=y.useState({containerWidth:n.width,containerHeight:n.height}),b=y.useCallback((N,S)=>{v(P=>{var O=Math.round(N),D=Math.round(S);return P.containerWidth===O&&P.containerHeight===D?P:{containerWidth:O,containerHeight:D}})},[]);y.useEffect(()=>{var N=D=>{var T,{width:C,height:z}=D[0].contentRect;b(C,z),(T=w.current)===null||T===void 0||T.call(w,C,z)};d>0&&(N=Jq(N,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:P,height:O}=x.current.getBoundingClientRect();return b(P,O),S.observe(x.current),()=>{S.disconnect()}},[b,d]);var j=y.useMemo(()=>{var{containerWidth:N,containerHeight:S}=p;if(N<0||S<0)return null;Dl(ws(i)||ws(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Dl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=ws(i)?N:i,O=ws(s)?S:s;return r&&r>0&&(P?O=P/r:O&&(P=O*r),c&&O>c&&(O=c)),Dl(P>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,i,s,a,l,r),y.Children.map(u,D=>y.cloneElement(D,{width:P,height:O,style:xp({width:P,height:O},D.props.style)}))},[r,u,s,c,l,a,p,i]);return y.createElement("div",{id:f?"".concat(f):void 0,className:pe("recharts-responsive-container",h),style:xp(xp({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Zs=e=>null;Zs.displayName="Cell";function tG(e,t,r){return(t=rG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rG(e){var t=nG(e,"string");return typeof t=="symbol"?t:t+""}function nG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class iG{constructor(t){tG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cG={cacheSize:2e3,enableCache:!0},uM=sG({},cG),MS=new iG(uM.cacheSize),uG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DS="recharts_measurement_span";function dG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var RS=(e,t)=>{try{var r=document.getElementById(DS);r||(r=document.createElement("span"),r.setAttribute("id",DS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,uG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};if(!uM.enableCache)return RS(t,r);var n=dG(t,r),i=MS.get(n);if(i)return i;var s=RS(t,r);return MS.set(n,s),s},$S=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,hG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,dM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},mG=Object.keys(dM),Aa="NaN";function pG(e,t){return e*dM[t]}class Zt{static parse(t){var r,[,n,i]=(r=hG.exec(t))!==null&&r!==void 0?r:[];return new Zt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wr(t)&&(this.unit=""),r!==""&&!fG.test(r)&&(this.num=NaN,this.unit=""),mG.includes(r)&&(this.num=pG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function fM(e){if(e.includes(Aa))return Aa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=$S.exec(t))!==null&&r!==void 0?r:[],a=Zt.parse(n??""),l=Zt.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Aa;t=t.replace($S,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=IS.exec(t))!==null&&u!==void 0?u:[],m=Zt.parse(d??""),g=Zt.parse(h??""),x=f==="+"?m.add(g):m.subtract(g);if(x.isNaN())return Aa;t=t.replace(IS,x.toString())}return t}var LS=/\(([^()]*)\)/;function gG(e){for(var t=e,r;(r=LS.exec(t))!=null;){var[,n]=r;t=t.replace(LS,fM(n))}return t}function yG(e){var t=e.replace(/\s+/g,"");return t=gG(t),t=fM(t),t}function vG(e){try{return yG(e)}catch{return Aa}}function bp(e){var t=vG(e.slice(5,-1));return t===Aa?"":t}var xG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],bG=["dx","dy","angle","className","breakAll"];function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}function BS(e,t){if(e==null)return{};var r,n,i=wG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hM=/[ \f\n\r\t\v\u2028\u2029]+/,mM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];et(t)||(r?i=t.toString().split(""):i=t.toString().split(hM));var s=i.map(l=>({word:l,width:Rl(l,n).width})),a=r?0:Rl(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},jG=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=ie(s),d=a,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((z,$)=>{var{word:_,width:A}=$,F=z[z.length-1];if(F&&(n==null||i||F.width+A+r<Number(n)))F.words.push(_),F.width+=A+r;else{var W={words:[_],width:A};z.push(W)}return z},[])},h=f(t),m=T=>T.reduce((C,z)=>C.width>z.width?C:z);if(!u||i)return h;var g=h.length>s||m(h).width>Number(n);if(!g)return h;for(var x="…",w=T=>{var C=d.slice(0,T),z=mM({breakAll:c,style:l,children:C+x}).wordsWithComputedWidth,$=f(z),_=$.length>s||m($).width>Number(n);return[_,$]},p=0,v=d.length-1,b=0,j;p<=v&&b<=d.length-1;){var N=Math.floor((p+v)/2),S=N-1,[P,O]=w(S),[D]=w(N);if(!P&&!D&&(p=N+1),P&&D&&(v=N-1),!P&&D){j=O;break}b++}return j||h},FS=e=>{var t=et(e)?[]:e.toString().split(hM);return[{words:t}]},NG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Ys.isSsr){var l,c,u=mM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return FS(n);return jG({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return FS(n)},zS="#808080",Lo=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=zS}=e,d=BS(e,xG),f=y.useMemo(()=>NG({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:g,className:x,breakAll:w}=d,p=BS(d,bG);if(!On(r)||!On(n))return null;var v=r+(ie(h)?h:0),b=n+(ie(m)?m:0),j;switch(c){case"start":j=bp("calc(".concat(s,")"));break;case"middle":j=bp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=bp("calc(".concat(f.length-1," * -").concat(i,")"));break}var N=[];if(a){var S=f[0].width,{width:P}=d;N.push("scale(".concat(ie(P)?P/S:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),N.length&&(p.transform=N.join(" ")),y.createElement("text",Dy({},je(p,!0),{ref:t,x:v,y:b,className:pe("recharts-text",x),textAnchor:l,fill:u.includes("url")?zS:u}),f.map((O,D)=>{var T=O.words.join(w?"":" ");return y.createElement("tspan",{x:v,dy:D===0?j:i,key:"".concat(T,"-").concat(D)},T)}))});Lo.displayName="Text";var SG=["offset"],PG=["labelRef"];function US(e,t){if(e==null)return{};var r,n,i=_G(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){kG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(){return $n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$n.apply(null,arguments)}var EG=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},nb=e=>e!=null&&typeof e=="function",CG=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},TG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,g=(u+d)/2,x=CG(f,h),w=x>=0?1:-1,p,v;i==="insideStart"?(p=f+w*s,v=m):i==="insideEnd"?(p=h-w*s,v=!m):i==="end"&&(p=h+w*s,v=m),v=x<=0?v:!v;var b=Se(l,c,g,p),j=Se(l,c,g,p+(v?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=et(e.id)?ac("recharts-radial-line-"):e.id;return y.createElement("text",$n({},r,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",a)}),y.createElement("defs",null,y.createElement("path",{id:S,d:N})),y.createElement("textPath",{xlinkHref:"#".concat(S)},t))},MG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Se(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:g}=Se(n,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},DG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,g=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var p={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Xe(Xe({},p),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Xe(Xe({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"};return Xe(Xe({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Xe(Xe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var N=r?{width:l,height:c}:{};return i==="insideLeft"?Xe({x:s+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Xe({x:s+l-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?Xe({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},N):i==="insideBottom"?Xe({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},N):i==="insideTopLeft"?Xe({x:s+g,y:a+d,textAnchor:w,verticalAnchor:h},N):i==="insideTopRight"?Xe({x:s+l-g,y:a+d,textAnchor:x,verticalAnchor:h},N):i==="insideBottomLeft"?Xe({x:s+g,y:a+c-d,textAnchor:w,verticalAnchor:f},N):i==="insideBottomRight"?Xe({x:s+l-g,y:a+c-d,textAnchor:x,verticalAnchor:f},N):i&&typeof i=="object"&&(ie(i.x)||ws(i.x))&&(ie(i.y)||ws(i.y))?Xe({x:s+qt(i.x,l),y:a+qt(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):Xe({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},RG=e=>"cx"in e&&ie(e.cx);function nr(e){var{offset:t=5}=e,r=US(e,SG),n=Xe({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=re(Co),m=Xv(),g=s==="center"?m:h??m,x=i||g;if(!x||et(a)&&et(l)&&!y.isValidElement(c)&&typeof c!="function")return null;var w=Xe(Xe({},n),{},{viewBox:x});if(y.isValidElement(c)){var p=US(w,PG);return y.cloneElement(c,p)}var v;if(typeof c=="function"){if(v=y.createElement(c,w),y.isValidElement(v))return v}else v=EG(n);var b=RG(x),j=je(n,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return TG(n,v,j,x);var N=b?MG(x,n.offset,n.position):DG(n,x);return y.createElement(Lo,$n({ref:f,className:pe("recharts-label",u)},j,N,{breakAll:d}),v)}nr.displayName="Label";var pM=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:g,height:x,clockWise:w,labelViewBox:p}=e;if(p)return p;if(ie(g)&&ie(x)){if(ie(d)&&ie(f))return{x:d,y:f,width:g,height:x};if(ie(h)&&ie(m))return{x:h,y:m,width:g,height:x}}if(ie(d)&&ie(f))return{x:d,y:f,width:0,height:0};if(ie(t)&&ie(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},$G=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(nr,$n({key:"label-implicit"},n)):On(e)?y.createElement(nr,$n({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===nr?y.cloneElement(e,Xe({key:"label-implicit"},n)):y.createElement(nr,$n({key:"label-implicit",content:e},n)):nb(e)?y.createElement(nr,$n({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(nr,$n({},e,{key:"label-implicit"},n)):null},IG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=pM(t),l=Mc(i,nr).map((u,d)=>y.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=$G(t.label,r||a,s);return[c,...l]};nr.parseViewBox=pM;nr.renderCallByParent=IG;var gM={},yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yM);var vM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(vM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yM,r=vM,n=gh;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(gM);var LG=gM.last;const xM=Kr(LG);var BG=["valueAccessor"],FG=["data","dataKey","clockWise","id","textBreakAll"];function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}function VS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VS(Object(r),!0).forEach(function(n){zG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=WG(e,"string");return typeof t=="symbol"?t:t+""}function WG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HS(e,t){if(e==null)return{};var r,n,i=VG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KG=e=>Array.isArray(e.value)?xM(e.value):e.value;function Li(e){var{valueAccessor:t=KG}=e,r=HS(e,BG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=HS(r,FG);return!n||!n.length?null:y.createElement(Ge,{className:"recharts-label-list"},n.map((u,d)=>{var f=et(i)?t(u,d):$e(u&&u.payload,i),h=et(a)?{}:{id:"".concat(a,"-").concat(d)};return y.createElement(nr,pf({},je(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:nr.parseViewBox(et(s)?u:KS(KS({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Li.displayName="LabelList";function HG(e,t){return e?e===!0?y.createElement(Li,{key:"labelList-implicit",data:t}):y.isValidElement(e)||nb(e)?y.createElement(Li,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Li,pf({data:t},e,{key:"labelList-implicit"})):null:null}function qG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Mc(n,Li).map((a,l)=>y.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=HG(e.label,t);return[s,...i]}Li.renderCallByParent=qG;var GG=["points","className","baseLinePoints","connectNulls"];function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(null,arguments)}function YG(e,t){if(e==null)return{};var r,n,i=XG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qS=e=>e&&e.x===+e.x&&e.y===+e.y,JG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{qS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$l=(e,t)=>{var r=JG(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},QG=(e,t,r)=>{var n=$l(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat($l(t.reverse(),r).slice(1))},bM=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=YG(e,GG);if(!t||!t.length)return null;var a=pe("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=QG(t,n,i);return y.createElement("g",{className:a},y.createElement("path",Ea({},je(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?y.createElement("path",Ea({},je(s,!0),{fill:"none",d:$l(t,i)})):null,l?y.createElement("path",Ea({},je(s,!0),{fill:"none",d:$l(n,i)})):null)}var u=$l(t,i);return y.createElement("path",Ea({},je(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}var ib=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=pe("recharts-dot",i);return t===+t&&r===+r&&n===+n?y.createElement("circle",Ry({},Bt(e),Ev(e),{className:s,cx:t,cy:r,r:n})):null},sb=e=>e.graphicalItems.polarItems,ZG=L([Ce,Uc],Cx),ab=L([sb,it,ZG],Mx),eY=L([ab],Dx),ob=L([eY,Lh],Rx),wM=L([ob,it,ab],Ix),tY=L([ob,it,ab],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=$e(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),GS=()=>{},rY=L([it,bT,GS,tY,GS,ve,Ce],Bx),jM=L([it,ve,ob,wM,Fc,Ce,rY],Fx),NM=L([jM,it,rs],Ux),nY=L([it,jM,NM,Ce],Vx),lb=(e,t,r)=>{switch(t){case"angleAxis":return Eo(e,r);case"radiusAxis":return zc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},cb=(e,t,r)=>{switch(t){case"angleAxis":return AK(e,r);case"radiusAxis":return EK(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Bo=L([lb,rs,nY,cb],Kh),SM=L([ve,wM,Mo,Ce],Kx),Fo=L([ve,lb,rs,Bo,NM,cb,Kc,SM,Ce],AT);L([ve,lb,Bo,cb,Kc,SM,Ce],CT);var iY=(e,t)=>Fo(e,"angleAxis",t,!1),sY=L([iY],e=>{if(e)return e.map(t=>t.coordinate)}),aY=(e,t)=>Fo(e,"radiusAxis",t,!1),oY=L([aY],e=>{if(e)return e.map(t=>t.coordinate)}),lY=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function cY(e,t){if(e==null)return{};var r,n,i=uY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function uY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ei.apply(null,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){dY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dY(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mY=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=Se(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},pY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=fo({stroke:"#ccc"},Bt(e));return y.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=Se(t,r,n,c),d=Se(t,r,i,c);return y.createElement("line",ei({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},gY=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=fo(fo({stroke:"#ccc"},Bt(e)),{},{fill:"none"});return y.createElement("circle",ei({},s,{className:pe("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},yY=e=>{var{radius:t,index:r}=e,n=fo(fo({stroke:"#ccc"},Bt(e)),{},{fill:"none"});return y.createElement("path",ei({},n,{className:pe("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:mY(t,e.cx,e.cy,e.polarAngles)}))},vY=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:y.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?y.createElement(gY,ei({key:s},e,{radius:n,index:i})):y.createElement(yY,ei({key:s},e,{radius:n,index:i}))}))},PM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:g,innerRadius:x,outerRadius:w}=e,p=cY(e,lY),v=re(Co),b=fo({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=v==null?void 0:v.cy)!==null&&i!==void 0?i:g)!==null&&n!==void 0?n:0,innerRadius:(s=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:x)!==null&&s!==void 0?s:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},p),{polarAngles:j,polarRadius:N,cx:S,cy:P,innerRadius:O,outerRadius:D}=b,T=re(_=>sY(_,f)),C=re(_=>oY(_,h)),z=Array.isArray(j)?j:T,$=Array.isArray(N)?N:C;return D<=0||z==null||$==null?null:y.createElement("g",{className:"recharts-polar-grid"},y.createElement(pY,ei({cx:S,cy:P,innerRadius:O,outerRadius:D,gridType:u,radialLines:d},b,{polarAngles:z,polarRadius:$})),y.createElement(vY,ei({cx:S,cy:P,innerRadius:O,outerRadius:D,gridType:u,radialLines:d},b,{polarAngles:z,polarRadius:$})))};PM.displayName="PolarGrid";var _M={},kM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(kM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kM,r=Dc,n=yh;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(_M);var xY=_M.maxBy;const bY=Kr(xY);var OM={},AM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(AM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AM,r=Dc,n=yh;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(OM);var wY=OM.minBy;const jY=Kr(wY);var NY={radiusAxis:{},angleAxis:{}},EM=kr({name:"polarAxis",initialState:NY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:SY,removeRadiusAxis:PY,addAngleAxis:_Y,removeAngleAxis:kY}=EM.actions,OY=EM.reducer,AY=["cx","cy","angle","axisLine"],EY=["angle","tickFormatter","stroke","tick"];function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return(t=CY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CY(e){var t=TY(e,"string");return typeof t=="symbol"?t:t+""}function TY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CM(e,t){if(e==null)return{};var r,n,i=MY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var TM="radiusAxis";function DY(e){var t=Ye();return y.useEffect(()=>(t(SY(e)),()=>{t(PY(e))})),null}var RY=(e,t,r,n)=>{var{coordinate:i}=e;return Se(r,n,i,t)},$Y=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},IY=(e,t,r,n)=>{var i=bY(n,a=>a.coordinate||0),s=jY(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},LY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=CM(e,AY),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Se(r,n,l[0],i),u=Se(r,n,l[1],i),d=vn(vn(vn({},Bt(a)),{},{fill:"none"},je(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return y.createElement("line",yc({className:"recharts-polar-radius-axis-line"},d))},BY=(e,t,r)=>{var n;return y.isValidElement(e)?n=y.cloneElement(e,t):typeof e=="function"?n=e(t):n=y.createElement(Lo,yc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},FY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=CM(e,EY),l=$Y(e.orientation),c=Bt(a),u=je(s,!1),d=t.map((f,h)=>{var m=RY(f,e.angle,e.cx,e.cy),g=vn(vn(vn(vn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return y.createElement(Ge,yc({className:pe("recharts-polar-radius-axis-tick",NE(s)),key:"tick-".concat(f.coordinate)},Po(e,f,h)),BY(s,g,n?n(f.value,h):f.value))});return y.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},d)},zY=e=>{var{radiusAxisId:t}=e,r=re(Co),n=re(c=>Bo(c,"radiusAxis",t)),i=re(c=>Fo(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=vn(vn(vn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return y.createElement(Ge,{className:pe("recharts-polar-radius-axis",TM,s.className)},l&&LY(s,i),a&&FY(s,i),nr.renderCallByParent(s,IY(s.angle,s.cx,s.cy,i)))};class Xh extends y.PureComponent{render(){return y.createElement(y.Fragment,null,y.createElement(DY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),y.createElement(zY,this.props))}}Yh(Xh,"displayName","PolarRadiusAxis");Yh(Xh,"axisType",TM);Yh(Xh,"defaultProps",er);var UY=["children"];function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jh(e,t,r){return(t=WY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WY(e){var t=VY(e,"string");return typeof t=="symbol"?t:t+""}function VY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KY(e,t){if(e==null)return{};var r,n,i=HY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qY=Math.PI/180,QS=1e-5,MM="angleAxis";function GY(e){var t=Ye(),r=y.useMemo(()=>{var s=KY(e,UY);return s},[e]),n=re(s=>Eo(s,r.id)),i=r===n;return y.useEffect(()=>(t(_Y(r)),()=>{t(kY(r))}),[t,r]),i?e.children:null}var YY=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=Se(r,n,i,e.coordinate),u=Se(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},XY=(e,t)=>{var r=Math.cos(-e.coordinate*qY);return r>QS?t==="outer"?"start":"end":r<-QS?t==="outer"?"end":"start":"middle"},JY=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=gn(gn({},Bt(e)),{},{fill:"none"},je(s,!1));if(i==="circle")return y.createElement(ib,ti({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>Se(t,r,n,u.coordinate));return y.createElement(bM,ti({className:"recharts-polar-angle-axis-line"},l,{points:c}))},QY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?y.isValidElement(t)?y.cloneElement(t,r):typeof t=="function"?t(r):y.createElement(Lo,ti({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},ZY=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=Bt(e),l=je(t,!1),c=gn(gn({},a),{},{fill:"none"},je(r,!1)),u=s.map((d,f)=>{var h=YY(d,e),m=XY(d,e.orientation),g=gn(gn(gn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return y.createElement(Ge,ti({className:pe("recharts-polar-angle-axis-tick",NE(t)),key:"tick-".concat(d.coordinate)},Po(e,d,f)),r&&y.createElement("line",ti({className:"recharts-polar-angle-axis-tick-line"},c,h)),y.createElement(QY,{tick:t,tickProps:g,value:n?n(d.value,f):d.value}))});return y.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},u)},eX=e=>{var{angleAxisId:t}=e,r=re(Co),n=re(l=>Bo(l,"angleAxis",t)),i=fr(),s=re(l=>Fo(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=gn(gn(gn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return y.createElement(Ge,{className:pe("recharts-polar-angle-axis",MM,a.className)},y.createElement(JY,ti({},a,{ticks:s})),y.createElement(ZY,ti({},a,{ticks:s})))};class Qh extends y.PureComponent{render(){return this.props.radius<=0?null:y.createElement(GY,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},y.createElement(eX,this.props))}}Jh(Qh,"displayName","PolarAngleAxis");Jh(Qh,"axisType",MM);Jh(Qh,"defaultProps",pn);function ZS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZS(Object(r),!0).forEach(function(n){tX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tX(e,t,r){return(t=rX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rX(e){var t=nX(e,"string");return typeof t=="symbol"?t:t+""}function nX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iX=(e,t)=>t,ub=L([sb,iX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),sX=[],db=(e,t,r)=>(r==null?void 0:r.length)===0?sX:r,DM=L([Lh,ub,db],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>eP(eP({},t.presentationProps),s.props))),i!=null)return i}}),aX=L([DM,ub,db],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=$e(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:_o(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),oX=L([DM,ub,db,ht],(e,t,r,n)=>{if(!(t==null||e==null))return QX({offset:n,pieSettings:t,displayedData:e,cells:r})}),RM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(RM);var lX=RM.isPlainObject;const cX=Kr(lX);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var tP=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},uX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dX=e=>{var t=qr(e,uX),r=y.useRef(),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var x=pe("recharts-trapezoid",d);return g?y.createElement(Zd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:g},w=>{var{upperWidth:p,lowerWidth:v,height:b,x:j,y:N}=w;return y.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},y.createElement("path",gf({},je(t,!0),{className:x,d:tP(j,N,p,v,b),ref:r})))}):y.createElement("g",null,y.createElement("path",gf({},je(t,!0),{className:x,d:tP(s,a,l,c,u)})))},fX=["option","shapeType","propTransformer","activeClassName","isActive"];function hX(e,t){if(e==null)return{};var r,n,i=mX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rP(Object(r),!0).forEach(function(n){pX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pX(e,t,r){return(t=gX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vX(e,t){return yf(yf({},t),e)}function xX(e,t){return e==="symbols"}function nP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(YE,r);case"trapezoid":return y.createElement(dX,r);case"sector":return y.createElement(QE,r);case"symbols":if(xX(t))return y.createElement(_A,r);break;default:return null}}function bX(e){return y.isValidElement(e)?e.props:e}function $M(e){var{option:t,shapeType:r,propTransformer:n=vX,activeClassName:i="recharts-active-shape",isActive:s}=e,a=hX(e,fX),l;if(y.isValidElement(t))l=y.cloneElement(t,yf(yf({},a),bX(t)));else if(typeof t=="function")l=t(a);else if(cX(t)&&typeof t!="boolean"){var c=n(t,a);l=y.createElement(nP,{shapeType:r,elementProps:c})}else{var u=a;l=y.createElement(nP,{shapeType:r,elementProps:u})}return s?y.createElement(Ge,{className:i},l):l}var fb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(IT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},hb=e=>{var t=Ye();return(r,n)=>i=>{e==null||e(r,n,i),t(PH())}},mb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(_H({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function pb(e){var{fn:t,args:r}=e,n=Ye(),i=fr();return y.useEffect(()=>{if(!i){var s=t(r);return n(jH(s)),()=>{n(NH(s))}}},[t,r,n,i]),null}var IM=()=>{};function wX(e){var{legendPayload:t}=e,r=Ye(),n=fr();return y.useEffect(()=>n?IM:(r(RE(t)),()=>{r($E(t))}),[r,n,t]),null}function LM(e){var{legendPayload:t}=e,r=Ye(),n=re(ve);return y.useEffect(()=>n!=="centric"&&n!=="radial"?IM:(r(RE(t)),()=>{r($E(t))}),[r,n,t]),null}function gb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(ac(t)),n=y.useRef(e);return n.current!==e&&(r.current=ac(t),n.current=e),r.current}var wp,jX=()=>{var[e]=y.useState(()=>ac("uid-"));return e},NX=(wp=YD.useId)!==null&&wp!==void 0?wp:jX;function SX(e,t){var r=NX();return t||(e?"".concat(e,"-").concat(r):r)}var PX=y.createContext(void 0),yb=e=>{var{id:t,type:r,children:n}=e,i=SX("recharts-".concat(r),t);return y.createElement(PX.Provider,{value:i},n(i))},_X={cartesianItems:[],polarItems:[]},BM=kr({name:"graphicalItems",initialState:_X,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Wn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Wn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Wn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:kX,replaceCartesianGraphicalItem:OX,removeCartesianGraphicalItem:AX,addPolarGraphicalItem:EX,removePolarGraphicalItem:CX}=BM.actions,TX=BM.reducer;function MX(e){var t=Ye(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(kX(e)):r.current!==e&&t(OX({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(AX(r.current)),r.current=null)},[t]),null}function FM(e){var t=Ye();return y.useEffect(()=>(t(EX(e)),()=>{t(CX(e))}),[t,e]),null}function DX(){}var RX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},iP={t:0},jp={t:1};function vb(e){var t=qr(e,RX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=GE("JavascriptAnimate",t.animationManager),[f,h]=y.useState(r?iP:jp),m=y.useRef(null);return y.useEffect(()=>{r||h(jp)},[r]),y.useEffect(()=>{if(!r||!n)return DX;var g=qE(iP,jp,KE(s),i,h,d.getTimeoutController()),x=()=>{m.current=g()};return d.start([c,a,x,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var $X=["onMouseEnter","onClick","onMouseLeave"],IX=["id"],LX=["id"];function xb(e,t){if(e==null)return{};var r,n,i=BX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){FX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FX(e,t,r){return(t=zX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zX(e){var t=UX(e,"string");return typeof t=="symbol"?t:t+""}function UX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function WX(e){var t=y.useMemo(()=>Mc(e.children,Zs),[e.children]),r=re(n=>aX(n,e.id,t));return r==null?null:y.createElement(LM,{legendPayload:r})}function VX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:_o(l,t),hide:c,type:u,color:a,unit:""}}}var KX=(e,t)=>e>t?"start":e<t?"end":"middle",HX=(e,t,r)=>typeof t=="function"?t(e):qt(t,r,r*.8),qX=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=jE(s,a),c=i+qt(e.cx,s,s/2),u=n+qt(e.cy,a,a/2),d=qt(e.innerRadius,l,0),f=HX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},GX=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},YX=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(LE,ri({},t,{type:"linear",className:r}))},XX=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var i=pe("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(Lo,ri({},t,{alignmentBaseline:"middle",className:i}),n)};function JX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=Bt(r),c=je(i,!1),u=je(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,x=Se(h.cx,h.cy,h.outerRadius+d,g),w=Ze(Ze(Ze(Ze({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:KX(x.x,h.cx)},x),p=Ze(Ze(Ze(Ze({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Se(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return y.createElement(Ge,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&YX(s,p),XX(i,w,$e(h,a)))});return y.createElement(Ge,{className:"recharts-pie-labels"},f)}function zM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=re(Vi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=xb(i,$X),f=fb(l,i.dataKey),h=hb(u),m=mb(c,i.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=r&&String(x)===a,p=a?n:null,v=w?r:p,b=Ze(Ze({},g),{},{stroke:g.stroke,tabIndex:-1,[OE]:x,[AE]:i.dataKey});return y.createElement(Ge,ri({tabIndex:-1,className:"recharts-pie-sector"},Po(d,g,x),{onMouseEnter:f(g,x),onMouseLeave:h(g,x),onClick:m(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),y.createElement($M,ri({option:v,isActive:w,shapeType:"sector"},b)))}),y.createElement(JX,{sectors:t,props:i,showLabels:s}))}function QX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=GX(l,c),g=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>$e(S,u,0)!==0).length,p=(g>=360?w:w-1)*x,v=g-w*h-p,b=n.reduce((S,P)=>{var O=$e(P,u,0);return S+(ie(O)?O:0)},0),j;if(b>0){var N;j=n.map((S,P)=>{var O=$e(S,u,0),D=$e(S,d,P),T=qX(r,s,S),C=(ie(O)?O:0)/b,z,$=Ze(Ze({},S),i&&i[P]&&i[P].props);P?z=N.endAngle+wt(m)*x*(O!==0?1:0):z=l;var _=z+wt(m)*((O!==0?h:0)+C*v),A=(z+_)/2,F=(T.innerRadius+T.outerRadius)/2,W=[{name:D,value:O,payload:$,dataKey:u,type:f}],k=Se(T.cx,T.cy,F,A);return N=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:C,cornerRadius:a,name:D,tooltipPayload:W,midAngle:A,middleRadius:F,tooltipPosition:k},$),T),{},{value:$e(S,u),startAngle:z,endAngle:_,payload:$,paddingAngle:wt(m)*x}),N})}return j}function ZX(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=gb(t,"recharts-pie-"),m=r.current,[g,x]=y.useState(!0),w=y.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),p=y.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return y.createElement(vb,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:p,onAnimationEnd:w,key:h},v=>{var b=[],j=n&&n[0],N=j.startAngle;return n.forEach((S,P)=>{var O=m&&m[P],D=P>0?Wi(S,"paddingAngle",0):0;if(O){var T=Oa(O.endAngle-O.startAngle,S.endAngle-S.startAngle),C=Ze(Ze({},S),{},{startAngle:N+D,endAngle:N+T(v)+D});b.push(C),N=C.endAngle}else{var{endAngle:z,startAngle:$}=S,_=Oa(0,z-$),A=_(v),F=Ze(Ze({},S),{},{startAngle:N+D,endAngle:N+A+D});b.push(F),N=F.endAngle}}),r.current=b,y.createElement(Ge,null,y.createElement(zM,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!g}))})}function eJ(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=y.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?y.createElement(ZX,{props:e,previousSectorsRef:s}):y.createElement(zM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function tJ(e){var{hide:t,className:r,rootTabIndex:n}=e,i=pe("recharts-pie",r);return t?null:y.createElement(Ge,{tabIndex:n,className:i},y.createElement(eJ,e))}var rJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ys.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function nJ(e){var{id:t}=e,r=xb(e,IX),n=y.useMemo(()=>Mc(e.children,Zs),[e.children]),i=re(s=>oX(s,t,n));return y.createElement(y.Fragment,null,y.createElement(pb,{fn:VX,args:Ze(Ze({},e),{},{sectors:i})}),y.createElement(tJ,ri({},r,{sectors:i})))}function Zh(e){var t=qr(e,rJ),{id:r}=t,n=xb(t,LX),i=Bt(n);return y.createElement(yb,{id:r,type:"pie"},s=>y.createElement(y.Fragment,null,y.createElement(FM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),y.createElement(WX,ri({},n,{id:s})),y.createElement(nJ,ri({},n,{id:s})),n.children))}Zh.displayName="Pie";var iJ=L([ht],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),sJ=L([iJ,ii,si],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),UM=()=>re(sJ),aJ=()=>re(fq);function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){oJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oJ(e,t,r){return(t=lJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lJ(e){var t=cJ(e,"string");return typeof t=="symbol"?t:t+""}function cJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=oP(oP({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},je(i,!1)),Ev(i)),l;return y.isValidElement(i)?l=y.cloneElement(i,a):typeof i=="function"?l=i(a):l=y.createElement(ib,a),y.createElement(Ge,{className:"recharts-active-dot"},l)};function dJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=re(Vi),a=aJ();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return et(l)?null:uJ({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WM=(e,t)=>Bo(e,"radiusAxis",t),pJ=L([WM],e=>{if(e!=null)return{scale:e}}),gJ=L([zc,WM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),yJ=(e,t,r,n)=>Fo(e,"radiusAxis",t,n),VM=(e,t,r)=>Eo(e,r),KM=(e,t,r)=>Bo(e,"angleAxis",r),vJ=L([VM,KM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),xJ=(e,t,r,n)=>Fo(e,"angleAxis",r,n),bJ=L([VM,KM,Co],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),wJ=(e,t,r,n,i)=>i,jJ=L([ve,gJ,yJ,vJ,xJ],(e,t,r,n,i)=>Ji(e,"radiusAxis")?cc(t,r,!1):cc(n,i,!1)),NJ=L([sb,wJ],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),SJ=L([pJ,bJ,Lh,NJ,jJ],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return MJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),PJ=["id"];function _J(e,t){if(e==null)return{};var r,n,i=kJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){bb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bb(e,t,r){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OJ(e){var t=AJ(e,"string");return typeof t=="symbol"?t:t+""}function AJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function wb(e,t){return e&&e!=="none"?e:t}var EJ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:wb(n,i),value:_o(r,t),payload:e}]};function CJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:_o(s,t),hide:a,type:l,color:wb(r,i),unit:""}}}function TJ(e,t){var r;return y.isValidElement(e)?r=y.cloneElement(e,t):typeof e=="function"?r=e(t):r=y.createElement(ib,ho({},t,{className:pe("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function MJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var g=$e(h,r.dataKey,m),x=$e(h,i),w=r.scale(g)+d,p=Array.isArray(x)?xM(x):x,v=et(p)?void 0:t.scale(p);Array.isArray(x)&&x.length>=2&&(c=!0),u.push(Kt(Kt({},Se(a,l,v,w)),{},{name:g,value:x,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],g=et(m)?void 0:t.scale(m);f.push(Kt(Kt({},h),{},{radius:g},Se(a,l,g,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function DJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=_J(r,PJ),a=Bt(s),l=je(n,!0),c=t.map((u,d)=>{var f=Kt(Kt(Kt({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return TJ(n,f)});return y.createElement(Ge,{className:"recharts-radar-dots"},c)}function HM(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return y.isValidElement(i)?d=y.cloneElement(i,Kt(Kt({},r),{},{points:t})):typeof i=="function"?d=i(Kt(Kt({},r),{},{points:t})):d=y.createElement(bM,ho({},je(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),y.createElement(Ge,{className:"recharts-radar-polygon"},d,y.createElement(DJ,{props:r,points:t}),n&&Li.renderCallByParent(r,t))}function RJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=gb(t,"recharts-radar-"),[h,m]=y.useState(!0),g=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=y.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return y.createElement(vb,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:g,onAnimationStart:x},w=>{var p=d&&d.length/n.length,v=w===1?n:n.map((b,j)=>{var N=d&&d[Math.floor(j*p)];if(N){var S=Oa(N.x,b.x),P=Oa(N.y,b.y);return Kt(Kt({},b),{},{x:S(w),y:P(w)})}var O=Oa(b.cx,b.x),D=Oa(b.cy,b.y);return Kt(Kt({},b),{},{x:O(w),y:D(w)})});return w>0&&(r.current=v),y.createElement(HM,{points:v,props:t,showLabels:!h})})}function $J(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=y.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?y.createElement(RJ,{props:e,previousPointsRef:i}):y.createElement(HM,{points:t,props:e,showLabels:!0})}var IJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ys.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class LJ extends y.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=pe("recharts-radar",r);return y.createElement(y.Fragment,null,y.createElement(Ge,{className:i},y.createElement($J,this.props)),y.createElement(dJ,{points:n,mainColor:wb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function BJ(e){var t=fr(),r=re(n=>SJ(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return y.createElement(LJ,ho({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class jb extends y.PureComponent{render(){return y.createElement(yb,{id:this.props.id,type:"radar"},t=>y.createElement(y.Fragment,null,y.createElement(FM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),y.createElement(LM,{legendPayload:EJ(this.props)}),y.createElement(pb,{fn:CJ,args:this.props}),y.createElement(BJ,ho({},this.props,{id:t}))))}}bb(jb,"displayName","Radar");bb(jb,"defaultProps",IJ);var FJ="Invariant failed";function zJ(e,t){throw new Error(FJ)}var UJ=["x","y"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HJ(e,t){if(e==null)return{};var r,n,i=qJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function GJ(e,t){var{x:r,y:n}=e,i=HJ(e,UJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ol(ol(ol(ol(ol({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function qM(e){return y.createElement($M,$y({shapeType:"rectangle",propTransformer:GJ,activeClassName:"recharts-active-bar"},e))}var YJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ie(t))return t;var s=ie(n)||et(n);return s?t(n,i):(s||zJ(),r)}},XJ={},JJ=kr({name:"errorBars",initialState:XJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),QJ=JJ.reducer,ZJ=["children"];function eQ(e,t){if(e==null)return{};var r,n,i=tQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var rQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},nQ=y.createContext(rQ);function iQ(e){var{children:t}=e,r=eQ(e,ZJ);return y.createElement(nQ.Provider,{value:r},t)}function GM(e,t){var r,n,i=re(u=>oi(u,e)),s=re(u=>ts(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function sQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=UM(),{needClipX:s,needClipY:a,needClip:l}=GM(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var aQ=["onMouseEnter","onMouseLeave","onClick"],oQ=["value","background","tooltipPosition"],lQ=["id"],cQ=["onMouseEnter","onClick","onMouseLeave"];function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){uQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uQ(e,t,r){return(t=dQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dQ(e){var t=fQ(e,"string");return typeof t=="symbol"?t:t+""}function fQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(e,t){if(e==null)return{};var r,n,i=hQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:_o(r,t),payload:e}]};function pQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:_o(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function gQ(e){var t=re(Vi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=xf(s,aQ),d=fb(a,n),f=hb(l),h=mb(c,n);if(!i||r==null)return null;var m=je(i,!1);return y.createElement(y.Fragment,null,r.map((g,x)=>{var{value:w,background:p,tooltipPosition:v}=g,b=xf(g,oQ);if(!p)return null;var j=d(g,x),N=f(g,x),S=h(g,x),P=Rt(Rt(Rt(Rt(Rt({option:i,isActive:String(x)===t},b),{},{fill:"#eee"},p),m),Po(u,g,x)),{},{onMouseEnter:j,onMouseLeave:N,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(qM,mo({key:"background-bar-".concat(x)},P))}))}function YM(e){var{data:t,props:r,showLabels:n}=e,i=Bt(r),s=xf(i,lQ),{shape:a,dataKey:l,activeBar:c}=r,u=re(Vi),d=re(XT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,g=xf(r,cQ),x=fb(f,l),w=hb(m),p=mb(h,l);return t?y.createElement(y.Fragment,null,t.map((v,b)=>{var j=c&&String(b)===u&&(d==null||l===d),N=j?c:a,S=Rt(Rt(Rt({},s),v),{},{isActive:j,option:N,index:b,dataKey:l});return y.createElement(Ge,mo({className:"recharts-bar-rectangle"},Po(g,v,b),{onMouseEnter:x(v,b),onMouseLeave:w(v,b),onClick:p(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),y.createElement(qM,S))}),n&&Li.renderCallByParent(r,t)):null}function yQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=gb(t,"recharts-bar-"),[m,g]=y.useState(!1),x=y.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),w=y.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return y.createElement(vb,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:w,key:h},p=>{var v=p===1?n:n==null?void 0:n.map((b,j)=>{var N=f&&f[j];if(N)return Rt(Rt({},b),{},{x:aa(N.x,b.x,p),y:aa(N.y,b.y,p),width:aa(N.width,b.width,p),height:aa(N.height,b.height,p)});if(i==="horizontal"){var S=aa(0,b.height,p);return Rt(Rt({},b),{},{y:b.y+b.height-S,height:S})}var P=aa(0,b.width,p);return Rt(Rt({},b),{},{width:P})});return p>0&&(r.current=v??null),v==null?null:y.createElement(Ge,null,y.createElement(YM,{props:t,data:v,showLabels:!m}))})}function vQ(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(yQ,{previousRectanglesRef:n,props:e}):y.createElement(YM,{props:e,data:t,showLabels:!0})}var XM=0,xQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$e(e,t)}};class bQ extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=pe("recharts-bar",i),f=u;return y.createElement(Ge,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(sQ,{clipPathId:f,xAxisId:s,yAxisId:a})),y.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(gQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(vQ,this.props)),this.props.children)}}var wQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ys.isSsr,legendType:"rect",minPointSize:XM,xAxisId:0,yAxisId:0};function jQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=GM(t,r),h=Jv(),m=fr(),g=Mc(e.children,Zs),x=re(v=>YQ(v,t,r,m,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var w,p=x==null?void 0:x[0];return p==null||p.height==null||p.width==null?w=0:w=h==="vertical"?p.height/2:p.width/2,y.createElement(iQ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:xQ,errorBarOffset:w},y.createElement(bQ,mo({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function NQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,g=t==="horizontal"?l:a,x=d?g.scale.domain():null,w=u9({numericAxis:g});return f.map((p,v)=>{var b,j,N,S,P,O;d?b=i9(d[v],x):(b=$e(p,r),Array.isArray(b)||(b=[w,b]));var D=YJ(n,XM)(b[1],v);if(t==="horizontal"){var T,[C,z]=[l.scale(b[0]),l.scale(b[1])];j=cN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:p,index:v}),N=(T=z??C)!==null&&T!==void 0?T:void 0,S=i.size;var $=C-z;if(P=wr($)?0:$,O={x:j,y:h.top,width:S,height:h.height},Math.abs(D)>0&&Math.abs(P)<Math.abs(D)){var _=wt(P||D)*(Math.abs(D)-Math.abs(P));N-=_,P+=_}}else{var[A,F]=[a.scale(b[0]),a.scale(b[1])];if(j=A,N=cN({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:p,index:v}),S=F-A,P=i.size,O={x:h.left,y:N,width:h.width,height:P},Math.abs(D)>0&&Math.abs(S)<Math.abs(D)){var W=wt(S||D)*(Math.abs(D)-Math.abs(S));S+=W}}if(j==null||N==null||S==null||P==null)return null;var k=Rt(Rt({},p),{},{x:j,y:N,width:S,height:P,value:d?b:b[1],payload:p,background:O,tooltipPosition:{x:j+S/2,y:N+P/2}},m&&m[v]&&m[v].props);return k}).filter(Boolean)}function em(e){var t=qr(e,wQ),r=fr();return y.createElement(yb,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(wX,{legendPayload:mQ(t)}),y.createElement(pb,{fn:pQ,args:t}),y.createElement(MX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:c9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(jQ,mo({},t,{id:n}))))}em.displayName="Bar";function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){SQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SQ(e,t,r){return(t=PQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kQ=(e,t)=>t,OQ=(e,t,r)=>r,AQ=(e,t,r,n)=>n,EQ=(e,t,r,n,i)=>i,Gc=L([Tx,EQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),CQ=L([Gc],e=>e==null?void 0:e.maxBarSize),TQ=(e,t,r,n,i,s)=>s,hP=(e,t,r)=>{var n=r??e;if(!et(n))return qt(n,t,0)},MQ=L([ve,Tx,kQ,OQ,AQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),DQ=(e,t,r,n)=>{var i=ve(e);return i==="horizontal"?Ay(e,"yAxis",r,n):Ay(e,"xAxis",t,n)},RQ=(e,t,r)=>{var n=ve(e);return n==="horizontal"?vS(e,"xAxis",t):vS(e,"yAxis",r)},$Q=(e,t,r)=>{var n={},i=e.filter(Uh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=hP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=hP(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},IQ=L([MQ,NK,RQ],$Q),LQ=(e,t,r,n,i)=>{var s,a,l=Gc(e,t,r,n,i);if(l!=null){var c=ve(e),u=JC(e),{maxBarSize:d}=l,f=et(d)?u:d,h,m;return c==="horizontal"?(h=uo(e,"xAxis",t,n),m=co(e,"xAxis",t,n)):(h=uo(e,"yAxis",r,n),m=co(e,"yAxis",r,n)),(s=(a=cc(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},JM=(e,t,r,n)=>{var i=ve(e),s,a;return i==="horizontal"?(s=uo(e,"xAxis",t,n),a=co(e,"xAxis",t,n)):(s=uo(e,"yAxis",r,n),a=co(e,"yAxis",r,n)),cc(s,a)};function BQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=qt(e,r,0,!0),l,c=[];if(Sr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((p,v)=>p+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((p,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},N=[...p,j];return m=N[N.length-1].position,N},c)}else{var g=qt(t,r,0,!0);r-2*g-(s-1)*a<=0&&(a=0);var x=(r-2*g-(s-1)*a)/s;x>1&&(x>>=0);var w=Sr(i)?Math.min(x,i):x;l=n.reduce((p,v,b)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(x+a)*b+(x-w)/2,size:w}}],c)}return l}}var FQ=(e,t,r,n,i,s,a)=>{var l=et(a)?t:a,c=BQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Iu(Iu({},u),{},{position:Iu(Iu({},u.position),{},{offset:u.position.offset-i/2})}))),c},zQ=L([IQ,JC,jK,QC,LQ,JM,CQ],FQ),UQ=(e,t,r,n)=>uo(e,"xAxis",t,n),WQ=(e,t,r,n)=>uo(e,"yAxis",r,n),VQ=(e,t,r,n)=>co(e,"xAxis",t,n),KQ=(e,t,r,n)=>co(e,"yAxis",r,n),HQ=L([zQ,Gc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),qQ=(e,t)=>{var r=Ax(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},GQ=L([DQ,Gc],qQ),YQ=L([ht,UQ,WQ,VQ,KQ,HQ,ve,jx,JM,GQ,Gc,TQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:x}=d,w;if(x!=null&&x.length>0?w=x:w=h==null?void 0:h.slice(m,g+1),w!=null)return NQ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),QM=e=>{var{chartData:t}=e,r=Ye(),n=fr();return y.useEffect(()=>n?()=>{}:(r(kS(t)),()=>{r(kS(void 0))}),[t,r,n]),null},mP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},XQ=kr({name:"brush",initialState:mP,reducers:{setBrushSettings(e,t){return t.payload==null?mP:t.payload}}}),JQ=XQ.reducer;function QQ(e,t,r){return(t=ZQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZQ(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nb{static create(t){return new Nb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}QQ(Nb,"EPS",1e-4);function tZ(e){return(e%180+180)%180}var rZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=tZ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},nZ={dots:[],areas:[],lines:[]},iZ=kr({name:"referenceElements",initialState:nZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Wn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Wn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Wn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),sZ=iZ.reducer,aZ=y.createContext(void 0),oZ=e=>{var{children:t}=e,[r]=y.useState("".concat(ac("recharts"),"-clip")),n=UM();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return y.createElement(aZ.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function Np(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function ZM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function lZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return rZ(n,r)}function cZ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function bf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function uZ(e,t){return ZM(e,t+1)}function dZ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:ZM(n,u)};var x=c,w,p=()=>(w===void 0&&(w=r(g,x)),w),v=g.coordinate,b=c===0||bf(e,v,p,d,l);b||(c=0,d=a,u+=1),b&&(d=v+e*(p()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){fZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fZ(e,t,r){return(t=hZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hZ(e){var t=mZ(e,"string");return typeof t=="symbol"?t:t+""}function mZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pZ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],g,x=()=>(g===void 0&&(g=r(m,h)),g);if(h===a-1){var w=e*(m.coordinate+e*x()/2-c);s[h]=m=Mt(Mt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=Mt(Mt({},m),{},{tickCoord:m.coordinate});var p=bf(e,m.tickCoord,x,l,c);p&&(c=m.tickCoord-e*(x()/2+i),s[h]=Mt(Mt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function gZ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Mt(Mt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=bf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Mt(Mt({},d),{},{isShow:!0}))}for(var g=s?l-1:l,x=function(v){var b=a[v],j,N=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=e*(b.coordinate-e*N()/2-c);a[v]=b=Mt(Mt({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else a[v]=b=Mt(Mt({},b),{},{tickCoord:b.coordinate});var P=bf(e,b.tickCoord,N,c,u);P&&(c=b.tickCoord+e*(N()/2+i),a[v]=Mt(Mt({},b),{},{isShow:!0}))},w=0;w<g;w++)x(w);return a}function Sb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ie(c)||Ys.isSsr){var h;return(h=uZ(i,ie(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?Rl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var N=typeof u=="function"?u(b.value,j):b.value;return g==="width"?lZ(Rl(N,{fontSize:t,letterSpacing:r}),x,f):Rl(N,{fontSize:t,letterSpacing:r})[g]},p=i.length>=2?wt(i[1].coordinate-i[0].coordinate):1,v=cZ(s,p,g);return c==="equidistantPreserveStart"?dZ(p,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=gZ(p,v,w,i,a,c==="preserveStartEnd"):m=pZ(p,v,w,i,a),m.filter(b=>b.isShow))}var yZ=["viewBox"],vZ=["viewBox"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function gP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gP(Object(r),!0).forEach(function(n){Pb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yP(e,t){if(e==null)return{};var r,n,i=xZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Pb(e,t,r){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ns extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=yP(t,yZ),s=this.props,{viewBox:a}=s,l=yP(s,vZ);return!Np(n,a)||!Np(i,l)||!Np(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,g,x,w=c?-1:1,p=t.tickSize||l,v=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*p,x=h-w*u,g=v;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*p,g=d-w*u,x=v;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*p,g=d+w*u,x=v;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*p,x=h+w*u,g=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=ut(ut(ut({},je(this.props,!1)),je(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=ut(ut({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=ut(ut({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",Ca({},c,{className:pe("recharts-cartesian-axis-line",Wi(l,"className"))}))}static renderTickItem(t,r,n){var i,s=pe(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")i=t(ut(ut({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=pe(a,t.className)),i=y.createElement(Lo,Ca({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=Sb(ut(ut({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Bt(this.props),g=je(a,!1),x=ut(ut({},m),{},{fill:"none"},je(i,!1)),w=d.map((p,v)=>{var{line:b,tick:j}=this.getTickLineCoord(p),N=ut(ut(ut(ut({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),j),{},{index:v,payload:p,visibleTicksCount:d.length,tickFormatter:l,padding:u});return y.createElement(Ge,Ca({className:"recharts-cartesian-axis-tick",key:"tick-".concat(p.value,"-").concat(p.coordinate,"-").concat(p.tickCoord)},Po(this.props,p,v)),i&&y.createElement("line",Ca({},x,b,{className:pe("recharts-cartesian-axis-tick-line",Wi(i,"className"))})),a&&ns.renderTickItem(a,N,"".concat(typeof l=="function"?l(p.value,v):p.value).concat(c||"")))});return w.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(Ge,{className:pe("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),nr.renderCallByParent(this.props))}}Pb(ns,"displayName","CartesianAxis");Pb(ns,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var jZ=["x1","y1","x2","y2","key"],NZ=["offset"],SZ=["xAxisId","yAxisId"],PZ=["xAxisId","yAxisId"];function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=OZ(e,"string");return typeof t=="symbol"?t:t+""}function OZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,i=AZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var EZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return y.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function eD(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=wf(t,jZ),u=Bt(c),d=wf(u,NZ);r=y.createElement("line",Ps({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function CZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,SZ),a=i.map((l,c)=>{var u=$t($t({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return eD(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function TZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,PZ),a=i.map((l,c)=>{var u=$t($t({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return eD(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function MZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function DZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var RZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return PE(Sb($t($t($t({},ns.defaultProps),r),{},{ticks:_E(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},$Z=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return PE(Sb($t($t($t({},ns.defaultProps),r),{},{ticks:_E(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},IZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function tm(e){var t=TE(),r=ME(),n=CE(),i=$t($t({},qr(e,IZ)),{},{x:ie(e.x)?e.x:n.left,y:ie(e.y)?e.y:n.top,width:ie(e.width)?e.width:n.width,height:ie(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,g=fr(),x=re(D=>xS(D,"xAxis",s,g)),w=re(D=>xS(D,"yAxis",a,g));if(!ie(u)||u<=0||!ie(d)||d<=0||!ie(l)||l!==+l||!ie(c)||c!==+c)return null;var p=i.verticalCoordinatesGenerator||RZ,v=i.horizontalCoordinatesGenerator||$Z,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof v=="function"){var N=h&&h.length,S=v({yAxis:w?$t($t({},w),{},{ticks:N?h:w.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Dl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof p=="function"){var P=m&&m.length,O=p({xAxis:x?$t($t({},x),{},{ticks:P?m:x.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);Dl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(j=O)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(EZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(MZ,Ps({},i,{horizontalPoints:b})),y.createElement(DZ,Ps({},i,{verticalPoints:j})),y.createElement(CZ,Ps({},i,{offset:n,horizontalPoints:b,xAxis:x,yAxis:w})),y.createElement(TZ,Ps({},i,{offset:n,verticalPoints:j,xAxis:x,yAxis:w})))}tm.displayName="CartesianGrid";function xP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xP(Object(r),!0).forEach(function(n){LZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LZ(e,t,r){return(t=BZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BZ(e){var t=FZ(e,"string");return typeof t=="symbol"?t:t+""}function FZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zZ={xAxis:{},yAxis:{},zAxis:{}},tD=kr({name:"cartesianAxis",initialState:zZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=bP(bP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:UZ,removeXAxis:WZ,addYAxis:VZ,removeYAxis:KZ,addZAxis:pre,removeZAxis:gre,updateYAxisWidth:HZ}=tD.actions,qZ=tD.reducer,GZ=["children"],YZ=["dangerouslySetInnerHTML","ticks"];function rD(e,t,r){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XZ(e){var t=JZ(e,"string");return typeof t=="symbol"?t:t+""}function JZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function nD(e,t){if(e==null)return{};var r,n,i=QZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ZZ(e){var t=Ye(),r=y.useMemo(()=>{var s=nD(e,GZ);return s},[e]),n=re(s=>oi(s,r.id)),i=r===n;return y.useEffect(()=>(t(UZ(r)),()=>{t(WZ(r))}),[r,t]),i?e.children:null}var eee=e=>{var{xAxisId:t,className:r}=e,n=re(EE),i=fr(),s="xAxis",a=re(f=>Ro(f,s,t,i)),l=re(f=>ET(f,s,t,i)),c=re(f=>_T(f,t)),u=re(f=>pH(f,t));if(c==null||u==null)return null;var d=nD(e,YZ);return y.createElement(ns,Iy({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:pe("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},tee=e=>{var t,r,n,i,s;return y.createElement(ZZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},y.createElement(eee,e))};class Yc extends y.Component{render(){return y.createElement(tee,this.props)}}rD(Yc,"displayName","XAxis");rD(Yc,"defaultProps",{allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,height:hr.height,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,xAxisId:0});var ree=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},nee=["dangerouslySetInnerHTML","ticks"];function iD(e,t,r){return(t=iee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function aee(e,t){if(e==null)return{};var r,n,i=oee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lee(e){var t=Ye();return y.useEffect(()=>(t(VZ(e)),()=>{t(KZ(e))}),[e,t]),null}var cee=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=y.useRef(null),l=y.useRef(null),c=re(EE),u=fr(),d=Ye(),f="yAxis",h=re(p=>Ro(p,f,r,u)),m=re(p=>kT(p,r)),g=re(p=>gH(p,r)),x=re(p=>ET(p,f,r,u));if(y.useLayoutEffect(()=>{var p;if(!(i!=="auto"||!m||nb(s)||y.isValidElement(s))){var v=a.current,b=v==null||(p=v.tickRefs)===null||p===void 0?void 0:p.current,{tickSize:j,tickMargin:N}=v.props,S=ree({ticks:b,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:N});Math.round(m.width)!==Math.round(S)&&d(HZ({id:r,width:S}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||g==null)return null;var w=aee(e,nee);return y.createElement(ns,Ly({},w,{ref:a,labelRef:l,scale:h,x:g.x,y:g.y,width:m.width,height:m.height,className:pe("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},uee=e=>{var t,r,n,i,s;return y.createElement(y.Fragment,null,y.createElement(lee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),y.createElement(cee,e))},dee={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,width:mr.width,yAxisId:0};class Xc extends y.Component{render(){return y.createElement(uee,this.props)}}iD(Xc,"displayName","YAxis");iD(Xc,"defaultProps",dee);var fee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=y;function hee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mee=typeof Object.is=="function"?Object.is:hee,pee=Jc.useSyncExternalStore,gee=Jc.useRef,yee=Jc.useEffect,vee=Jc.useMemo,xee=Jc.useDebugValue;fee.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=gee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=vee(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,mee(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=pee(e,s[0],s[1]);return yee(function(){a.hasValue=!0,a.value=l},[l]),xee(l),l};function bee(e){e()}function wee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){bee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var wP={notify(){},get:()=>[]};function jee(e,t){let r,n=wP,i=0,s=!1;function a(x){d();const w=n.subscribe(x);let p=!1;return()=>{p||(p=!0,w(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=wee())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=wP)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var Nee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",See=Nee(),Pee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_ee=Pee(),kee=()=>See||_ee?y.useLayoutEffect:y.useEffect,Oee=kee(),Sp=Symbol.for("react-redux-context"),Pp=typeof globalThis<"u"?globalThis:{};function Aee(){if(!y.createContext)return{};const e=Pp[Sp]??(Pp[Sp]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Eee=Aee();function Cee(e){const{children:t,context:r,serverState:n,store:i}=e,s=y.useMemo(()=>{const c=jee(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=y.useMemo(()=>i.getState(),[i]);Oee(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||Eee;return y.createElement(l.Provider,{value:s},t)}var Tee=Cee,Mee=(e,t)=>t,_b=L([Mee,ve,Co,pt,HT,li,xq,ht],Sq),kb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},sD=Wr("mouseClick"),aD=Rc();aD.startListening({actionCreator:sD,effect:(e,t)=>{var r=e.payload,n=_b(t.getState(),kb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(kH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var By=Wr("mouseMove"),oD=Rc();oD.startListening({actionCreator:By,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=qx(n,n.tooltip.settings.shared),s=_b(n,kb(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(BT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(LT()))}});function Dee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var jP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},lD=kr({name:"rootProps",initialState:jP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:jP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Ree=lD.reducer,{updateOptions:$ee}=lD.actions,cD=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Iee}=cD.actions,Lee=cD.reducer,uD=Wr("keyDown"),dD=Wr("focus"),Ob=Rc();Ob.startListening({actionCreator:uD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Gx(i,Io(r))),l=li(r);if(s==="Enter"){var c=mf(r,"axis","hover",String(i.index));t.dispatch(Cy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=vH(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=mf(r,"axis","hover",String(h));t.dispatch(Cy({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Ob.startListening({actionCreator:dD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=mf(r,"axis","hover",String(s));t.dispatch(Cy({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Tr=Wr("externalEvent"),fD=Rc();fD.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:cq(r),activeDataKey:XT(r),activeIndex:Vi(r),activeLabel:YT(r),activeTooltipIndex:Vi(r),isTooltipActive:uq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Bee=L([$o],e=>e.tooltipItemPayloads),Fee=L([Bee,Hc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),hD=Wr("touchMove"),mD=Rc();mD.startListening({actionCreator:hD,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=qx(n,n.tooltip.settings.shared);if(i==="axis"){var s=_b(n,kb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(BT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(OE),d=(a=c.getAttribute(AE))!==null&&a!==void 0?a:void 0,f=Fee(t.getState(),u,d);t.dispatch(IT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var zee=ZA({brush:JQ,cartesianAxis:qZ,chartData:Bq,errorBars:QJ,graphicalItems:TX,layout:UU,legend:_9,options:Dq,polarAxis:OY,polarOptions:Lee,referenceElements:sZ,rootProps:Ree,tooltip:OH}),Uee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return hU({reducer:zee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([aD.middleware,oD.middleware,Ob.middleware,fD.middleware,mD.middleware]),devTools:{serialize:{replacer:Dee},name:"recharts-".concat(r)}})};function pD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=fr(),s=y.useRef(null);if(i)return r;s.current==null&&(s.current=Uee(t,n));var a=Fv;return y.createElement(Tee,{context:a,store:s.current},r)}function gD(e){var{layout:t,width:r,height:n,margin:i}=e,s=Ye(),a=fr();return y.useEffect(()=>{a||(s(BU(t)),s(FU({width:r,height:n})),s(LU(i)))},[s,a,t,r,n,i]),null}function yD(e){var t=Ye();return y.useEffect(()=>{t($ee(e))},[t,e]),null}var Wee=["children"];function Vee(e,t){if(e==null)return{};var r,n,i=Kee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}var Hee={width:"100%",height:"100%"},qee=y.forwardRef((e,t)=>{var r=TE(),n=ME(),i=IE();if(!io(r)||!io(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,y.createElement(lA,jf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Hee,ref:t}),s)}),Gee=e=>{var{children:t}=e,r=re(Ch);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return y.createElement(lA,{width:n,height:i,x:a,y:s},t)},NP=y.forwardRef((e,t)=>{var{children:r}=e,n=Vee(e,Wee),i=fr();return i?y.createElement(Gee,null,r):y.createElement(qee,jf({ref:t},n),r)});function Yee(){var e=Ye(),[t,r]=y.useState(null),n=re(y9);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Sr(s)&&s!==n&&e(zU(s))}},[t,e,n]),r}function SP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SP(Object(r),!0).forEach(function(n){Jee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jee(e,t,r){return(t=Qee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qee(e){var t=Zee(e,"string");return typeof t=="symbol"?t:t+""}function Zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ete=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:w,width:p}=e,v=Ye(),[b,j]=y.useState(null),[N,S]=y.useState(null);Uq();var P=Yee(),O=y.useCallback(J=>{P(J),typeof t=="function"&&t(J),j(J),S(J)},[P,t,j,S]),D=y.useCallback(J=>{v(sD(J)),v(Tr({handler:s,reactEvent:J}))},[v,s]),T=y.useCallback(J=>{v(By(J)),v(Tr({handler:u,reactEvent:J}))},[v,u]),C=y.useCallback(J=>{v(LT()),v(Tr({handler:d,reactEvent:J}))},[v,d]),z=y.useCallback(J=>{v(By(J)),v(Tr({handler:f,reactEvent:J}))},[v,f]),$=y.useCallback(()=>{v(dD())},[v]),_=y.useCallback(J=>{v(uD(J.key))},[v]),A=y.useCallback(J=>{v(Tr({handler:a,reactEvent:J}))},[v,a]),F=y.useCallback(J=>{v(Tr({handler:l,reactEvent:J}))},[v,l]),W=y.useCallback(J=>{v(Tr({handler:c,reactEvent:J}))},[v,c]),k=y.useCallback(J=>{v(Tr({handler:h,reactEvent:J}))},[v,h]),E=y.useCallback(J=>{v(Tr({handler:x,reactEvent:J}))},[v,x]),K=y.useCallback(J=>{v(hD(J)),v(Tr({handler:g,reactEvent:J}))},[v,g]),Y=y.useCallback(J=>{v(Tr({handler:m,reactEvent:J}))},[v,m]);return y.createElement(rM.Provider,{value:b},y.createElement(yz.Provider,{value:N},y.createElement("div",{className:pe("recharts-wrapper",n),style:Xee({position:"relative",cursor:"default",width:p,height:i},w),onClick:D,onContextMenu:A,onDoubleClick:F,onFocus:$,onKeyDown:_,onMouseDown:W,onMouseEnter:T,onMouseLeave:C,onMouseMove:z,onMouseUp:k,onTouchEnd:Y,onTouchMove:K,onTouchStart:E,ref:O},r)))}),tte=["children","className","width","height","style","compact","title","desc"];function rte(e,t){if(e==null)return{};var r,n,i=nte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vD=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=rte(e,tte),f=Bt(d);return l?y.createElement(NP,{otherAttributes:f,title:c,desc:u},r):y.createElement(ete,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(NP,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(oZ,null,r)))}),ite=["width","height"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function ste(e,t){if(e==null)return{};var r,n,i=ate(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ate(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ote={top:5,right:5,bottom:5,left:5},lte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ote,reverseStackOrder:!1,syncMethod:"index"},cte=y.forwardRef(function(t,r){var n,i=qr(t.categoricalChartProps,lte),{width:s,height:a}=i,l=ste(i,ite);if(!io(s)||!io(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(pD,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(QM,{chartData:h.data}),y.createElement(gD,{width:s,height:a,layout:i.layout,margin:i.margin}),y.createElement(yD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(vD,Fy({},l,{width:s,height:a,ref:r})))}),ute=["axis","item"],Ab=y.forwardRef((e,t)=>y.createElement(cte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ute,tooltipPayloadSearcher:rb,categoricalChartProps:e,ref:t}));function dte(e){var t=Ye();return y.useEffect(()=>{t(Iee(e))},[t,e]),null}var fte=["width","height","layout"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function hte(e,t){if(e==null)return{};var r,n,i=mte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pte={top:5,right:5,bottom:5,left:5},gte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pte,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},xD=y.forwardRef(function(t,r){var n,i=qr(t.categoricalChartProps,gte),{width:s,height:a,layout:l}=i,c=hte(i,fte);if(!io(s)||!io(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return y.createElement(pD,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},y.createElement(QM,{chartData:i.data}),y.createElement(gD,{width:s,height:a,layout:l,margin:i.margin}),y.createElement(yD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(dte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(vD,zy({width:s,height:a},c,{ref:r})))}),yte=["item"],vte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Eb=y.forwardRef((e,t)=>{var r=qr(e,vte);return y.createElement(xD,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:yte,tooltipPayloadSearcher:rb,categoricalChartProps:r,ref:t})}),xte=["axis"],bte={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},wte=y.forwardRef((e,t)=>{var r=qr(e,bte);return y.createElement(xD,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:xte,tooltipPayloadSearcher:rb,categoricalChartProps:r,ref:t})});const PP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},jte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Nte(){const{user:e}=dr(),[t,r]=y.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[n,i]=y.useState([]),[s,a]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0);y.useEffect(()=>{m(),e&&!e.id.startsWith("guest-")&&g()},[e]);const m=async()=>{var x;try{const{data:w,error:p}=await Z.from("match_results").select("*");if(p)throw p;const v=w||[];if(v.length===0){h(!1);return}const b={},j={},N={};let S=0;v.forEach(C=>{var A;if(!C.winner_name||!C.player1_name||!C.player2_name)return;const z=((A=C.outcome)==null?void 0:A.split(" (")[0])||"Unknown",$=C.points_awarded||PP[z]||0;S+=$,N[z]=(N[z]||0)+1,[C.player1_name,C.player2_name].forEach(F=>{b[F]||(b[F]={wins:0,matches:0,points:0}),b[F].matches++,C.winner_name===F&&(b[F].wins++,b[F].points+=$)});const _=(F,W,k,E)=>{const K=`${W}_${F}`;j[K]||(j[K]={combo:W,player:F,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown"});const Y=j[K];Y.totalMatches++,E?(Y.wins++,Y.totalPoints+=$):Y.losses++};_(C.player1_name,C.player1_beyblade,C.player1_blade_line||"Unknown",C.winner_name===C.player1_name),_(C.player2_name,C.player2_beyblade,C.player2_blade_line||"Unknown",C.winner_name===C.player2_name)}),Object.values(j).forEach(C=>{C.winRate=C.totalMatches>0?C.wins/C.totalMatches*100:0,C.weightedWinRate=C.totalMatches>0?C.wins/C.totalMatches*(C.totalMatches/(C.totalMatches+10)):0,C.avgPointsPerMatch=C.totalMatches>0?C.totalPoints/C.totalMatches:0,C.comboScore=C.weightedWinRate*(C.avgPointsPerMatch/3)*100});const P=Object.entries(b).filter(([C,z])=>z.matches>=5).sort((C,z)=>{const $=C[1].wins/C[1].matches;return z[1].wins/z[1].matches-$})[0],O=((x=Object.entries(N).sort((C,z)=>z[1]-C[1])[0])==null?void 0:x[0])||"Unknown",{count:D}=await Z.from("tournaments").select("*",{count:"exact",head:!0});r({totalMatches:v.length,totalPlayers:Object.keys(b).length,totalTournaments:D||0,avgPointsPerMatch:v.length>0?S/v.length:0,mostCommonFinish:O,topPlayer:(P==null?void 0:P[0])||"N/A",topPlayerWinRate:P?P[1].wins/P[1].matches*100:0}),i(Object.values(j).sort((C,z)=>z.comboScore-C.comboScore));const T=Object.entries(N).map(([C,z])=>({name:C,value:z,color:jte[C]||"#6B7280"}));d(T)}catch(w){console.error("Error fetching global data:",w)}finally{h(!1)}},g=async()=>{var x;if(!(!e||e.id.startsWith("guest-")))try{const{data:w,error:p}=await Z.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(p)throw p;const v=w||[];if(v.length===0){a(null);return}let b=0,j=0;const N={},S={},P={},O=new Set;v.forEach(_=>{var Y;if(!_.winner_name)return;const A=_.player1_name===e.username,F=_.winner_name===e.username,W=A?_.player1_beyblade:_.player2_beyblade,k=A?_.player2_name:_.player1_name,E=((Y=_.outcome)==null?void 0:Y.split(" (")[0])||"Unknown",K=_.points_awarded||PP[E]||0;O.add(_.tournament_id),F&&(b++,j+=K,S[E]=(S[E]||0)+1),N[W]||(N[W]={wins:0,matches:0,points:0}),N[W].matches++,F&&(N[W].wins++,N[W].points+=K),P[k]||(P[k]={opponent:k,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),P[k].totalMatches++,F?(P[k].wins++,P[k].pointsFor+=K):(P[k].losses++,P[k].pointsAgainst+=K)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0});const D=Object.entries(N).map(([_,A])=>{const F=A.matches>0?A.wins/A.matches:0,W=A.matches>0?F*(A.matches/(A.matches+10)):0,k=A.matches>0?A.points/A.matches:0,E=W*(k/3)*100;return{combo:_,comboScore:E}}).sort((_,A)=>A.comboScore-_.comboScore)[0],T=((x=Object.entries(S).sort((_,A)=>A[1]-_[1])[0])==null?void 0:x[0])||"N/A",C=v.length,z=C>0?b/C*100:0,$=C>0?b/C*(C/(C+10)):0;a({totalMatches:C,wins:b,losses:C-b,winRate:z,weightedWinRate:$*100,totalPoints:j,avgPointsPerMatch:C>0?j/C:0,mvpCombo:(D==null?void 0:D.combo)||"N/A",mvpComboScore:(D==null?void 0:D.comboScore)||0,favoriteFinish:T,tournamentsPlayed:O.size}),c(Object.values(P).sort((_,A)=>A.winRate-_.winRate))}catch(w){console.error("Error fetching personal data:",w)}};return f?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(_c,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(Nt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(lt,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Gf,{size:24,className:"text-orange-600"})})]})})]}),s&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Nt,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",s.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:s.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",s.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Eb,{children:[o.jsx(Zh,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percent:w})=>`${x} ${(w*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((x,w)=>o.jsx(Zs,{fill:x.color},`cell-${w}`))}),o.jsx(Vs,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ab,{data:n.slice(0,8).map(x=>({name:x.combo,score:x.comboScore,winRate:x.winRate,matches:x.totalMatches})),margin:{bottom:80},children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Yc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Xc,{}),o.jsx(Vs,{formatter:(x,w)=>[typeof x=="number"?x.toFixed(2):x,w==="score"?"Combo Score":w==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(em,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"}),o.jsx("button",{onClick:()=>{n.map(x=>({rank:n.indexOf(x)+1,combo:x.combo,player:x.player,bladeLine:x.bladeLine,totalMatches:x.totalMatches,winRate:x.winRate,weightedWinRate:x.weightedWinRate*100,comboScore:x.comboScore})),alert("Show All functionality for global combos coming soon!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:o.jsx("span",{children:"Show All"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,20).map((x,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",w+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.bladeLine==="Basic"?"bg-blue-100 text-blue-800":x.bladeLine==="Unique"?"bg-purple-100 text-purple-800":x.bladeLine==="Custom"?"bg-orange-100 text-orange-800":x.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${x.winRate>=60?"text-green-600":x.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[x.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(x.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:x.comboScore.toFixed(1)})]},w))})]})})]}),s&&l.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((x,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:x.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:x.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${x.winRate>=60?"text-green-600":x.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[x.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.pointsAgainst})]},w))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Player"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.topPlayer}),o.jsxs("p",{className:"text-gray-600",children:["Win Rate: ",t.topPlayerWinRate.toFixed(1),"%"]})]})]})]})}const Ste={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Pte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function _te(){const{user:e}=dr(),[t,r]=y.useState([]),[n,i]=y.useState([]),[s,a]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[m,g]=y.useState("");y.useEffect(()=>{e&&!e.id.startsWith("guest-")?x():h(!1)},[e]);const x=async()=>{if(!e||e.id.startsWith("guest-")){h(!1);return}try{const{data:p,error:v}=await Z.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(v)throw v;const b=p||[];if(b.length===0){h(!1);return}const j=[...new Set(b.map(_=>_.tournament_id))],{data:N}=await Z.from("tournaments").select("id, name, tournament_date").in("id",j),S=(N||[]).reduce((_,A)=>(_[A.id]={name:A.name,date:A.tournament_date},_),{}),P={},O={},D={},T={},C={};b.forEach(_=>{var Q,I,V;if(!_.winner_name)return;const A=_.player1_name===e.username,F=_.winner_name===e.username,W=A?_.player1_beyblade:_.player2_beyblade,k=A?_.player1_blade_line:_.player2_blade_line,E=((Q=_.outcome)==null?void 0:Q.split(" (")[0])||"Unknown",K=_.points_awarded||Ste[E]||0;F&&(T[E]=(T[E]||0)+1,C[E]=(C[E]||0)+K),P[W]||(P[W]={combo:W,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown",finishDistribution:{},pointsPerFinish:{}});const Y=P[W];Y.totalMatches++,F?(Y.wins++,Y.totalPoints+=K,Y.finishDistribution[E]=(Y.finishDistribution[E]||0)+1,Y.pointsPerFinish[E]=(Y.pointsPerFinish[E]||0)+K):Y.losses++;const J=k||"Unknown";O[J]||(O[J]={bladeLine:J,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const xe=O[J];xe.matches++,F&&(xe.wins++,xe.avgPoints=(xe.avgPoints*(xe.wins-1)+K)/xe.wins);const U=_.tournament_id;D[U]||(D[U]={tournamentName:((I=S[U])==null?void 0:I.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((V=S[U])==null?void 0:V.date)||""});const B=D[U];B.matches++,F&&(B.wins++,B.points+=K)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0,_.weightedWinRate=_.totalMatches>0?_.wins/_.totalMatches*(_.totalMatches/(_.totalMatches+10)):0,_.avgPointsPerMatch=_.totalMatches>0?_.totalPoints/_.totalMatches:0,_.comboScore=_.weightedWinRate*(_.avgPointsPerMatch/3)*100}),Object.values(O).forEach(_=>{_.winRate=_.matches>0?_.wins/_.matches*100:0,_.riskReward=Math.random()*100}),Object.values(D).forEach(_=>{_.winRate=_.matches>0?_.wins/_.matches*100:0,_.avgPointsPerMatch=_.matches>0?_.points/_.matches:0}),r(Object.values(P).sort((_,A)=>A.comboScore-_.comboScore)),i(Object.values(O)),a(Object.values(D).sort((_,A)=>new Date(A.date).getTime()-new Date(_.date).getTime()));const z=Object.entries(T).map(([_,A])=>({name:_,value:A,color:Pte[_]||"#6B7280"}));c(z);const $=Object.entries(C).map(([_,A])=>({finish:_,points:A,avgPoints:T[_]>0?A/T[_]:0}));d($)}catch(p){console.error("Error fetching personal stats:",p)}finally{h(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Td,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(f)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your personal stats..."})]});if(t.length===0)return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lt,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]});const w=m?t.find(p=>p.combo===m):null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((p,v)=>p+v.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(_c,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[t.length>0?(t.reduce((p,v)=>p+v.wins,0)/t.reduce((p,v)=>p+v.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(lt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((p,v)=>p+v.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(kc,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Td,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Eb,{children:[o.jsx(Zh,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:v})=>`${p} ${(v*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((p,v)=>o.jsx(Zs,{fill:p.color},`cell-${v}`))}),o.jsx(Vs,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ab,{data:u,children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Yc,{dataKey:"finish"}),o.jsx(Xc,{}),o.jsx(Vs,{}),o.jsx(em,{dataKey:"points",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:m,onChange:p=>g(p.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),t.map(p=>o.jsxs("option",{value:p.combo,children:[p.combo," (",p.totalMatches," matches)"]},p.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((p,v)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${m===p.combo?"bg-blue-50":""}`,onClick:()=>g(p.combo===m?"":p.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.bladeLine==="Basic"?"bg-blue-100 text-blue-800":p.bladeLine==="Unique"?"bg-purple-100 text-purple-800":p.bladeLine==="Custom"?"bg-orange-100 text-orange-800":p.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${p.winRate>=60?"text-green-600":p.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[p.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(p.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:p.comboScore.toFixed(1)})]},v))})]})}),w&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",w.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.finishDistribution).map(([p,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:p}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:v}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",w.totalMatches>0?(v/w.wins*100).toFixed(0):0,"%)"]})]})]},p))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.pointsPerFinish).map(([p,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:p}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[v," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",w.finishDistribution[p]>0?(v/w.finishDistribution[p]).toFixed(1):"0.0",")"]})]})]},p))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Performance by Blade Line"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk/Reward"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((p,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.bladeLine==="Basic"?"bg-blue-100 text-blue-800":p.bladeLine==="Unique"?"bg-purple-100 text-purple-800":p.bladeLine==="Custom"?"bg-orange-100 text-orange-800":p.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${p.winRate>=60?"text-green-600":p.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[p.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.riskReward.toFixed(1)})]},v))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((p,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.date?new Date(p.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:p.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${p.winRate>=60?"text-green-600":p.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[p.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:p.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.avgPointsPerMatch.toFixed(2)})]},v))})]})})]}),t.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:t[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:t[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:t[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:t[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function kte(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return(s-a)/i}function Ote(e,t,r){let n=e;const i=bD(n,r.bits);if(!i)return null;n=n.slice(0,n.length-i.bitName.length).trim();const s=wD(n,r.ratchets);if(!s)return null;n=n.slice(0,n.length-s.ratchetName.length).trim();const a=jD(n,r.blades.filter(c=>c.Line===t));return a?{isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function Ate(e,t){let r=e;const n=Ete(e,t.lockchips);if(!n)return null;r=e.slice(n.lockchipName.length);const i=bD(r,t.bits);if(!i)return null;r=r.slice(0,r.length-i.bitName.length).trim();const s=wD(r,t.ratchets);if(!s)return null;r=r.slice(0,r.length-s.ratchetName.length).trim();const a=Cte(r,t.assistBlades);if(!a)return null;r=r.slice(0,r.length-a.assistBladeName.length).trim();const l=jD(r,t.blades.filter(u=>u.Line==="Custom"));return l?{isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function bD(e,t){const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return{bit:n,bitName:n.Shortcut||i}}return null}function wD(e,t){const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return{ratchet:n,ratchetName:i}}return null}function jD(e,t){for(const r of t){const n=r.Blades;if(n&&e===n)return{blade:r,bladeName:n}}return null}function Ete(e,t){const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return{lockchip:n,lockchipName:i}}return null}function Cte(e,t){const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return{assistBlade:n,assistBladeName:i}}return null}function _P(e,t,r){if(!e||!e.trim())return{isCustom:!1};const n=["Basic","Unique","X-Over","Custom"];for(const i of n)if(i==="Custom"){const s=Ate(e,r);if(s)return s}else{const s=Ote(e,i,r);if(s)return s}return{isCustom:!1}}const Tte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Mte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Dte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Rte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function $te({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=y.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(""),[g,x]=y.useState(""),[w,p]=y.useState([]),[v,b]=y.useState({key:"comboScore",direction:"desc"}),[j,N]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[S,P]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&O()},[e]),y.useEffect(()=>{e&&r.blades.length>0&&D()},[e,r]);const O=async()=>{try{const[k,E,K,Y,J]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:E.data||[],bits:K.data||[],lockchips:Y.data||[],assistBlades:J.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},D=async()=>{try{const{data:k,error:E}=await Z.from("match_results").select("*").eq("tournament_id",e);if(E)throw E;if(!k||k.length===0){f(!1);return}const K=[],Y={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},J={};k.forEach(U=>{var R;if(!U.winner_name||!U.player1_name||!U.player2_name)return;const B=_P(U.player1_beyblade,U.player1_blade_line,r),Q=_P(U.player2_beyblade,U.player2_blade_line,r),I=((R=U.outcome)==null?void 0:R.split(" (")[0])||"Unknown",V=U.points_awarded||Tte[I]||0,M={player:U.player1_name,opponent:U.player2_name,beyblade:U.player1_beyblade,opponentBeyblade:U.player2_beyblade,isWin:U.winner_name===U.player1_name,outcome:I,parsedParts:B,bladeLine:U.player1_blade_line||"Unknown"},X={player:U.player2_name,opponent:U.player1_name,beyblade:U.player2_beyblade,opponentBeyblade:U.player1_beyblade,isWin:U.winner_name===U.player2_name,outcome:I,parsedParts:Q,bladeLine:U.player2_blade_line||"Unknown"};K.push(M,X),[M,X].forEach(q=>{const ee=`${q.beyblade}_${q.player}`;J[ee]||(J[ee]={combo:q.beyblade,player:q.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:q.bladeLine,allMatches:[]});const ne=J[ee];ne.totalMatches++,ne.finishDistribution[I]=(ne.finishDistribution[I]||0)+1,ne.allMatches.push(U),q.isWin?(ne.wins++,ne.totalPoints+=V):ne.losses++});const oe=(q,ee)=>{Object.entries(q).forEach(([ne,ce])=>{if(ne==="isCustom"||!ce)return;Y[ne][ce]||(Y[ne][ce]={name:ce,usage:0,wins:0,losses:0,winRate:0,wilson:0});const me=Y[ne][ce];me.usage++,ee?me.wins++:me.losses++})};oe(B,M.isWin),oe(Q,X.isWin)}),Object.keys(Y).forEach(U=>{Object.values(Y[U]).forEach(B=>{const Q=B.wins+B.losses;B.winRate=Q>0?B.wins/Q*100:0,B.wilson=kte(B.wins,Q)})});const xe=Object.values(J).map(U=>(U.winRate=U.totalMatches>0?U.wins/U.totalMatches*100:0,U.weightedWinRate=U.totalMatches>0?U.wins/U.totalMatches*(U.totalMatches/(U.totalMatches+10)):0,U.avgPointsPerMatch=U.totalMatches>0?U.totalPoints/U.totalMatches:0,U.comboScore=U.weightedWinRate*(U.avgPointsPerMatch/3)*100,U));s(Y),l(xe),u(K),h&&g&&T()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},T=()=>{if(!h||!g)return;const k=a.filter(E=>c.filter(Y=>Y.beyblade===E.combo&&Y.player===E.player).some(Y=>Y.parsedParts[h]===g));p(k.sort((E,K)=>K.comboScore-E.comboScore))};ki.useEffect(()=>{h&&g&&a.length>0?T():p([])},[h,g,a]);const C=k=>{let E="asc";v.key===k&&v.direction==="asc"&&(E="desc"),b({key:k,direction:E})},z=()=>{N({isOpen:!0,title:"All Combo Performance Rankings",data:_,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),N(E=>({...E,isOpen:!1}))}})},$=k=>{const E=Object.values(i[k]||{}).filter(K=>K.usage>0).sort((K,Y)=>Y.wilson-K.wilson).map(K=>({...K,allMatches:c.filter(Y=>Y.parsedParts[k]===K.name)}));N({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:E,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:K=>{P({isOpen:!0,title:`All Matches using ${K.name}`,matches:K.allMatches||[]}),N(Y=>({...Y,isOpen:!1}))}})},_=[...a].sort((k,E)=>{const K=k[v.key],Y=E[v.key];if(typeof K=="number"&&typeof Y=="number")return v.direction==="asc"?K-Y:Y-K;const J=String(K),xe=String(Y);return v.direction==="asc"?J.localeCompare(xe):xe.localeCompare(J)}),A=({children:k,sortKey:E})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C(E),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),v.key===E&&(v.direction==="asc"?o.jsx(OL,{size:12}):o.jsx(_L,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx($i,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const F=_.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),W=Object.entries(c.reduce((k,E)=>(E.isWin&&(k[E.outcome]=(k[E.outcome]||0)+1),k),{})).map(([k,E])=>({name:k,value:E,color:Mte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(_c,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ab,{data:F,margin:{bottom:60},children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Yc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Xc,{}),o.jsx(Vs,{formatter:(k,E)=>[typeof k=="number"?k.toFixed(2):k,E==="score"?"Combo Score":E==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(em,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Eb,{children:[o.jsx(Zh,{data:W,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:E})=>`${k} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:W.map((k,E)=>o.jsx(Zs,{fill:k.color},`cell-${E}`))}),o.jsx(Vs,{})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(bo,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),x("")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:g,onChange:k=>x(k.target.value),disabled:!h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,E)=>E.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&g&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",g," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,E)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},E))})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(wn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(A,{sortKey:"combo",children:"Combo"}),o.jsx(A,{sortKey:"player",children:"Player"}),o.jsx(A,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(A,{sortKey:"totalMatches",children:"Matches"}),o.jsx(A,{sortKey:"winRate",children:"Win Rate"}),o.jsx(A,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(A,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(A,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.slice(0,20).map((k,E)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},E))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>$(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(wn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx($i,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(E=>E.usage>0).sort((E,K)=>K.wilson-E.wilson).slice(0,8).map((E,K)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${E.winRate>=60?"text-green-600":E.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[E.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.wilson.toFixed(3)})]},K))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>$(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(wn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx($i,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(E=>E.usage>0).sort((E,K)=>K.wilson-E.wilson).slice(0,8).map((E,K)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${E.winRate>=60?"text-green-600":E.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[E.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.wilson.toFixed(3)})]},K))})]})})]},k))})]}),o.jsx(Dte,{isOpen:j.isOpen,onClose:()=>N(k=>({...k,isOpen:!1})),title:j.title,data:j.data,columns:j.columns,onRowClick:j.onRowClick}),o.jsx(Rte,{isOpen:S.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:S.title,matches:S.matches})]})}const kP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Lu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function Ite({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Lte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Bte({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({}),[i,s]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[h,m]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&x()},[e]);const g=(j,N)=>N===0?0:j/N*(N/(N+10)),x=async()=>{try{const{data:j,error:N}=await Z.from("match_results").select("*").eq("tournament_id",e);if(N)throw N;const S=j||[];if(S.length===0){u(!1);return}const P={},O={};S.forEach(T=>{var E;if(!T.winner_name||!T.player1_name||!T.player2_name)return;const C=((E=T.outcome)==null?void 0:E.split(" (")[0])||"Unknown",z=T.points_awarded||kP[C]||0,$=T.phase_number||1;[T.player1_name,T.player2_name].forEach(K=>{P[K]||(P[K]={name:K,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),P[T.player1_name].allMatches.push(T),P[T.player2_name].allMatches.push(T);const _=P[T.winner_name],A=P[T.winner_name===T.player1_name?T.player2_name:T.player1_name],F=T.winner_name===T.player1_name?T.player1_beyblade:T.player2_beyblade,W=T.winner_name===T.player1_name?T.player2_beyblade:T.player1_beyblade;_.matches++,_.wins++,_.totalPoints+=z,_.finishDistribution[C]=(_.finishDistribution[C]||0)+1,_.winsByFinish[F]||(_.winsByFinish[F]={}),_.winsByFinish[F][C]=(_.winsByFinish[F][C]||0)+1,_.pointsGainedByBey[F]=(_.pointsGainedByBey[F]||0)+z,_.phasePerformance[$]||(_.phasePerformance[$]={wins:0,matches:0,points:0}),_.phasePerformance[$].wins++,_.phasePerformance[$].matches++,_.phasePerformance[$].points+=z,A.matches++,A.losses++,A.finishDistribution[C]=(A.finishDistribution[C]||0)+1,A.lossesByFinish[W]||(A.lossesByFinish[W]={}),A.lossesByFinish[W][C]=(A.lossesByFinish[W][C]||0)+1,A.pointsGivenByBey[W]=(A.pointsGivenByBey[W]||0)+z,A.phasePerformance[$]||(A.phasePerformance[$]={wins:0,matches:0,points:0}),A.phasePerformance[$].matches++;const k=[T.player1_name,T.player2_name].sort().join("_vs_");O[k]||(O[k]={player1:T.player1_name,player2:T.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),O[k].totalMatches++,T.winner_name===T.player1_name?O[k].p1Wins++:O[k].p2Wins++}),Object.values(P).forEach(T=>{T.winRate=T.matches>0?T.wins/T.matches*100:0,T.weightedWinRate=g(T.wins,T.matches),T.avgPointsPerMatch=T.matches>0?T.totalPoints/T.matches:0;const C=Object.entries(T.finishDistribution);T.mostCommonWinFinish=C.length>0?C.reduce((z,$)=>z[1]>$[1]?z:$)[0]:"N/A",T.mostCommonLoseFinish=T.mostCommonWinFinish}),Object.values(O).forEach(T=>{T.p1WinRate=T.totalMatches>0?T.p1Wins/T.totalMatches*100:0}),n(P),l(Object.values(O).filter(T=>T.totalMatches>0));const D=Object.keys(P);D.length>0&&!i&&s(D[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=()=>{const j=Object.values(r).map(N=>({name:N.name,matches:N.matches,winRate:N.winRate,weightedWinRate:N.weightedWinRate*100,totalPoints:N.totalPoints,avgPointsPerMatch:N.avgPointsPerMatch,mostCommonWinFinish:N.mostCommonWinFinish}));f({isOpen:!0,title:"All Tournament Players",data:j,columns:[{key:"name",label:"Player"},{key:"matches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"totalPoints",label:"Total Points"},{key:"avgPointsPerMatch",label:"Avg Points/Match"},{key:"mostCommonWinFinish",label:"Most Common Win"}],onRowClick:N=>{var P;const S=((P=r[N.name])==null?void 0:P.allMatches)||[];m({isOpen:!0,title:`All Matches for ${N.name}`,matches:S}),f(O=>({...O,isOpen:!1}))}})},p=()=>{f({isOpen:!0,title:"All Head-to-Head Matchups",data:a,columns:[{key:"player1",label:"Player 1"},{key:"player2",label:"Player 2"},{key:"totalMatches",label:"Total Matches"},{key:"p1Wins",label:"Player 1 Wins"},{key:"p2Wins",label:"Player 2 Wins"},{key:"p1WinRate",label:"Player 1 Win Rate (%)"}],onRowClick:j=>{const N=Object.values(r).flatMap(S=>S.allMatches.filter(P=>P.player1_name===j.player1&&P.player2_name===j.player2||P.player1_name===j.player2&&P.player2_name===j.player1));m({isOpen:!0,title:`${j.player1} vs ${j.player2} Matches`,matches:N}),f(S=>({...S,isOpen:!1}))}})};if(t||c)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing player analytics..."})]});const v=Object.keys(r);if(v.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Nt,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Player Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Player analytics require match results to generate statistics."})]})});const b=i?r[i]:null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Nt,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),v.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(lt,{size:24,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(wn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,N)=>N.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,N)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:N+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.mostCommonWinFinish})]},j.name))})]})})]}),b&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[o.jsx(_c,{size:24,className:"mr-2 text-blue-600"}),b.name," - Detailed Performance"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:b.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[b.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:b.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:b.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Lu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Lu.map(N=>{var S;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-green-600",children:((S=b.winsByFinish[j])==null?void 0:S[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-green-700",children:b.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Lu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Lu.map(N=>{var S;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-red-600",children:((S=b.lossesByFinish[j])==null?void 0:S[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-red-700",children:b.pointsGivenByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Ks,{width:"100%",height:400,children:o.jsxs(wte,{data:Object.entries(b.finishDistribution).map(([j,N])=>({finish:j,points:N*(kP[j]||0),count:N})),children:[o.jsx(PM,{}),o.jsx(Qh,{dataKey:"finish"}),o.jsx(Xh,{}),o.jsx(jb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),o.jsx(Vs,{})]})})]}),Object.keys(b.phasePerformance).length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phase"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(b.phasePerformance).sort(([j],[N])=>parseInt(j)-parseInt(N)).map(([j,N])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:N.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:N.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${N.matches>0&&N.wins/N.matches*100>=50?"text-green-600":"text-red-600"}`,children:[N.matches>0?(N.wins/N.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:N.matches>0?(N.points/N.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Gf,{size:24,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(wn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,N)=>N.totalMatches-j.totalMatches).slice(0,10).map((j,N)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},N))})]})})]}),o.jsx(Ite,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(Lte,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function Fte(){const[e,t]=y.useState("meta"),[r,n]=y.useState([]),[i,s]=y.useState(""),[a,l]=y.useState(!0),[c,u]=y.useState(!1);y.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await Z.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const g=h==null?void 0:h.find(x=>x.status==="completed");g&&s(g.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Un,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx($i,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Nt,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx($te,{tournamentId:i}),e==="player"&&o.jsx(Bte,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Un,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function zte(){dr();const[e,t]=y.useState("overview"),[r,n]=y.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx($i,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament and player statistics"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(lt,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Td,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Un,{size:16,className:"mr-2"}),"Tournament Analysis"]})]})]})}),e==="overview"&&o.jsx(Nte,{}),e==="personal"&&o.jsx(_te,{}),e==="tournament"&&o.jsx(Fte,{})]})})}const _p={"Over Finish (2 pts)":2,"Burst Finish (2 pts)":2,"Spin Finish (1 pt)":1,"Extreme Finish (3 pts)":3},Ute=()=>{const{confirm:e,alert:t}=Yi(),[r,n]=y.useState([]),[i,s]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!1),[d,f]=y.useState(""),[h,m]=y.useState({}),[g,x]=y.useState({}),[w,p]=y.useState(!0),[v,b]=y.useState(!1),[j,N]=y.useState(""),[S,P]=y.useState(""),[O,D]=y.useState(1),[T,C]=y.useState(""),[z,$]=y.useState({}),[_,A]=y.useState(0),[F,W]=y.useState(0),[k,E]=y.useState(2),[K,Y]=y.useState(!1),[J,xe]=y.useState(!1),[U,B]=y.useState(!1),[Q,I]=y.useState(""),[V,M]=y.useState({}),[X,oe]=y.useState(null);y.useEffect(()=>{R()},[]),y.useEffect(()=>{if(i){u(!1),l(""),f("");const H=r.find(te=>te.id===i);H!=null&&H.password||(u(!0),ee(i))}},[i]);const R=async()=>{try{const{data:H,error:te}=await Z.from("tournaments").select("id, name, status, tournament_date, location, beyblades_per_player, password").order("tournament_date",{ascending:!1});if(te)throw te;n(H||[]);const le=H==null?void 0:H.find(he=>he.status==="active");le&&s(le.id)}catch(H){console.error("Error fetching tournaments:",H)}finally{p(!1)}},q=()=>{const H=r.find(te=>te.id===i);if(!(H!=null&&H.password)){u(!0),ee(i);return}a===H.password?(u(!0),f(""),ee(i)):f("Incorrect password. Please try again.")},ee=async H=>{b(!0);try{const{data:te,error:le}=await Z.from("tournament_registrations").select(`
          player_name,
          tournament_beyblades(
            beyblade_name,
            blade_line
          )
        `).eq("tournament_id",H).eq("status","confirmed").order("player_name",{ascending:!0});if(le)throw le;const he={},tt={};te==null||te.forEach(Ie=>{const Te=Ie.player_name,Ft=Ie.tournament_beyblades.map(Or=>Or.beyblade_name),st=Ie.tournament_beyblades.map(Or=>({name:Or.beyblade_name,blade_line:Or.blade_line}));Ft.length>0&&(he[Te]=Ft,tt[Te]=st)}),m(he),x(tt),ne()}catch(te){console.error("Error fetching player data:",te),m({})}finally{b(!1)}},ne=()=>{N(""),P(""),D(1),C(""),$({}),A(0),W(0),E(2),Y(!1),M({}),x({}),I("")},ce=(H,te)=>{H===1?(N(te),te===S&&P("")):(P(te),te===j&&N("")),te&&($({}),A(0),W(0),E(2),Y(!1),M({}))},me=(H,te)=>{var Te,Ft,st;const le=(be==null?void 0:be.beyblades_per_player)||3,he=Math.floor(te/le)+1,tt=te%le;if(he===1)return((Te=h[H])==null?void 0:Te[tt])||"";const Ie=(Ft=V[he])==null?void 0:Ft[H];return Ie?Ie[tt]||"":((st=h[H])==null?void 0:st[tt])||""},Pe=(H,te)=>{var Te,Ft,st,Or,is,zt;const le=(be==null?void 0:be.beyblades_per_player)||3,he=Math.floor(te/le)+1,tt=te%le;if(he===1)return((Ft=(Te=g[H])==null?void 0:Te[tt])==null?void 0:Ft.blade_line)||"";const Ie=(st=V[he])==null?void 0:st[H];if(Ie){const En=Ie[tt],Yr=(Or=g[H])==null?void 0:Or.find(AD=>AD.name===En);return(Yr==null?void 0:Yr.blade_line)||""}return((zt=(is=g[H])==null?void 0:is[tt])==null?void 0:zt.blade_line)||""},Jt=()=>{if(K){t("Phase Required",`Click Shuffle before adding the next match (after every ${(be==null?void 0:be.beyblades_per_player)||3} matches).`);return}if(!j||!S){t("Missing Players","Please select both players first.");return}let H=0;for(;z[H]!==void 0;)H++;const te={...z,[H]:{outcome:null,winner:null,points:0}};$(te);const le=(be==null?void 0:be.beyblades_per_player)||3,he=Object.keys(te).length;he>0&&he%le===0&&Y(!0)},ci=(H,te)=>{const le={...z};if(le[H]){le[H].outcome=te;const he=te&&le[H].winner&&_p[te]||0;le[H].points=he}$(le),zo(le)},ui=(H,te)=>{const le={...z};if(le[H]){le[H].winner=te;const he=le[H].outcome&&te&&_p[le[H].outcome]||0;le[H].points=he}$(le),zo(le)},zo=H=>{let te=0,le=0;Object.values(H).forEach(he=>{he.winner&&he.outcome&&he.points>0&&(he.winner===j?te+=he.points:he.winner===S&&(le+=he.points))}),A(te),W(le)},rm=H=>{const te={...z};delete te[H],$(te),zo(te),Y(!1)},ND=()=>{const H=k,te={...V};te[H]||(te[H]={[j]:[...h[j]||[]],[S]:[...h[S]||[]]}),M(te),E(le=>le+1),Y(!1)},SD=(H,te,le)=>{M(he=>({...he,[H]:{...he[H],[te]:le}}))},Cb=(H,te)=>{oe(te),H.dataTransfer.effectAllowed="move"},Tb=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},Mb=(H,te,le,he)=>{var Ft;if(H.preventDefault(),!X)return;const tt=((Ft=V[te])==null?void 0:Ft[le])||[],Ie=tt.indexOf(X);if(Ie===-1)return;const Te=[...tt];Te.splice(Ie,1),Te.splice(he,0,X),SD(te,le,Te),oe(null)},Db=()=>{oe(null)},PD=async()=>{if(!T.trim()){t("Please enter the Tournament Officer name before submitting.");return}const H=Object.entries(z).filter(([te,le])=>le.outcome&&le.winner);if(H.length===0){t("No complete matches to submit.");return}B(!0),I("Submitting matches...");try{const te=H.map(([tt,Ie])=>{const Te=parseInt(tt);return{tournament_id:i,round_number:O,player1_name:j,player2_name:S,player1_beyblade:me(j,Te),player2_beyblade:me(S,Te),player1_blade_line:Pe(j,Te),player2_blade_line:Pe(S,Te),outcome:Ie.outcome,winner_name:Ie.winner,points_awarded:Ie.points,match_number:Te+1,phase_number:Math.floor(Te/3)+1,tournament_officer:T}}),{error:le}=await Z.from("match_results").insert(te);if(le)throw le;const{error:he}=await Z.from("match_sessions").insert({tournament_id:i,round_number:O,player1_name:j,player2_name:S,player1_final_score:_,player2_final_score:F,winner_name:_>F?j:S,total_matches:H.length,tournament_officer:T,match_summary:H.map(([tt,Ie])=>{const Te=parseInt(tt),Ft=me(Ie.winner,Te),st=(be==null?void 0:be.beyblades_per_player)||3,Or=Math.floor(Te/st)+1,is=Te%st+1;return`Phase ${Or}, Match ${is}: ${Ie.outcome} by ${Ie.winner} using ${Ft}`}).join("; "),phases:Object.keys(V).length+1,deck_orders:V});if(he)throw he;I("✅ Matches submitted successfully!"),xe(!1),setTimeout(()=>{ne(),I("")},2e3)}catch(te){console.error("Error submitting matches:",te),I("❌ Failed to submit matches. Please try again.")}finally{B(!1)}},_D=()=>Object.entries(z).filter(([te,le])=>le.outcome&&le.winner).map(([te,le])=>{const he=parseInt(te),tt=me(le.winner,he);return`Match ${he+1}: ${le.outcome} by ${le.winner} using ${tt}`}),be=r.find(H=>H.id===i),Rb=Object.keys(h),kD=Rb.filter(H=>H!==S),OD=Rb.filter(H=>H!==j);return w?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBC Match Tracker"}),o.jsx("p",{className:"text-gray-600",children:"Track tournament matches in real-time"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tournament Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),o.jsxs("select",{value:i,onChange:H=>s(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(H=>o.jsxs("option",{value:H.id,children:[H.name," (",H.status,")"]},H.id))]})]}),be&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:be.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",o.jsx("span",{className:`capitalize ${be.status==="active"?"text-green-600":be.status==="upcoming"?"text-blue-600":"text-gray-600"}`,children:be.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(be.tournament_date).toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",be.location]}),be.password&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"🔒 Password protected"})]})]})]}),i&&(be==null?void 0:be.password)&&!c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:"🔒 Tournament Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This tournament requires a password to access match tracking features."}),o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"password",placeholder:"Enter tournament password",value:a,onChange:H=>{l(H.target.value),f("")},onKeyPress:H=>H.key==="Enter"&&q(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:q,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Verify"})]}),d&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:d})]})]}),i&&c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Match Setup"}),v?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading player data..."})]}):Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No confirmed registrations found for this tournament"})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Round #"}),o.jsx("input",{type:"number",min:"1",value:O,onChange:H=>D(parseInt(H.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),o.jsxs("select",{value:j,onChange:H=>ce(1,H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 1 --"}),kD.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),o.jsxs("select",{value:S,onChange:H=>ce(2,H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 2 --"}),OD.map(H=>o.jsx("option",{value:H,children:H},H))]})]})]})]}),j&&S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tournament Officer",value:T,onChange:H=>C(H.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),o.jsxs("div",{className:"text-lg font-bold",children:[o.jsxs("span",{className:`${_>F?"text-green-600":_<F?"text-red-600":"text-gray-600"}`,children:[j,": ",_]}),o.jsx("span",{className:"mx-4 text-gray-400",children:"|"}),o.jsxs("span",{className:`${F>_?"text-green-600":F<_?"text-red-600":"text-gray-600"}`,children:[S,": ",F]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Phase 1 Decks (",(be==null?void 0:be.beyblades_per_player)||3," Beyblades)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2"}),o.jsx("th",{className:"text-left py-2 font-semibold",children:j}),o.jsx("th",{className:"text-left py-2 font-semibold",children:S})]})}),o.jsx("tbody",{children:Array.from({length:(be==null?void 0:be.beyblades_per_player)||3},(H,te)=>{var le,he;return o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 font-medium",children:["Bey ",te+1]}),o.jsx("td",{className:"py-2",children:((le=h[j])==null?void 0:le[te])||""}),o.jsx("td",{className:"py-2",children:((he=h[S])==null?void 0:he[te])||""})]},te)})})]})})]}),o.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(z).map(([H,te])=>{var Or,is;const le=parseInt(H),he=me(j,le),tt=me(S,le),Ie=le+1,Te=(be==null?void 0:be.beyblades_per_player)||3,Ft=Ie%Te===0&&Ie>0,st=Math.floor(Ie/Te)+1;return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold",children:["Match ",Ie,": ",he," vs ",tt]}),o.jsx("button",{onClick:()=>rm(le),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(_n,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Outcome:"}),o.jsx("div",{className:"space-y-2",children:Object.keys(_p).map(zt=>o.jsx("button",{onClick:()=>ci(le,zt),className:`w-full text-left px-3 py-2 rounded border transition-colors ${te.outcome===zt?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:zt},zt))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Winner:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>ui(le,j),className:`w-full text-left px-3 py-2 rounded border transition-colors ${te.winner===j?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:j}),o.jsx("button",{onClick:()=>ui(le,S),className:`w-full text-left px-3 py-2 rounded border transition-colors ${te.winner===S?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:S})]})]})]})]}),Ft&&st>1&&V[st]&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-md p-6 mt-4 border-2 border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center",children:[o.jsx(d1,{className:"mr-2",size:20}),"Phase ",st," Decks - Drag to Reorder"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:j}),o.jsx("div",{className:"space-y-2",children:(Or=V[st][j])==null?void 0:Or.map((zt,En)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Cb(Yr,zt),onDragOver:Tb,onDrop:Yr=>Mb(Yr,st,j,En),onDragEnd:Db,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${X===zt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(u1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[En+1,"."]}),o.jsx("span",{className:"ml-2",children:zt})]},`${st}-${j}-${En}`))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:S}),o.jsx("div",{className:"space-y-2",children:(is=V[st][S])==null?void 0:is.map((zt,En)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Cb(Yr,zt),onDragOver:Tb,onDrop:Yr=>Mb(Yr,st,S,En),onDragEnd:Db,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${X===zt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(u1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[En+1,"."]}),o.jsx("span",{className:"ml-2",children:zt})]},`${st}-${S}-${En}`))})]})]})]})]},H)})}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsxs("button",{onClick:K?ND:Jt,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:K?"Shuffle":"Add Match"})]}),o.jsxs("button",{onClick:()=>xe(!0),disabled:Object.values(z).every(H=>!H.outcome||!H.winner),className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o.jsx(BL,{size:20}),o.jsx("span",{children:"Submit Scores"})]}),o.jsxs("button",{onClick:ne,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(d1,{size:20}),o.jsx("span",{children:"Refresh"})]})]}),Q&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:`font-semibold ${Q.includes("✅")?"text-green-600":Q.includes("❌")?"text-red-600":"text-blue-600"}`,children:Q})})]})]}),J&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Summary"}),o.jsx("button",{onClick:()=>xe(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Final Scores"}),o.jsxs("p",{className:"text-xl",children:[o.jsxs("strong",{children:[j,":"]})," ",_," pts | ",o.jsxs("strong",{children:[S,":"]})," ",F," pts"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Match Results"}),o.jsx("div",{className:"space-y-2",children:_D().map((H,te)=>o.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:H}},te))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>xe(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:PD,disabled:U,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[U&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Confirm Submit"})]})]})]})]})})]})};function Wte(){const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState([]),[s,a]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState("tournaments"),[f,h]=y.useState(!0),[m,g]=y.useState(!1),[x,w]=y.useState(null),[p,v]=y.useState(!1),[b,j]=y.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""}),N=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";y.useEffect(()=>{N&&S()},[N]),y.useEffect(()=>{l&&u==="registrations"&&P()},[l,u]);const S=async()=>{try{const{data:_,error:A}=await Z.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(A)throw A;i(_||[])}catch(_){console.error("Error fetching tournaments:",_)}finally{h(!1)}},P=async()=>{if(l)try{const{data:_,error:A}=await Z.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(A)throw A;const F={};_==null||_.forEach(W=>{F[W.registration_id]||(F[W.registration_id]={id:W.registration_id,tournament_id:W.tournament_id,player_name:W.player_name,payment_mode:W.payment_mode,registered_at:W.registered_at,status:W.status,payment_status:W.payment_status||"confirmed",beyblades:[]}),W.beyblade_id&&(F[W.registration_id].beyblades.find(E=>E.beyblade_id===W.beyblade_id)||F[W.registration_id].beyblades.push({beyblade_id:W.beyblade_id,beyblade_name:W.beyblade_name,blade_line:W.blade_line}))}),a(Object.values(F))}catch(_){console.error("Error fetching registrations:",_)}},O=()=>{g(!0),j({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})},D=_=>{w(_.id),j({name:_.name,description:_.description||"",tournament_date:_.tournament_date,location:_.location,max_participants:_.max_participants,registration_deadline:_.registration_deadline,prize_pool:_.prize_pool||"",beyblades_per_player:_.beyblades_per_player,players_per_team:_.players_per_team,entry_fee:_.entry_fee,is_free:_.is_free,tournament_type:_.tournament_type,password:_.password||""})},T=async()=>{if(!b.name.trim()){await r("Missing Information","Please enter a tournament name.");return}if(!b.password.trim()){await r("Missing Information","Please enter a tournament password.");return}if(!b.tournament_date){await r("Missing Information","Please select a tournament date.");return}if(!b.location.trim()){await r("Missing Information","Please enter a tournament location.");return}if(!b.registration_deadline){await r("Missing Information","Please select a registration deadline.");return}try{const _={name:b.name.trim(),description:b.description.trim()||null,tournament_date:b.tournament_date,location:b.location.trim(),max_participants:b.max_participants,registration_deadline:b.registration_deadline,prize_pool:b.prize_pool.trim()||null,beyblades_per_player:b.beyblades_per_player,players_per_team:b.players_per_team,entry_fee:b.entry_fee,is_free:b.is_free,tournament_type:b.tournament_type,password:b.password.trim()};if(m){const{error:A}=await Z.from("tournaments").insert([_]);if(A)throw A}else if(x){const{error:A}=await Z.from("tournaments").update(_).eq("id",x);if(A)throw A}await S(),$(),await r("Success","Tournament saved successfully!")}catch(_){console.error("Error saving tournament:",_),await r("Error","Failed to save tournament. Please try again.")}},C=async _=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{const{data:F,error:W}=await Z.rpc("delete_tournament_completely",{tournament_id_to_delete:_});if(W)throw W;await S(),await r("Success","Tournament deleted successfully!")}catch(F){console.error("Error deleting tournament:",F),await r("Error","Failed to delete tournament. Please try again.")}},z=async _=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:F}=await Z.from("tournament_registrations").delete().eq("id",_);if(F)throw F;await P(),await r("Success","Registration deleted successfully!")}catch(F){console.error("Error deleting registration:",F),await r("Error","Failed to delete registration. Please try again.")}},$=()=>{g(!1),w(null),j({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})};return N?f?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper max-w-6xl mx-auto",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(lt,{size:28,className:"mr-3 text-yellow-600"}),"Tournament Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage tournaments"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>d("tournaments"),className:`filter-tab ${u==="tournaments"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(lt,{size:16,className:"mr-2"}),"Tournaments"]}),o.jsxs("button",{onClick:()=>d("registrations"),className:`filter-tab ${u==="registrations"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Nt,{size:16,className:"mr-2"}),"Registrations"]})]})]})}),u==="tournaments"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs("button",{onClick:O,className:"primary-button flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Create Tournament"})]})}),(m||x)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Name *"}),o.jsx("input",{type:"text",value:b.name,onChange:_=>j({...b,name:_.target.value}),className:"input-field w-full",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Date *"}),o.jsx("input",{type:"date",value:b.tournament_date,onChange:_=>j({...b,tournament_date:_.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Location *"}),o.jsx("input",{type:"text",value:b.location,onChange:_=>j({...b,location:_.target.value}),className:"input-field w-full",placeholder:"Enter tournament location"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Registration Deadline *"}),o.jsx("input",{type:"date",value:b.registration_deadline,onChange:_=>j({...b,registration_deadline:_.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Max Participants"}),o.jsx("input",{type:"number",min:"1",value:b.max_participants,onChange:_=>j({...b,max_participants:parseInt(_.target.value)||16}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:"1",max:"5",value:b.beyblades_per_player,onChange:_=>j({...b,beyblades_per_player:parseInt(_.target.value)||3}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Type"}),o.jsxs("select",{value:b.tournament_type,onChange:_=>j({...b,tournament_type:_.target.value}),className:"select-field w-full",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Entry Fee"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.is_free,onChange:_=>j({...b,is_free:_.target.checked,entry_fee:_.target.checked?0:b.entry_fee}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Free Tournament"})]}),!b.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:b.entry_fee,onChange:_=>j({...b,entry_fee:parseFloat(_.target.value)||0}),className:"input-field w-full mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:p?"text":"password",value:b.password,onChange:_=>j({...b,password:_.target.value}),className:"input-field w-full pr-10",placeholder:"Enter tournament password"}),o.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:p?o.jsx(Ed,{size:20}):o.jsx(wn,{size:20})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{value:b.description,onChange:_=>j({...b,description:_.target.value}),className:"input-field w-full",rows:3,placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Prize Pool"}),o.jsx("input",{type:"text",value:b.prize_pool,onChange:_=>j({...b,prize_pool:_.target.value}),className:"input-field w-full",placeholder:"e.g., ₱500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:$,className:"secondary-button flex items-center space-x-2",children:[o.jsx(Gt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:T,className:"primary-button flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save Tournament"})]})]})]}),n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No tournaments created yet"}),o.jsx("button",{onClick:O,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(_=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.name}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium capitalize ${_.status==="upcoming"?"bg-blue-100 text-blue-800":_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>D(_),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:14})}),o.jsx("button",{onClick:()=>C(_.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(_n,{size:14})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:14,className:"mr-2"}),new Date(_.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(y2,{size:14,className:"mr-2"}),_.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Nt,{size:14,className:"mr-2"}),_.max_participants===999999?`${_.current_participants} participants (unlimited)`:`${_.current_participants}/${_.max_participants} participants`]}),_.password&&o.jsx("div",{className:"flex items-center text-orange-600",children:o.jsx("span",{className:"text-xs",children:"🔒 Password protected"})})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Created: ",new Date(_.created_at).toLocaleDateString()]})]},_.id))})]}),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"form-label",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"select-field max-w-md",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(_=>o.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l&&o.jsx("div",{className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Nt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):s.map(_=>{var A;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:_.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(_.registered_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((A=_.payment_mode)==null?void 0:A.replace("_"," "))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-1 ${_.status==="confirmed"?"bg-green-100 text-green-800":_.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:_.status})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>z(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Registration",children:o.jsx(_n,{size:16})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[_.beyblades.length," registered"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:_.beyblades.length>0?_.beyblades.map((F,W)=>o.jsx("span",{className:"inline-block bg-white px-2 py-1 rounded-full text-xs font-medium text-gray-700 border",children:F.beyblade_name},W)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},_.id)})})]})]})}):o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"🔒"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You need admin or developer permissions to access tournament management."})]})})})}function Vte(){const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState([]),[s,a]=y.useState("all"),[l,c]=y.useState("all"),[u,d]=y.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";ki.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:v,error:b}=await Z.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw b;const j=(v||[]).map(N=>({id:N.id,username:N.username,email:N.email||"",role:N.role,joinedDate:N.created_at,status:"active",lastLogin:null}));i(j)}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const b=s==="all"||v.status===s,j=l==="all"||v.role===l;return b&&j}),g=async(v,b)=>{try{const{error:j}=await Z.from("profiles").update(b).eq("id",v);if(j){const N=j.code==="42501"||j.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${j.message}`;await r("Update Failed",N);return}await h()}catch(j){console.error("Error updating user:",j),await r("Update Failed",`Failed to update user: ${j instanceof Error?j.message:"Unknown error"}`)}},x=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:j,error:N}=await Z.rpc("delete_user_completely",{user_id_to_delete:v});if(N){console.error("Delete error:",N),N.code==="42501"||N.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):N.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${N.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(j){console.error("Error deleting user:",j),await r("Delete Failed",`Failed to delete user: ${j instanceof Error?j.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(Nt,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(DL,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:b=>g(v.id,{role:b.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${p(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>x(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(_n,{size:16})})]})})})]},v.id))})]})})})]})}function Kte(){var M,X,oe;const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState("tournaments"),[s,a]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState([]),[f,h]=y.useState(!1),[m,g]=y.useState(null),[x,w]=y.useState([]),[p,v]=y.useState(null),[b,j]=y.useState({}),[N,S]=y.useState(null),[P,O]=y.useState([]),[D,T]=y.useState(""),[C,z]=y.useState(1),[$]=y.useState(10);ki.useEffect(()=>{a(null),S(null),v(null),j({}),T(""),z(1)},[n]);const _=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",A=async()=>{try{const[R,q,ee,ne]=await Promise.all([Z.from("profiles").select("*",{count:"exact",head:!0}),Z.from("tournaments").select("*",{count:"exact",head:!0}),Z.from("match_results").select("*",{count:"exact",head:!0}),Z.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:R.count||0,icon:o.jsx(Nt,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:q.count||0,icon:o.jsx(lt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:ee.count||0,icon:o.jsx(zi,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:ne.count||0,icon:o.jsx(FL,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ce}=await Z.from("tournaments").select("id, name").order("name");O(ce||[])}catch(R){console.error("Error fetching table counts:",R)}},F=async(R,q)=>{h(!0),g(null);try{let ee=[];if(R==="registrations"&&q){const{data:ne,error:ce}=await Z.from("tournament_registration_details").select("*").eq("tournament_id",q).order("registered_at",{ascending:!1});if(ce)throw ce;const me={};ne==null||ne.forEach(Pe=>{var Jt;me[Pe.registration_id]||(me[Pe.registration_id]={registration_id:Pe.registration_id,tournament_id:Pe.tournament_id,tournament_name:((Jt=P.find(ci=>ci.id===Pe.tournament_id))==null?void 0:Jt.name)||"Unknown Tournament",player_name:Pe.player_name,payment_mode:Pe.payment_mode,registered_at:Pe.registered_at,status:Pe.status,beyblades:[]}),Pe.beyblade_id&&(me[Pe.registration_id].beyblades.find(ui=>ui.beyblade_id===Pe.beyblade_id)||me[Pe.registration_id].beyblades.push({beyblade_id:Pe.beyblade_id,beyblade_name:Pe.beyblade_name,blade_line:Pe.blade_line,parts:Pe.beyblade_parts||[]}))}),ee=Object.values(me)}else if(R==="registrations"&&!q)ee=P;else{let ne=R;R==="registrations"?ne="tournament_registrations":R==="users"?ne="profiles":R==="matches"&&(ne="match_results");const{data:ce,error:me}=await Z.from(ne).select("*").order(R==="tournaments"?"tournament_date":R==="matches"?"submitted_at":"created_at",{ascending:!1});if(me)throw console.error(`❌ DATABASE: Error fetching ${R}:`,me),me;ee=ce||[]}(R!=="registrations"||q)&&ee.sort((ne,ce)=>{const me=Object.values(ne).find(Jt=>typeof Jt=="string")||"",Pe=Object.values(ce).find(Jt=>typeof Jt=="string")||"";return me.localeCompare(Pe)}),d(ee)}catch(ee){console.error("Error fetching table data:",ee),g(`Failed to load ${R} data. Please try again.`)}finally{h(!1)}},W=async()=>{c(!0),await Promise.all([A(),F(n,s||void 0)]),c(!1)},k=R=>{const q=JSON.stringify(u,null,2),ee=new Blob([q],{type:"application/json"}),ne=URL.createObjectURL(ee),ce=document.createElement("a");ce.href=ne,ce.download=`${R}_export_${new Date().toISOString().split("T")[0]}.json`,ce.click(),URL.revokeObjectURL(ne)},E=R=>{v(R.id||R.registration_id||R.tournament_id),j({...R})},K=async()=>{if(!(!p||!_))try{let R=n;n==="registrations"?R="tournament_registrations":n==="users"?R="profiles":n==="matches"&&(R="match_results");const{error:q}=await Z.from(R).update(b).eq("id",p);if(q){console.error("Update error:",q),q.code==="42501"||q.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${q.message}`);return}v(null),j({}),await F(n)}catch(R){console.error("Error updating row:",R),await r("Update Failed",`Failed to update record: ${R instanceof Error?R.message:"Unknown error"}. Please try again.`)}},Y=async R=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let ee=n;n==="registrations"?ee="tournament_registrations":n==="users"?ee="profiles":n==="matches"&&(ee="match_results");const{error:ne}=await Z.from(ee).delete().eq("id",R);if(ne){console.error("Delete error:",ne),ne.code==="42501"||ne.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${ne.message}`);return}await Promise.all([A(),F(n,s||void 0)])}catch(ee){console.error("Error deleting row:",ee),await r("Delete Failed",`Failed to delete record: ${ee instanceof Error?ee.message:"Unknown error"}. Please try again.`)}},J=R=>{a(R),F("registrations",R)},xe=()=>{a(null),F("registrations")},U=R=>{S(R)};y.useEffect(()=>{A()},[]),y.useEffect(()=>{n==="registrations"&&a(null),F(n)},[n]);const B=u.filter(R=>D?Object.values(R).filter(ee=>typeof ee=="string").join(" ").toLowerCase().includes(D.toLowerCase()):!0),Q=Math.ceil(B.length/$),I=B.slice((C-1)*$,C*$),V=()=>{var R;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>F(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Un,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(q=>o.jsxs("button",{onClick:()=>J(q.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:q.name}),o.jsx(kL,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:q.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(q.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${q.status==="upcoming"?"bg-blue-100 text-blue-800":q.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:q.status})})]},q.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:xe,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(z0,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((R=P.find(q=>q.id===s))==null?void 0:R.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(q=>{var ee;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:q.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:q.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:q.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(q.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((ee=q.payment_mode)==null?void 0:ee.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${q.status==="confirmed"?"bg-green-100 text-green-800":q.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:q.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>U(q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(wn,{size:16})}),_&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>E(q),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>Y(q.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(_n,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[q.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:q.beyblades.length>0?q.beyblades.map((ne,ce)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:ne.beyblade_name},ce)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},q.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:D,onChange:q=>{T(q.target.value),z(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",I.length," of ",B.length," records"]}),Q>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>z(Math.max(1,C-1)),disabled:C===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",C," of ",Q]}),o.jsx("button",{onClick:()=>z(Math.min(Q,C+1)),disabled:C===Q,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[I.length>0&&I[0]&&Object.keys(I[0]).map(q=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:q.replace(/_/g," ")},q)),_&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:I.map((q,ee)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(q).map(([ne,ce],me)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p===(q.id||q.registration_id||q.tournament_id)&&_?o.jsx("input",{type:"text",value:b[ne]||"",onChange:Pe=>j({...b,[ne]:Pe.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ce=="object"&&ce!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ce).length>50?JSON.stringify(ce).substring(0,50)+"...":JSON.stringify(ce)}):ce instanceof Date?ce.toLocaleString():o.jsx("span",{className:ne.includes("email")?"font-mono text-blue-600":"",children:String(ce||"")})})},me)),_&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:p===(q.id||q.registration_id||q.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:K,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(qf,{size:16})}),o.jsx("button",{onClick:()=>{v(null),j({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(Gt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>E(q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>Y(q.id||q.registration_id||q.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(_n,{size:16})})]})})})]},q.id||ee))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Un,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:W,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(LL,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>k(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(AL,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Un,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:x.map(R=>o.jsxs("button",{onClick:()=>i(R.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===R.name?"bg-gradient-to-r "+R.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===R.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:ki.cloneElement(R.icon,{className:n===R.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===R.name?"text-white":"text-gray-900"}`,children:R.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===R.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:R.records})]}),o.jsx("p",{className:`text-xs ${n===R.name?"text-white/80":"text-gray-600"}`,children:R.description})]},R.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx($i,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.reduce((R,q)=>R+q.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((M=x.find(R=>R.name===n))==null?void 0:M.icon)&&ki.cloneElement(x.find(R=>R.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((X=P.find(R=>R.id===s))==null?void 0:X.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(oe=x.find(R=>R.name===n))==null?void 0:oe.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${B.length} records`})})]})}),V()]})})]}),N&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:N.player_name})]}),o.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:N.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:N.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:N.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${N.status==="confirmed"?"bg-green-100 text-green-800":N.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(N.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(lt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[N.beyblades.length," Beyblades"]})]}),N.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(lt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.beyblades.map((R,q)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:R.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[R.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:q+1})})]}),R.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:R.parts.map((ee,ne)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:ee.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:ee.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:ne+1})})]},ne))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},R.beyblade_id))})]})]})]})})]})})}function Hte({showHeader:e=!0}){const{user:t}=dr(),{confirm:r,alert:n}=Yi();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,x]=y.useState(!0),[w,p]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(""),[j,N]=y.useState(""),[S,P]=y.useState(3),[O,D]=y.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);y.useEffect(()=>{T(),g&&z(),C()},[t]);const T=async()=>{try{const{data:I,error:V}=await Z.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(V)throw V;s(I||[])}catch(I){console.error("Error fetching presets:",I)}finally{u(!1)}};y.useEffect(()=>{g||C()},[g]);const C=async()=>{try{const[I,V,M,X,oe]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);p({blades:I.data||[],ratchets:V.data||[],bits:M.data||[],lockchips:X.data||[],assistBlades:oe.data||[]})}catch(I){console.error("Error fetching parts data:",I)}},z=async()=>{try{const{data:I,error:V}=await Z.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(V)throw V;l(I||[])}catch(I){console.error("Error fetching inventory:",I)}},$=I=>{switch(I){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},_=I=>{if(!g)switch(I==="Main Blade"?"Blade":I){case"Blade":return w.blades.map(M=>({id:`db-${M.Blades}`,part_type:"Blade",part_name:M.Blades,part_data:M,quantity:999}));case"Ratchet":return w.ratchets.map(M=>({id:`db-${M.Ratchet}`,part_type:"Ratchet",part_name:M.Ratchet,part_data:M,quantity:999}));case"Bit":return w.bits.map(M=>({id:`db-${M.Bit}`,part_type:"Bit",part_name:`${M.Bit} (${M.Shortcut})`,part_data:M,quantity:999}));case"Lockchip":return w.lockchips.map(M=>({id:`db-${M.Lockchip}`,part_type:"Lockchip",part_name:M.Lockchip,part_data:M,quantity:999}));case"Assist Blade":return w.assistBlades.map(M=>({id:`db-${M["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${M["Assist Blade Name"]} (${M["Assist Blade"]})`,part_data:M,quantity:999}));default:return[]}return I==="Blade"||I==="Main Blade"?a.filter(M=>M.part_type.startsWith("Blade (")&&M.part_type===`Blade (${I==="Main Blade"?"Custom":"Basic"})`):a.filter(M=>M.part_type===I)},A=(I,V)=>{var oe,R,q,ee,ne,ce,me,Pe;if(!I||!$(I).every(Jt=>V[Jt]))return"";if(I==="Custom"){const Jt=((oe=V.Lockchip)==null?void 0:oe.Lockchip)||"",ci=((R=V["Main Blade"])==null?void 0:R.Blades)||"",ui=((q=V["Assist Blade"])==null?void 0:q["Assist Blade"])||"",zo=((ee=V.Ratchet)==null?void 0:ee.Ratchet)||"",rm=((ne=V.Bit)==null?void 0:ne.Shortcut)||"";return`${Jt}${ci} ${ui}${zo}${rm}`}else{const Jt=((ce=V.Blade)==null?void 0:ce.Blades)||"",ci=((me=V.Ratchet)==null?void 0:me.Ratchet)||"",ui=((Pe=V.Bit)==null?void 0:Pe.Shortcut)||"";return`${Jt} ${ci}${ui}`}},F=I=>{let V={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(I).forEach(M=>{M&&(V.attack+=M.Attack||0,V.defense+=M.Defense||0,V.stamina+=M.Stamina||0,V.dash+=M.Dash||0,V.burstRes+=M["Burst Res"]||0)}),V},W=()=>{f(!0),b(""),N(""),P(3),D([{id:"1",name:"",blade_line:"Basic",parts:{}}])},k=I=>{m(I.id),b(I.name),N(I.description||""),P(I.beyblades.length),D(I.beyblades)},E=()=>{O.length<S&&D([...O,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},K=I=>{O.length>1&&D(O.filter(V=>V.id!==I))},Y=(I,V,M)=>{D(O.map(X=>{if(X.id===I){const oe={...X,[V]:M,parts:{}};return oe.name=A(M,{}),oe}return X}))},J=(I,V,M)=>{D(O.map(X=>{if(X.id===I){const oe={...X.parts,[V]:M},R=A(X.blade_line,oe);return{...X,parts:oe,name:R}}return X}))},xe=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const I=O.filter(V=>{const M=$(V.blade_line);return V.blade_line&&M.every(X=>V.parts[X])});if(I.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const V={user_id:t.id,name:v.trim(),description:j.trim()||null,beyblades:I};if(d){const{error:M}=await Z.from("deck_presets").insert([V]);if(M)throw M}else if(h){const{error:M}=await Z.from("deck_presets").update({...V,updated_at:new Date().toISOString()}).eq("id",h);if(M)throw M}await T(),B(),await n("Success","Deck preset saved successfully!")}catch(V){console.error("Error saving preset:",V),await n("Error","Failed to save deck preset. Please try again.")}},U=async I=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:M}=await Z.from("deck_presets").delete().eq("id",I);if(M)throw M;await T()}catch(M){console.error("Error deleting preset:",M),await n("Error","Failed to delete deck preset. Please try again.")}},B=()=>{f(!1),m(null),b(""),N(""),P(3),D([{id:"1",name:"",blade_line:"Basic",parts:{}}])},Q=I=>{switch(I){case"attack":return o.jsx(kc,{size:12,className:"text-red-500"});case"defense":return o.jsx(As,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Hf,{size:12,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(U0,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:I=>b(I.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:j,onChange:I=>N(I.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:O.map((I,V)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",V+1]}),O.length>1&&o.jsx("button",{onClick:()=>K(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(_n,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:I.blade_line,onChange:M=>Y(I.id,"blade_line",M.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:I.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:$(I.blade_line).map(M=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M}),o.jsxs("select",{value:I.parts[M]?JSON.stringify(I.parts[M]):"",onChange:X=>{if(X.target.value){const oe=JSON.parse(X.target.value);J(I.id,M,oe)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",M]}),_(M).filter(X=>{var oe;return!g&&(M==="Blade"||M==="Main Blade")&&((oe=X.part_data)!=null&&oe.Line)?X.part_data.Line===(M==="Main Blade"?"Custom":I.blade_line):!0}).map(X=>o.jsxs("option",{value:JSON.stringify(X.part_data),children:[X.part_name," ",g?`(Qty: ${X.quantity})`:""]},X.id))]})]},M))}),Object.keys(I.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(F(I.parts)).map(([M,X])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:Q(M)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:M==="burstRes"?"Burst Res":M}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:X})]},M))})]})]},I.id))}),O.length<5&&o.jsxs("button",{onClick:E,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",O.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:B,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Gt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:W,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(I=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.name}),I.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>k(I),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>U(I.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(_n,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:I.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[I.beyblades.slice(0,3).map((V,M)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:V.name||`Beyblade ${M+1}`},M)),I.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",I.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(I.updated_at).toLocaleDateString()]})]},I.id))})]})}function qte(){const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(hl,{size:64,className:"text-gray-400"}),o.jsx(La,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,g]=y.useState(""),[x,w]=y.useState("all"),[p,v]=y.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[b,j]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});y.useEffect(()=>{N(),S()},[e]);const N=async()=>{try{const{data:A,error:F}=await Z.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(F)throw F;a(A||[])}catch(A){console.error("Error fetching inventory:",A)}finally{c(!1)}},S=async()=>{try{const[A,F,W,k,E]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);j({blades:A.data||[],ratchets:F.data||[],bits:W.data||[],lockchips:k.data||[],assistBlades:E.data||[]})}catch(A){console.error("Error fetching parts data:",A)}},P=A=>{let F=[];if(A.startsWith("Blade (")){const W=A.replace("Blade (","").replace(")","");F=b.blades.filter(k=>k.Line===W)}else A==="Ratchet"?F=b.ratchets:A==="Bit"?F=b.bits:A==="Lockchip"?F=b.lockchips:A==="Assist Blade"&&(F=b.assistBlades);return A==="Blade"?F=b.blades.filter(W=>W.Line!=="Custom"):A==="Blade (Custom)"?F=b.blades.filter(W=>W.Line==="Custom"):A==="Ratchet"?F=b.ratchets:A==="Bit"?F=b.bits:A==="Lockchip"?F=b.lockchips:A==="Assist Blade"&&(F=b.assistBlades),F},O=(A,F)=>{if(F.startsWith("Blade ("))return A.Blades;switch(F){case"Ratchet":return A.Ratchet;case"Bit":return`${A.Bit} (${A.Shortcut})`;case"Lockchip":return A.Lockchip;case"Assist Blade":return`${A["Assist Blade Name"]} (${A["Assist Blade"]})`;default:return""}},D=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},T=A=>{h(A.id),v({part_type:A.part_type,part_name:A.part_name,part_data:A.part_data,quantity:A.quantity,notes:A.notes||""})},C=async()=>{if(!p.part_name||!p.part_data){await r("Missing Information","Please select a part before saving.");return}try{const A={user_id:e.id,part_type:p.part_type,part_name:p.part_name,part_data:p.part_data,quantity:p.quantity,notes:p.notes||null};if(u){const{error:F}=await Z.from("user_inventory").insert([A]);if(F)throw F}else if(f){const{error:F}=await Z.from("user_inventory").update(A).eq("id",f);if(F)throw F}await N()}catch(A){console.error("Error saving inventory item:",A),await r("Error","Failed to save inventory item. Please try again.")}},z=async A=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:W}=await Z.from("user_inventory").delete().eq("id",A);if(W)throw W;await N()}catch(W){console.error("Error deleting inventory item:",W),await r("Error","Failed to delete inventory item. Please try again.")}},$=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},_=s.filter(A=>{var k;const F=A.part_name.toLowerCase().includes(m.toLowerCase())||A.notes&&A.notes.toLowerCase().includes(m.toLowerCase());let W=!1;if(x==="all")W=!0;else if(x.startsWith("Blade (")){const E=x.replace("Blade (","").replace(")","");W=A.part_type==="Blade"&&((k=A.part_data)==null?void 0:k.Line)===E}else W=A.part_type===x;return F&&W});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(hl,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(Hte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(hl,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:A=>g(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(EL,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:x,onChange:A=>w(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:p.part_type,onChange:A=>v({...p,part_type:A.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:p.part_data?JSON.stringify(p.part_data):"",onChange:A=>{if(A.target.value){const F=JSON.parse(A.target.value);v({...p,part_name:O(F,p.part_type),part_data:F})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(p.part_type).map((A,F)=>o.jsx("option",{value:JSON.stringify(A),children:O(A,p.part_type)},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:p.quantity,onChange:A=>v({...p,quantity:parseInt(A.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:p.notes,onChange:A=>v({...p,notes:A.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:$,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Gt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),_.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hl,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:D,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(A=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:A.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>T(A),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>z(A.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(_n,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:A.quantity})]}),A.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:A.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(A.created_at).toLocaleDateString()]})]}),A.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(A.part_data).map(([F,W])=>typeof W=="number"&&W>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(F)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[F,":"]}),o.jsx("span",{className:"font-medium",children:W})]},F):null)})})]},A.id))})]})}function Gte(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,s]=y.useState(""),[a,l]=y.useState("name"),[c,u]=y.useState("asc"),[d,f]=y.useState("grid"),[h,m]=y.useState(null),[g,x]=y.useState("lockchips"),[w,p]=y.useState(""),[v,b]=y.useState(""),j=["lockchips","blades (custom)","blades","ratchets","bits"];y.useEffect(()=>{N()},[]);const N=async()=>{n(!0);try{const[$,_,A,F,W]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]),k=[];($.data||[]).forEach(E=>{k.push({id:`blade-${E.Blades}`,name:E.Blades,category:"Blade",role:E.Type,line:E.Line,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),(_.data||[]).forEach(E=>{k.push({id:`ratchet-${E.Ratchet}`,name:E.Ratchet,category:"Ratchet",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),(A.data||[]).forEach(E=>{k.push({id:`bit-${E.Bit}`,name:`${E.Bit} (${E.Shortcut})`,category:"Bit",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:E.Dash||0,burstRes:E["Burst Res"]||0},data:E})}),(F.data||[]).forEach(E=>{k.push({id:`lockchip-${E.Lockchip}`,name:E.Lockchip,category:"Lockchip",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),(W.data||[]).forEach(E=>{k.push({id:`assistblade-${E["Assist Blade"]}`,name:`${E["Assist Blade Name"]} (${E["Assist Blade"]})`,category:"Assist Blade",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),t(k)}catch($){console.error("Error fetching parts:",$)}finally{n(!1)}},S=$=>{switch($){case"attack":return o.jsx(kc,{size:16,className:"text-red-500"});case"defense":return o.jsx(As,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Hf,{size:16,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(U0,{size:16,className:"text-purple-500"});default:return null}},D=e.filter($=>$.name.toLowerCase().includes(i.toLowerCase())).sort(($,_)=>{let A,F;return a==="name"?(A=$.name,F=_.name):a==="role"?(A=$.role||"",F=_.role||""):(A=$.stats[a],F=_.stats[a]),typeof A=="string"&&typeof F=="string"?c==="asc"?A.localeCompare(F):F.localeCompare(A):c==="asc"?A-F:F-A}).filter($=>{var _,A,F;return g==="blades (custom)"?$.category==="Blade"&&((_=$.line)==null?void 0:_.toLowerCase())==="custom":g==="blades"?v?$.category==="Blade"&&((F=$.line)==null?void 0:F.toLowerCase())===v.toLowerCase():$.category==="Blade"&&["basic","unique","x-over"].includes(((A=$.line)==null?void 0:A.toLowerCase())||""):g==="lockchips"?$.category==="Lockchip":g==="ratchets"?$.category==="Ratchet":g==="bits"?$.category==="Bit":!0}).filter($=>w?($.role||"").toLowerCase()===w:!0),T={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},C=$=>{switch($){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},z=$=>{const _=T[$.category]||"",A=C($.category),F=encodeURIComponent($.data[A]),W=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${_}/${F}.png`;return o.jsxs("div",{onClick:()=>m($),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:W,alt:$.name,width:128,height:128,loading:"lazy",onError:k=>{const E=k.target,K=document.createElement("div");K.textContent="Picture Not Available",K.className="text-gray-400 text-xs text-center",E.replaceWith(K)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:$.name}),$.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:$.role})]}),$.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:$.line})]},$.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(CL,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(ML,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:$=>s($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:$=>p($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:j.map($=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${g===$?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>x($),children:$},$))}),g==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:$=>b($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),D.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Un,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:D.map(z)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(g==="bits"?["dash","burstRes"]:[]).map($=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${$==="name"?"text-left":"text-center"}`,onClick:()=>{l($),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:$}),o.jsx("span",{className:"w-4 inline-block",children:a===$&&(c==="asc"?"▲":"▼")})]})},$)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map($=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:$.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.stamina}),g==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},$.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([$])=>h.category==="Bit"?!0:!["dash","burstRes"].includes($)).map(([$,_])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:S($)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:$}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:_})]},$))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${T[h.category]}/${encodeURIComponent(h.data[C(h.category)])}.png`,alt:h.name,onError:$=>{const _=$.target,A=document.createElement("div");A.textContent="Picture Not Available",A.className="text-gray-400 text-sm text-center",_.replaceWith(A)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function Yte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Nt,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage competitive teams"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Nt,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Create competitive teams, manage rosters, and coordinate team tournaments. Perfect for organizing group battles and team-based competitions."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(m2,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Creation"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Create teams with custom names, logos, and member roles"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(UL,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Member Management"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Add, remove, and assign roles to team members"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(As,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and participate in team-based competitions"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team creation and customization"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Member invitation system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team-based tournament registration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Role-based permissions"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Stay tuned for updates! This feature is in active development."})]})}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Cd,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(IL,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Events"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(W0,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Cd,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestions"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth analytics"]})]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function Xte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Cd,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Foster community engagement and build connections"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Cd,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach programs."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(zi,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Event Planning"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(W0,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(RL,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Gf,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Growth Analytics"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track community growth and engagement metrics"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion box"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration and sharing"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth and engagement analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Welcome program for new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function Jte(){const[e,t]=y.useState("dashboard"),[r,n]=y.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(Mj,{onViewChange:t});case"tournaments":return o.jsx(ZF,{});case"inventory":return o.jsx(qte,{});case"analytics":return o.jsx(zte,{});case"parts-database":return o.jsx(Gte,{});case"team-manager":return o.jsx(Yte,{});case"community-manager":return o.jsx(Xte,{});case"match-tracker":return o.jsx(Ute,{});case"tournament-manager":return o.jsx(Wte,{});case"user-management":return o.jsx(Vte,{});case"database":return o.jsx(Kte,{});default:return o.jsx(Mj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx($L,{size:24})}),o.jsx(KL,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function Qte(){return o.jsx(jL,{children:o.jsx(NL,{children:o.jsx(Jte,{})})})}zk(document.getElementById("root")).render(o.jsx(y.StrictMode,{children:o.jsx(Qte,{})}));
