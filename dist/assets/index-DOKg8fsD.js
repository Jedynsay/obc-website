var MR=Object.defineProperty;var RR=(e,t,r)=>t in e?MR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var nm=(e,t,r)=>RR(e,typeof t!="symbol"?t+"":t,r);function DR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $R(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var TP={exports:{}},Sf={},MP={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vc=Symbol.for("react.element"),IR=Symbol.for("react.portal"),LR=Symbol.for("react.fragment"),BR=Symbol.for("react.strict_mode"),FR=Symbol.for("react.profiler"),zR=Symbol.for("react.provider"),UR=Symbol.for("react.context"),WR=Symbol.for("react.forward_ref"),VR=Symbol.for("react.suspense"),KR=Symbol.for("react.memo"),qR=Symbol.for("react.lazy"),Lb=Symbol.iterator;function HR(e){return e===null||typeof e!="object"?null:(e=Lb&&e[Lb]||e["@@iterator"],typeof e=="function"?e:null)}var RP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DP=Object.assign,$P={};function po(e,t,r){this.props=e,this.context=t,this.refs=$P,this.updater=r||RP}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function IP(){}IP.prototype=po.prototype;function Uy(e,t,r){this.props=e,this.context=t,this.refs=$P,this.updater=r||RP}var Wy=Uy.prototype=new IP;Wy.constructor=Uy;DP(Wy,po.prototype);Wy.isPureReactComponent=!0;var Bb=Array.isArray,LP=Object.prototype.hasOwnProperty,Vy={current:null},BP={key:!0,ref:!0,__self:!0,__source:!0};function FP(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)LP.call(t,n)&&!BP.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:vc,type:e,key:s,ref:a,props:i,_owner:Vy.current}}function GR(e,t){return{$$typeof:vc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ky(e){return typeof e=="object"&&e!==null&&e.$$typeof===vc}function YR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Fb=/\/+/g;function im(e,t){return typeof e=="object"&&e!==null&&e.key!=null?YR(""+e.key):t.toString(36)}function Bu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vc:case IR:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+im(a,0):n,Bb(i)?(r="",e!=null&&(r=e.replace(Fb,"$&/")+"/"),Bu(i,t,r,"",function(u){return u})):i!=null&&(Ky(i)&&(i=GR(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Fb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Bb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+im(s,l);a+=Bu(s,t,r,c,i)}else if(c=HR(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+im(s,l++),a+=Bu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Qc(e,t,r){if(e==null)return e;var n=[],i=0;return Bu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function XR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Fu={transition:null},JR={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Fu,ReactCurrentOwner:Vy};function zP(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Qc,forEach:function(e,t,r){Qc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qc(e,function(){t++}),t},toArray:function(e){return Qc(e,function(t){return t})||[]},only:function(e){if(!Ky(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=po;ge.Fragment=LR;ge.Profiler=FR;ge.PureComponent=Uy;ge.StrictMode=BR;ge.Suspense=VR;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JR;ge.act=zP;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=DP({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Vy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)LP.call(t,c)&&!BP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:vc,type:e.type,key:i,ref:s,props:n,_owner:a}};ge.createContext=function(e){return e={$$typeof:UR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:zR,_context:e},e.Consumer=e};ge.createElement=FP;ge.createFactory=function(e){var t=FP.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:WR,render:e}};ge.isValidElement=Ky;ge.lazy=function(e){return{$$typeof:qR,_payload:{_status:-1,_result:e},_init:XR}};ge.memo=function(e,t){return{$$typeof:KR,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Fu.transition;Fu.transition={};try{e()}finally{Fu.transition=t}};ge.unstable_act=zP;ge.useCallback=function(e,t){return Xt.current.useCallback(e,t)};ge.useContext=function(e){return Xt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Xt.current.useEffect(e,t)};ge.useId=function(){return Xt.current.useId()};ge.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Xt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};ge.useRef=function(e){return Xt.current.useRef(e)};ge.useState=function(e){return Xt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return Xt.current.useTransition()};ge.version="18.3.1";MP.exports=ge;var x=MP.exports;const xn=Kr(x),QR=DR({__proto__:null,default:xn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZR=x,eD=Symbol.for("react.element"),tD=Symbol.for("react.fragment"),rD=Object.prototype.hasOwnProperty,nD=ZR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iD={key:!0,ref:!0,__self:!0,__source:!0};function UP(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)rD.call(t,n)&&!iD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:eD,type:e,key:s,ref:a,props:i,_owner:nD.current}}Sf.Fragment=tD;Sf.jsx=UP;Sf.jsxs=UP;TP.exports=Sf;var o=TP.exports,WP={exports:{}},Pr={},VP={exports:{}},KP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,C){var U=k.length;k.push(C);e:for(;0<U;){var H=U-1>>>1,G=k[H];if(0<i(G,C))k[H]=C,k[U]=G,U=H;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var C=k[0],U=k.pop();if(U!==C){k[0]=U;e:for(var H=0,G=k.length,ve=G>>>1;H<ve;){var z=2*(H+1)-1,Z=k[z],he=z+1,W=k[he];if(0>i(Z,U))he<G&&0>i(W,Z)?(k[H]=W,k[he]=U,H=he):(k[H]=Z,k[z]=U,H=z);else if(he<G&&0>i(W,U))k[H]=W,k[he]=U,H=he;else break e}}return C}function i(k,C){var U=k.sortIndex-C.sortIndex;return U!==0?U:k.id-C.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var C=r(u);C!==null;){if(C.callback===null)n(u);else if(C.startTime<=k)n(u),C.sortIndex=C.expirationTime,t(c,C);else break;C=r(u)}}function j(k){if(y=!1,b(k),!p)if(r(c)!==null)p=!0,I(S);else{var C=r(u);C!==null&&F(j,C.startTime-k)}}function S(k,C){p=!1,y&&(y=!1,g(A),A=-1),m=!0;var U=h;try{for(b(C),f=r(c);f!==null&&(!(f.expirationTime>C)||k&&!O());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var G=H(f.expirationTime<=C);C=e.unstable_now(),typeof G=="function"?f.callback=G:f===r(c)&&n(c),b(C)}else n(c);f=r(c)}if(f!==null)var ve=!0;else{var z=r(u);z!==null&&F(j,z.startTime-C),ve=!1}return ve}finally{f=null,h=U,m=!1}}var N=!1,P=null,A=-1,R=5,T=-1;function O(){return!(e.unstable_now()-T<R)}function B(){if(P!==null){var k=e.unstable_now();T=k;var C=!0;try{C=P(!0,k)}finally{C?M():(N=!1,P=null)}}else N=!1}var M;if(typeof v=="function")M=function(){v(B)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,E=_.port2;_.port1.onmessage=B,M=function(){E.postMessage(null)}}else M=function(){w(B,0)};function I(k){P=k,N||(N=!0,M())}function F(k,C){A=w(function(){k(e.unstable_now())},C)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,I(S))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var C=3;break;default:C=h}var U=h;h=C;try{return k()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,C){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var U=h;h=k;try{return C()}finally{h=U}},e.unstable_scheduleCallback=function(k,C,U){var H=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?H+U:H):U=H,k){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=U+G,k={id:d++,callback:C,priorityLevel:k,startTime:U,expirationTime:G,sortIndex:-1},U>H?(k.sortIndex=U,t(u,k),r(c)===null&&k===r(u)&&(y?(g(A),A=-1):y=!0,F(j,U-H))):(k.sortIndex=G,t(c,k),p||m||(p=!0,I(S))),k},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(k){var C=h;return function(){var U=h;h=C;try{return k.apply(this,arguments)}finally{h=U}}}})(KP);VP.exports=KP;var sD=VP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aD=x,br=sD;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qP=new Set,Il={};function qs(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Il[e]=t,e=0;e<t.length;e++)qP.add(t[e])}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kp=Object.prototype.hasOwnProperty,oD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zb={},Ub={};function lD(e){return kp.call(Ub,e)?!0:kp.call(zb,e)?!1:oD.test(e)?Ub[e]=!0:(zb[e]=!0,!1)}function cD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uD(e,t,r,n){if(t===null||typeof t>"u"||cD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qy=/[\-:]([a-z])/g;function Hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qy,Hy);Et[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qy,Hy);Et[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qy,Hy);Et[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gy(e,t,r,n){var i=Et.hasOwnProperty(t)?Et[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uD(t,r,i,n)&&(r=null),n||i===null?lD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ii=aD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zc=Symbol.for("react.element"),ua=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Yy=Symbol.for("react.strict_mode"),Ap=Symbol.for("react.profiler"),HP=Symbol.for("react.provider"),GP=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Ep=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),YP=Symbol.for("react.offscreen"),Wb=Symbol.iterator;function Uo(e){return e===null||typeof e!="object"?null:(e=Wb&&e[Wb]||e["@@iterator"],typeof e=="function"?e:null)}var He=Object.assign,sm;function ll(e){if(sm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);sm=t&&t[1]||""}return`
`+sm+e}var am=!1;function om(e,t){if(!e||am)return"";am=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{am=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ll(e):""}function dD(e){switch(e.tag){case 5:return ll(e.type);case 16:return ll("Lazy");case 13:return ll("Suspense");case 19:return ll("SuspenseList");case 0:case 2:case 15:return e=om(e.type,!1),e;case 11:return e=om(e.type.render,!1),e;case 1:return e=om(e.type,!0),e;default:return""}}function Cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ua:return"Portal";case Ap:return"Profiler";case Yy:return"StrictMode";case Ep:return"Suspense";case Op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case GP:return(e.displayName||"Context")+".Consumer";case HP:return(e._context.displayName||"Context")+".Provider";case Xy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jy:return t=e.displayName||null,t!==null?t:Cp(e.type)||"Memo";case bi:t=e._payload,e=e._init;try{return Cp(e(t))}catch{}}return null}function fD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cp(t);case 8:return t===Yy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Fi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function XP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hD(e){var t=XP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function eu(e){e._valueTracker||(e._valueTracker=hD(e))}function JP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=XP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function id(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Tp(e,t){var r=t.checked;return He({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Fi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function QP(e,t){t=t.checked,t!=null&&Gy(e,"checked",t,!1)}function Mp(e,t){QP(e,t);var r=Fi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rp(e,t.type,Fi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Kb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rp(e,t,r){(t!=="number"||id(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var cl=Array.isArray;function Ta(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Fi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return He({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(cl(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Fi(r)}}function ZP(e,t){var r=Fi(t.value),n=Fi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Hb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function e_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $p(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?e_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var tu,t_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(tu=tu||document.createElement("div"),tu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=tu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ll(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var yl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mD=["Webkit","ms","Moz","O"];Object.keys(yl).forEach(function(e){mD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yl[t]=yl[e]})});function r_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||yl.hasOwnProperty(e)&&yl[e]?(""+t).trim():t+"px"}function n_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=r_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var pD=He({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ip(e,t){if(t){if(pD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Lp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bp=null;function Qy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fp=null,Ma=null,Ra=null;function Gb(e){if(e=wc(e)){if(typeof Fp!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Af(t),Fp(e.stateNode,e.type,t))}}function i_(e){Ma?Ra?Ra.push(e):Ra=[e]:Ma=e}function s_(){if(Ma){var e=Ma,t=Ra;if(Ra=Ma=null,Gb(e),t)for(e=0;e<t.length;e++)Gb(t[e])}}function a_(e,t){return e(t)}function o_(){}var lm=!1;function l_(e,t,r){if(lm)return e(t,r);lm=!0;try{return a_(e,t,r)}finally{lm=!1,(Ma!==null||Ra!==null)&&(o_(),s_())}}function Bl(e,t){var r=e.stateNode;if(r===null)return null;var n=Af(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var zp=!1;if(qn)try{var Wo={};Object.defineProperty(Wo,"passive",{get:function(){zp=!0}}),window.addEventListener("test",Wo,Wo),window.removeEventListener("test",Wo,Wo)}catch{zp=!1}function gD(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var vl=!1,sd=null,ad=!1,Up=null,yD={onError:function(e){vl=!0,sd=e}};function vD(e,t,r,n,i,s,a,l,c){vl=!1,sd=null,gD.apply(yD,arguments)}function xD(e,t,r,n,i,s,a,l,c){if(vD.apply(this,arguments),vl){if(vl){var u=sd;vl=!1,sd=null}else throw Error(q(198));ad||(ad=!0,Up=u)}}function Hs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function c_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yb(e){if(Hs(e)!==e)throw Error(q(188))}function bD(e){var t=e.alternate;if(!t){if(t=Hs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Yb(i),e;if(s===n)return Yb(i),t;s=s.sibling}throw Error(q(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function u_(e){return e=bD(e),e!==null?d_(e):null}function d_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=d_(e);if(t!==null)return t;e=e.sibling}return null}var f_=br.unstable_scheduleCallback,Xb=br.unstable_cancelCallback,wD=br.unstable_shouldYield,jD=br.unstable_requestPaint,nt=br.unstable_now,SD=br.unstable_getCurrentPriorityLevel,Zy=br.unstable_ImmediatePriority,h_=br.unstable_UserBlockingPriority,od=br.unstable_NormalPriority,ND=br.unstable_LowPriority,m_=br.unstable_IdlePriority,Nf=null,bn=null;function PD(e){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Nf,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:AD,_D=Math.log,kD=Math.LN2;function AD(e){return e>>>=0,e===0?32:31-(_D(e)/kD|0)|0}var ru=64,nu=4194304;function ul(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ld(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=ul(l):(s&=a,s!==0&&(n=ul(s)))}else a=r&~i,a!==0?n=ul(a):s!==0&&(n=ul(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-on(t),i=1<<r,n|=e[r],t&=~i;return n}function ED(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-on(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=ED(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Wp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function p_(){var e=ru;return ru<<=1,!(ru&4194240)&&(ru=64),e}function cm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=r}function CD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-on(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function e0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-on(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ae=0;function g_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var y_,t0,v_,x_,b_,Vp=!1,iu=[],Ei=null,Oi=null,Ci=null,Fl=new Map,zl=new Map,Si=[],TD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jb(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Oi=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Fl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Vo(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=wc(t),t!==null&&t0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function MD(e,t,r,n,i){switch(t){case"focusin":return Ei=Vo(Ei,e,t,r,n,i),!0;case"dragenter":return Oi=Vo(Oi,e,t,r,n,i),!0;case"mouseover":return Ci=Vo(Ci,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Vo(Fl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,zl.set(s,Vo(zl.get(s)||null,e,t,r,n,i)),!0}return!1}function w_(e){var t=gs(e.target);if(t!==null){var r=Hs(t);if(r!==null){if(t=r.tag,t===13){if(t=c_(r),t!==null){e.blockedOn=t,b_(e.priority,function(){v_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Kp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bp=n,r.target.dispatchEvent(n),Bp=null}else return t=wc(r),t!==null&&t0(t),e.blockedOn=r,!1;t.shift()}return!0}function Qb(e,t,r){zu(e)&&r.delete(t)}function RD(){Vp=!1,Ei!==null&&zu(Ei)&&(Ei=null),Oi!==null&&zu(Oi)&&(Oi=null),Ci!==null&&zu(Ci)&&(Ci=null),Fl.forEach(Qb),zl.forEach(Qb)}function Ko(e,t){e.blockedOn===t&&(e.blockedOn=null,Vp||(Vp=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,RD)))}function Ul(e){function t(i){return Ko(i,e)}if(0<iu.length){Ko(iu[0],e);for(var r=1;r<iu.length;r++){var n=iu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ei!==null&&Ko(Ei,e),Oi!==null&&Ko(Oi,e),Ci!==null&&Ko(Ci,e),Fl.forEach(t),zl.forEach(t),r=0;r<Si.length;r++)n=Si[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Si.length&&(r=Si[0],r.blockedOn===null);)w_(r),r.blockedOn===null&&Si.shift()}var Da=ii.ReactCurrentBatchConfig,cd=!0;function DD(e,t,r,n){var i=Ae,s=Da.transition;Da.transition=null;try{Ae=1,r0(e,t,r,n)}finally{Ae=i,Da.transition=s}}function $D(e,t,r,n){var i=Ae,s=Da.transition;Da.transition=null;try{Ae=4,r0(e,t,r,n)}finally{Ae=i,Da.transition=s}}function r0(e,t,r,n){if(cd){var i=Kp(e,t,r,n);if(i===null)xm(e,t,n,ud,r),Jb(e,n);else if(MD(i,e,t,r,n))n.stopPropagation();else if(Jb(e,n),t&4&&-1<TD.indexOf(e)){for(;i!==null;){var s=wc(i);if(s!==null&&y_(s),s=Kp(e,t,r,n),s===null&&xm(e,t,n,ud,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else xm(e,t,n,null,r)}}var ud=null;function Kp(e,t,r,n){if(ud=null,e=Qy(n),e=gs(e),e!==null)if(t=Hs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=c_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ud=e,null}function j_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SD()){case Zy:return 1;case h_:return 4;case od:case ND:return 16;case m_:return 536870912;default:return 16}default:return 16}}var ki=null,n0=null,Uu=null;function S_(){if(Uu)return Uu;var e,t=n0,r=t.length,n,i="value"in ki?ki.value:ki.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Uu=i.slice(e,1<n?1-n:void 0)}function Wu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function su(){return!0}function Zb(){return!1}function _r(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?su:Zb,this.isPropagationStopped=Zb,this}return He(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=su)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=su)},persist:function(){},isPersistent:su}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},i0=_r(go),bc=He({},go,{view:0,detail:0}),ID=_r(bc),um,dm,qo,Pf=He({},bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:s0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(um=e.screenX-qo.screenX,dm=e.screenY-qo.screenY):dm=um=0,qo=e),um)},movementY:function(e){return"movementY"in e?e.movementY:dm}}),ew=_r(Pf),LD=He({},Pf,{dataTransfer:0}),BD=_r(LD),FD=He({},bc,{relatedTarget:0}),fm=_r(FD),zD=He({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),UD=_r(zD),WD=He({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),VD=_r(WD),KD=He({},go,{data:0}),tw=_r(KD),qD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YD(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=GD[e])?!!t[e]:!1}function s0(){return YD}var XD=He({},bc,{key:function(e){if(e.key){var t=qD[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?HD[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:s0,charCode:function(e){return e.type==="keypress"?Wu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),JD=_r(XD),QD=He({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rw=_r(QD),ZD=He({},bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:s0}),e$=_r(ZD),t$=He({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),r$=_r(t$),n$=He({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),i$=_r(n$),s$=[9,13,27,32],a0=qn&&"CompositionEvent"in window,xl=null;qn&&"documentMode"in document&&(xl=document.documentMode);var a$=qn&&"TextEvent"in window&&!xl,N_=qn&&(!a0||xl&&8<xl&&11>=xl),nw=" ",iw=!1;function P_(e,t){switch(e){case"keyup":return s$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function __(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function o$(e,t){switch(e){case"compositionend":return __(t);case"keypress":return t.which!==32?null:(iw=!0,nw);case"textInput":return e=t.data,e===nw&&iw?null:e;default:return null}}function l$(e,t){if(fa)return e==="compositionend"||!a0&&P_(e,t)?(e=S_(),Uu=n0=ki=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return N_&&t.locale!=="ko"?null:t.data;default:return null}}var c$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!c$[e.type]:t==="textarea"}function k_(e,t,r,n){i_(n),t=dd(t,"onChange"),0<t.length&&(r=new i0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var bl=null,Wl=null;function u$(e){L_(e,0)}function _f(e){var t=pa(e);if(JP(t))return e}function d$(e,t){if(e==="change")return t}var A_=!1;if(qn){var hm;if(qn){var mm="oninput"in document;if(!mm){var aw=document.createElement("div");aw.setAttribute("oninput","return;"),mm=typeof aw.oninput=="function"}hm=mm}else hm=!1;A_=hm&&(!document.documentMode||9<document.documentMode)}function ow(){bl&&(bl.detachEvent("onpropertychange",E_),Wl=bl=null)}function E_(e){if(e.propertyName==="value"&&_f(Wl)){var t=[];k_(t,Wl,e,Qy(e)),l_(u$,t)}}function f$(e,t,r){e==="focusin"?(ow(),bl=t,Wl=r,bl.attachEvent("onpropertychange",E_)):e==="focusout"&&ow()}function h$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _f(Wl)}function m$(e,t){if(e==="click")return _f(t)}function p$(e,t){if(e==="input"||e==="change")return _f(t)}function g$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:g$;function Vl(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!kp.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function lw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cw(e,t){var r=lw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lw(r)}}function O_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?O_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function C_(){for(var e=window,t=id();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=id(e.document)}return t}function o0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function y$(e){var t=C_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&O_(r.ownerDocument.documentElement,r)){if(n!==null&&o0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=cw(r,s);var a=cw(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var v$=qn&&"documentMode"in document&&11>=document.documentMode,ha=null,qp=null,wl=null,Hp=!1;function uw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hp||ha==null||ha!==id(n)||(n=ha,"selectionStart"in n&&o0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),wl&&Vl(wl,n)||(wl=n,n=dd(qp,"onSelect"),0<n.length&&(t=new i0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ha)))}function au(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ma={animationend:au("Animation","AnimationEnd"),animationiteration:au("Animation","AnimationIteration"),animationstart:au("Animation","AnimationStart"),transitionend:au("Transition","TransitionEnd")},pm={},T_={};qn&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function kf(e){if(pm[e])return pm[e];if(!ma[e])return e;var t=ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in T_)return pm[e]=t[r];return e}var M_=kf("animationend"),R_=kf("animationiteration"),D_=kf("animationstart"),$_=kf("transitionend"),I_=new Map,dw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qi(e,t){I_.set(e,t),qs(t,[e])}for(var gm=0;gm<dw.length;gm++){var ym=dw[gm],x$=ym.toLowerCase(),b$=ym[0].toUpperCase()+ym.slice(1);qi(x$,"on"+b$)}qi(M_,"onAnimationEnd");qi(R_,"onAnimationIteration");qi(D_,"onAnimationStart");qi("dblclick","onDoubleClick");qi("focusin","onFocus");qi("focusout","onBlur");qi($_,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w$=new Set("cancel close invalid load scroll toggle".split(" ").concat(dl));function fw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,xD(n,t,void 0,e),e.currentTarget=null}function L_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;fw(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;fw(i,l,u),s=c}}}if(ad)throw e=Up,ad=!1,Up=null,e}function Be(e,t){var r=t[Qp];r===void 0&&(r=t[Qp]=new Set);var n=e+"__bubble";r.has(n)||(B_(t,e,2,!1),r.add(n))}function vm(e,t,r){var n=0;t&&(n|=4),B_(r,e,n,t)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[ou]){e[ou]=!0,qP.forEach(function(r){r!=="selectionchange"&&(w$.has(r)||vm(r,!1,e),vm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ou]||(t[ou]=!0,vm("selectionchange",!1,t))}}function B_(e,t,r,n){switch(j_(t)){case 1:var i=DD;break;case 4:i=$D;break;default:i=r0}r=i.bind(null,t,r,e),i=void 0,!zp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function xm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}l_(function(){var u=s,d=Qy(r),f=[];e:{var h=I_.get(e);if(h!==void 0){var m=i0,p=e;switch(e){case"keypress":if(Wu(r)===0)break e;case"keydown":case"keyup":m=JD;break;case"focusin":p="focus",m=fm;break;case"focusout":p="blur",m=fm;break;case"beforeblur":case"afterblur":m=fm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ew;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=BD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=e$;break;case M_:case R_:case D_:m=UD;break;case $_:m=r$;break;case"scroll":m=ID;break;case"wheel":m=i$;break;case"copy":case"cut":case"paste":m=VD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=rw}var y=(t&4)!==0,w=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,g!==null&&(j=Bl(v,g),j!=null&&y.push(ql(v,j,b)))),w)break;v=v.return}0<y.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Bp&&(p=r.relatedTarget||r.fromElement)&&(gs(p)||p[Hn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?gs(p):null,p!==null&&(w=Hs(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=ew,j="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(y=rw,j="onPointerLeave",g="onPointerEnter",v="pointer"),w=m==null?h:pa(m),b=p==null?h:pa(p),h=new y(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,gs(d)===u&&(y=new y(g,v+"enter",p,r,d),y.target=b,y.relatedTarget=w,j=y),w=j,m&&p)t:{for(y=m,g=p,v=0,b=y;b;b=ea(b))v++;for(b=0,j=g;j;j=ea(j))b++;for(;0<v-b;)y=ea(y),v--;for(;0<b-v;)g=ea(g),b--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=ea(y),g=ea(g)}y=null}else y=null;m!==null&&hw(f,h,m,y,!1),p!==null&&w!==null&&hw(f,w,p,y,!0)}}e:{if(h=u?pa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=d$;else if(sw(h))if(A_)S=p$;else{S=h$;var N=f$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=m$);if(S&&(S=S(e,u))){k_(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&Rp(h,"number",h.value)}switch(N=u?pa(u):window,e){case"focusin":(sw(N)||N.contentEditable==="true")&&(ha=N,qp=u,wl=null);break;case"focusout":wl=qp=ha=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,uw(f,r,d);break;case"selectionchange":if(v$)break;case"keydown":case"keyup":uw(f,r,d)}var P;if(a0)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fa?P_(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(N_&&r.locale!=="ko"&&(fa||A!=="onCompositionStart"?A==="onCompositionEnd"&&fa&&(P=S_()):(ki=d,n0="value"in ki?ki.value:ki.textContent,fa=!0)),N=dd(u,A),0<N.length&&(A=new tw(A,e,null,r,d),f.push({event:A,listeners:N}),P?A.data=P:(P=__(r),P!==null&&(A.data=P)))),(P=a$?o$(e,r):l$(e,r))&&(u=dd(u,"onBeforeInput"),0<u.length&&(d=new tw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}L_(f,t)})}function ql(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Bl(e,r),s!=null&&n.unshift(ql(e,s,i)),s=Bl(e,t),s!=null&&n.push(ql(e,s,i))),e=e.return}return n}function ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hw(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Bl(r,s),c!=null&&a.unshift(ql(r,c,l))):i||(c=Bl(r,s),c!=null&&a.push(ql(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var j$=/\r\n?/g,S$=/\u0000|\uFFFD/g;function mw(e){return(typeof e=="string"?e:""+e).replace(j$,`
`).replace(S$,"")}function lu(e,t,r){if(t=mw(t),mw(e)!==t&&r)throw Error(q(425))}function fd(){}var Gp=null,Yp=null;function Xp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Jp=typeof setTimeout=="function"?setTimeout:void 0,N$=typeof clearTimeout=="function"?clearTimeout:void 0,pw=typeof Promise=="function"?Promise:void 0,P$=typeof queueMicrotask=="function"?queueMicrotask:typeof pw<"u"?function(e){return pw.resolve(null).then(e).catch(_$)}:Jp;function _$(e){setTimeout(function(){throw e})}function bm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Ul(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ul(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),mn="__reactFiber$"+yo,Hl="__reactProps$"+yo,Hn="__reactContainer$"+yo,Qp="__reactEvents$"+yo,k$="__reactListeners$"+yo,A$="__reactHandles$"+yo;function gs(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Hn]||r[mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=gw(e);e!==null;){if(r=e[mn])return r;e=gw(e)}return t}e=r,r=e.parentNode}return null}function wc(e){return e=e[mn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Af(e){return e[Hl]||null}var Zp=[],ga=-1;function Hi(e){return{current:e}}function ze(e){0>ga||(e.current=Zp[ga],Zp[ga]=null,ga--)}function De(e,t){ga++,Zp[ga]=e.current,e.current=t}var zi={},Lt=Hi(zi),lr=Hi(!1),$s=zi;function Wa(e,t){var r=e.type.contextTypes;if(!r)return zi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cr(e){return e=e.childContextTypes,e!=null}function hd(){ze(lr),ze(Lt)}function yw(e,t,r){if(Lt.current!==zi)throw Error(q(168));De(Lt,t),De(lr,r)}function F_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(q(108,fD(e)||"Unknown",i));return He({},r,n)}function md(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zi,$s=Lt.current,De(Lt,e),De(lr,lr.current),!0}function vw(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=F_(e,t,$s),n.__reactInternalMemoizedMergedChildContext=e,ze(lr),ze(Lt),De(Lt,e)):ze(lr),De(lr,r)}var $n=null,Ef=!1,wm=!1;function z_(e){$n===null?$n=[e]:$n.push(e)}function E$(e){Ef=!0,z_(e)}function Gi(){if(!wm&&$n!==null){wm=!0;var e=0,t=Ae;try{var r=$n;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$n=null,Ef=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),f_(Zy,Gi),i}finally{Ae=t,wm=!1}}return null}var ya=[],va=0,pd=null,gd=0,Rr=[],Dr=0,Is=null,Ln=1,Bn="";function ls(e,t){ya[va++]=gd,ya[va++]=pd,pd=e,gd=t}function U_(e,t,r){Rr[Dr++]=Ln,Rr[Dr++]=Bn,Rr[Dr++]=Is,Is=e;var n=Ln;e=Bn;var i=32-on(n)-1;n&=~(1<<i),r+=1;var s=32-on(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ln=1<<32-on(t)+i|r<<i|n,Bn=s+e}else Ln=1<<s|r<<i|n,Bn=e}function l0(e){e.return!==null&&(ls(e,1),U_(e,1,0))}function c0(e){for(;e===pd;)pd=ya[--va],ya[va]=null,gd=ya[--va],ya[va]=null;for(;e===Is;)Is=Rr[--Dr],Rr[Dr]=null,Bn=Rr[--Dr],Rr[Dr]=null,Ln=Rr[--Dr],Rr[Dr]=null}var vr=null,yr=null,Ue=!1,rn=null;function W_(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function xw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,yr=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:Ln,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,yr=null,!0):!1;default:return!1}}function eg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tg(e){if(Ue){var t=yr;if(t){var r=t;if(!xw(e,t)){if(eg(e))throw Error(q(418));t=Ti(r.nextSibling);var n=vr;t&&xw(e,t)?W_(n,r):(e.flags=e.flags&-4097|2,Ue=!1,vr=e)}}else{if(eg(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ue=!1,vr=e}}}function bw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function cu(e){if(e!==vr)return!1;if(!Ue)return bw(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xp(e.type,e.memoizedProps)),t&&(t=yr)){if(eg(e))throw V_(),Error(q(418));for(;t;)W_(e,t),t=Ti(t.nextSibling)}if(bw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Ti(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=vr?Ti(e.stateNode.nextSibling):null;return!0}function V_(){for(var e=yr;e;)e=Ti(e.nextSibling)}function Va(){yr=vr=null,Ue=!1}function u0(e){rn===null?rn=[e]:rn.push(e)}var O$=ii.ReactCurrentBatchConfig;function Ho(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function uu(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ww(e){var t=e._init;return t(e._payload)}function K_(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=$i(g,v),g.index=0,g.sibling=null,g}function s(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,j){return v===null||v.tag!==6?(v=Am(b,g.mode,j),v.return=g,v):(v=i(v,b),v.return=g,v)}function c(g,v,b,j){var S=b.type;return S===da?d(g,v,b.props.children,j,b.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bi&&ww(S)===v.type)?(j=i(v,b.props),j.ref=Ho(g,v,b),j.return=g,j):(j=Xu(b.type,b.key,b.props,null,g.mode,j),j.ref=Ho(g,v,b),j.return=g,j)}function u(g,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Em(b,g.mode,j),v.return=g,v):(v=i(v,b.children||[]),v.return=g,v)}function d(g,v,b,j,S){return v===null||v.tag!==7?(v=ks(b,g.mode,j,S),v.return=g,v):(v=i(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Am(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zc:return b=Xu(v.type,v.key,v.props,null,g.mode,b),b.ref=Ho(g,null,v),b.return=g,b;case ua:return v=Em(v,g.mode,b),v.return=g,v;case bi:var j=v._init;return f(g,j(v._payload),b)}if(cl(v)||Uo(v))return v=ks(v,g.mode,b,null),v.return=g,v;uu(g,v)}return null}function h(g,v,b,j){var S=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return S!==null?null:l(g,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:return b.key===S?c(g,v,b,j):null;case ua:return b.key===S?u(g,v,b,j):null;case bi:return S=b._init,h(g,v,S(b._payload),j)}if(cl(b)||Uo(b))return S!==null?null:d(g,v,b,j,null);uu(g,b)}return null}function m(g,v,b,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(b)||null,l(v,g,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Zc:return g=g.get(j.key===null?b:j.key)||null,c(v,g,j,S);case ua:return g=g.get(j.key===null?b:j.key)||null,u(v,g,j,S);case bi:var N=j._init;return m(g,v,b,N(j._payload),S)}if(cl(j)||Uo(j))return g=g.get(b)||null,d(v,g,j,S,null);uu(v,j)}return null}function p(g,v,b,j){for(var S=null,N=null,P=v,A=v=0,R=null;P!==null&&A<b.length;A++){P.index>A?(R=P,P=null):R=P.sibling;var T=h(g,P,b[A],j);if(T===null){P===null&&(P=R);break}e&&P&&T.alternate===null&&t(g,P),v=s(T,v,A),N===null?S=T:N.sibling=T,N=T,P=R}if(A===b.length)return r(g,P),Ue&&ls(g,A),S;if(P===null){for(;A<b.length;A++)P=f(g,b[A],j),P!==null&&(v=s(P,v,A),N===null?S=P:N.sibling=P,N=P);return Ue&&ls(g,A),S}for(P=n(g,P);A<b.length;A++)R=m(P,g,A,b[A],j),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?A:R.key),v=s(R,v,A),N===null?S=R:N.sibling=R,N=R);return e&&P.forEach(function(O){return t(g,O)}),Ue&&ls(g,A),S}function y(g,v,b,j){var S=Uo(b);if(typeof S!="function")throw Error(q(150));if(b=S.call(b),b==null)throw Error(q(151));for(var N=S=null,P=v,A=v=0,R=null,T=b.next();P!==null&&!T.done;A++,T=b.next()){P.index>A?(R=P,P=null):R=P.sibling;var O=h(g,P,T.value,j);if(O===null){P===null&&(P=R);break}e&&P&&O.alternate===null&&t(g,P),v=s(O,v,A),N===null?S=O:N.sibling=O,N=O,P=R}if(T.done)return r(g,P),Ue&&ls(g,A),S;if(P===null){for(;!T.done;A++,T=b.next())T=f(g,T.value,j),T!==null&&(v=s(T,v,A),N===null?S=T:N.sibling=T,N=T);return Ue&&ls(g,A),S}for(P=n(g,P);!T.done;A++,T=b.next())T=m(P,g,A,T.value,j),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?A:T.key),v=s(T,v,A),N===null?S=T:N.sibling=T,N=T);return e&&P.forEach(function(B){return t(g,B)}),Ue&&ls(g,A),S}function w(g,v,b,j){if(typeof b=="object"&&b!==null&&b.type===da&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Zc:e:{for(var S=b.key,N=v;N!==null;){if(N.key===S){if(S=b.type,S===da){if(N.tag===7){r(g,N.sibling),v=i(N,b.props.children),v.return=g,g=v;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===bi&&ww(S)===N.type){r(g,N.sibling),v=i(N,b.props),v.ref=Ho(g,N,b),v.return=g,g=v;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===da?(v=ks(b.props.children,g.mode,j,b.key),v.return=g,g=v):(j=Xu(b.type,b.key,b.props,null,g.mode,j),j.ref=Ho(g,v,b),j.return=g,g=j)}return a(g);case ua:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=i(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=Em(b,g.mode,j),v.return=g,g=v}return a(g);case bi:return N=b._init,w(g,v,N(b._payload),j)}if(cl(b))return p(g,v,b,j);if(Uo(b))return y(g,v,b,j);uu(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,b),v.return=g,g=v):(r(g,v),v=Am(b,g.mode,j),v.return=g,g=v),a(g)):r(g,v)}return w}var Ka=K_(!0),q_=K_(!1),yd=Hi(null),vd=null,xa=null,d0=null;function f0(){d0=xa=vd=null}function h0(e){var t=yd.current;ze(yd),e._currentValue=t}function rg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $a(e,t){vd=e,d0=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(d0!==e)if(e={context:e,memoizedValue:t,next:null},xa===null){if(vd===null)throw Error(q(308));xa=e,vd.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ys=null;function m0(e){ys===null?ys=[e]:ys.push(e)}function H_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,m0(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gn(e,n)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var wi=!1;function p0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gn(e,r)}return i=n.interleaved,i===null?(t.next=t,m0(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gn(e,r)}function Vu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e0(e,r)}}function jw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function xd(e,t,r,n){var i=e.updateQueue;wi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(h=t,m=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=He({},f,h);break e;case 2:wi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function Sw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(q(191,i));i.call(n)}}}var jc={},wn=Hi(jc),Gl=Hi(jc),Yl=Hi(jc);function vs(e){if(e===jc)throw Error(q(174));return e}function g0(e,t){switch(De(Yl,t),De(Gl,e),De(wn,jc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$p(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=$p(t,e)}ze(wn),De(wn,t)}function qa(){ze(wn),ze(Gl),ze(Yl)}function Y_(e){vs(Yl.current);var t=vs(wn.current),r=$p(t,e.type);t!==r&&(De(Gl,e),De(wn,r))}function y0(e){Gl.current===e&&(ze(wn),ze(Gl))}var Ve=Hi(0);function bd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var jm=[];function v0(){for(var e=0;e<jm.length;e++)jm[e]._workInProgressVersionPrimary=null;jm.length=0}var Ku=ii.ReactCurrentDispatcher,Sm=ii.ReactCurrentBatchConfig,Ls=0,qe=null,dt=null,bt=null,wd=!1,jl=!1,Xl=0,C$=0;function Ot(){throw Error(q(321))}function x0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function b0(e,t,r,n,i,s){if(Ls=s,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ku.current=e===null||e.memoizedState===null?D$:$$,e=r(n,i),jl){s=0;do{if(jl=!1,Xl=0,25<=s)throw Error(q(301));s+=1,bt=dt=null,t.updateQueue=null,Ku.current=I$,e=r(n,i)}while(jl)}if(Ku.current=jd,t=dt!==null&&dt.next!==null,Ls=0,bt=dt=qe=null,wd=!1,t)throw Error(q(300));return e}function w0(){var e=Xl!==0;return Xl=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?qe.memoizedState=bt=e:bt=bt.next=e,bt}function Ur(){if(dt===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=dt.next;var t=bt===null?qe.memoizedState:bt.next;if(t!==null)bt=t,dt=e;else{if(e===null)throw Error(q(310));dt=e,e={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},bt===null?qe.memoizedState=bt=e:bt=bt.next=e}return bt}function Jl(e,t){return typeof t=="function"?t(e):t}function Nm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=dt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,qe.lanes|=d,Bs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,cn(n,t.memoizedState)||(sr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,qe.lanes|=s,Bs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Pm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);cn(s,t.memoizedState)||(sr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function X_(){}function J_(e,t){var r=qe,n=Ur(),i=t(),s=!cn(n.memoizedState,i);if(s&&(n.memoizedState=i,sr=!0),n=n.queue,j0(ek.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||bt!==null&&bt.memoizedState.tag&1){if(r.flags|=2048,Ql(9,Z_.bind(null,r,n,i,t),void 0,null),jt===null)throw Error(q(349));Ls&30||Q_(r,t,i)}return i}function Q_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Z_(e,t,r,n){t.value=r,t.getSnapshot=n,tk(t)&&rk(e)}function ek(e,t,r){return r(function(){tk(t)&&rk(e)})}function tk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cn(e,r)}catch{return!0}}function rk(e){var t=Gn(e,1);t!==null&&ln(t,e,1,-1)}function Nw(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:e},t.queue=e,e=e.dispatch=R$.bind(null,qe,e),[t.memoizedState,e]}function Ql(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function nk(){return Ur().memoizedState}function qu(e,t,r,n){var i=hn();qe.flags|=e,i.memoizedState=Ql(1|t,r,void 0,n===void 0?null:n)}function Of(e,t,r,n){var i=Ur();n=n===void 0?null:n;var s=void 0;if(dt!==null){var a=dt.memoizedState;if(s=a.destroy,n!==null&&x0(n,a.deps)){i.memoizedState=Ql(t,r,s,n);return}}qe.flags|=e,i.memoizedState=Ql(1|t,r,s,n)}function Pw(e,t){return qu(8390656,8,e,t)}function j0(e,t){return Of(2048,8,e,t)}function ik(e,t){return Of(4,2,e,t)}function sk(e,t){return Of(4,4,e,t)}function ak(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ok(e,t,r){return r=r!=null?r.concat([e]):null,Of(4,4,ak.bind(null,t,e),r)}function S0(){}function lk(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ck(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&x0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function uk(e,t,r){return Ls&21?(cn(r,t)||(r=p_(),qe.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=r)}function T$(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Sm.transition;Sm.transition={};try{e(!1),t()}finally{Ae=r,Sm.transition=n}}function dk(){return Ur().memoizedState}function M$(e,t,r){var n=Di(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fk(e))hk(t,r);else if(r=H_(e,t,r,n),r!==null){var i=Ht();ln(r,e,n,i),mk(r,t,n)}}function R$(e,t,r){var n=Di(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fk(e))hk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,cn(l,a)){var c=t.interleaved;c===null?(i.next=i,m0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=H_(e,t,i,n),r!==null&&(i=Ht(),ln(r,e,n,i),mk(r,t,n))}}function fk(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function hk(e,t){jl=wd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function mk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,e0(e,r)}}var jd={readContext:zr,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useInsertionEffect:Ot,useLayoutEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useMutableSource:Ot,useSyncExternalStore:Ot,useId:Ot,unstable_isNewReconciler:!1},D$={readContext:zr,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:Pw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qu(4194308,4,ak.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return qu(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=M$.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:Nw,useDebugValue:S0,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=Nw(!1),t=e[0];return e=T$.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,i=hn();if(Ue){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),jt===null)throw Error(q(349));Ls&30||Q_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Pw(ek.bind(null,n,s,e),[e]),n.flags|=2048,Ql(9,Z_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=hn(),t=jt.identifierPrefix;if(Ue){var r=Bn,n=Ln;r=(n&~(1<<32-on(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=C$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$$={readContext:zr,useCallback:lk,useContext:zr,useEffect:j0,useImperativeHandle:ok,useInsertionEffect:ik,useLayoutEffect:sk,useMemo:ck,useReducer:Nm,useRef:nk,useState:function(){return Nm(Jl)},useDebugValue:S0,useDeferredValue:function(e){var t=Ur();return uk(t,dt.memoizedState,e)},useTransition:function(){var e=Nm(Jl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:X_,useSyncExternalStore:J_,useId:dk,unstable_isNewReconciler:!1},I$={readContext:zr,useCallback:lk,useContext:zr,useEffect:j0,useImperativeHandle:ok,useInsertionEffect:ik,useLayoutEffect:sk,useMemo:ck,useReducer:Pm,useRef:nk,useState:function(){return Pm(Jl)},useDebugValue:S0,useDeferredValue:function(e){var t=Ur();return dt===null?t.memoizedState=e:uk(t,dt.memoizedState,e)},useTransition:function(){var e=Pm(Jl)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:X_,useSyncExternalStore:J_,useId:dk,unstable_isNewReconciler:!1};function Zr(e,t){if(e&&e.defaultProps){t=He({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ng(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:He({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={isMounted:function(e){return(e=e._reactInternals)?Hs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=Di(e),s=Un(n,i);s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,i),t!==null&&(ln(t,e,i,n),Vu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=Di(e),s=Un(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,i),t!==null&&(ln(t,e,i,n),Vu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),n=Di(e),i=Un(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mi(e,i,n),t!==null&&(ln(t,e,n,r),Vu(t,e,n))}};function _w(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Vl(r,n)||!Vl(i,s):!0}function pk(e,t,r){var n=!1,i=zi,s=t.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=cr(t)?$s:Lt.current,n=t.contextTypes,s=(n=n!=null)?Wa(e,i):zi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function kw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function ig(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},p0(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=cr(t)?$s:Lt.current,i.context=Wa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ng(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cf.enqueueReplaceState(i,i.state,null),xd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ha(e,t){try{var r="",n=t;do r+=dD(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function _m(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var L$=typeof WeakMap=="function"?WeakMap:Map;function gk(e,t,r){r=Un(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Nd||(Nd=!0,pg=n),sg(e,t)},r}function yk(e,t,r){r=Un(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){sg(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){sg(e,t),typeof n!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Aw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new L$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Q$.bind(null,e,t,r),t.then(e,e))}function Ew(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ow(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Un(-1,1),t.tag=2,Mi(r,t,1))),r.lanes|=1),e)}var B$=ii.ReactCurrentOwner,sr=!1;function Wt(e,t,r,n){t.child=e===null?q_(t,null,r,n):Ka(t,e.child,r,n)}function Cw(e,t,r,n,i){r=r.render;var s=t.ref;return $a(t,i),n=b0(e,t,r,n,s,i),r=w0(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Ue&&r&&l0(t),t.flags|=1,Wt(e,t,n,i),t.child)}function Tw(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!C0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,vk(e,t,s,n,i)):(e=Xu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(a,n)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=$i(s,n),e.ref=t.ref,e.return=t,t.child=e}function vk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Vl(s,n)&&e.ref===t.ref)if(sr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return ag(e,t,r,n,i)}function xk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(wa,pr),pr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(wa,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,De(wa,pr),pr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,De(wa,pr),pr|=n;return Wt(e,t,i,r),t.child}function bk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ag(e,t,r,n,i){var s=cr(r)?$s:Lt.current;return s=Wa(t,s),$a(t,i),r=b0(e,t,r,n,s,i),n=w0(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Ue&&n&&l0(t),t.flags|=1,Wt(e,t,r,i),t.child)}function Mw(e,t,r,n,i){if(cr(r)){var s=!0;md(t)}else s=!1;if($a(t,i),t.stateNode===null)Hu(e,t),pk(t,r,n),ig(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=cr(r)?$s:Lt.current,u=Wa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&kw(t,a,n,u),wi=!1;var h=t.memoizedState;a.state=h,xd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||lr.current||wi?(typeof d=="function"&&(ng(t,r,d,n),c=t.memoizedState),(l=wi||_w(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,G_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=cr(r)?$s:Lt.current,c=Wa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&kw(t,a,n,c),wi=!1,h=t.memoizedState,a.state=h,xd(t,n,a,i);var p=t.memoizedState;l!==f||h!==p||lr.current||wi?(typeof m=="function"&&(ng(t,r,m,n),p=t.memoizedState),(u=wi||_w(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return og(e,t,r,n,s,i)}function og(e,t,r,n,i,s){bk(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&vw(t,r,!1),Yn(e,t,s);n=t.stateNode,B$.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ka(t,e.child,null,s),t.child=Ka(t,null,l,s)):Wt(e,t,l,s),t.memoizedState=n.state,i&&vw(t,r,!0),t.child}function wk(e){var t=e.stateNode;t.pendingContext?yw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yw(e,t.context,!1),g0(e,t.containerInfo)}function Rw(e,t,r,n,i){return Va(),u0(i),t.flags|=256,Wt(e,t,r,n),t.child}var lg={dehydrated:null,treeContext:null,retryLane:0};function cg(e){return{baseLanes:e,cachePool:null,transitions:null}}function jk(e,t,r){var n=t.pendingProps,i=Ve.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Ve,i&1),e===null)return tg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Rf(a,n,0,null),e=ks(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cg(r),t.memoizedState=lg,e):N0(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return F$(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=$i(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=$i(l,s):(s=ks(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?cg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=lg,n}return s=e.child,e=s.sibling,n=$i(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function N0(e,t){return t=Rf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function du(e,t,r,n){return n!==null&&u0(n),Ka(t,e.child,null,r),e=N0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function F$(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=_m(Error(q(422))),du(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Rf({mode:"visible",children:n.children},i,0,null),s=ks(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ka(t,e.child,null,a),t.child.memoizedState=cg(a),t.memoizedState=lg,s);if(!(t.mode&1))return du(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(q(419)),n=_m(s,n,void 0),du(e,t,a,n)}if(l=(a&e.childLanes)!==0,sr||l){if(n=jt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),ln(n,e,i,-1))}return O0(),n=_m(Error(q(421))),du(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Z$.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yr=Ti(i.nextSibling),vr=t,Ue=!0,rn=null,e!==null&&(Rr[Dr++]=Ln,Rr[Dr++]=Bn,Rr[Dr++]=Is,Ln=e.id,Bn=e.overflow,Is=t),t=N0(t,n.children),t.flags|=4096,t)}function Dw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rg(e.return,t,r)}function km(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Sk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Wt(e,t,n.children,r),n=Ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Dw(e,r,t);else if(e.tag===19)Dw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(De(Ve,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&bd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),km(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&bd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}km(t,!0,r,null,s);break;case"together":km(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=$i(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$i(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function z$(e,t,r){switch(t.tag){case 3:wk(t),Va();break;case 5:Y_(t);break;case 1:cr(t.type)&&md(t);break;case 4:g0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;De(yd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(De(Ve,Ve.current&1),t.flags|=128,null):r&t.child.childLanes?jk(e,t,r):(De(Ve,Ve.current&1),e=Yn(e,t,r),e!==null?e.sibling:null);De(Ve,Ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Sk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ve,Ve.current),n)break;return null;case 22:case 23:return t.lanes=0,xk(e,t,r)}return Yn(e,t,r)}var Nk,ug,Pk,_k;Nk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ug=function(){};Pk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vs(wn.current);var s=null;switch(r){case"input":i=Tp(e,i),n=Tp(e,n),s=[];break;case"select":i=He({},i,{value:void 0}),n=He({},n,{value:void 0}),s=[];break;case"textarea":i=Dp(e,i),n=Dp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=fd)}Ip(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Il.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Il.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};_k=function(e,t,r,n){r!==n&&(t.flags|=4)};function Go(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function U$(e,t,r){var n=t.pendingProps;switch(c0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return cr(t.type)&&hd(),Ct(t),null;case 3:return n=t.stateNode,qa(),ze(lr),ze(Lt),v0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(vg(rn),rn=null))),ug(e,t),Ct(t),null;case 5:y0(t);var i=vs(Yl.current);if(r=t.type,e!==null&&t.stateNode!=null)Pk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return Ct(t),null}if(e=vs(wn.current),cu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[mn]=t,n[Hl]=s,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<dl.length;i++)Be(dl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Vb(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":qb(n,s),Be("invalid",n)}Ip(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&lu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&lu(n.textContent,l,e),i=["children",""+l]):Il.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",n)}switch(r){case"input":eu(n),Kb(n,s,!0);break;case"textarea":eu(n),Hb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=fd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=e_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[mn]=t,e[Hl]=n,Nk(e,t,!1,!1),t.stateNode=e;e:{switch(a=Lp(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<dl.length;i++)Be(dl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":Vb(e,n),i=Tp(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=He({},n,{value:void 0}),Be("invalid",e);break;case"textarea":qb(e,n),i=Dp(e,n),Be("invalid",e);break;default:i=n}Ip(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?n_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ll(e,c):typeof c=="number"&&Ll(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Il.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&Gy(e,s,c,a))}switch(r){case"input":eu(e),Kb(e,n,!1);break;case"textarea":eu(e),Hb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Fi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ta(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ta(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=fd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)_k(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=vs(Yl.current),vs(wn.current),cu(t)){if(n=t.stateNode,r=t.memoizedProps,n[mn]=t,(s=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:lu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&lu(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mn]=t,t.stateNode=n}return Ct(t),null;case 13:if(ze(Ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&yr!==null&&t.mode&1&&!(t.flags&128))V_(),Va(),t.flags|=98560,s=!1;else if(s=cu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[mn]=t}else Va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else rn!==null&&(vg(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?ft===0&&(ft=3):O0())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return qa(),ug(e,t),e===null&&Kl(t.stateNode.containerInfo),Ct(t),null;case 10:return h0(t.type._context),Ct(t),null;case 17:return cr(t.type)&&hd(),Ct(t),null;case 19:if(ze(Ve),s=t.memoizedState,s===null)return Ct(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Go(s,!1);else{if(ft!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=bd(e),a!==null){for(t.flags|=128,Go(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(Ve,Ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Ga&&(t.flags|=128,n=!0,Go(s,!1),t.lanes=4194304)}else{if(!n)if(e=bd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Go(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ue)return Ct(t),null}else 2*nt()-s.renderingStartTime>Ga&&r!==1073741824&&(t.flags|=128,n=!0,Go(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,r=Ve.current,De(Ve,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return E0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function W$(e,t){switch(c0(t),t.tag){case 1:return cr(t.type)&&hd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(),ze(lr),ze(Lt),v0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return y0(t),null;case 13:if(ze(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ve),null;case 4:return qa(),null;case 10:return h0(t.type._context),null;case 22:case 23:return E0(),null;case 24:return null;default:return null}}var fu=!1,Rt=!1,V$=typeof WeakSet=="function"?WeakSet:Set,ne=null;function ba(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function dg(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var $w=!1;function K$(e,t){if(Gp=cd,e=C_(),o0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yp={focusedElem:e,selectionRange:r},cd=!1,ne=t;ne!==null;)if(t=ne,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ne=e;else for(;ne!==null;){t=ne;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,w=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Zr(t.type,y),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,ne=e;break}ne=t.return}return p=$w,$w=!1,p}function Sl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&dg(t,r,s)}i=i.next}while(i!==n)}}function Tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kk(e){var t=e.alternate;t!==null&&(e.alternate=null,kk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Hl],delete t[Qp],delete t[k$],delete t[A$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ak(e){return e.tag===5||e.tag===3||e.tag===4}function Iw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ak(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=fd));else if(n!==4&&(e=e.child,e!==null))for(hg(e,t,r),e=e.sibling;e!==null;)hg(e,t,r),e=e.sibling}function mg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mg(e,t,r),e=e.sibling;e!==null;)mg(e,t,r),e=e.sibling}var _t=null,en=!1;function hi(e,t,r){for(r=r.child;r!==null;)Ek(e,t,r),r=r.sibling}function Ek(e,t,r){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Nf,r)}catch{}switch(r.tag){case 5:Rt||ba(r,t);case 6:var n=_t,i=en;_t=null,hi(e,t,r),_t=n,en=i,_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?bm(e.parentNode,r):e.nodeType===1&&bm(e,r),Ul(e)):bm(_t,r.stateNode));break;case 4:n=_t,i=en,_t=r.stateNode.containerInfo,en=!0,hi(e,t,r),_t=n,en=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&dg(r,t,a),i=i.next}while(i!==n)}hi(e,t,r);break;case 1:if(!Rt&&(ba(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}hi(e,t,r);break;case 21:hi(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,hi(e,t,r),Rt=n):hi(e,t,r);break;default:hi(e,t,r)}}function Lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new V$),t.forEach(function(n){var i=e6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,en=!1;break e;case 3:_t=l.stateNode.containerInfo,en=!0;break e;case 4:_t=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(_t===null)throw Error(q(160));Ek(s,a,i),_t=null,en=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ok(t,e),t=t.sibling}function Ok(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),fn(e),n&4){try{Sl(3,e,e.return),Tf(3,e)}catch(y){Qe(e,e.return,y)}try{Sl(5,e,e.return)}catch(y){Qe(e,e.return,y)}}break;case 1:Xr(t,e),fn(e),n&512&&r!==null&&ba(r,r.return);break;case 5:if(Xr(t,e),fn(e),n&512&&r!==null&&ba(r,r.return),e.flags&32){var i=e.stateNode;try{Ll(i,"")}catch(y){Qe(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&QP(i,s),Lp(l,a);var u=Lp(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?n_(i,f):d==="dangerouslySetInnerHTML"?t_(i,f):d==="children"?Ll(i,f):Gy(i,d,f,u)}switch(l){case"input":Mp(i,s);break;case"textarea":ZP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ta(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ta(i,!!s.multiple,s.defaultValue,!0):Ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hl]=s}catch(y){Qe(e,e.return,y)}}break;case 6:if(Xr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Qe(e,e.return,y)}}break;case 3:if(Xr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ul(t.containerInfo)}catch(y){Qe(e,e.return,y)}break;case 4:Xr(t,e),fn(e);break;case 13:Xr(t,e),fn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k0=nt())),n&4&&Lw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(u=Rt)||d,Xr(t,e),Rt=u):Xr(t,e),fn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ne=e,d=e.child;d!==null;){for(f=ne=d;ne!==null;){switch(h=ne,m=h.child,h.tag){case 0:case 11:case 14:case 15:Sl(4,h,h.return);break;case 1:ba(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Qe(n,r,y)}}break;case 5:ba(h,h.return);break;case 22:if(h.memoizedState!==null){Fw(f);continue}}m!==null?(m.return=h,ne=m):Fw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=r_("display",a))}catch(y){Qe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Qe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,e),fn(e),n&4&&Lw(e);break;case 21:break;default:Xr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Ak(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ll(i,""),n.flags&=-33);var s=Iw(e);mg(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Iw(e);hg(e,l,a);break;default:throw Error(q(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function q$(e,t,r){ne=e,Ck(e)}function Ck(e,t,r){for(var n=(e.mode&1)!==0;ne!==null;){var i=ne,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||fu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Rt;l=fu;var u=Rt;if(fu=a,(Rt=c)&&!u)for(ne=i;ne!==null;)a=ne,c=a.child,a.tag===22&&a.memoizedState!==null?zw(i):c!==null?(c.return=a,ne=c):zw(i);for(;s!==null;)ne=s,Ck(s),s=s.sibling;ne=i,fu=l,Rt=u}Bw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ne=s):Bw(e)}}function Bw(e){for(;ne!==null;){var t=ne;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Tf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Zr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Sw(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Sw(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Ul(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Rt||t.flags&512&&fg(t)}catch(h){Qe(t,t.return,h)}}if(t===e){ne=null;break}if(r=t.sibling,r!==null){r.return=t.return,ne=r;break}ne=t.return}}function Fw(e){for(;ne!==null;){var t=ne;if(t===e){ne=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ne=r;break}ne=t.return}}function zw(e){for(;ne!==null;){var t=ne;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tf(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Qe(t,i,c)}}var s=t.return;try{fg(t)}catch(c){Qe(t,s,c)}break;case 5:var a=t.return;try{fg(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){ne=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ne=l;break}ne=t.return}}var H$=Math.ceil,Sd=ii.ReactCurrentDispatcher,P0=ii.ReactCurrentOwner,Br=ii.ReactCurrentBatchConfig,we=0,jt=null,ot=null,At=0,pr=0,wa=Hi(0),ft=0,Zl=null,Bs=0,Mf=0,_0=0,Nl=null,rr=null,k0=0,Ga=1/0,Mn=null,Nd=!1,pg=null,Ri=null,hu=!1,Ai=null,Pd=0,Pl=0,gg=null,Gu=-1,Yu=0;function Ht(){return we&6?nt():Gu!==-1?Gu:Gu=nt()}function Di(e){return e.mode&1?we&2&&At!==0?At&-At:O$.transition!==null?(Yu===0&&(Yu=p_()),Yu):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:j_(e.type)),e):1}function ln(e,t,r,n){if(50<Pl)throw Pl=0,gg=null,Error(q(185));xc(e,r,n),(!(we&2)||e!==jt)&&(e===jt&&(!(we&2)&&(Mf|=r),ft===4&&Ni(e,At)),ur(e,n),r===1&&we===0&&!(t.mode&1)&&(Ga=nt()+500,Ef&&Gi()))}function ur(e,t){var r=e.callbackNode;OD(e,t);var n=ld(e,e===jt?At:0);if(n===0)r!==null&&Xb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Xb(r),t===1)e.tag===0?E$(Uw.bind(null,e)):z_(Uw.bind(null,e)),P$(function(){!(we&6)&&Gi()}),r=null;else{switch(g_(n)){case 1:r=Zy;break;case 4:r=h_;break;case 16:r=od;break;case 536870912:r=m_;break;default:r=od}r=Bk(r,Tk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Tk(e,t){if(Gu=-1,Yu=0,we&6)throw Error(q(327));var r=e.callbackNode;if(Ia()&&e.callbackNode!==r)return null;var n=ld(e,e===jt?At:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=_d(e,n);else{t=n;var i=we;we|=2;var s=Rk();(jt!==e||At!==t)&&(Mn=null,Ga=nt()+500,_s(e,t));do try{X$();break}catch(l){Mk(e,l)}while(!0);f0(),Sd.current=s,we=i,ot!==null?t=0:(jt=null,At=0,t=ft)}if(t!==0){if(t===2&&(i=Wp(e),i!==0&&(n=i,t=yg(e,i))),t===1)throw r=Zl,_s(e,0),Ni(e,n),ur(e,nt()),r;if(t===6)Ni(e,n);else{if(i=e.current.alternate,!(n&30)&&!G$(i)&&(t=_d(e,n),t===2&&(s=Wp(e),s!==0&&(n=s,t=yg(e,s))),t===1))throw r=Zl,_s(e,0),Ni(e,n),ur(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:cs(e,rr,Mn);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=k0+500-nt(),10<t)){if(ld(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Jp(cs.bind(null,e,rr,Mn),t);break}cs(e,rr,Mn);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-on(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*H$(n/1960))-n,10<n){e.timeoutHandle=Jp(cs.bind(null,e,rr,Mn),n);break}cs(e,rr,Mn);break;case 5:cs(e,rr,Mn);break;default:throw Error(q(329))}}}return ur(e,nt()),e.callbackNode===r?Tk.bind(null,e):null}function yg(e,t){var r=Nl;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=_d(e,t),e!==2&&(t=rr,rr=r,t!==null&&vg(t)),e}function vg(e){rr===null?rr=e:rr.push.apply(rr,e)}function G$(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~_0,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-on(t),n=1<<r;e[r]=-1,t&=~n}}function Uw(e){if(we&6)throw Error(q(327));Ia();var t=ld(e,0);if(!(t&1))return ur(e,nt()),null;var r=_d(e,t);if(e.tag!==0&&r===2){var n=Wp(e);n!==0&&(t=n,r=yg(e,n))}if(r===1)throw r=Zl,_s(e,0),Ni(e,t),ur(e,nt()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,rr,Mn),ur(e,nt()),null}function A0(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Ga=nt()+500,Ef&&Gi())}}function Fs(e){Ai!==null&&Ai.tag===0&&!(we&6)&&Ia();var t=we;we|=1;var r=Br.transition,n=Ae;try{if(Br.transition=null,Ae=1,e)return e()}finally{Ae=n,Br.transition=r,we=t,!(we&6)&&Gi()}}function E0(){pr=wa.current,ze(wa)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,N$(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(c0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hd();break;case 3:qa(),ze(lr),ze(Lt),v0();break;case 5:y0(n);break;case 4:qa();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:h0(n.type._context);break;case 22:case 23:E0()}r=r.return}if(jt=e,ot=e=$i(e.current,null),At=pr=t,ft=0,Zl=null,_0=Mf=Bs=0,rr=Nl=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ys=null}return e}function Mk(e,t){do{var r=ot;try{if(f0(),Ku.current=jd,wd){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wd=!1}if(Ls=0,bt=dt=qe=null,jl=!1,Xl=0,P0.current=null,r===null||r.return===null){ft=1,Zl=t,ot=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Ew(a);if(m!==null){m.flags&=-257,Ow(m,a,l,s,t),m.mode&1&&Aw(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){Aw(s,u,t),O0();break e}c=Error(q(426))}}else if(Ue&&l.mode&1){var w=Ew(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Ow(w,a,l,s,t),u0(Ha(c,l));break e}}s=c=Ha(c,l),ft!==4&&(ft=2),Nl===null?Nl=[s]:Nl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=gk(s,c,t);jw(s,g);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Ri===null||!Ri.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=yk(s,l,t);jw(s,j);break e}}s=s.return}while(s!==null)}$k(r)}catch(S){t=S,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Rk(){var e=Sd.current;return Sd.current=jd,e===null?jd:e}function O0(){(ft===0||ft===3||ft===2)&&(ft=4),jt===null||!(Bs&268435455)&&!(Mf&268435455)||Ni(jt,At)}function _d(e,t){var r=we;we|=2;var n=Rk();(jt!==e||At!==t)&&(Mn=null,_s(e,t));do try{Y$();break}catch(i){Mk(e,i)}while(!0);if(f0(),we=r,Sd.current=n,ot!==null)throw Error(q(261));return jt=null,At=0,ft}function Y$(){for(;ot!==null;)Dk(ot)}function X$(){for(;ot!==null&&!wD();)Dk(ot)}function Dk(e){var t=Lk(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?$k(e):ot=t,P0.current=null}function $k(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=W$(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ft=6,ot=null;return}}else if(r=U$(r,t,pr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ft===0&&(ft=5)}function cs(e,t,r){var n=Ae,i=Br.transition;try{Br.transition=null,Ae=1,J$(e,t,r,n)}finally{Br.transition=i,Ae=n}return null}function J$(e,t,r,n){do Ia();while(Ai!==null);if(we&6)throw Error(q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(CD(e,s),e===jt&&(ot=jt=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||hu||(hu=!0,Bk(od,function(){return Ia(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var a=Ae;Ae=1;var l=we;we|=4,P0.current=null,K$(e,r),Ok(r,e),y$(Yp),cd=!!Gp,Yp=Gp=null,e.current=r,q$(r),jD(),we=l,Ae=a,Br.transition=s}else e.current=r;if(hu&&(hu=!1,Ai=e,Pd=i),s=e.pendingLanes,s===0&&(Ri=null),PD(r.stateNode),ur(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Nd)throw Nd=!1,e=pg,pg=null,e;return Pd&1&&e.tag!==0&&Ia(),s=e.pendingLanes,s&1?e===gg?Pl++:(Pl=0,gg=e):Pl=0,Gi(),null}function Ia(){if(Ai!==null){var e=g_(Pd),t=Br.transition,r=Ae;try{if(Br.transition=null,Ae=16>e?16:e,Ai===null)var n=!1;else{if(e=Ai,Ai=null,Pd=0,we&6)throw Error(q(331));var i=we;for(we|=4,ne=e.current;ne!==null;){var s=ne,a=s.child;if(ne.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ne=u;ne!==null;){var d=ne;switch(d.tag){case 0:case 11:case 15:Sl(8,d,s)}var f=d.child;if(f!==null)f.return=d,ne=f;else for(;ne!==null;){d=ne;var h=d.sibling,m=d.return;if(kk(d),d===u){ne=null;break}if(h!==null){h.return=m,ne=h;break}ne=m}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ne=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ne=a;else e:for(;ne!==null;){if(s=ne,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ne=g;break e}ne=s.return}}var v=e.current;for(ne=v;ne!==null;){a=ne;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,ne=b;else e:for(a=v;ne!==null;){if(l=ne,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tf(9,l)}}catch(S){Qe(l,l.return,S)}if(l===a){ne=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,ne=j;break e}ne=l.return}}if(we=i,Gi(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Nf,e)}catch{}n=!0}return n}finally{Ae=r,Br.transition=t}}return!1}function Ww(e,t,r){t=Ha(r,t),t=gk(e,t,1),e=Mi(e,t,1),t=Ht(),e!==null&&(xc(e,1,t),ur(e,t))}function Qe(e,t,r){if(e.tag===3)Ww(e,e,r);else for(;t!==null;){if(t.tag===3){Ww(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ri===null||!Ri.has(n))){e=Ha(r,e),e=yk(t,e,1),t=Mi(t,e,1),e=Ht(),t!==null&&(xc(t,1,e),ur(t,e));break}}t=t.return}}function Q$(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,jt===e&&(At&r)===r&&(ft===4||ft===3&&(At&130023424)===At&&500>nt()-k0?_s(e,0):_0|=r),ur(e,t)}function Ik(e,t){t===0&&(e.mode&1?(t=nu,nu<<=1,!(nu&130023424)&&(nu=4194304)):t=1);var r=Ht();e=Gn(e,t),e!==null&&(xc(e,t,r),ur(e,r))}function Z$(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ik(e,r)}function e6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),Ik(e,r)}var Lk;Lk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sr=!1,z$(e,t,r);sr=!!(e.flags&131072)}else sr=!1,Ue&&t.flags&1048576&&U_(t,gd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hu(e,t),e=t.pendingProps;var i=Wa(t,Lt.current);$a(t,r),i=b0(null,t,n,e,i,r);var s=w0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(n)?(s=!0,md(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p0(t),i.updater=Cf,t.stateNode=i,i._reactInternals=t,ig(t,n,e,r),t=og(null,t,n,!0,s,r)):(t.tag=0,Ue&&s&&l0(t),Wt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=r6(n),e=Zr(n,e),i){case 0:t=ag(null,t,n,e,r);break e;case 1:t=Mw(null,t,n,e,r);break e;case 11:t=Cw(null,t,n,e,r);break e;case 14:t=Tw(null,t,n,Zr(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),ag(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Mw(e,t,n,i,r);case 3:e:{if(wk(t),e===null)throw Error(q(387));n=t.pendingProps,s=t.memoizedState,i=s.element,G_(e,t),xd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ha(Error(q(423)),t),t=Rw(e,t,n,r,i);break e}else if(n!==i){i=Ha(Error(q(424)),t),t=Rw(e,t,n,r,i);break e}else for(yr=Ti(t.stateNode.containerInfo.firstChild),vr=t,Ue=!0,rn=null,r=q_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Va(),n===i){t=Yn(e,t,r);break e}Wt(e,t,n,r)}t=t.child}return t;case 5:return Y_(t),e===null&&tg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Xp(n,i)?a=null:s!==null&&Xp(n,s)&&(t.flags|=32),bk(e,t),Wt(e,t,a,r),t.child;case 6:return e===null&&tg(t),null;case 13:return jk(e,t,r);case 4:return g0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ka(t,null,n,r):Wt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Cw(e,t,n,i,r);case 7:return Wt(e,t,t.pendingProps,r),t.child;case 8:return Wt(e,t,t.pendingProps.children,r),t.child;case 12:return Wt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,De(yd,n._currentValue),n._currentValue=a,s!==null)if(cn(s.value,a)){if(s.children===i.children&&!lr.current){t=Yn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Un(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),rg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(q(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),rg(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Wt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$a(t,r),i=zr(i),n=n(i),t.flags|=1,Wt(e,t,n,r),t.child;case 14:return n=t.type,i=Zr(n,t.pendingProps),i=Zr(n.type,i),Tw(e,t,n,i,r);case 15:return vk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Hu(e,t),t.tag=1,cr(n)?(e=!0,md(t)):e=!1,$a(t,r),pk(t,n,i),ig(t,n,i,r),og(null,t,n,!0,e,r);case 19:return Sk(e,t,r);case 22:return xk(e,t,r)}throw Error(q(156,t.tag))};function Bk(e,t){return f_(e,t)}function t6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new t6(e,t,r,n)}function C0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function r6(e){if(typeof e=="function")return C0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Xy)return 11;if(e===Jy)return 14}return 2}function $i(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Xu(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")C0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return ks(r.children,i,s,t);case Yy:a=8,i|=8;break;case Ap:return e=Ir(12,r,t,i|2),e.elementType=Ap,e.lanes=s,e;case Ep:return e=Ir(13,r,t,i),e.elementType=Ep,e.lanes=s,e;case Op:return e=Ir(19,r,t,i),e.elementType=Op,e.lanes=s,e;case YP:return Rf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case HP:a=10;break e;case GP:a=9;break e;case Xy:a=11;break e;case Jy:a=14;break e;case bi:a=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Ir(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ks(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function Rf(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=YP,e.lanes=r,e.stateNode={isHidden:!1},e}function Am(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function Em(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function n6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T0(e,t,r,n,i,s,a,l,c){return e=new n6(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ir(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(s),e}function i6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Fk(e){if(!e)return zi;e=e._reactInternals;e:{if(Hs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(cr(r))return F_(e,r,t)}return t}function zk(e,t,r,n,i,s,a,l,c){return e=T0(r,n,!0,e,i,s,a,l,c),e.context=Fk(null),r=e.current,n=Ht(),i=Di(r),s=Un(n,i),s.callback=t??null,Mi(r,s,i),e.current.lanes=i,xc(e,i,n),ur(e,n),e}function Df(e,t,r,n){var i=t.current,s=Ht(),a=Di(i);return r=Fk(r),t.context===null?t.context=r:t.pendingContext=r,t=Un(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mi(i,t,a),e!==null&&(ln(e,i,a,s),Vu(e,i,a)),a}function kd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function M0(e,t){Vw(e,t),(e=e.alternate)&&Vw(e,t)}function s6(){return null}var Uk=typeof reportError=="function"?reportError:function(e){console.error(e)};function R0(e){this._internalRoot=e}$f.prototype.render=R0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Df(e,t,null,null)};$f.prototype.unmount=R0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Df(null,e,null,null)}),t[Hn]=null}};function $f(e){this._internalRoot=e}$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=x_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Si.length&&t!==0&&t<Si[r].priority;r++);Si.splice(r,0,e),r===0&&w_(e)}};function D0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Kw(){}function a6(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=kd(a);s.call(u)}}var a=zk(t,n,e,0,null,!1,!1,"",Kw);return e._reactRootContainer=a,e[Hn]=a.current,Kl(e.nodeType===8?e.parentNode:e),Fs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=kd(c);l.call(u)}}var c=T0(e,0,!1,null,null,!1,!1,"",Kw);return e._reactRootContainer=c,e[Hn]=c.current,Kl(e.nodeType===8?e.parentNode:e),Fs(function(){Df(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=kd(a);l.call(c)}}Df(t,a,e,i)}else a=a6(r,t,e,i,n);return kd(a)}y_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ul(t.pendingLanes);r!==0&&(e0(t,r|1),ur(t,nt()),!(we&6)&&(Ga=nt()+500,Gi()))}break;case 13:Fs(function(){var n=Gn(e,1);if(n!==null){var i=Ht();ln(n,e,1,i)}}),M0(e,1)}};t0=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Ht();ln(t,e,134217728,r)}M0(e,134217728)}};v_=function(e){if(e.tag===13){var t=Di(e),r=Gn(e,t);if(r!==null){var n=Ht();ln(r,e,t,n)}M0(e,t)}};x_=function(){return Ae};b_=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Fp=function(e,t,r){switch(t){case"input":if(Mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Af(n);if(!i)throw Error(q(90));JP(n),Mp(n,i)}}}break;case"textarea":ZP(e,r);break;case"select":t=r.value,t!=null&&Ta(e,!!r.multiple,t,!1)}};a_=A0;o_=Fs;var o6={usingClientEntryPoint:!1,Events:[wc,pa,Af,i_,s_,A0]},Yo={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},l6={bundleType:Yo.bundleType,version:Yo.version,rendererPackageName:Yo.rendererPackageName,rendererConfig:Yo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=u_(e),e===null?null:e.stateNode},findFiberByHostInstance:Yo.findFiberByHostInstance||s6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mu.isDisabled&&mu.supportsFiber)try{Nf=mu.inject(l6),bn=mu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=o6;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D0(t))throw Error(q(200));return i6(e,t,null,r)};Pr.createRoot=function(e,t){if(!D0(e))throw Error(q(299));var r=!1,n="",i=Uk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=T0(e,1,!1,null,null,r,!1,n,i),e[Hn]=t.current,Kl(e.nodeType===8?e.parentNode:e),new R0(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=u_(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Fs(e)};Pr.hydrate=function(e,t,r){if(!If(t))throw Error(q(200));return Lf(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!D0(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Uk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=zk(t,null,e,1,r??null,i,!1,s,a),e[Hn]=t.current,Kl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $f(t)};Pr.render=function(e,t,r){if(!If(t))throw Error(q(200));return Lf(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!If(e))throw Error(q(40));return e._reactRootContainer?(Fs(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};Pr.unstable_batchedUpdates=A0;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!If(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Lf(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function Wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wk)}catch(e){console.error(e)}}Wk(),WP.exports=Pr;var Vk=WP.exports,Kk,qw=Vk;Kk=qw.createRoot,qw.hydrateRoot;const c6="modulepreload",u6=function(e){return"/"+e},Hw={},Sc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=u6(c),c in Hw)return;Hw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":c6,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},d6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class $0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class f6 extends $0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gw extends $0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yw extends $0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var xg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(xg||(xg={}));var h6=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class m6{constructor(t,{headers:r={},customFetch:n,region:i=xg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=d6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return h6(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(y=>{throw new f6(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Gw(f);if(!f.ok)throw new Yw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Yw||i instanceof Gw?i.context:void 0}}})}}var nr={},I0={},Bf={},Nc={},Ff={},zf={},p6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ya=p6();const g6=Ya.fetch,qk=Ya.fetch.bind(Ya),Hk=Ya.Headers,y6=Ya.Request,v6=Ya.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Hk,Request:y6,Response:v6,default:qk,fetch:g6},Symbol.toStringTag,{value:"Module"})),x6=$R(vo);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let b6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=b6;var Gk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const w6=Gk(x6),j6=Gk(Uf);let S6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=w6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await s.text();try{u=JSON.parse(y),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new j6.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};zf.default=S6;var N6=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ff,"__esModule",{value:!0});const P6=N6(zf);let _6=class extends P6.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=_6;var k6=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Nc,"__esModule",{value:!0});const A6=k6(Ff);let E6=class extends A6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Nc.default=E6;var O6=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const Xo=O6(Nc);let C6=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Xo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Xo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Xo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Xo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bf.default=C6;var Wf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.version=void 0;Vf.version="0.0.0-automated";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.DEFAULT_HEADERS=void 0;const T6=Vf;Wf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${T6.version}`};var Yk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(I0,"__esModule",{value:!0});const M6=Yk(Bf),R6=Yk(Nc),D6=Wf;let $6=class Xk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},D6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new M6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Xk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new R6.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};I0.default=$6;var xo=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const Jk=xo(I0);nr.PostgrestClient=Jk.default;const Qk=xo(Bf);nr.PostgrestQueryBuilder=Qk.default;const Zk=xo(Nc);nr.PostgrestFilterBuilder=Zk.default;const e2=xo(Ff);nr.PostgrestTransformBuilder=e2.default;const t2=xo(zf);nr.PostgrestBuilder=t2.default;const r2=xo(Uf);nr.PostgrestError=r2.default;var I6=nr.default={PostgrestClient:Jk.default,PostgrestQueryBuilder:Qk.default,PostgrestFilterBuilder:Zk.default,PostgrestTransformBuilder:e2.default,PostgrestBuilder:t2.default,PostgrestError:r2.default};const{PostgrestClient:L6,PostgrestQueryBuilder:pre,PostgrestFilterBuilder:gre,PostgrestTransformBuilder:yre,PostgrestBuilder:vre,PostgrestError:xre}=I6;function B6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const F6=B6(),z6="2.11.15",U6=`realtime-js/${z6}`,W6="1.0.0",n2=1e4,V6=1e3;var _l;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_l||(_l={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var bg;(function(e){e.websocket="websocket"})(bg||(bg={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class K6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class i2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const Xw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=q6(a,e,t,i),s),{})},q6=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?s2(s,a):wg(a)},s2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return X6(t,r)}switch(e){case Me.bool:return H6(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return G6(t);case Me.json:case Me.jsonb:return Y6(t);case Me.timestamp:return J6(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return wg(t);default:return wg(t)}},wg=e=>e,H6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},G6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Y6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},X6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>s2(t,l))}return e},J6=e=>typeof e=="string"?e.replace(" ","T"):e,a2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Om{constructor(t,r,n={},i=n2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Jw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Jw||(Jw={}));class kl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=kl.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=kl.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=kl.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),y=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Qw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Qw||(Qw={}));var Zw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Zw||(Zw={}));var Rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class L0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Om(this,tn.join,this.params,this.timeout),this.rejoinTimer=new i2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new kl(this),this.broadcastEndpointURL=a2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Rn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Rn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let y=0;y<m;y++){const w=h[y],{filter:{event:g,schema:v,table:b,filter:j}}=w,S=d&&d[y];if(S&&S.event===g&&S.schema===v&&S.table===b&&S.filter===j)p.push(Object.assign(Object.assign({},w),{id:S.id}));else{this.unsubscribe(),this.state=Tt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Rn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Tt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Om(this,tn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Om(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,y,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(y=m.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var p,y,w,g,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:w,commit_timestamp:g,type:v,errors:b}=p;h=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&L0.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Xw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Xw(t.columns,t.old_record)),r}}const e1=()=>{},Q6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z6{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=n2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=e1,this.ref=0,this.logger=e1,this.conn=null,this.sendBuffer=[],this.serializer=new K6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Sc(async()=>{const{default:c}=await Promise.resolve().then(()=>vo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${bg.websocket}`,this.httpEndpoint=a2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new i2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=F6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:W6}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _l.connecting:return ps.Connecting;case _l.open:return ps.Open;case _l.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new L0(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:U6};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(tn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(V6,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Q6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class B0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function yt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class eI extends B0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class jg extends B0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var tI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const o2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},rI=()=>tI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sc(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response}),Sg=e=>{if(Array.isArray(e))return e.map(r=>Sg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Sg(n)}),t},nI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Gs=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iI=(e,t,r)=>Gs(void 0,void 0,void 0,function*(){const n=yield rI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new eI(Cm(i),s,a))}).catch(i=>{t(new jg(Cm(i),i))}):t(new jg(Cm(e),e))}),sI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(nI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Pc(e,t,r,n,i,s){return Gs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,sI(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>iI(c,l,n))})})}function Ad(e,t,r,n){return Gs(this,void 0,void 0,function*(){return Pc(e,"GET",t,r,n)})}function Dn(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return Pc(e,"POST",t,n,i,r)})}function Ng(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return Pc(e,"PUT",t,n,i,r)})}function aI(e,t,r,n){return Gs(this,void 0,void 0,function*(){return Pc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function l2(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return Pc(e,"DELETE",t,n,i,r)})}var Zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const oI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},t1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lI{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=o2(i)}uploadOrUpdate(t,r,n,i){return Zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},t1),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Ng:Dn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(yt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:t1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ng(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(yt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new B0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Dn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}download(t,r){return Zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ad(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(yt(l))return{data:null,error:l};throw l}})}info(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Sg(n),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}exists(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield aI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(yt(n)&&n instanceof jg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oI),r),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(yt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const cI="2.10.4",uI={"X-Client-Info":`storage-js/${cI}`};var ta=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dI{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},uI),r),this.fetch=o2(n)}listBuckets(){return ta(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(yt(t))return{data:null,error:t};throw t}})}getBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ta(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ta(this,void 0,void 0,function*(){try{return{data:yield Ng(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(yt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield l2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(yt(r))return{data:null,error:r};throw r}})}}class fI extends dI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new lI(this.url,this.headers,t,this.fetch)}}const hI="2.53.0";let fl="";typeof Deno<"u"?fl="deno":typeof document<"u"?fl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fl="react-native":fl="node";const mI={"X-Client-Info":`supabase-js-${fl}/${hI}`},pI={headers:mI},gI={schema:"public"},yI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vI={};var xI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const bI=e=>{let t;return e?t=e:typeof fetch>"u"?t=qk:t=fetch,(...r)=>t(...r)},wI=()=>typeof Headers>"u"?Hk:Headers,jI=(e,t,r)=>{const n=bI(r),i=wI();return(s,a)=>xI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var SI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function NI(e){return e.endsWith("/")?e:e+"/"}function PI(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>SI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const c2="2.71.1",la=30*1e3,Pg=3,Tm=Pg*la,_I="http://localhost:9999",kI="supabase.auth.token",AI={"X-Client-Info":`gotrue-js/${c2}`},_g="X-Supabase-Api-Version",u2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},EI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OI=10*60*1e3;class F0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function de(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class CI extends F0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TI(e){return de(e)&&e.name==="AuthApiError"}class d2 extends F0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Yi extends F0{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class yi extends Yi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function MI(e){return de(e)&&e.name==="AuthSessionMissingError"}class pu extends Yi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class gu extends Yi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class yu extends Yi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RI(e){return de(e)&&e.name==="AuthImplicitGrantRedirectError"}class r1 extends Yi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kg extends Yi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Mm(e){return de(e)&&e.name==="AuthRetryableFetchError"}class n1 extends Yi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ag extends Yi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),i1=` 	
\r=`.split(""),DI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<i1.length;t+=1)e[i1[t].charCodeAt(0)]=-2;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=t;return e})();function s1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}}function f2(e,t,r){const n=DI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function a1(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{LI(a,n,r)};for(let a=0;a<e.length;a+=1)f2(e.charCodeAt(a),i,s);return t.join("")}function $I(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function II(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}$I(n,t)}}function LI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function BI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)f2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function FI(e){const t=[];return II(e,r=>t.push(r)),new Uint8Array(t)}function zI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>s1(i,r,n)),s1(null,r,n),t.join("")}function UI(e){return Math.round(Date.now()/1e3)+e}function WI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},h2=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function VI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const m2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},KI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ca=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},as=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},mi=async(e,t)=>{await e.removeItem(t)};class Kf{constructor(){this.promise=new Kf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kf.promiseConstructor=Promise;function Rm(e){const t=e.split(".");if(t.length!==3)throw new Ag("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!EI.test(t[n]))throw new Ag("JWT not in base64url format");return{header:JSON.parse(a1(t[0])),payload:JSON.parse(a1(t[1])),signature:BI(t[2]),raw:{header:t[0],payload:t[1]}}}async function qI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function HI(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function GI(e){return("0"+e.toString(16)).substr(-2)}function YI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,GI).join("")}async function XI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function JI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await XI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,r=!1){const n=YI();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ca(e,`${t}-code-verifier`,i);const s=await JI(n);return[s,n===s?"plain":"s256"]}const QI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZI(e){const t=e.headers.get(_g);if(!t||!t.match(QI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function tL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function na(e){if(!rL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function o1(e){return JSON.parse(JSON.stringify(e))}var nL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),iL=[502,503,504];async function l1(e){var t;if(!KI(e))throw new kg(us(e),0);if(iL.includes(e.status))throw new kg(us(e),e.status);let r;try{r=await e.json()}catch(s){throw new d2(us(s),s)}let n;const i=ZI(e);if(i&&i.getTime()>=u2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new n1(us(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new yi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new n1(us(r),e.status,r.weak_password.reasons);throw new CI(us(r),e.status||500,n)}const sL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function pe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[_g]||(s[_g]=u2["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await aL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function aL(e,t,r,n,i,s){const a=sL(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new kg(us(c),0)}if(l.ok||await l1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await l1(c)}}function Tn(e){var t;let r=null;uL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function c1(e){const t=Tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Pi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function oL(e){return{data:e,error:null}}function lL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=nL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function cL(e){return e}function uL(e){return e.access_token&&e.refresh_token&&e.expires_in}const $m=["global","local","others"];var dL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class fL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=m2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=$m[0]){if($m.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$m.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Pi})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:lL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(de(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Pi})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:cL});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(de(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){na(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Pi})}catch(r){if(de(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){na(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Pi})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){na(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Pi})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){na(t.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(de(r))return{data:null,error:r};throw r}}async _deleteFactor(t){na(t.userId),na(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}}function u1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function hL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ia={debug:!!(globalThis&&h2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class p2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mL extends p2{}async function pL(e,t,r){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ia.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}hL();const gL={url:_I,storageKey:kI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:AI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function d1(e,t,r){return await r()}const sa={};class ec{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ec.nextInstanceID,ec.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},gL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new fL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=m2(i.fetch),this.lock=i.lock||d1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=pL:this.lock=d1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:h2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=u1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=u1(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${c2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=VI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),RI(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return de(r)?{error:r}:{error:new d2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ra(this.storage,this.storageKey)),s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Tn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new gu("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(de(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:c1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:c1})}else throw new gu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new pu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:w,wallet:g,statement:v,options:b}=t;let j;if(Jr())if(typeof g=="object")j=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const S=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),v?{statement:v}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)p=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:w,error:g}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:zI(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tn});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new pu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(de(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tn});if(await mi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new pu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(de(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new pu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ra(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new gu("You must provide either an email or phone number.")}catch(l){if(de(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Tn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(de(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ra(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:oL})}catch(s){if(de(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new yi;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(de(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new gu("You must provide either an email or phone number and a type")}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await as(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Dm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Pi}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yi}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Pi})})}catch(r){if(de(r))return MI(r)&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new yi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ra(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Pi});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(de(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new yi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Rm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(de(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new yi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(de(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new yu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new r1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new r1("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new yu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:y,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(de(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(TI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await mi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=WI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ra(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(de(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(de(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(de(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await HI(async i=>(i>0&&await qI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Mm(s)&&Date.now()+a-n<la})}catch(n){if(this._debug(r,"error",n),de(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let a=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ca(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Dm()}else if(i&&!i.user&&!i.user){const a=await as(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await mi(this.storage,this.storageKey+"-user"),await ca(this.storage,this.storageKey,i)):i.user=Dm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Tm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Mm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new yi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new yi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),de(s)){const a={session:null,error:s};return Mm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ca(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=o1(i);await ca(this.storage,this.storageKey,s)}else{const i=o1(r);await ca(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await mi(this.storage,this.storageKey),await mi(this.storage,this.storageKey+"-code-verifier"),await mi(this.storage,this.storageKey+"-user"),this.userStorage&&await mi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${la}ms, refresh threshold is ${Pg} ticks`),i<=Pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof p2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(de(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(de(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Rm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OI>i)return n;const{data:s,error:a}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Rm(n);r!=null&&r.allowExpired||eL(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=tL(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,FI(`${l}.${c}`)))throw new Ag("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(de(n))return{data:null,error:n};throw n}}}ec.nextInstanceID=0;const yL=ec;class vL extends yL{constructor(t){super(t)}}var xL=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class bL{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=NI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:gI,realtime:vI,auth:Object.assign(Object.assign({},yI),{storageKey:u}),global:pI},f=PI(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=jI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new L6(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new fI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new m6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return xL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Z6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const wL=(e,t,r)=>new bL(e,t,r);function jL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}jL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const SL="https://eymxpphofhhfeuvaqfad.supabase.co",NL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",X=wL(SL,NL),g2=x.createContext(void 0);function PL({children:e}){const[t,r]=x.useState(null),[n,i]=x.useState(!1);x.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await X.auth.getSession();if(u!=null&&u.user){const{data:d}=await X.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await X.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:p}=await X.auth.signInWithPassword({email:h.email,password:u});return p?(console.error("❌ SUPABASE AUTH ERROR:",p.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,p,y;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await X.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:g,error:v}=await X.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error("❌ SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=g.user)==null?void 0:h.id,email:(m=g.user)==null?void 0:m.email,email_confirmed:(p=g.user)==null?void 0:p.email_confirmed_at,user_metadata:(y=g.user)==null?void 0:y.user_metadata}),g.user){const{error:b}=await X.from("profiles").insert({id:g.user.id,username:c,email:u,role:f});b?console.error("❌ PROFILE CREATION ERROR:",b.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await X.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),console.log("✅ LOGOUT: User state cleared - Back to guest mode"),window.location.reload()}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),window.location.reload()}};return o.jsx(g2.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function Bt(){const e=x.useContext(g2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const y2=x.createContext(void 0);function _L({children:e}){const[t,r]=x.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(y2.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function si(){const e=x.useContext(y2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...kL,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${AL(e)}`,l].join(" "),...u},[...t.map(([f,h])=>x.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ui=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=le("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=le("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=le("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function qL({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=x.useState(""),[i,s]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(!1),[h,m]=x.useState(!1),[p,y]=x.useState(""),[w,g]=x.useState(!1),[v,b]=x.useState(!1),{signup:j}=Bt(),S=async N=>{if(N.preventDefault(),g(!0),y(""),b(!1),a!==c){y("Passwords do not match."),g(!1);return}if(a.length<6){y("Password must be at least 6 characters long."),g(!1);return}if(r.trim().length<3){y("Username must be at least 3 characters long."),g(!1);return}if(!i.trim()||!i.includes("@")){y("Please enter a valid email address."),g(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){y("Username can only contain letters, numbers, hyphens, and underscores."),g(!1);return}await j(r.trim(),i.trim(),a,"user")?b(!0):y("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),g(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-space-grotesk",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"primary-button w-full",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(z0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:N=>n(N.target.value),className:"input-field w-full",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:N=>s(N.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:N=>l(N.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?o.jsx(Od,{size:20}):o.jsx(jn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:N=>u(N.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h?o.jsx(Od,{size:20}):o.jsx(jn,{size:20})})]})]}),p&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md font-inter",children:p}),o.jsx("button",{type:"submit",disabled:w,className:"primary-button w-full disabled:opacity-50",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"secondary-button w-full",children:"Back to Login"})})]})}function j2({onLoginSuccess:e}){const[t,r]=x.useState(""),[n,i]=x.useState(""),[s,a]=x.useState(!1),[l,c]=x.useState(""),[u,d]=x.useState(!1),[f,h]=x.useState("login"),[m,p]=x.useState(!1),[y,w]=x.useState(""),[g,v]=x.useState(!1),[b,j]=x.useState(""),{login:S}=Bt(),N=async A=>{A.preventDefault(),d(!0),c(""),await S(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async A=>{A.preventDefault(),v(!0),j("");try{const{error:R}=await X.auth.resetPasswordForEmail(y,{redirectTo:`${window.location.origin}/reset-password`});if(R)throw R;j("Password reset email sent! Check your inbox for further instructions.")}catch(R){j(`Error: ${R.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(qL,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(z0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:y,onChange:A=>w(A.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),b&&o.jsx("div",{className:`text-sm font-inter text-center p-3 rounded-md ${b.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:b}),o.jsx("button",{type:"submit",disabled:g,className:"primary-button w-full disabled:opacity-50 text-center",children:g?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>p(!1),className:"secondary-button w-full text-center",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:A=>r(A.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:A=>i(A.target.value),className:"input-field w-full pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?o.jsx(Od,{size:20}):o.jsx(jn,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-inter",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"primary-button w-full disabled:opacity-50 text-center",children:u?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const HL=[{id:"dashboard",label:"Dashboard",icon:o.jsx(DL,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(lt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(Ii,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(Wn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(hl,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(St,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(St,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"match-tracker",label:"Match Tracker",icon:o.jsx(Ui,{size:20}),roles:["technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(w2,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(St,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(Wn,{size:20}),roles:["developer"]}];function GL({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=Bt(),[a,l]=xn.useState(!1),c=HL.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return x.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),x.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"}),o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Beyblade Community"})]})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Yt,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(b2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(x2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(j2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Yt,{size:16})})]})})]})]})}const K0=x.createContext({});function wo(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const q0=typeof window<"u",Yf=q0?x.useLayoutEffect:x.useEffect,Xf=x.createContext(null);function H0(e,t){e.indexOf(t)===-1&&e.push(t)}function G0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const An=(e,t,r)=>r>t?t:r<e?e:r;let Qa=()=>{};const Xn={},S2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function N2(e){return typeof e=="object"&&e!==null}const P2=e=>/^0[^.\s]+$/u.test(e);function Y0(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,YL=(e,t)=>r=>t(e(r)),Ac=(...e)=>e.reduce(YL),Za=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class X0{constructor(){this.subscriptions=[]}add(t){return H0(this.subscriptions,t),()=>G0(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=e=>e*1e3,Nn=e=>e/1e3;function J0(e,t){return t?e*(1e3/t):0}const _2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,XL=1e-7,JL=12;function QL(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=_2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>XL&&++l<JL);return a}function Ec(e,t,r,n){if(e===t&&r===n)return dr;const i=s=>QL(s,0,1,e,r);return s=>s===0||s===1?s:_2(i(s),t,n)}const k2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,A2=e=>t=>1-e(1-t),E2=Ec(.33,1.53,.69,.99),Q0=A2(E2),O2=k2(Q0),C2=e=>(e*=2)<1?.5*Q0(e):.5*(2-Math.pow(2,-10*(e-1))),Z0=e=>1-Math.sin(Math.acos(e)),T2=A2(Z0),M2=k2(Z0),ZL=Ec(.42,0,1,1),e3=Ec(0,0,.58,1),R2=Ec(.42,0,.58,1),t3=e=>Array.isArray(e)&&typeof e[0]!="number",D2=e=>Array.isArray(e)&&typeof e[0]=="number",m1={linear:dr,easeIn:ZL,easeInOut:R2,easeOut:e3,circIn:Z0,circInOut:M2,circOut:T2,backIn:Q0,backInOut:O2,backOut:E2,anticipate:C2},r3=e=>typeof e=="string",p1=e=>{if(D2(e)){Qa(e.length===4);const[t,r,n,i]=e;return Ec(t,r,n,i)}else if(r3(e))return Qa(m1[e]!==void 0),m1[e];return e},vu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],g1={value:null,addProjectionMetrics:null};function n3(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const y=m&&i?r:n;return h&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&g1.value&&g1.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const i3=40;function $2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=vu.reduce((b,j)=>(b[j]=n3(s,t?j:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,y=()=>{const b=Xn.useManualTiming?i.timestamp:performance.now();r=!1,Xn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,i3),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(y))},w=()=>{r=!0,n=!0,i.isProcessing||e(y)};return{schedule:vu.reduce((b,j)=>{const S=a[j];return b[j]=(N,P=!1,A=!1)=>(r||w(),S.schedule(N,P,A)),b},{}),cancel:b=>{for(let j=0;j<vu.length;j++)a[vu[j]].cancel(b)},state:i,steps:a}}const{schedule:ke,cancel:un,state:vt,steps:Im}=$2(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let Ju;function s3(){Ju=void 0}const ar={now:()=>(Ju===void 0&&ar.set(vt.isProcessing||Xn.useManualTiming?vt.timestamp:performance.now()),Ju),set:e=>{Ju=e,queueMicrotask(s3)}},I2=e=>t=>typeof t=="string"&&t.startsWith(e),ev=I2("--"),a3=I2("var(--"),tv=e=>a3(e)?o3.test(e.split("/*")[0].trim()):!1,o3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},tc={...jo,transform:e=>An(0,1,e)},xu={...jo,default:1},Al=e=>Math.round(e*1e5)/1e5,rv=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function l3(e){return e==null}const c3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nv=(e,t)=>r=>!!(typeof r=="string"&&c3.test(r)&&r.startsWith(e)||t&&!l3(r)&&Object.prototype.hasOwnProperty.call(r,t)),L2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(rv);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},u3=e=>An(0,255,e),Lm={...jo,transform:e=>Math.round(u3(e))},xs={test:nv("rgb","red"),parse:L2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Lm.transform(e)+", "+Lm.transform(t)+", "+Lm.transform(r)+", "+Al(tc.transform(n))+")"};function d3(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Eg={test:nv("#"),parse:d3,transform:xs.transform},Oc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),vi=Oc("deg"),Pn=Oc("%"),ue=Oc("px"),f3=Oc("vh"),h3=Oc("vw"),y1={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},ja={test:nv("hsl","hue"),parse:L2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pn.transform(Al(t))+", "+Pn.transform(Al(r))+", "+Al(tc.transform(n))+")"},at={test:e=>xs.test(e)||Eg.test(e)||ja.test(e),parse:e=>xs.test(e)?xs.parse(e):ja.test(e)?ja.parse(e):Eg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xs.transform(e):ja.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},m3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function p3(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(rv))==null?void 0:t.length)||0)+(((r=e.match(m3))==null?void 0:r.length)||0)>0}const B2="number",F2="color",g3="var",y3="var(",v1="${}",v3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function rc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(v3,c=>(at.test(c)?(n.color.push(s),i.push(F2),r.push(at.parse(c))):c.startsWith(y3)?(n.var.push(s),i.push(g3),r.push(c)):(n.number.push(s),i.push(B2),r.push(parseFloat(c))),++s,v1)).split(v1);return{values:r,split:l,indexes:n,types:i}}function z2(e){return rc(e).values}function U2(e){const{split:t,types:r}=rc(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===B2?s+=Al(i[a]):l===F2?s+=at.transform(i[a]):s+=i[a]}return s}}const x3=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function b3(e){const t=z2(e);return U2(e)(t.map(x3))}const Wi={test:p3,parse:z2,createTransformer:U2,getAnimatableNone:b3};function Bm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function w3({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Bm(c,l,e+1/3),s=Bm(c,l,e),a=Bm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Md(e,t){return r=>r>0?t:e}const Ke=(e,t,r)=>e+(t-e)*r,Fm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},j3=[Eg,xs,ja],S3=e=>j3.find(t=>t.test(e));function x1(e){const t=S3(e);if(!t)return!1;let r=t.parse(e);return t===ja&&(r=w3(r)),r}const b1=(e,t)=>{const r=x1(e),n=x1(t);if(!r||!n)return Md(e,t);const i={...r};return s=>(i.red=Fm(r.red,n.red,s),i.green=Fm(r.green,n.green,s),i.blue=Fm(r.blue,n.blue,s),i.alpha=Ke(r.alpha,n.alpha,s),xs.transform(i))},Og=new Set(["none","hidden"]);function N3(e,t){return Og.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function P3(e,t){return r=>Ke(e,t,r)}function iv(e){return typeof e=="number"?P3:typeof e=="string"?tv(e)?Md:at.test(e)?b1:A3:Array.isArray(e)?W2:typeof e=="object"?at.test(e)?b1:_3:Md}function W2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>iv(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function _3(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=iv(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function k3(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const A3=(e,t)=>{const r=Wi.createTransformer(t),n=rc(e),i=rc(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Og.has(e)&&!i.values.length||Og.has(t)&&!n.values.length?N3(e,t):Ac(W2(k3(n,i),i.values),r):Md(e,t)};function V2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ke(e,t,r):iv(e)(e,t)}const E3=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ke.update(t,r),stop:()=>un(t),now:()=>vt.isProcessing?vt.timestamp:ar.now()}},K2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Rd=2e4;function sv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Rd;)t+=r,n=e.next(t);return t>=Rd?1/0:t}function O3(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(sv(n),Rd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:Nn(i)}}const C3=5;function q2(e,t,r){const n=Math.max(t-C3,0);return J0(r-e(n),t-n)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zm=.001;function T3({duration:e=Je.duration,bounce:t=Je.bounce,velocity:r=Je.velocity,mass:n=Je.mass}){let i,s,a=1-t;a=An(Je.minDamping,Je.maxDamping,a),e=An(Je.minDuration,Je.maxDuration,Nn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=Cg(u,a),p=Math.exp(-f);return zm-h/m*p},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),y=Cg(Math.pow(u,2),a);return(-i(u)+zm>0?-1:1)*((h-m)*p)/y}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-zm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=R3(i,s,l);if(e=Sn(e),isNaN(c))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const M3=12;function R3(e,t,r){let n=r;for(let i=1;i<M3;i++)n=n-e(n)/t(n);return n}function Cg(e,t){return e*Math.sqrt(1-t*t)}const D3=["duration","bounce"],$3=["stiffness","damping","mass"];function w1(e,t){return t.some(r=>e[r]!==void 0)}function I3(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!w1(e,$3)&&w1(e,D3))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*An(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:s}}else{const r=T3(e);t={...t,...r,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Dd(e=Je.visualDuration,t=Je.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=I3({...r,velocity:-Nn(r.velocity||0)}),p=h||0,y=u/(2*Math.sqrt(c*d)),w=a-s,g=Nn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Je.restSpeed.granular:Je.restSpeed.default),i||(i=v?Je.restDelta.granular:Je.restDelta.default);let b;if(y<1){const S=Cg(g,y);b=N=>{const P=Math.exp(-y*g*N);return a-P*((p+y*g*w)/S*Math.sin(S*N)+w*Math.cos(S*N))}}else if(y===1)b=S=>a-Math.exp(-g*S)*(w+(p+g*w)*S);else{const S=g*Math.sqrt(y*y-1);b=N=>{const P=Math.exp(-y*g*N),A=Math.min(S*N,300);return a-P*((p+y*g*w)*Math.sinh(A)+S*w*Math.cosh(A))/S}}const j={calculatedDuration:m&&f||null,next:S=>{const N=b(S);if(m)l.done=S>=f;else{let P=S===0?p:0;y<1&&(P=S===0?Sn(p):q2(b,S,N));const A=Math.abs(P)<=n,R=Math.abs(a-N)<=i;l.done=A&&R}return l.value=l.done?a:N,l},toString:()=>{const S=Math.min(sv(j),Rd),N=K2(P=>j.next(S*P).value,S,30);return S+"ms "+N},toTransition:()=>{}};return j}Dd.applyToOptions=e=>{const t=O3(e,100,Dd);return e.ease=t.ease,e.duration=Sn(t.duration),e.type="keyframes",e};function Tg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=A=>l!==void 0&&A<l||c!==void 0&&A>c,p=A=>l===void 0?c:c===void 0||Math.abs(l-A)<Math.abs(c-A)?l:c;let y=r*t;const w=f+y,g=a===void 0?w:a(w);g!==w&&(y=g-f);const v=A=>-y*Math.exp(-A/n),b=A=>g+v(A),j=A=>{const R=v(A),T=b(A);h.done=Math.abs(R)<=u,h.value=h.done?g:T};let S,N;const P=A=>{m(h.value)&&(S=A,N=Dd({keyframes:[h.value,p(h.value)],velocity:q2(b,A,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:A=>{let R=!1;return!N&&S===void 0&&(R=!0,j(A),P(A)),S!==void 0&&A>=S?N.next(A-S):(!R&&j(A),h)}}}function L3(e,t,r){const n=[],i=r||Xn.mix||V2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||dr:t;l=Ac(c,l)}n.push(l)}return n}function av(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Qa(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=L3(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Za(e[f],e[f+1],d);return l[f](h)};return r?d=>u(An(e[0],e[s-1],d)):u}function B3(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Za(0,t,n);e.push(Ke(r,1,i))}}function H2(e){const t=[0];return B3(t,e.length-1),t}function F3(e,t){return e.map(r=>r*t)}function z3(e,t){return e.map(()=>t||R2).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=t3(n)?n.map(p1):p1(n),s={done:!1,value:t[0]},a=F3(r&&r.length===t.length?r:H2(t),e),l=av(a,t,{ease:Array.isArray(i)?i:z3(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const U3=e=>e!==null;function ov(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(U3),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const W3={decay:Tg,inertia:Tg,tween:El,keyframes:El,spring:Dd};function G2(e){typeof e.type=="string"&&(e.type=W3[e.type])}class lv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const V3=e=>e/100;class cv extends lv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;G2(t);const{type:r=El,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||El;c!==El&&typeof l[0]!="number"&&(this.mixKeyframes=Ac(V3,V2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=sv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:y,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=n;if(f){const A=Math.min(this.currentTime,i)/l;let R=Math.floor(A),T=A%1;!T&&A>=1&&(T=1),T===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(h==="reverse"?(T=1-T,m&&(T-=m/l)):h==="mirror"&&(j=a)),b=An(0,1,T)*l}const S=v?{done:!1,value:d[0]}:j.next(b);s&&(S.value=s(S.value));let{done:N}=S;!v&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return P&&p!==Tg&&(S.value=ov(d,this.options,w,this.speed)),y&&y(S.value),P&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Nn(this.calculatedDuration)}get time(){return Nn(this.currentTime)}set time(t){var r;t=Sn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ar.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Nn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=E3,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function K3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bs=e=>e*180/Math.PI,Mg=e=>{const t=bs(Math.atan2(e[1],e[0]));return Rg(t)},q3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Mg,rotateZ:Mg,skewX:e=>bs(Math.atan(e[1])),skewY:e=>bs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Rg=e=>(e=e%360,e<0&&(e+=360),e),j1=Mg,S1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),N1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),H3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:S1,scaleY:N1,scale:e=>(S1(e)+N1(e))/2,rotateX:e=>Rg(bs(Math.atan2(e[6],e[5]))),rotateY:e=>Rg(bs(Math.atan2(-e[2],e[0]))),rotateZ:j1,rotate:j1,skewX:e=>bs(Math.atan(e[4])),skewY:e=>bs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dg(e){return e.includes("scale")?1:0}function $g(e,t){if(!e||e==="none")return Dg(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=H3,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=q3,i=l}if(!i)return Dg(t);const s=n[t],a=i[1].split(",").map(Y3);return typeof s=="function"?s(a):a[s]}const G3=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return $g(r,t)};function Y3(e){return parseFloat(e.trim())}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],No=new Set(So),P1=e=>e===jo||e===ue,X3=new Set(["x","y","z"]),J3=So.filter(e=>!X3.has(e));function Q3(e){const t=[];return J3.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Os={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>$g(t,"x"),y:(e,{transform:t})=>$g(t,"y")};Os.translateX=Os.x;Os.translateY=Os.y;const Cs=new Set;let Ig=!1,Lg=!1,Bg=!1;function Y2(){if(Lg){const e=Array.from(Cs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Q3(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Lg=!1,Ig=!1,Cs.forEach(e=>e.complete(Bg)),Cs.clear()}function X2(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lg=!0)})}function Z3(){Bg=!0,X2(),Y2(),Bg=!1}class uv{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),Ig||(Ig=!0,ke.read(X2),ke.resolveKeyframes(Y2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}K3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const e4=e=>e.startsWith("--");function t4(e,t,r){e4(t)?e.style.setProperty(t,r):e.style[t]=r}const J2=Y0(()=>window.ScrollTimeline!==void 0),r4={};function n4(e,t){const r=Y0(e);return()=>r4[t]??r()}const Q2=n4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ml=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,_1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ml([0,.65,.55,1]),circOut:ml([.55,0,1,.45]),backIn:ml([.31,.01,.66,-.59]),backOut:ml([.33,1.53,.69,.99])};function Z2(e,t){if(e)return typeof e=="function"?Q2()?K2(e,t):"ease-out":D2(e)?ml(e):Array.isArray(e)?e.map(r=>Z2(r,t)||_1.easeOut):_1[e]}function i4(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Z2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function eA(e){return typeof e=="function"&&"applyToOptions"in e}function s4({type:e,...t}){return eA(e)&&Q2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class a4 extends lv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,Qa(typeof t.type!="string");const u=s4(t);this.animation=i4(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=ov(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):t4(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Nn(Number(t))}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Sn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&J2()?(this.animation.timeline=t,dr):r(this)}}const tA={anticipate:C2,backInOut:O2,circInOut:M2};function o4(e){return e in tA}function l4(e){typeof e.ease=="string"&&o4(e.ease)&&(e.ease=tA[e.ease])}const k1=10;class c4 extends a4{constructor(t){l4(t),G2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new cv({...a,autoplay:!1}),c=Sn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-k1).value,l.sample(c).value,k1),l.stop()}}const A1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Wi.test(e)||e==="0")&&!e.startsWith("url("));function u4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function d4(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=A1(i,t),l=A1(s,t);return!a||!l?!1:u4(e)||(r==="spring"||eA(r))&&n}function Fg(e){e.duration=0,e.type}const f4=new Set(["opacity","clipPath","filter","transform"]),h4=Y0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function m4(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return h4()&&r&&f4.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const p4=40;class g4 extends lv{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var y,w;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ar.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||uv;this.keyframeResolver=new m(l,(y,w,g)=>this.onKeyframesResolved(y,w,h,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ar.now(),d4(t,s,a,l)||((Xn.instantAnimations||!c)&&(d==null||d(ov(t,n,r))),t[0]=t[t.length-1],Fg(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>p4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&m4(h)?new c4({...h,element:h.motionValue.owner.current}):new cv(h);m.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Z3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const y4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function v4(e){const t=y4.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function rA(e,t,r=1){const[n,i]=v4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return S2(a)?parseFloat(a):a}return tv(i)?rA(i,t,r+1):i}function dv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const nA=new Set(["width","height","top","left","right","bottom",...So]),x4={test:e=>e==="auto",parse:e=>e},iA=e=>t=>t.test(e),sA=[jo,ue,Pn,vi,h3,f3,x4],E1=e=>sA.find(iA(e));function b4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||P2(e):!0}const w4=new Set(["brightness","contrast","saturate","opacity"]);function j4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(rv)||[];if(!n)return e;const i=r.replace(n,"");let s=w4.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const S4=/\b([a-z-]*)\(.*?\)/gu,zg={...Wi,getAnimatableNone:e=>{const t=e.match(S4);return t?t.map(j4).join(" "):e}},O1={...jo,transform:Math.round},N4={rotate:vi,rotateX:vi,rotateY:vi,rotateZ:vi,scale:xu,scaleX:xu,scaleY:xu,scaleZ:xu,skew:vi,skewX:vi,skewY:vi,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:tc,originX:y1,originY:y1,originZ:ue},fv={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,radius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,backgroundPositionX:ue,backgroundPositionY:ue,...N4,zIndex:O1,fillOpacity:tc,strokeOpacity:tc,numOctaves:O1},P4={...fv,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:zg,WebkitFilter:zg},aA=e=>P4[e];function oA(e,t){let r=aA(e);return r!==zg&&(r=Wi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const _4=new Set(["auto","none","0"]);function k4(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!_4.has(s)&&rc(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=oA(r,i)}class A4 extends uv{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),tv(u))){const d=rA(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!nA.has(n)||t.length!==2)return;const[i,s]=t,a=E1(i),l=E1(s);if(a!==l)if(P1(a)&&P1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Os[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||b4(t[i]))&&n.push(i);n.length&&k4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Os[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Os[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function lA(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const cA=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function hv(e){return N2(e)&&"offsetHeight"in e}const C1=30,E4=e=>!isNaN(parseFloat(e)),Ol={current:void 0};class O4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=E4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new X0);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Ol.current&&Ol.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>C1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,C1);return J0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function an(e,t){return new O4(e,t)}const{schedule:mv,cancel:bre}=$2(queueMicrotask,!1),Qr={x:!1,y:!1};function uA(){return Qr.x||Qr.y}function C4(e){return e==="x"||e==="y"?Qr[e]?null:(Qr[e]=!0,()=>{Qr[e]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function dA(e,t){const r=lA(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function T1(e){return!(e.pointerType==="touch"||uA())}function T4(e,t,r={}){const[n,i,s]=dA(e,r),a=l=>{if(!T1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{T1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const fA=(e,t)=>t?e===t?!0:fA(e,t.parentElement):!1,pv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,M4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function R4(e){return M4.has(e.tagName)||e.tabIndex!==-1}const Qu=new WeakSet;function M1(e){return t=>{t.key==="Enter"&&e(t)}}function Um(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const D4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=M1(()=>{if(Qu.has(r))return;Um(r,"down");const i=M1(()=>{Um(r,"up")}),s=()=>Um(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function R1(e){return pv(e)&&!uA()}function $4(e,t,r={}){const[n,i,s]=dA(e,r),a=l=>{const c=l.currentTarget;if(!R1(l))return;Qu.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Qu.has(c)&&Qu.delete(c),R1(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||fA(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),hv(l)&&(l.addEventListener("focus",u=>D4(u,i)),!R4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function gv(e){return N2(e)&&"ownerSVGElement"in e}const Zu=new WeakMap;let xi;const hA=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:gv(n)&&"getBBox"in n?n.getBBox()[t]:n[r],I4=hA("inline","width","offsetWidth"),L4=hA("block","height","offsetHeight");function B4({target:e,borderBoxSize:t}){var r;(r=Zu.get(e))==null||r.forEach(n=>{n(e,{get width(){return I4(e,t)},get height(){return L4(e,t)}})})}function F4(e){e.forEach(B4)}function z4(){typeof ResizeObserver>"u"||(xi=new ResizeObserver(F4))}function U4(e,t){xi||z4();const r=lA(e);return r.forEach(n=>{let i=Zu.get(n);i||(i=new Set,Zu.set(n,i)),i.add(t),xi==null||xi.observe(n)}),()=>{r.forEach(n=>{const i=Zu.get(n);i==null||i.delete(t),i!=null&&i.size||xi==null||xi.unobserve(n)})}}const ed=new Set;let Sa;function W4(){Sa=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};ed.forEach(t=>t(e))},window.addEventListener("resize",Sa)}function V4(e){return ed.add(e),Sa||W4(),()=>{ed.delete(e),!ed.size&&typeof Sa=="function"&&(window.removeEventListener("resize",Sa),Sa=void 0)}}function K4(e,t){return typeof e=="function"?V4(e):U4(e,t)}function mA(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return ke.preUpdate(n,!0),()=>un(n)}function q4(e){return gv(e)&&e.tagName==="svg"}function H4(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=av(i,s,a);return t?l(n):l}const It=e=>!!(e&&e.getVelocity),G4=[...sA,at,Wi],Y4=e=>G4.find(iA(e)),Jf=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class X4 extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=hv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function J4({children:e,isPresent:t,anchorX:r,root:n}){const i=x.useId(),s=x.useRef(null),a=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(Jf);return x.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");l&&(p.nonce=l);const y=n??document.head;return y.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.contains(p)&&y.removeChild(p)}},[t]),o.jsx(X4,{isPresent:t,childRef:s,sizeRef:a,children:x.cloneElement(e,{ref:s})})}const Q4=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=wo(Z4),d=x.useId();let f=!0,h=x.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),x.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),x.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(J4,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Xf.Provider,{value:h,children:e})};function Z4(){return new Map}function pA(e=!0){const t=x.useContext(Xf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=x.useId();x.useEffect(()=>{if(e)return i(s)},[e]);const a=x.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const bu=e=>e.key||"";function D1(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const wu=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=pA(a),f=x.useMemo(()=>D1(e),[e]),h=a&&!u?[]:f.map(bu),m=x.useRef(!0),p=x.useRef(f),y=wo(()=>new Map),[w,g]=x.useState(f),[v,b]=x.useState(f);Yf(()=>{m.current=!1,p.current=f;for(let N=0;N<v.length;N++){const P=bu(v[N]);h.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[v,h.length,h.join("-")]);const j=[];if(f!==w){let N=[...f];for(let P=0;P<v.length;P++){const A=v[P],R=bu(A);h.includes(R)||(N.splice(P,0,A),j.push(A))}return s==="wait"&&j.length&&(N=j),b(D1(N)),g(f),null}const{forceRender:S}=x.useContext(K0);return o.jsx(o.Fragment,{children:v.map(N=>{const P=bu(N),A=a&&!u?!1:f===v||h.includes(P),R=()=>{if(y.has(P))y.set(P,!0);else return;let T=!0;y.forEach(O=>{O||(T=!1)}),T&&(S==null||S(),b(p.current),a&&(d==null||d()),n&&n())};return o.jsx(Q4,{isPresent:A,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:A?void 0:R,anchorX:l,children:N},P)})})},gA=x.createContext({strict:!1}),$1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in $1)eo[e]={isEnabled:t=>$1[e].some(r=>!!t[r])};function eB(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const tB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $d(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||tB.has(e)}let yA=e=>!$d(e);function rB(e){typeof e=="function"&&(yA=t=>t.startsWith("on")?!$d(t):e(t))}try{rB(require("@emotion/is-prop-valid").default)}catch{}function nB(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(yA(i)||r===!0&&$d(i)||!t&&!$d(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Qf=x.createContext({});function Zf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function nc(e){return typeof e=="string"||Array.isArray(e)}const yv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vv=["initial",...yv];function eh(e){return Zf(e.animate)||vv.some(t=>nc(e[t]))}function vA(e){return!!(eh(e)||e.variants)}function iB(e,t){if(eh(e)){const{initial:r,animate:n}=e;return{initial:r===!1||nc(r)?r:void 0,animate:nc(n)?n:void 0}}return e.inherit!==!1?t:{}}function sB(e){const{initial:t,animate:r}=iB(e,x.useContext(Qf));return x.useMemo(()=>({initial:t,animate:r}),[I1(t),I1(r)])}function I1(e){return Array.isArray(e)?e.join(" "):e}const ic={};function aB(e){for(const t in e)ic[t]=e[t],ev(t)&&(ic[t].isCSSVariable=!0)}function xA(e,{layout:t,layoutId:r}){return No.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ic[e]||e==="opacity")}const oB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lB=So.length;function cB(e,t,r){let n="",i=!0;for(let s=0;s<lB;s++){const a=So[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=cA(l,fv[a]);if(!c){i=!1;const d=oB[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function xv(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(No.has(c)){a=!0;continue}else if(ev(c)){i[c]=u;continue}else{const d=cA(u,fv[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=cB(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const bv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function bA(e,t,r){for(const n in t)!It(t[n])&&!xA(n,r)&&(e[n]=t[n])}function uB({transformTemplate:e},t){return x.useMemo(()=>{const r=bv();return xv(r,t,e),Object.assign({},r.vars,r.style)},[t])}function dB(e,t){const r=e.style||{},n={};return bA(n,r,e),Object.assign(n,uB(e,t)),n}function fB(e,t){const r={},n=dB(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const hB={offset:"stroke-dashoffset",array:"stroke-dasharray"},mB={offset:"strokeDashoffset",array:"strokeDasharray"};function pB(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?hB:mB;e[s.offset]=ue.transform(-n);const a=ue.transform(t),l=ue.transform(r);e[s.array]=`${a} ${l}`}function wA(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(xv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&pB(f,i,s,a,!1)}const jA=()=>({...bv(),attrs:{}}),SA=e=>typeof e=="string"&&e.toLowerCase()==="svg";function gB(e,t,r,n){const i=x.useMemo(()=>{const s=jA();return wA(s,t,SA(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};bA(s,e.style,e),i.style={...s,...i.style}}return i}const yB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wv(e){return typeof e!="string"||e.includes("-")?!1:!!(yB.indexOf(e)>-1||/[A-Z]/u.test(e))}function vB(e,t,r,{latestValues:n},i,s=!1){const l=(wv(e)?gB:fB)(t,n,i,e),c=nB(t,typeof e=="string",s),u=e!==x.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=x.useMemo(()=>It(d)?d.get():d,[d]);return x.createElement(e,{...u,children:f})}function L1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function jv(e,t,r,n){if(typeof t=="function"){const[i,s]=L1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=L1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function td(e){return It(e)?e.get():e}function xB({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:bB(r,n,i,e),renderState:t()}}function bB(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=td(s[h]);let{initial:a,animate:l}=e;const c=eh(e),u=vA(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Zf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=jv(e,h[m]);if(p){const{transitionEnd:y,transition:w,...g}=p;for(const v in g){let b=g[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in y)i[v]=y[v]}}}return i}const NA=e=>(t,r)=>{const n=x.useContext(Qf),i=x.useContext(Xf),s=()=>xB(e,t,n,i);return r?s():wo(s)};function Sv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(It(n[a])||t.style&&It(t.style[a])||xA(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const wB=NA({scrapeMotionValuesFromProps:Sv,createRenderState:bv});function PA(e,t,r){const n=Sv(e,t,r);for(const i in e)if(It(e[i])||It(t[i])){const s=So.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const jB=NA({scrapeMotionValuesFromProps:PA,createRenderState:jA}),SB=Symbol.for("motionComponentSymbol");function Na(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function NB(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Na(r)&&(r.current=n))},[t])}const Nv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),PB="framerAppearId",_A="data-"+Nv(PB),kA=x.createContext({});function _B(e,t,r,n,i){var y,w;const{visualElement:s}=x.useContext(Qf),a=x.useContext(gA),l=x.useContext(Xf),c=x.useContext(Jf).reducedMotion,u=x.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=x.useContext(kA);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&kB(u.current,r,i,f);const h=x.useRef(!1);x.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[_A],p=x.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Yf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),x.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function kB(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:AA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Na(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function AA(e){if(e)return e.options.allowProjection!==!1?e.projection:AA(e.parent)}function Wm(e,{forwardMotionProps:t=!1}={},r,n){r&&eB(r);const i=wv(e)?jB:wB;function s(l,c){let u;const d={...x.useContext(Jf),...l,layoutId:AB(l)},{isStatic:f}=d,h=sB(l),m=i(l,f);if(!f&&q0){EB();const p=OB(d);u=p.MeasureLayout,h.visualElement=_B(e,m,d,n,p.ProjectionNode)}return o.jsxs(Qf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,vB(e,l,NB(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=x.forwardRef(s);return a[SB]=e,a}function AB({layoutId:e}){const t=x.useContext(K0).id;return t&&e!==void 0?t+"-"+e:e}function EB(e,t){x.useContext(gA).strict}function OB(e){const{drag:t,layout:r}=eo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function CB(e,t){if(typeof Proxy>"u")return Wm;const r=new Map,n=(s,a)=>Wm(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,Wm(a,void 0,e,t)),r.get(a))})}function EA({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function TB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function MB(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Vm(e){return e===void 0||e===1}function Ug({scale:e,scaleX:t,scaleY:r}){return!Vm(e)||!Vm(t)||!Vm(r)}function ds(e){return Ug(e)||OA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OA(e){return B1(e.x)||B1(e.y)}function B1(e){return e&&e!=="0%"}function Id(e,t,r){const n=e-r,i=t*n;return r+i}function F1(e,t,r,n,i){return i!==void 0&&(e=Id(e,i,n)),Id(e,r,n)+t}function Wg(e,t=0,r=1,n,i){e.min=F1(e.min,t,r,n,i),e.max=F1(e.max,t,r,n,i)}function CA(e,{x:t,y:r}){Wg(e.x,t.translate,t.scale,t.originPoint),Wg(e.y,r.translate,r.scale,r.originPoint)}const z1=.999999999999,U1=1.0000000000001;function RB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_a(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,CA(e,a)),n&&ds(s.latestValues)&&_a(e,s.latestValues))}t.x<U1&&t.x>z1&&(t.x=1),t.y<U1&&t.y>z1&&(t.y=1)}function Pa(e,t){e.min=e.min+t,e.max=e.max+t}function W1(e,t,r,n,i=.5){const s=Ke(e.min,e.max,i);Wg(e,t,r,s,n)}function _a(e,t){W1(e.x,t.x,t.scaleX,t.scale,t.originX),W1(e.y,t.y,t.scaleY,t.scale,t.originY)}function TA(e,t){return EA(MB(e.getBoundingClientRect(),t))}function DB(e,t,r){const n=TA(e,r),{scroll:i}=t;return i&&(Pa(n.x,i.offset.x),Pa(n.y,i.offset.y)),n}const V1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:V1(),y:V1()}),K1=()=>({min:0,max:0}),rt=()=>({x:K1(),y:K1()}),Vg={current:null},MA={current:!1};function $B(){if(MA.current=!0,!!q0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vg.current=e.matches;e.addEventListener("change",t),t()}else Vg.current=!1}const IB=new WeakMap;function LB(e,t,r){for(const n in t){const i=t[n],s=r[n];if(It(i))e.addValue(n,i);else if(It(s))e.addValue(n,an(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,an(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const q1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class BB{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=uv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ar.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ke.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=eh(r),this.isVariantNode=vA(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&It(m)&&m.set(c[h])}}mount(t){var r;this.current=t,IB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),MA.current||$B(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=No.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const r=eo[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<q1.length;n++){const i=q1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=LB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=an(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(S2(n)||P2(n))?n=parseFloat(n):!Y4(n)&&Wi.test(r)&&(n=oA(t,r)),this.setBaseTarget(t,It(n)?n.get():n)),It(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=jv(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!It(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new X0),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){mv.render(this.render)}}class RA extends BB{constructor(){super(...arguments),this.KeyframeResolver=A4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;It(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function DA(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function FB(e){return window.getComputedStyle(e)}class zB extends RA{constructor(){super(...arguments),this.type="html",this.renderInstance=DA}readValueFromInstance(t,r){var n;if(No.has(r))return(n=this.projection)!=null&&n.isProjecting?Dg(r):G3(t,r);{const i=FB(t),s=(ev(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return TA(t,r)}build(t,r,n){xv(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Sv(t,r,n)}}const $A=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function UB(e,t,r,n){DA(e,t,void 0,n);for(const i in t.attrs)e.setAttribute($A.has(i)?i:Nv(i),t.attrs[i])}class WB extends RA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(No.has(r)){const n=aA(r);return n&&n.default||0}return r=$A.has(r)?r:Nv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return PA(t,r,n)}build(t,r,n){wA(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){UB(t,r,n,i)}mount(t){this.isSVGTag=SA(t.tagName),super.mount(t)}}const VB=(e,t)=>wv(e)?new WB(t):new zB(t,{allowProjection:e!==x.Fragment});function Ba(e,t,r){const n=e.getProps();return jv(n,t,r!==void 0?r:n.custom,e)}const Kg=e=>Array.isArray(e);function KB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,an(r))}function qB(e){return Kg(e)?e[e.length-1]||0:e}function HB(e,t){const r=Ba(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=qB(s[a]);KB(e,a,l)}}function GB(e){return!!(It(e)&&e.add)}function qg(e,t){const r=e.getValue("willChange");if(GB(r))return r.add(t);if(!r&&Xn.WillChange){const n=new Xn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function IA(e){return e.props[_A]}const YB=e=>e!==null;function XB(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(YB),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const JB={type:"spring",stiffness:500,damping:25,restSpeed:10},QB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),ZB={type:"keyframes",duration:.8},e5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},t5=(e,{keyframes:t})=>t.length>2?ZB:No.has(e)?e.startsWith("scale")?QB(t[1]):JB:e5;function r5({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Pv=(e,t,r,n={},i,s)=>a=>{const l=dv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Sn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};r5(l)||Object.assign(d,t5(e,d)),d.duration&&(d.duration=Sn(d.duration)),d.repeatDelay&&(d.repeatDelay=Sn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Fg(d),d.delay===0&&(f=!0)),(Xn.instantAnimations||Xn.skipAnimations)&&(f=!0,Fg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=XB(d.keyframes,l);if(h!==void 0){ke.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new cv(d):new g4(d)};function n5({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function LA(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&n5(u,d))continue;const m={delay:r,...dv(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=IA(e);if(g){const v=window.MotionHandoffAnimation(g,d,ke);v!==null&&(m.startTime=v,y=!0)}}qg(e,d),f.start(Pv(d,f,h,e.shouldReduceMotion&&nA.has(d)?{type:!1}:m,e,y));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{ke.update(()=>{a&&HB(e,a)})}),c}function BA(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function Hg(e,t,r={}){var c;const n=Ba(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(LA(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return i5(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function i5(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Hg(c,t,{...a,delay:r+(typeof n=="function"?0:n)+BA(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function s5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Hg(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Hg(e,t,r);else{const i=typeof t=="function"?Ba(e,t,r.custom):t;n=Promise.all(LA(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function FA(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const a5=vv.length;function zA(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?zA(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<a5;r++){const n=vv[r],i=e.props[n];(nc(i)||i===!1)&&(t[n]=i)}return t}const o5=[...yv].reverse(),l5=yv.length;function c5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>s5(e,r,n)))}function u5(e){let t=c5(e),r=H1(),n=!0;const i=c=>(u,d)=>{var h;const f=Ba(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=zA(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<l5;w++){const g=o5[w],v=r[g],b=u[g]!==void 0?u[g]:d[g],j=nc(b),S=g===c?v.isActive:null;S===!1&&(p=w);let N=b===d[g]&&b!==u[g]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...m},!v.isActive&&S===null||!b&&!v.prevProp||Zf(b)||typeof b=="boolean")continue;const P=d5(v.prevProp,b);let A=P||g===c&&v.isActive&&!N&&j||w>p&&j,R=!1;const T=Array.isArray(b)?b:[b];let O=T.reduce(i(g),{});S===!1&&(O={});const{prevResolvedValues:B={}}=v,M={...B,...O},_=F=>{A=!0,h.has(F)&&(R=!0,h.delete(F)),v.needsAnimating[F]=!0;const k=e.getValue(F);k&&(k.liveStyle=!1)};for(const F in M){const k=O[F],C=B[F];if(m.hasOwnProperty(F))continue;let U=!1;Kg(k)&&Kg(C)?U=!FA(k,C):U=k!==C,U?k!=null?_(F):h.add(F):k!==void 0&&h.has(F)?_(F):v.protectedKeys[F]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(A=!1);const E=N&&P;A&&(!E||R)&&f.push(...T.map(F=>{const k={type:g};if(typeof F=="string"&&n&&!E&&e.manuallyAnimateOnMount&&e.parent){const{parent:C}=e,U=Ba(C,F);if(C.enteringChildren&&U){const{delayChildren:H}=U.transition||{};k.delay=BA(C.enteringChildren,e,H)}}return{animation:F,options:k}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const g=Ba(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}h.forEach(g=>{const v=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),w[g]=v??null}),f.push({animation:w})}let y=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=H1(),n=!0}}}function d5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!FA(t,e):!1}function os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H1(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Xi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class f5 extends Xi{constructor(t){super(t),t.animationState||(t.animationState=u5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Zf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let h5=0;class m5 extends Xi{constructor(){super(...arguments),this.id=h5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const p5={animation:{Feature:f5},exit:{Feature:m5}};function sc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Cc(e){return{point:{x:e.pageX,y:e.pageY}}}const g5=e=>t=>pv(t)&&e(t,Cc(t));function Cl(e,t,r,n){return sc(e,t,g5(r),n)}const UA=1e-4,y5=1-UA,v5=1+UA,WA=.01,x5=0-WA,b5=0+WA;function Vt(e){return e.max-e.min}function w5(e,t,r){return Math.abs(e-t)<=r}function G1(e,t,r,n=.5){e.origin=n,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=Vt(r)/Vt(t),e.translate=Ke(r.min,r.max,e.origin)-e.originPoint,(e.scale>=y5&&e.scale<=v5||isNaN(e.scale))&&(e.scale=1),(e.translate>=x5&&e.translate<=b5||isNaN(e.translate))&&(e.translate=0)}function Tl(e,t,r,n){G1(e.x,t.x,r.x,n?n.originX:void 0),G1(e.y,t.y,r.y,n?n.originY:void 0)}function Y1(e,t,r){e.min=r.min+t.min,e.max=e.min+Vt(t)}function j5(e,t,r){Y1(e.x,t.x,r.x),Y1(e.y,t.y,r.y)}function X1(e,t,r){e.min=t.min-r.min,e.max=e.min+Vt(t)}function Ml(e,t,r){X1(e.x,t.x,r.x),X1(e.y,t.y,r.y)}function Mr(e){return[e("x"),e("y")]}const VA=({current:e})=>e?e.ownerDocument.defaultView:null,J1=(e,t)=>Math.abs(e-t);function S5(e,t){const r=J1(e.x,t.x),n=J1(e.y,t.y);return Math.sqrt(r**2+n**2)}class KA{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=qm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=S5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:y}=h,{timestamp:w}=vt;this.history.push({...y,timestamp:w});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Km(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=qm(h.type==="pointercancel"?this.lastMoveEventInfo:Km(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),y&&y(h,g)},!pv(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Cc(t),c=Km(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=vt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,qm(c,this.history)),this.removeListeners=Ac(Cl(this.contextWindow,"pointermove",this.handlePointerMove),Cl(this.contextWindow,"pointerup",this.handlePointerUp),Cl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Km(e,t){return t?{point:t(e.point)}:e}function Q1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qm({point:e},t){return{point:e,delta:Q1(e,qA(t)),offset:Q1(e,N5(t)),velocity:P5(t,.1)}}function N5(e){return e[0]}function qA(e){return e[e.length-1]}function P5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=qA(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Sn(t)));)r--;if(!n)return{x:0,y:0};const s=Nn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function _5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ke(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ke(r,e,n.max):Math.min(e,r)),e}function Z1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function k5(e,{top:t,left:r,bottom:n,right:i}){return{x:Z1(e.x,r,i),y:Z1(e.y,t,n)}}function ej(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function A5(e,t){return{x:ej(e.x,t.x),y:ej(e.y,t.y)}}function E5(e,t){let r=.5;const n=Vt(e),i=Vt(t);return i>n?r=Za(t.min,t.max-n,e.min):n>i&&(r=Za(e.min,e.max-i,t.min)),An(0,1,r)}function O5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Gg=.35;function C5(e=Gg){return e===!1?e=0:e===!0&&(e=Gg),{x:tj(e,"left","right"),y:tj(e,"top","bottom")}}function tj(e,t,r){return{min:rj(e,t),max:rj(e,r)}}function rj(e,t){return typeof e=="number"?e:e[t]||0}const T5=new WeakMap;class M5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Cc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=C4(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Pn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[g];j&&(v=Vt(j)*(parseFloat(v)/100))}}this.originPoint[g]=v}),y&&ke.postRender(()=>y(f,h)),qg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=R5(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Mr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new KA(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:VA(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ke.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!ju(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=_5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Na(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=k5(n.layoutBox,t):this.constraints=!1,this.elastic=C5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Mr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=O5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Na(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=DB(n,i.root,this.visualElement.getTransformPagePoint());let a=A5(i.layout.layoutBox,s);if(r){const l=r(TB(a));this.hasMutatedConstraints=!!l,l&&(a=EA(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Mr(d=>{if(!ju(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return qg(this.visualElement,t),n.start(Pv(t,n,0,r,this.visualElement,!1))}stopAnimation(){Mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Mr(r=>{const{drag:n}=this.getProps();if(!ju(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Na(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=E5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mr(a=>{if(!ju(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ke(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;T5.set(this.visualElement,this);const t=this.visualElement.current,r=Cl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Na(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ke.read(n);const a=sc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Gg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function ju(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function R5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class D5 extends Xi{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new M5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const nj=e=>(t,r)=>{e&&ke.postRender(()=>e(t,r))};class $5 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new KA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:VA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:nj(t),onStart:nj(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ke.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Cl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const rd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function ij(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Qo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ue.test(e))e=parseFloat(e);else return e;const r=ij(e,t.target.x),n=ij(e,t.target.y);return`${r}% ${n}%`}},I5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Wi.parse(e);if(i.length>5)return n;const s=Wi.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Ke(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Hm=!1;class L5 extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;aB(B5),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Hm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),rd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Hm=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Hm=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function HA(e){const[t,r]=pA(),n=x.useContext(K0);return o.jsx(L5,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(kA),isPresent:t,safeToRemove:r})}const B5={borderRadius:{...Qo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qo,borderTopRightRadius:Qo,borderBottomLeftRadius:Qo,borderBottomRightRadius:Qo,boxShadow:I5};function F5(e,t,r){const n=It(e)?e:an(e);return n.start(Pv("",n,t,r)),n.animation}const z5=(e,t)=>e.depth-t.depth;class U5{constructor(){this.children=[],this.isDirty=!1}add(t){H0(this.children,t),this.isDirty=!0}remove(t){G0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(z5),this.isDirty=!1,this.children.forEach(t)}}function W5(e,t){const r=ar.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(un(n),e(s-t))};return ke.setup(n,!0),()=>un(n)}const GA=["TopLeft","TopRight","BottomLeft","BottomRight"],V5=GA.length,sj=e=>typeof e=="string"?parseFloat(e):e,aj=e=>typeof e=="number"||ue.test(e);function K5(e,t,r,n,i,s){i?(e.opacity=Ke(0,r.opacity??1,q5(n)),e.opacityExit=Ke(t.opacity??1,0,H5(n))):s&&(e.opacity=Ke(t.opacity??1,r.opacity??1,n));for(let a=0;a<V5;a++){const l=`border${GA[a]}Radius`;let c=oj(t,l),u=oj(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||aj(c)===aj(u)?(e[l]=Math.max(Ke(sj(c),sj(u),n),0),(Pn.test(u)||Pn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ke(t.rotate||0,r.rotate||0,n))}function oj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const q5=YA(0,.5,T2),H5=YA(.5,.95,dr);function YA(e,t,r){return n=>n<e?0:n>t?1:r(Za(e,t,n))}function lj(e,t){e.min=t.min,e.max=t.max}function Er(e,t){lj(e.x,t.x),lj(e.y,t.y)}function cj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function uj(e,t,r,n,i){return e-=t,e=Id(e,1/r,n),i!==void 0&&(e=Id(e,1/i,n)),e}function G5(e,t=0,r=1,n=.5,i,s=e,a=e){if(Pn.test(t)&&(t=parseFloat(t),t=Ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ke(s.min,s.max,n);e===s&&(l-=t),e.min=uj(e.min,t,r,l,i),e.max=uj(e.max,t,r,l,i)}function dj(e,t,[r,n,i],s,a){G5(e,t[r],t[n],t[i],t.scale,s,a)}const Y5=["x","scaleX","originX"],X5=["y","scaleY","originY"];function fj(e,t,r,n){dj(e.x,t,Y5,r?r.x:void 0,n?n.x:void 0),dj(e.y,t,X5,r?r.y:void 0,n?n.y:void 0)}function hj(e){return e.translate===0&&e.scale===1}function XA(e){return hj(e.x)&&hj(e.y)}function mj(e,t){return e.min===t.min&&e.max===t.max}function J5(e,t){return mj(e.x,t.x)&&mj(e.y,t.y)}function pj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function JA(e,t){return pj(e.x,t.x)&&pj(e.y,t.y)}function gj(e){return Vt(e.x)/Vt(e.y)}function yj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Q5{constructor(){this.members=[]}add(t){H0(this.members,t),t.scheduleRender()}remove(t){if(G0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Z5(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Gm=["","X","Y","Z"],eF=1e3;let tF=0;function Ym(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function QA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=IA(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ke,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&QA(n)}function ZA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=tF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iF),this.nodes.forEach(lF),this.nodes.forEach(cF),this.nodes.forEach(sF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new U5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new X0),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=gv(a)&&!q4(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=W5(h,250),rd.hasAnimatedSinceResize&&(rd.hasAnimatedSinceResize=!1,this.nodes.forEach(bj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||mF,{onLayoutAnimationStart:y,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!JA(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...dv(p,"layout"),onPlay:y,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||bj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(vj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(xj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(oF),this.nodes.forEach(rF),this.nodes.forEach(nF)):this.nodes.forEach(xj),this.clearAllSnapshots();const l=ar.now();vt.delta=An(0,1e3/60,l-vt.timestamp),vt.timestamp=l,vt.isProcessing=!0,Im.update.process(vt),Im.preRender.process(vt),Im.render.process(vt),vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(aF),this.sharedNodes.forEach(dF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Vt(this.snapshot.measuredBox.x)&&!Vt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!XA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||ds(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),pF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(gF))){const{scroll:d}=this.root;d&&(Pa(l.x,d.offset.x),Pa(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=rt();if(Er(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Er(l,a),Pa(l.x,f.offset.x),Pa(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=rt();Er(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_a(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ds(d.latestValues)&&_a(c,d.latestValues)}return ds(this.latestValues)&&_a(c,this.latestValues),c}removeTransform(a){const l=rt();Er(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ds(u.latestValues))continue;Ug(u.latestValues)&&u.updateSnapshot();const d=rt(),f=u.measurePageBox();Er(d,f),fj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ds(this.latestValues)&&fj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=vt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),j5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Er(this.target,this.layout.layoutBox),CA(this.target,this.targetDelta)):Er(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Ml(this.relativeTargetOrigin,this.target,m.target),Er(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ug(this.parent.latestValues)||OA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===vt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Er(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;RB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(cj(this.prevProjectionDelta.x,this.projectionDelta.x),cj(this.prevProjectionDelta.y,this.projectionDelta.y)),Tl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!yj(this.projectionDelta.x,this.prevProjectionDelta.x)||!yj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=rt(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,w=this.getStack(),g=!w||w.members.length<=1,v=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(hF));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const S=j/1e3;wj(f.x,a.x,S),wj(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ml(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fF(this.relativeTarget,this.relativeTargetOrigin,h,S),b&&J5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=rt()),Er(b,this.relativeTarget)),y&&(this.animationValues=d,K5(d,u,this.latestValues,S,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{rd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=an(0)),this.currentAnimation=F5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(eF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&eE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const f=Vt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Vt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Er(l,c),_a(l,d),Tl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Q5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Ym("z",a,u,this.animationValues);for(let d=0;d<Gm.length;d++)Ym(`rotate${Gm[d]}`,a,u,this.animationValues),Ym(`skew${Gm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=td(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=td(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Z5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in ic){if(d[p]===void 0)continue;const{correct:y,applyTo:w,isCSSVariable:g}=ic[p],v=f==="none"?d[p]:y(d[p],u);if(w){const b=w.length;for(let j=0;j<b;j++)a[w[j]]=v}else g?this.options.visualElement.renderState.vars[p]=v:a[p]=v}this.options.layoutId&&(a.pointerEvents=u===this?td(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(vj),this.root.sharedNodes.clear()}}}function rF(e){e.updateLayout()}function nF(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Vt(h);h.min=n[f].min,h.max=h.min+m}):eE(s,t.layoutBox,n)&&Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Vt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ka();Tl(l,n,t.layoutBox);const c=ka();a?Tl(c,e.applyTransform(i,!0),t.measuredBox):Tl(c,n,t.layoutBox);const u=!XA(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=rt();Ml(p,t.layoutBox,h.layoutBox);const y=rt();Ml(y,n,m.layoutBox),JA(p,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function iF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function sF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function aF(e){e.clearSnapshot()}function vj(e){e.clearMeasurements()}function xj(e){e.isLayoutDirty=!1}function oF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function bj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function lF(e){e.resolveTargetDelta()}function cF(e){e.calcProjection()}function uF(e){e.resetSkewAndRotation()}function dF(e){e.removeLeadSnapshot()}function wj(e,t,r){e.translate=Ke(t.translate,0,r),e.scale=Ke(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function jj(e,t,r,n){e.min=Ke(t.min,r.min,n),e.max=Ke(t.max,r.max,n)}function fF(e,t,r,n){jj(e.x,t.x,r.x,n),jj(e.y,t.y,r.y,n)}function hF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const mF={duration:.45,ease:[.4,0,.1,1]},Sj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Nj=Sj("applewebkit/")&&!Sj("chrome/")?Math.round:dr;function Pj(e){e.min=Nj(e.min),e.max=Nj(e.max)}function pF(e){Pj(e.x),Pj(e.y)}function eE(e,t,r){return e==="position"||e==="preserve-aspect"&&!w5(gj(t),gj(r),.2)}function gF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const yF=ZA({attachResizeListener:(e,t)=>sc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xm={current:void 0},tE=ZA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Xm.current){const e=new yF({});e.mount(window),e.setOptions({layoutScroll:!0}),Xm.current=e}return Xm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),vF={pan:{Feature:$5},drag:{Feature:D5,ProjectionNode:tE,MeasureLayout:HA}};function _j(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ke.postRender(()=>s(t,Cc(t)))}class xF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=T4(t,(r,n)=>(_j(this.node,n,"Start"),i=>_j(this.node,i,"End"))))}unmount(){}}class bF extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ac(sc(this.node.current,"focus",()=>this.onFocus()),sc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ke.postRender(()=>s(t,Cc(t)))}class wF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=$4(t,(r,n)=>(kj(this.node,n,"Start"),(i,{success:s})=>kj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yg=new WeakMap,Jm=new WeakMap,jF=e=>{const t=Yg.get(e.target);t&&t(e)},SF=e=>{e.forEach(jF)};function NF({root:e,...t}){const r=e||document;Jm.has(r)||Jm.set(r,{});const n=Jm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(SF,{root:e,...t})),n[i]}function PF(e,t,r){const n=NF(t);return Yg.set(e,r),n.observe(e),()=>{Yg.delete(e),n.unobserve(e)}}const _F={some:0,all:1};class kF extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:_F[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return PF(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(AF(t,r))&&this.startObserver()}unmount(){}}function AF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const EF={inView:{Feature:kF},tap:{Feature:wF},focus:{Feature:bF},hover:{Feature:xF}},OF={layout:{ProjectionNode:tE,MeasureLayout:HA}},CF={...p5,...EF,...vF,...OF},Le=CB(CF,VB),TF=50,Aj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),MF=()=>({time:0,x:Aj(),y:Aj()}),RF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Ej(e,t,r,n){const i=r[t],{length:s,position:a}=RF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Za(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>TF?0:J0(i.current-l,u)}function DF(e,t,r){Ej(e,"x",t,r),Ej(e,"y",t,r),t.time=r}function $F(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(hv(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Xg={start:0,center:.5,end:1};function Oj(e,t,r=0){let n=0;if(e in Xg&&(e=Xg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const IF=[0,0];function LF(e,t,r,n){let i=Array.isArray(e)?e:IF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Xg[e]?e:"0"]),s=Oj(i[0],r,n),a=Oj(i[1],t),s-a}const BF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},FF={x:0,y:0};function zF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function UF(e,t,r){const{offset:n=BF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?$F(i,e):FF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:zF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=LF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=av(t[s].offset,H2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=An(0,1,t[s].interpolate(t[s].current))}function WF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function VF(e,t,r,n={}){return{measure:i=>{WF(e,n.target,r),DF(e,r,i),(n.offset||n.target)&&UF(e,r,n)},notify:()=>t(r)}}const Zo=new WeakMap,Cj=new WeakMap,Qm=new WeakMap,Tj=e=>e===document.scrollingElement?window:e;function rE(e,{container:t=document.scrollingElement,...r}={}){if(!t)return dr;let n=Qm.get(t);n||(n=new Set,Qm.set(t,n));const i=MF(),s=VF(t,e,i,r);if(n.add(s),!Zo.has(t)){const l=()=>{for(const f of n)f.measure(vt.timestamp);ke.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>ke.read(l);Zo.set(t,u);const d=Tj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Cj.set(t,K4(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Zo.get(t);return ke.read(a,!1,!0),()=>{var u;un(a);const l=Qm.get(t);if(!l||(l.delete(s),l.size))return;const c=Zo.get(t);Zo.delete(t),c&&(Tj(t).removeEventListener("scroll",c),(u=Cj.get(t))==null||u(),window.removeEventListener("resize",c))}}const Mj=new Map;function KF(e){const t={value:0},r=rE(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function nE({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Mj.get(t)??new Map;Mj.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&J2()?new ScrollTimeline({source:t,axis:n}):KF({container:t,...r})),a[l]}function qF(e,t){const r=nE(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),mA(i=>{n.time=n.duration*i},r))})}function HF(e){return e.length===2}function GF(e,t){return HF(e)?rE(r=>{e(r[t.axis].progress,r)},t):mA(e,nE(t))}function YF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return dr;const i={axis:t,container:r,...n};return typeof e=="function"?GF(e,i):qF(e,i)}const XF=()=>({scrollX:an(0),scrollY:an(0),scrollXProgress:an(0),scrollYProgress:an(0)}),Su=e=>e?!e.current:!1;function JF({container:e,target:t,...r}={}){const n=wo(XF),i=x.useRef(null),s=x.useRef(!1),a=x.useCallback(()=>(i.current=YF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Yf(()=>{if(s.current=!1,Su(e)||Su(t)){s.current=!0;return}else return a()},[a]),x.useEffect(()=>{if(s.current)return Qa(!Su(e)),Qa(!Su(t)),a()},[a]),n}function QF(e){const t=wo(()=>an(e)),{isStatic:r}=x.useContext(Jf);if(r){const[,n]=x.useState(e);x.useEffect(()=>t.on("change",n),[])}return t}function iE(e,t){const r=QF(t()),n=()=>r.set(t());return n(),Yf(()=>{const i=()=>ke.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),un(n)}}),r}function ZF(e){Ol.current=[],e();const t=iE(Ol.current,e);return Ol.current=void 0,t}function Zm(e,t,r,n){if(typeof e=="function")return ZF(e);const i=typeof t=="function"?t:H4(t,r,n);return Array.isArray(e)?Rj(e,i):Rj([e],([s])=>i(s))}function Rj(e,t){const r=wo(()=>[]);return iE(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Dj({onViewChange:e}){var k,C,U,H,G,ve;const{user:t,logout:r}=Bt(),[n,i]=x.useState(!1),[s,a]=x.useState(!1),[l,c]=x.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=x.useState([]),[f,h]=x.useState([]),[m,p]=x.useState([]),[y,w]=x.useState([]),[g,v]=x.useState([]),[b,j]=x.useState(!0),[S,N]=x.useState("all"),[P,A]=x.useState(0),R=x.useRef(null),{scrollYProgress:T}=JF(R.current?{target:R,offset:["start start","end start"],layoutEffect:!1}:void 0),O=Zm(T,[0,1],[0,-200]),B=Zm(T,[0,.5],[1,0]),M=Zm(T,[0,1],[0,-100]),_=async()=>{try{const{data:z}=await X.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!z)return;const Z={};z.forEach(W=>{const{player1_name:Y,player2_name:$,winner_name:J}=W;Z[Y]||(Z[Y]={wins:0,total:0,tournaments:new Set}),Z[$]||(Z[$]={wins:0,total:0,tournaments:new Set}),Z[Y].total++,Z[$].total++,J===Y?Z[Y].wins++:J===$&&Z[$].wins++});const he=Object.entries(Z).map(([W,Y])=>({name:W,wins:Y.wins,tournaments:Y.tournaments.size,winRate:Y.total>0?Math.round(Y.wins/Y.total*100):0})).filter(W=>W.wins>0).sort((W,Y)=>Y.wins!==W.wins?Y.wins-W.wins:Y.winRate-W.winRate).slice(0,5);h(he)}catch(z){console.error("Error fetching top players:",z)}},E=async()=>{try{const{data:z}=await X.from("tournaments").select("*"),{data:Z}=await X.from("match_results").select("*"),he=new Set;Z==null||Z.forEach($=>{$.player1_name&&he.add($.player1_name),$.player2_name&&he.add($.player2_name)});const W=new Date,Y=(z==null?void 0:z.filter($=>new Date($.tournament_date)>W&&$.status!=="completed"))||[];c({totalTournaments:(z==null?void 0:z.length)||0,activePlayers:he.size,upcomingEvents:Y.length,completedMatches:(Z==null?void 0:Z.length)||0}),d(Y.slice(0,3)),v(z||[])}catch(z){console.error("Error fetching dashboard stats:",z)}},I=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:z}=await X.from("deck_presets").select("*").eq("user_id",t.id);p(z||[])}catch(z){console.error("Error fetching deck presets:",z)}},F=async()=>{try{let z=X.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});S!=="all"&&(z=z.eq("tournament_id",S));const{data:Z}=await z.limit(20);w(Z||[])}catch(z){console.error("Error fetching recent matches:",z)}};return x.useEffect(()=>{(async()=>{j(!0),await Promise.all([E(),_(),I(),F()]),j(!1)})()},[t]),x.useEffect(()=>{F()},[S]),x.useEffect(()=>{if(f.length<=1)return;const z=setInterval(()=>{A(Z=>(Z+1)%f.length)},5e3);return()=>clearInterval(z)},[f.length]),b?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(wu,{children:n&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(w2,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(b2,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(x2,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Le.section,{ref:R,style:{y:O,opacity:B},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(lt,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Jo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx(Ii,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Jo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Le.div,{style:{y:M},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:lt,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:St,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:Ui,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:_c,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((z,Z)=>o.jsxs(Le.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:Z*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${z.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${z.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(z.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:z.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:z.label})]},z.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Jump into action with our most popular features"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(lt,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles and view tournament brackets"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString()," • ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-blue-200 text-sm",children:[u[0].current_participants,"/",u[0].max_participants," registered"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Gf,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed • Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(kc,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory • Save presets • Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Jo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(wu,{mode:"wait",children:o.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(k=f[P])==null?void 0:k.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(v2,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(C=f[P])==null?void 0:C.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(V0,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(U=f[P])==null?void 0:U.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(H=f[P])==null?void 0:H.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(G=f[P])==null?void 0:G.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((z,Z)=>o.jsx("button",{onClick:()=>A(Z),className:`w-3 h-3 rounded-full transition-all duration-300 ${Z===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},Z))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:S,onChange:z=>N(z.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),g.map(z=>o.jsx("option",{value:z.id,children:z.name},z.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(wu,{mode:"wait",children:y.length===0?o.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Xa,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:S==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((ve=g.find(z=>z.id===S))==null?void 0:ve.name)||"this tournament"}`})]}):o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:y.slice(0,6).map((z,Z)=>{var he;return o.jsx(Le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:Z*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:z.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",z.winner_name===z.player1_name?z.player2_name:z.player1_name]})]})]}),(z.player1_beyblade||z.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:z.winner_name===z.player1_name?`${z.player1_beyblade||"Unknown"} vs ${z.player2_beyblade||"Unknown"}`:`${z.player2_beyblade||"Unknown"} vs ${z.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((he=z.outcome)==null?void 0:he.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(z.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${z.tournament_id}-${z.submitted_at}-${Z}`)})})})]})})}),o.jsx(Le.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay • Powered by Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.4.0"})]})]})})})]}),o.jsx(wu,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Le.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(j2,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Yt,{size:16})})]})})]})})]})}function ez(e,t){const{user:r}=Bt(),{alert:n}=si(),[i,s]=x.useState(""),[a,l]=x.useState(e.is_free?"free":"cash"),[c,u]=x.useState([{id:"1",bladeLine:"",parts:{}}]),[d,f]=x.useState([]),[h,m]=x.useState(""),[p,y]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[w,g]=x.useState(!1),[v,b]=x.useState(null),j=async()=>{g(!0),b(null);try{const[O,B,M,_,E]=await Promise.all([X.from("beypart_blade").select("*"),X.from("beypart_ratchet").select("*"),X.from("beypart_bit").select("*"),X.from("beypart_lockchip").select("*"),X.from("beypart_assistblade").select("*")]);if(O.error)throw O.error;if(B.error)throw B.error;if(M.error)throw M.error;if(_.error)throw _.error;if(E.error)throw E.error;y({blades:O.data||[],ratchets:B.data||[],bits:M.data||[],lockchips:_.data||[],assistBlades:E.data||[]})}catch(O){console.error(O),b("Failed to load Beyblade parts. Please try again.")}finally{g(!1)}},S=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:O,error:B}=await X.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(B)throw B;f(O||[])}catch(O){console.error(O)}},N=O=>{const B=d.find(_=>_.id===O);if(!B)return;const M=B.beyblades.slice(0,e.beyblades_per_player).map((_,E)=>({id:(E+1).toString(),bladeLine:_.blade_line,parts:_.parts}));u(M),m("")},P=async()=>{var O;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const M=(O=(await X.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&O.is_free?"confirmed":"unpaid",{data:_,error:E}=await X.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:M}).select().single();if(E)throw E;for(const I of c){const F=R(I),{data:k,error:C}=await X.from("tournament_beyblades").insert({registration_id:_.id,beyblade_name:F,blade_line:I.bladeLine}).select().single();if(C)throw C;const U=Object.entries(I.parts).map(([G,ve])=>({beyblade_id:k.id,part_type:G,part_name:A(ve,G),part_data:ve})),{error:H}=await X.from("tournament_beyblade_parts").insert(U);if(H)throw H}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(B){console.error(B),await n("Registration Failed",B.message||"Unknown error occurred.")}},A=(O,B)=>{switch(B){case"Blade":case"Main Blade":return O.Blades;case"Ratchet":return O.Ratchet;case"Bit":return`${O.Bit} (${O.Shortcut})`;case"Lockchip":return O.Lockchip;case"Assist Blade":return`${O["Assist Blade Name"]} (${O["Assist Blade"]})`;default:return""}},R=O=>{if(!T(O.bladeLine).every(M=>O.parts[M]))return"";if(O.bladeLine==="Custom"){const{Lockchip:M,"Main Blade":_,"Assist Blade":E,Ratchet:I,Bit:F}=O.parts;return`${(M==null?void 0:M.Lockchip)||""}${(_==null?void 0:_.Blades)||""} ${(E==null?void 0:E["Assist Blade"])||""}${(I==null?void 0:I.Ratchet)||""}${(F==null?void 0:F.Shortcut)||""}`}else{const{Blade:M,Ratchet:_,Bit:E}=O.parts;return`${(M==null?void 0:M.Blades)||""} ${(_==null?void 0:_.Ratchet)||""}${(E==null?void 0:E.Shortcut)||""}`}},T=O=>{switch(O){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}};return x.useEffect(()=>{j(),S()},[]),{playerName:i,setPlayerName:s,paymentMode:a,setPaymentMode:l,beyblades:c,setBeyblades:u,deckPresets:d,selectedPreset:h,setSelectedPreset:m,loadPreset:N,partsData:p,isLoadingParts:w,partsError:v,fetchPartsData:j,handleSubmit:P}}function tz(e,t,r){const[n,i]=x.useState([]),[s,a]=x.useState({duplicateParts:[],duplicatePlayerName:!1}),l=async()=>{try{const{data:m,error:p}=await X.from("tournament_registrations").select("player_name").eq("tournament_id",r.id).eq("status","confirmed");if(p)throw p;i((m||[]).map(y=>y.player_name.toLowerCase().trim()))}catch(m){console.error("Error fetching player names",m)}},c=m=>{const p=m.toLowerCase().trim(),y=n.includes(p);return a(w=>({...w,duplicatePlayerName:y})),!y},u=()=>{const m=[],p=new Map;return t.forEach((y,w)=>{d(y.bladeLine).forEach(v=>{const b=y.parts[v];if(!b)return;const j=f(b,v),S=`${v}:${j}`;if(p.has(S)){const N=p.get(S);m.push(`${j} (${v}) is used in both Beyblade ${N.beybladeIndex+1} and Beyblade ${w+1}`)}else p.set(S,{beybladeIndex:w,partType:v})})}),a(y=>({...y,duplicateParts:m})),m.length===0},d=m=>{switch(m){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},f=(m,p)=>{switch(p){case"Blade":case"Main Blade":return m.Blades;case"Ratchet":return m.Ratchet;case"Bit":return`${m.Bit} (${m.Shortcut})`;case"Lockchip":return m.Lockchip;case"Assist Blade":return`${m["Assist Blade Name"]} (${m["Assist Blade"]})`;default:return""}},h=()=>!e.trim()||s.duplicatePlayerName||s.duplicateParts.length>0?!1:t.every(m=>m.bladeLine?d(m.bladeLine).every(y=>m.parts[y]):!1);return x.useEffect(()=>{e.trim()?c(e):a(m=>({...m,duplicatePlayerName:!1}))},[e,n]),x.useEffect(()=>{u()},[t]),x.useEffect(()=>{l()},[r.id]),{validationErrors:s,isFormValid:h,validatePlayerName:c,validateBeybladeConfiguration:u}}function rz({playerName:e,setPlayerName:t,paymentMode:r,setPaymentMode:n,tournament:i,validationErrors:s}){const{user:a}=Bt(),[l,c]=xn.useState(!1);return xn.useEffect(()=>{l&&a&&!a.id.startsWith("guest-")?t(a.username):l||t("")},[l,a,t]),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Td,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),a&&!a.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l,onChange:u=>c(u.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(VL,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Registering for myself (",a.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:e,onChange:u=>t(u.target.value),disabled:l,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"bg-gray-100 cursor-not-allowed":""}`}),s.duplicatePlayerName&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:r,onChange:u=>n(u.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]})}function nz({deckPresets:e,selectedPreset:t,setSelectedPreset:r,loadPreset:n}){var i,s,a;return o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(La,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:t,onChange:l=>r(l.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),e.map(l=>o.jsxs("option",{value:l.id,children:[l.name," (",l.beyblades.length," Beyblades)"]},l.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>t&&n(t),disabled:!t,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),t&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(i=e.find(l=>l.id===t))==null?void 0:i.beyblades.slice(0,3).map((l,c)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:["• ",l.name||`Beyblade ${c+1}`]},c)),((s=e.find(l=>l.id===t))==null?void 0:s.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((a=e.find(l=>l.id===t))==null?void 0:a.beyblades.length)-3," more..."]})]})})]})}function iz({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(kc,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(Es,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(qf,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx(Xa,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(W0,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function sz({beyblade:e,index:t,beyblades:r,setBeyblades:n,partsData:i,validationErrors:s}){const a=p=>{switch(p){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},l=(p,y)=>{let w=[];switch(y){case"Blade":w=i.blades.filter(g=>g.Line===p);break;case"Main Blade":w=i.blades.filter(g=>g.Line==="Custom");break;case"Ratchet":w=i.ratchets;break;case"Bit":w=i.bits;break;case"Lockchip":w=i.lockchips;break;case"Assist Blade":w=i.assistBlades;break}return w.sort((g,v)=>c(g,y).localeCompare(c(v,y)))},c=(p,y)=>{switch(y){case"Blade":case"Main Blade":return p.Blades;case"Ratchet":return p.Ratchet;case"Bit":return`${p.Bit} (${p.Shortcut})`;case"Lockchip":return p.Lockchip;case"Assist Blade":return`${p["Assist Blade Name"]} (${p["Assist Blade"]})`;default:return""}},u=(p,y)=>{n(r.map(w=>w.id===e.id?{...w,bladeLine:y,parts:{}}:w))},d=(p,y)=>{n(r.map(w=>w.id===e.id?{...w,parts:{...w.parts,[p]:y}}:w))},f=()=>{r.length>1&&n(r.filter(p=>p.id!==e.id))},h=()=>{if(!a(e.bladeLine).every(y=>e.parts[y]))return"";if(e.bladeLine==="Custom"){const{Lockchip:y,"Main Blade":w,"Assist Blade":g,Ratchet:v,Bit:b}=e.parts;return`${(y==null?void 0:y.Lockchip)||""}${(w==null?void 0:w.Blades)||""} ${(g==null?void 0:g["Assist Blade"])||""}${(v==null?void 0:v.Ratchet)||""}${(b==null?void 0:b.Shortcut)||""}`}else{const{Blade:y,Ratchet:w,Bit:g}=e.parts;return`${(y==null?void 0:y.Blades)||""} ${(w==null?void 0:w.Ratchet)||""}${(g==null?void 0:g.Shortcut)||""}`}},m=()=>Object.values(e.parts).reduce((p,y)=>(y&&(p.attack+=y.Attack||0,p.defense+=y.Defense||0,p.stamina+=y.Stamina||0,p.dash+=y.Dash||0,p.burstRes+=y["Burst Res"]||0),p),{attack:0,defense:0,stamina:0,dash:0,burstRes:0});return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",t+1]}),r.length>1&&o.jsx("button",{onClick:f,className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blade Line *"}),o.jsxs("select",{value:e.bladeLine,onChange:p=>u("bladeLine",p.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Blade Line"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),e.bladeLine&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:h()||"Select all parts to generate name"})]})]}),e.bladeLine&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a(e.bladeLine).map(p=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[p," *"]}),o.jsxs("select",{value:e.parts[p]?JSON.stringify(e.parts[p]):"",onChange:y=>y.target.value&&d(p,JSON.parse(y.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",p]}),l(e.bladeLine,p).map((y,w)=>o.jsx("option",{value:JSON.stringify(y),children:c(y,p)},w))]}),e.parts[p]&&s.duplicateParts.some(y=>y.includes(c(e.parts[p],p)))&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This part is used in another Beyblade"})]},p))}),e.bladeLine&&Object.keys(e.parts).length>0&&o.jsx(iz,{stats:m()})]})}function az({tournament:e,onClose:t}){const{user:r}=Bt();si();const{playerName:n,setPlayerName:i,paymentMode:s,setPaymentMode:a,beyblades:l,setBeyblades:c,deckPresets:u,selectedPreset:d,setSelectedPreset:f,loadPreset:h,partsData:m,isLoadingParts:p,partsError:y,fetchPartsData:w,handleSubmit:g}=ez(e,t),{validationErrors:v,isFormValid:b}=tz(n,l,e);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[p&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Yt,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[y&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:y}),o.jsx("button",{onClick:w,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsx(rz,{playerName:n,setPlayerName:i,paymentMode:s,setPaymentMode:a,tournament:e,validationErrors:v}),!(r!=null&&r.id.startsWith("guest-"))&&u.length>0&&o.jsx(nz,{deckPresets:u,selectedPreset:d,setSelectedPreset:f,loadPreset:h}),l.map((j,S)=>o.jsx(sz,{beyblade:j,index:S,beyblades:l,setBeyblades:c,partsData:m,validationErrors:v},j.id)),l.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>c([...l,{id:Date.now().toString(),bladeLine:"",parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:g,disabled:!b()||p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function oz(){Bt();const{alert:e}=si(),[t,r]=x.useState("all"),[n,i]=x.useState(null),[s,a]=x.useState([]),[l,c]=x.useState(!0);xn.useEffect(()=>{(async()=>{try{const{data:m,error:p}=await X.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(p)throw p;a(m||[])}catch(m){console.error("Error fetching tournaments:",m),a([])}finally{c(!1)}})()},[]);const u=s.filter(h=>t==="all"||h.status===t),d=(h,m)=>{console.log("Tournament registration:",{playerName:h,beyblades:m}),e("Registration Complete",`Successfully registered ${h} with ${m.length} Beyblades for the tournament!`),i(null)},f=h=>{switch(h){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade battles"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(h=>o.jsx("button",{onClick:()=>r(h),className:`filter-tab capitalize ${t===h?"filter-tab-active":"filter-tab-inactive"}`,children:h},h))})}),l?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(lt,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>o.jsxs("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:h.name}),o.jsx("span",{className:`badge capitalize ${f(h.status)}`,children:h.status})]}),o.jsx("p",{className:"text-gray-600 mb-6 font-inter",children:h.description}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Ui,{size:16,className:"mr-2"}),new Date(h.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(U0,{size:16,className:"mr-2"}),h.location]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(St,{size:16,className:"mr-2"}),h.max_participants===999999?`${h.current_participants} participants (no limit)`:`${h.current_participants}/${h.max_participants} participants`]}),h.prize_pool&&o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(lt,{size:16,className:"mr-2"}),"Prize Pool: ",h.prize_pool]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(qf,{size:16,className:"mr-2"}),"Registration ends: ",new Date(h.registration_deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-2",children:[o.jsx("span",{children:"Registration Progress"}),o.jsx("span",{children:h.max_participants===999999?`${h.current_participants} registered`:`${Math.round(h.current_participants/h.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:h.max_participants===999999?"100%":`${Math.min(h.current_participants/h.max_participants*100,100)}%`}})})]}),h.status==="upcoming"&&o.jsx("button",{onClick:()=>i(h.id),disabled:h.max_participants!==999999&&h.current_participants>=h.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed",children:h.max_participants!==999999&&h.current_participants>=h.max_participants?"Tournament Full":"Register for Tournament"})]},h.id))}),n&&o.jsx(az,{tournament:u.find(h=>h.id===n),onClose:()=>i(null),onSubmit:d})]})})}function sE(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=sE(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=sE(e))&&(n&&(n+=" "),n+=t);return n}var th={},aE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(aE);var _v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(_v);var kv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(kv);var rh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(rh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aE,r=_v,n=kv,i=rh;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(th);var lz=th.get;const Vi=Kr(lz);var oE={exports:{}},Oe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av=Symbol.for("react.transitional.element"),Ev=Symbol.for("react.portal"),nh=Symbol.for("react.fragment"),ih=Symbol.for("react.strict_mode"),sh=Symbol.for("react.profiler"),ah=Symbol.for("react.consumer"),oh=Symbol.for("react.context"),lh=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),dh=Symbol.for("react.memo"),fh=Symbol.for("react.lazy"),cz=Symbol.for("react.view_transition"),uz=Symbol.for("react.client.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Av:switch(e=e.type,e){case nh:case sh:case ih:case ch:case uh:case cz:return e;default:switch(e=e&&e.$$typeof,e){case oh:case lh:case fh:case dh:return e;case ah:return e;default:return t}}case Ev:return t}}}Oe.ContextConsumer=ah;Oe.ContextProvider=oh;Oe.Element=Av;Oe.ForwardRef=lh;Oe.Fragment=nh;Oe.Lazy=fh;Oe.Memo=dh;Oe.Portal=Ev;Oe.Profiler=sh;Oe.StrictMode=ih;Oe.Suspense=ch;Oe.SuspenseList=uh;Oe.isContextConsumer=function(e){return qr(e)===ah};Oe.isContextProvider=function(e){return qr(e)===oh};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Av};Oe.isForwardRef=function(e){return qr(e)===lh};Oe.isFragment=function(e){return qr(e)===nh};Oe.isLazy=function(e){return qr(e)===fh};Oe.isMemo=function(e){return qr(e)===dh};Oe.isPortal=function(e){return qr(e)===Ev};Oe.isProfiler=function(e){return qr(e)===sh};Oe.isStrictMode=function(e){return qr(e)===ih};Oe.isSuspense=function(e){return qr(e)===ch};Oe.isSuspenseList=function(e){return qr(e)===uh};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===nh||e===sh||e===ih||e===ch||e===uh||typeof e=="object"&&e!==null&&(e.$$typeof===fh||e.$$typeof===dh||e.$$typeof===oh||e.$$typeof===ah||e.$$typeof===lh||e.$$typeof===uz||e.getModuleId!==void 0)};Oe.typeOf=qr;oE.exports=Oe;var dz=oE.exports,wt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,re=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),En=e=>re(e)||typeof e=="string",fz=0,ac=e=>{var t=++fz;return"".concat(e||"").concat(t)},Gt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!re(t)&&typeof t!="string")return n;var s;if(ws(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return wr(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},lE=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Aa=(e,t)=>re(e)&&re(t)?r=>e+r*(t-e):()=>t;function aa(e,t,r){return re(e)&&re(t)?e+r*(t-e):t}function hz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Vi(n,t))===r)}var et=e=>e===null||typeof e>"u",Tc=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),mz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Ov(e){if(typeof e!="string")return!1;var t=mz;return t.includes(e)}var pz=["viewBox","children"],$j=["points","pathLength"],ep={svg:pz,polygon:$j,polyline:$j},Cv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Ov(i)&&(n[i]=s=>r[i](r,s))}),n},gz=(e,t,r)=>n=>(e(t,r,n),null),Po=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Ov(i)&&typeof s=="function"&&(n||(n={}),n[i]=gz(s,t,r))}),n},yz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function cE(e){if(typeof e!="string")return!1;var t=yz;return t.includes(e)}function Ft(e){var t=Object.entries(e).filter(r=>{var[n]=r;return cE(n)});return Object.fromEntries(t)}var Ij=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Lj=null,tp=null,uE=e=>{if(e===Lj&&Array.isArray(tp))return tp;var t=[];return x.Children.forEach(e,r=>{et(r)||(dz.isFragment(r)?t=t.concat(uE(r.props.children)):t.push(r))}),tp=t,Lj=e,t};function Mc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Ij(i)):n=[Ij(t)],uE(e).forEach(i=>{var s=Vi(i,"type.displayName")||Vi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var vz=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(ep==null?void 0:ep[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||cE(t)),c=!!r&&Ov(t);return a||l||c},je=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;vz((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},xz=["children","width","height","viewBox","className","style","title","desc"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function bz(e,t){if(e==null)return{};var r,n,i=wz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dE=x.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=bz(e,xz),f=s||{width:n,height:i,x:0,y:0},h=me("recharts-surface",a);return x.createElement("svg",Jg({},je(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,c),x.createElement("desc",null,u),r)}),jz=["children","className"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(null,arguments)}function Sz(e,t){if(e==null)return{};var r,n,i=Nz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ge=x.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Sz(e,jz),s=me("recharts-layer",n);return x.createElement("g",Qg({className:s},je(i,!0),{ref:t}),r)}),Pz=x.createContext(null);function Re(e){return function(){return e}}const fE=Math.cos,Ld=Math.sin,dn=Math.sqrt,Bd=Math.PI,hh=2*Bd,Zg=Math.PI,ey=2*Zg,fs=1e-6,_z=ey-fs;function hE(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function kz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hE;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Az{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hE:kz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fs)if(!(Math.abs(f*c-u*d)>fs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=i-l,y=c*c+u*u,w=m*m+p*p,g=Math.sqrt(y),v=Math.sqrt(h),b=s*Math.tan((Zg-Math.acos((y+h-w)/(2*g*v)))/2),j=b/v,S=b/g;Math.abs(j-1)>fs&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fs||Math.abs(this._y1-d)>fs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ey+ey),h>_z?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>fs&&this._append`A${n},${n},0,${+(h>=Zg)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Tv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Az(t)}function Mv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function mE(e){this._context=e}mE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function mh(e){return new mE(e)}function pE(e){return e[0]}function gE(e){return e[1]}function yE(e,t){var r=Re(!0),n=null,i=mh,s=null,a=Tv(l);e=typeof e=="function"?e:e===void 0?pE:Re(e),t=typeof t=="function"?t:t===void 0?gE:Re(t);function l(c){var u,d=(c=Mv(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Nu(e,t,r){var n=null,i=Re(!0),s=null,a=mh,l=null,c=Tv(u);e=typeof e=="function"?e:e===void 0?pE:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?gE:Re(+r);function u(f){var h,m,p,y=(f=Mv(f)).length,w,g=!1,v,b=new Array(y),j=new Array(y);for(s==null&&(l=a(v=c())),h=0;h<=y;++h){if(!(h<y&&i(w=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return yE().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Re(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class vE{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Ez(e){return new vE(e,!0)}function Oz(e){return new vE(e,!1)}const Rv={draw(e,t){const r=dn(t/Bd);e.moveTo(r,0),e.arc(0,0,r,0,hh)}},Cz={draw(e,t){const r=dn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},xE=dn(1/3),Tz=xE*2,Mz={draw(e,t){const r=dn(t/Tz),n=r*xE;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Rz={draw(e,t){const r=dn(t),n=-r/2;e.rect(n,n,r,r)}},Dz=.8908130915292852,bE=Ld(Bd/10)/Ld(7*Bd/10),$z=Ld(hh/10)*bE,Iz=-fE(hh/10)*bE,Lz={draw(e,t){const r=dn(t*Dz),n=$z*r,i=Iz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=hh*s/5,l=fE(a),c=Ld(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},rp=dn(3),Bz={draw(e,t){const r=-dn(t/(rp*3));e.moveTo(0,r*2),e.lineTo(-rp*r,-r),e.lineTo(rp*r,-r),e.closePath()}},Or=-.5,Cr=dn(3)/2,ty=1/dn(12),Fz=(ty/2+1)*3,zz={draw(e,t){const r=dn(t/Fz),n=r/2,i=r*ty,s=n,a=r*ty+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Or*n-Cr*i,Cr*n+Or*i),e.lineTo(Or*s-Cr*a,Cr*s+Or*a),e.lineTo(Or*l-Cr*c,Cr*l+Or*c),e.lineTo(Or*n+Cr*i,Or*i-Cr*n),e.lineTo(Or*s+Cr*a,Or*a-Cr*s),e.lineTo(Or*l+Cr*c,Or*c-Cr*l),e.closePath()}};function Uz(e,t){let r=null,n=Tv(i);e=typeof e=="function"?e:Re(e||Rv),t=typeof t=="function"?t:Re(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Fd(){}function zd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function wE(e){this._context=e}wE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Wz(e){return new wE(e)}function jE(e){this._context=e}jE.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Vz(e){return new jE(e)}function SE(e){this._context=e}SE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Kz(e){return new SE(e)}function NE(e){this._context=e}NE.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function qz(e){return new NE(e)}function Bj(e){return e<0?-1:1}function Fj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(Bj(s)+Bj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function zj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function np(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:np(this,this._t0,zj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,np(this,zj(this,r=Fj(this,e,t)),r);break;default:np(this,this._t0,r=Fj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function PE(e){this._context=new _E(e)}(PE.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function _E(e){this._context=e}_E.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Hz(e){return new Ud(e)}function Gz(e){return new PE(e)}function kE(e){this._context=e}kE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Uj(e),i=Uj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Uj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Yz(e){return new kE(e)}function ph(e,t){this._context=e,this._t=t}ph.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Xz(e){return new ph(e,.5)}function Jz(e){return new ph(e,0)}function Qz(e){return new ph(e,1)}function to(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ry(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Zz(e,t){return e[t]}function e8(e){const t=[];return t.key=e,t}function t8(){var e=Re([]),t=ry,r=to,n=Zz;function i(s){var a=Array.from(e.apply(this,arguments),e8),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Mv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?ry:typeof s=="function"?s:Re(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??to,i):r},i}function r8(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}to(e,t)}}function n8(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}to(e,t)}}function i8(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var y=e[t[p]],w=y[n][1]||0,g=y[n-1][1]||0;m+=w-g}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,to(e,t)}}var s8=["type","size","sizeType"];function ny(){return ny=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ny.apply(null,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=o8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o8(e){var t=l8(e,"string");return typeof t=="symbol"?t:t+""}function l8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c8(e,t){if(e==null)return{};var r,n,i=u8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function u8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AE={symbolCircle:Rv,symbolCross:Cz,symbolDiamond:Mz,symbolSquare:Rz,symbolStar:Lz,symbolTriangle:Bz,symbolWye:zz},d8=Math.PI/180,f8=e=>{var t="symbol".concat(Tc(e));return AE[t]||Rv},h8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*d8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},m8=(e,t)=>{AE["symbol".concat(Tc(e))]=t},EE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=c8(e,s8),s=Vj(Vj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=f8(t),h=Uz().type(f).size(h8(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=je(s,!0);return c===+c&&u===+u&&r===+r?x.createElement("path",ny({},d,{className:me("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};EE.registerSymbol=m8;var OE={},CE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(CE);var Rc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rc);var TE={},gh={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(gh);var RE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(RE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gh,r=RE;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(TE);var yh={},DE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=th;function r(n){return function(i){return t.get(i,n)}}e.property=r})(DE);var $E={},ip={},sp={},Dv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Dv);var $v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})($v);var vh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(vh);var Kj;function p8(){return Kj||(Kj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv(),r=Dv,n=$v,i=vh;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(y,w,g,v,b,j){const S=m(y,w,g,v,b,j);return S!==void 0?!!S:a(y,w,p,j)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let w=0;w<y.length;w++){const g=y[w];if(!n.isPrimitive(f)&&!(g in f)||h[g]===void 0&&f[g]!==void 0||h[g]===null&&f[g]!==null||!m(f[g],h[g],g,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,w]of h.entries()){const g=f.get(y);if(m(g,w,y,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let w=0;w<h.length;w++){const g=h[w];let v=!1;for(let b=0;b<f.length;b++){if(y.has(b))continue;const j=f[b];let S=!1;if(m(j,g,w,f,h,p)&&(S=!0),S){y.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=s,e.isSetMatch=d}(sp)),sp}var qj;function Iv(){return qj||(qj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(ip)),ip}var IE={},Lv={},Bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(Bv);var xh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(xh);var bh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",w="[object Uint8Array]",g="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",A="[object BigInt64Array]",R="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=A,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=g})(bh);var LE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(LE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv,r=xh,n=bh,i=$v,s=LE;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const y=p==null?void 0:p(d,f,h,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let g=0;g<d.length;g++)w[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[g,v]of d)w.set(g,l(v,g,h,m,p));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const g of d)w.add(l(g,void 0,h,m,p));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let g=0;g<d.length;g++)w[g]=l(d[g],g,h,m,p);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,p),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,p),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,p),w}return d}function c(d,f,h=d,m,p){const y=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<y.length;w++){const g=y[w],v=Object.getOwnPropertyDescriptor(d,g);(v==null||v.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(Lv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(IE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv(),r=IE;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})($E);var BE={},FE={},zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Lv,r=bh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(zE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(FE);var UE={},Fv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Fv);var WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_v,r=Fv,n=WE,i=rh;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv(),r=kv,n=FE,i=th,s=UE;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(BE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rc,r=DE,n=$E,i=BE;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(yh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CE,r=Rc,n=TE,i=yh;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(OE);var g8=OE.uniqBy;const Hj=Kr(g8);function y8(e,t,r){return t===!0?Hj(e,r):typeof t=="function"?Hj(e,t):e}var VE={exports:{}},KE={},qE={exports:{}},HE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=x;function v8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x8=typeof Object.is=="function"?Object.is:v8,b8=ro.useState,w8=ro.useEffect,j8=ro.useLayoutEffect,S8=ro.useDebugValue;function N8(e,t){var r=t(),n=b8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return j8(function(){i.value=r,i.getSnapshot=t,ap(i)&&s({inst:i})},[e,r,t]),w8(function(){return ap(i)&&s({inst:i}),e(function(){ap(i)&&s({inst:i})})},[e]),S8(r),r}function ap(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!x8(e,r)}catch{return!0}}function P8(e,t){return t()}var _8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?P8:N8;HE.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:_8;qE.exports=HE;var k8=qE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh=x,A8=k8;function E8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var O8=typeof Object.is=="function"?Object.is:E8,C8=A8.useSyncExternalStore,T8=wh.useRef,M8=wh.useEffect,R8=wh.useMemo,D8=wh.useDebugValue;KE.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=T8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=R8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,O8(d,m))return p;var y=n(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=C8(e,s[0],s[1]);return M8(function(){a.hasValue=!0,a.value=l},[l]),D8(l),l};VE.exports=KE;var $8=VE.exports,zv=x.createContext(null),I8=e=>e,Ye=()=>{var e=x.useContext(zv);return e?e.store.dispatch:I8},nd=()=>{},L8=()=>nd,B8=(e,t)=>e===t;function te(e){var t=x.useContext(zv);return $8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:L8,t?t.store.getState:nd,t?t.store.getState:nd,t?e:nd,B8)}function F8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function z8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function U8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Gj=e=>Array.isArray(e)?e:[e];function W8(e){const t=Array.isArray(e[0])?e[0]:e;return U8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function V8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var K8=class{constructor(e){this.value=e}deref(){return this.value}},q8=typeof WeakRef<"u"?WeakRef:K8,H8=0,Yj=1;function Pu(){return{s:H8,v:void 0,o:null,p:null}}function GE(e,t={}){let r=Pu();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const w=y.get(p);w===void 0?(l=Pu(),y.set(p,l)):l=w}else{let y=l.p;y===null&&(l.p=y=new Map);const w=y.get(p);w===void 0?(l=Pu(),y.set(p,l)):l=w}}const u=l;let d;if(l.s===Yj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new q8(d):d}return u.s=Yj,u.v=d,d}return a.clearCache=()=>{r=Pu(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function G8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),F8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=GE,argsMemoizeOptions:p=[],devModeChecks:y={}}=d,w=Gj(h),g=Gj(p),v=W8(i),b=f(function(){return s++,u.apply(null,arguments)},...w),j=m(function(){a++;const N=V8(v,arguments);return l=b.apply(null,N),l},...g);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=G8(GE),Y8=Object.assign((e,t=L)=>{z8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>Y8}),YE={},XE={},JE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(JE);var QE={},Uv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Uv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(QE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JE,r=QE,n=rh;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let y=m;for(let w=0;w<p.length&&y!=null;++w)y=y[p[w]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<f.length;y++){const w=t.compareValues(m.criteria[y],p.criteria[y],l[y]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(XE);var ZE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(ZE);var Wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv,r=gh,n=Dv,i=vh;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Wv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XE,r=ZE,n=Wv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(YE);var X8=YE.sortBy;const jh=Kr(X8);var eO=e=>e.legend.settings,J8=e=>e.legend.size,Q8=e=>e.legend.payload;L([Q8,eO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?jh(n,r):n});var _u=1;function Z8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>_u||Math.abs(a.left-t.left)>_u||Math.abs(a.top-t.top)>_u||Math.abs(a.width-t.width)>_u)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var eU=typeof Symbol=="function"&&Symbol.observable||"@@observable",Xj=eU,op=()=>Math.random().toString(36).substring(7).split("").join("."),tU={INIT:`@@redux/INIT${op()}`,REPLACE:`@@redux/REPLACE${op()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${op()}`},Wd=tU;function Vv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function tO(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(tO)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,g)=>{a.set(g,w)}))}function d(){if(c)throw new Error(Pt(3));return i}function f(w){if(typeof w!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let g=!0;u();const v=l++;return a.set(v,w),function(){if(g){if(c)throw new Error(Pt(6));g=!1,u(),a.delete(v),s=null}}}function h(w){if(!Vv(w))throw new Error(Pt(7));if(typeof w.type>"u")throw new Error(Pt(8));if(typeof w.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(Pt(10));n=w,h({type:Wd.REPLACE})}function p(){const w=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Pt(11));function v(){const j=g;j.next&&j.next(d())}return v(),{unsubscribe:w(v)}},[Xj](){return this}}}return h({type:Wd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Xj]:p}}function rU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wd.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function rO(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{rU(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Pt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function nU(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Vd(...l)(i.dispatch),{...i,dispatch:s}}}function nO(e){return Vv(e)&&"type"in e&&typeof e.type=="string"}var iO=Symbol.for("immer-nothing"),Jj=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var no=Object.getPrototypeOf;function zs(e){return!!e&&!!e[jr]}function Jn(e){var t;return e?sO(e)||Array.isArray(e)||!!e[Jj]||!!((t=e.constructor)!=null&&t[Jj])||Nh(e)||Ph(e):!1}var iU=Object.prototype.constructor.toString();function sO(e){if(!e||typeof e!="object")return!1;const t=no(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===iU}function Kd(e,t){Sh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Sh(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Nh(e)?2:Ph(e)?3:0}function iy(e,t){return Sh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function aO(e,t,r){const n=Sh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function sU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nh(e){return e instanceof Map}function Ph(e){return e instanceof Set}function hs(e){return e.copy_||e.base_}function sy(e,t){if(Nh(e))return new Map(e);if(Ph(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=sO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(no(e),n)}else{const n=no(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Kv(e,t=!1){return _h(e)||zs(e)||!Jn(e)||(Sh(e)>1&&(e.set=e.add=e.clear=e.delete=aU),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Kv(n,!0))),e}function aU(){nn(2)}function _h(e){return Object.isFrozen(e)}var oU={};function Us(e){const t=oU[e];return t||nn(0,e),t}var oc;function oO(){return oc}function lU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Qj(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ay(e){oy(e),e.drafts_.forEach(cU),e.drafts_=null}function oy(e){e===oc&&(oc=e.parent_)}function Zj(e){return oc=lU(oc,e)}function cU(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function eS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(ay(t),nn(4)),Jn(e)&&(e=qd(t,e),t.parent_||Hd(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=qd(t,r,[]),ay(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==iO?e:void 0}function qd(e,t,r){if(_h(t))return t;const n=t[jr];if(!n)return Kd(t,(i,s)=>tS(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Hd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Kd(s,(l,c)=>tS(e,n,i,l,c,r,a)),Hd(e,i,!1),r&&e.patches_&&Us("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function tS(e,t,r,n,i,s,a){if(zs(i)){const l=s&&t&&t.type_!==3&&!iy(t.assigned_,n)?s.concat(n):void 0,c=qd(e,i,l);if(aO(r,n,c),zs(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Jn(i)&&!_h(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Hd(e,i)}}function Hd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kv(t,r)}function uU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:oO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=qv;r&&(i=[n],s=lc);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var qv={get(e,t){if(t===jr)return e;const r=hs(e);if(!iy(r,t))return dU(e,r,t);const n=r[t];return e.finalized_||!Jn(n)?n:n===lp(e.base_,t)?(cp(e),e.copy_[t]=cy(n,e)):n},has(e,t){return t in hs(e)},ownKeys(e){return Reflect.ownKeys(hs(e))},set(e,t,r){const n=lO(hs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=lp(hs(e),t),s=i==null?void 0:i[jr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(sU(r,i)&&(r!==void 0||iy(e.base_,t)))return!0;cp(e),ly(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return lp(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,cp(e),ly(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){nn(11)},getPrototypeOf(e){return no(e.base_)},setPrototypeOf(){nn(12)}},lc={};Kd(qv,(e,t)=>{lc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});lc.deleteProperty=function(e,t){return lc.set.call(this,e,t,void 0)};lc.set=function(e,t,r){return qv.set.call(this,e[0],t,r,e[0])};function lp(e,t){const r=e[jr];return(r?hs(r):e)[t]}function dU(e,t,r){var i;const n=lO(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function lO(e,t){if(!(t in e))return;let r=no(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=no(r)}}function ly(e){e.modified_||(e.modified_=!0,e.parent_&&ly(e.parent_))}function cp(e){e.copy_||(e.copy_=sy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var fU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&nn(6),n!==void 0&&typeof n!="function"&&nn(7);let i;if(Jn(t)){const s=Zj(this),a=cy(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?ay(s):oy(s)}return Qj(s,n),eS(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===iO&&(i=void 0),this.autoFreeze_&&Kv(i,!0),n){const s=[],a=[];Us("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else nn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jn(e)||nn(8),zs(e)&&(e=Vn(e));const t=Zj(this),r=cy(e,void 0);return r[jr].isManual_=!0,oy(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&nn(9);const{scope_:n}=r;return Qj(n,t),eS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Us("Patches").applyPatches_;return zs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function cy(e,t){const r=Nh(e)?Us("MapSet").proxyMap_(e,t):Ph(e)?Us("MapSet").proxySet_(e,t):uU(e,t);return(t?t.scope_:oO()).drafts_.push(r),r}function Vn(e){return zs(e)||nn(10,e),cO(e)}function cO(e){if(!Jn(e)||_h(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=sy(e,t.scope_.immer_.useStrictShallowCopy_)}else r=sy(e,!0);return Kd(r,(n,i)=>{aO(r,n,cO(i))}),t&&(t.finalized_=!1),r}var Sr=new fU,uO=Sr.produce;Sr.produceWithPatches.bind(Sr);Sr.setAutoFreeze.bind(Sr);Sr.setUseStrictShallowCopy.bind(Sr);Sr.applyPatches.bind(Sr);Sr.createDraft.bind(Sr);Sr.finishDraft.bind(Sr);function dO(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var hU=dO(),mU=dO,pU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vd:Vd.apply(null,arguments)};function Wr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>nO(n)&&n.type===e,r}var fO=class pl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,pl.prototype)}static get[Symbol.species](){return pl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new pl(...t[0].concat(this)):new pl(...t.concat(this))}};function rS(e){return Jn(e)?uO(e,()=>{}):e}function ku(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function gU(e){return typeof e=="boolean"}var yU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new fO;return r&&(gU(r)?a.push(hU):a.push(mU(r.extraArgument))),a},vU="RTK_autoBatch",nS=e=>t=>{setTimeout(t,e)},xU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:nS(10):e.type==="callback"?e.queueNotification:nS(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[vU]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},bU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new fO(e);return n&&i.push(xU(typeof n=="object"?n:void 0)),i};function wU(e){const t=yU(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Vv(r))c=rO(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Vd;i&&(d=pU({trace:!1,...typeof i=="object"&&i}));const f=nU(...u),h=bU(f);let m=typeof l=="function"?l(h):h();const p=d(...m);return tO(c,a,p)}function hO(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(xr(28));if(l in t)throw new Error(xr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function jU(e){return typeof e=="function"}function SU(e,t){let[r,n,i]=hO(t),s;if(jU(e))s=()=>rS(e());else{const l=rS(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(zs(d)){const m=f(d,c);return m===void 0?d:m}else{if(Jn(d))return uO(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var NU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",PU=(e=21)=>{let t="",r=e;for(;r--;)t+=NU[Math.random()*64|0];return t},_U=Symbol.for("rtk-slice-createasyncthunk");function kU(e,t){return`${e}/${t}`}function AU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[_U];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(xr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(OU()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,S){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(xr(12));if(N in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[N]=S,d},addMatcher(j,S){return u.sliceMatchers.push({matcher:j,reducer:S}),d},exposeAction(j,S){return u.actionCreators[j]=S,d},exposeCaseReducer(j,S){return u.sliceCaseReducersByName[j]=S,d}};c.forEach(j=>{const S=l[j],N={reducerName:j,type:kU(s,j),createNotation:typeof i.reducers=="function"};TU(S)?RU(N,S,d,t):CU(N,S,d)});function f(){const[j={},S=[],N=void 0]=typeof i.extraReducers=="function"?hO(i.extraReducers):[i.extraReducers],P={...j,...u.sliceCaseReducersByType};return SU(i.initialState,A=>{for(let R in P)A.addCase(R,P[R]);for(let R of u.sliceMatchers)A.addMatcher(R.matcher,R.reducer);for(let R of S)A.addMatcher(R.matcher,R.reducer);N&&A.addDefaultCase(N)})}const h=j=>j,m=new Map,p=new WeakMap;let y;function w(j,S){return y||(y=f()),y(j,S)}function g(){return y||(y=f()),y.getInitialState()}function v(j,S=!1){function N(A){let R=A[j];return typeof R>"u"&&S&&(R=ku(p,N,g)),R}function P(A=h){const R=ku(m,S,()=>new WeakMap);return ku(R,A,()=>{const T={};for(const[O,B]of Object.entries(i.selectors??{}))T[O]=EU(B,A,()=>ku(p,A,g),S);return T})}return{reducerPath:j,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...v(a),injectInto(j,{reducerPath:S,...N}={}){const P=S??a;return j.inject({reducerPath:P,reducer:w},N),{...b,...v(P,!0)}}};return b}}function EU(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var kr=AU();function OU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function CU({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!MU(n))throw new Error(xr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Wr(e,a):Wr(e))}function TU(e){return e._reducerDefinitionType==="asyncThunk"}function MU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function RU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Au,pending:l||Au,rejected:c||Au,settled:u||Au})}function Au(){}var DU="task",mO="listener",pO="completed",Hv="cancelled",$U=`task-${Hv}`,IU=`task-${pO}`,uy=`${mO}-${Hv}`,LU=`${mO}-${pO}`,kh=class{constructor(e){nm(this,"name","TaskAbortError");nm(this,"message");this.code=e,this.message=`${DU} ${Hv} (reason: ${e})`}},Gv=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},Gd=()=>{},gO=(e,t=Gd)=>(e.catch(t),e),yO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ts=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ms=e=>{if(e.aborted){const{reason:t}=e;throw new kh(t)}};function vO(e,t){let r=Gd;return new Promise((n,i)=>{const s=()=>i(new kh(e.reason));if(e.aborted){s();return}r=yO(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gd})}var BU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof kh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yd=e=>t=>gO(vO(e,t).then(r=>(Ms(e),r))),xO=e=>{const t=Yd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fa}=Object,iS={},Ah="listenerMiddleware",FU=(e,t)=>{const r=n=>yO(e,()=>Ts(n,e.reason));return(n,i)=>{Gv(n);const s=new AbortController;r(s);const a=BU(async()=>{Ms(e),Ms(s.signal);const l=await n({pause:Yd(s.signal),delay:xO(s.signal),signal:s.signal});return Ms(s.signal),l},()=>Ts(s,IU));return i!=null&&i.autoJoin&&t.push(a.catch(Gd)),{result:Yd(e)(a),cancel(){Ts(s,$U)}}}},zU=(e,t)=>{const r=async(n,i)=>{Ms(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await vO(t,Promise.race(l));return Ms(t),c}finally{s()}};return(n,i)=>gO(r(n,i))},bO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Wr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return Gv(s),{predicate:i,type:t,effect:s}},wO=Fa(e=>{const{type:t,predicate:r,effect:n}=bO(e);return{id:PU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>wO}),sS=(e,t)=>{const{type:r,effect:n,predicate:i}=bO(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},dy=e=>{e.pending.forEach(t=>{Ts(t,uy)})},UU=e=>()=>{e.forEach(dy),e.clear()},aS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},jO=Fa(Wr(`${Ah}/add`),{withTypes:()=>jO}),WU=Wr(`${Ah}/removeAll`),SO=Fa(Wr(`${Ah}/remove`),{withTypes:()=>SO}),VU=(...e)=>{console.error(`${Ah}/error`,...e)},Dc=(e={})=>{const t=new Map,{extra:r,onError:n=VU}=e;Gv(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&dy(d)}),s=d=>{const f=sS(t,d)??wO(d);return i(f)};Fa(s,{withTypes:()=>s});const a=d=>{const f=sS(t,d);return f&&(f.unsubscribe(),d.cancelActive&&dy(f)),!!f};Fa(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,y=zU(s,p.signal),w=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Fa({},h,{getOriginalState:m,condition:(g,v)=>y(g,v).then(Boolean),take:y,delay:xO(p.signal),pause:Yd(p.signal),extra:r,signal:p.signal,fork:FU(p.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((g,v,b)=>{g!==p&&(Ts(g,uy),b.delete(g))})},cancel:()=>{Ts(p,uy),d.pending.delete(p)},throwIfCancelled:()=>{Ms(p.signal)}})))}catch(g){g instanceof kh||aS(n,g,{raisedBy:"effect"})}finally{await Promise.all(w),Ts(p,LU),d.pending.delete(p)}},c=UU(t);return{middleware:d=>f=>h=>{if(!nO(h))return f(h);if(jO.match(h))return s(h.payload);if(WU.match(h)){c();return}if(SO.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===iS)throw new Error(xr(23));return m};let y;try{if(y=f(h),t.size>0){const w=d.getState(),g=Array.from(t.values());for(const v of g){let b=!1;try{b=v.predicate(h,w,m)}catch(j){b=!1,aS(n,j,{raisedBy:"predicate"})}b&&l(v,h,d,p)}}}finally{m=iS}return y},startListening:s,stopListening:a,clearListeners:c}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var KU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},NO=kr({name:"chartLayout",initialState:KU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:qU,setLayout:HU,setChartSize:GU,setScale:YU}=NO.actions,XU=NO.reducer;function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=QU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=ZU(e,"string");return typeof t=="symbol"?t:t+""}function ZU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,e9=e=>e*180/Math.PI,Ne=(e,t,r,n)=>({x:e+Math.cos(-Xd*n)*r,y:t+Math.sin(-Xd*n)*r}),PO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},t9=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},r9=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=t9({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:e9(c),angleInRadian:c}},n9=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},i9=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},s9=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=r9({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=n9(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?lS(lS({},t),{},{radius:i,angle:i9(d,t)}):null},_O=e=>!x.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function kO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){a9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a9(e,t,r){return(t=o9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o9(e){var t=l9(e,"string");return typeof t=="symbol"?t:t+""}function l9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $e(e,t,r){return et(e)||et(t)?r:En(t)?Vi(e,t,r):typeof t=="function"?t(e):r}var c9=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(wt(d-u)!==wt(f-d)){var m=[];if(wt(f-d)===wt(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var y=f+i[1]-i[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var g=Math.min(u,f),v=Math.max(u,f);if(e>(g+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},u9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&re(e[s]))return $r($r({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&re(e[a]))return $r($r({},e),{},{[a]:e[a]+(i||0)})}return e},Ji=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",AO=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},EO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(y=m==="angleAxis"&&s&&s.length>=2?wt(s[0]-s[1])*2*y:y,f||h){var w=(f||h||[]).map((g,v)=>{var b=n?n.indexOf(g):g;return{coordinate:a(b)+y,value:g,offset:y,index:v}});return w.filter(g=>!wr(g.coordinate))}return c&&u?u.map((g,v)=>({coordinate:a(g)+y,value:g,index:v,offset:y})):a.ticks&&!r&&d!=null?a.ticks(d).map((g,v)=>({coordinate:a(g)+y,value:g,offset:y,index:v})):a.domain().map((g,v)=>({coordinate:a(g)+y,value:n?n[g]:g,index:v,offset:y}))},uS=1e-4,d9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-uS,s=Math.max(n[0],n[1])+uS,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},f9=(e,t)=>{if(!t||t.length!==2||!re(t[0])||!re(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!re(e[0])||e[0]<r)&&(i[0]=r),(!re(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},h9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=wr(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},m9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=wr(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},p9={sign:h9,expand:r8,none:to,silhouette:n8,wiggle:i8,positive:m9},g9=(e,t,r)=>{var n=p9[r],i=t8().keys(t).value((s,a)=>+$e(s,a,0)).order(ry).offset(n);return i(e)};function y9(e){return e==null?void 0:String(e)}var dS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=$e(s,t.dataKey,t.scale.domain()[a]);return et(l)?null:t.scale(l)-i/2+n},v9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},x9=e=>{var t=e.flat(2).filter(re);return[Math.min(...t),Math.max(...t)]},b9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],w9=(e,t,r)=>{if(e!=null)return b9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=kO(u,t,r),f=x9(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},fS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,hS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=jh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function mS(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return $r($r({},t),{},{dataKey:r,payload:n,value:i,name:s})}function _o(e,t){if(e)return String(e);if(typeof t=="string")return t}function j9(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?s9({x:e,y:t},n):null}var S9=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return $r($r($r({},n),Ne(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return $r($r($r({},n),Ne(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},N9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ai=e=>e.layout.width,oi=e=>e.layout.height,P9=e=>e.layout.scale,OO=e=>e.layout.margin,Yv=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Xv=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),CO="data-recharts-item-index",TO="data-recharts-item-data-key",Eh=60;function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){_9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E9=e=>e.brush.height,ht=L([ai,oi,OO,E9,Yv,Xv,eO,J8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((p,y)=>{var{orientation:w}=y;if(!y.mirror&&!y.hide){var g=typeof y.width=="number"?y.width:Eh;return pi(pi({},p),{},{[w]:p[w]+g})}return p},{left:r.left||0,right:r.right||0}),u=i.reduce((p,y)=>{var{orientation:w}=y;return!y.mirror&&!y.hide?pi(pi({},p),{},{[w]:Vi(p,"".concat(w))+y.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=pi(pi({},u),c),f=d.bottom;d.bottom+=n,d=u9(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return pi(pi({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),O9=L(ht,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),MO=L(ai,oi,(e,t)=>({x:0,y:0,width:e,height:t})),C9=x.createContext(null),fr=()=>x.useContext(C9)!=null,Oh=e=>e.brush,Ch=L([Oh,ht,OO],(e,t,r)=>({height:e.height,x:re(e.x)?e.x:t.left,y:re(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:re(e.width)?e.width:t.width})),Jv=()=>{var e,t=fr(),r=te(O9),n=te(Ch),i=(e=te(Oh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},T9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RO=()=>{var e;return(e=te(ht))!==null&&e!==void 0?e:T9},DO=()=>te(ai),$O=()=>te(oi),ye=e=>e.layout.layoutType,Qv=()=>te(ye),M9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IO=kr({name:"legend",initialState:M9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Vn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:jre,setLegendSettings:Sre,addLegendPayload:LO,removeLegendPayload:BO}=IO.actions,R9=IO.reducer;function fy(){return fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fy.apply(null,arguments)}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function up(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){D9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function D9(e,t,r){return(t=$9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $9(e){var t=I9(e,"string");return typeof t=="symbol"?t:t+""}function I9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function L9(e){return Array.isArray(e)&&En(e[0])&&En(e[1])?e.join(" ~ "):e}var B9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var S={padding:0,margin:0},N=(l?jh(s,l):s).map((P,A)=>{if(P.type==="none")return null;var R=P.formatter||a||L9,{value:T,name:O}=P,B=T,M=O;if(R){var _=R(T,O,P,A,s);if(Array.isArray(_))[B,M]=_;else if(_!=null)B=_;else return null}var E=up({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(A),style:E},En(M)?x.createElement("span",{className:"recharts-tooltip-item-name"},M):null,En(M)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},B),x.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:S},N)}return null},p=up({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=up({margin:0},i),w=!et(d),g=w?d:"",v=me("recharts-default-tooltip",c),b=me("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(g=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",fy({className:v,style:p},j),x.createElement("p",{className:b,style:y},x.isValidElement(g)?g:"".concat(g)),m())},el="recharts-tooltip-wrapper",F9={visibility:"hidden"};function z9(e){var{coordinate:t,translateX:r,translateY:n}=e;return me(el,{["".concat(el,"-right")]:re(r)&&t&&re(t.x)&&r>=t.x,["".concat(el,"-left")]:re(r)&&t&&re(t.x)&&r<t.x,["".concat(el,"-bottom")]:re(n)&&t&&re(t.y)&&n>=t.y,["".concat(el,"-top")]:re(n)&&t&&re(t.y)&&n<t.y})}function yS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&re(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,w=h+u;return y>w?Math.max(d,h):Math.max(f,h)}function U9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function W9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=yS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=yS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=U9({translateX:d,translateY:f,useTranslate3d:l})):u=F9,{cssProperties:u,cssClasses:z9({translateX:d,translateY:f,coordinate:r})}}function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){hy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hy(e,t,r){return(t=V9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V9(e){var t=K9(e,"string");return typeof t=="symbol"?t:t+""}function K9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class q9 extends x.PureComponent{constructor(){super(...arguments),hy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),hy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:w,hasPortalFromProps:g}=this.props,{cssClasses:v,cssProperties:b}=W9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:Eu(Eu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Eu(Eu({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:S,ref:w},s)}}var H9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ys={isSsr:H9()},FO=()=>te(e=>e.rootProps.accessibilityLayer);function Nr(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){G9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G9(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wS={curveBasisClosed:Vz,curveBasisOpen:Kz,curveBasis:Wz,curveBumpX:Ez,curveBumpY:Oz,curveLinearClosed:qz,curveLinear:mh,curveMonotoneX:Hz,curveMonotoneY:Gz,curveNatural:Yz,curveStep:Xz,curveStepAfter:Qz,curveStepBefore:Jz},Ou=e=>Nr(e.x)&&Nr(e.y),tl=e=>e.x,rl=e=>e.y,J9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Tc(e));return(r==="curveMonotone"||r==="curveBump")&&t?wS["".concat(r).concat(t==="vertical"?"Y":"X")]:wS[r]||mh},Q9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=J9(t,i),l=s?r.filter(Ou):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Ou(f)):n,d=l.map((f,h)=>bS(bS({},f),{},{base:u[h]}));return i==="vertical"?c=Nu().y(rl).x1(tl).x0(f=>f.base.x):c=Nu().x(tl).y1(rl).y0(f=>f.base.y),c.defined(Ou).curve(a),c(d)}return i==="vertical"&&re(n)?c=Nu().y(rl).x1(tl).x0(n):re(n)?c=Nu().x(tl).y1(rl).y0(n):c=yE().x(tl).y(rl),c.defined(Ou).curve(a),c(l)},zO=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?Q9(e):n;return x.createElement("path",my({},Ft(e),Cv(e),{className:me("recharts-curve",t),d:s===null?void 0:s,ref:i}))},Z9=["x","y","top","left","width","height","className"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iW(e,t){if(e==null)return{};var r,n,i=sW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function sW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var aW=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),oW=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=iW(e,Z9),u=eW({x:t,y:r,top:n,left:i,width:s,height:a},c);return!re(t)||!re(r)||!re(s)||!re(a)||!re(n)||!re(i)?null:x.createElement("path",py({},je(u,!0),{className:me("recharts-cross",l),d:aW(t,r,s,a,n,i)}))};function lW(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){uW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uW(e,t,r){return(t=dW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hr(e,t){var r=cW({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var UO={},WO={},VO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(VO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VO,r=Bv,n=xh,i=bh,s=vh;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,y){const w=y(u,d,f,h,m,p);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,y)}return c(u,d,p,y)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),m!==p)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const g=u.valueOf(),v=d.valueOf();return s.eq(g,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const y=f.get(u),w=f.get(d);if(y!=null&&w!=null)return y===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[g,v]of u.entries())if(!d.has(g)||!l(v,d.get(g),g,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const g=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<g.length;b++){const j=g[b],S=v.findIndex(N=>l(j,N,void 0,u,d,f,h));if(S===-1)return!1;v.splice(S,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let g=0;g<u.length;g++)if(!l(u[g],d[g],g,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const S=v[j],N=u[S];if(!Object.hasOwn(d,S))return!1;const P=d[S];if(!l(N,P,S,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(WO);var KO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(KO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WO,r=KO;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(UO);var hW=UO.isEqual;const mW=Kr(hW);var Jd=1e-4,qO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),NS=(e,t)=>r=>{var n=qO(e,t);return HO(n,r)},pW=(e,t)=>r=>{var n=qO(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return HO(i,r)},PS=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,i]=a);var u=NS(t,r),d=NS(n,i),f=pW(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var y=p>1?1:p,w=y,g=0;g<8;++g){var v=u(w)-y,b=f(w);if(Math.abs(v-y)<Jd||b<Jd)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},gW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Jd&&Math.abs(f)<Jd?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},GO=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return PS(e);case"spring":return gW();default:if(e.split("(")[0]==="cubic-bezier")return PS(e)}return typeof e=="function"?e:null};function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){yW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yW(e,t,r){return(t=vW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),wW=(e,t,r)=>e.map(n=>"".concat(bW(n)," ").concat(t,"ms ").concat(r)).join(","),jW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),uc=(e,t)=>Object.keys(t).reduce((r,n)=>kS(kS({},r),{},{[n]:e(n,t[n])}),{});function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){SW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=PW(e,"string");return typeof t=="symbol"?t:t+""}function PW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,r)=>e+(t-e)*r,gy=e=>{var{from:t,to:r}=e;return t!==r},YO=(e,t,r)=>{var n=uc((i,s)=>{if(gy(s)){var[a,l]=e(s.from,s.to,s.velocity);return kt(kt({},s),{},{from:a,velocity:l})}return s},t);return r<1?uc((i,s)=>gy(s)?kt(kt({},s),{},{velocity:Qd(s.velocity,n[i].velocity,r),from:Qd(s.from,n[i].from,r)}):s,t):YO(e,n,r-1)};function _W(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>kt(kt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>uc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(gy).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;l=YO(r,l,p),i(kt(kt(kt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function kW(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>kt(kt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=uc((y,w)=>Qd(...w,r(h)),c);if(s(kt(kt(kt({},e),t),m)),h<1)l=a.setTimeout(d);else{var p=uc((y,w)=>Qd(...w,r(1)),c);s(kt(kt(kt({},e),t),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const XO=(e,t,r,n,i,s)=>{var a=jW(e,t);return r.isStepper===!0?_W(e,t,r,a,i,s):kW(e,t,r,n,a,i,s)};function AW(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class EW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function OW(){return AW(new EW)}var CW=x.createContext(OW);function JO(e,t){var r=x.useContext(CW);return x.useMemo(()=>t??r(e),[e,t,r])}var TW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function MW(e,t){if(e==null)return{};var r,n,i=RW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function js(e,t,r){return(t=DW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DW(e){var t=$W(e,"string");return typeof t=="symbol"?t:t+""}function $W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Zv extends x.PureComponent{constructor(t,r){super(t,r),js(this,"mounted",!1),js(this,"manager",void 0),js(this,"stopJSAnimation",null),js(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(mW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(gi(gi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=XO(r,n,GO(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=wW(Object.keys(d),n,a);this.manager.start([l,r,gi(gi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,y=MW(t,TW),w=x.Children.count(r),g=this.state.style;if(typeof r=="function")return r(g);if(!l||w===0||i<=0)return r;var v=b=>{var{style:j={},className:S}=b.props,N=x.cloneElement(b,gi(gi({},y),{},{style:gi(gi({},j),g),className:S}));return N};return w===1?v(x.Children.only(r)):x.createElement("div",null,x.Children.map(r,b=>v(b)))}}js(Zv,"displayName","Animate");js(Zv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Zd(e){var t,r=JO((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return x.createElement(Zv,yy({},e,{animationManager:r}))}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}var OS=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},IW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QO=e=>{var t=Hr(e,IW),r=x.useRef(null),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=me("recharts-rectangle",d);return y?x.createElement(Zd,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:y},g=>{var{width:v,height:b,x:j,y:S}=g;return x.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},x.createElement("path",ef({},je(t,!0),{className:w,d:OS(j,S,v,b,u),ref:r})))}):x.createElement("path",ef({},je(t,!0),{className:w,d:OS(s,a,l,c,u)}))};function ZO(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Ne(t,r,n,i),l=Ne(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}var LW=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Cu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Xd,f=c?i:i+s*d,h=Ne(t,r,u,f),m=Ne(t,r,n,f),p=c?i-s*d:i,y=Ne(t,r,u*Math.cos(d*Xd),p);return{center:h,circleTangency:m,lineTangency:y,theta:d}},eC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=LW(s,a),c=s+l,u=Ne(t,r,i,s),d=Ne(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Ne(t,r,n,s),m=Ne(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},BW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=wt(u-c),{circleTangency:f,lineTangency:h,theta:m}=Cu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:w}=Cu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(g<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):eC({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:S}=Cu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:P,theta:A}=Cu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=l?Math.abs(c-u):Math.abs(c-u)-S-A;if(R<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},FW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tC=e=>{var t=Hr(e,FW),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=me("recharts-sector",f),m=s-i,p=Gt(a,m,0,!0),y;return p>0&&Math.abs(u-d)<360?y=BW({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=eC({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),x.createElement("path",vy({},je(t,!0),{className:h,d:y}))};function zW(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Ne(l,c,u,f),m=Ne(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return ZO(t);return[{x:n,y:i},{x:s,y:a}]}var rC={},nC={},iC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(iC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(nC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wv,r=nC;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(rC);var UW=rC.range;const sC=Kr(UW);function Li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function WW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ex(e){let t,r,n;e.length!==2?(t=Li,r=(l,c)=>Li(e(l),c),n=(l,c)=>e(l)-c):(t=e===Li||e===WW?e:VW,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function VW(){return 0}function aC(e){return e===null?NaN:+e}function*KW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qW=ex(Li),$c=qW.right;ex(aC).center;class CS extends Map{constructor(t,r=YW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(TS(this,t))}has(t){return super.has(TS(this,t))}set(t,r){return super.set(HW(this,t),r)}delete(t){return super.delete(GW(this,t))}}function TS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function HW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function GW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function YW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function XW(e=Li){if(e===Li)return oC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function oC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const JW=Math.sqrt(50),QW=Math.sqrt(10),ZW=Math.sqrt(2);function tf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=JW?10:s>=QW?5:s>=ZW?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tf(e,t,r*2):[l,c,u]}function xy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?tf(t,e,r):tf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function by(e,t,r){return t=+t,e=+e,r=+r,tf(e,t,r)[2]}function wy(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?by(t,e,r):by(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function MS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function RS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function lC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?oC:XW(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));lC(e,t,m,p,i)}const s=e[t];let a=r,l=n;for(nl(e,r,t),i(e[n],s)>0&&nl(e,r,n);a<l;){for(nl(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?nl(e,r,l):(++l,nl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function nl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function eV(e,t,r){if(e=Float64Array.from(KW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return RS(e);if(t>=1)return MS(e);var n,i=(n-1)*t,s=Math.floor(i),a=MS(lC(e,s).subarray(0,s+1)),l=RS(e.subarray(s+1));return a+(l-a)*(i-s)}}function tV(e,t,r=aC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function rV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function li(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jy=Symbol("implicit");function tx(){var e=new CS,t=[],r=[],n=jy;function i(s){let a=e.get(s);if(a===void 0){if(n!==jy)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new CS;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return tx(t,r).unknown(n)},Gr.apply(i,arguments),i}function rx(){var e=tx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,y=m?n:i;s=(y-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(y-p-s*(h-c))*d,a=s*(1-c),l&&(p=Math.round(p),a=Math.round(a));var w=rV(h).map(function(g){return p+s*g});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return rx(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gr.apply(f(),arguments)}function cC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return cC(t())},e}function nV(){return cC(rx.apply(null,arguments).paddingInner(1))}function nx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function uC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Ic(){}var dc=.7,rf=1/dc,za="\\s*([+-]?\\d+)\\s*",fc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iV=/^#([0-9a-f]{3,8})$/,sV=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),aV=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),oV=new RegExp(`^rgba\\(${za},${za},${za},${fc}\\)$`),lV=new RegExp(`^rgba\\(${_n},${_n},${_n},${fc}\\)$`),cV=new RegExp(`^hsl\\(${fc},${_n},${_n}\\)$`),uV=new RegExp(`^hsla\\(${fc},${_n},${_n},${fc}\\)$`),DS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};nx(Ic,hc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$S,formatHex:$S,formatHex8:dV,formatHsl:fV,formatRgb:IS,toString:IS});function $S(){return this.rgb().formatHex()}function dV(){return this.rgb().formatHex8()}function fV(){return dC(this).formatHsl()}function IS(){return this.rgb().formatRgb()}function hc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?LS(t):r===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Tu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Tu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=sV.exec(e))?new or(t[1],t[2],t[3],1):(t=aV.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=oV.exec(e))?Tu(t[1],t[2],t[3],t[4]):(t=lV.exec(e))?Tu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=cV.exec(e))?zS(t[1],t[2]/100,t[3]/100,1):(t=uV.exec(e))?zS(t[1],t[2]/100,t[3]/100,t[4]):DS.hasOwnProperty(e)?LS(DS[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function LS(e){return new or(e>>16&255,e>>8&255,e&255,1)}function Tu(e,t,r,n){return n<=0&&(e=t=r=NaN),new or(e,t,r,n)}function hV(e){return e instanceof Ic||(e=hc(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function Sy(e,t,r,n){return arguments.length===1?hV(e):new or(e,t,r,n??1)}function or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}nx(or,Sy,uC(Ic,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(Rs(this.r),Rs(this.g),Rs(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BS,formatHex:BS,formatHex8:mV,formatRgb:FS,toString:FS}));function BS(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}`}function mV(){return`#${Ss(this.r)}${Ss(this.g)}${Ss(this.b)}${Ss((isNaN(this.opacity)?1:this.opacity)*255)}`}function FS(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Rs(this.r)}, ${Rs(this.g)}, ${Rs(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ss(e){return e=Rs(e),(e<16?"0":"")+e.toString(16)}function zS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function dC(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Ic||(e=hc(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new sn(a,l,c,e.opacity)}function pV(e,t,r,n){return arguments.length===1?dC(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}nx(sn,pV,uC(Ic,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?dc:Math.pow(dc,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new or(dp(e>=240?e-240:e+120,i,n),dp(e,i,n),dp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sn(US(this.h),Mu(this.s),Mu(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${US(this.h)}, ${Mu(this.s)*100}%, ${Mu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function US(e){return e=(e||0)%360,e<0?e+360:e}function Mu(e){return Math.max(0,Math.min(1,e||0))}function dp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ix=e=>()=>e;function gV(e,t){return function(r){return e+r*t}}function yV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function vV(e){return(e=+e)==1?fC:function(t,r){return r-t?yV(t,r,e):ix(isNaN(t)?r:t)}}function fC(e,t){var r=t-e;return r?gV(e,r):ix(isNaN(e)?t:e)}const WS=function e(t){var r=vV(t);function n(i,s){var a=r((i=Sy(i)).r,(s=Sy(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=fC(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function xV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function bV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function wV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=ko(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function jV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function SV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=ko(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,fp=new RegExp(Ny.source,"g");function NV(e){return function(){return e}}function PV(e){return function(t){return e(t)+""}}function _V(e,t){var r=Ny.lastIndex=fp.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ny.exec(e))&&(i=fp.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:sf(n,i)})),r=fp.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?PV(c[0].x):NV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ko(e,t){var r=typeof t,n;return t==null||r==="boolean"?ix(t):(r==="number"?sf:r==="string"?(n=hc(t))?(t=n,WS):_V:t instanceof hc?WS:t instanceof Date?jV:bV(t)?xV:Array.isArray(t)?wV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?SV:sf)(e,t)}function sx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function kV(e,t){t===void 0&&(t=e,e=ko);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function AV(e){return function(){return e}}function af(e){return+e}var VS=[0,1];function Kt(e){return e}function Py(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:AV(isNaN(t)?NaN:.5)}function EV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function OV(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=Py(i,n),s=r(a,s)):(n=Py(n,i),s=r(s,a)),function(l){return s(n(l))}}function CV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=Py(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=$c(e,l,1,n)-1;return s[c](i[c](l))}}function Lc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Th(){var e=VS,t=VS,r=ko,n,i,s,a=Kt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Kt&&(a=EV(e[0],e[h-1])),l=h>2?CV:OV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),sf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,af),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=sx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Kt,d()):a!==Kt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function ax(){return Th()(Kt,Kt)}function TV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function so(e){return e=of(Math.abs(e)),e?e[1]:NaN}function MV(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function RV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var DV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mc(e){if(!(t=DV.exec(e)))throw new Error("invalid format: "+e);var t;return new ox({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}mc.prototype=ox.prototype;function ox(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ox.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $V(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var hC;function IV(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(hC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+of(e,Math.max(0,t+s-1))[0]}function KS(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const qS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>KS(e*100,t),r:KS,s:IV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function HS(e){return e}var GS=Array.prototype.map,YS=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function LV(e){var t=e.grouping===void 0||e.thousands===void 0?HS:MV(GS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?HS:RV(GS.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=mc(f);var h=f.fill,m=f.align,p=f.sign,y=f.symbol,w=f.zero,g=f.width,v=f.comma,b=f.precision,j=f.trim,S=f.type;S==="n"?(v=!0,S="g"):qS[S]||(b===void 0&&(b=12),j=!0,S="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=y==="$"?n:/[%p]/.test(S)?a:"",A=qS[S],R=/[defgprs%]/.test(S);b=b===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(O){var B=N,M=P,_,E,I;if(S==="c")M=A(O)+M,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?c:A(Math.abs(O),b),j&&(O=$V(O)),F&&+O==0&&p!=="+"&&(F=!1),B=(F?p==="("?p:l:p==="-"||p==="("?"":p)+B,M=(S==="s"?YS[8+hC/3]:"")+M+(F&&p==="("?")":""),R){for(_=-1,E=O.length;++_<E;)if(I=O.charCodeAt(_),48>I||I>57){M=(I===46?i+O.slice(_+1):O.slice(_))+M,O=O.slice(0,_);break}}}v&&!w&&(O=t(O,1/0));var k=B.length+O.length+M.length,C=k<g?new Array(g-k+1).join(h):"";switch(v&&w&&(O=t(C+O,C.length?g-M.length:1/0),C=""),m){case"<":O=B+O+M+C;break;case"=":O=B+C+O+M;break;case"^":O=C.slice(0,k=C.length>>1)+B+O+M+C.slice(k);break;default:O=C+B+O+M;break}return s(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=mc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(so(h)/3)))*3,y=Math.pow(10,-p),w=YS[8+p/3];return function(g){return m(y*g)+w}}return{format:u,formatPrefix:d}}var Ru,lx,mC;BV({thousands:",",grouping:[3],currency:["$",""]});function BV(e){return Ru=LV(e),lx=Ru.format,mC=Ru.formatPrefix,Ru}function FV(e){return Math.max(0,-so(Math.abs(e)))}function zV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(t)/3)))*3-so(Math.abs(e)))}function UV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,so(t)-so(e))+1}function pC(e,t,r,n){var i=wy(e,t,r),s;switch(n=mc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=zV(i,a))&&(n.precision=s),mC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=UV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=FV(i))&&(n.precision=s-(n.type==="%")*2);break}}return lx(n)}function Qi(e){var t=e.domain;return e.ticks=function(r){var n=t();return xy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return pC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=by(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function gC(){var e=ax();return e.copy=function(){return Lc(e,gC())},Gr.apply(e,arguments),Qi(e)}function yC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,af),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return yC(e).unknown(t)},e=arguments.length?Array.from(e,af):[0,1],Qi(r)}function vC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function XS(e){return Math.log(e)}function JS(e){return Math.exp(e)}function WV(e){return-Math.log(-e)}function VV(e){return-Math.exp(-e)}function KV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qV(e){return e===10?KV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function HV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function QS(e){return(t,r)=>-e(-t,r)}function cx(e){const t=e(XS,JS),r=t.domain;let n=10,i,s;function a(){return i=HV(n),s=qV(n),r()[0]<0?(i=QS(i),s=QS(s),e(WV,VV)):e(XS,JS),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,y;const w=l==null?10:+l;let g=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(y=h<0?p/s(-h):p*s(h),!(y<u)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(y=h>0?p/s(-h):p*s(h),!(y<u)){if(y>d)break;g.push(y)}g.length*2<w&&(g=xy(u,d,w))}else g=xy(h,m,Math.min(m-h,w)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=mc(c)).precision==null&&(c.trim=!0),c=lx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(vC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function xC(){const e=cx(Th()).domain([1,10]);return e.copy=()=>Lc(e,xC()).base(e.base()),Gr.apply(e,arguments),e}function ZS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function eN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ux(e){var t=1,r=e(ZS(t),eN(t));return r.constant=function(n){return arguments.length?e(ZS(t=+n),eN(t)):t},Qi(r)}function bC(){var e=ux(Th());return e.copy=function(){return Lc(e,bC()).constant(e.constant())},Gr.apply(e,arguments)}function tN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function GV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function YV(e){return e<0?-e*e:e*e}function dx(e){var t=e(Kt,Kt),r=1;function n(){return r===1?e(Kt,Kt):r===.5?e(GV,YV):e(tN(r),tN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qi(t)}function fx(){var e=dx(Th());return e.copy=function(){return Lc(e,fx()).exponent(e.exponent())},Gr.apply(e,arguments),e}function XV(){return fx.apply(null,arguments).exponent(.5)}function rN(e){return Math.sign(e)*e*e}function JV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function wC(){var e=ax(),t=[0,1],r=!1,n;function i(s){var a=JV(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(rN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,af)).map(rN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return wC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gr.apply(i,arguments),Qi(i)}function jC(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=tV(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[$c(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Li),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return jC().domain(e).range(t).unknown(n)},Gr.apply(s,arguments)}function SC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[$c(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return SC().domain([e,t]).range(i).unknown(s)},Gr.apply(Qi(a),arguments)}function NC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[$c(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return NC().domain(e).range(t).unknown(r)},Gr.apply(i,arguments)}const hp=new Date,mp=new Date;function mt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>mt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(hp.setTime(+s),mp.setTime(+a),e(hp),e(mp),Math.floor(r(hp,mp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const lf=mt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?mt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Fn=1e3,Lr=Fn*60,zn=Lr*60,Qn=zn*24,hx=Qn*7,nN=Qn*30,pp=Qn*365,Ns=mt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCSeconds());Ns.range;const mx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());mx.range;const px=mt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());px.range;const gx=mt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getHours());gx.range;const yx=mt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCHours());yx.range;const Bc=mt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Qn,e=>e.getDate()-1);Bc.range;const Mh=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>e.getUTCDate()-1);Mh.range;const PC=mt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>Math.floor(e/Qn));PC.range;function Xs(e){return mt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/hx)}const Rh=Xs(0),cf=Xs(1),QV=Xs(2),ZV=Xs(3),ao=Xs(4),e7=Xs(5),t7=Xs(6);Rh.range;cf.range;QV.range;ZV.range;ao.range;e7.range;t7.range;function Js(e){return mt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/hx)}const Dh=Js(0),uf=Js(1),r7=Js(2),n7=Js(3),oo=Js(4),i7=Js(5),s7=Js(6);Dh.range;uf.range;r7.range;n7.range;oo.range;i7.range;s7.range;const vx=mt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vx.range;const xx=mt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xx.range;const Zn=mt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zn.range;const ei=mt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:mt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ei.range;function _C(e,t,r,n,i,s){const a=[[Ns,1,Fn],[Ns,5,5*Fn],[Ns,15,15*Fn],[Ns,30,30*Fn],[s,1,Lr],[s,5,5*Lr],[s,15,15*Lr],[s,30,30*Lr],[i,1,zn],[i,3,3*zn],[i,6,6*zn],[i,12,12*zn],[n,1,Qn],[n,2,2*Qn],[r,1,hx],[t,1,nN],[t,3,3*nN],[e,1,pp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=ex(([,,w])=>w).right(a,h);if(m===a.length)return e.every(wy(u/pp,d/pp,f));if(m===0)return lf.every(Math.max(wy(u,d,f),1));const[p,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(y)}return[l,c]}const[a7,o7]=_C(ei,xx,Dh,PC,yx,px),[l7,c7]=_C(Zn,vx,Rh,Bc,gx,mx);function gp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function il(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function u7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=sl(i),d=al(i),f=sl(s),h=al(s),m=sl(a),p=al(a),y=sl(l),w=al(l),g=sl(c),v=al(c),b={a:F,A:k,b:C,B:U,c:null,d:cN,e:cN,f:M7,g:W7,G:K7,H:O7,I:C7,j:T7,L:kC,m:R7,M:D7,p:H,q:G,Q:fN,s:hN,S:$7,u:I7,U:L7,V:B7,w:F7,W:z7,x:null,X:null,y:U7,Y:V7,Z:q7,"%":dN},j={a:ve,A:z,b:Z,B:he,c:null,d:uN,e:uN,f:X7,g:aK,G:lK,H:H7,I:G7,j:Y7,L:EC,m:J7,M:Q7,p:W,q:Y,Q:fN,s:hN,S:Z7,u:eK,U:tK,V:rK,w:nK,W:iK,x:null,X:null,y:sK,Y:oK,Z:cK,"%":dN},S={a:T,A:O,b:B,B:M,c:_,d:oN,e:oN,f:_7,g:aN,G:sN,H:lN,I:lN,j:j7,L:P7,m:w7,M:S7,p:R,q:b7,Q:A7,s:E7,S:N7,u:p7,U:g7,V:y7,w:m7,W:v7,x:E,X:I,y:aN,Y:sN,Z:x7,"%":k7};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N($,J){return function(oe){var D=[],K=-1,Q=0,se=$.length,ce,xe,Pe;for(oe instanceof Date||(oe=new Date(+oe));++K<se;)$.charCodeAt(K)===37&&(D.push($.slice(Q,K)),(xe=iN[ce=$.charAt(++K)])!=null?ce=$.charAt(++K):xe=ce==="e"?" ":"0",(Pe=J[ce])&&(ce=Pe(oe,xe)),D.push(ce),Q=K+1);return D.push($.slice(Q,K)),D.join("")}}function P($,J){return function(oe){var D=il(1900,void 0,1),K=A(D,$,oe+="",0),Q,se;if(K!=oe.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(J&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(Q=yp(il(D.y,0,1)),se=Q.getUTCDay(),Q=se>4||se===0?uf.ceil(Q):uf(Q),Q=Mh.offset(Q,(D.V-1)*7),D.y=Q.getUTCFullYear(),D.m=Q.getUTCMonth(),D.d=Q.getUTCDate()+(D.w+6)%7):(Q=gp(il(D.y,0,1)),se=Q.getDay(),Q=se>4||se===0?cf.ceil(Q):cf(Q),Q=Bc.offset(Q,(D.V-1)*7),D.y=Q.getFullYear(),D.m=Q.getMonth(),D.d=Q.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),se="Z"in D?yp(il(D.y,0,1)).getUTCDay():gp(il(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(se+5)%7:D.w+D.U*7-(se+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,yp(D)):gp(D)}}function A($,J,oe,D){for(var K=0,Q=J.length,se=oe.length,ce,xe;K<Q;){if(D>=se)return-1;if(ce=J.charCodeAt(K++),ce===37){if(ce=J.charAt(K++),xe=S[ce in iN?J.charAt(K++):ce],!xe||(D=xe($,oe,D))<0)return-1}else if(ce!=oe.charCodeAt(D++))return-1}return D}function R($,J,oe){var D=u.exec(J.slice(oe));return D?($.p=d.get(D[0].toLowerCase()),oe+D[0].length):-1}function T($,J,oe){var D=m.exec(J.slice(oe));return D?($.w=p.get(D[0].toLowerCase()),oe+D[0].length):-1}function O($,J,oe){var D=f.exec(J.slice(oe));return D?($.w=h.get(D[0].toLowerCase()),oe+D[0].length):-1}function B($,J,oe){var D=g.exec(J.slice(oe));return D?($.m=v.get(D[0].toLowerCase()),oe+D[0].length):-1}function M($,J,oe){var D=y.exec(J.slice(oe));return D?($.m=w.get(D[0].toLowerCase()),oe+D[0].length):-1}function _($,J,oe){return A($,t,J,oe)}function E($,J,oe){return A($,r,J,oe)}function I($,J,oe){return A($,n,J,oe)}function F($){return a[$.getDay()]}function k($){return s[$.getDay()]}function C($){return c[$.getMonth()]}function U($){return l[$.getMonth()]}function H($){return i[+($.getHours()>=12)]}function G($){return 1+~~($.getMonth()/3)}function ve($){return a[$.getUTCDay()]}function z($){return s[$.getUTCDay()]}function Z($){return c[$.getUTCMonth()]}function he($){return l[$.getUTCMonth()]}function W($){return i[+($.getUTCHours()>=12)]}function Y($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var J=N($+="",b);return J.toString=function(){return $},J},parse:function($){var J=P($+="",!1);return J.toString=function(){return $},J},utcFormat:function($){var J=N($+="",j);return J.toString=function(){return $},J},utcParse:function($){var J=P($+="",!0);return J.toString=function(){return $},J}}}var iN={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,d7=/^%/,f7=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function h7(e){return e.replace(f7,"\\$&")}function sl(e){return new RegExp("^(?:"+e.map(h7).join("|")+")","i")}function al(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function m7(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function y7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function v7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function sN(e,t,r){var n=Nt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function aN(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function x7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function b7(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function w7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function oN(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function j7(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function lN(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function S7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function N7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function P7(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function _7(e,t,r){var n=Nt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function k7(e,t,r){var n=d7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function A7(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function E7(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function cN(e,t){return Se(e.getDate(),t,2)}function O7(e,t){return Se(e.getHours(),t,2)}function C7(e,t){return Se(e.getHours()%12||12,t,2)}function T7(e,t){return Se(1+Bc.count(Zn(e),e),t,3)}function kC(e,t){return Se(e.getMilliseconds(),t,3)}function M7(e,t){return kC(e,t)+"000"}function R7(e,t){return Se(e.getMonth()+1,t,2)}function D7(e,t){return Se(e.getMinutes(),t,2)}function $7(e,t){return Se(e.getSeconds(),t,2)}function I7(e){var t=e.getDay();return t===0?7:t}function L7(e,t){return Se(Rh.count(Zn(e)-1,e),t,2)}function AC(e){var t=e.getDay();return t>=4||t===0?ao(e):ao.ceil(e)}function B7(e,t){return e=AC(e),Se(ao.count(Zn(e),e)+(Zn(e).getDay()===4),t,2)}function F7(e){return e.getDay()}function z7(e,t){return Se(cf.count(Zn(e)-1,e),t,2)}function U7(e,t){return Se(e.getFullYear()%100,t,2)}function W7(e,t){return e=AC(e),Se(e.getFullYear()%100,t,2)}function V7(e,t){return Se(e.getFullYear()%1e4,t,4)}function K7(e,t){var r=e.getDay();return e=r>=4||r===0?ao(e):ao.ceil(e),Se(e.getFullYear()%1e4,t,4)}function q7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function uN(e,t){return Se(e.getUTCDate(),t,2)}function H7(e,t){return Se(e.getUTCHours(),t,2)}function G7(e,t){return Se(e.getUTCHours()%12||12,t,2)}function Y7(e,t){return Se(1+Mh.count(ei(e),e),t,3)}function EC(e,t){return Se(e.getUTCMilliseconds(),t,3)}function X7(e,t){return EC(e,t)+"000"}function J7(e,t){return Se(e.getUTCMonth()+1,t,2)}function Q7(e,t){return Se(e.getUTCMinutes(),t,2)}function Z7(e,t){return Se(e.getUTCSeconds(),t,2)}function eK(e){var t=e.getUTCDay();return t===0?7:t}function tK(e,t){return Se(Dh.count(ei(e)-1,e),t,2)}function OC(e){var t=e.getUTCDay();return t>=4||t===0?oo(e):oo.ceil(e)}function rK(e,t){return e=OC(e),Se(oo.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function nK(e){return e.getUTCDay()}function iK(e,t){return Se(uf.count(ei(e)-1,e),t,2)}function sK(e,t){return Se(e.getUTCFullYear()%100,t,2)}function aK(e,t){return e=OC(e),Se(e.getUTCFullYear()%100,t,2)}function oK(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function lK(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oo(e):oo.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function cK(){return"+0000"}function dN(){return"%"}function fN(e){return+e}function hN(e){return Math.floor(+e/1e3)}var oa,CC,TC;uK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function uK(e){return oa=u7(e),CC=oa.format,oa.parse,TC=oa.utcFormat,oa.utcParse,oa}function dK(e){return new Date(e)}function fK(e){return e instanceof Date?+e:+new Date(+e)}function bx(e,t,r,n,i,s,a,l,c,u){var d=ax(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),y=u("%I:%M"),w=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?p:a(N)<N?y:s(N)<N?w:n(N)<N?i(N)<N?g:v:r(N)<N?b:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,fK)):h().map(dK)},d.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?S:u(P)},d.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(vC(P,N)):d},d.copy=function(){return Lc(d,bx(e,t,r,n,i,s,a,l,c,u))},d}function hK(){return Gr.apply(bx(l7,c7,Zn,vx,Rh,Bc,gx,mx,Ns,CC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mK(){return Gr.apply(bx(a7,o7,ei,xx,Dh,Mh,yx,px,Ns,TC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function $h(){var e=0,t=1,r,n,i,s,a=Kt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(ko),u.rangeRound=d(sx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MC(){var e=Qi($h()(Kt));return e.copy=function(){return Zi(e,MC())},li.apply(e,arguments)}function RC(){var e=cx($h()).domain([1,10]);return e.copy=function(){return Zi(e,RC()).base(e.base())},li.apply(e,arguments)}function DC(){var e=ux($h());return e.copy=function(){return Zi(e,DC()).constant(e.constant())},li.apply(e,arguments)}function wx(){var e=dx($h());return e.copy=function(){return Zi(e,wx()).exponent(e.exponent())},li.apply(e,arguments)}function pK(){return wx.apply(null,arguments).exponent(.5)}function $C(){var e=[],t=Kt;function r(n){if(n!=null&&!isNaN(n=+n))return t(($c(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Li),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>eV(e,s/n))},r.copy=function(){return $C(t).domain(e)},li.apply(r,arguments)}function Ih(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Kt,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function p(y){return function(w){var g,v,b;return arguments.length?([g,v,b]=w,u=kV(y,[g,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(ko),m.rangeRound=p(sx),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(e),s=y(t),a=y(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function IC(){var e=Qi(Ih()(Kt));return e.copy=function(){return Zi(e,IC())},li.apply(e,arguments)}function LC(){var e=cx(Ih()).domain([.1,1,10]);return e.copy=function(){return Zi(e,LC()).base(e.base())},li.apply(e,arguments)}function BC(){var e=ux(Ih());return e.copy=function(){return Zi(e,BC()).constant(e.constant())},li.apply(e,arguments)}function jx(){var e=dx(Ih());return e.copy=function(){return Zi(e,jx()).exponent(e.exponent())},li.apply(e,arguments)}function gK(){return jx.apply(null,arguments).exponent(.5)}const gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:rx,scaleDiverging:IC,scaleDivergingLog:LC,scaleDivergingPow:jx,scaleDivergingSqrt:gK,scaleDivergingSymlog:BC,scaleIdentity:yC,scaleImplicit:jy,scaleLinear:gC,scaleLog:xC,scaleOrdinal:tx,scalePoint:nV,scalePow:fx,scaleQuantile:jC,scaleQuantize:SC,scaleRadial:wC,scaleSequential:MC,scaleSequentialLog:RC,scaleSequentialPow:wx,scaleSequentialQuantile:$C,scaleSequentialSqrt:pK,scaleSequentialSymlog:DC,scaleSqrt:XV,scaleSymlog:bC,scaleThreshold:NC,scaleTime:hK,scaleUtc:mK,tickFormat:pC},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,Lh=L([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Sx=(e,t,r,n)=>n?Lh(e):es(e);function lo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Nr(t)&&Nr(r))return!0}return!1}function mN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function yK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Nr(r))i=r;else if(typeof r=="function")return;if(Nr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(lo(a))return a}}function vK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lo(n))return mN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(re(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&fS.test(i)){var c=fS.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(re(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&hS.test(s)){var d=hS.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(lo(h))return t==null?h:mN(h,t,r)}}}var Ao=1e9,xK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Px,We=!0,Vr="[DecimalError] ",Ds=Vr+"Invalid argument: ",Nx=Vr+"Exponent out of range: ",Eo=Math.floor,ms=Math.pow,bK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,xt=1e7,Fe=7,FC=9007199254740991,df=Eo(FC/Fe),ie={};ie.absoluteValue=ie.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ie.comparedTo=ie.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ie.decimalPlaces=ie.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ie.dividedBy=ie.div=function(e){return Kn(this,new this.constructor(e))};ie.dividedToIntegerBy=ie.idiv=function(e){var t=this,r=t.constructor;return Ee(Kn(t,new r(e),0,1),r.precision)};ie.equals=ie.eq=function(e){return!this.cmp(e)};ie.exponent=function(){return ct(this)};ie.greaterThan=ie.gt=function(e){return this.cmp(e)>0};ie.greaterThanOrEqualTo=ie.gte=function(e){return this.cmp(e)>=0};ie.isInteger=ie.isint=function(){return this.e>this.d.length-2};ie.isNegative=ie.isneg=function(){return this.s<0};ie.isPositive=ie.ispos=function(){return this.s>0};ie.isZero=function(){return this.s===0};ie.lessThan=ie.lt=function(e){return this.cmp(e)<0};ie.lessThanOrEqualTo=ie.lte=function(e){return this.cmp(e)<1};ie.logarithm=ie.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gr))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(We=!1,t=Kn(pc(r,s),pc(e,s),s),We=!0,Ee(t,i))};ie.minus=ie.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?WC(t,e):zC(t,(e.s=-e.s,e))};ie.modulo=ie.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vr+"NaN");return r.s?(We=!1,t=Kn(r,e,0,1).times(e),We=!0,r.minus(t)):Ee(new n(r),i)};ie.naturalExponential=ie.exp=function(){return UC(this)};ie.naturalLogarithm=ie.ln=function(){return pc(this)};ie.negated=ie.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ie.plus=ie.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zC(t,e):WC(t,(e.s=-e.s,e))};ie.precision=ie.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ds+e);if(t=ct(i)+1,n=i.d.length-1,r=n*Fe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ie.squareRoot=ie.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vr+"NaN")}for(e=ct(l),We=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=yn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Kn(l,s,a+2)).times(.5),yn(s.d).slice(0,a)===(t=yn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ee(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return We=!0,Ee(n,r)};ie.times=ie.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%xt|0,t=l/xt|0;s[i]=(s[i]+t)%xt|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,We?Ee(e,f.precision):e};ie.toDecimalPlaces=ie.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(On(e,0,Ao),t===void 0?t=n.rounding:On(t,0,8),Ee(r,e+ct(r)+1,t))};ie.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ws(n,!0):(On(e,0,Ao),t===void 0?t=i.rounding:On(t,0,8),n=Ee(new i(n),e+1,t),r=Ws(n,!0,e+1)),r};ie.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ws(i):(On(e,0,Ao),t===void 0?t=s.rounding:On(t,0,8),n=Ee(new s(i),e+ct(i)+1,t),r=Ws(n.abs(),!1,e+ct(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ie.toInteger=ie.toint=function(){var e=this,t=e.constructor;return Ee(new t(e),ct(e)+1,t.rounding)};ie.toNumber=function(){return+this};ie.toPower=ie.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vr+"Infinity");return l}if(l.eq(gr))return l;if(n=c.precision,e.eq(gr))return Ee(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=FC){for(i=new c(gr),t=Math.ceil(n/Fe+4),We=!1;r%2&&(i=i.times(l),gN(i.d,t)),r=Eo(r/2),r!==0;)l=l.times(l),gN(l.d,t);return We=!0,e.s<0?new c(gr).div(i):Ee(i,n)}}else if(s<0)throw Error(Vr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,i=e.times(pc(l,n+u)),We=!0,i=UC(i),i.s=s,i};ie.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ct(i),n=Ws(i,r<=s.toExpNeg||r>=s.toExpPos)):(On(e,1,Ao),t===void 0?t=s.rounding:On(t,0,8),i=Ee(new s(i),e,t),r=ct(i),n=Ws(i,e<=r||r<=s.toExpNeg,e)),n};ie.toSignificantDigits=ie.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(On(e,1,Ao),t===void 0?t=n.rounding:On(t,0,8)),Ee(new n(r),e,t)};ie.toString=ie.valueOf=ie.val=ie.toJSON=ie[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ct(e),r=e.constructor;return Ws(e,t<=r.toExpNeg||t>=r.toExpPos)};function zC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ee(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/Fe),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/xt|0,c[s]%=xt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,We?Ee(t,f):t}function On(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ds+e)}function yn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=ji(r)),s+=n;a=e[t],n=a+"",r=Fe-n.length,r&&(s+=ji(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Kn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%xt|0,a=s/xt|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*xt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,p,y,w,g,v,b,j,S,N,P,A,R=n.constructor,T=n.s==i.s?1:-1,O=n.d,B=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Vr+"Division by zero");for(c=n.e-i.e,P=B.length,S=O.length,m=new R(T),p=m.d=[],u=0;B[u]==(O[u]||0);)++u;if(B[u]>(O[u]||0)&&--c,s==null?v=s=R.precision:a?v=s+(ct(n)-ct(i))+1:v=s,v<0)return new R(0);if(v=v/Fe+2|0,u=0,P==1)for(d=0,B=B[0],v++;(u<S||d)&&v--;u++)b=d*xt+(O[u]||0),p[u]=b/B|0,d=b%B|0;else{for(d=xt/(B[0]+1)|0,d>1&&(B=e(B,d),O=e(O,d),P=B.length,S=O.length),j=P,y=O.slice(0,P),w=y.length;w<P;)y[w++]=0;A=B.slice(),A.unshift(0),N=B[0],B[1]>=xt/2&&++N;do d=0,l=t(B,y,P,w),l<0?(g=y[0],P!=w&&(g=g*xt+(y[1]||0)),d=g/N|0,d>1?(d>=xt&&(d=xt-1),f=e(B,d),h=f.length,w=y.length,l=t(f,y,h,w),l==1&&(d--,r(f,P<h?A:B,h))):(d==0&&(l=d=1),f=B.slice()),h=f.length,h<w&&f.unshift(0),r(y,f,w),l==-1&&(w=y.length,l=t(B,y,P,w),l<1&&(d++,r(y,P<w?A:B,w))),w=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[w++]=O[j]||0:(y=[O[j]],w=1);while((j++<S||y[0]!==void 0)&&v--)}return p[0]||p.shift(),m.e=c,Ee(m,a?s+ct(m)+1:s)}}();function UC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(ct(e)>16)throw Error(Nx+ct(e));if(!e.s)return new d(gr);for(t==null?(We=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(ms(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(gr),d.precision=l;;){if(i=Ee(i.times(e),l),r=r.times(++c),a=s.plus(Kn(i,r,l)),yn(a.d).slice(0,l)===yn(s.d).slice(0,l)){for(;u--;)s=Ee(s.times(s),l);return d.precision=f,t==null?(We=!0,Ee(s,f)):s}s=a}}function ct(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function vp(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(Vr+"LN10 precision limit exceeded");return Ee(new e(e.LN10),t)}function ji(e){for(var t="";e--;)t+="0";return t}function pc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,p=m.d,y=m.constructor,w=y.precision;if(m.s<1)throw Error(Vr+(m.s?"NaN":"-Infinity"));if(m.eq(gr))return new y(0);if(t==null?(We=!1,u=w):u=t,m.eq(10))return t==null&&(We=!0),vp(y,u);if(u+=h,y.precision=u,r=yn(p),n=r.charAt(0),s=ct(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=yn(m.d),n=r.charAt(0),f++;s=ct(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1))}else return c=vp(y,u+2,w).times(s+""),m=pc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=w,t==null?(We=!0,Ee(m,w)):m;for(l=a=m=Kn(m.minus(gr),m.plus(gr),u),d=Ee(m.times(m),u),i=3;;){if(a=Ee(a.times(d),u),c=l.plus(Kn(a,new y(i),u)),yn(c.d).slice(0,u)===yn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(vp(y,u+2,w).times(s+""))),l=Kn(l,new y(f),u),y.precision=w,t==null?(We=!0,Ee(l,w)):l;l=c,i+=2}}function pN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eo(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Fe;n<i;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>df||e.e<-df))throw Error(Nx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ee(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Fe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Fe,i=n-Fe+a}if(r!==void 0&&(s=ms(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ms(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ct(e),f.length=1,t=t-s-1,f[0]=ms(10,(Fe-t%Fe)%Fe),e.e=Eo(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ms(10,Fe-n),f[d]=i>0?(u/ms(10,a-i)%ms(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==xt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=xt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>df||e.e<-df))throw Error(Nx+ct(e));return e}function WC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),We?Ee(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Fe),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=xt-1;--c[s],c[i]+=xt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?Ee(t,m):t):new h(0)}function Ws(e,t,r){var n,i=ct(e),s=yn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ji(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ji(-i-1)+s,r&&(n=r-a)>0&&(s+=ji(n))):i>=a?(s+=ji(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ji(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ji(n))),e.s<0?"-"+s:s}function gN(e,t){if(e.length>t)return e.length=t,!0}function VC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ds+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return pN(a,s.toString())}else if(typeof s!="string")throw Error(Ds+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,bK.test(s))pN(a,s);else throw Error(Ds+s)}if(i.prototype=ie,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=VC,i.config=i.set=wK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function wK(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Ds+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ds+r+": "+n);return this}var Px=VC(xK);gr=new Px(1);const _e=Px;var jK=e=>e,KC={"@@functional/placeholder":!0},qC=e=>e===KC,yN=e=>function t(){return arguments.length===0||arguments.length===1&&qC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},HC=(e,t)=>e===1?t:yN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==KC).length;return s>=e?t(...n):HC(e-s,yN(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>qC(d)?l.shift():d);return t(...u,...l)}))}),Bh=e=>HC(e.length,e),_y=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},SK=Bh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),NK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return jK;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},ky=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),GC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function YC(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function XC(e,t,r){for(var n=new _e(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Bh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Bh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Bh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var JC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},QC=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=YC(e.toNumber()),i=new _e(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new _e(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},PK=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _e(10).pow(YC(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var a=Math.floor((t-1)/2),l=NK(SK(c=>i.add(new _e(c-a).mul(n)).toNumber()),_y);return l(0,t)},ZC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=QC(new _e(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new _e(0):(l=new _e(t).add(r).div(2),l=l.sub(new _e(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new _e(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?ZC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new _e(c).mul(a)),tickMax:l.add(new _e(u).mul(a))})};function _K(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=JC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,..._y(0,n-1).map(()=>1/0)]:[..._y(0,n-1).map(()=>-1/0),l];return t>r?ky(c):c}if(a===l)return PK(a,n,i);var{step:u,tickMin:d,tickMax:f}=ZC(a,l,s,i,0),h=XC(d,f.add(new _e(.1).mul(u)),u);return t>r?ky(h):h}function kK(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=JC([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=QC(new _e(a).sub(s).div(l-1),i,0),u=[...XC(new _e(s),new _e(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?ky(u):u}var AK=GC(_K),EK=GC(kK),eT=e=>e.rootProps.maxBarSize,OK=e=>e.rootProps.barGap,tT=e=>e.rootProps.barCategoryGap,CK=e=>e.rootProps.barSize,Fc=e=>e.rootProps.stackOffset,_x=e=>e.options.chartName,kx=e=>e.rootProps.syncId,rT=e=>e.rootProps.syncMethod,Ax=e=>e.options.eventEmitter,pn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Fh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},TK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pn.angleAxisId,includeHidden:!1,name:void 0,reversed:pn.reversed,scale:pn.scale,tick:pn.tick,tickCount:void 0,ticks:void 0,type:pn.type,unit:void 0},MK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},RK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},DK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},Oo=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?RK:TK,zc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?DK:MK,zh=e=>e.polarOptions,Ex=L([ai,oi,ht],PO),nT=L([zh,Ex],(e,t)=>{if(e!=null)return Gt(e.innerRadius,t,0)}),iT=L([zh,Ex],(e,t)=>{if(e!=null)return Gt(e.outerRadius,t,t*.8)}),$K=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},sT=L([zh],$K),IK=L([Oo,sT],Fh),aT=L([Ex,nT,iT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),LK=L([zc,aT],Fh),Co=L([ye,zh,nT,iT,ai,oi],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Gt(a,i,i/2),cy:Gt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ce=(e,t)=>t,Uc=(e,t,r)=>r;function Ox(e){return e==null?void 0:e.id}var pt=e=>{var t=ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},To=e=>e.tooltip.settings.axisId,gt=e=>{var t=pt(e),r=To(e);return Mo(e,t,r)};function oT(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=Ox(a);c.forEach((d,f)=>{var h=i==null?f:String($e(d,i,null)),m=$e(d,a.dataKey,0),p;s.has(h)?p=s.get(h):p={},Object.assign(p,{[u]:m}),s.set(h,p)})}}),Array.from(s.values())}function Uh(e){return e.stackId!=null&&e.dataKey!=null}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){BK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t,r){return(t=FK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ci=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??hr},mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ay,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Eh},ts=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??mr},UK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Cx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??UK},it=(e,t,r)=>{switch(t){case"xAxis":return ci(e,r);case"yAxis":return ts(e,r);case"zAxis":return Cx(e,r);case"angleAxis":return Oo(e,r);case"radiusAxis":return zc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},WK=(e,t,r)=>{switch(t){case"xAxis":return ci(e,r);case"yAxis":return ts(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Mo=(e,t,r)=>{switch(t){case"xAxis":return ci(e,r);case"yAxis":return ts(e,r);case"angleAxis":return Oo(e,r);case"radiusAxis":return zc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},lT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Tx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Mx=e=>e.graphicalItems.cartesianItems,VK=L([Ce,Uc],Tx),Rx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Wc=L([Mx,it,VK],Rx),cT=L([Wc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Uh)),uT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),dT=L([Wc],uT),Dx=e=>e.map(t=>t.data).filter(Boolean).flat(1),KK=L([Wc],Dx),$x=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Ix=L([KK,Sx],$x),Lx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$e(i,n)}))):e.map(n=>({value:n})),Wh=L([Ix,it,Wc],Lx);function fT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qs(e){return e.filter(t=>En(t)||t instanceof Date).map(Number).filter(t=>wr(t)===!1)}function qK(e,t,r){return!r||typeof t!="number"||wr(t)?[]:r.length?Qs(r.flatMap(n=>{var i=$e(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Nr(s)||!Nr(a)))return[t-s,t+a]})):[]}var HK=L([cT,Sx,gt],oT),hT=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(Ox);return[a,{stackedData:g9(e,c,r),graphicalItems:l}]}))},Ey=L([HK,cT,Fc],hT),mT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=w9(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},GK=L([Ey,es,Ce],mT),pT=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>fT(i,f)),d=$e(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:qK(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:$e(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Vh=e=>e.errorBars,gT=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>fT(r,n));L([dT,Vh,Ce],gT);var YK=L([Ix,it,dT,Vh,Ce],pT);function XK(e){var{value:t}=e;if(En(t)||t instanceof Date)return t}var xN=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Qs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},JK=(e,t,r)=>{var n=e.map(XK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&lE(n))?sC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Bx=e=>{var t;if(e==null||!("domain"in e))return Ay;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Qs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ay},hf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},yT=e=>e.referenceElements.dots,Ro=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),QK=L([yT,Ce,Uc],Ro),vT=e=>e.referenceElements.areas,ZK=L([vT,Ce,Uc],Ro),xT=e=>e.referenceElements.lines,eq=L([xT,Ce,Uc],Ro),bT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tq=L(QK,Ce,bT),wT=(e,t)=>{var r=Qs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},rq=L([ZK,Ce],wT),jT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},nq=L(eq,Ce,jT),iq=L(tq,nq,rq,(e,t,r)=>hf(e,r,t)),ST=L([it],Bx),Fx=(e,t,r,n,i,s,a)=>{var l=yK(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?hf(r,i,xN(n)):hf(i,xN(n));return vK(t,u,e.allowDataOverflow)},sq=L([it,ST,GK,YK,iq,ye,Ce],Fx),aq=[0,1],zx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ji(t,s);return u&&l==null?sC(0,r.length):c==="category"?JK(n,e,u):i==="expand"?aq:a}},Ux=L([it,ye,Ix,Wh,Fc,Ce,sq],zx),NT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Tc(s));return l in gl?l:"point"}}},rs=L([it,ye,lT,_x,Ce],NT);function oq(e){if(e!=null){if(e in gl)return gl[e]();var t="scale".concat(Tc(e));if(t in gl)return gl[t]()}}function Kh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=oq(t);if(i!=null){var s=i.domain(r).range(n);return d9(s),s}}}var Wx=(e,t,r)=>{var n=Bx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lo(e))return AK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lo(e))return EK(e,t.tickCount,t.allowDecimals)}},Vx=L([Ux,Mo,rs],Wx),Kx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},lq=L([it,Ux,Vx,Ce],Kx),cq=L(Wh,it,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Qs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),PT=L(cq,ye,tT,ht,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Nr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Gt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),uq=(e,t)=>{var r=ci(e,t);return r==null||typeof r.padding!="string"?0:PT(e,"xAxis",t,r.padding)},dq=(e,t)=>{var r=ts(e,t);return r==null||typeof r.padding!="string"?0:PT(e,"yAxis",t,r.padding)},fq=L(ci,uq,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),hq=L(ts,dq,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),mq=L([ht,fq,Ch,Oh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),pq=L([ht,ye,hq,Ch,Oh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Vc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return mq(e,r,n);case"yAxis":return pq(e,r,n);case"zAxis":return(i=Cx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return sT(e);case"radiusAxis":return aT(e,r);default:return}},_T=L([it,Vc],Fh),Do=L([it,rs,lq,_T],Kh);L([Wc,Vh,Ce],gT);function kT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var qh=(e,t)=>t,Hh=(e,t,r)=>r,gq=L(Yv,qh,Hh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kT)),yq=L(Xv,qh,Hh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(kT)),AT=(e,t)=>({width:e.width,height:t.height}),vq=(e,t)=>{var r=typeof t.width=="number"?t.width:Eh;return{width:r,height:e.height}},ET=L(ht,ci,AT),xq=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},bq=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},wq=L(oi,ht,gq,qh,Hh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=AT(t,l);a==null&&(a=xq(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),jq=L(ai,ht,yq,qh,Hh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=vq(t,l);a==null&&(a=bq(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),Sq=(e,t)=>{var r=ht(e),n=ci(e,t);if(n!=null){var i=wq(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},Nq=(e,t)=>{var r=ht(e),n=ts(e,t);if(n!=null){var i=jq(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},OT=L(ht,ts,(e,t)=>{var r=typeof t.width=="number"?t.width:Eh;return{width:r,height:e.height}}),bN=(e,t,r)=>{switch(t){case"xAxis":return ET(e,r).width;case"yAxis":return OT(e,r).height;default:return}},CT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ji(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&lE(c))return c}},Kc=L([ye,Wh,it,Ce],CT),qx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ji(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},Hx=L([ye,Wh,Mo,Ce],qx),wN=L([ye,WK,rs,Do,Kc,Hx,Vc,Vx,Ce],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ji(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),TT=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ji(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?wt(s[0]-s[1])*2*p:p;var y=f||i;if(y){var w=y.map((g,v)=>{var b=a?a.indexOf(g):g;return{index:v,coordinate:n(b)+p,value:g,offset:p}});return w.filter(g=>!wr(g.coordinate))}return u&&l?l.map((g,v)=>({coordinate:n(g)+p,value:g,index:v,offset:p})):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,v)=>({coordinate:n(g)+p,value:a?a[g]:g,index:v,offset:p}))}},MT=L([ye,Mo,rs,Do,Vx,Vc,Kc,Hx,Ce],TT),RT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ji(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?wt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},co=L([ye,Mo,Do,Vc,Kc,Hx,Ce],RT),uo=L(it,Do,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})}),Pq=L([it,rs,Ux,_T],Kh);L((e,t,r)=>Cx(e,r),Pq,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})});var _q=L([ye,Yv,Xv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),DT=e=>e.options.defaultTooltipEventType,$T=e=>e.options.validateTooltipEventTypes;function IT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Gx(e,t){var r=DT(e),n=$T(e);return IT(t,r,n)}function kq(e){return te(t=>Gx(t,e))}var LT=(e,t)=>{var r,n=Number(t);if(!(wr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Aq=e=>e.tooltip.settings,_i={active:!1,index:null,dataKey:void 0,coordinate:void 0},Eq={itemInteraction:{click:_i,hover:_i},axisInteraction:{click:_i,hover:_i},keyboardInteraction:_i,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},BT=kr({name:"tooltip",initialState:Eq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Vn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Oq,removeTooltipEntrySettings:Cq,setTooltipSettingsState:Tq,setActiveMouseOverItemIndex:FT,mouseLeaveItem:Mq,mouseLeaveChart:zT,setActiveClickItemIndex:Rq,setMouseOverAxisIndex:UT,setMouseClickAxisIndex:Dq,setSyncInteraction:Oy,setKeyboardInteraction:Cy}=BT.actions,$q=BT.reducer;function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){Iq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Iq(e,t,r){return(t=Lq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function zq(e){return e.index!=null}var WT=(e,t,r,n)=>{if(t==null)return _i;var i=Fq(e,t,r);if(i==null)return _i;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(zq(i)){if(s)return Du(Du({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Du(Du({},_i),{},{coordinate:i.coordinate})},Yx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Nr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},VT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},KT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},qc=e=>e.options.tooltipPayloadSearcher,$o=e=>e.tooltip;function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kq(e,t){return e??t}var qT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:y,settings:w}=m,g=Kq(y,l),v=Array.isArray(g)?kO(g,u,d):g,b=(p=w==null?void 0:w.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,S;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?S=hz(v,n.dataKey,i):S=s(v,t,c,j),Array.isArray(S))S.forEach(P=>{var A=NN(NN({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(mS({tooltipEntrySettings:A,dataKey:P.dataKey,payload:P.payload,value:$e(P.payload,P.dataKey),name:P.name}))});else{var N;h.push(mS({tooltipEntrySettings:w,dataKey:b,payload:S,value:$e(S,b),name:(N=$e(S,j))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},Xx=L([gt,ye,lT,_x,pt],NT),qq=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Hq=L([pt,To],Tx),Hc=L([qq,gt,Hq],Rx),Gq=L([Hc],e=>e.filter(Uh)),Yq=L([Hc],Dx),Io=L([Yq,es],$x),Xq=L([Gq,es,gt],oT),Jx=L([Io,gt,Hc],Lx),Jq=L([gt],Bx),Qq=L([Hc],e=>e.filter(Uh)),Zq=L([Xq,Qq,Fc],hT),eH=L([Zq,es,pt],mT),tH=L([Hc],uT),rH=L([Io,gt,tH,Vh,pt],pT),nH=L([yT,pt,To],Ro),iH=L([nH,pt],bT),sH=L([vT,pt,To],Ro),aH=L([sH,pt],wT),oH=L([xT,pt,To],Ro),lH=L([oH,pt],jT),cH=L([iH,lH,aH],hf),uH=L([gt,Jq,eH,rH,cH,ye,pt],Fx),HT=L([gt,ye,Io,Jx,Fc,pt,uH],zx),dH=L([HT,gt,Xx],Wx),fH=L([gt,HT,dH,pt],Kx),GT=e=>{var t=pt(e),r=To(e),n=!1;return Vc(e,t,r,n)},YT=L([gt,GT],Fh),XT=L([gt,Xx,fH,YT],Kh),hH=L([ye,Jx,gt,pt],CT),mH=L([ye,Jx,gt,pt],qx),pH=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ji(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?wt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},ui=L([ye,gt,Xx,XT,GT,hH,mH,pt],pH),Qx=L([DT,$T,Aq],(e,t,r)=>IT(r.shared,e,t)),JT=e=>e.tooltip.settings.trigger,Zx=e=>e.tooltip.settings.defaultIndex,Gh=L([$o,Qx,JT,Zx],WT),Ki=L([Gh,Io],Yx),QT=L([ui,Ki],LT),ZT=L([Gh],e=>{if(e)return e.dataKey}),eM=L([$o,Qx,JT,Zx],KT),gH=L([ai,oi,ye,ht,ui,Zx,eM,qc],VT),yH=L([Gh,gH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),vH=L([Gh],e=>e.active),xH=L([eM,Ki,es,gt,QT,qc,Qx],qT),bH=L([xH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=SH(e,"string");return typeof t=="symbol"?t:t+""}function SH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var NH=()=>te(gt),PH=()=>{var e=NH(),t=te(ui),r=te(XT);return cc(_N(_N({},e),{},{scale:r}),t)},_H=()=>te(_x),eb=(e,t)=>t,tM=(e,t,r)=>r,tb=(e,t,r,n)=>n,kH=L(ui,e=>jh(e,t=>t.coordinate)),rb=L([$o,eb,tM,tb],WT),rM=L([rb,Io],Yx),AH=(e,t,r)=>{if(t!=null){var n=$o(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},nM=L([$o,eb,tM,tb],KT),mf=L([ai,oi,ye,ht,ui,tb,nM,qc],VT),EH=L([rb,mf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iM=L(ui,rM,LT),OH=L([nM,rM,es,gt,iM,qc,eb],qT),CH=L([rb],e=>({isActive:e.active,activeIndex:e.index})),TH=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=j9(e.chartX,e.chartY,t,r,l);if(c){var u=N9(c,t),d=c9(u,a,s,n,i),f=S9(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Ty(){return Ty=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ty.apply(null,arguments)}function kN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kN(Object(r),!0).forEach(function(n){MH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MH(e,t,r){return(t=RH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $H(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=oW;else if(u==="BarChart")m=lW(a,d,i,s),p=QO;else if(a==="radial"){var{cx:y,cy:w,radius:g,startAngle:v,endAngle:b}=ZO(d);m={cx:y,cy:w,startAngle:v,endAngle:b,innerRadius:g,outerRadius:g},p=tC}else m={points:zW(a,d,i)},p=zO;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=$u($u($u($u({stroke:"#ccc",pointerEvents:"none"},i),m),je(l,!1)),{},{payload:f,payloadIndex:h,className:me("recharts-tooltip-cursor",j)});return x.isValidElement(l)?x.cloneElement(l,S):x.createElement(p,S)}function IH(e){var t=PH(),r=RO(),n=Qv(),i=_H();return x.createElement($H,Ty({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var sM=x.createContext(null),LH=()=>x.useContext(sM),aM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var y=r?r+u:u;if(!this._events[y])return!1;var w=this._events[y],g=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,p),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,S;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),g){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(S=1,v=new Array(g-1);S<g;S++)v[S-1]=arguments[S];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var y=0,w=[],g=p.length;y<g;y++)(p[y].fn!==d||h&&!p[y].once||f&&p[y].context!==f)&&w.push(p[y]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(aM);var BH=aM.exports;const FH=Kr(BH);var gc=new FH,My="recharts.syncEvent.tooltip",AN="recharts.syncEvent.brush";function nb(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return e==null?void 0:e[r]}}var zH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},oM=kr({name:"options",initialState:zH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),UH=oM.reducer,{createEventEmitter:WH}=oM.actions;function VH(e){return e.tooltip.syncInteraction}var KH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},lM=kr({name:"chartData",initialState:KH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:EN,setDataStartEndIndexes:qH,setComputedData:Nre}=lM.actions,HH=lM.reducer,cM=()=>{};function GH(){var e=te(kx),t=te(Ax),r=Ye(),n=te(rT),i=te(ui),s=Qv(),a=Jv(),l=te(c=>c.rootProps.className);x.useEffect(()=>{if(e==null)return cM;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(i,m);h=i[p]}else n==="value"&&(h=i.find(N=>String(N.value)===d.payload.label));var{coordinate:y}=d.payload;if(h==null||d.payload.active===!1||y==null||a==null){r(Oy({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:g}=y,v=Math.min(w,a.x+a.width),b=Math.min(g,a.y+a.height),j={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},S=Oy({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(S)}}};return gc.on(My,c),()=>{gc.off(My,c)}},[l,r,t,e,n,i,s,a])}function YH(){var e=te(kx),t=te(Ax),r=Ye();x.useEffect(()=>{if(e==null)return cM;var n=(i,s,a)=>{t!==a&&e===i&&r(qH(s))};return gc.on(AN,n),()=>{gc.off(AN,n)}},[r,t,e])}function XH(){var e=Ye();x.useEffect(()=>{e(WH())},[e]),GH(),YH()}function JH(e,t,r,n,i,s){var a=te(h=>AH(h,e,t)),l=te(Ax),c=te(kx),u=te(rT),d=te(VH),f=d==null?void 0:d.active;x.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Oy({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});gc.emit(My,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function ON(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function CN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ON(Object(r),!0).forEach(function(n){QH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ON(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QH(e,t,r){return(t=ZH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZH(e){var t=eG(e,"string");return typeof t=="symbol"?t:t+""}function eG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tG(e){return e.dataKey}function rG(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(B9,t)}var TN=[],nG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ys.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vs(e){var t=Hr(e,nG),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:y,shared:w,trigger:g,defaultIndex:v,portal:b,axisId:j}=t,S=Ye(),N=typeof v=="number"?String(v):v;x.useEffect(()=>{S(Tq({shared:w,trigger:g,axisId:j,active:r,defaultIndex:N}))},[S,w,g,j,r,N]);var P=Jv(),A=FO(),R=kq(w),{activeIndex:T,isActive:O}=te(Z=>CH(Z,R,g,N)),B=te(Z=>OH(Z,R,g,N)),M=te(Z=>iM(Z,R,g,N)),_=te(Z=>EH(Z,R,g,N)),E=B,I=LH(),F=r??O,[k,C]=Z8([E,F]),U=R==="axis"?M:void 0;JH(R,g,_,U,T,F);var H=b??I;if(H==null)return null;var G=E??TN;F||(G=TN),l&&G.length&&(G=y8(E.filter(Z=>Z.value!=null&&(Z.hide!==!0||t.includeHidden)),d,tG));var ve=G.length>0,z=x.createElement(q9,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:F,coordinate:_,hasPayload:ve,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:p,lastBoundingBox:k,innerRef:C,hasPortalFromProps:!!b},rG(a,CN(CN({},t),{},{payload:G,label:U,active:F,coordinate:_,accessibilityLayer:A})));return x.createElement(x.Fragment,null,Vk.createPortal(z,H),F&&x.createElement(IH,{cursor:y,tooltipEventType:R,coordinate:_,payload:E,index:T}))}var uM={},dM={},fM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{p(),a=void 0,l=null},w=()=>{d()},g=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return g.schedule=m,g.cancel=y,g.flush=w,i==null||i.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(fM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fM;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(dM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dM;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(uM);var iG=uM.throttle;const sG=Kr(iG);var Rl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){aG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aG(e,t,r){return(t=oG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oG(e){var t=lG(e,"string");return typeof t=="symbol"?t:t+""}function lG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ks=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,y=x.useRef(null),w=x.useRef();w.current=m,x.useImperativeHandle(t,()=>y.current);var[g,v]=x.useState({containerWidth:n.width,containerHeight:n.height}),b=x.useCallback((S,N)=>{v(P=>{var A=Math.round(S),R=Math.round(N);return P.containerWidth===A&&P.containerHeight===R?P:{containerWidth:A,containerHeight:R}})},[]);x.useEffect(()=>{var S=R=>{var T,{width:O,height:B}=R[0].contentRect;b(O,B),(T=w.current)===null||T===void 0||T.call(w,O,B)};d>0&&(S=sG(S,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(S),{width:P,height:A}=y.current.getBoundingClientRect();return b(P,A),N.observe(y.current),()=>{N.disconnect()}},[b,d]);var j=x.useMemo(()=>{var{containerWidth:S,containerHeight:N}=g;if(S<0||N<0)return null;Rl(ws(i)||ws(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Rl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=ws(i)?S:i,A=ws(s)?N:s;return r&&r>0&&(P?A=P/r:A&&(P=A*r),c&&A>c&&(A=c)),Rl(P>0||A>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,A,i,s,a,l,r),x.Children.map(u,R=>x.cloneElement(R,{width:P,height:A,style:xp({width:P,height:A},R.props.style)}))},[r,u,s,c,l,a,g,i]);return x.createElement("div",{id:f?"".concat(f):void 0,className:me("recharts-responsive-container",h),style:xp(xp({},p),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:y},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Zs=e=>null;Zs.displayName="Cell";function cG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fG{constructor(t){cG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function hG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yG={cacheSize:2e3,enableCache:!0},hM=hG({},yG),DN=new fG(hM.cacheSize),vG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},$N="recharts_measurement_span";function xG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var IN=(e,t)=>{try{var r=document.getElementById($N);r||(r=document.createElement("span"),r.setAttribute("id",$N),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,vG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Dl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};if(!hM.enableCache)return IN(t,r);var n=xG(t,r),i=DN.get(n);if(i)return i;var s=IN(t,r);return DN.set(n,s),s},LN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,BN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,bG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jG=Object.keys(mM),Ea="NaN";function SG(e,t){return e*mM[t]}class er{static parse(t){var r,[,n,i]=(r=wG.exec(t))!==null&&r!==void 0?r:[];return new er(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wr(t)&&(this.unit=""),r!==""&&!bG.test(r)&&(this.num=NaN,this.unit=""),jG.includes(r)&&(this.num=SG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function pM(e){if(e.includes(Ea))return Ea;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=LN.exec(t))!==null&&r!==void 0?r:[],a=er.parse(n??""),l=er.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Ea;t=t.replace(LN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=BN.exec(t))!==null&&u!==void 0?u:[],m=er.parse(d??""),p=er.parse(h??""),y=f==="+"?m.add(p):m.subtract(p);if(y.isNaN())return Ea;t=t.replace(BN,y.toString())}return t}var FN=/\(([^()]*)\)/;function NG(e){for(var t=e,r;(r=FN.exec(t))!=null;){var[,n]=r;t=t.replace(FN,pM(n))}return t}function PG(e){var t=e.replace(/\s+/g,"");return t=NG(t),t=pM(t),t}function _G(e){try{return PG(e)}catch{return Ea}}function bp(e){var t=_G(e.slice(5,-1));return t===Ea?"":t}var kG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],AG=["dx","dy","angle","className","breakAll"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function zN(e,t){if(e==null)return{};var r,n,i=EG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gM=/[ \f\n\r\t\v\u2028\u2029]+/,yM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];et(t)||(r?i=t.toString().split(""):i=t.toString().split(gM));var s=i.map(l=>({word:l,width:Dl(l,n).width})),a=r?0:Dl(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},OG=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=re(s),d=a,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((B,M)=>{var{word:_,width:E}=M,I=B[B.length-1];if(I&&(n==null||i||I.width+E+r<Number(n)))I.words.push(_),I.width+=E+r;else{var F={words:[_],width:E};B.push(F)}return B},[])},h=f(t),m=T=>T.reduce((O,B)=>O.width>B.width?O:B);if(!u||i)return h;var p=h.length>s||m(h).width>Number(n);if(!p)return h;for(var y="…",w=T=>{var O=d.slice(0,T),B=yM({breakAll:c,style:l,children:O+y}).wordsWithComputedWidth,M=f(B),_=M.length>s||m(M).width>Number(n);return[_,M]},g=0,v=d.length-1,b=0,j;g<=v&&b<=d.length-1;){var S=Math.floor((g+v)/2),N=S-1,[P,A]=w(N),[R]=w(S);if(!P&&!R&&(g=S+1),P&&R&&(v=S-1),!P&&R){j=A;break}b++}return j||h},UN=e=>{var t=et(e)?[]:e.toString().split(gM);return[{words:t}]},CG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Ys.isSsr){var l,c,u=yM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return UN(n);return OG({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return UN(n)},WN="#808080",Lo=x.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=WN}=e,d=zN(e,kG),f=x.useMemo(()=>CG({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:y,breakAll:w}=d,g=zN(d,AG);if(!En(r)||!En(n))return null;var v=r+(re(h)?h:0),b=n+(re(m)?m:0),j;switch(c){case"start":j=bp("calc(".concat(s,")"));break;case"middle":j=bp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=bp("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(a){var N=f[0].width,{width:P}=d;S.push("scale(".concat(re(P)?P/N:1,")"))}return p&&S.push("rotate(".concat(p,", ").concat(v,", ").concat(b,")")),S.length&&(g.transform=S.join(" ")),x.createElement("text",Ry({},je(g,!0),{ref:t,x:v,y:b,className:me("recharts-text",y),textAnchor:l,fill:u.includes("url")?WN:u}),f.map((A,R)=>{var T=A.words.join(w?"":" ");return x.createElement("tspan",{x:v,dy:R===0?j:i,key:"".concat(T,"-").concat(R)},T)}))});Lo.displayName="Text";var TG=["offset"],MG=["labelRef"];function VN(e,t){if(e==null)return{};var r,n,i=RG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=IG(e,"string");return typeof t=="symbol"?t:t+""}function IG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(null,arguments)}var LG=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},ib=e=>e!=null&&typeof e=="function",BG=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},FG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,p=(u+d)/2,y=BG(f,h),w=y>=0?1:-1,g,v;i==="insideStart"?(g=f+w*s,v=m):i==="insideEnd"?(g=h-w*s,v=!m):i==="end"&&(g=h+w*s,v=m),v=y<=0?v:!v;var b=Ne(l,c,p,g),j=Ne(l,c,p,g+(v?1:-1)*359),S="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),N=et(e.id)?ac("recharts-radial-line-"):e.id;return x.createElement("text",In({},r,{dominantBaseline:"central",className:me("recharts-radial-bar-label",a)}),x.createElement("defs",null,x.createElement("path",{id:N,d:S})),x.createElement("textPath",{xlinkHref:"#".concat(N)},t))},zG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Ne(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:p}=Ne(n,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},UG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,y=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var g={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Xe(Xe({},g),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Xe(Xe({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-p,y:a+c/2,textAnchor:y,verticalAnchor:"middle"};return Xe(Xe({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Xe(Xe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var S=r?{width:l,height:c}:{};return i==="insideLeft"?Xe({x:s+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},S):i==="insideRight"?Xe({x:s+l-p,y:a+c/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideTop"?Xe({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},S):i==="insideBottom"?Xe({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},S):i==="insideTopLeft"?Xe({x:s+p,y:a+d,textAnchor:w,verticalAnchor:h},S):i==="insideTopRight"?Xe({x:s+l-p,y:a+d,textAnchor:y,verticalAnchor:h},S):i==="insideBottomLeft"?Xe({x:s+p,y:a+c-d,textAnchor:w,verticalAnchor:f},S):i==="insideBottomRight"?Xe({x:s+l-p,y:a+c-d,textAnchor:y,verticalAnchor:f},S):i&&typeof i=="object"&&(re(i.x)||ws(i.x))&&(re(i.y)||ws(i.y))?Xe({x:s+Gt(i.x,l),y:a+Gt(i.y,c),textAnchor:"end",verticalAnchor:"end"},S):Xe({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},WG=e=>"cx"in e&&re(e.cx);function ir(e){var{offset:t=5}=e,r=VN(e,TG),n=Xe({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=te(Co),m=Jv(),p=s==="center"?m:h??m,y=i||p;if(!y||et(a)&&et(l)&&!x.isValidElement(c)&&typeof c!="function")return null;var w=Xe(Xe({},n),{},{viewBox:y});if(x.isValidElement(c)){var g=VN(w,MG);return x.cloneElement(c,g)}var v;if(typeof c=="function"){if(v=x.createElement(c,w),x.isValidElement(v))return v}else v=LG(n);var b=WG(y),j=je(n,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return FG(n,v,j,y);var S=b?zG(y,n.offset,n.position):UG(n,y);return x.createElement(Lo,In({ref:f,className:me("recharts-label",u)},j,S,{breakAll:d}),v)}ir.displayName="Label";var vM=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:y,clockWise:w,labelViewBox:g}=e;if(g)return g;if(re(p)&&re(y)){if(re(d)&&re(f))return{x:d,y:f,width:p,height:y};if(re(h)&&re(m))return{x:h,y:m,width:p,height:y}}if(re(d)&&re(f))return{x:d,y:f,width:0,height:0};if(re(t)&&re(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},VG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(ir,In({key:"label-implicit"},n)):En(e)?x.createElement(ir,In({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===ir?x.cloneElement(e,Xe({key:"label-implicit"},n)):x.createElement(ir,In({key:"label-implicit",content:e},n)):ib(e)?x.createElement(ir,In({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(ir,In({},e,{key:"label-implicit"},n)):null},KG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=vM(t),l=Mc(i,ir).map((u,d)=>x.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=VG(t.label,r||a,s);return[c,...l]};ir.parseViewBox=vM;ir.renderCallByParent=KG;var xM={},bM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(bM);var wM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(wM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bM,r=wM,n=gh;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(xM);var qG=xM.last;const jM=Kr(qG);var HG=["valueAccessor"],GG=["data","dataKey","clockWise","id","textBreakAll"];function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function HN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){YG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YG(e,t,r){return(t=XG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XG(e){var t=JG(e,"string");return typeof t=="symbol"?t:t+""}function JG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GN(e,t){if(e==null)return{};var r,n,i=QG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZG=e=>Array.isArray(e.value)?jM(e.value):e.value;function Bi(e){var{valueAccessor:t=ZG}=e,r=GN(e,HG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=GN(r,GG);return!n||!n.length?null:x.createElement(Ge,{className:"recharts-label-list"},n.map((u,d)=>{var f=et(i)?t(u,d):$e(u&&u.payload,i),h=et(a)?{}:{id:"".concat(a,"-").concat(d)};return x.createElement(ir,pf({},je(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:ir.parseViewBox(et(s)?u:HN(HN({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Bi.displayName="LabelList";function eY(e,t){return e?e===!0?x.createElement(Bi,{key:"labelList-implicit",data:t}):x.isValidElement(e)||ib(e)?x.createElement(Bi,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?x.createElement(Bi,pf({data:t},e,{key:"labelList-implicit"})):null:null}function tY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Mc(n,Bi).map((a,l)=>x.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=eY(e.label,t);return[s,...i]}Bi.renderCallByParent=tY;var rY=["points","className","baseLinePoints","connectNulls"];function Oa(){return Oa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oa.apply(null,arguments)}function nY(e,t){if(e==null)return{};var r,n,i=iY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function iY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YN=e=>e&&e.x===+e.x&&e.y===+e.y,sY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{YN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),YN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},$l=(e,t)=>{var r=sY(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},aY=(e,t,r)=>{var n=$l(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat($l(t.reverse(),r).slice(1))},SM=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=nY(e,rY);if(!t||!t.length)return null;var a=me("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=aY(t,n,i);return x.createElement("g",{className:a},x.createElement("path",Oa({},je(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?x.createElement("path",Oa({},je(s,!0),{fill:"none",d:$l(t,i)})):null,l?x.createElement("path",Oa({},je(s,!0),{fill:"none",d:$l(n,i)})):null)}var u=$l(t,i);return x.createElement("path",Oa({},je(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}var sb=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=me("recharts-dot",i);return t===+t&&r===+r&&n===+n?x.createElement("circle",Dy({},Ft(e),Cv(e),{className:s,cx:t,cy:r,r:n})):null},ab=e=>e.graphicalItems.polarItems,oY=L([Ce,Uc],Tx),ob=L([ab,it,oY],Rx),lY=L([ob],Dx),lb=L([lY,Lh],$x),NM=L([lb,it,ob],Lx),cY=L([lb,it,ob],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=$e(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),XN=()=>{},uY=L([it,ST,XN,cY,XN,ye,Ce],Fx),PM=L([it,ye,lb,NM,Fc,Ce,uY],zx),_M=L([PM,it,rs],Wx),dY=L([it,PM,_M,Ce],Kx),cb=(e,t,r)=>{switch(t){case"angleAxis":return Oo(e,r);case"radiusAxis":return zc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ub=(e,t,r)=>{switch(t){case"angleAxis":return IK(e,r);case"radiusAxis":return LK(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Bo=L([cb,rs,dY,ub],Kh),kM=L([ye,NM,Mo,Ce],qx),Fo=L([ye,cb,rs,Bo,_M,ub,Kc,kM,Ce],TT);L([ye,cb,Bo,ub,Kc,kM,Ce],RT);var fY=(e,t)=>Fo(e,"angleAxis",t,!1),hY=L([fY],e=>{if(e)return e.map(t=>t.coordinate)}),mY=(e,t)=>Fo(e,"radiusAxis",t,!1),pY=L([mY],e=>{if(e)return e.map(t=>t.coordinate)}),gY=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function yY(e,t){if(e==null)return{};var r,n,i=vY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){xY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xY(e,t,r){return(t=bY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bY(e){var t=wY(e,"string");return typeof t=="symbol"?t:t+""}function wY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jY=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=Ne(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},SY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=fo({stroke:"#ccc"},Ft(e));return x.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=Ne(t,r,n,c),d=Ne(t,r,i,c);return x.createElement("line",ti({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},NY=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=fo(fo({stroke:"#ccc"},Ft(e)),{},{fill:"none"});return x.createElement("circle",ti({},s,{className:me("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},PY=e=>{var{radius:t,index:r}=e,n=fo(fo({stroke:"#ccc"},Ft(e)),{},{fill:"none"});return x.createElement("path",ti({},n,{className:me("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:jY(t,e.cx,e.cy,e.polarAngles)}))},_Y=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:x.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?x.createElement(NY,ti({key:s},e,{radius:n,index:i})):x.createElement(PY,ti({key:s},e,{radius:n,index:i}))}))},AM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:y,outerRadius:w}=e,g=yY(e,gY),v=te(Co),b=fo({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=v==null?void 0:v.cy)!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0,innerRadius:(s=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:y)!==null&&s!==void 0?s:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},g),{polarAngles:j,polarRadius:S,cx:N,cy:P,innerRadius:A,outerRadius:R}=b,T=te(_=>hY(_,f)),O=te(_=>pY(_,h)),B=Array.isArray(j)?j:T,M=Array.isArray(S)?S:O;return R<=0||B==null||M==null?null:x.createElement("g",{className:"recharts-polar-grid"},x.createElement(SY,ti({cx:N,cy:P,innerRadius:A,outerRadius:R,gridType:u,radialLines:d},b,{polarAngles:B,polarRadius:M})),x.createElement(_Y,ti({cx:N,cy:P,innerRadius:A,outerRadius:R,gridType:u,radialLines:d},b,{polarAngles:B,polarRadius:M})))};AM.displayName="PolarGrid";var EM={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(OM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM,r=Rc,n=yh;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(EM);var kY=EM.maxBy;const AY=Kr(kY);var CM={},TM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(TM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TM,r=Rc,n=yh;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(CM);var EY=CM.minBy;const OY=Kr(EY);var CY={radiusAxis:{},angleAxis:{}},MM=kr({name:"polarAxis",initialState:CY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:TY,removeRadiusAxis:MY,addAngleAxis:RY,removeAngleAxis:DY}=MM.actions,$Y=MM.reducer,IY=["cx","cy","angle","axisLine"],LY=["angle","tickFormatter","stroke","tick"];function yc(){return yc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yc.apply(null,arguments)}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QN(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RM(e,t){if(e==null)return{};var r,n,i=zY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DM="radiusAxis";function UY(e){var t=Ye();return x.useEffect(()=>(t(TY(e)),()=>{t(MY(e))})),null}var WY=(e,t,r,n)=>{var{coordinate:i}=e;return Ne(r,n,i,t)},VY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},KY=(e,t,r,n)=>{var i=AY(n,a=>a.coordinate||0),s=OY(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},qY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=RM(e,IY),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Ne(r,n,l[0],i),u=Ne(r,n,l[1],i),d=vn(vn(vn({},Ft(a)),{},{fill:"none"},je(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return x.createElement("line",yc({className:"recharts-polar-radius-axis-line"},d))},HY=(e,t,r)=>{var n;return x.isValidElement(e)?n=x.cloneElement(e,t):typeof e=="function"?n=e(t):n=x.createElement(Lo,yc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},GY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=RM(e,LY),l=VY(e.orientation),c=Ft(a),u=je(s,!1),d=t.map((f,h)=>{var m=WY(f,e.angle,e.cx,e.cy),p=vn(vn(vn(vn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return x.createElement(Ge,yc({className:me("recharts-polar-radius-axis-tick",_O(s)),key:"tick-".concat(f.coordinate)},Po(e,f,h)),HY(s,p,n?n(f.value,h):f.value))});return x.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},d)},YY=e=>{var{radiusAxisId:t}=e,r=te(Co),n=te(c=>Bo(c,"radiusAxis",t)),i=te(c=>Fo(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=vn(vn(vn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return x.createElement(Ge,{className:me("recharts-polar-radius-axis",DM,s.className)},l&&qY(s,i),a&&GY(s,i),ir.renderCallByParent(s,KY(s.angle,s.cx,s.cy,i)))};class Xh extends x.PureComponent{render(){return x.createElement(x.Fragment,null,x.createElement(UY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),x.createElement(YY,this.props))}}Yh(Xh,"displayName","PolarRadiusAxis");Yh(Xh,"axisType",DM);Yh(Xh,"defaultProps",tr);var XY=["children"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jh(e,t,r){return(t=JY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JY(e){var t=QY(e,"string");return typeof t=="symbol"?t:t+""}function QY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZY(e,t){if(e==null)return{};var r,n,i=eX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tX=Math.PI/180,eP=1e-5,$M="angleAxis";function rX(e){var t=Ye(),r=x.useMemo(()=>{var s=ZY(e,XY);return s},[e]),n=te(s=>Oo(s,r.id)),i=r===n;return x.useEffect(()=>(t(RY(r)),()=>{t(DY(r))}),[t,r]),i?e.children:null}var nX=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=Ne(r,n,i,e.coordinate),u=Ne(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},iX=(e,t)=>{var r=Math.cos(-e.coordinate*tX);return r>eP?t==="outer"?"start":"end":r<-eP?t==="outer"?"end":"start":"middle"},sX=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=gn(gn({},Ft(e)),{},{fill:"none"},je(s,!1));if(i==="circle")return x.createElement(sb,ri({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>Ne(t,r,n,u.coordinate));return x.createElement(SM,ri({className:"recharts-polar-angle-axis-line"},l,{points:c}))},aX=e=>{var{tick:t,tickProps:r,value:n}=e;return t?x.isValidElement(t)?x.cloneElement(t,r):typeof t=="function"?t(r):x.createElement(Lo,ri({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},oX=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=Ft(e),l=je(t,!1),c=gn(gn({},a),{},{fill:"none"},je(r,!1)),u=s.map((d,f)=>{var h=nX(d,e),m=iX(d,e.orientation),p=gn(gn(gn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return x.createElement(Ge,ri({className:me("recharts-polar-angle-axis-tick",_O(t)),key:"tick-".concat(d.coordinate)},Po(e,d,f)),r&&x.createElement("line",ri({className:"recharts-polar-angle-axis-tick-line"},c,h)),x.createElement(aX,{tick:t,tickProps:p,value:n?n(d.value,f):d.value}))});return x.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},u)},lX=e=>{var{angleAxisId:t}=e,r=te(Co),n=te(l=>Bo(l,"angleAxis",t)),i=fr(),s=te(l=>Fo(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=gn(gn(gn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return x.createElement(Ge,{className:me("recharts-polar-angle-axis",$M,a.className)},x.createElement(sX,ri({},a,{ticks:s})),x.createElement(oX,ri({},a,{ticks:s})))};class Qh extends x.PureComponent{render(){return this.props.radius<=0?null:x.createElement(rX,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},x.createElement(lX,this.props))}}Jh(Qh,"displayName","PolarAngleAxis");Jh(Qh,"axisType",$M);Jh(Qh,"defaultProps",pn);function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fX=(e,t)=>t,db=L([ab,fX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),hX=[],fb=(e,t,r)=>(r==null?void 0:r.length)===0?hX:r,IM=L([Lh,db,fb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>rP(rP({},t.presentationProps),s.props))),i!=null)return i}}),mX=L([IM,db,fb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=$e(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:_o(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),pX=L([IM,db,fb,ht],(e,t,r,n)=>{if(!(t==null||e==null))return aJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),LM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(LM);var gX=LM.isPlainObject;const yX=Kr(gX);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var nP=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},vX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xX=e=>{var t=Hr(e,vX),r=x.useRef(),[n,i]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var y=me("recharts-trapezoid",d);return p?x.createElement(Zd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:p},w=>{var{upperWidth:g,lowerWidth:v,height:b,x:j,y:S}=w;return x.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},x.createElement("path",gf({},je(t,!0),{className:y,d:nP(j,S,g,v,b),ref:r})))}):x.createElement("g",null,x.createElement("path",gf({},je(t,!0),{className:y,d:nP(s,a,l,c,u)})))},bX=["option","shapeType","propTransformer","activeClassName","isActive"];function wX(e,t){if(e==null)return{};var r,n,i=jX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){SX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SX(e,t,r){return(t=NX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NX(e){var t=PX(e,"string");return typeof t=="symbol"?t:t+""}function PX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _X(e,t){return yf(yf({},t),e)}function kX(e,t){return e==="symbols"}function sP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(QO,r);case"trapezoid":return x.createElement(xX,r);case"sector":return x.createElement(tC,r);case"symbols":if(kX(t))return x.createElement(EE,r);break;default:return null}}function AX(e){return x.isValidElement(e)?e.props:e}function BM(e){var{option:t,shapeType:r,propTransformer:n=_X,activeClassName:i="recharts-active-shape",isActive:s}=e,a=wX(e,bX),l;if(x.isValidElement(t))l=x.cloneElement(t,yf(yf({},a),AX(t)));else if(typeof t=="function")l=t(a);else if(yX(t)&&typeof t!="boolean"){var c=n(t,a);l=x.createElement(sP,{shapeType:r,elementProps:c})}else{var u=a;l=x.createElement(sP,{shapeType:r,elementProps:u})}return s?x.createElement(Ge,{className:i},l):l}var hb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(FT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},mb=e=>{var t=Ye();return(r,n)=>i=>{e==null||e(r,n,i),t(Mq())}},pb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(Rq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function gb(e){var{fn:t,args:r}=e,n=Ye(),i=fr();return x.useEffect(()=>{if(!i){var s=t(r);return n(Oq(s)),()=>{n(Cq(s))}}},[t,r,n,i]),null}var FM=()=>{};function EX(e){var{legendPayload:t}=e,r=Ye(),n=fr();return x.useEffect(()=>n?FM:(r(LO(t)),()=>{r(BO(t))}),[r,n,t]),null}function zM(e){var{legendPayload:t}=e,r=Ye(),n=te(ye);return x.useEffect(()=>n!=="centric"&&n!=="radial"?FM:(r(LO(t)),()=>{r(BO(t))}),[r,n,t]),null}function yb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(ac(t)),n=x.useRef(e);return n.current!==e&&(r.current=ac(t),n.current=e),r.current}var wp,OX=()=>{var[e]=x.useState(()=>ac("uid-"));return e},CX=(wp=QR.useId)!==null&&wp!==void 0?wp:OX;function TX(e,t){var r=CX();return t||(e?"".concat(e,"-").concat(r):r)}var MX=x.createContext(void 0),vb=e=>{var{id:t,type:r,children:n}=e,i=TX("recharts-".concat(r),t);return x.createElement(MX.Provider,{value:i},n(i))},RX={cartesianItems:[],polarItems:[]},UM=kr({name:"graphicalItems",initialState:RX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Vn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Vn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Vn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:DX,replaceCartesianGraphicalItem:$X,removeCartesianGraphicalItem:IX,addPolarGraphicalItem:LX,removePolarGraphicalItem:BX}=UM.actions,FX=UM.reducer;function zX(e){var t=Ye(),r=x.useRef(null);return x.useEffect(()=>{r.current===null?t(DX(e)):r.current!==e&&t($X({prev:r.current,next:e})),r.current=e},[t,e]),x.useEffect(()=>()=>{r.current&&(t(IX(r.current)),r.current=null)},[t]),null}function WM(e){var t=Ye();return x.useEffect(()=>(t(LX(e)),()=>{t(BX(e))}),[t,e]),null}function UX(){}var WX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aP={t:0},jp={t:1};function xb(e){var t=Hr(e,WX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=JO("JavascriptAnimate",t.animationManager),[f,h]=x.useState(r?aP:jp),m=x.useRef(null);return x.useEffect(()=>{r||h(jp)},[r]),x.useEffect(()=>{if(!r||!n)return UX;var p=XO(aP,jp,GO(s),i,h,d.getTimeoutController()),y=()=>{m.current=p()};return d.start([c,a,y,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var VX=["onMouseEnter","onClick","onMouseLeave"],KX=["id"],qX=["id"];function bb(e,t){if(e==null)return{};var r,n,i=HX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){GX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GX(e,t,r){return(t=YX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YX(e){var t=XX(e,"string");return typeof t=="symbol"?t:t+""}function XX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function JX(e){var t=x.useMemo(()=>Mc(e.children,Zs),[e.children]),r=te(n=>mX(n,e.id,t));return r==null?null:x.createElement(zM,{legendPayload:r})}function QX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:_o(l,t),hide:c,type:u,color:a,unit:""}}}var ZX=(e,t)=>e>t?"start":e<t?"end":"middle",eJ=(e,t,r)=>typeof t=="function"?t(e):Gt(t,r,r*.8),tJ=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=PO(s,a),c=i+Gt(e.cx,s,s/2),u=n+Gt(e.cy,a,a/2),d=Gt(e.innerRadius,l,0),f=eJ(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},rJ=(e,t)=>{var r=wt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},nJ=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var r=me("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(zO,ni({},t,{type:"linear",className:r}))},iJ=(e,t,r)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),x.isValidElement(n)))return n;var i=me("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return x.createElement(Lo,ni({},t,{alignmentBaseline:"middle",className:i}),n)};function sJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=Ft(r),c=je(i,!1),u=je(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,y=Ne(h.cx,h.cy,h.outerRadius+d,p),w=Ze(Ze(Ze(Ze({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:ZX(y.x,h.cx)},y),g=Ze(Ze(Ze(Ze({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Ne(h.cx,h.cy,h.outerRadius,p),y],key:"line"});return x.createElement(Ge,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&nJ(s,g),iJ(i,w,$e(h,a)))});return x.createElement(Ge,{className:"recharts-pie-labels"},f)}function VM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=te(Ki),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=bb(i,VX),f=hb(l,i.dataKey),h=mb(u),m=pb(c,i.dataKey);return t==null?null:x.createElement(x.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var w=r&&String(y)===a,g=a?n:null,v=w?r:g,b=Ze(Ze({},p),{},{stroke:p.stroke,tabIndex:-1,[CO]:y,[TO]:i.dataKey});return x.createElement(Ge,ni({tabIndex:-1,className:"recharts-pie-sector"},Po(d,p,y),{onMouseEnter:f(p,y),onMouseLeave:h(p,y),onClick:m(p,y),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y)}),x.createElement(BM,ni({option:v,isActive:w,shapeType:"sector"},b)))}),x.createElement(sJ,{sectors:t,props:i,showLabels:s}))}function aJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=rJ(l,c),p=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(N=>$e(N,u,0)!==0).length,g=(p>=360?w:w-1)*y,v=p-w*h-g,b=n.reduce((N,P)=>{var A=$e(P,u,0);return N+(re(A)?A:0)},0),j;if(b>0){var S;j=n.map((N,P)=>{var A=$e(N,u,0),R=$e(N,d,P),T=tJ(r,s,N),O=(re(A)?A:0)/b,B,M=Ze(Ze({},N),i&&i[P]&&i[P].props);P?B=S.endAngle+wt(m)*y*(A!==0?1:0):B=l;var _=B+wt(m)*((A!==0?h:0)+O*v),E=(B+_)/2,I=(T.innerRadius+T.outerRadius)/2,F=[{name:R,value:A,payload:M,dataKey:u,type:f}],k=Ne(T.cx,T.cy,I,E);return S=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:O,cornerRadius:a,name:R,tooltipPayload:F,midAngle:E,middleRadius:I,tooltipPosition:k},M),T),{},{value:$e(N,u),startAngle:B,endAngle:_,payload:M,paddingAngle:wt(m)*y}),S})}return j}function oJ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=yb(t,"recharts-pie-"),m=r.current,[p,y]=x.useState(!0),w=x.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),g=x.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return x.createElement(xb,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:g,onAnimationEnd:w,key:h},v=>{var b=[],j=n&&n[0],S=j.startAngle;return n.forEach((N,P)=>{var A=m&&m[P],R=P>0?Vi(N,"paddingAngle",0):0;if(A){var T=Aa(A.endAngle-A.startAngle,N.endAngle-N.startAngle),O=Ze(Ze({},N),{},{startAngle:S+R,endAngle:S+T(v)+R});b.push(O),S=O.endAngle}else{var{endAngle:B,startAngle:M}=N,_=Aa(0,B-M),E=_(v),I=Ze(Ze({},N),{},{startAngle:S+R,endAngle:S+E+R});b.push(I),S=I.endAngle}}),r.current=b,x.createElement(Ge,null,x.createElement(VM,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function lJ(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=x.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?x.createElement(oJ,{props:e,previousSectorsRef:s}):x.createElement(VM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function cJ(e){var{hide:t,className:r,rootTabIndex:n}=e,i=me("recharts-pie",r);return t?null:x.createElement(Ge,{tabIndex:n,className:i},x.createElement(lJ,e))}var uJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ys.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function dJ(e){var{id:t}=e,r=bb(e,KX),n=x.useMemo(()=>Mc(e.children,Zs),[e.children]),i=te(s=>pX(s,t,n));return x.createElement(x.Fragment,null,x.createElement(gb,{fn:QX,args:Ze(Ze({},e),{},{sectors:i})}),x.createElement(cJ,ni({},r,{sectors:i})))}function Zh(e){var t=Hr(e,uJ),{id:r}=t,n=bb(t,qX),i=Ft(n);return x.createElement(vb,{id:r,type:"pie"},s=>x.createElement(x.Fragment,null,x.createElement(WM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),x.createElement(JX,ni({},n,{id:s})),x.createElement(dJ,ni({},n,{id:s})),n.children))}Zh.displayName="Pie";var fJ=L([ht],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),hJ=L([fJ,ai,oi],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),KM=()=>te(hJ),mJ=()=>te(bH);function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){pJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pJ(e,t,r){return(t=gJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gJ(e){var t=yJ(e,"string");return typeof t=="symbol"?t:t+""}function yJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=cP(cP({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},je(i,!1)),Cv(i)),l;return x.isValidElement(i)?l=x.cloneElement(i,a):typeof i=="function"?l=i(a):l=x.createElement(sb,a),x.createElement(Ge,{className:"recharts-active-dot"},l)};function xJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=te(Ki),a=mJ();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return et(l)?null:vJ({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){bJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bJ(e,t,r){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=jJ(e,"string");return typeof t=="symbol"?t:t+""}function jJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qM=(e,t)=>Bo(e,"radiusAxis",t),SJ=L([qM],e=>{if(e!=null)return{scale:e}}),NJ=L([zc,qM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),PJ=(e,t,r,n)=>Fo(e,"radiusAxis",t,n),HM=(e,t,r)=>Oo(e,r),GM=(e,t,r)=>Bo(e,"angleAxis",r),_J=L([HM,GM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),kJ=(e,t,r,n)=>Fo(e,"angleAxis",r,n),AJ=L([HM,GM,Co],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),EJ=(e,t,r,n,i)=>i,OJ=L([ye,NJ,PJ,_J,kJ],(e,t,r,n,i)=>Ji(e,"radiusAxis")?cc(t,r,!1):cc(n,i,!1)),CJ=L([ab,EJ],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),TJ=L([SJ,AJ,Lh,CJ,OJ],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return zJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),MJ=["id"];function RJ(e,t){if(e==null)return{};var r,n,i=DJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function DJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){wb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wb(e,t,r){return(t=$J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $J(e){var t=IJ(e,"string");return typeof t=="symbol"?t:t+""}function IJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function jb(e,t){return e&&e!=="none"?e:t}var LJ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:jb(n,i),value:_o(r,t),payload:e}]};function BJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:_o(s,t),hide:a,type:l,color:jb(r,i),unit:""}}}function FJ(e,t){var r;return x.isValidElement(e)?r=x.cloneElement(e,t):typeof e=="function"?r=e(t):r=x.createElement(sb,ho({},t,{className:me("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function zJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var p=$e(h,r.dataKey,m),y=$e(h,i),w=r.scale(p)+d,g=Array.isArray(y)?jM(y):y,v=et(g)?void 0:t.scale(g);Array.isArray(y)&&y.length>=2&&(c=!0),u.push(qt(qt({},Ne(a,l,v,w)),{},{name:p,value:y,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=et(m)?void 0:t.scale(m);f.push(qt(qt({},h),{},{radius:p},Ne(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function UJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=RJ(r,MJ),a=Ft(s),l=je(n,!0),c=t.map((u,d)=>{var f=qt(qt(qt({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return FJ(n,f)});return x.createElement(Ge,{className:"recharts-radar-dots"},c)}function YM(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return x.isValidElement(i)?d=x.cloneElement(i,qt(qt({},r),{},{points:t})):typeof i=="function"?d=i(qt(qt({},r),{},{points:t})):d=x.createElement(SM,ho({},je(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),x.createElement(Ge,{className:"recharts-radar-polygon"},d,x.createElement(UJ,{props:r,points:t}),n&&Bi.renderCallByParent(r,t))}function WJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=yb(t,"recharts-radar-"),[h,m]=x.useState(!0),p=x.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),y=x.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return x.createElement(xb,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:y},w=>{var g=d&&d.length/n.length,v=w===1?n:n.map((b,j)=>{var S=d&&d[Math.floor(j*g)];if(S){var N=Aa(S.x,b.x),P=Aa(S.y,b.y);return qt(qt({},b),{},{x:N(w),y:P(w)})}var A=Aa(b.cx,b.x),R=Aa(b.cy,b.y);return qt(qt({},b),{},{x:A(w),y:R(w)})});return w>0&&(r.current=v),x.createElement(YM,{points:v,props:t,showLabels:!h})})}function VJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=x.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?x.createElement(WJ,{props:e,previousPointsRef:i}):x.createElement(YM,{points:t,props:e,showLabels:!0})}var KJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ys.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class qJ extends x.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=me("recharts-radar",r);return x.createElement(x.Fragment,null,x.createElement(Ge,{className:i},x.createElement(VJ,this.props)),x.createElement(xJ,{points:n,mainColor:jb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function HJ(e){var t=fr(),r=te(n=>TJ(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return x.createElement(qJ,ho({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class Sb extends x.PureComponent{render(){return x.createElement(vb,{id:this.props.id,type:"radar"},t=>x.createElement(x.Fragment,null,x.createElement(WM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),x.createElement(zM,{legendPayload:LJ(this.props)}),x.createElement(gb,{fn:BJ,args:this.props}),x.createElement(HJ,ho({},this.props,{id:t}))))}}wb(Sb,"displayName","Radar");wb(Sb,"defaultProps",KJ);var GJ="Invariant failed";function YJ(e,t){throw new Error(GJ)}var XJ=["x","y"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ol(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){JJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t,r){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eQ(e,t){if(e==null)return{};var r,n,i=tQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rQ(e,t){var{x:r,y:n}=e,i=eQ(e,XJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ol(ol(ol(ol(ol({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function XM(e){return x.createElement(BM,$y({shapeType:"rectangle",propTransformer:rQ,activeClassName:"recharts-active-bar"},e))}var nQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(re(t))return t;var s=re(n)||et(n);return s?t(n,i):(s||YJ(),r)}},iQ={},sQ=kr({name:"errorBars",initialState:iQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),aQ=sQ.reducer,oQ=["children"];function lQ(e,t){if(e==null)return{};var r,n,i=cQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},dQ=x.createContext(uQ);function fQ(e){var{children:t}=e,r=lQ(e,oQ);return x.createElement(dQ.Provider,{value:r},t)}function JM(e,t){var r,n,i=te(u=>ci(u,e)),s=te(u=>ts(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function hQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=KM(),{needClipX:s,needClipY:a,needClip:l}=JM(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var mQ=["onMouseEnter","onMouseLeave","onClick"],pQ=["value","background","tooltipPosition"],gQ=["id"],yQ=["onMouseEnter","onClick","onMouseLeave"];function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){vQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vQ(e,t,r){return(t=xQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(e,t){if(e==null)return{};var r,n,i=wQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:_o(r,t),payload:e}]};function SQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:_o(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function NQ(e){var t=te(Ki),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=xf(s,mQ),d=hb(a,n),f=mb(l),h=pb(c,n);if(!i||r==null)return null;var m=je(i,!1);return x.createElement(x.Fragment,null,r.map((p,y)=>{var{value:w,background:g,tooltipPosition:v}=p,b=xf(p,pQ);if(!g)return null;var j=d(p,y),S=f(p,y),N=h(p,y),P=Dt(Dt(Dt(Dt(Dt({option:i,isActive:String(y)===t},b),{},{fill:"#eee"},g),m),Po(u,p,y)),{},{onMouseEnter:j,onMouseLeave:S,onClick:N,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return x.createElement(XM,mo({key:"background-bar-".concat(y)},P))}))}function QM(e){var{data:t,props:r,showLabels:n}=e,i=Ft(r),s=xf(i,gQ),{shape:a,dataKey:l,activeBar:c}=r,u=te(Ki),d=te(ZT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,p=xf(r,yQ),y=hb(f,l),w=mb(m),g=pb(h,l);return t?x.createElement(x.Fragment,null,t.map((v,b)=>{var j=c&&String(b)===u&&(d==null||l===d),S=j?c:a,N=Dt(Dt(Dt({},s),v),{},{isActive:j,option:S,index:b,dataKey:l});return x.createElement(Ge,mo({className:"recharts-bar-rectangle"},Po(p,v,b),{onMouseEnter:y(v,b),onMouseLeave:w(v,b),onClick:g(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),x.createElement(XM,N))}),n&&Bi.renderCallByParent(r,t)):null}function PQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=yb(t,"recharts-bar-"),[m,p]=x.useState(!1),y=x.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),w=x.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return x.createElement(xb,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:w,key:h},g=>{var v=g===1?n:n==null?void 0:n.map((b,j)=>{var S=f&&f[j];if(S)return Dt(Dt({},b),{},{x:aa(S.x,b.x,g),y:aa(S.y,b.y,g),width:aa(S.width,b.width,g),height:aa(S.height,b.height,g)});if(i==="horizontal"){var N=aa(0,b.height,g);return Dt(Dt({},b),{},{y:b.y+b.height-N,height:N})}var P=aa(0,b.width,g);return Dt(Dt({},b),{},{width:P})});return g>0&&(r.current=v??null),v==null?null:x.createElement(Ge,null,x.createElement(QM,{props:t,data:v,showLabels:!m}))})}function _Q(e){var{data:t,isAnimationActive:r}=e,n=x.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?x.createElement(PQ,{previousRectanglesRef:n,props:e}):x.createElement(QM,{props:e,data:t,showLabels:!0})}var ZM=0,kQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$e(e,t)}};class AQ extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=me("recharts-bar",i),f=u;return x.createElement(Ge,{className:d,id:u},l&&x.createElement("defs",null,x.createElement(hQ,{clipPathId:f,xAxisId:s,yAxisId:a})),x.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},x.createElement(NQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),x.createElement(_Q,this.props)),this.props.children)}}var EQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ys.isSsr,legendType:"rect",minPointSize:ZM,xAxisId:0,yAxisId:0};function OQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=JM(t,r),h=Qv(),m=fr(),p=Mc(e.children,Zs),y=te(v=>nZ(v,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var w,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?w=0:w=h==="vertical"?g.height/2:g.width/2,x.createElement(fQ,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:kQ,errorBarOffset:w},x.createElement(AQ,mo({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function CQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:a,y=d?p.scale.domain():null,w=v9({numericAxis:p});return f.map((g,v)=>{var b,j,S,N,P,A;d?b=f9(d[v],y):(b=$e(g,r),Array.isArray(b)||(b=[w,b]));var R=nQ(n,ZM)(b[1],v);if(t==="horizontal"){var T,[O,B]=[l.scale(b[0]),l.scale(b[1])];j=dS({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:g,index:v}),S=(T=B??O)!==null&&T!==void 0?T:void 0,N=i.size;var M=O-B;if(P=wr(M)?0:M,A={x:j,y:h.top,width:N,height:h.height},Math.abs(R)>0&&Math.abs(P)<Math.abs(R)){var _=wt(P||R)*(Math.abs(R)-Math.abs(P));S-=_,P+=_}}else{var[E,I]=[a.scale(b[0]),a.scale(b[1])];if(j=E,S=dS({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:g,index:v}),N=I-E,P=i.size,A={x:h.left,y:S,width:h.width,height:P},Math.abs(R)>0&&Math.abs(N)<Math.abs(R)){var F=wt(N||R)*(Math.abs(R)-Math.abs(N));N+=F}}if(j==null||S==null||N==null||P==null)return null;var k=Dt(Dt({},g),{},{x:j,y:S,width:N,height:P,value:d?b:b[1],payload:g,background:A,tooltipPosition:{x:j+N/2,y:S+P/2}},m&&m[v]&&m[v].props);return k}).filter(Boolean)}function em(e){var t=Hr(e,EQ),r=fr();return x.createElement(vb,{id:t.id,type:"bar"},n=>x.createElement(x.Fragment,null,x.createElement(EX,{legendPayload:jQ(t)}),x.createElement(gb,{fn:SQ,args:t}),x.createElement(zX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:y9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),x.createElement(OQ,mo({},t,{id:n}))))}em.displayName="Bar";function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){TQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TQ(e,t,r){return(t=MQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MQ(e){var t=RQ(e,"string");return typeof t=="symbol"?t:t+""}function RQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DQ=(e,t)=>t,$Q=(e,t,r)=>r,IQ=(e,t,r,n)=>n,LQ=(e,t,r,n,i)=>i,Gc=L([Mx,LQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),BQ=L([Gc],e=>e==null?void 0:e.maxBarSize),FQ=(e,t,r,n,i,s)=>s,pP=(e,t,r)=>{var n=r??e;if(!et(n))return Gt(n,t,0)},zQ=L([ye,Mx,DQ,$Q,IQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),UQ=(e,t,r,n)=>{var i=ye(e);return i==="horizontal"?Ey(e,"yAxis",r,n):Ey(e,"xAxis",t,n)},WQ=(e,t,r)=>{var n=ye(e);return n==="horizontal"?bN(e,"xAxis",t):bN(e,"yAxis",r)},VQ=(e,t,r)=>{var n={},i=e.filter(Uh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=pP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=pP(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},KQ=L([zQ,CK,WQ],VQ),qQ=(e,t,r,n,i)=>{var s,a,l=Gc(e,t,r,n,i);if(l!=null){var c=ye(e),u=eT(e),{maxBarSize:d}=l,f=et(d)?u:d,h,m;return c==="horizontal"?(h=uo(e,"xAxis",t,n),m=co(e,"xAxis",t,n)):(h=uo(e,"yAxis",r,n),m=co(e,"yAxis",r,n)),(s=(a=cc(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},eR=(e,t,r,n)=>{var i=ye(e),s,a;return i==="horizontal"?(s=uo(e,"xAxis",t,n),a=co(e,"xAxis",t,n)):(s=uo(e,"yAxis",r,n),a=co(e,"yAxis",r,n)),cc(s,a)};function HQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Gt(e,r,0,!0),l,c=[];if(Nr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((g,v)=>g+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((g,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},S=[...g,j];return m=S[S.length-1].position,S},c)}else{var p=Gt(t,r,0,!0);r-2*p-(s-1)*a<=0&&(a=0);var y=(r-2*p-(s-1)*a)/s;y>1&&(y>>=0);var w=Nr(i)?Math.min(y,i):y;l=n.reduce((g,v,b)=>[...g,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p+(y+a)*b+(y-w)/2,size:w}}],c)}return l}}var GQ=(e,t,r,n,i,s,a)=>{var l=et(a)?t:a,c=HQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Iu(Iu({},u),{},{position:Iu(Iu({},u.position),{},{offset:u.position.offset-i/2})}))),c},YQ=L([KQ,eT,OK,tT,qQ,eR,BQ],GQ),XQ=(e,t,r,n)=>uo(e,"xAxis",t,n),JQ=(e,t,r,n)=>uo(e,"yAxis",r,n),QQ=(e,t,r,n)=>co(e,"xAxis",t,n),ZQ=(e,t,r,n)=>co(e,"yAxis",r,n),eZ=L([YQ,Gc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),tZ=(e,t)=>{var r=Ox(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},rZ=L([UQ,Gc],tZ),nZ=L([ht,XQ,JQ,QQ,ZQ,eZ,ye,Sx,eR,rZ,Gc,FQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:y}=d,w;if(y!=null&&y.length>0?w=y:w=h==null?void 0:h.slice(m,p+1),w!=null)return CQ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),tR=e=>{var{chartData:t}=e,r=Ye(),n=fr();return x.useEffect(()=>n?()=>{}:(r(EN(t)),()=>{r(EN(void 0))}),[t,r,n]),null},gP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iZ=kr({name:"brush",initialState:gP,reducers:{setBrushSettings(e,t){return t.payload==null?gP:t.payload}}}),sZ=iZ.reducer;function aZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Nb{static create(t){return new Nb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}aZ(Nb,"EPS",1e-4);function cZ(e){return(e%180+180)%180}var uZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=cZ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},dZ={dots:[],areas:[],lines:[]},fZ=kr({name:"referenceElements",initialState:dZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Vn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Vn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Vn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),hZ=fZ.reducer,mZ=x.createContext(void 0),pZ=e=>{var{children:t}=e,[r]=x.useState("".concat(ac("recharts"),"-clip")),n=KM();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return x.createElement(mZ.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function Sp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function rR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function gZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return uZ(n,r)}function yZ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function bf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function vZ(e,t){return rR(e,t+1)}function xZ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:rR(n,u)};var y=c,w,g=()=>(w===void 0&&(w=r(p,y)),w),v=p.coordinate,b=c===0||bf(e,v,g,d,l);b||(c=0,d=a,u+=1),b&&(d=v+e*(g()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){bZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bZ(e,t,r){return(t=wZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return typeof t=="symbol"?t:t+""}function jZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SZ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,y=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var w=e*(m.coordinate+e*y()/2-c);s[h]=m=Mt(Mt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=Mt(Mt({},m),{},{tickCoord:m.coordinate});var g=bf(e,m.tickCoord,y,l,c);g&&(c=m.tickCoord-e*(y()/2+i),s[h]=Mt(Mt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function NZ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Mt(Mt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=bf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Mt(Mt({},d),{},{isShow:!0}))}for(var p=s?l-1:l,y=function(v){var b=a[v],j,S=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var N=e*(b.coordinate-e*S()/2-c);a[v]=b=Mt(Mt({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else a[v]=b=Mt(Mt({},b),{},{tickCoord:b.coordinate});var P=bf(e,b.tickCoord,S,c,u);P&&(c=b.tickCoord+e*(S()/2+i),a[v]=Mt(Mt({},b),{},{isShow:!0}))},w=0;w<p;w++)y(w);return a}function Pb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(re(c)||Ys.isSsr){var h;return(h=vZ(i,re(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?Dl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var S=typeof u=="function"?u(b.value,j):b.value;return p==="width"?gZ(Dl(S,{fontSize:t,letterSpacing:r}),y,f):Dl(S,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?wt(i[1].coordinate-i[0].coordinate):1,v=yZ(s,g,p);return c==="equidistantPreserveStart"?xZ(g,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=NZ(g,v,w,i,a,c==="preserveStartEnd"):m=SZ(g,v,w,i,a),m.filter(b=>b.isShow))}var PZ=["viewBox"],_Z=["viewBox"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){_b(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xP(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _b(e,t,r){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ns extends x.Component{constructor(t){super(t),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=xP(t,PZ),s=this.props,{viewBox:a}=s,l=xP(s,_Z);return!Sp(n,a)||!Sp(i,l)||!Sp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,y,w=c?-1:1,g=t.tickSize||l,v=re(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*g,y=h-w*u,p=v;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*g,p=d-w*u,y=v;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*g,p=d+w*u,y=v;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*g,y=h+w*u,p=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=ut(ut(ut({},je(this.props,!1)),je(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=ut(ut({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=ut(ut({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return x.createElement("line",Ca({},c,{className:me("recharts-cartesian-axis-line",Vi(l,"className"))}))}static renderTickItem(t,r,n){var i,s=me(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))i=x.cloneElement(t,ut(ut({},r),{},{className:s}));else if(typeof t=="function")i=t(ut(ut({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=me(a,t.className)),i=x.createElement(Lo,Ca({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=Pb(ut(ut({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ft(this.props),p=je(a,!1),y=ut(ut({},m),{},{fill:"none"},je(i,!1)),w=d.map((g,v)=>{var{line:b,tick:j}=this.getTickLineCoord(g),S=ut(ut(ut(ut({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},p),j),{},{index:v,payload:g,visibleTicksCount:d.length,tickFormatter:l,padding:u});return x.createElement(Ge,Ca({className:"recharts-cartesian-axis-tick",key:"tick-".concat(g.value,"-").concat(g.coordinate,"-").concat(g.tickCoord)},Po(this.props,g,v)),i&&x.createElement("line",Ca({},y,b,{className:me("recharts-cartesian-axis-tick-line",Vi(i,"className"))})),a&&ns.renderTickItem(a,S,"".concat(typeof l=="function"?l(g.value,v):g.value).concat(c||"")))});return w.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:x.createElement(Ge,{className:me("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ir.renderCallByParent(this.props))}}_b(ns,"displayName","CartesianAxis");_b(ns,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var OZ=["x1","y1","x2","y2","key"],CZ=["offset"],TZ=["xAxisId","yAxisId"],MZ=["xAxisId","yAxisId"];function bP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bP(Object(r),!0).forEach(function(n){RZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,i=IZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return x.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function nR(e,t){var r;if(x.isValidElement(e))r=x.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=wf(t,OZ),u=Ft(c),d=wf(u,CZ);r=x.createElement("line",Ps({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function BZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,TZ),a=i.map((l,c)=>{var u=$t($t({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return nR(n,u)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function FZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,MZ),a=i.map((l,c)=>{var u=$t($t({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return nR(n,u)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function zZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var y=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function UZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var y=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var WZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return AO(Pb($t($t($t({},ns.defaultProps),r),{},{ticks:EO(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},VZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return AO(Pb($t($t($t({},ns.defaultProps),r),{},{ticks:EO(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},KZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function tm(e){var t=DO(),r=$O(),n=RO(),i=$t($t({},Hr(e,KZ)),{},{x:re(e.x)?e.x:n.left,y:re(e.y)?e.y:n.top,width:re(e.width)?e.width:n.width,height:re(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=fr(),y=te(R=>wN(R,"xAxis",s,p)),w=te(R=>wN(R,"yAxis",a,p));if(!re(u)||u<=0||!re(d)||d<=0||!re(l)||l!==+l||!re(c)||c!==+c)return null;var g=i.verticalCoordinatesGenerator||WZ,v=i.horizontalCoordinatesGenerator||VZ,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof v=="function"){var S=h&&h.length,N=v({yAxis:w?$t($t({},w),{},{ticks:S?h:w.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);Rl(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!j||!j.length)&&typeof g=="function"){var P=m&&m.length,A=g({xAxis:y?$t($t({},y),{},{ticks:P?m:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);Rl(Array.isArray(A),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof A,"]")),Array.isArray(A)&&(j=A)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(LZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),x.createElement(zZ,Ps({},i,{horizontalPoints:b})),x.createElement(UZ,Ps({},i,{verticalPoints:j})),x.createElement(BZ,Ps({},i,{offset:n,horizontalPoints:b,xAxis:y,yAxis:w})),x.createElement(FZ,Ps({},i,{offset:n,verticalPoints:j,xAxis:y,yAxis:w})))}tm.displayName="CartesianGrid";function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){qZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qZ(e,t,r){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HZ(e){var t=GZ(e,"string");return typeof t=="symbol"?t:t+""}function GZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YZ={xAxis:{},yAxis:{},zAxis:{}},iR=kr({name:"cartesianAxis",initialState:YZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=jP(jP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:XZ,removeXAxis:JZ,addYAxis:QZ,removeYAxis:ZZ,addZAxis:Pre,removeZAxis:_re,updateYAxisWidth:eee}=iR.actions,tee=iR.reducer,ree=["children"],nee=["dangerouslySetInnerHTML","ticks"];function sR(e,t,r){return(t=iee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iee(e){var t=see(e,"string");return typeof t=="symbol"?t:t+""}function see(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function aR(e,t){if(e==null)return{};var r,n,i=aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oee(e){var t=Ye(),r=x.useMemo(()=>{var s=aR(e,ree);return s},[e]),n=te(s=>ci(s,r.id)),i=r===n;return x.useEffect(()=>(t(XZ(r)),()=>{t(JZ(r))}),[r,t]),i?e.children:null}var lee=e=>{var{xAxisId:t,className:r}=e,n=te(MO),i=fr(),s="xAxis",a=te(f=>Do(f,s,t,i)),l=te(f=>MT(f,s,t,i)),c=te(f=>ET(f,t)),u=te(f=>Sq(f,t));if(c==null||u==null)return null;var d=aR(e,nee);return x.createElement(ns,Iy({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:me("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},cee=e=>{var t,r,n,i,s;return x.createElement(oee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},x.createElement(lee,e))};class Yc extends x.Component{render(){return x.createElement(cee,this.props)}}sR(Yc,"displayName","XAxis");sR(Yc,"defaultProps",{allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,height:hr.height,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,xAxisId:0});var uee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},dee=["dangerouslySetInnerHTML","ticks"];function oR(e,t,r){return(t=fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fee(e){var t=hee(e,"string");return typeof t=="symbol"?t:t+""}function hee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function mee(e,t){if(e==null)return{};var r,n,i=pee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gee(e){var t=Ye();return x.useEffect(()=>(t(QZ(e)),()=>{t(ZZ(e))}),[e,t]),null}var yee=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=x.useRef(null),l=x.useRef(null),c=te(MO),u=fr(),d=Ye(),f="yAxis",h=te(g=>Do(g,f,r,u)),m=te(g=>OT(g,r)),p=te(g=>Nq(g,r)),y=te(g=>MT(g,f,r,u));if(x.useLayoutEffect(()=>{var g;if(!(i!=="auto"||!m||ib(s)||x.isValidElement(s))){var v=a.current,b=v==null||(g=v.tickRefs)===null||g===void 0?void 0:g.current,{tickSize:j,tickMargin:S}=v.props,N=uee({ticks:b,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:S});Math.round(m.width)!==Math.round(N)&&d(eee({id:r,width:N}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||p==null)return null;var w=mee(e,dee);return x.createElement(ns,Ly({},w,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:me("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:y}))},vee=e=>{var t,r,n,i,s;return x.createElement(x.Fragment,null,x.createElement(gee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),x.createElement(yee,e))},xee={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,width:mr.width,yAxisId:0};class Xc extends x.Component{render(){return x.createElement(vee,this.props)}}oR(Xc,"displayName","YAxis");oR(Xc,"defaultProps",xee);var bee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jc=x;function wee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jee=typeof Object.is=="function"?Object.is:wee,See=Jc.useSyncExternalStore,Nee=Jc.useRef,Pee=Jc.useEffect,_ee=Jc.useMemo,kee=Jc.useDebugValue;bee.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=Nee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=_ee(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,jee(d,m))return p;var y=n(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=See(e,s[0],s[1]);return Pee(function(){a.hasValue=!0,a.value=l},[l]),kee(l),l};function Aee(e){e()}function Eee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Aee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var SP={notify(){},get:()=>[]};function Oee(e,t){let r,n=SP,i=0,s=!1;function a(y){d();const w=n.subscribe(y);let g=!1;return()=>{g||(g=!0,w(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=Eee())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=SP)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var Cee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Tee=Cee(),Mee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Ree=Mee(),Dee=()=>Tee||Ree?x.useLayoutEffect:x.useEffect,$ee=Dee(),Np=Symbol.for("react-redux-context"),Pp=typeof globalThis<"u"?globalThis:{};function Iee(){if(!x.createContext)return{};const e=Pp[Np]??(Pp[Np]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Lee=Iee();function Bee(e){const{children:t,context:r,serverState:n,store:i}=e,s=x.useMemo(()=>{const c=Oee(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=x.useMemo(()=>i.getState(),[i]);$ee(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||Lee;return x.createElement(l.Provider,{value:s},t)}var Fee=Bee,zee=(e,t)=>t,kb=L([zee,ye,Co,pt,YT,ui,kH,ht],TH),Ab=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},lR=Wr("mouseClick"),cR=Dc();cR.startListening({actionCreator:lR,effect:(e,t)=>{var r=e.payload,n=kb(t.getState(),Ab(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Dq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var By=Wr("mouseMove"),uR=Dc();uR.startListening({actionCreator:By,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Gx(n,n.tooltip.settings.shared),s=kb(n,Ab(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(UT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(zT()))}});function Uee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var NP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},dR=kr({name:"rootProps",initialState:NP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:NP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Wee=dR.reducer,{updateOptions:Vee}=dR.actions,fR=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Kee}=fR.actions,qee=fR.reducer,hR=Wr("keyDown"),mR=Wr("focus"),Eb=Dc();Eb.startListening({actionCreator:hR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Yx(i,Io(r))),l=ui(r);if(s==="Enter"){var c=mf(r,"axis","hover",String(i.index));t.dispatch(Cy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=_q(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=mf(r,"axis","hover",String(h));t.dispatch(Cy({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Eb.startListening({actionCreator:mR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=mf(r,"axis","hover",String(s));t.dispatch(Cy({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Tr=Wr("externalEvent"),pR=Dc();pR.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:yH(r),activeDataKey:ZT(r),activeIndex:Ki(r),activeLabel:QT(r),activeTooltipIndex:Ki(r),isTooltipActive:vH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Hee=L([$o],e=>e.tooltipItemPayloads),Gee=L([Hee,qc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),gR=Wr("touchMove"),yR=Dc();yR.startListening({actionCreator:gR,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Gx(n,n.tooltip.settings.shared);if(i==="axis"){var s=kb(n,Ab({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(UT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(CO),d=(a=c.getAttribute(TO))!==null&&a!==void 0?a:void 0,f=Gee(t.getState(),u,d);t.dispatch(FT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Yee=rO({brush:sZ,cartesianAxis:tee,chartData:HH,errorBars:aQ,graphicalItems:FX,layout:XU,legend:R9,options:UH,polarAxis:$Y,polarOptions:qee,referenceElements:hZ,rootProps:Wee,tooltip:$q}),Xee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return wU({reducer:Yee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([cR.middleware,uR.middleware,Eb.middleware,pR.middleware,yR.middleware]),devTools:{serialize:{replacer:Uee},name:"recharts-".concat(r)}})};function vR(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=fr(),s=x.useRef(null);if(i)return r;s.current==null&&(s.current=Xee(t,n));var a=zv;return x.createElement(Fee,{context:a,store:s.current},r)}function xR(e){var{layout:t,width:r,height:n,margin:i}=e,s=Ye(),a=fr();return x.useEffect(()=>{a||(s(HU(t)),s(GU({width:r,height:n})),s(qU(i)))},[s,a,t,r,n,i]),null}function bR(e){var t=Ye();return x.useEffect(()=>{t(Vee(e))},[t,e]),null}var Jee=["children"];function Qee(e,t){if(e==null)return{};var r,n,i=Zee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Zee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}var ete={width:"100%",height:"100%"},tte=x.forwardRef((e,t)=>{var r=DO(),n=$O(),i=FO();if(!io(r)||!io(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,x.createElement(dE,jf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:ete,ref:t}),s)}),rte=e=>{var{children:t}=e,r=te(Ch);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return x.createElement(dE,{width:n,height:i,x:a,y:s},t)},PP=x.forwardRef((e,t)=>{var{children:r}=e,n=Qee(e,Jee),i=fr();return i?x.createElement(rte,null,r):x.createElement(tte,jf({ref:t},n),r)});function nte(){var e=Ye(),[t,r]=x.useState(null),n=te(P9);return x.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Nr(s)&&s!==n&&e(YU(s))}},[t,e,n]),r}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ite(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){ste(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ste(e,t,r){return(t=ate(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ate(e){var t=ote(e,"string");return typeof t=="symbol"?t:t+""}function ote(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lte=x.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:w,width:g}=e,v=Ye(),[b,j]=x.useState(null),[S,N]=x.useState(null);XH();var P=nte(),A=x.useCallback(G=>{P(G),typeof t=="function"&&t(G),j(G),N(G)},[P,t,j,N]),R=x.useCallback(G=>{v(lR(G)),v(Tr({handler:s,reactEvent:G}))},[v,s]),T=x.useCallback(G=>{v(By(G)),v(Tr({handler:u,reactEvent:G}))},[v,u]),O=x.useCallback(G=>{v(zT()),v(Tr({handler:d,reactEvent:G}))},[v,d]),B=x.useCallback(G=>{v(By(G)),v(Tr({handler:f,reactEvent:G}))},[v,f]),M=x.useCallback(()=>{v(mR())},[v]),_=x.useCallback(G=>{v(hR(G.key))},[v]),E=x.useCallback(G=>{v(Tr({handler:a,reactEvent:G}))},[v,a]),I=x.useCallback(G=>{v(Tr({handler:l,reactEvent:G}))},[v,l]),F=x.useCallback(G=>{v(Tr({handler:c,reactEvent:G}))},[v,c]),k=x.useCallback(G=>{v(Tr({handler:h,reactEvent:G}))},[v,h]),C=x.useCallback(G=>{v(Tr({handler:y,reactEvent:G}))},[v,y]),U=x.useCallback(G=>{v(gR(G)),v(Tr({handler:p,reactEvent:G}))},[v,p]),H=x.useCallback(G=>{v(Tr({handler:m,reactEvent:G}))},[v,m]);return x.createElement(sM.Provider,{value:b},x.createElement(Pz.Provider,{value:S},x.createElement("div",{className:me("recharts-wrapper",n),style:ite({position:"relative",cursor:"default",width:g,height:i},w),onClick:R,onContextMenu:E,onDoubleClick:I,onFocus:M,onKeyDown:_,onMouseDown:F,onMouseEnter:T,onMouseLeave:O,onMouseMove:B,onMouseUp:k,onTouchEnd:H,onTouchMove:U,onTouchStart:C,ref:A},r)))}),cte=["children","className","width","height","style","compact","title","desc"];function ute(e,t){if(e==null)return{};var r,n,i=dte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wR=x.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=ute(e,cte),f=Ft(d);return l?x.createElement(PP,{otherAttributes:f,title:c,desc:u},r):x.createElement(lte,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(PP,{otherAttributes:f,title:c,desc:u,ref:t},x.createElement(pZ,null,r)))}),fte=["width","height"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function hte(e,t){if(e==null)return{};var r,n,i=mte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pte={top:5,right:5,bottom:5,left:5},gte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:pte,reverseStackOrder:!1,syncMethod:"index"},yte=x.forwardRef(function(t,r){var n,i=Hr(t.categoricalChartProps,gte),{width:s,height:a}=i,l=hte(i,fte);if(!io(s)||!io(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return x.createElement(vR,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},x.createElement(tR,{chartData:h.data}),x.createElement(xR,{width:s,height:a,layout:i.layout,margin:i.margin}),x.createElement(bR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(wR,Fy({},l,{width:s,height:a,ref:r})))}),vte=["axis","item"],Ob=x.forwardRef((e,t)=>x.createElement(yte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vte,tooltipPayloadSearcher:nb,categoricalChartProps:e,ref:t}));function xte(e){var t=Ye();return x.useEffect(()=>{t(Kee(e))},[t,e]),null}var bte=["width","height","layout"];function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function wte(e,t){if(e==null)return{};var r,n,i=jte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function jte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ste={top:5,right:5,bottom:5,left:5},Nte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ste,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},jR=x.forwardRef(function(t,r){var n,i=Hr(t.categoricalChartProps,Nte),{width:s,height:a,layout:l}=i,c=wte(i,bte);if(!io(s)||!io(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return x.createElement(vR,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},x.createElement(tR,{chartData:i.data}),x.createElement(xR,{width:s,height:a,layout:l,margin:i.margin}),x.createElement(bR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),x.createElement(xte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),x.createElement(wR,zy({width:s,height:a},c,{ref:r})))}),Pte=["item"],_te={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Cb=x.forwardRef((e,t)=>{var r=Hr(e,_te);return x.createElement(jR,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Pte,tooltipPayloadSearcher:nb,categoricalChartProps:r,ref:t})}),kte=["axis"],Ate={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ete=x.forwardRef((e,t)=>{var r=Hr(e,Ate);return x.createElement(jR,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kte,tooltipPayloadSearcher:nb,categoricalChartProps:r,ref:t})});const kP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Ote={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Cte(){const{user:e}=Bt(),[t,r]=x.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[n,i]=x.useState([]),[s,a]=x.useState(null),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0);x.useEffect(()=>{m(),e&&!e.id.startsWith("guest-")&&p()},[e]);const m=async()=>{var y;try{const{data:w,error:g}=await X.from("match_results").select("*");if(g)throw g;const v=w||[];if(v.length===0){h(!1);return}const b={},j={},S={};let N=0;v.forEach(O=>{var E;if(!O.winner_name||!O.player1_name||!O.player2_name)return;const B=((E=O.outcome)==null?void 0:E.split(" (")[0])||"Unknown",M=O.points_awarded||kP[B]||0;N+=M,S[B]=(S[B]||0)+1,[O.player1_name,O.player2_name].forEach(I=>{b[I]||(b[I]={wins:0,matches:0,points:0}),b[I].matches++,O.winner_name===I&&(b[I].wins++,b[I].points+=M)});const _=(I,F,k,C)=>{const U=`${F}_${I}`;j[U]||(j[U]={combo:F,player:I,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown"});const H=j[U];H.totalMatches++,C?(H.wins++,H.totalPoints+=M):H.losses++};_(O.player1_name,O.player1_beyblade,O.player1_blade_line||"Unknown",O.winner_name===O.player1_name),_(O.player2_name,O.player2_beyblade,O.player2_blade_line||"Unknown",O.winner_name===O.player2_name)}),Object.values(j).forEach(O=>{O.winRate=O.totalMatches>0?O.wins/O.totalMatches*100:0,O.weightedWinRate=O.totalMatches>0?O.wins/O.totalMatches*(O.totalMatches/(O.totalMatches+10)):0,O.avgPointsPerMatch=O.totalMatches>0?O.totalPoints/O.totalMatches:0,O.comboScore=O.weightedWinRate*(O.avgPointsPerMatch/3)*100});const P=Object.entries(b).filter(([O,B])=>B.matches>=5).sort((O,B)=>{const M=O[1].wins/O[1].matches;return B[1].wins/B[1].matches-M})[0],A=((y=Object.entries(S).sort((O,B)=>B[1]-O[1])[0])==null?void 0:y[0])||"Unknown",{count:R}=await X.from("tournaments").select("*",{count:"exact",head:!0});r({totalMatches:v.length,totalPlayers:Object.keys(b).length,totalTournaments:R||0,avgPointsPerMatch:v.length>0?N/v.length:0,mostCommonFinish:A,topPlayer:(P==null?void 0:P[0])||"N/A",topPlayerWinRate:P?P[1].wins/P[1].matches*100:0}),i(Object.values(j).sort((O,B)=>B.comboScore-O.comboScore));const T=Object.entries(S).map(([O,B])=>({name:O,value:B,color:Ote[O]||"#6B7280"}));d(T)}catch(w){console.error("Error fetching global data:",w)}finally{h(!1)}},p=async()=>{var y;if(!(!e||e.id.startsWith("guest-")))try{const{data:w,error:g}=await X.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(g)throw g;const v=w||[];if(v.length===0){a(null);return}let b=0,j=0;const S={},N={},P={},A=new Set;v.forEach(_=>{var H;if(!_.winner_name)return;const E=_.player1_name===e.username,I=_.winner_name===e.username,F=E?_.player1_beyblade:_.player2_beyblade,k=E?_.player2_name:_.player1_name,C=((H=_.outcome)==null?void 0:H.split(" (")[0])||"Unknown",U=_.points_awarded||kP[C]||0;A.add(_.tournament_id),I&&(b++,j+=U,N[C]=(N[C]||0)+1),S[F]||(S[F]={wins:0,matches:0,points:0}),S[F].matches++,I&&(S[F].wins++,S[F].points+=U),P[k]||(P[k]={opponent:k,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),P[k].totalMatches++,I?(P[k].wins++,P[k].pointsFor+=U):(P[k].losses++,P[k].pointsAgainst+=U)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0});const R=Object.entries(S).map(([_,E])=>{const I=E.matches>0?E.wins/E.matches:0,F=E.matches>0?I*(E.matches/(E.matches+10)):0,k=E.matches>0?E.points/E.matches:0,C=F*(k/3)*100;return{combo:_,comboScore:C}}).sort((_,E)=>E.comboScore-_.comboScore)[0],T=((y=Object.entries(N).sort((_,E)=>E[1]-_[1])[0])==null?void 0:y[0])||"N/A",O=v.length,B=O>0?b/O*100:0,M=O>0?b/O*(O/(O+10)):0;a({totalMatches:O,wins:b,losses:O-b,winRate:B,weightedWinRate:M*100,totalPoints:j,avgPointsPerMatch:O>0?j/O:0,mvpCombo:(R==null?void 0:R.combo)||"N/A",mvpComboScore:(R==null?void 0:R.comboScore)||0,favoriteFinish:T,tournamentsPlayed:A.size}),c(Object.values(P).sort((_,E)=>E.winRate-_.winRate))}catch(w){console.error("Error fetching personal data:",w)}};return f?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(_c,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(St,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(lt,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Gf,{size:24,className:"text-orange-600"})})]})})]}),s&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(St,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",s.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:s.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",s.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Cb,{children:[o.jsx(Zh,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:w})=>`${y} ${(w*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((y,w)=>o.jsx(Zs,{fill:y.color},`cell-${w}`))}),o.jsx(Vs,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ob,{data:n.slice(0,8).map(y=>({name:y.combo,score:y.comboScore,winRate:y.winRate,matches:y.totalMatches})),margin:{bottom:80},children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Yc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Xc,{}),o.jsx(Vs,{formatter:(y,w)=>[typeof y=="number"?y.toFixed(2):y,w==="score"?"Combo Score":w==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(em,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"}),o.jsx("button",{onClick:()=>{n.map(y=>({rank:n.indexOf(y)+1,combo:y.combo,player:y.player,bladeLine:y.bladeLine,totalMatches:y.totalMatches,winRate:y.winRate,weightedWinRate:y.weightedWinRate*100,comboScore:y.comboScore})),alert("Show All functionality for global combos coming soon!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:o.jsx("span",{children:"Show All"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,20).map((y,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",w+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.bladeLine==="Basic"?"bg-blue-100 text-blue-800":y.bladeLine==="Unique"?"bg-purple-100 text-purple-800":y.bladeLine==="Custom"?"bg-orange-100 text-orange-800":y.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${y.winRate>=60?"text-green-600":y.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[y.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(y.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:y.comboScore.toFixed(1)})]},w))})]})})]}),s&&l.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((y,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:y.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:y.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${y.winRate>=60?"text-green-600":y.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[y.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.pointsAgainst})]},w))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(lt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Player"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.topPlayer}),o.jsxs("p",{className:"text-gray-600",children:["Win Rate: ",t.topPlayerWinRate.toFixed(1),"%"]})]})]})]})}const Tte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Mte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Rte(){const{user:e}=Bt(),[t,r]=x.useState([]),[n,i]=x.useState([]),[s,a]=x.useState([]),[l,c]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!0),[m,p]=x.useState("");x.useEffect(()=>{e&&!e.id.startsWith("guest-")?y():h(!1)},[e]);const y=async()=>{if(!e||e.id.startsWith("guest-")){h(!1);return}try{const{data:g,error:v}=await X.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(v)throw v;const b=g||[];if(b.length===0){h(!1);return}const j=[...new Set(b.map(_=>_.tournament_id))],{data:S}=await X.from("tournaments").select("id, name, tournament_date").in("id",j),N=(S||[]).reduce((_,E)=>(_[E.id]={name:E.name,date:E.tournament_date},_),{}),P={},A={},R={},T={},O={};b.forEach(_=>{var he,W,Y;if(!_.winner_name)return;const E=_.player1_name===e.username,I=_.winner_name===e.username,F=E?_.player1_beyblade:_.player2_beyblade,k=E?_.player1_blade_line:_.player2_blade_line,C=((he=_.outcome)==null?void 0:he.split(" (")[0])||"Unknown",U=_.points_awarded||Tte[C]||0;I&&(T[C]=(T[C]||0)+1,O[C]=(O[C]||0)+U),P[F]||(P[F]={combo:F,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown",finishDistribution:{},pointsPerFinish:{}});const H=P[F];H.totalMatches++,I?(H.wins++,H.totalPoints+=U,H.finishDistribution[C]=(H.finishDistribution[C]||0)+1,H.pointsPerFinish[C]=(H.pointsPerFinish[C]||0)+U):H.losses++;const G=k||"Unknown";A[G]||(A[G]={bladeLine:G,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const ve=A[G];ve.matches++,I&&(ve.wins++,ve.avgPoints=(ve.avgPoints*(ve.wins-1)+U)/ve.wins);const z=_.tournament_id;R[z]||(R[z]={tournamentName:((W=N[z])==null?void 0:W.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((Y=N[z])==null?void 0:Y.date)||""});const Z=R[z];Z.matches++,I&&(Z.wins++,Z.points+=U)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0,_.weightedWinRate=_.totalMatches>0?_.wins/_.totalMatches*(_.totalMatches/(_.totalMatches+10)):0,_.avgPointsPerMatch=_.totalMatches>0?_.totalPoints/_.totalMatches:0,_.comboScore=_.weightedWinRate*(_.avgPointsPerMatch/3)*100}),Object.values(A).forEach(_=>{_.winRate=_.matches>0?_.wins/_.matches*100:0,_.riskReward=Math.random()*100}),Object.values(R).forEach(_=>{_.winRate=_.matches>0?_.wins/_.matches*100:0,_.avgPointsPerMatch=_.matches>0?_.points/_.matches:0}),r(Object.values(P).sort((_,E)=>E.comboScore-_.comboScore)),i(Object.values(A)),a(Object.values(R).sort((_,E)=>new Date(E.date).getTime()-new Date(_.date).getTime()));const B=Object.entries(T).map(([_,E])=>({name:_,value:E,color:Mte[_]||"#6B7280"}));c(B);const M=Object.entries(O).map(([_,E])=>({finish:_,points:E,avgPoints:T[_]>0?E/T[_]:0}));d(M)}catch(g){console.error("Error fetching personal stats:",g)}finally{h(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Td,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(f)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your personal stats..."})]});if(t.length===0)return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lt,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]});const w=m?t.find(g=>g.combo===m):null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((g,v)=>g+v.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(_c,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[t.length>0?(t.reduce((g,v)=>g+v.wins,0)/t.reduce((g,v)=>g+v.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(lt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((g,v)=>g+v.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(kc,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Td,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Cb,{children:[o.jsx(Zh,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:v})=>`${g} ${(v*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((g,v)=>o.jsx(Zs,{fill:g.color},`cell-${v}`))}),o.jsx(Vs,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ob,{data:u,children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Yc,{dataKey:"finish"}),o.jsx(Xc,{}),o.jsx(Vs,{}),o.jsx(em,{dataKey:"points",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:m,onChange:g=>p(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),t.map(g=>o.jsxs("option",{value:g.combo,children:[g.combo," (",g.totalMatches," matches)"]},g.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((g,v)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${m===g.combo?"bg-blue-50":""}`,onClick:()=>p(g.combo===m?"":g.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.bladeLine==="Basic"?"bg-blue-100 text-blue-800":g.bladeLine==="Unique"?"bg-purple-100 text-purple-800":g.bladeLine==="Custom"?"bg-orange-100 text-orange-800":g.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(g.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:g.comboScore.toFixed(1)})]},v))})]})}),w&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",w.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.finishDistribution).map(([g,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:g}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:v}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",w.totalMatches>0?(v/w.wins*100).toFixed(0):0,"%)"]})]})]},g))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.pointsPerFinish).map(([g,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:g}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[v," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",w.finishDistribution[g]>0?(v/w.finishDistribution[g]).toFixed(1):"0.0",")"]})]})]},g))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Performance by Blade Line"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk/Reward"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((g,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.bladeLine==="Basic"?"bg-blue-100 text-blue-800":g.bladeLine==="Unique"?"bg-purple-100 text-purple-800":g.bladeLine==="Custom"?"bg-orange-100 text-orange-800":g.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.riskReward.toFixed(1)})]},v))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((g,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.date?new Date(g.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:g.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:g.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPointsPerMatch.toFixed(2)})]},v))})]})})]}),t.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:t[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:t[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:t[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:t[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function Dte(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return(s-a)/i}function $te(e,t,r){console.log(`⚙️ PARSER: Attempting ${t} parsing for: "${e}"`);let n=e;const i=SR(n,r.bits);if(!i)return console.log(`❌ PARSER: ${t} parsing failed - no bit found`),null;n=n.slice(0,n.length-i.bitName.length).trim(),console.log(`⚙️ PARSER: After bit removal: "${n}"`);const s=NR(n,r.ratchets);if(!s)return console.log(`❌ PARSER: ${t} parsing failed - no ratchet found`),null;n=n.slice(0,n.length-s.ratchetName.length).trim(),console.log(`⚙️ PARSER: After ratchet removal: "${n}"`),console.log(`🔍 PARSER: Looking for ${t} blade: "${n}"`);const a=PR(n,r.blades.filter(c=>c.Line===t));if(!a)return console.log(`❌ PARSER: ${t} parsing failed - no ${t} blade found for "${n}"`),null;const l={isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName};return console.log(`✅ PARSER: ${t} parsing successful:`,l),l}function Ite(e,t){console.log(`🔧 PARSER: Attempting Custom parsing for: "${e}"`);let r=e;const n=Lte(e,t.lockchips);if(!n)return console.log("❌ PARSER: Custom parsing failed - no lockchip found"),null;r=e.slice(n.lockchipName.length),console.log(`🔧 PARSER: After lockchip removal: "${r}"`);const i=SR(r,t.bits);if(!i)return console.log("❌ PARSER: Custom parsing failed - no bit found"),null;r=r.slice(0,r.length-i.bitName.length).trim(),console.log(`🔧 PARSER: After bit removal: "${r}"`);const s=NR(r,t.ratchets);if(!s)return console.log("❌ PARSER: Custom parsing failed - no ratchet found"),null;r=r.slice(0,r.length-s.ratchetName.length).trim(),console.log(`🔧 PARSER: After ratchet removal: "${r}"`);const a=Bte(r,t.assistBlades);if(!a)return console.log("❌ PARSER: Custom parsing failed - no assist blade found"),null;r=r.slice(0,r.length-a.assistBladeName.length).trim(),console.log(`🔧 PARSER: After assist blade removal: "${r}"`);const l=PR(r,t.blades.filter(u=>u.Line==="Custom"));if(!l)return console.log(`❌ PARSER: Custom parsing failed - no Custom main blade found for "${r}"`),null;const c={isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName};return console.log("✅ PARSER: Custom parsing successful:",c),c}function SR(e,t){console.log(`🔍 PARSER: Finding bit in "${e}"`),console.log("🔍 PARSER: Available bits:",t.map(n=>({shortcut:n.Shortcut,full:n.Bit})));const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found bit by shortcut: ${i}`),{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found bit by full name: ${i} → ${n.Shortcut||i}`),{bit:n,bitName:n.Shortcut||i}}return console.log(`❌ PARSER: No bit found in "${e}"`),null}function NR(e,t){console.log(`🔍 PARSER: Finding ratchet in "${e}"`);const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found ratchet: ${i}`),{ratchet:n,ratchetName:i}}return console.log(`❌ PARSER: No ratchet found in "${e}"`),null}function PR(e,t){console.log(`🔍 PARSER: Finding blade in "${e}"`),console.log("🔍 PARSER: Available blades:",t.map(r=>({name:r.Blades,line:r.Line})));for(const r of t){const n=r.Blades;if(n&&e===n)return console.log(`✅ PARSER: Found blade: ${n} (${r.Line} line)`),{blade:r,bladeName:n}}return console.log(`❌ PARSER: No blade found for "${e}" in available blades`),null}function Lte(e,t){console.log(`🔍 PARSER: Finding lockchip in "${e}"`),console.log("🔍 PARSER: Available lockchips:",t.map(n=>n.Lockchip));const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return console.log(`✅ PARSER: Found lockchip: ${i}`),{lockchip:n,lockchipName:i}}return console.log(`❌ PARSER: No lockchip found in "${e}"`),null}function Bte(e,t){console.log(`🔍 PARSER: Finding assist blade in "${e}"`),console.log("🔍 PARSER: Available assist blades:",t.map(n=>n["Assist Blade"]));const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found assist blade: ${i}`),{assistBlade:n,assistBladeName:i}}return console.log(`❌ PARSER: No assist blade found in "${e}"`),null}function AP(e,t,r){if(!e||!e.trim())return console.log("❌ PARSER: Empty beyblade name"),{isCustom:!1};console.log(`
🎯 PARSER: Starting to parse "${e}"`);const n=["Basic","Unique","X-Over","Custom"];for(const i of n){if(console.log(`🔍 PARSER: Trying ${i} blade line...`),i==="Custom"){const s=Ite(e,r);if(s)return console.log(`🎯 PARSER: Successfully parsed as ${i} Beyblade`),s}else{const s=$te(e,i,r);if(s)return console.log(`🎯 PARSER: Successfully parsed as ${i} Beyblade`),s}console.log(`❌ PARSER: ${i} parsing failed`)}return console.log(`❌ PARSER: All parsing attempts failed for "${e}"`),{isCustom:!1}}const Fte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},zte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Ute({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=x.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Wte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Vte({tournamentId:e,loading:t=!1}){const[r,n]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=x.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState(!0),[h,m]=x.useState(""),[p,y]=x.useState(""),[w,g]=x.useState([]),[v,b]=x.useState({key:"comboScore",direction:"desc"}),[j,S]=x.useState({isOpen:!1,title:"",data:[],columns:[]}),[N,P]=x.useState({isOpen:!1,title:"",matches:[]});x.useEffect(()=>{e&&A()},[e]),x.useEffect(()=>{e&&r.blades.length>0&&R()},[e,r]);const A=async()=>{try{const[k,C,U,H,G]=await Promise.all([X.from("beypart_blade").select("*"),X.from("beypart_ratchet").select("*"),X.from("beypart_bit").select("*"),X.from("beypart_lockchip").select("*"),X.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:C.data||[],bits:U.data||[],lockchips:H.data||[],assistBlades:G.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},R=async()=>{try{const{data:k,error:C}=await X.from("match_results").select("*").eq("tournament_id",e);if(C)throw C;if(!k||k.length===0){f(!1);return}const U=[],H={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},G={};k.forEach(z=>{var D;if(!z.winner_name||!z.player1_name||!z.player2_name)return;const Z=AP(z.player1_beyblade,z.player1_blade_line,r),he=AP(z.player2_beyblade,z.player2_blade_line,r),W=((D=z.outcome)==null?void 0:D.split(" (")[0])||"Unknown",Y=z.points_awarded||Fte[W]||0,$={player:z.player1_name,opponent:z.player2_name,beyblade:z.player1_beyblade,opponentBeyblade:z.player2_beyblade,isWin:z.winner_name===z.player1_name,outcome:W,parsedParts:Z,bladeLine:z.player1_blade_line||"Unknown"},J={player:z.player2_name,opponent:z.player1_name,beyblade:z.player2_beyblade,opponentBeyblade:z.player1_beyblade,isWin:z.winner_name===z.player2_name,outcome:W,parsedParts:he,bladeLine:z.player2_blade_line||"Unknown"};U.push($,J),[$,J].forEach(K=>{const Q=`${K.beyblade}_${K.player}`;G[Q]||(G[Q]={combo:K.beyblade,player:K.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:K.bladeLine,allMatches:[]});const se=G[Q];se.totalMatches++,se.finishDistribution[W]=(se.finishDistribution[W]||0)+1,se.allMatches.push(z),K.isWin?(se.wins++,se.totalPoints+=Y):se.losses++});const oe=(K,Q)=>{Object.entries(K).forEach(([se,ce])=>{if(se==="isCustom"||!ce)return;H[se][ce]||(H[se][ce]={name:ce,usage:0,wins:0,losses:0,winRate:0,wilson:0});const xe=H[se][ce];xe.usage++,Q?xe.wins++:xe.losses++})};oe(Z,$.isWin),oe(he,J.isWin)}),Object.keys(H).forEach(z=>{Object.values(H[z]).forEach(Z=>{const he=Z.wins+Z.losses;Z.winRate=he>0?Z.wins/he*100:0,Z.wilson=Dte(Z.wins,he)})});const ve=Object.values(G).map(z=>(z.winRate=z.totalMatches>0?z.wins/z.totalMatches*100:0,z.weightedWinRate=z.totalMatches>0?z.wins/z.totalMatches*(z.totalMatches/(z.totalMatches+10)):0,z.avgPointsPerMatch=z.totalMatches>0?z.totalPoints/z.totalMatches:0,z.comboScore=z.weightedWinRate*(z.avgPointsPerMatch/3)*100,z));s(H),l(ve),u(U),h&&p&&T()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},T=()=>{if(!h||!p)return;const k=a.filter(C=>c.filter(H=>H.beyblade===C.combo&&H.player===C.player).some(H=>H.parsedParts[h]===p));g(k.sort((C,U)=>U.comboScore-C.comboScore))};xn.useEffect(()=>{h&&p&&a.length>0?T():g([])},[h,p,a]);const O=k=>{let C="asc";v.key===k&&v.direction==="asc"&&(C="desc"),b({key:k,direction:C})},B=()=>{S({isOpen:!0,title:"All Combo Performance Rankings",data:_,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),S(C=>({...C,isOpen:!1}))}})},M=k=>{const C=Object.values(i[k]||{}).filter(U=>U.usage>0).sort((U,H)=>H.wilson-U.wilson).map(U=>({...U,allMatches:c.filter(H=>H.parsedParts[k]===U.name)}));S({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:C,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:U=>{P({isOpen:!0,title:`All Matches using ${U.name}`,matches:U.allMatches||[]}),S(H=>({...H,isOpen:!1}))}})},_=[...a].sort((k,C)=>{const U=k[v.key],H=C[v.key];if(typeof U=="number"&&typeof H=="number")return v.direction==="asc"?U-H:H-U;const G=String(U),ve=String(H);return v.direction==="asc"?G.localeCompare(ve):ve.localeCompare(G)}),E=({children:k,sortKey:C})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O(C),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),v.key===C&&(v.direction==="asc"?o.jsx(CL,{size:12}):o.jsx(EL,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Ii,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const I=_.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),F=Object.entries(c.reduce((k,C)=>(C.isWin&&(k[C.outcome]=(k[C.outcome]||0)+1),k),{})).map(([k,C])=>({name:k,value:C,color:zte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(_c,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ob,{data:I,margin:{bottom:60},children:[o.jsx(tm,{strokeDasharray:"3 3"}),o.jsx(Yc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Xc,{}),o.jsx(Vs,{formatter:(k,C)=>[typeof k=="number"?k.toFixed(2):k,C==="score"?"Combo Score":C==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(em,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Cb,{children:[o.jsx(Zh,{data:F,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:C})=>`${k} ${(C*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:F.map((k,C)=>o.jsx(Zs,{fill:k.color},`cell-${C}`))}),o.jsx(Vs,{})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(bo,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),y("")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:p,onChange:k=>y(k.target.value),disabled:!h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,C)=>C.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&p&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",p," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,C)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},C))})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:B,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(E,{sortKey:"combo",children:"Combo"}),o.jsx(E,{sortKey:"player",children:"Player"}),o.jsx(E,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(E,{sortKey:"totalMatches",children:"Matches"}),o.jsx(E,{sortKey:"winRate",children:"Win Rate"}),o.jsx(E,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(E,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(E,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.slice(0,20).map((k,C)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},C))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>M(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(jn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Ii,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(C=>C.usage>0).sort((C,U)=>U.wilson-C.wilson).slice(0,8).map((C,U)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${C.winRate>=60?"text-green-600":C.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[C.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.wilson.toFixed(3)})]},U))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>M(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(jn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Ii,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(C=>C.usage>0).sort((C,U)=>U.wilson-C.wilson).slice(0,8).map((C,U)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:C.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${C.winRate>=60?"text-green-600":C.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[C.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:C.wilson.toFixed(3)})]},U))})]})})]},k))})]}),o.jsx(Ute,{isOpen:j.isOpen,onClose:()=>S(k=>({...k,isOpen:!1})),title:j.title,data:j.data,columns:j.columns,onRowClick:j.onRowClick}),o.jsx(Wte,{isOpen:N.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:N.title,matches:N.matches})]})}const EP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Lu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function Kte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=x.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function qte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Hte({tournamentId:e,loading:t=!1}){const[r,n]=x.useState({}),[i,s]=x.useState(""),[a,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState({isOpen:!1,title:"",data:[],columns:[]}),[h,m]=x.useState({isOpen:!1,title:"",matches:[]});x.useEffect(()=>{e&&y()},[e]);const p=(j,S)=>S===0?0:j/S*(S/(S+10)),y=async()=>{try{const{data:j,error:S}=await X.from("match_results").select("*").eq("tournament_id",e);if(S)throw S;const N=j||[];if(N.length===0){u(!1);return}const P={},A={};N.forEach(T=>{var C;if(!T.winner_name||!T.player1_name||!T.player2_name)return;const O=((C=T.outcome)==null?void 0:C.split(" (")[0])||"Unknown",B=T.points_awarded||EP[O]||0,M=T.phase_number||1;[T.player1_name,T.player2_name].forEach(U=>{P[U]||(P[U]={name:U,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),P[T.player1_name].allMatches.push(T),P[T.player2_name].allMatches.push(T);const _=P[T.winner_name],E=P[T.winner_name===T.player1_name?T.player2_name:T.player1_name],I=T.winner_name===T.player1_name?T.player1_beyblade:T.player2_beyblade,F=T.winner_name===T.player1_name?T.player2_beyblade:T.player1_beyblade;_.matches++,_.wins++,_.totalPoints+=B,_.finishDistribution[O]=(_.finishDistribution[O]||0)+1,_.winsByFinish[I]||(_.winsByFinish[I]={}),_.winsByFinish[I][O]=(_.winsByFinish[I][O]||0)+1,_.pointsGainedByBey[I]=(_.pointsGainedByBey[I]||0)+B,_.phasePerformance[M]||(_.phasePerformance[M]={wins:0,matches:0,points:0}),_.phasePerformance[M].wins++,_.phasePerformance[M].matches++,_.phasePerformance[M].points+=B,E.matches++,E.losses++,E.finishDistribution[O]=(E.finishDistribution[O]||0)+1,E.lossesByFinish[F]||(E.lossesByFinish[F]={}),E.lossesByFinish[F][O]=(E.lossesByFinish[F][O]||0)+1,E.pointsGivenByBey[F]=(E.pointsGivenByBey[F]||0)+B,E.phasePerformance[M]||(E.phasePerformance[M]={wins:0,matches:0,points:0}),E.phasePerformance[M].matches++;const k=[T.player1_name,T.player2_name].sort().join("_vs_");A[k]||(A[k]={player1:T.player1_name,player2:T.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),A[k].totalMatches++,T.winner_name===T.player1_name?A[k].p1Wins++:A[k].p2Wins++}),Object.values(P).forEach(T=>{T.winRate=T.matches>0?T.wins/T.matches*100:0,T.weightedWinRate=p(T.wins,T.matches),T.avgPointsPerMatch=T.matches>0?T.totalPoints/T.matches:0;const O=Object.entries(T.finishDistribution);T.mostCommonWinFinish=O.length>0?O.reduce((B,M)=>B[1]>M[1]?B:M)[0]:"N/A",T.mostCommonLoseFinish=T.mostCommonWinFinish}),Object.values(A).forEach(T=>{T.p1WinRate=T.totalMatches>0?T.p1Wins/T.totalMatches*100:0}),n(P),l(Object.values(A).filter(T=>T.totalMatches>0));const R=Object.keys(P);R.length>0&&!i&&s(R[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=()=>{const j=Object.values(r).map(S=>({name:S.name,matches:S.matches,winRate:S.winRate,weightedWinRate:S.weightedWinRate*100,totalPoints:S.totalPoints,avgPointsPerMatch:S.avgPointsPerMatch,mostCommonWinFinish:S.mostCommonWinFinish}));f({isOpen:!0,title:"All Tournament Players",data:j,columns:[{key:"name",label:"Player"},{key:"matches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"totalPoints",label:"Total Points"},{key:"avgPointsPerMatch",label:"Avg Points/Match"},{key:"mostCommonWinFinish",label:"Most Common Win"}],onRowClick:S=>{var P;const N=((P=r[S.name])==null?void 0:P.allMatches)||[];m({isOpen:!0,title:`All Matches for ${S.name}`,matches:N}),f(A=>({...A,isOpen:!1}))}})},g=()=>{f({isOpen:!0,title:"All Head-to-Head Matchups",data:a,columns:[{key:"player1",label:"Player 1"},{key:"player2",label:"Player 2"},{key:"totalMatches",label:"Total Matches"},{key:"p1Wins",label:"Player 1 Wins"},{key:"p2Wins",label:"Player 2 Wins"},{key:"p1WinRate",label:"Player 1 Win Rate (%)"}],onRowClick:j=>{const S=Object.values(r).flatMap(N=>N.allMatches.filter(P=>P.player1_name===j.player1&&P.player2_name===j.player2||P.player1_name===j.player2&&P.player2_name===j.player1));m({isOpen:!0,title:`${j.player1} vs ${j.player2} Matches`,matches:S}),f(N=>({...N,isOpen:!1}))}})};if(t||c)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing player analytics..."})]});const v=Object.keys(r);if(v.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(St,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Player Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Player analytics require match results to generate statistics."})]})});const b=i?r[i]:null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(St,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),v.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(lt,{size:24,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,S)=>S.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,S)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:S+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.mostCommonWinFinish})]},j.name))})]})})]}),b&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[o.jsx(_c,{size:24,className:"mr-2 text-blue-600"}),b.name," - Detailed Performance"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:b.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[b.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:b.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:b.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Lu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Lu.map(S=>{var N;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-green-600",children:((N=b.winsByFinish[j])==null?void 0:N[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-green-700",children:b.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Lu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Lu.map(S=>{var N;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-red-600",children:((N=b.lossesByFinish[j])==null?void 0:N[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-red-700",children:b.pointsGivenByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Ks,{width:"100%",height:400,children:o.jsxs(Ete,{data:Object.entries(b.finishDistribution).map(([j,S])=>({finish:j,points:S*(EP[j]||0),count:S})),children:[o.jsx(AM,{}),o.jsx(Qh,{dataKey:"finish"}),o.jsx(Xh,{}),o.jsx(Sb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),o.jsx(Vs,{})]})})]}),Object.keys(b.phasePerformance).length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phase"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(b.phasePerformance).sort(([j],[S])=>parseInt(j)-parseInt(S)).map(([j,S])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:S.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:S.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.matches>0&&S.wins/S.matches*100>=50?"text-green-600":"text-red-600"}`,children:[S.matches>0?(S.wins/S.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:S.matches>0?(S.points/S.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Gf,{size:24,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,S)=>S.totalMatches-j.totalMatches).slice(0,10).map((j,S)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},S))})]})})]}),o.jsx(Kte,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(qte,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function Gte(){const[e,t]=x.useState("meta"),[r,n]=x.useState([]),[i,s]=x.useState(""),[a,l]=x.useState(!0),[c,u]=x.useState(!1);x.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await X.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const p=h==null?void 0:h.find(y=>y.status==="completed");p&&s(p.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Wn,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Ii,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(St,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx(Vte,{tournamentId:i}),e==="player"&&o.jsx(Hte,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function Yte(){Bt();const[e,t]=x.useState("overview"),[r,n]=x.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Ii,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament and player statistics"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(lt,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Td,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Wn,{size:16,className:"mr-2"}),"Tournament Analysis"]})]})]})}),e==="overview"&&o.jsx(Cte,{}),e==="personal"&&o.jsx(Rte,{}),e==="tournament"&&o.jsx(Gte,{})]})})}const _p={"Over Finish (2 pts)":2,"Burst Finish (2 pts)":2,"Spin Finish (1 pt)":1,"Extreme Finish (3 pts)":3},Xte=()=>{const{confirm:e,alert:t}=si(),[r,n]=x.useState([]),[i,s]=x.useState(""),[a,l]=x.useState(""),[c,u]=x.useState(!1),[d,f]=x.useState(""),[h,m]=x.useState({}),[p,y]=x.useState({}),[w,g]=x.useState(!0),[v,b]=x.useState(!1),[j,S]=x.useState(""),[N,P]=x.useState(""),[A,R]=x.useState(1),[T,O]=x.useState(""),[B,M]=x.useState({}),[_,E]=x.useState(0),[I,F]=x.useState(0),[k,C]=x.useState(2),[U,H]=x.useState(!1),[G,ve]=x.useState(!1),[z,Z]=x.useState(!1),[he,W]=x.useState(""),[Y,$]=x.useState({}),[J,oe]=x.useState(null);x.useEffect(()=>{D()},[]),x.useEffect(()=>{if(i){u(!1),l(""),f("");const V=r.find(ee=>ee.id===i);V!=null&&V.password||(u(!0),Q(i))}},[i]);const D=async()=>{try{const{data:V,error:ee}=await X.from("tournaments").select("id, name, status, tournament_date, location, beyblades_per_player, password").order("tournament_date",{ascending:!1});if(ee)throw ee;n(V||[]);const ae=V==null?void 0:V.find(fe=>fe.status==="active");ae&&s(ae.id)}catch(V){console.error("Error fetching tournaments:",V)}finally{g(!1)}},K=()=>{const V=r.find(ee=>ee.id===i);if(!(V!=null&&V.password)){u(!0),Q(i);return}a===V.password?(u(!0),f(""),Q(i)):f("Incorrect password. Please try again.")},Q=async V=>{b(!0);try{const{data:ee,error:ae}=await X.from("tournament_registrations").select(`
          player_name,
          tournament_beyblades(
            beyblade_name,
            blade_line
          )
        `).eq("tournament_id",V).eq("status","confirmed").order("player_name",{ascending:!0});if(ae)throw ae;const fe={},tt={};ee==null||ee.forEach(Ie=>{const Te=Ie.player_name,zt=Ie.tournament_beyblades.map(Ar=>Ar.beyblade_name),st=Ie.tournament_beyblades.map(Ar=>({name:Ar.beyblade_name,blade_line:Ar.blade_line}));zt.length>0&&(fe[Te]=zt,tt[Te]=st)}),m(fe),y(tt),se()}catch(ee){console.error("Error fetching player data:",ee),m({})}finally{b(!1)}},se=()=>{S(""),P(""),R(1),O(""),M({}),E(0),F(0),C(2),H(!1),$({}),y({}),W("")},ce=(V,ee)=>{V===1?(S(ee),ee===N&&P("")):(P(ee),ee===j&&S("")),ee&&(M({}),E(0),F(0),C(2),H(!1),$({}))},xe=(V,ee)=>{var Te,zt,st;const ae=(be==null?void 0:be.beyblades_per_player)||3,fe=Math.floor(ee/ae)+1,tt=ee%ae;if(fe===1)return((Te=h[V])==null?void 0:Te[tt])||"";const Ie=(zt=Y[fe])==null?void 0:zt[V];return Ie?Ie[tt]||"":((st=h[V])==null?void 0:st[tt])||""},Pe=(V,ee)=>{var Te,zt,st,Ar,is,Ut;const ae=(be==null?void 0:be.beyblades_per_player)||3,fe=Math.floor(ee/ae)+1,tt=ee%ae;if(fe===1)return((zt=(Te=p[V])==null?void 0:Te[tt])==null?void 0:zt.blade_line)||"";const Ie=(st=Y[fe])==null?void 0:st[V];if(Ie){const Cn=Ie[tt],Yr=(Ar=p[V])==null?void 0:Ar.find(TR=>TR.name===Cn);return(Yr==null?void 0:Yr.blade_line)||""}return((Ut=(is=p[V])==null?void 0:is[tt])==null?void 0:Ut.blade_line)||""},Qt=()=>{if(U){t("Phase Required",`Click Shuffle before adding the next match (after every ${(be==null?void 0:be.beyblades_per_player)||3} matches).`);return}if(!j||!N){t("Missing Players","Please select both players first.");return}let V=0;for(;B[V]!==void 0;)V++;const ee={...B,[V]:{outcome:null,winner:null,points:0}};M(ee);const ae=(be==null?void 0:be.beyblades_per_player)||3,fe=Object.keys(ee).length;fe>0&&fe%ae===0&&H(!0)},di=(V,ee)=>{const ae={...B};if(ae[V]){ae[V].outcome=ee;const fe=ee&&ae[V].winner&&_p[ee]||0;ae[V].points=fe}M(ae),zo(ae)},fi=(V,ee)=>{const ae={...B};if(ae[V]){ae[V].winner=ee;const fe=ae[V].outcome&&ee&&_p[ae[V].outcome]||0;ae[V].points=fe}M(ae),zo(ae)},zo=V=>{let ee=0,ae=0;Object.values(V).forEach(fe=>{fe.winner&&fe.outcome&&fe.points>0&&(fe.winner===j?ee+=fe.points:fe.winner===N&&(ae+=fe.points))}),E(ee),F(ae)},rm=V=>{const ee={...B};delete ee[V],M(ee),zo(ee),H(!1)},_R=()=>{const V=k,ee={...Y};ee[V]||(ee[V]={[j]:[...h[j]||[]],[N]:[...h[N]||[]]}),$(ee),C(ae=>ae+1),H(!1)},kR=(V,ee,ae)=>{$(fe=>({...fe,[V]:{...fe[V],[ee]:ae}}))},Mb=(V,ee)=>{oe(ee),V.dataTransfer.effectAllowed="move"},Rb=V=>{V.preventDefault(),V.dataTransfer.dropEffect="move"},Db=(V,ee,ae,fe)=>{var zt;if(V.preventDefault(),!J)return;const tt=((zt=Y[ee])==null?void 0:zt[ae])||[],Ie=tt.indexOf(J);if(Ie===-1)return;const Te=[...tt];Te.splice(Ie,1),Te.splice(fe,0,J),kR(ee,ae,Te),oe(null)},$b=()=>{oe(null)},AR=async()=>{if(!T.trim()){t("Please enter the Tournament Officer name before submitting.");return}const V=Object.entries(B).filter(([ee,ae])=>ae.outcome&&ae.winner);if(V.length===0){t("No complete matches to submit.");return}Z(!0),W("Submitting matches...");try{const ee=V.map(([tt,Ie])=>{const Te=parseInt(tt);return{tournament_id:i,round_number:A,player1_name:j,player2_name:N,player1_beyblade:xe(j,Te),player2_beyblade:xe(N,Te),player1_blade_line:Pe(j,Te),player2_blade_line:Pe(N,Te),outcome:Ie.outcome,winner_name:Ie.winner,points_awarded:Ie.points,match_number:Te+1,phase_number:Math.floor(Te/3)+1,tournament_officer:T}}),{error:ae}=await X.from("match_results").insert(ee);if(ae)throw ae;const{error:fe}=await X.from("match_sessions").insert({tournament_id:i,round_number:A,player1_name:j,player2_name:N,player1_final_score:_,player2_final_score:I,winner_name:_>I?j:N,total_matches:V.length,tournament_officer:T,match_summary:V.map(([tt,Ie])=>{const Te=parseInt(tt),zt=xe(Ie.winner,Te),st=(be==null?void 0:be.beyblades_per_player)||3,Ar=Math.floor(Te/st)+1,is=Te%st+1;return`Phase ${Ar}, Match ${is}: ${Ie.outcome} by ${Ie.winner} using ${zt}`}).join("; "),phases:Object.keys(Y).length+1,deck_orders:Y});if(fe)throw fe;W("✅ Matches submitted successfully!"),ve(!1),setTimeout(()=>{se(),W("")},2e3)}catch(ee){console.error("Error submitting matches:",ee),W("❌ Failed to submit matches. Please try again.")}finally{Z(!1)}},ER=()=>Object.entries(B).filter(([ee,ae])=>ae.outcome&&ae.winner).map(([ee,ae])=>{const fe=parseInt(ee),tt=xe(ae.winner,fe);return`Match ${fe+1}: ${ae.outcome} by ${ae.winner} using ${tt}`}),be=r.find(V=>V.id===i),Ib=Object.keys(h),OR=Ib.filter(V=>V!==N),CR=Ib.filter(V=>V!==j);return w?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBC Match Tracker"}),o.jsx("p",{className:"text-gray-600",children:"Track tournament matches in real-time"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tournament Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),o.jsxs("select",{value:i,onChange:V=>s(V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(V=>o.jsxs("option",{value:V.id,children:[V.name," (",V.status,")"]},V.id))]})]}),be&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:be.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",o.jsx("span",{className:`capitalize ${be.status==="active"?"text-green-600":be.status==="upcoming"?"text-blue-600":"text-gray-600"}`,children:be.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(be.tournament_date).toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",be.location]}),be.password&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"🔒 Password protected"})]})]})]}),i&&(be==null?void 0:be.password)&&!c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:"🔒 Tournament Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This tournament requires a password to access match tracking features."}),o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"password",placeholder:"Enter tournament password",value:a,onChange:V=>{l(V.target.value),f("")},onKeyPress:V=>V.key==="Enter"&&K(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:K,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Verify"})]}),d&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:d})]})]}),i&&c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Match Setup"}),v?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading player data..."})]}):Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(St,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No confirmed registrations found for this tournament"})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Round #"}),o.jsx("input",{type:"number",min:"1",value:A,onChange:V=>R(parseInt(V.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),o.jsxs("select",{value:j,onChange:V=>ce(1,V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 1 --"}),OR.map(V=>o.jsx("option",{value:V,children:V},V))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),o.jsxs("select",{value:N,onChange:V=>ce(2,V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 2 --"}),CR.map(V=>o.jsx("option",{value:V,children:V},V))]})]})]})]}),j&&N&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tournament Officer",value:T,onChange:V=>O(V.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),o.jsxs("div",{className:"text-lg font-bold",children:[o.jsxs("span",{className:`${_>I?"text-green-600":_<I?"text-red-600":"text-gray-600"}`,children:[j,": ",_]}),o.jsx("span",{className:"mx-4 text-gray-400",children:"|"}),o.jsxs("span",{className:`${I>_?"text-green-600":I<_?"text-red-600":"text-gray-600"}`,children:[N,": ",I]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Phase 1 Decks (",(be==null?void 0:be.beyblades_per_player)||3," Beyblades)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2"}),o.jsx("th",{className:"text-left py-2 font-semibold",children:j}),o.jsx("th",{className:"text-left py-2 font-semibold",children:N})]})}),o.jsx("tbody",{children:Array.from({length:(be==null?void 0:be.beyblades_per_player)||3},(V,ee)=>{var ae,fe;return o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 font-medium",children:["Bey ",ee+1]}),o.jsx("td",{className:"py-2",children:((ae=h[j])==null?void 0:ae[ee])||""}),o.jsx("td",{className:"py-2",children:((fe=h[N])==null?void 0:fe[ee])||""})]},ee)})})]})})]}),o.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(B).map(([V,ee])=>{var Ar,is;const ae=parseInt(V),fe=xe(j,ae),tt=xe(N,ae),Ie=ae+1,Te=(be==null?void 0:be.beyblades_per_player)||3,zt=Ie%Te===0&&Ie>0,st=Math.floor(Ie/Te)+1;return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold",children:["Match ",Ie,": ",fe," vs ",tt]}),o.jsx("button",{onClick:()=>rm(ae),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Outcome:"}),o.jsx("div",{className:"space-y-2",children:Object.keys(_p).map(Ut=>o.jsx("button",{onClick:()=>di(ae,Ut),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ee.outcome===Ut?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:Ut},Ut))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Winner:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>fi(ae,j),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ee.winner===j?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:j}),o.jsx("button",{onClick:()=>fi(ae,N),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ee.winner===N?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:N})]})]})]})]}),zt&&st>1&&Y[st]&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-md p-6 mt-4 border-2 border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center",children:[o.jsx(h1,{className:"mr-2",size:20}),"Phase ",st," Decks - Drag to Reorder"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:j}),o.jsx("div",{className:"space-y-2",children:(Ar=Y[st][j])==null?void 0:Ar.map((Ut,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Mb(Yr,Ut),onDragOver:Rb,onDrop:Yr=>Db(Yr,st,j,Cn),onDragEnd:$b,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${J===Ut?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(f1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:Ut})]},`${st}-${j}-${Cn}`))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:N}),o.jsx("div",{className:"space-y-2",children:(is=Y[st][N])==null?void 0:is.map((Ut,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Mb(Yr,Ut),onDragOver:Rb,onDrop:Yr=>Db(Yr,st,N,Cn),onDragEnd:$b,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${J===Ut?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(f1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:Ut})]},`${st}-${N}-${Cn}`))})]})]})]})]},V)})}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsxs("button",{onClick:U?_R:Qt,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:U?"Shuffle":"Add Match"})]}),o.jsxs("button",{onClick:()=>ve(!0),disabled:Object.values(B).every(V=>!V.outcome||!V.winner),className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o.jsx(UL,{size:20}),o.jsx("span",{children:"Submit Scores"})]}),o.jsxs("button",{onClick:se,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(h1,{size:20}),o.jsx("span",{children:"Refresh"})]})]}),he&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:`font-semibold ${he.includes("✅")?"text-green-600":he.includes("❌")?"text-red-600":"text-blue-600"}`,children:he})})]})]}),G&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Summary"}),o.jsx("button",{onClick:()=>ve(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Final Scores"}),o.jsxs("p",{className:"text-xl",children:[o.jsxs("strong",{children:[j,":"]})," ",_," pts | ",o.jsxs("strong",{children:[N,":"]})," ",I," pts"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Match Results"}),o.jsx("div",{className:"space-y-2",children:ER().map((V,ee)=>o.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:V}},ee))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>ve(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:AR,disabled:z,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[z&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Confirm Submit"})]})]})]})]})})]})},Tb=[{name:"Luzon",provinces:[{name:"Metro Manila",cities:["Manila","Quezon City","Makati","Pasig","Taguig","Mandaluyong","San Juan","Marikina","Pasay","Parañaque","Las Piñas","Muntinlupa","Caloocan","Malabon","Navotas","Valenzuela"]},{name:"Rizal",cities:["Antipolo","Cainta","Taytay","Angono","Binangonan","Cardona","Jalajala","Morong","Pililla","Rodriguez","San Mateo","Tanay","Teresa","Baras"]},{name:"Cavite",cities:["Bacoor","Cavite City","Dasmariñas","General Trias","Imus","Kawit","Rosario","Tagaytay","Trece Martires","Carmona","General Mariano Alvarez","Noveleta","Silang","Tanza"]},{name:"Laguna",cities:["Calamba","San Pedro","Biñan","Santa Rosa","Cabuyao","Los Baños","San Pablo","Sta. Cruz","Pagsanjan","Lumban","Bay","Calauan","Alaminos","Famy"]},{name:"Batangas",cities:["Batangas City","Lipa","Tanauan","Santo Tomas","Calaca","Lemery","Nasugbu","Rosario","San Jose","Taal","Balayan","Bauan","Ibaan","Laurel"]},{name:"Bulacan",cities:["Malolos","Meycauayan","San Jose del Monte","Marilao","Bocaue","Guiguinto","Balagtas","Bulakan","Calumpit","Hagonoy","Obando","Paombong","Plaridel","Pulilan"]},{name:"Pampanga",cities:["San Fernando","Angeles","Mabalacat","Apalit","Arayat","Bacolor","Candaba","Floridablanca","Guagua","Lubao","Macabebe","Magalang","Masantol","Mexico"]},{name:"Nueva Ecija",cities:["Cabanatuan","Gapan","Muñoz","Palayan","San Jose","Aliaga","Bongabon","Cabiao","Carranglan","Cuyapo","Gabaldon","General Mamerto Natividad","General Tinio","Guimba"]},{name:"Tarlac",cities:["Tarlac City","Bamban","Camiling","Capas","Concepcion","Gerona","La Paz","Mayantoc","Moncada","Paniqui","Pura","Ramos","San Clemente","San Jose"]},{name:"Zambales",cities:["Olongapo","Subic","Castillejos","San Marcelino","San Antonio","San Felipe","San Narciso","Botolan","Cabangan","Candelaria","Iba","Masinloc","Palauig","Santa Cruz"]}]},{name:"Visayas",provinces:[{name:"Cebu",cities:["Cebu City","Mandaue","Lapu-Lapu","Talisay","Toledo","Danao","Carcar","Naga","Minglanilla","Consolacion","Liloan","Compostela","Cordova","Bogo"]},{name:"Bohol",cities:["Tagbilaran","Ubay","Talibon","Carmen","Loon","Calape","Tubigon","Clarin","Inabanga","Getafe","Buenavista","Guindulman","Jagna","Garcia Hernandez"]},{name:"Negros Oriental",cities:["Dumaguete","Bais","Bayawan","Canlaon","Guihulngan","Tanjay","Amlan","Ayungon","Bacong","Basay","Bindoy","Dauin","Jimalalud","La Libertad"]},{name:"Negros Occidental",cities:["Bacolod","Bago","Cadiz","Escalante","Himamaylan","Kabankalan","La Carlota","Sagay","San Carlos","Silay","Sipalay","Talisay","Victorias","Binalbagan"]},{name:"Iloilo",cities:["Iloilo City","Passi","Oton","Pavia","Santa Barbara","Cabatuan","Janiuay","Mina","New Lucena","Tigbauan","Guimbal","Igbaras","Miagao","San Joaquin"]},{name:"Leyte",cities:["Tacloban","Ormoc","Baybay","Maasin","Abuyog","Alangalang","Albuera","Babatngon","Bato","Burauen","Calubian","Capoocan","Carigara","Dagami"]},{name:"Samar",cities:["Catbalogan","Calbayog","Borongan","Basey","Calbiga","Daram","Gandara","Hinabangan","Jiabong","Marabut","Motiong","Paranas","Pinabacdao","San Jorge"]},{name:"Panay",cities:["Roxas","Kalibo","San Jose de Buenavista","Boracay","Caticlan","New Washington","Batan","Buruanga","Ibajay","Lezo","Malay","Makato","Madalag","Malinao"]}]},{name:"Mindanao",provinces:[{name:"Davao del Sur",cities:["Davao City","Digos","Samal","Santa Cruz","Bansalan","Hagonoy","Kiblawan","Magsaysay","Matanao","Padada","Sulop"]},{name:"Davao del Norte",cities:["Tagum","Panabo","Samal","Carmen","Kapalong","New Corella","San Isidro","Santo Tomas","Talaingod","Asuncion","Braulio E. Dujali"]},{name:"Cagayan de Oro",cities:["Cagayan de Oro","Gingoog","El Salvador","Jasaan","Villanueva","Tagoloan","Laguindingan","Libertad","Lugait","Manticao","Naawan","Opol"]},{name:"Zamboanga",cities:["Zamboanga City","Pagadian","Dipolog","Dapitan","Isabela","Ozamiz","Tangub","Oroquieta","Jimenez","Sinacaban","Tudela","Clarin","Baliangao","Plaridel"]},{name:"Bukidnon",cities:["Malaybalay","Valencia","Maramag","Quezon","Don Carlos","Kitaotao","Lantapan","Libona","Malitbog","Manolo Fortich","Pangantucan","Sumilao","Talakag","Cabanglasan"]},{name:"Lanao del Norte",cities:["Iligan","Ozamiz","Tangub","Tubod","Bacolod","Baloi","Baroy","Kapatagan","Kauswagan","Kolambugan","Lala","Linamon","Magsaysay","Maigo"]},{name:"Surigao del Norte",cities:["Surigao City","Siargao","Dapa","Del Carmen","General Luna","Pilar","San Benito","San Isidro","Santa Monica","Alegria","Bacuag","Burgos","Claver","Gigaquit"]},{name:"South Cotabato",cities:["General Santos","Koronadal","Kidapawan","Cotabato City","Marbel","Polomolok","Tupi","Tampakan","Tantangan","Banga","Lake Sebu","Norala","Santo Niño","Surallah"]}]}];function OP(){return Tb.map(e=>e.name)}function CP(e){const t=Tb.find(r=>r.name===e);return t?t.provinces:[]}function Jte(e,t){const r=Tb.find(i=>i.name===e);if(!r)return[];const n=r.provinces.find(i=>i.name===t);return n?n.cities:[]}function Qte({value:e,onChange:t,placeholder:r="Enter tournament location"}){const[n,i]=x.useState(""),[s,a]=x.useState(""),[l,c]=x.useState(""),[u,d]=x.useState("");x.useEffect(()=>{if(e&&!n){const y=e.split(", ");if(y.length>=2){d(y[0]);const w=y[y.length-1],g=OP();for(const v of g){const b=CP(v);for(const j of b)if(j.cities.some(S=>w.includes(S))){i(v),a(j.name);const S=j.cities.find(N=>w.includes(N));S&&c(S);return}}}else d(e)}},[e]),x.useEffect(()=>{if(n&&s&&l){const y=u?`${u}, ${l}, ${s}, ${n}`:`${l}, ${s}, ${n}`;t(y)}else u&&!n&&t(u)},[n,s,l,u,t]);const f=y=>{i(y),a(""),c("")},h=y=>{a(y),c("")},m=n?CP(n):[],p=n&&s?Jte(n,s):[];return o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Region"}),o.jsxs("select",{value:n,onChange:y=>f(y.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Region"}),OP().map(y=>o.jsx("option",{value:y,children:y},y))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Province"}),o.jsxs("select",{value:s,onChange:y=>h(y.target.value),disabled:!n,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Province"}),m.map(y=>o.jsx("option",{value:y.name,children:y.name},y.name))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City/Municipality"}),o.jsxs("select",{value:l,onChange:y=>c(y.target.value),disabled:!s,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select City"}),p.map(y=>o.jsx("option",{value:y,children:y},y))]})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Specific Location ",o.jsx("span",{className:"text-gray-500",children:"(e.g., venue name, address)"})]}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:"text",value:u,onChange:y=>d(y.target.value),className:"input-field w-full pr-10",placeholder:"Enter specific venue or address"}),o.jsx(U0,{size:20,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 pointer-events-none",style:{top:"50%",transform:"translateY(-50%)",right:"12px"}})]})]}),(l||u)&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-md p-3",children:[o.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Full Location:"}),o.jsx("div",{className:"font-medium text-gray-900",children:n&&s&&l?u?`${u}, ${l}, ${s}, ${n}`:`${l}, ${s}, ${n}`:u||"Please select location"})]})]})}function Zte(){const{user:e}=Bt(),{confirm:t,alert:r}=si(),[n,i]=x.useState([]),[s,a]=x.useState([]),[l,c]=x.useState(""),[u,d]=x.useState("tournaments"),[f,h]=x.useState(!0),[m,p]=x.useState(!1),[y,w]=x.useState(null),[g,v]=x.useState(!1),[b,j]=x.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""}),S=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";x.useEffect(()=>{S&&N()},[S]),x.useEffect(()=>{l&&u==="registrations"&&P()},[l,u]);const N=async()=>{try{const{data:_,error:E}=await X.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(E)throw E;i(_||[])}catch(_){console.error("Error fetching tournaments:",_)}finally{h(!1)}},P=async()=>{if(l)try{const{data:_,error:E}=await X.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(E)throw E;const I={};_==null||_.forEach(F=>{I[F.registration_id]||(I[F.registration_id]={id:F.registration_id,tournament_id:F.tournament_id,player_name:F.player_name,payment_mode:F.payment_mode,registered_at:F.registered_at,status:F.status,payment_status:F.payment_status||"confirmed",beyblades:[]}),F.beyblade_id&&(I[F.registration_id].beyblades.find(C=>C.beyblade_id===F.beyblade_id)||I[F.registration_id].beyblades.push({beyblade_id:F.beyblade_id,beyblade_name:F.beyblade_name,blade_line:F.blade_line}))}),a(Object.values(I))}catch(_){console.error("Error fetching registrations:",_)}},A=()=>{p(!0),j({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})},R=_=>{w(_.id),j({name:_.name,description:_.description||"",tournament_date:_.tournament_date,location:_.location,max_participants:_.max_participants,registration_deadline:_.registration_deadline,prize_pool:_.prize_pool||"",beyblades_per_player:_.beyblades_per_player,players_per_team:_.players_per_team,entry_fee:_.entry_fee,is_free:_.is_free,tournament_type:_.tournament_type,password:_.password||""})},T=async()=>{if(!b.name.trim()){await r("Missing Information","Please enter a tournament name.");return}if(!b.password.trim()){await r("Missing Information","Please enter a tournament password.");return}if(!b.tournament_date){await r("Missing Information","Please select a tournament date.");return}if(!b.location.trim()){await r("Missing Information","Please enter a tournament location.");return}if(!b.registration_deadline){await r("Missing Information","Please select a registration deadline.");return}try{const _={name:b.name.trim(),description:b.description.trim()||null,tournament_date:b.tournament_date,location:b.location.trim(),max_participants:b.max_participants,registration_deadline:b.registration_deadline,prize_pool:b.prize_pool.trim()||null,beyblades_per_player:b.beyblades_per_player,players_per_team:b.players_per_team,entry_fee:b.entry_fee,is_free:b.is_free,tournament_type:b.tournament_type,password:b.password.trim()};if(m){const{error:E}=await X.from("tournaments").insert([_]);if(E)throw E}else if(y){const{error:E}=await X.from("tournaments").update(_).eq("id",y);if(E)throw E}await N(),M(),await r("Success","Tournament saved successfully!")}catch(_){console.error("Error saving tournament:",_),await r("Error","Failed to save tournament. Please try again.")}},O=async _=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{const{data:I,error:F}=await X.rpc("delete_tournament_completely",{tournament_id_to_delete:_});if(F)throw F;await N(),await r("Success","Tournament deleted successfully!")}catch(I){console.error("Error deleting tournament:",I),await r("Error","Failed to delete tournament. Please try again.")}},B=async _=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:I}=await X.from("tournament_registrations").delete().eq("id",_);if(I)throw I;await P(),await r("Success","Registration deleted successfully!")}catch(I){console.error("Error deleting registration:",I),await r("Error","Failed to delete registration. Please try again.")}},M=()=>{p(!1),w(null),j({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})};return S?f?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper max-w-6xl mx-auto",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(lt,{size:28,className:"mr-3 text-yellow-600"}),"Tournament Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage tournaments"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>d("tournaments"),className:`filter-tab ${u==="tournaments"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(lt,{size:16,className:"mr-2"}),"Tournaments"]}),o.jsxs("button",{onClick:()=>d("registrations"),className:`filter-tab ${u==="registrations"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(St,{size:16,className:"mr-2"}),"Registrations"]})]})]})}),u==="tournaments"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs("button",{onClick:A,className:"primary-button flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"Create Tournament"})]})}),(m||y)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Name *"}),o.jsx("input",{type:"text",value:b.name,onChange:_=>j({...b,name:_.target.value}),className:"input-field w-full",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Date *"}),o.jsx("input",{type:"date",value:b.tournament_date,onChange:_=>j({...b,tournament_date:_.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Location *"}),o.jsx(Qte,{value:b.location,onChange:_=>j({...b,location:_})})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Registration Deadline *"}),o.jsx("input",{type:"date",value:b.registration_deadline,onChange:_=>j({...b,registration_deadline:_.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Max Participants"}),o.jsx("input",{type:"number",min:"1",value:b.max_participants,onChange:_=>j({...b,max_participants:parseInt(_.target.value)||16}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:"1",max:"5",value:b.beyblades_per_player,onChange:_=>j({...b,beyblades_per_player:parseInt(_.target.value)||3}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Type"}),o.jsxs("select",{value:b.tournament_type,onChange:_=>j({...b,tournament_type:_.target.value}),className:"select-field w-full",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Entry Fee"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.is_free,onChange:_=>j({...b,is_free:_.target.checked,entry_fee:_.target.checked?0:b.entry_fee}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Free Tournament"})]}),!b.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:b.entry_fee,onChange:_=>j({...b,entry_fee:parseFloat(_.target.value)||0}),className:"input-field w-full mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:b.password,onChange:_=>j({...b,password:_.target.value}),className:"input-field w-full pr-10",placeholder:"Enter tournament password."}),o.jsx("button",{type:"button",onClick:()=>v(!g),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:g?o.jsx(Od,{size:20}):o.jsx(jn,{size:20})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{value:b.description,onChange:_=>j({...b,description:_.target.value}),className:"input-field w-full",rows:3,placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Prize Pool"}),o.jsx("input",{type:"text",value:b.prize_pool,onChange:_=>j({...b,prize_pool:_.target.value}),className:"input-field w-full",placeholder:"e.g., ₱500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:M,className:"secondary-button flex items-center space-x-2",children:[o.jsx(Yt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:T,className:"primary-button flex items-center space-x-2",children:[o.jsx(Hf,{size:16}),o.jsx("span",{children:"Save Tournament"})]})]})]}),n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(lt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No tournaments created yet"}),o.jsx("button",{onClick:A,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(_=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.name}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium capitalize ${_.status==="upcoming"?"bg-blue-100 text-blue-800":_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>R(_),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:14})}),o.jsx("button",{onClick:()=>O(_.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:14})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ui,{size:14,className:"mr-2"}),new Date(_.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(U0,{size:14,className:"mr-2"}),_.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(St,{size:14,className:"mr-2"}),_.max_participants===999999?`${_.current_participants} participants (unlimited)`:`${_.current_participants}/${_.max_participants} participants`]}),_.password&&o.jsx("div",{className:"flex items-center text-orange-600",children:o.jsx("span",{className:"text-xs",children:"🔒 Password protected"})})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Created: ",new Date(_.created_at).toLocaleDateString()]})]},_.id))})]}),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"form-label",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"select-field max-w-md",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(_=>o.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l&&o.jsx("div",{className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(St,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):s.map(_=>{var E;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:_.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(_.registered_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((E=_.payment_mode)==null?void 0:E.replace("_"," "))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-1 ${_.status==="confirmed"?"bg-green-100 text-green-800":_.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:_.status})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>B(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Registration",children:o.jsx(kn,{size:16})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[_.beyblades.length," registered"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:_.beyblades.length>0?_.beyblades.map((I,F)=>o.jsx("span",{className:"inline-block bg-white px-2 py-1 rounded-full text-xs font-medium text-gray-700 border",children:I.beyblade_name},F)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},_.id)})})]})]})}):o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"🔒"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You need admin or developer permissions to access tournament management."})]})})})}function ere(){const{user:e}=Bt(),{confirm:t,alert:r}=si(),[n,i]=x.useState([]),[s,a]=x.useState("all"),[l,c]=x.useState("all"),[u,d]=x.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";xn.useEffect(()=>{h()},[]);const h=async()=>{try{console.log("🔍 USER MANAGEMENT: Fetching profiles...");const{data:v,error:b}=await X.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw console.error("❌ USER MANAGEMENT: Error fetching profiles:",b),b;console.log("📊 USER MANAGEMENT: Raw profiles data:",{count:(v==null?void 0:v.length)||0,sample:(v==null?void 0:v.slice(0,3))||[],allProfiles:v||[]});const j=(v||[]).map(S=>({id:S.id,username:S.username,email:S.email||"",role:S.role,joinedDate:S.created_at,status:"active",lastLogin:null}));console.log("🔄 USER MANAGEMENT: Formatted profiles as users:",{count:j.length,sample:j.slice(0,3),roles:j.map(S=>S.role),statuses:j.map(S=>S.status)}),i(j),console.log("✅ USER MANAGEMENT: Profiles loaded successfully as users")}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const b=s==="all"||v.status===s,j=l==="all"||v.role===l;return b&&j}),p=async(v,b)=>{try{const{error:j}=await X.from("profiles").update(b).eq("id",v);if(j){const S=j.code==="42501"||j.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${j.message}`;await r("Update Failed",S);return}await h()}catch(j){console.error("Error updating user:",j),await r("Update Failed",`Failed to update user: ${j instanceof Error?j.message:"Unknown error"}`)}},y=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:j,error:S}=await X.rpc("delete_user_completely",{user_id_to_delete:v});if(S){console.error("Delete error:",S),S.code==="42501"||S.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):S.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${S.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(j){console.error("Error deleting user:",j),await r("Delete Failed",`Failed to delete user: ${j instanceof Error?j.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(St,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(IL,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:b=>p(v.id,{role:b.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${g(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ui,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>y(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(kn,{size:16})})]})})})]},v.id))})]})})})]})}function tre(){var $,J,oe;const{user:e}=Bt(),{confirm:t,alert:r}=si(),[n,i]=x.useState("tournaments"),[s,a]=x.useState(null),[l,c]=x.useState(!1),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,p]=x.useState(null),[y,w]=x.useState([]),[g,v]=x.useState(null),[b,j]=x.useState({}),[S,N]=x.useState(null),[P,A]=x.useState([]),[R,T]=x.useState(""),[O,B]=x.useState(1),[M]=x.useState(10);xn.useEffect(()=>{a(null),N(null),v(null),j({}),T(""),B(1)},[n]);const _=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",E=async()=>{try{console.log("🔍 DATABASE: Fetching table counts...");const[D,K,Q,se]=await Promise.all([X.from("profiles").select("*",{count:"exact",head:!0}),X.from("tournaments").select("*",{count:"exact",head:!0}),X.from("match_results").select("*",{count:"exact",head:!0}),X.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:D.count||0,icon:o.jsx(St,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:K.count||0,icon:o.jsx(lt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:Q.count||0,icon:o.jsx(Ui,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:se.count||0,icon:o.jsx(WL,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ce}=await X.from("tournaments").select("id, name").order("name");A(ce||[]),console.log("✅ DATABASE: Table counts loaded successfully")}catch(D){console.error("Error fetching table counts:",D)}},I=async(D,K)=>{h(!0),p(null),console.log("🔍 DATABASE: Fetching table data for:",{tableName:D,tournamentId:K});try{let Q=[];if(D==="registrations"&&K){const{data:se,error:ce}=await X.from("tournament_registration_details").select("*").eq("tournament_id",K).order("registered_at",{ascending:!1});if(ce)throw ce;const xe={};se==null||se.forEach(Pe=>{var Qt;xe[Pe.registration_id]||(xe[Pe.registration_id]={registration_id:Pe.registration_id,tournament_id:Pe.tournament_id,tournament_name:((Qt=P.find(di=>di.id===Pe.tournament_id))==null?void 0:Qt.name)||"Unknown Tournament",player_name:Pe.player_name,payment_mode:Pe.payment_mode,registered_at:Pe.registered_at,status:Pe.status,beyblades:[]}),Pe.beyblade_id&&(xe[Pe.registration_id].beyblades.find(fi=>fi.beyblade_id===Pe.beyblade_id)||xe[Pe.registration_id].beyblades.push({beyblade_id:Pe.beyblade_id,beyblade_name:Pe.beyblade_name,blade_line:Pe.blade_line,parts:Pe.beyblade_parts||[]}))}),Q=Object.values(xe)}else if(D==="registrations"&&!K)Q=P;else{let se=D;D==="registrations"?se="tournament_registrations":D==="users"?se="profiles":D==="matches"&&(se="match_results");const{data:ce,error:xe}=await X.from(se).select("*").order(D==="tournaments"?"tournament_date":D==="matches"?"submitted_at":"created_at",{ascending:!1});if(xe)throw console.error(`❌ DATABASE: Error fetching ${D}:`,xe),xe;Q=ce||[]}(D!=="registrations"||K)&&Q.sort((se,ce)=>{const xe=Object.values(se).find(Qt=>typeof Qt=="string")||"",Pe=Object.values(ce).find(Qt=>typeof Qt=="string")||"";return xe.localeCompare(Pe)}),d(Q),console.log(`✅ DATABASE: Table data loaded for ${D}:`,{finalCount:Q.length,hasData:Q.length>0})}catch(Q){console.error("Error fetching table data:",Q),p(`Failed to load ${D} data. Please try again.`)}finally{h(!1)}},F=async()=>{c(!0),await Promise.all([E(),I(n,s||void 0)]),c(!1)},k=D=>{const K=JSON.stringify(u,null,2),Q=new Blob([K],{type:"application/json"}),se=URL.createObjectURL(Q),ce=document.createElement("a");ce.href=se,ce.download=`${D}_export_${new Date().toISOString().split("T")[0]}.json`,ce.click(),URL.revokeObjectURL(se)},C=D=>{v(D.id||D.registration_id||D.tournament_id),j({...D})},U=async()=>{if(!(!g||!_))try{let D=n;n==="registrations"?D="tournament_registrations":n==="users"?D="profiles":n==="matches"&&(D="match_results");const{error:K}=await X.from(D).update(b).eq("id",g);if(K){console.error("Update error:",K),K.code==="42501"||K.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${K.message}`);return}v(null),j({}),await I(n)}catch(D){console.error("Error updating row:",D),await r("Update Failed",`Failed to update record: ${D instanceof Error?D.message:"Unknown error"}. Please try again.`)}},H=async D=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let Q=n;n==="registrations"?Q="tournament_registrations":n==="users"?Q="profiles":n==="matches"&&(Q="match_results");const{error:se}=await X.from(Q).delete().eq("id",D);if(se){console.error("Delete error:",se),se.code==="42501"||se.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${se.message}`);return}await Promise.all([E(),I(n,s||void 0)])}catch(Q){console.error("Error deleting row:",Q),await r("Delete Failed",`Failed to delete record: ${Q instanceof Error?Q.message:"Unknown error"}. Please try again.`)}},G=D=>{a(D),I("registrations",D)},ve=()=>{a(null),I("registrations")},z=D=>{N(D)};x.useEffect(()=>{E()},[]),x.useEffect(()=>{n==="registrations"&&a(null),I(n)},[n]);const Z=u.filter(D=>R?Object.values(D).filter(Q=>typeof Q=="string").join(" ").toLowerCase().includes(R.toLowerCase()):!0),he=Math.ceil(Z.length/M),W=Z.slice((O-1)*M,O*M),Y=()=>{var D;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>I(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(lt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(K=>o.jsxs("button",{onClick:()=>G(K.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:K.name}),o.jsx(OL,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:K.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(K.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${K.status==="upcoming"?"bg-blue-100 text-blue-800":K.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:K.status})})]},K.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:ve,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(z0,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((D=P.find(K=>K.id===s))==null?void 0:D.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(K=>{var Q;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:K.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:K.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:K.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(K.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((Q=K.payment_mode)==null?void 0:Q.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${K.status==="confirmed"?"bg-green-100 text-green-800":K.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:K.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>z(K),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(jn,{size:16})}),_&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>C(K),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>H(K.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(kn,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[K.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:K.beyblades.length>0?K.beyblades.map((se,ce)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:se.beyblade_name},ce)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},K.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:R,onChange:K=>{T(K.target.value),B(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",W.length," of ",Z.length," records"]}),he>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>B(Math.max(1,O-1)),disabled:O===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",O," of ",he]}),o.jsx("button",{onClick:()=>B(Math.min(he,O+1)),disabled:O===he,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[W.length>0&&W[0]&&Object.keys(W[0]).map(K=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:K.replace(/_/g," ")},K)),_&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:W.map((K,Q)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(K).map(([se,ce],xe)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:g===(K.id||K.registration_id||K.tournament_id)&&_?o.jsx("input",{type:"text",value:b[se]||"",onChange:Pe=>j({...b,[se]:Pe.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ce=="object"&&ce!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ce).length>50?JSON.stringify(ce).substring(0,50)+"...":JSON.stringify(ce)}):ce instanceof Date?ce.toLocaleString():o.jsx("span",{className:se.includes("email")?"font-mono text-blue-600":"",children:String(ce||"")})})},xe)),_&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:g===(K.id||K.registration_id||K.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:U,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(Hf,{size:16})}),o.jsx("button",{onClick:()=>{v(null),j({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(Yt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>C(K),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>H(K.id||K.registration_id||K.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(kn,{size:16})})]})})})]},K.id||Q))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Wn,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:F,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(zL,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>k(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(TL,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Wn,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:y.map(D=>o.jsxs("button",{onClick:()=>i(D.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===D.name?"bg-gradient-to-r "+D.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===D.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:xn.cloneElement(D.icon,{className:n===D.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===D.name?"text-white":"text-gray-900"}`,children:D.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===D.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:D.records})]}),o.jsx("p",{className:`text-xs ${n===D.name?"text-white/80":"text-gray-600"}`,children:D.description})]},D.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Ii,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.reduce((D,K)=>D+K.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[(($=y.find(D=>D.name===n))==null?void 0:$.icon)&&xn.cloneElement(y.find(D=>D.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((J=P.find(D=>D.id===s))==null?void 0:J.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(oe=y.find(D=>D.name===n))==null?void 0:oe.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${Z.length} records`})})]})}),Y()]})})]}),S&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:S.player_name})]}),o.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:S.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:S.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:S.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${S.status==="confirmed"?"bg-green-100 text-green-800":S.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:S.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ui,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(S.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(lt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[S.beyblades.length," Beyblades"]})]}),S.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(lt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:S.beyblades.map((D,K)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:D.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[D.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:K+1})})]}),D.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:D.parts.map((Q,se)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:Q.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:Q.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:se+1})})]},se))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},D.beyblade_id))})]})]})]})})]})})}function rre({showHeader:e=!0}){const{user:t}=Bt(),{confirm:r,alert:n}=si();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=x.useState([]),[a,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[h,m]=x.useState(null),[p,y]=x.useState(!0),[w,g]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=x.useState(""),[j,S]=x.useState(""),[N,P]=x.useState(3),[A,R]=x.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);x.useEffect(()=>{T(),p&&B(),O()},[t]);const T=async()=>{try{const{data:W,error:Y}=await X.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(Y)throw Y;s(W||[])}catch(W){console.error("Error fetching presets:",W)}finally{u(!1)}};x.useEffect(()=>{p||O()},[p]);const O=async()=>{try{const[W,Y,$,J,oe]=await Promise.all([X.from("beypart_blade").select("*"),X.from("beypart_ratchet").select("*"),X.from("beypart_bit").select("*"),X.from("beypart_lockchip").select("*"),X.from("beypart_assistblade").select("*")]);g({blades:W.data||[],ratchets:Y.data||[],bits:$.data||[],lockchips:J.data||[],assistBlades:oe.data||[]})}catch(W){console.error("Error fetching parts data:",W)}},B=async()=>{try{const{data:W,error:Y}=await X.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(Y)throw Y;l(W||[])}catch(W){console.error("Error fetching inventory:",W)}},M=W=>{switch(W){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},_=W=>{if(!p)switch(W==="Main Blade"?"Blade":W){case"Blade":return w.blades.map($=>({id:`db-${$.Blades}`,part_type:"Blade",part_name:$.Blades,part_data:$,quantity:999}));case"Ratchet":return w.ratchets.map($=>({id:`db-${$.Ratchet}`,part_type:"Ratchet",part_name:$.Ratchet,part_data:$,quantity:999}));case"Bit":return w.bits.map($=>({id:`db-${$.Bit}`,part_type:"Bit",part_name:`${$.Bit} (${$.Shortcut})`,part_data:$,quantity:999}));case"Lockchip":return w.lockchips.map($=>({id:`db-${$.Lockchip}`,part_type:"Lockchip",part_name:$.Lockchip,part_data:$,quantity:999}));case"Assist Blade":return w.assistBlades.map($=>({id:`db-${$["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${$["Assist Blade Name"]} (${$["Assist Blade"]})`,part_data:$,quantity:999}));default:return[]}return W==="Blade"||W==="Main Blade"?a.filter($=>$.part_type.startsWith("Blade (")&&$.part_type===`Blade (${W==="Main Blade"?"Custom":"Basic"})`):a.filter($=>$.part_type===W)},E=(W,Y)=>{var oe,D,K,Q,se,ce,xe,Pe;if(!W||!M(W).every(Qt=>Y[Qt]))return"";if(W==="Custom"){const Qt=((oe=Y.Lockchip)==null?void 0:oe.Lockchip)||"",di=((D=Y["Main Blade"])==null?void 0:D.Blades)||"",fi=((K=Y["Assist Blade"])==null?void 0:K["Assist Blade"])||"",zo=((Q=Y.Ratchet)==null?void 0:Q.Ratchet)||"",rm=((se=Y.Bit)==null?void 0:se.Shortcut)||"";return`${Qt}${di} ${fi}${zo}${rm}`}else{const Qt=((ce=Y.Blade)==null?void 0:ce.Blades)||"",di=((xe=Y.Ratchet)==null?void 0:xe.Ratchet)||"",fi=((Pe=Y.Bit)==null?void 0:Pe.Shortcut)||"";return`${Qt} ${di}${fi}`}},I=W=>{let Y={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(W).forEach($=>{$&&(Y.attack+=$.Attack||0,Y.defense+=$.Defense||0,Y.stamina+=$.Stamina||0,Y.dash+=$.Dash||0,Y.burstRes+=$["Burst Res"]||0)}),Y},F=()=>{f(!0),b(""),S(""),P(3),R([{id:"1",name:"",blade_line:"Basic",parts:{}}])},k=W=>{m(W.id),b(W.name),S(W.description||""),P(W.beyblades.length),R(W.beyblades)},C=()=>{A.length<N&&R([...A,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},U=W=>{A.length>1&&R(A.filter(Y=>Y.id!==W))},H=(W,Y,$)=>{R(A.map(J=>{if(J.id===W){const oe={...J,[Y]:$,parts:{}};return oe.name=E($,{}),oe}return J}))},G=(W,Y,$)=>{R(A.map(J=>{if(J.id===W){const oe={...J.parts,[Y]:$},D=E(J.blade_line,oe);return{...J,parts:oe,name:D}}return J}))},ve=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const W=A.filter(Y=>{const $=M(Y.blade_line);return Y.blade_line&&$.every(J=>Y.parts[J])});if(W.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const Y={user_id:t.id,name:v.trim(),description:j.trim()||null,beyblades:W};if(d){const{error:$}=await X.from("deck_presets").insert([Y]);if($)throw $}else if(h){const{error:$}=await X.from("deck_presets").update({...Y,updated_at:new Date().toISOString()}).eq("id",h);if($)throw $}await T(),Z(),await n("Success","Deck preset saved successfully!")}catch(Y){console.error("Error saving preset:",Y),await n("Error","Failed to save deck preset. Please try again.")}},z=async W=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:$}=await X.from("deck_presets").delete().eq("id",W);if($)throw $;await T()}catch($){console.error("Error deleting preset:",$),await n("Error","Failed to delete deck preset. Please try again.")}},Z=()=>{f(!1),m(null),b(""),S(""),P(3),R([{id:"1",name:"",blade_line:"Basic",parts:{}}])},he=W=>{switch(W){case"attack":return o.jsx(kc,{size:12,className:"text-red-500"});case"defense":return o.jsx(Es,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(qf,{size:12,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(W0,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>y(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>y(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>y(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>y(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:W=>b(W.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:j,onChange:W=>S(W.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:A.map((W,Y)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",Y+1]}),A.length>1&&o.jsx("button",{onClick:()=>U(W.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:W.blade_line,onChange:$=>H(W.id,"blade_line",$.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:W.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:M(W.blade_line).map($=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:$}),o.jsxs("select",{value:W.parts[$]?JSON.stringify(W.parts[$]):"",onChange:J=>{if(J.target.value){const oe=JSON.parse(J.target.value);G(W.id,$,oe)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",$]}),_($).filter(J=>{var oe;return!p&&($==="Blade"||$==="Main Blade")&&((oe=J.part_data)!=null&&oe.Line)?J.part_data.Line===($==="Main Blade"?"Custom":W.blade_line):!0}).map(J=>o.jsxs("option",{value:JSON.stringify(J.part_data),children:[J.part_name," ",p?`(Qty: ${J.quantity})`:""]},J.id))]})]},$))}),Object.keys(W.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(I(W.parts)).map(([$,J])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:he($)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:$==="burstRes"?"Burst Res":$}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:J})]},$))})]})]},W.id))}),A.length<5&&o.jsxs("button",{onClick:C,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(As,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",A.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:Z,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Yt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:ve,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Hf,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:F,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(W=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:W.name}),W.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:W.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>k(W),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>z(W.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:W.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[W.beyblades.slice(0,3).map((Y,$)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:Y.name||`Beyblade ${$+1}`},$)),W.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",W.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(W.updated_at).toLocaleDateString()]})]},W.id))})]})}function nre(){const{user:e}=Bt(),{confirm:t,alert:r}=si(),[n,i]=x.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(hl,{size:64,className:"text-gray-400"}),o.jsx(La,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(!1),[f,h]=x.useState(null),[m,p]=x.useState(""),[y,w]=x.useState("all"),[g,v]=x.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[b,j]=x.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});x.useEffect(()=>{S(),N()},[e]);const S=async()=>{try{const{data:E,error:I}=await X.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(I)throw I;a(E||[])}catch(E){console.error("Error fetching inventory:",E)}finally{c(!1)}},N=async()=>{try{const[E,I,F,k,C]=await Promise.all([X.from("beypart_blade").select("*"),X.from("beypart_ratchet").select("*"),X.from("beypart_bit").select("*"),X.from("beypart_lockchip").select("*"),X.from("beypart_assistblade").select("*")]);j({blades:E.data||[],ratchets:I.data||[],bits:F.data||[],lockchips:k.data||[],assistBlades:C.data||[]})}catch(E){console.error("Error fetching parts data:",E)}},P=E=>{let I=[];if(E.startsWith("Blade (")){const F=E.replace("Blade (","").replace(")","");I=b.blades.filter(k=>k.Line===F)}else E==="Ratchet"?I=b.ratchets:E==="Bit"?I=b.bits:E==="Lockchip"?I=b.lockchips:E==="Assist Blade"&&(I=b.assistBlades);return E==="Blade"?I=b.blades.filter(F=>F.Line!=="Custom"):E==="Blade (Custom)"?I=b.blades.filter(F=>F.Line==="Custom"):E==="Ratchet"?I=b.ratchets:E==="Bit"?I=b.bits:E==="Lockchip"?I=b.lockchips:E==="Assist Blade"&&(I=b.assistBlades),I},A=(E,I)=>{if(I.startsWith("Blade ("))return E.Blades;switch(I){case"Ratchet":return E.Ratchet;case"Bit":return`${E.Bit} (${E.Shortcut})`;case"Lockchip":return E.Lockchip;case"Assist Blade":return`${E["Assist Blade Name"]} (${E["Assist Blade"]})`;default:return""}},R=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},T=E=>{h(E.id),v({part_type:E.part_type,part_name:E.part_name,part_data:E.part_data,quantity:E.quantity,notes:E.notes||""})},O=async()=>{if(!g.part_name||!g.part_data){await r("Missing Information","Please select a part before saving.");return}try{const E={user_id:e.id,part_type:g.part_type,part_name:g.part_name,part_data:g.part_data,quantity:g.quantity,notes:g.notes||null};if(u){const{error:I}=await X.from("user_inventory").insert([E]);if(I)throw I}else if(f){const{error:I}=await X.from("user_inventory").update(E).eq("id",f);if(I)throw I}await S()}catch(E){console.error("Error saving inventory item:",E),await r("Error","Failed to save inventory item. Please try again.")}},B=async E=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:F}=await X.from("user_inventory").delete().eq("id",E);if(F)throw F;await S()}catch(F){console.error("Error deleting inventory item:",F),await r("Error","Failed to delete inventory item. Please try again.")}},M=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},_=s.filter(E=>{var k;const I=E.part_name.toLowerCase().includes(m.toLowerCase())||E.notes&&E.notes.toLowerCase().includes(m.toLowerCase());let F=!1;if(y==="all")F=!0;else if(y.startsWith("Blade (")){const C=y.replace("Blade (","").replace(")","");F=E.part_type==="Blade"&&((k=E.part_data)==null?void 0:k.Line)===C}else F=E.part_type===y;return I&&F});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(hl,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(rre,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(hl,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(As,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:E=>p(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(ML,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:y,onChange:E=>w(E.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:g.part_type,onChange:E=>v({...g,part_type:E.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:g.part_data?JSON.stringify(g.part_data):"",onChange:E=>{if(E.target.value){const I=JSON.parse(E.target.value);v({...g,part_name:A(I,g.part_type),part_data:I})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(g.part_type).map((E,I)=>o.jsx("option",{value:JSON.stringify(E),children:A(E,g.part_type)},I))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:g.quantity,onChange:E=>v({...g,quantity:parseInt(E.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:g.notes,onChange:E=>v({...g,notes:E.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:M,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Yt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Hf,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),_.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(hl,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:R,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(E=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:E.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>T(E),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>B(E.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:E.quantity})]}),E.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:E.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(E.created_at).toLocaleDateString()]})]}),E.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(E.part_data).map(([I,F])=>typeof F=="number"&&F>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(I)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[I,":"]}),o.jsx("span",{className:"font-medium",children:F})]},I):null)})})]},E.id))})]})}function ire(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[i,s]=x.useState(""),[a,l]=x.useState("name"),[c,u]=x.useState("asc"),[d,f]=x.useState("grid"),[h,m]=x.useState(null),[p,y]=x.useState("lockchips"),[w,g]=x.useState(""),[v,b]=x.useState(""),j=["lockchips","blades (custom)","blades","ratchets","bits"];x.useEffect(()=>{S()},[]);const S=async()=>{n(!0);try{const[M,_,E,I,F]=await Promise.all([X.from("beypart_blade").select("*"),X.from("beypart_ratchet").select("*"),X.from("beypart_bit").select("*"),X.from("beypart_lockchip").select("*"),X.from("beypart_assistblade").select("*")]),k=[];(M.data||[]).forEach(C=>{k.push({id:`blade-${C.Blades}`,name:C.Blades,category:"Blade",role:C.Type,line:C.Line,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),(_.data||[]).forEach(C=>{k.push({id:`ratchet-${C.Ratchet}`,name:C.Ratchet,category:"Ratchet",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),(E.data||[]).forEach(C=>{k.push({id:`bit-${C.Bit}`,name:`${C.Bit} (${C.Shortcut})`,category:"Bit",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:C.Dash||0,burstRes:C["Burst Res"]||0},data:C})}),(I.data||[]).forEach(C=>{k.push({id:`lockchip-${C.Lockchip}`,name:C.Lockchip,category:"Lockchip",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),(F.data||[]).forEach(C=>{k.push({id:`assistblade-${C["Assist Blade"]}`,name:`${C["Assist Blade Name"]} (${C["Assist Blade"]})`,category:"Assist Blade",role:C.Type,stats:{attack:C.Attack||0,defense:C.Defense||0,stamina:C.Stamina||0,dash:0,burstRes:0},data:C})}),t(k)}catch(M){console.error("Error fetching parts:",M)}finally{n(!1)}},N=M=>{switch(M){case"attack":return o.jsx(kc,{size:16,className:"text-red-500"});case"defense":return o.jsx(Es,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(qf,{size:16,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(W0,{size:16,className:"text-purple-500"});default:return null}},R=e.filter(M=>M.name.toLowerCase().includes(i.toLowerCase())).sort((M,_)=>{let E,I;return a==="name"?(E=M.name,I=_.name):a==="role"?(E=M.role||"",I=_.role||""):(E=M.stats[a],I=_.stats[a]),typeof E=="string"&&typeof I=="string"?c==="asc"?E.localeCompare(I):I.localeCompare(E):c==="asc"?E-I:I-E}).filter(M=>{var _,E,I;return p==="blades (custom)"?M.category==="Blade"&&((_=M.line)==null?void 0:_.toLowerCase())==="custom":p==="blades"?v?M.category==="Blade"&&((I=M.line)==null?void 0:I.toLowerCase())===v.toLowerCase():M.category==="Blade"&&["basic","unique","x-over"].includes(((E=M.line)==null?void 0:E.toLowerCase())||""):p==="lockchips"?M.category==="Lockchip":p==="ratchets"?M.category==="Ratchet":p==="bits"?M.category==="Bit":!0}).filter(M=>w?(M.role||"").toLowerCase()===w:!0),T={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},O=M=>{switch(M){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},B=M=>{const _=T[M.category]||"",E=O(M.category),I=encodeURIComponent(M.data[E]),F=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${_}/${I}.png`;return o.jsxs("div",{onClick:()=>m(M),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:F,alt:M.name,width:128,height:128,loading:"lazy",onError:k=>{const C=k.target,U=document.createElement("div");U.textContent="Picture Not Available",U.className="text-gray-400 text-xs text-center",C.replaceWith(U)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:M.name}),M.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:M.role})]}),M.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:M.line})]},M.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(RL,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx($L,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:M=>s(M.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:M=>g(M.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:j.map(M=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${p===M?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>y(M),children:M},M))}),p==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:M=>b(M.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),R.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wn,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map(B)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(p==="bits"?["dash","burstRes"]:[]).map(M=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${M==="name"?"text-left":"text-center"}`,onClick:()=>{l(M),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:M}),o.jsx("span",{className:"w-4 inline-block",children:a===M&&(c==="asc"?"▲":"▼")})]})},M)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(M=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:M.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:M.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:M.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:M.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:M.stats.stamina}),p==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:M.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:M.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m(M),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},M.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Yt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([M])=>h.category==="Bit"?!0:!["dash","burstRes"].includes(M)).map(([M,_])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:N(M)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:M}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:_})]},M))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${T[h.category]}/${encodeURIComponent(h.data[O(h.category)])}.png`,alt:h.name,onError:M=>{const _=M.target,E=document.createElement("div");E.textContent="Picture Not Available",E.className="text-gray-400 text-sm text-center",_.replaceWith(E)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function sre(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(St,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage competitive teams"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(St,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Create competitive teams, manage rosters, and coordinate team tournaments. Perfect for organizing group battles and team-based competitions."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(v2,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Creation"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Create teams with custom names, logos, and member roles"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(KL,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Member Management"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Add, remove, and assign roles to team members"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Es,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and participate in team-based competitions"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team creation and customization"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Member invitation system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team-based tournament registration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Role-based permissions"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Stay tuned for updates! This feature is in active development."})]})}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Cd,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(FL,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Events"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(V0,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Cd,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestions"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth analytics"]})]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function are(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Cd,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Foster community engagement and build connections"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Cd,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach programs."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Ui,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Event Planning"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(V0,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(LL,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Gf,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Growth Analytics"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track community growth and engagement metrics"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion box"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration and sharing"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth and engagement analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Welcome program for new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function ore(){const[e,t]=x.useState("dashboard"),[r,n]=x.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(Dj,{onViewChange:t});case"tournaments":return o.jsx(oz,{});case"inventory":return o.jsx(nre,{});case"analytics":return o.jsx(Yte,{});case"parts-database":return o.jsx(ire,{});case"team-manager":return o.jsx(sre,{});case"community-manager":return o.jsx(are,{});case"match-tracker":return o.jsx(Xte,{});case"tournament-manager":return o.jsx(Zte,{});case"user-management":return o.jsx(ere,{});case"database":return o.jsx(tre,{});default:return o.jsx(Dj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(BL,{size:24})}),o.jsx(GL,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function lre(){return o.jsx(PL,{children:o.jsx(_L,{children:o.jsx(ore,{})})})}Kk(document.getElementById("root")).render(o.jsx(x.StrictMode,{children:o.jsx(lre,{})}));
