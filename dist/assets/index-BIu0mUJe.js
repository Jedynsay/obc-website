var AD=Object.defineProperty;var ED=(e,t,r)=>t in e?AD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var rm=(e,t,r)=>ED(e,typeof t!="symbol"?t+"":t,r);function CD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var kP={exports:{}},Nf={},OP={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),MD=Symbol.for("react.portal"),DD=Symbol.for("react.fragment"),RD=Symbol.for("react.strict_mode"),$D=Symbol.for("react.profiler"),ID=Symbol.for("react.provider"),LD=Symbol.for("react.context"),BD=Symbol.for("react.forward_ref"),FD=Symbol.for("react.suspense"),zD=Symbol.for("react.memo"),UD=Symbol.for("react.lazy"),Db=Symbol.iterator;function WD(e){return e===null||typeof e!="object"?null:(e=Db&&e[Db]||e["@@iterator"],typeof e=="function"?e:null)}var AP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},EP=Object.assign,CP={};function po(e,t,r){this.props=e,this.context=t,this.refs=CP,this.updater=r||AP}po.prototype.isReactComponent={};po.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};po.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function TP(){}TP.prototype=po.prototype;function zy(e,t,r){this.props=e,this.context=t,this.refs=CP,this.updater=r||AP}var Uy=zy.prototype=new TP;Uy.constructor=zy;EP(Uy,po.prototype);Uy.isPureReactComponent=!0;var Rb=Array.isArray,MP=Object.prototype.hasOwnProperty,Wy={current:null},DP={key:!0,ref:!0,__self:!0,__source:!0};function RP(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)MP.call(t,n)&&!DP.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:xc,type:e,key:s,ref:a,props:i,_owner:Wy.current}}function VD(e,t){return{$$typeof:xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Vy(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function KD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $b=/\/+/g;function nm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KD(""+e.key):t.toString(36)}function Fu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xc:case MD:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+nm(a,0):n,Rb(i)?(r="",e!=null&&(r=e.replace($b,"$&/")+"/"),Fu(i,t,r,"",function(u){return u})):i!=null&&(Vy(i)&&(i=VD(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($b,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Rb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+nm(s,l);a+=Fu(s,t,r,c,i)}else if(c=WD(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+nm(s,l++),a+=Fu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zc(e,t,r){if(e==null)return e;var n=[],i=0;return Fu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function HD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yt={current:null},zu={transition:null},qD={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:zu,ReactCurrentOwner:Wy};function $P(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:Zc,forEach:function(e,t,r){Zc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zc(e,function(){t++}),t},toArray:function(e){return Zc(e,function(t){return t})||[]},only:function(e){if(!Vy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ye.Component=po;ye.Fragment=DD;ye.Profiler=$D;ye.PureComponent=zy;ye.StrictMode=RD;ye.Suspense=FD;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qD;ye.act=$P;ye.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=EP({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Wy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)MP.call(t,c)&&!DP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xc,type:e.type,key:i,ref:s,props:n,_owner:a}};ye.createContext=function(e){return e={$$typeof:LD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ID,_context:e},e.Consumer=e};ye.createElement=RP;ye.createFactory=function(e){var t=RP.bind(null,e);return t.type=e,t};ye.createRef=function(){return{current:null}};ye.forwardRef=function(e){return{$$typeof:BD,render:e}};ye.isValidElement=Vy;ye.lazy=function(e){return{$$typeof:UD,_payload:{_status:-1,_result:e},_init:HD}};ye.memo=function(e,t){return{$$typeof:zD,type:e,compare:t===void 0?null:t}};ye.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};ye.unstable_act=$P;ye.useCallback=function(e,t){return Yt.current.useCallback(e,t)};ye.useContext=function(e){return Yt.current.useContext(e)};ye.useDebugValue=function(){};ye.useDeferredValue=function(e){return Yt.current.useDeferredValue(e)};ye.useEffect=function(e,t){return Yt.current.useEffect(e,t)};ye.useId=function(){return Yt.current.useId()};ye.useImperativeHandle=function(e,t,r){return Yt.current.useImperativeHandle(e,t,r)};ye.useInsertionEffect=function(e,t){return Yt.current.useInsertionEffect(e,t)};ye.useLayoutEffect=function(e,t){return Yt.current.useLayoutEffect(e,t)};ye.useMemo=function(e,t){return Yt.current.useMemo(e,t)};ye.useReducer=function(e,t,r){return Yt.current.useReducer(e,t,r)};ye.useRef=function(e){return Yt.current.useRef(e)};ye.useState=function(e){return Yt.current.useState(e)};ye.useSyncExternalStore=function(e,t,r){return Yt.current.useSyncExternalStore(e,t,r)};ye.useTransition=function(){return Yt.current.useTransition()};ye.version="18.3.1";OP.exports=ye;var y=OP.exports;const Oi=Kr(y),GD=CD({__proto__:null,default:Oi},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD=y,XD=Symbol.for("react.element"),JD=Symbol.for("react.fragment"),QD=Object.prototype.hasOwnProperty,ZD=YD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,eR={key:!0,ref:!0,__self:!0,__source:!0};function IP(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)QD.call(t,n)&&!eR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:XD,type:e,key:s,ref:a,props:i,_owner:ZD.current}}Nf.Fragment=JD;Nf.jsx=IP;Nf.jsxs=IP;kP.exports=Nf;var o=kP.exports,LP={exports:{}},Pr={},BP={exports:{}},FP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,E){var K=k.length;k.push(E);e:for(;0<K;){var Y=K-1>>>1,J=k[Y];if(0<i(J,E))k[Y]=E,k[K]=J,K=Y;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var E=k[0],K=k.pop();if(K!==E){k[0]=K;e:for(var Y=0,J=k.length,xe=J>>>1;Y<xe;){var U=2*(Y+1)-1,B=k[U],Q=U+1,I=k[Q];if(0>i(B,K))Q<J&&0>i(I,B)?(k[Y]=I,k[Q]=K,Y=Q):(k[Y]=B,k[U]=K,Y=U);else if(Q<J&&0>i(I,K))k[Y]=I,k[Q]=K,Y=Q;else break e}}return E}function i(k,E){var K=k.sortIndex-E.sortIndex;return K!==0?K:k.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(k){for(var E=r(u);E!==null;){if(E.callback===null)n(u);else if(E.startTime<=k)n(u),E.sortIndex=E.expirationTime,t(c,E);else break;E=r(u)}}function j(k){if(x=!1,b(k),!g)if(r(c)!==null)g=!0,F(N);else{var E=r(u);E!==null&&W(j,E.startTime-k)}}function N(k,E){g=!1,x&&(x=!1,p(O),O=-1),m=!0;var K=h;try{for(b(E),f=r(c);f!==null&&(!(f.expirationTime>E)||k&&!C());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var J=Y(f.expirationTime<=E);E=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),b(E)}else n(c);f=r(c)}if(f!==null)var xe=!0;else{var U=r(u);U!==null&&W(j,U.startTime-E),xe=!1}return xe}finally{f=null,h=K,m=!1}}var S=!1,P=null,O=-1,D=5,T=-1;function C(){return!(e.unstable_now()-T<D)}function z(){if(P!==null){var k=e.unstable_now();T=k;var E=!0;try{E=P(!0,k)}finally{E?$():(S=!1,P=null)}}else S=!1}var $;if(typeof v=="function")$=function(){v(z)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,A=_.port2;_.port1.onmessage=z,$=function(){A.postMessage(null)}}else $=function(){w(z,0)};function F(k){P=k,S||(S=!0,$())}function W(k,E){O=w(function(){k(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,F(N))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(k){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var K=h;h=E;try{return k()}finally{h=K}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,E){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var K=h;h=k;try{return E()}finally{h=K}},e.unstable_scheduleCallback=function(k,E,K){var Y=e.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Y+K:Y):K=Y,k){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=K+J,k={id:d++,callback:E,priorityLevel:k,startTime:K,expirationTime:J,sortIndex:-1},K>Y?(k.sortIndex=K,t(u,k),r(c)===null&&k===r(u)&&(x?(p(O),O=-1):x=!0,W(j,K-Y))):(k.sortIndex=J,t(c,k),g||m||(g=!0,F(N))),k},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(k){var E=h;return function(){var K=h;h=E;try{return k.apply(this,arguments)}finally{h=K}}}})(FP);BP.exports=FP;var tR=BP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rR=y,br=tR;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var zP=new Set,Ll={};function Hs(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Ll[e]=t,e=0;e<t.length;e++)zP.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,nR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ib={},Lb={};function iR(e){return _p.call(Lb,e)?!0:_p.call(Ib,e)?!1:nR.test(e)?Lb[e]=!0:(Ib[e]=!0,!1)}function sR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function aR(e,t,r,n){if(t===null||typeof t>"u"||sR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xt(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var At={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){At[e]=new Xt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];At[t]=new Xt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){At[e]=new Xt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){At[e]=new Xt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){At[e]=new Xt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){At[e]=new Xt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){At[e]=new Xt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){At[e]=new Xt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){At[e]=new Xt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ky=/[\-:]([a-z])/g;function Hy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ky,Hy);At[t]=new Xt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ky,Hy);At[t]=new Xt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ky,Hy);At[t]=new Xt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){At[e]=new Xt(e,1,!1,e.toLowerCase(),null,!1,!1)});At.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){At[e]=new Xt(e,1,!1,e.toLowerCase(),null,!0,!0)});function qy(e,t,r,n){var i=At.hasOwnProperty(t)?At[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(aR(t,r,i,n)&&(r=null),n||i===null?iR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ii=rR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),ua=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),kp=Symbol.for("react.profiler"),UP=Symbol.for("react.provider"),WP=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),Op=Symbol.for("react.suspense"),Ap=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),VP=Symbol.for("react.offscreen"),Bb=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Bb&&e[Bb]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,im;function cl(e){if(im===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);im=t&&t[1]||""}return`
`+im+e}var sm=!1;function am(e,t){if(!e||sm)return"";sm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{sm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cl(e):""}function oR(e){switch(e.tag){case 5:return cl(e.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return e=am(e.type,!1),e;case 11:return e=am(e.type.render,!1),e;case 1:return e=am(e.type,!0),e;default:return""}}function Ep(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ua:return"Portal";case kp:return"Profiler";case Gy:return"StrictMode";case Op:return"Suspense";case Ap:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case WP:return(e.displayName||"Context")+".Consumer";case UP:return(e._context.displayName||"Context")+".Provider";case Yy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xy:return t=e.displayName||null,t!==null?t:Ep(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Ep(e(t))}catch{}}return null}function lR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ep(t);case 8:return t===Gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function KP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cR(e){var t=KP(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){e._valueTracker||(e._valueTracker=cR(e))}function HP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=KP(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cp(e,t){var r=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function qP(e,t){t=t.checked,t!=null&&qy(e,"checked",t,!1)}function Tp(e,t){qP(e,t);var r=Bi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mp(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mp(e,t,r){(t!=="number"||sd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ul=Array.isArray;function Ta(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Dp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ub(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(ul(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bi(r)}}function GP(e,t){var r=Bi(t.value),n=Bi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function YP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?YP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ru,XP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ru.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uR=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){uR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function JP(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function QP(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=JP(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var dR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $p(e,t){if(t){if(dR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Ip(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lp=null;function Jy(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bp=null,Ma=null,Da=null;function Vb(e){if(e=jc(e)){if(typeof Bp!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Of(t),Bp(e.stateNode,e.type,t))}}function ZP(e){Ma?Da?Da.push(e):Da=[e]:Ma=e}function e_(){if(Ma){var e=Ma,t=Da;if(Da=Ma=null,Vb(e),t)for(e=0;e<t.length;e++)Vb(t[e])}}function t_(e,t){return e(t)}function r_(){}var om=!1;function n_(e,t,r){if(om)return e(t,r);om=!0;try{return t_(e,t,r)}finally{om=!1,(Ma!==null||Da!==null)&&(r_(),e_())}}function Fl(e,t){var r=e.stateNode;if(r===null)return null;var n=Of(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Fp=!1;if(Hn)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Fp=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Fp=!1}function fR(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xl=!1,ad=null,od=!1,zp=null,hR={onError:function(e){xl=!0,ad=e}};function mR(e,t,r,n,i,s,a,l,c){xl=!1,ad=null,fR.apply(hR,arguments)}function pR(e,t,r,n,i,s,a,l,c){if(mR.apply(this,arguments),xl){if(xl){var u=ad;xl=!1,ad=null}else throw Error(G(198));od||(od=!0,zp=u)}}function qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function i_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kb(e){if(qs(e)!==e)throw Error(G(188))}function gR(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Kb(i),e;if(s===n)return Kb(i),t;s=s.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function s_(e){return e=gR(e),e!==null?a_(e):null}function a_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=a_(e);if(t!==null)return t;e=e.sibling}return null}var o_=br.unstable_scheduleCallback,Hb=br.unstable_cancelCallback,yR=br.unstable_shouldYield,vR=br.unstable_requestPaint,nt=br.unstable_now,xR=br.unstable_getCurrentPriorityLevel,Qy=br.unstable_ImmediatePriority,l_=br.unstable_UserBlockingPriority,ld=br.unstable_NormalPriority,bR=br.unstable_LowPriority,c_=br.unstable_IdlePriority,Sf=null,xn=null;function wR(e){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:SR,jR=Math.log,NR=Math.LN2;function SR(e){return e>>>=0,e===0?32:31-(jR(e)/NR|0)|0}var nu=64,iu=4194304;function dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=dl(l):(s&=a,s!==0&&(n=dl(s)))}else a=r&~i,a!==0?n=dl(a):s!==0&&(n=dl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-on(t),i=1<<r,n|=e[r],t&=~i;return n}function PR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _R(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-on(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=PR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Up(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function u_(){var e=nu;return nu<<=1,!(nu&4194240)&&(nu=64),e}function lm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-on(t),e[t]=r}function kR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-on(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Zy(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-on(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Oe=0;function d_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var f_,e0,h_,m_,p_,Wp=!1,su=[],Ai=null,Ei=null,Ci=null,zl=new Map,Ul=new Map,ji=[],OR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qb(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Ko(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=jc(t),t!==null&&e0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function AR(e,t,r,n,i){switch(t){case"focusin":return Ai=Ko(Ai,e,t,r,n,i),!0;case"dragenter":return Ei=Ko(Ei,e,t,r,n,i),!0;case"mouseover":return Ci=Ko(Ci,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return zl.set(s,Ko(zl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Ko(Ul.get(s)||null,e,t,r,n,i)),!0}return!1}function g_(e){var t=gs(e.target);if(t!==null){var r=qs(t);if(r!==null){if(t=r.tag,t===13){if(t=i_(r),t!==null){e.blockedOn=t,p_(e.priority,function(){h_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Lp=n,r.target.dispatchEvent(n),Lp=null}else return t=jc(r),t!==null&&e0(t),e.blockedOn=r,!1;t.shift()}return!0}function Gb(e,t,r){Uu(e)&&r.delete(t)}function ER(){Wp=!1,Ai!==null&&Uu(Ai)&&(Ai=null),Ei!==null&&Uu(Ei)&&(Ei=null),Ci!==null&&Uu(Ci)&&(Ci=null),zl.forEach(Gb),Ul.forEach(Gb)}function Ho(e,t){e.blockedOn===t&&(e.blockedOn=null,Wp||(Wp=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,ER)))}function Wl(e){function t(i){return Ho(i,e)}if(0<su.length){Ho(su[0],e);for(var r=1;r<su.length;r++){var n=su[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ai!==null&&Ho(Ai,e),Ei!==null&&Ho(Ei,e),Ci!==null&&Ho(Ci,e),zl.forEach(t),Ul.forEach(t),r=0;r<ji.length;r++)n=ji[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ji.length&&(r=ji[0],r.blockedOn===null);)g_(r),r.blockedOn===null&&ji.shift()}var Ra=ii.ReactCurrentBatchConfig,ud=!0;function CR(e,t,r,n){var i=Oe,s=Ra.transition;Ra.transition=null;try{Oe=1,t0(e,t,r,n)}finally{Oe=i,Ra.transition=s}}function TR(e,t,r,n){var i=Oe,s=Ra.transition;Ra.transition=null;try{Oe=4,t0(e,t,r,n)}finally{Oe=i,Ra.transition=s}}function t0(e,t,r,n){if(ud){var i=Vp(e,t,r,n);if(i===null)vm(e,t,n,dd,r),qb(e,n);else if(AR(i,e,t,r,n))n.stopPropagation();else if(qb(e,n),t&4&&-1<OR.indexOf(e)){for(;i!==null;){var s=jc(i);if(s!==null&&f_(s),s=Vp(e,t,r,n),s===null&&vm(e,t,n,dd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else vm(e,t,n,null,r)}}var dd=null;function Vp(e,t,r,n){if(dd=null,e=Jy(n),e=gs(e),e!==null)if(t=qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=i_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dd=e,null}function y_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xR()){case Qy:return 1;case l_:return 4;case ld:case bR:return 16;case c_:return 536870912;default:return 16}default:return 16}}var _i=null,r0=null,Wu=null;function v_(){if(Wu)return Wu;var e,t=r0,r=t.length,n,i="value"in _i?_i.value:_i.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Wu=i.slice(e,1<n?1-n:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function au(){return!0}function Yb(){return!1}function _r(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?au:Yb,this.isPropagationStopped=Yb,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),t}var go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=_r(go),wc=qe({},go,{view:0,detail:0}),MR=_r(wc),cm,um,qo,Pf=qe({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(cm=e.screenX-qo.screenX,um=e.screenY-qo.screenY):um=cm=0,qo=e),cm)},movementY:function(e){return"movementY"in e?e.movementY:um}}),Xb=_r(Pf),DR=qe({},Pf,{dataTransfer:0}),RR=_r(DR),$R=qe({},wc,{relatedTarget:0}),dm=_r($R),IR=qe({},go,{animationName:0,elapsedTime:0,pseudoElement:0}),LR=_r(IR),BR=qe({},go,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),FR=_r(BR),zR=qe({},go,{data:0}),Jb=_r(zR),UR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VR[e])?!!t[e]:!1}function i0(){return KR}var HR=qe({},wc,{key:function(e){if(e.key){var t=UR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?WR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),qR=_r(HR),GR=qe({},Pf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qb=_r(GR),YR=qe({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),XR=_r(YR),JR=qe({},go,{propertyName:0,elapsedTime:0,pseudoElement:0}),QR=_r(JR),ZR=qe({},Pf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e6=_r(ZR),t6=[9,13,27,32],s0=Hn&&"CompositionEvent"in window,bl=null;Hn&&"documentMode"in document&&(bl=document.documentMode);var r6=Hn&&"TextEvent"in window&&!bl,x_=Hn&&(!s0||bl&&8<bl&&11>=bl),Zb=" ",ew=!1;function b_(e,t){switch(e){case"keyup":return t6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function w_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function n6(e,t){switch(e){case"compositionend":return w_(t);case"keypress":return t.which!==32?null:(ew=!0,Zb);case"textInput":return e=t.data,e===Zb&&ew?null:e;default:return null}}function i6(e,t){if(fa)return e==="compositionend"||!s0&&b_(e,t)?(e=v_(),Wu=r0=_i=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return x_&&t.locale!=="ko"?null:t.data;default:return null}}var s6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!s6[e.type]:t==="textarea"}function j_(e,t,r,n){ZP(n),t=fd(t,"onChange"),0<t.length&&(r=new n0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wl=null,Vl=null;function a6(e){M_(e,0)}function _f(e){var t=pa(e);if(HP(t))return e}function o6(e,t){if(e==="change")return t}var N_=!1;if(Hn){var fm;if(Hn){var hm="oninput"in document;if(!hm){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),hm=typeof rw.oninput=="function"}fm=hm}else fm=!1;N_=fm&&(!document.documentMode||9<document.documentMode)}function nw(){wl&&(wl.detachEvent("onpropertychange",S_),Vl=wl=null)}function S_(e){if(e.propertyName==="value"&&_f(Vl)){var t=[];j_(t,Vl,e,Jy(e)),n_(a6,t)}}function l6(e,t,r){e==="focusin"?(nw(),wl=t,Vl=r,wl.attachEvent("onpropertychange",S_)):e==="focusout"&&nw()}function c6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _f(Vl)}function u6(e,t){if(e==="click")return _f(t)}function d6(e,t){if(e==="input"||e==="change")return _f(t)}function f6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var cn=typeof Object.is=="function"?Object.is:f6;function Kl(e,t){if(cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!_p.call(t,i)||!cn(e[i],t[i]))return!1}return!0}function iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sw(e,t){var r=iw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iw(r)}}function P_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?P_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function __(){for(var e=window,t=sd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sd(e.document)}return t}function a0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h6(e){var t=__(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&P_(r.ownerDocument.documentElement,r)){if(n!==null&&a0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=sw(r,s);var a=sw(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var m6=Hn&&"documentMode"in document&&11>=document.documentMode,ha=null,Kp=null,jl=null,Hp=!1;function aw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hp||ha==null||ha!==sd(n)||(n=ha,"selectionStart"in n&&a0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jl&&Kl(jl,n)||(jl=n,n=fd(Kp,"onSelect"),0<n.length&&(t=new n0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ha)))}function ou(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ma={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},mm={},k_={};Hn&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function kf(e){if(mm[e])return mm[e];if(!ma[e])return e;var t=ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in k_)return mm[e]=t[r];return e}var O_=kf("animationend"),A_=kf("animationiteration"),E_=kf("animationstart"),C_=kf("transitionend"),T_=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){T_.set(e,t),Hs(t,[e])}for(var pm=0;pm<ow.length;pm++){var gm=ow[pm],p6=gm.toLowerCase(),g6=gm[0].toUpperCase()+gm.slice(1);Ki(p6,"on"+g6)}Ki(O_,"onAnimationEnd");Ki(A_,"onAnimationIteration");Ki(E_,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(C_,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Hs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y6=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function lw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,pR(n,t,void 0,e),e.currentTarget=null}function M_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;lw(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;lw(i,l,u),s=c}}}if(od)throw e=zp,od=!1,zp=null,e}function Be(e,t){var r=t[Jp];r===void 0&&(r=t[Jp]=new Set);var n=e+"__bubble";r.has(n)||(D_(t,e,2,!1),r.add(n))}function ym(e,t,r){var n=0;t&&(n|=4),D_(r,e,n,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function Hl(e){if(!e[lu]){e[lu]=!0,zP.forEach(function(r){r!=="selectionchange"&&(y6.has(r)||ym(r,!1,e),ym(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,ym("selectionchange",!1,t))}}function D_(e,t,r,n){switch(y_(t)){case 1:var i=CR;break;case 4:i=TR;break;default:i=t0}r=i.bind(null,t,r,e),i=void 0,!Fp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function vm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}n_(function(){var u=s,d=Jy(r),f=[];e:{var h=T_.get(e);if(h!==void 0){var m=n0,g=e;switch(e){case"keypress":if(Vu(r)===0)break e;case"keydown":case"keyup":m=qR;break;case"focusin":g="focus",m=dm;break;case"focusout":g="blur",m=dm;break;case"beforeblur":case"afterblur":m=dm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=RR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=XR;break;case O_:case A_:case E_:m=LR;break;case C_:m=QR;break;case"scroll":m=MR;break;case"wheel":m=e6;break;case"copy":case"cut":case"paste":m=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qb}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,b;v!==null;){b=v;var j=b.stateNode;if(b.tag===5&&j!==null&&(b=j,p!==null&&(j=Fl(v,p),j!=null&&x.push(ql(v,j,b)))),w)break;v=v.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Lp&&(g=r.relatedTarget||r.fromElement)&&(gs(g)||g[qn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?gs(g):null,g!==null&&(w=qs(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=Xb,j="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Qb,j="onPointerLeave",p="onPointerEnter",v="pointer"),w=m==null?h:pa(m),b=g==null?h:pa(g),h=new x(j,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,j=null,gs(d)===u&&(x=new x(p,v+"enter",g,r,d),x.target=b,x.relatedTarget=w,j=x),w=j,m&&g)t:{for(x=m,p=g,v=0,b=x;b;b=ea(b))v++;for(b=0,j=p;j;j=ea(j))b++;for(;0<v-b;)x=ea(x),v--;for(;0<b-v;)p=ea(p),b--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=ea(x),p=ea(p)}x=null}else x=null;m!==null&&cw(f,h,m,x,!1),g!==null&&w!==null&&cw(f,w,g,x,!0)}}e:{if(h=u?pa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var N=o6;else if(tw(h))if(N_)N=d6;else{N=c6;var S=l6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=u6);if(N&&(N=N(e,u))){j_(f,N,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Mp(h,"number",h.value)}switch(S=u?pa(u):window,e){case"focusin":(tw(S)||S.contentEditable==="true")&&(ha=S,Kp=u,jl=null);break;case"focusout":jl=Kp=ha=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,aw(f,r,d);break;case"selectionchange":if(m6)break;case"keydown":case"keyup":aw(f,r,d)}var P;if(s0)e:{switch(e){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else fa?b_(e,r)&&(O="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(x_&&r.locale!=="ko"&&(fa||O!=="onCompositionStart"?O==="onCompositionEnd"&&fa&&(P=v_()):(_i=d,r0="value"in _i?_i.value:_i.textContent,fa=!0)),S=fd(u,O),0<S.length&&(O=new Jb(O,e,null,r,d),f.push({event:O,listeners:S}),P?O.data=P:(P=w_(r),P!==null&&(O.data=P)))),(P=r6?n6(e,r):i6(e,r))&&(u=fd(u,"onBeforeInput"),0<u.length&&(d=new Jb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}M_(f,t)})}function ql(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fl(e,r),s!=null&&n.unshift(ql(e,s,i)),s=Fl(e,t),s!=null&&n.push(ql(e,s,i))),e=e.return}return n}function ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cw(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Fl(r,s),c!=null&&a.unshift(ql(r,c,l))):i||(c=Fl(r,s),c!=null&&a.push(ql(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var v6=/\r\n?/g,x6=/\u0000|\uFFFD/g;function uw(e){return(typeof e=="string"?e:""+e).replace(v6,`
`).replace(x6,"")}function cu(e,t,r){if(t=uw(t),uw(e)!==t&&r)throw Error(G(425))}function hd(){}var qp=null,Gp=null;function Yp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Xp=typeof setTimeout=="function"?setTimeout:void 0,b6=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,w6=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(e){return dw.resolve(null).then(e).catch(j6)}:Xp;function j6(e){setTimeout(function(){throw e})}function xm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wl(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var yo=Math.random().toString(36).slice(2),mn="__reactFiber$"+yo,Gl="__reactProps$"+yo,qn="__reactContainer$"+yo,Jp="__reactEvents$"+yo,N6="__reactListeners$"+yo,S6="__reactHandles$"+yo;function gs(e){var t=e[mn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[mn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fw(e);e!==null;){if(r=e[mn])return r;e=fw(e)}return t}e=r,r=e.parentNode}return null}function jc(e){return e=e[mn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Of(e){return e[Gl]||null}var Qp=[],ga=-1;function Hi(e){return{current:e}}function ze(e){0>ga||(e.current=Qp[ga],Qp[ga]=null,ga--)}function Re(e,t){ga++,Qp[ga]=e.current,e.current=t}var Fi={},Lt=Hi(Fi),or=Hi(!1),$s=Fi;function Wa(e,t){var r=e.type.contextTypes;if(!r)return Fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function lr(e){return e=e.childContextTypes,e!=null}function md(){ze(or),ze(Lt)}function hw(e,t,r){if(Lt.current!==Fi)throw Error(G(168));Re(Lt,t),Re(or,r)}function R_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(G(108,lR(e)||"Unknown",i));return qe({},r,n)}function pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,$s=Lt.current,Re(Lt,e),Re(or,or.current),!0}function mw(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=R_(e,t,$s),n.__reactInternalMemoizedMergedChildContext=e,ze(or),ze(Lt),Re(Lt,e)):ze(or),Re(or,r)}var $n=null,Af=!1,bm=!1;function $_(e){$n===null?$n=[e]:$n.push(e)}function P6(e){Af=!0,$_(e)}function qi(){if(!bm&&$n!==null){bm=!0;var e=0,t=Oe;try{var r=$n;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$n=null,Af=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),o_(Qy,qi),i}finally{Oe=t,bm=!1}}return null}var ya=[],va=0,gd=null,yd=0,Dr=[],Rr=0,Is=null,Ln=1,Bn="";function ls(e,t){ya[va++]=yd,ya[va++]=gd,gd=e,yd=t}function I_(e,t,r){Dr[Rr++]=Ln,Dr[Rr++]=Bn,Dr[Rr++]=Is,Is=e;var n=Ln;e=Bn;var i=32-on(n)-1;n&=~(1<<i),r+=1;var s=32-on(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ln=1<<32-on(t)+i|r<<i|n,Bn=s+e}else Ln=1<<s|r<<i|n,Bn=e}function o0(e){e.return!==null&&(ls(e,1),I_(e,1,0))}function l0(e){for(;e===gd;)gd=ya[--va],ya[va]=null,yd=ya[--va],ya[va]=null;for(;e===Is;)Is=Dr[--Rr],Dr[Rr]=null,Bn=Dr[--Rr],Dr[Rr]=null,Ln=Dr[--Rr],Dr[Rr]=null}var vr=null,yr=null,Ue=!1,rn=null;function L_(e,t){var r=Ir(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,yr=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:Ln,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ir(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,yr=null,!0):!1;default:return!1}}function Zp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function eg(e){if(Ue){var t=yr;if(t){var r=t;if(!pw(e,t)){if(Zp(e))throw Error(G(418));t=Ti(r.nextSibling);var n=vr;t&&pw(e,t)?L_(n,r):(e.flags=e.flags&-4097|2,Ue=!1,vr=e)}}else{if(Zp(e))throw Error(G(418));e.flags=e.flags&-4097|2,Ue=!1,vr=e}}}function gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function uu(e){if(e!==vr)return!1;if(!Ue)return gw(e),Ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Yp(e.type,e.memoizedProps)),t&&(t=yr)){if(Zp(e))throw B_(),Error(G(418));for(;t;)L_(e,t),t=Ti(t.nextSibling)}if(gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Ti(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=vr?Ti(e.stateNode.nextSibling):null;return!0}function B_(){for(var e=yr;e;)e=Ti(e.nextSibling)}function Va(){yr=vr=null,Ue=!1}function c0(e){rn===null?rn=[e]:rn.push(e)}var _6=ii.ReactCurrentBatchConfig;function Go(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function du(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yw(e){var t=e._init;return t(e._payload)}function F_(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=$i(p,v),p.index=0,p.sibling=null,p}function s(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,j){return v===null||v.tag!==6?(v=km(b,p.mode,j),v.return=p,v):(v=i(v,b),v.return=p,v)}function c(p,v,b,j){var N=b.type;return N===da?d(p,v,b.props.children,j,b.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&yw(N)===v.type)?(j=i(v,b.props),j.ref=Go(p,v,b),j.return=p,j):(j=Ju(b.type,b.key,b.props,null,p.mode,j),j.ref=Go(p,v,b),j.return=p,j)}function u(p,v,b,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Om(b,p.mode,j),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function d(p,v,b,j,N){return v===null||v.tag!==7?(v=ks(b,p.mode,j,N),v.return=p,v):(v=i(v,b),v.return=p,v)}function f(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=km(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case eu:return b=Ju(v.type,v.key,v.props,null,p.mode,b),b.ref=Go(p,null,v),b.return=p,b;case ua:return v=Om(v,p.mode,b),v.return=p,v;case xi:var j=v._init;return f(p,j(v._payload),b)}if(ul(v)||Wo(v))return v=ks(v,p.mode,b,null),v.return=p,v;du(p,v)}return null}function h(p,v,b,j){var N=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return N!==null?null:l(p,v,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:return b.key===N?c(p,v,b,j):null;case ua:return b.key===N?u(p,v,b,j):null;case xi:return N=b._init,h(p,v,N(b._payload),j)}if(ul(b)||Wo(b))return N!==null?null:d(p,v,b,j,null);du(p,b)}return null}function m(p,v,b,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(b)||null,l(v,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case eu:return p=p.get(j.key===null?b:j.key)||null,c(v,p,j,N);case ua:return p=p.get(j.key===null?b:j.key)||null,u(v,p,j,N);case xi:var S=j._init;return m(p,v,b,S(j._payload),N)}if(ul(j)||Wo(j))return p=p.get(b)||null,d(v,p,j,N,null);du(v,j)}return null}function g(p,v,b,j){for(var N=null,S=null,P=v,O=v=0,D=null;P!==null&&O<b.length;O++){P.index>O?(D=P,P=null):D=P.sibling;var T=h(p,P,b[O],j);if(T===null){P===null&&(P=D);break}e&&P&&T.alternate===null&&t(p,P),v=s(T,v,O),S===null?N=T:S.sibling=T,S=T,P=D}if(O===b.length)return r(p,P),Ue&&ls(p,O),N;if(P===null){for(;O<b.length;O++)P=f(p,b[O],j),P!==null&&(v=s(P,v,O),S===null?N=P:S.sibling=P,S=P);return Ue&&ls(p,O),N}for(P=n(p,P);O<b.length;O++)D=m(P,p,O,b[O],j),D!==null&&(e&&D.alternate!==null&&P.delete(D.key===null?O:D.key),v=s(D,v,O),S===null?N=D:S.sibling=D,S=D);return e&&P.forEach(function(C){return t(p,C)}),Ue&&ls(p,O),N}function x(p,v,b,j){var N=Wo(b);if(typeof N!="function")throw Error(G(150));if(b=N.call(b),b==null)throw Error(G(151));for(var S=N=null,P=v,O=v=0,D=null,T=b.next();P!==null&&!T.done;O++,T=b.next()){P.index>O?(D=P,P=null):D=P.sibling;var C=h(p,P,T.value,j);if(C===null){P===null&&(P=D);break}e&&P&&C.alternate===null&&t(p,P),v=s(C,v,O),S===null?N=C:S.sibling=C,S=C,P=D}if(T.done)return r(p,P),Ue&&ls(p,O),N;if(P===null){for(;!T.done;O++,T=b.next())T=f(p,T.value,j),T!==null&&(v=s(T,v,O),S===null?N=T:S.sibling=T,S=T);return Ue&&ls(p,O),N}for(P=n(p,P);!T.done;O++,T=b.next())T=m(P,p,O,T.value,j),T!==null&&(e&&T.alternate!==null&&P.delete(T.key===null?O:T.key),v=s(T,v,O),S===null?N=T:S.sibling=T,S=T);return e&&P.forEach(function(z){return t(p,z)}),Ue&&ls(p,O),N}function w(p,v,b,j){if(typeof b=="object"&&b!==null&&b.type===da&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case eu:e:{for(var N=b.key,S=v;S!==null;){if(S.key===N){if(N=b.type,N===da){if(S.tag===7){r(p,S.sibling),v=i(S,b.props.children),v.return=p,p=v;break e}}else if(S.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===xi&&yw(N)===S.type){r(p,S.sibling),v=i(S,b.props),v.ref=Go(p,S,b),v.return=p,p=v;break e}r(p,S);break}else t(p,S);S=S.sibling}b.type===da?(v=ks(b.props.children,p.mode,j,b.key),v.return=p,p=v):(j=Ju(b.type,b.key,b.props,null,p.mode,j),j.ref=Go(p,v,b),j.return=p,p=j)}return a(p);case ua:e:{for(S=b.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=Om(b,p.mode,j),v.return=p,p=v}return a(p);case xi:return S=b._init,w(p,v,S(b._payload),j)}if(ul(b))return g(p,v,b,j);if(Wo(b))return x(p,v,b,j);du(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=i(v,b),v.return=p,p=v):(r(p,v),v=km(b,p.mode,j),v.return=p,p=v),a(p)):r(p,v)}return w}var Ka=F_(!0),z_=F_(!1),vd=Hi(null),xd=null,xa=null,u0=null;function d0(){u0=xa=xd=null}function f0(e){var t=vd.current;ze(vd),e._currentValue=t}function tg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $a(e,t){xd=e,u0=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ir=!0),e.firstContext=null)}function zr(e){var t=e._currentValue;if(u0!==e)if(e={context:e,memoizedValue:t,next:null},xa===null){if(xd===null)throw Error(G(308));xa=e,xd.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ys=null;function h0(e){ys===null?ys=[e]:ys.push(e)}function U_(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,h0(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gn(e,n)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bi=!1;function m0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W_(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gn(e,r)}return i=n.interleaved,i===null?(t.next=t,h0(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gn(e,r)}function Ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zy(e,r)}}function vw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bd(e,t,r,n){var i=e.updateQueue;bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=qe({},f,h);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function xw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var Nc={},bn=Hi(Nc),Yl=Hi(Nc),Xl=Hi(Nc);function vs(e){if(e===Nc)throw Error(G(174));return e}function p0(e,t){switch(Re(Xl,t),Re(Yl,e),Re(bn,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rp(t,e)}ze(bn),Re(bn,t)}function Ha(){ze(bn),ze(Yl),ze(Xl)}function V_(e){vs(Xl.current);var t=vs(bn.current),r=Rp(t,e.type);t!==r&&(Re(Yl,e),Re(bn,r))}function g0(e){Yl.current===e&&(ze(bn),ze(Yl))}var Ve=Hi(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var wm=[];function y0(){for(var e=0;e<wm.length;e++)wm[e]._workInProgressVersionPrimary=null;wm.length=0}var Hu=ii.ReactCurrentDispatcher,jm=ii.ReactCurrentBatchConfig,Ls=0,He=null,ft=null,wt=null,jd=!1,Nl=!1,Jl=0,k6=0;function Et(){throw Error(G(321))}function v0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cn(e[r],t[r]))return!1;return!0}function x0(e,t,r,n,i,s){if(Ls=s,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hu.current=e===null||e.memoizedState===null?C6:T6,e=r(n,i),Nl){s=0;do{if(Nl=!1,Jl=0,25<=s)throw Error(G(301));s+=1,wt=ft=null,t.updateQueue=null,Hu.current=M6,e=r(n,i)}while(Nl)}if(Hu.current=Nd,t=ft!==null&&ft.next!==null,Ls=0,wt=ft=He=null,jd=!1,t)throw Error(G(300));return e}function b0(){var e=Jl!==0;return Jl=0,e}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?He.memoizedState=wt=e:wt=wt.next=e,wt}function Ur(){if(ft===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=wt===null?He.memoizedState:wt.next;if(t!==null)wt=t,ft=e;else{if(e===null)throw Error(G(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},wt===null?He.memoizedState=wt=e:wt=wt.next=e}return wt}function Ql(e,t){return typeof t=="function"?t(e):t}function Nm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=ft,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,He.lanes|=d,Bs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,cn(n,t.memoizedState)||(ir=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,He.lanes|=s,Bs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Sm(e){var t=Ur(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);cn(s,t.memoizedState)||(ir=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function K_(){}function H_(e,t){var r=He,n=Ur(),i=t(),s=!cn(n.memoizedState,i);if(s&&(n.memoizedState=i,ir=!0),n=n.queue,w0(Y_.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,Zl(9,G_.bind(null,r,n,i,t),void 0,null),Nt===null)throw Error(G(349));Ls&30||q_(r,t,i)}return i}function q_(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function G_(e,t,r,n){t.value=r,t.getSnapshot=n,X_(t)&&J_(e)}function Y_(e,t,r){return r(function(){X_(t)&&J_(e)})}function X_(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!cn(e,r)}catch{return!0}}function J_(e){var t=Gn(e,1);t!==null&&ln(t,e,1,-1)}function bw(e){var t=hn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:e},t.queue=e,e=e.dispatch=E6.bind(null,He,e),[t.memoizedState,e]}function Zl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Q_(){return Ur().memoizedState}function qu(e,t,r,n){var i=hn();He.flags|=e,i.memoizedState=Zl(1|t,r,void 0,n===void 0?null:n)}function Ef(e,t,r,n){var i=Ur();n=n===void 0?null:n;var s=void 0;if(ft!==null){var a=ft.memoizedState;if(s=a.destroy,n!==null&&v0(n,a.deps)){i.memoizedState=Zl(t,r,s,n);return}}He.flags|=e,i.memoizedState=Zl(1|t,r,s,n)}function ww(e,t){return qu(8390656,8,e,t)}function w0(e,t){return Ef(2048,8,e,t)}function Z_(e,t){return Ef(4,2,e,t)}function ek(e,t){return Ef(4,4,e,t)}function tk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function rk(e,t,r){return r=r!=null?r.concat([e]):null,Ef(4,4,tk.bind(null,t,e),r)}function j0(){}function nk(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ik(e,t){var r=Ur();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&v0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function sk(e,t,r){return Ls&21?(cn(r,t)||(r=u_(),He.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ir=!0),e.memoizedState=r)}function O6(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=jm.transition;jm.transition={};try{e(!1),t()}finally{Oe=r,jm.transition=n}}function ak(){return Ur().memoizedState}function A6(e,t,r){var n=Ri(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ok(e))lk(t,r);else if(r=U_(e,t,r,n),r!==null){var i=Ht();ln(r,e,n,i),ck(r,t,n)}}function E6(e,t,r){var n=Ri(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ok(e))lk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,cn(l,a)){var c=t.interleaved;c===null?(i.next=i,h0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=U_(e,t,i,n),r!==null&&(i=Ht(),ln(r,e,n,i),ck(r,t,n))}}function ok(e){var t=e.alternate;return e===He||t!==null&&t===He}function lk(e,t){Nl=jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ck(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Zy(e,r)}}var Nd={readContext:zr,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useInsertionEffect:Et,useLayoutEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useMutableSource:Et,useSyncExternalStore:Et,useId:Et,unstable_isNewReconciler:!1},C6={readContext:zr,useCallback:function(e,t){return hn().memoizedState=[e,t===void 0?null:t],e},useContext:zr,useEffect:ww,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,qu(4194308,4,tk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return qu(4194308,4,e,t)},useInsertionEffect:function(e,t){return qu(4,2,e,t)},useMemo:function(e,t){var r=hn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=hn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=A6.bind(null,He,e),[n.memoizedState,e]},useRef:function(e){var t=hn();return e={current:e},t.memoizedState=e},useState:bw,useDebugValue:j0,useDeferredValue:function(e){return hn().memoizedState=e},useTransition:function(){var e=bw(!1),t=e[0];return e=O6.bind(null,e[1]),hn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=He,i=hn();if(Ue){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),Nt===null)throw Error(G(349));Ls&30||q_(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,ww(Y_.bind(null,n,s,e),[e]),n.flags|=2048,Zl(9,G_.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=hn(),t=Nt.identifierPrefix;if(Ue){var r=Bn,n=Ln;r=(n&~(1<<32-on(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=k6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T6={readContext:zr,useCallback:nk,useContext:zr,useEffect:w0,useImperativeHandle:rk,useInsertionEffect:Z_,useLayoutEffect:ek,useMemo:ik,useReducer:Nm,useRef:Q_,useState:function(){return Nm(Ql)},useDebugValue:j0,useDeferredValue:function(e){var t=Ur();return sk(t,ft.memoizedState,e)},useTransition:function(){var e=Nm(Ql)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:K_,useSyncExternalStore:H_,useId:ak,unstable_isNewReconciler:!1},M6={readContext:zr,useCallback:nk,useContext:zr,useEffect:w0,useImperativeHandle:rk,useInsertionEffect:Z_,useLayoutEffect:ek,useMemo:ik,useReducer:Sm,useRef:Q_,useState:function(){return Sm(Ql)},useDebugValue:j0,useDeferredValue:function(e){var t=Ur();return ft===null?t.memoizedState=e:sk(t,ft.memoizedState,e)},useTransition:function(){var e=Sm(Ql)[0],t=Ur().memoizedState;return[e,t]},useMutableSource:K_,useSyncExternalStore:H_,useId:ak,unstable_isNewReconciler:!1};function Zr(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function rg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:qe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=Ri(e),s=Un(n,i);s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,i),t!==null&&(ln(t,e,i,n),Ku(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ht(),i=Ri(e),s=Un(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,i),t!==null&&(ln(t,e,i,n),Ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ht(),n=Ri(e),i=Un(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mi(e,i,n),t!==null&&(ln(t,e,n,r),Ku(t,e,n))}};function jw(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kl(r,n)||!Kl(i,s):!0}function uk(e,t,r){var n=!1,i=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=lr(t)?$s:Lt.current,n=t.contextTypes,s=(n=n!=null)?Wa(e,i):Fi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Nw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function ng(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},m0(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=lr(t)?$s:Lt.current,i.context=Wa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(rg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cf.enqueueReplaceState(i,i.state,null),bd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function qa(e,t){try{var r="",n=t;do r+=oR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Pm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ig(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D6=typeof WeakMap=="function"?WeakMap:Map;function dk(e,t,r){r=Un(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pd||(Pd=!0,mg=n),ig(e,t)},r}function fk(e,t,r){r=Un(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ig(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ig(e,t),typeof n!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Sw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=G6.bind(null,e,t,r),t.then(e,e))}function Pw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function _w(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Un(-1,1),t.tag=2,Mi(r,t,1))),r.lanes|=1),e)}var R6=ii.ReactCurrentOwner,ir=!1;function Ut(e,t,r,n){t.child=e===null?z_(t,null,r,n):Ka(t,e.child,r,n)}function kw(e,t,r,n,i){r=r.render;var s=t.ref;return $a(t,i),n=x0(e,t,r,n,s,i),r=b0(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Ue&&r&&o0(t),t.flags|=1,Ut(e,t,n,i),t.child)}function Ow(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!E0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,hk(e,t,s,n,i)):(e=Ju(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(a,n)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=$i(s,n),e.ref=t.ref,e.return=t,t.child=e}function hk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Kl(s,n)&&e.ref===t.ref)if(ir=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(ir=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return sg(e,t,r,n,i)}function mk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Re(wa,pr),pr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Re(wa,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Re(wa,pr),pr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Re(wa,pr),pr|=n;return Ut(e,t,i,r),t.child}function pk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function sg(e,t,r,n,i){var s=lr(r)?$s:Lt.current;return s=Wa(t,s),$a(t,i),r=x0(e,t,r,n,s,i),n=b0(),e!==null&&!ir?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(Ue&&n&&o0(t),t.flags|=1,Ut(e,t,r,i),t.child)}function Aw(e,t,r,n,i){if(lr(r)){var s=!0;pd(t)}else s=!1;if($a(t,i),t.stateNode===null)Gu(e,t),uk(t,r,n),ng(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=zr(u):(u=lr(r)?$s:Lt.current,u=Wa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Nw(t,a,n,u),bi=!1;var h=t.memoizedState;a.state=h,bd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||or.current||bi?(typeof d=="function"&&(rg(t,r,d,n),c=t.memoizedState),(l=bi||jw(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,W_(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Zr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=zr(c):(c=lr(r)?$s:Lt.current,c=Wa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Nw(t,a,n,c),bi=!1,h=t.memoizedState,a.state=h,bd(t,n,a,i);var g=t.memoizedState;l!==f||h!==g||or.current||bi?(typeof m=="function"&&(rg(t,r,m,n),g=t.memoizedState),(u=bi||jw(t,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ag(e,t,r,n,s,i)}function ag(e,t,r,n,i,s){pk(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&mw(t,r,!1),Yn(e,t,s);n=t.stateNode,R6.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ka(t,e.child,null,s),t.child=Ka(t,null,l,s)):Ut(e,t,l,s),t.memoizedState=n.state,i&&mw(t,r,!0),t.child}function gk(e){var t=e.stateNode;t.pendingContext?hw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hw(e,t.context,!1),p0(e,t.containerInfo)}function Ew(e,t,r,n,i){return Va(),c0(i),t.flags|=256,Ut(e,t,r,n),t.child}var og={dehydrated:null,treeContext:null,retryLane:0};function lg(e){return{baseLanes:e,cachePool:null,transitions:null}}function yk(e,t,r){var n=t.pendingProps,i=Ve.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Re(Ve,i&1),e===null)return eg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Df(a,n,0,null),e=ks(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=lg(r),t.memoizedState=og,e):N0(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return $6(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=$i(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=$i(l,s):(s=ks(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?lg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=og,n}return s=e.child,e=s.sibling,n=$i(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function N0(e,t){return t=Df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fu(e,t,r,n){return n!==null&&c0(n),Ka(t,e.child,null,r),e=N0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function $6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Pm(Error(G(422))),fu(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Df({mode:"visible",children:n.children},i,0,null),s=ks(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ka(t,e.child,null,a),t.child.memoizedState=lg(a),t.memoizedState=og,s);if(!(t.mode&1))return fu(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(G(419)),n=Pm(s,n,void 0),fu(e,t,a,n)}if(l=(a&e.childLanes)!==0,ir||l){if(n=Nt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),ln(n,e,i,-1))}return A0(),n=Pm(Error(G(421))),fu(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Y6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yr=Ti(i.nextSibling),vr=t,Ue=!0,rn=null,e!==null&&(Dr[Rr++]=Ln,Dr[Rr++]=Bn,Dr[Rr++]=Is,Ln=e.id,Bn=e.overflow,Is=t),t=N0(t,n.children),t.flags|=4096,t)}function Cw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),tg(e.return,t,r)}function _m(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function vk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ut(e,t,n.children,r),n=Ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cw(e,r,t);else if(e.tag===19)Cw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Re(Ve,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&wd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),_m(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}_m(t,!0,r,null,s);break;case"together":_m(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=$i(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$i(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function I6(e,t,r){switch(t.tag){case 3:gk(t),Va();break;case 5:V_(t);break;case 1:lr(t.type)&&pd(t);break;case 4:p0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Re(vd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Re(Ve,Ve.current&1),t.flags|=128,null):r&t.child.childLanes?yk(e,t,r):(Re(Ve,Ve.current&1),e=Yn(e,t,r),e!==null?e.sibling:null);Re(Ve,Ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return vk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Re(Ve,Ve.current),n)break;return null;case 22:case 23:return t.lanes=0,mk(e,t,r)}return Yn(e,t,r)}var xk,cg,bk,wk;xk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cg=function(){};bk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vs(bn.current);var s=null;switch(r){case"input":i=Cp(e,i),n=Cp(e,n),s=[];break;case"select":i=qe({},i,{value:void 0}),n=qe({},n,{value:void 0}),s=[];break;case"textarea":i=Dp(e,i),n=Dp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hd)}$p(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};wk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yo(e,t){if(!Ue)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ct(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function L6(e,t,r){var n=t.pendingProps;switch(l0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ct(t),null;case 1:return lr(t.type)&&md(),Ct(t),null;case 3:return n=t.stateNode,Ha(),ze(or),ze(Lt),y0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rn!==null&&(yg(rn),rn=null))),cg(e,t),Ct(t),null;case 5:g0(t);var i=vs(Xl.current);if(r=t.type,e!==null&&t.stateNode!=null)bk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Ct(t),null}if(e=vs(bn.current),uu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[mn]=t,n[Gl]=s,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<fl.length;i++)Be(fl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":Fb(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":Ub(n,s),Be("invalid",n)}$p(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&cu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&cu(n.textContent,l,e),i=["children",""+l]):Ll.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",n)}switch(r){case"input":tu(n),zb(n,s,!0);break;case"textarea":tu(n),Wb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=hd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=YP(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[mn]=t,e[Gl]=n,xk(e,t,!1,!1),t.stateNode=e;e:{switch(a=Ip(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<fl.length;i++)Be(fl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":Fb(e,n),i=Cp(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=qe({},n,{value:void 0}),Be("invalid",e);break;case"textarea":Ub(e,n),i=Dp(e,n),Be("invalid",e);break;default:i=n}$p(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?QP(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&XP(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ll.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&qy(e,s,c,a))}switch(r){case"input":tu(e),zb(e,n,!1);break;case"textarea":tu(e),Wb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ta(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ta(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ct(t),null;case 6:if(e&&t.stateNode!=null)wk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=vs(Xl.current),vs(bn.current),uu(t)){if(n=t.stateNode,r=t.memoizedProps,n[mn]=t,(s=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cu(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[mn]=t,t.stateNode=n}return Ct(t),null;case 13:if(ze(Ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ue&&yr!==null&&t.mode&1&&!(t.flags&128))B_(),Va(),t.flags|=98560,s=!1;else if(s=uu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(G(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[mn]=t}else Va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ct(t),s=!1}else rn!==null&&(yg(rn),rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ve.current&1?ht===0&&(ht=3):A0())),t.updateQueue!==null&&(t.flags|=4),Ct(t),null);case 4:return Ha(),cg(e,t),e===null&&Hl(t.stateNode.containerInfo),Ct(t),null;case 10:return f0(t.type._context),Ct(t),null;case 17:return lr(t.type)&&md(),Ct(t),null;case 19:if(ze(Ve),s=t.memoizedState,s===null)return Ct(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Yo(s,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=wd(e),a!==null){for(t.flags|=128,Yo(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Re(Ve,Ve.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Ga&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304)}else{if(!n)if(e=wd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ue)return Ct(t),null}else 2*nt()-s.renderingStartTime>Ga&&r!==1073741824&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,r=Ve.current,Re(Ve,n?r&1|2:r&1),t):(Ct(t),null);case 22:case 23:return O0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Ct(t),t.subtreeFlags&6&&(t.flags|=8192)):Ct(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function B6(e,t){switch(l0(t),t.tag){case 1:return lr(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ha(),ze(or),ze(Lt),y0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return g0(t),null;case 13:if(ze(Ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ve),null;case 4:return Ha(),null;case 10:return f0(t.type._context),null;case 22:case 23:return O0(),null;case 24:return null;default:return null}}var hu=!1,Dt=!1,F6=typeof WeakSet=="function"?WeakSet:Set,se=null;function ba(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function ug(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Tw=!1;function z6(e,t){if(qp=ud,e=__(),a0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Gp={focusedElem:e,selectionRange:r},ud=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Zr(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(j){Qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return g=Tw,Tw=!1,g}function Sl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&ug(t,r,s)}i=i.next}while(i!==n)}}function Tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function dg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function jk(e){var t=e.alternate;t!==null&&(e.alternate=null,jk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mn],delete t[Gl],delete t[Jp],delete t[N6],delete t[S6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Nk(e){return e.tag===5||e.tag===3||e.tag===4}function Mw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hd));else if(n!==4&&(e=e.child,e!==null))for(fg(e,t,r),e=e.sibling;e!==null;)fg(e,t,r),e=e.sibling}function hg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(hg(e,t,r),e=e.sibling;e!==null;)hg(e,t,r),e=e.sibling}var _t=null,en=!1;function fi(e,t,r){for(r=r.child;r!==null;)Sk(e,t,r),r=r.sibling}function Sk(e,t,r){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:Dt||ba(r,t);case 6:var n=_t,i=en;_t=null,fi(e,t,r),_t=n,en=i,_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(en?(e=_t,r=r.stateNode,e.nodeType===8?xm(e.parentNode,r):e.nodeType===1&&xm(e,r),Wl(e)):xm(_t,r.stateNode));break;case 4:n=_t,i=en,_t=r.stateNode.containerInfo,en=!0,fi(e,t,r),_t=n,en=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&ug(r,t,a),i=i.next}while(i!==n)}fi(e,t,r);break;case 1:if(!Dt&&(ba(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}fi(e,t,r);break;case 21:fi(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,fi(e,t,r),Dt=n):fi(e,t,r);break;default:fi(e,t,r)}}function Dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new F6),t.forEach(function(n){var i=X6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,en=!1;break e;case 3:_t=l.stateNode.containerInfo,en=!0;break e;case 4:_t=l.stateNode.containerInfo,en=!0;break e}l=l.return}if(_t===null)throw Error(G(160));Sk(s,a,i),_t=null,en=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pk(t,e),t=t.sibling}function Pk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),fn(e),n&4){try{Sl(3,e,e.return),Tf(3,e)}catch(x){Qe(e,e.return,x)}try{Sl(5,e,e.return)}catch(x){Qe(e,e.return,x)}}break;case 1:Xr(t,e),fn(e),n&512&&r!==null&&ba(r,r.return);break;case 5:if(Xr(t,e),fn(e),n&512&&r!==null&&ba(r,r.return),e.flags&32){var i=e.stateNode;try{Bl(i,"")}catch(x){Qe(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&qP(i,s),Ip(l,a);var u=Ip(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?QP(i,f):d==="dangerouslySetInnerHTML"?XP(i,f):d==="children"?Bl(i,f):qy(i,d,f,u)}switch(l){case"input":Tp(i,s);break;case"textarea":GP(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ta(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ta(i,!!s.multiple,s.defaultValue,!0):Ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gl]=s}catch(x){Qe(e,e.return,x)}}break;case 6:if(Xr(t,e),fn(e),n&4){if(e.stateNode===null)throw Error(G(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Qe(e,e.return,x)}}break;case 3:if(Xr(t,e),fn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(x){Qe(e,e.return,x)}break;case 4:Xr(t,e),fn(e);break;case 13:Xr(t,e),fn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_0=nt())),n&4&&Dw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||d,Xr(t,e),Dt=u):Xr(t,e),fn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Sl(4,h,h.return);break;case 1:ba(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Qe(n,r,x)}}break;case 5:ba(h,h.return);break;case 22:if(h.memoizedState!==null){$w(f);continue}}m!==null?(m.return=h,se=m):$w(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=JP("display",a))}catch(x){Qe(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Qe(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Xr(t,e),fn(e),n&4&&Dw(e);break;case 21:break;default:Xr(t,e),fn(e)}}function fn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Nk(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bl(i,""),n.flags&=-33);var s=Mw(e);hg(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Mw(e);fg(e,l,a);break;default:throw Error(G(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function U6(e,t,r){se=e,_k(e)}function _k(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||hu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=hu;var u=Dt;if(hu=a,(Dt=c)&&!u)for(se=i;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?Iw(i):c!==null?(c.return=a,se=c):Iw(i);for(;s!==null;)se=s,_k(s),s=s.sibling;se=i,hu=l,Dt=u}Rw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Rw(e)}}function Rw(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Tf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Zr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xw(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xw(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}Dt||t.flags&512&&dg(t)}catch(h){Qe(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function $w(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Iw(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tf(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Qe(t,i,c)}}var s=t.return;try{dg(t)}catch(c){Qe(t,s,c)}break;case 5:var a=t.return;try{dg(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var W6=Math.ceil,Sd=ii.ReactCurrentDispatcher,S0=ii.ReactCurrentOwner,Br=ii.ReactCurrentBatchConfig,we=0,Nt=null,lt=null,Ot=0,pr=0,wa=Hi(0),ht=0,ec=null,Bs=0,Mf=0,P0=0,Pl=null,tr=null,_0=0,Ga=1/0,Mn=null,Pd=!1,mg=null,Di=null,mu=!1,ki=null,_d=0,_l=0,pg=null,Yu=-1,Xu=0;function Ht(){return we&6?nt():Yu!==-1?Yu:Yu=nt()}function Ri(e){return e.mode&1?we&2&&Ot!==0?Ot&-Ot:_6.transition!==null?(Xu===0&&(Xu=u_()),Xu):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:y_(e.type)),e):1}function ln(e,t,r,n){if(50<_l)throw _l=0,pg=null,Error(G(185));bc(e,r,n),(!(we&2)||e!==Nt)&&(e===Nt&&(!(we&2)&&(Mf|=r),ht===4&&Ni(e,Ot)),cr(e,n),r===1&&we===0&&!(t.mode&1)&&(Ga=nt()+500,Af&&qi()))}function cr(e,t){var r=e.callbackNode;_R(e,t);var n=cd(e,e===Nt?Ot:0);if(n===0)r!==null&&Hb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hb(r),t===1)e.tag===0?P6(Lw.bind(null,e)):$_(Lw.bind(null,e)),w6(function(){!(we&6)&&qi()}),r=null;else{switch(d_(n)){case 1:r=Qy;break;case 4:r=l_;break;case 16:r=ld;break;case 536870912:r=c_;break;default:r=ld}r=Dk(r,kk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kk(e,t){if(Yu=-1,Xu=0,we&6)throw Error(G(327));var r=e.callbackNode;if(Ia()&&e.callbackNode!==r)return null;var n=cd(e,e===Nt?Ot:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kd(e,n);else{t=n;var i=we;we|=2;var s=Ak();(Nt!==e||Ot!==t)&&(Mn=null,Ga=nt()+500,_s(e,t));do try{H6();break}catch(l){Ok(e,l)}while(!0);d0(),Sd.current=s,we=i,lt!==null?t=0:(Nt=null,Ot=0,t=ht)}if(t!==0){if(t===2&&(i=Up(e),i!==0&&(n=i,t=gg(e,i))),t===1)throw r=ec,_s(e,0),Ni(e,n),cr(e,nt()),r;if(t===6)Ni(e,n);else{if(i=e.current.alternate,!(n&30)&&!V6(i)&&(t=kd(e,n),t===2&&(s=Up(e),s!==0&&(n=s,t=gg(e,s))),t===1))throw r=ec,_s(e,0),Ni(e,n),cr(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:cs(e,tr,Mn);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=_0+500-nt(),10<t)){if(cd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ht(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Xp(cs.bind(null,e,tr,Mn),t);break}cs(e,tr,Mn);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-on(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*W6(n/1960))-n,10<n){e.timeoutHandle=Xp(cs.bind(null,e,tr,Mn),n);break}cs(e,tr,Mn);break;case 5:cs(e,tr,Mn);break;default:throw Error(G(329))}}}return cr(e,nt()),e.callbackNode===r?kk.bind(null,e):null}function gg(e,t){var r=Pl;return e.current.memoizedState.isDehydrated&&(_s(e,t).flags|=256),e=kd(e,t),e!==2&&(t=tr,tr=r,t!==null&&yg(t)),e}function yg(e){tr===null?tr=e:tr.push.apply(tr,e)}function V6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!cn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~P0,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-on(t),n=1<<r;e[r]=-1,t&=~n}}function Lw(e){if(we&6)throw Error(G(327));Ia();var t=cd(e,0);if(!(t&1))return cr(e,nt()),null;var r=kd(e,t);if(e.tag!==0&&r===2){var n=Up(e);n!==0&&(t=n,r=gg(e,n))}if(r===1)throw r=ec,_s(e,0),Ni(e,t),cr(e,nt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,tr,Mn),cr(e,nt()),null}function k0(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Ga=nt()+500,Af&&qi())}}function Fs(e){ki!==null&&ki.tag===0&&!(we&6)&&Ia();var t=we;we|=1;var r=Br.transition,n=Oe;try{if(Br.transition=null,Oe=1,e)return e()}finally{Oe=n,Br.transition=r,we=t,!(we&6)&&qi()}}function O0(){pr=wa.current,ze(wa)}function _s(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b6(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(l0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&md();break;case 3:Ha(),ze(or),ze(Lt),y0();break;case 5:g0(n);break;case 4:Ha();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:f0(n.type._context);break;case 22:case 23:O0()}r=r.return}if(Nt=e,lt=e=$i(e.current,null),Ot=pr=t,ht=0,ec=null,P0=Mf=Bs=0,tr=Pl=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ys=null}return e}function Ok(e,t){do{var r=lt;try{if(d0(),Hu.current=Nd,jd){for(var n=He.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jd=!1}if(Ls=0,wt=ft=He=null,Nl=!1,Jl=0,S0.current=null,r===null||r.return===null){ht=1,ec=t,lt=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=Ot,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Pw(a);if(m!==null){m.flags&=-257,_w(m,a,l,s,t),m.mode&1&&Sw(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){Sw(s,u,t),A0();break e}c=Error(G(426))}}else if(Ue&&l.mode&1){var w=Pw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),_w(w,a,l,s,t),c0(qa(c,l));break e}}s=c=qa(c,l),ht!==4&&(ht=2),Pl===null?Pl=[s]:Pl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=dk(s,c,t);vw(s,p);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Di===null||!Di.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=fk(s,l,t);vw(s,j);break e}}s=s.return}while(s!==null)}Ck(r)}catch(N){t=N,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Ak(){var e=Sd.current;return Sd.current=Nd,e===null?Nd:e}function A0(){(ht===0||ht===3||ht===2)&&(ht=4),Nt===null||!(Bs&268435455)&&!(Mf&268435455)||Ni(Nt,Ot)}function kd(e,t){var r=we;we|=2;var n=Ak();(Nt!==e||Ot!==t)&&(Mn=null,_s(e,t));do try{K6();break}catch(i){Ok(e,i)}while(!0);if(d0(),we=r,Sd.current=n,lt!==null)throw Error(G(261));return Nt=null,Ot=0,ht}function K6(){for(;lt!==null;)Ek(lt)}function H6(){for(;lt!==null&&!yR();)Ek(lt)}function Ek(e){var t=Mk(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?Ck(e):lt=t,S0.current=null}function Ck(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=B6(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=L6(r,t,pr),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function cs(e,t,r){var n=Oe,i=Br.transition;try{Br.transition=null,Oe=1,q6(e,t,r,n)}finally{Br.transition=i,Oe=n}return null}function q6(e,t,r,n){do Ia();while(ki!==null);if(we&6)throw Error(G(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(kR(e,s),e===Nt&&(lt=Nt=null,Ot=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mu||(mu=!0,Dk(ld,function(){return Ia(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Br.transition,Br.transition=null;var a=Oe;Oe=1;var l=we;we|=4,S0.current=null,z6(e,r),Pk(r,e),h6(Gp),ud=!!qp,Gp=qp=null,e.current=r,U6(r),vR(),we=l,Oe=a,Br.transition=s}else e.current=r;if(mu&&(mu=!1,ki=e,_d=i),s=e.pendingLanes,s===0&&(Di=null),wR(r.stateNode),cr(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,e=mg,mg=null,e;return _d&1&&e.tag!==0&&Ia(),s=e.pendingLanes,s&1?e===pg?_l++:(_l=0,pg=e):_l=0,qi(),null}function Ia(){if(ki!==null){var e=d_(_d),t=Br.transition,r=Oe;try{if(Br.transition=null,Oe=16>e?16:e,ki===null)var n=!1;else{if(e=ki,ki=null,_d=0,we&6)throw Error(G(331));var i=we;for(we|=4,se=e.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Sl(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(jk(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,se=p;break e}se=s.return}}var v=e.current;for(se=v;se!==null;){a=se;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,se=b;else e:for(a=v;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tf(9,l)}}catch(N){Qe(l,l.return,N)}if(l===a){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(we=i,qi(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Sf,e)}catch{}n=!0}return n}finally{Oe=r,Br.transition=t}}return!1}function Bw(e,t,r){t=qa(r,t),t=dk(e,t,1),e=Mi(e,t,1),t=Ht(),e!==null&&(bc(e,1,t),cr(e,t))}function Qe(e,t,r){if(e.tag===3)Bw(e,e,r);else for(;t!==null;){if(t.tag===3){Bw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Di===null||!Di.has(n))){e=qa(r,e),e=fk(t,e,1),t=Mi(t,e,1),e=Ht(),t!==null&&(bc(t,1,e),cr(t,e));break}}t=t.return}}function G6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ht(),e.pingedLanes|=e.suspendedLanes&r,Nt===e&&(Ot&r)===r&&(ht===4||ht===3&&(Ot&130023424)===Ot&&500>nt()-_0?_s(e,0):P0|=r),cr(e,t)}function Tk(e,t){t===0&&(e.mode&1?(t=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):t=1);var r=Ht();e=Gn(e,t),e!==null&&(bc(e,t,r),cr(e,r))}function Y6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Tk(e,r)}function X6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),Tk(e,r)}var Mk;Mk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||or.current)ir=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ir=!1,I6(e,t,r);ir=!!(e.flags&131072)}else ir=!1,Ue&&t.flags&1048576&&I_(t,yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gu(e,t),e=t.pendingProps;var i=Wa(t,Lt.current);$a(t,r),i=x0(null,t,n,e,i,r);var s=b0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lr(n)?(s=!0,pd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m0(t),i.updater=Cf,t.stateNode=i,i._reactInternals=t,ng(t,n,e,r),t=ag(null,t,n,!0,s,r)):(t.tag=0,Ue&&s&&o0(t),Ut(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=Q6(n),e=Zr(n,e),i){case 0:t=sg(null,t,n,e,r);break e;case 1:t=Aw(null,t,n,e,r);break e;case 11:t=kw(null,t,n,e,r);break e;case 14:t=Ow(null,t,n,Zr(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),sg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Aw(e,t,n,i,r);case 3:e:{if(gk(t),e===null)throw Error(G(387));n=t.pendingProps,s=t.memoizedState,i=s.element,W_(e,t),bd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=qa(Error(G(423)),t),t=Ew(e,t,n,r,i);break e}else if(n!==i){i=qa(Error(G(424)),t),t=Ew(e,t,n,r,i);break e}else for(yr=Ti(t.stateNode.containerInfo.firstChild),vr=t,Ue=!0,rn=null,r=z_(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Va(),n===i){t=Yn(e,t,r);break e}Ut(e,t,n,r)}t=t.child}return t;case 5:return V_(t),e===null&&eg(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Yp(n,i)?a=null:s!==null&&Yp(n,s)&&(t.flags|=32),pk(e,t),Ut(e,t,a,r),t.child;case 6:return e===null&&eg(t),null;case 13:return yk(e,t,r);case 4:return p0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ka(t,null,n,r):Ut(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),kw(e,t,n,i,r);case 7:return Ut(e,t,t.pendingProps,r),t.child;case 8:return Ut(e,t,t.pendingProps.children,r),t.child;case 12:return Ut(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Re(vd,n._currentValue),n._currentValue=a,s!==null)if(cn(s.value,a)){if(s.children===i.children&&!or.current){t=Yn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Un(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),tg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(G(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),tg(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ut(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$a(t,r),i=zr(i),n=n(i),t.flags|=1,Ut(e,t,n,r),t.child;case 14:return n=t.type,i=Zr(n,t.pendingProps),i=Zr(n.type,i),Ow(e,t,n,i,r);case 15:return hk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Zr(n,i),Gu(e,t),t.tag=1,lr(n)?(e=!0,pd(t)):e=!1,$a(t,r),uk(t,n,i),ng(t,n,i,r),ag(null,t,n,!0,e,r);case 19:return vk(e,t,r);case 22:return mk(e,t,r)}throw Error(G(156,t.tag))};function Dk(e,t){return o_(e,t)}function J6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ir(e,t,r,n){return new J6(e,t,r,n)}function E0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Q6(e){if(typeof e=="function")return E0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yy)return 11;if(e===Xy)return 14}return 2}function $i(e,t){var r=e.alternate;return r===null?(r=Ir(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")E0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return ks(r.children,i,s,t);case Gy:a=8,i|=8;break;case kp:return e=Ir(12,r,t,i|2),e.elementType=kp,e.lanes=s,e;case Op:return e=Ir(13,r,t,i),e.elementType=Op,e.lanes=s,e;case Ap:return e=Ir(19,r,t,i),e.elementType=Ap,e.lanes=s,e;case VP:return Df(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case UP:a=10;break e;case WP:a=9;break e;case Yy:a=11;break e;case Xy:a=14;break e;case xi:a=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Ir(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ks(e,t,r,n){return e=Ir(7,e,n,t),e.lanes=r,e}function Df(e,t,r,n){return e=Ir(22,e,n,t),e.elementType=VP,e.lanes=r,e.stateNode={isHidden:!1},e}function km(e,t,r){return e=Ir(6,e,null,t),e.lanes=r,e}function Om(e,t,r){return t=Ir(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Z6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C0(e,t,r,n,i,s,a,l,c){return e=new Z6(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ir(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},m0(s),e}function e$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Rk(e){if(!e)return Fi;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(lr(r))return R_(e,r,t)}return t}function $k(e,t,r,n,i,s,a,l,c){return e=C0(r,n,!0,e,i,s,a,l,c),e.context=Rk(null),r=e.current,n=Ht(),i=Ri(r),s=Un(n,i),s.callback=t??null,Mi(r,s,i),e.current.lanes=i,bc(e,i,n),cr(e,n),e}function Rf(e,t,r,n){var i=t.current,s=Ht(),a=Ri(i);return r=Rk(r),t.context===null?t.context=r:t.pendingContext=r,t=Un(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mi(i,t,a),e!==null&&(ln(e,i,a,s),Ku(e,i,a)),a}function Od(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function T0(e,t){Fw(e,t),(e=e.alternate)&&Fw(e,t)}function t$(){return null}var Ik=typeof reportError=="function"?reportError:function(e){console.error(e)};function M0(e){this._internalRoot=e}$f.prototype.render=M0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));Rf(e,t,null,null)};$f.prototype.unmount=M0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Rf(null,e,null,null)}),t[qn]=null}};function $f(e){this._internalRoot=e}$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=m_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ji.length&&t!==0&&t<ji[r].priority;r++);ji.splice(r,0,e),r===0&&g_(e)}};function D0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zw(){}function r$(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Od(a);s.call(u)}}var a=$k(t,n,e,0,null,!1,!1,"",zw);return e._reactRootContainer=a,e[qn]=a.current,Hl(e.nodeType===8?e.parentNode:e),Fs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Od(c);l.call(u)}}var c=C0(e,0,!1,null,null,!1,!1,"",zw);return e._reactRootContainer=c,e[qn]=c.current,Hl(e.nodeType===8?e.parentNode:e),Fs(function(){Rf(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Od(a);l.call(c)}}Rf(t,a,e,i)}else a=r$(r,t,e,i,n);return Od(a)}f_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dl(t.pendingLanes);r!==0&&(Zy(t,r|1),cr(t,nt()),!(we&6)&&(Ga=nt()+500,qi()))}break;case 13:Fs(function(){var n=Gn(e,1);if(n!==null){var i=Ht();ln(n,e,1,i)}}),T0(e,1)}};e0=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Ht();ln(t,e,134217728,r)}T0(e,134217728)}};h_=function(e){if(e.tag===13){var t=Ri(e),r=Gn(e,t);if(r!==null){var n=Ht();ln(r,e,t,n)}T0(e,t)}};m_=function(){return Oe};p_=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};Bp=function(e,t,r){switch(t){case"input":if(Tp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Of(n);if(!i)throw Error(G(90));HP(n),Tp(n,i)}}}break;case"textarea":GP(e,r);break;case"select":t=r.value,t!=null&&Ta(e,!!r.multiple,t,!1)}};t_=k0;r_=Fs;var n$={usingClientEntryPoint:!1,Events:[jc,pa,Of,ZP,e_,k0]},Xo={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},i$={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=s_(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||t$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Sf=pu.inject(i$),xn=pu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n$;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!D0(t))throw Error(G(200));return e$(e,t,null,r)};Pr.createRoot=function(e,t){if(!D0(e))throw Error(G(299));var r=!1,n="",i=Ik;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=C0(e,1,!1,null,null,r,!1,n,i),e[qn]=t.current,Hl(e.nodeType===8?e.parentNode:e),new M0(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=s_(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Fs(e)};Pr.hydrate=function(e,t,r){if(!If(t))throw Error(G(200));return Lf(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!D0(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Ik;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=$k(t,null,e,1,r??null,i,!1,s,a),e[qn]=t.current,Hl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $f(t)};Pr.render=function(e,t,r){if(!If(t))throw Error(G(200));return Lf(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!If(e))throw Error(G(40));return e._reactRootContainer?(Fs(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Pr.unstable_batchedUpdates=k0;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!If(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return Lf(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function Lk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lk)}catch(e){console.error(e)}}Lk(),LP.exports=Pr;var Bk=LP.exports,Fk,Uw=Bk;Fk=Uw.createRoot,Uw.hydrateRoot;const s$="modulepreload",a$=function(e){return"/"+e},Ww={},Sc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=a$(c),c in Ww)return;Ww[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":s$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},o$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class R0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class l$ extends R0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Vw extends R0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Kw extends R0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var vg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(vg||(vg={}));var c$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class u${constructor(t,{headers:r={},customFetch:n,region:i=vg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=o$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return c$(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new l$(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Vw(f);if(!f.ok)throw new Kw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Kw||i instanceof Vw?i.context:void 0}}})}}var rr={},$0={},Bf={},Pc={},Ff={},zf={},d$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ya=d$();const f$=Ya.fetch,zk=Ya.fetch.bind(Ya),Uk=Ya.Headers,h$=Ya.Request,m$=Ya.Response,vo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Uk,Request:h$,Response:m$,default:zk,fetch:f$},Symbol.toStringTag,{value:"Module"})),p$=TD(vo);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let g$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=g$;var Wk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const y$=Wk(p$),v$=Wk(Uf);let x$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=y$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&x===""?(h=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new v$.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};zf.default=x$;var b$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ff,"__esModule",{value:!0});const w$=b$(zf);let j$=class extends w$.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=j$;var N$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pc,"__esModule",{value:!0});const S$=N$(Ff);let P$=class extends S$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Pc.default=P$;var _$=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const Jo=_$(Pc);let k$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bf.default=k$;var Wf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.version=void 0;Vf.version="0.0.0-automated";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.DEFAULT_HEADERS=void 0;const O$=Vf;Wf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${O$.version}`};var Vk=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($0,"__esModule",{value:!0});const A$=Vk(Bf),E$=Vk(Pc),C$=Wf;let T$=class Kk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},C$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new A$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Kk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new E$.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};$0.default=T$;var xo=Fr&&Fr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rr,"__esModule",{value:!0});rr.PostgrestError=rr.PostgrestBuilder=rr.PostgrestTransformBuilder=rr.PostgrestFilterBuilder=rr.PostgrestQueryBuilder=rr.PostgrestClient=void 0;const Hk=xo($0);rr.PostgrestClient=Hk.default;const qk=xo(Bf);rr.PostgrestQueryBuilder=qk.default;const Gk=xo(Pc);rr.PostgrestFilterBuilder=Gk.default;const Yk=xo(Ff);rr.PostgrestTransformBuilder=Yk.default;const Xk=xo(zf);rr.PostgrestBuilder=Xk.default;const Jk=xo(Uf);rr.PostgrestError=Jk.default;var M$=rr.default={PostgrestClient:Hk.default,PostgrestQueryBuilder:qk.default,PostgrestFilterBuilder:Gk.default,PostgrestTransformBuilder:Yk.default,PostgrestBuilder:Xk.default,PostgrestError:Jk.default};const{PostgrestClient:D$,PostgrestQueryBuilder:ire,PostgrestFilterBuilder:sre,PostgrestTransformBuilder:are,PostgrestBuilder:ore,PostgrestError:lre}=M$;function R$(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const $$=R$(),I$="2.11.15",L$=`realtime-js/${I$}`,B$="1.0.0",Qk=1e4,F$=1e3;var kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(kl||(kl={}));var Tt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Tt||(Tt={}));var tn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tn||(tn={}));var xg;(function(e){e.websocket="websocket"})(xg||(xg={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class z${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Zk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const Hw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=U$(a,e,t,i),s),{})},U$=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?e2(s,a):bg(a)},e2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return H$(t,r)}switch(e){case Me.bool:return W$(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return V$(t);case Me.json:case Me.jsonb:return K$(t);case Me.timestamp:return q$(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return bg(t);default:return bg(t)}},bg=e=>e,W$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},V$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},K$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},H$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>e2(t,l))}return e},q$=e=>typeof e=="string"?e.replace(" ","T"):e,t2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Am{constructor(t,r,n={},i=Qk){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var qw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(qw||(qw={}));class Ol{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Ol.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ol.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),g=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gw||(Gw={}));var Yw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yw||(Yw={}));var Dn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Dn||(Dn={}));class I0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Tt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Am(this,tn.join,this.params,this.timeout),this.rejoinTimer=new Zk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Tt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Tt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Tt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ol(this),this.broadcastEndpointURL=t2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Tt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Dn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Dn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Dn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let x=0;x<m;x++){const w=h[x],{filter:{event:p,schema:v,table:b,filter:j}}=w,N=d&&d[x];if(N&&N.event===p&&N.schema===v&&N.table===b&&N.filter===j)g.push(Object.assign(Object.assign({},w),{id:N.id}));else{this.unsubscribe(),this.state=Tt.errored,t==null||t(Dn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Dn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Tt.errored,t==null||t(Dn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Dn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Tt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Am(this,tn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Am(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=tn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,x,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var g,x,w,p,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,N=(g=m.filter)===null||g===void 0?void 0:g.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:w,commit_timestamp:p,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===Tt.closed}_isJoined(){return this.state===Tt.joined}_isJoining(){return this.state===Tt.joining}_isLeaving(){return this.state===Tt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&I0.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tn.close,{},t)}_onError(t){this._on(tn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Tt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hw(t.columns,t.old_record)),r}}const Xw=()=>{},G$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Qk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xw,this.ref=0,this.logger=Xw,this.conn=null,this.sendBuffer=[],this.serializer=new z$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Sc(async()=>{const{default:c}=await Promise.resolve().then(()=>vo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${xg.websocket}`,this.httpEndpoint=t2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Zk(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$$),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kl.connecting:return ps.Connecting;case kl.open:return ps.Open;case kl.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new I0(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:L$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(tn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(F$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(tn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([G$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class L0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function vt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class X$ extends L0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wg extends L0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var J$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const r2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Q$=()=>J$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sc(()=>Promise.resolve().then(()=>vo),void 0)).Response:Response}),jg=e=>{if(Array.isArray(e))return e.map(r=>jg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=jg(n)}),t},Z$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Gs=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Em=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eI=(e,t,r)=>Gs(void 0,void 0,void 0,function*(){const n=yield Q$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new X$(Em(i),s,a))}).catch(i=>{t(new wg(Em(i),i))}):t(new wg(Em(e),e))}),tI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Z$(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function _c(e,t,r,n,i,s){return Gs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,tI(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>eI(c,l,n))})})}function Ad(e,t,r,n){return Gs(this,void 0,void 0,function*(){return _c(e,"GET",t,r,n)})}function Rn(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return _c(e,"POST",t,n,i,r)})}function Ng(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return _c(e,"PUT",t,n,i,r)})}function rI(e,t,r,n){return Gs(this,void 0,void 0,function*(){return _c(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function n2(e,t,r,n,i){return Gs(this,void 0,void 0,function*(){return _c(e,"DELETE",t,n,i,r)})}var Qt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const nI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class iI{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=r2(i)}uploadOrUpdate(t,r,n,i){return Qt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Jw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Ng:Rn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(vt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Qt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Jw.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Ng(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(vt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Qt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Rn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new L0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Qt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Qt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Qt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Rn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Qt(this,void 0,void 0,function*(){try{const i=yield Rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}download(t,r){return Qt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ad(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(vt(l))return{data:null,error:l};throw l}})}info(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jg(n),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}exists(t){return Qt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield rI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(vt(n)&&n instanceof wg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Qt(this,void 0,void 0,function*(){try{return{data:yield n2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Qt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},nI),r),{prefix:t||""});return{data:yield Rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(vt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sI="2.10.4",aI={"X-Client-Info":`storage-js/${sI}`};var ta=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class oI{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},aI),r),this.fetch=r2(n)}listBuckets(){return ta(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(vt(t))return{data:null,error:t};throw t}})}getBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ta(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ta(this,void 0,void 0,function*(){try{return{data:yield Ng(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(vt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield n2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(vt(r))return{data:null,error:r};throw r}})}}class lI extends oI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new iI(this.url,this.headers,t,this.fetch)}}const cI="2.53.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const uI={"X-Client-Info":`supabase-js-${hl}/${cI}`},dI={headers:uI},fI={schema:"public"},hI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mI={};var pI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const gI=e=>{let t;return e?t=e:typeof fetch>"u"?t=zk:t=fetch,(...r)=>t(...r)},yI=()=>typeof Headers>"u"?Uk:Headers,vI=(e,t,r)=>{const n=gI(r),i=yI();return(s,a)=>pI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var xI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function bI(e){return e.endsWith("/")?e:e+"/"}function wI(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>xI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const i2="2.71.1",la=30*1e3,Sg=3,Cm=Sg*la,jI="http://localhost:9999",NI="supabase.auth.token",SI={"X-Client-Info":`gotrue-js/${i2}`},Pg="X-Supabase-Api-Version",s2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,_I=10*60*1e3;class B0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class kI extends B0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function OI(e){return fe(e)&&e.name==="AuthApiError"}class a2 extends B0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gi extends B0{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class gi extends Gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function AI(e){return fe(e)&&e.name==="AuthSessionMissingError"}class gu extends Gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yu extends Gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vu extends Gi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function EI(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qw extends Gi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _g extends Gi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Tm(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class Zw extends Gi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kg extends Gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e1=` 	
\r=`.split(""),CI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e1.length;t+=1)e[e1[t].charCodeAt(0)]=-2;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=t;return e})();function t1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}}function o2(e,t,r){const n=CI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function r1(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{DI(a,n,r)};for(let a=0;a<e.length;a+=1)o2(e.charCodeAt(a),i,s);return t.join("")}function TI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function MI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}TI(n,t)}}function DI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function RI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)o2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function $I(e){const t=[];return MI(e,r=>t.push(r)),new Uint8Array(t)}function II(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>t1(i,r,n)),t1(null,r,n),t.join("")}function LI(e){return Math.round(Date.now()/1e3)+e}function BI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},l2=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function FI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const c2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>vo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ca=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},as=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hi=async(e,t)=>{await e.removeItem(t)};class Kf{constructor(){this.promise=new Kf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kf.promiseConstructor=Promise;function Mm(e){const t=e.split(".");if(t.length!==3)throw new kg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!PI.test(t[n]))throw new kg("JWT not in base64url format");return{header:JSON.parse(r1(t[0])),payload:JSON.parse(r1(t[1])),signature:RI(t[2]),raw:{header:t[0],payload:t[1]}}}async function UI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WI(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function VI(e){return("0"+e.toString(16)).substr(-2)}function KI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,VI).join("")}async function HI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await HI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,r=!1){const n=KI();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ca(e,`${t}-code-verifier`,i);const s=await qI(n);return[s,n===s?"plain":"s256"]}const GI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YI(e){const t=e.headers.get(Pg);if(!t||!t.match(GI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function JI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function na(e){if(!QI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Dm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n1(e){return JSON.parse(JSON.stringify(e))}var ZI=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eL=[502,503,504];async function i1(e){var t;if(!zI(e))throw new _g(us(e),0);if(eL.includes(e.status))throw new _g(us(e),e.status);let r;try{r=await e.json()}catch(s){throw new a2(us(s),s)}let n;const i=YI(e);if(i&&i.getTime()>=s2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zw(us(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Zw(us(r),e.status,r.weak_password.reasons);throw new kI(us(r),e.status||500,n)}const tL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ge(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Pg]||(s[Pg]=s2["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await rL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function rL(e,t,r,n,i,s){const a=tL(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new _g(us(c),0)}if(l.ok||await i1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await i1(c)}}function Tn(e){var t;let r=null;aL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=LI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function s1(e){const t=Tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Si(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function nL(e){return{data:e,error:null}}function iL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=ZI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function sL(e){return e}function aL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Rm=["global","local","others"];var oL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class lL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=c2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Rm[0]){if(Rm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rm.join(", ")}`);try{return await ge(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ge(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Si})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=oL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ge(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:iL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ge(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Si})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ge(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:sL});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){na(t);try{return await ge(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Si})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){na(t);try{return await ge(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Si})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){na(t);try{return await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Si})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){na(t.userId);try{const{data:r,error:n}=await ge(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){na(t.userId),na(t.id);try{return{data:await ge(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function a1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function cL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ia={debug:!!(globalThis&&l2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class u2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class uL extends u2{}async function dL(e,t,r){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new uL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ia.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}cL();const fL={url:jI,storageKey:NI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function o1(e,t,r){return await r()}const sa={};class tc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},fL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new lL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=c2(i.fetch),this.lock=i.lock||o1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=dL:this.lock=o1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:l2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=a1(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${i2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=FI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),EI(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new a2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await ra(this.storage,this.storageKey)),s=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Tn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ge(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new yu("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:s1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await ge(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:s1})}else throw new yu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:w,wallet:p,statement:v,options:b}=t;let j;if(Jr())if(typeof p=="object")j=p;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const N=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:w,error:p}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:II(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tn});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new gu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(fe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await ge(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tn});if(await hi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await ge(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new gu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ra(this.storage,this.storageKey));const{error:f}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ge(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new yu("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ge(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Tn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ra(this.storage,this.storageKey)),await ge(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:nL})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gi;const{error:i}=await ge(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await ge(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new yu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Cm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await as(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Dm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Si}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await ge(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Si})})}catch(r){if(fe(r))return AI(r)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new gi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ra(this.storage,this.storageKey));const{data:u,error:d}=await ge(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Si});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Mm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qw("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new vu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const p={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(OI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=BI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ra(this.storage,this.storageKey,!0));try{return await ge(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ge(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ge(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WI(async i=>(i>0&&await UI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ge(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Tm(s)&&Date.now()+a-n<la})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let a=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ca(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Dm()}else if(i&&!i.user&&!i.user){const a=await as(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await hi(this.storage,this.storageKey+"-user"),await ca(this.storage,this.storageKey,i)):i.user=Dm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Cm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Cm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Tm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new gi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),fe(s)){const a={session:null,error:s};return Tm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ca(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=n1(i);await ca(this.storage,this.storageKey,s)}else{const i=n1(r);await ca(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await hi(this.storage,this.storageKey+"-code-verifier"),await hi(this.storage,this.storageKey+"-user"),this.userStorage&&await hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${la}ms, refresh threshold is ${Sg} ticks`),i<=Sg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof u2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ge(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ge(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ge(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Mm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+_I>i)return n;const{data:s,error:a}=await ge(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Mm(n);r!=null&&r.allowExpired||XI(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=JI(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,$I(`${l}.${c}`)))throw new kg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}tc.nextInstanceID=0;const hL=tc;class mL extends hL{constructor(t){super(t)}}var pL=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class gL{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=bI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:fI,realtime:mI,auth:Object.assign(Object.assign({},hI),{storageKey:u}),global:dI},f=wI(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=vI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new D$(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new lI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new u$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return pL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new mL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Y$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const yL=(e,t,r)=>new gL(e,t,r);function vL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vL()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const xL="https://eymxpphofhhfeuvaqfad.supabase.co",bL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",Z=yL(xL,bL),d2=y.createContext(void 0);function wL({children:e}){const[t,r]=y.useState(null),[n,i]=y.useState(!1);y.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await Z.auth.getSession();if(u!=null&&u.user){const{data:d}=await Z.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log(" LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await Z.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error(" LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error(" LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error(" LOGIN FAILED - Profile has no email:",h),!1;console.log(" Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:g}=await Z.auth.signInWithPassword({email:h.email,password:u});return g?(console.error(" SUPABASE AUTH ERROR:",g.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,g,x;try{console.log(" SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await Z.from("profiles").select("username").eq("username",c).single();if(w)return console.error(" SIGNUP FAILED - Username already exists:",c),!1;const{data:p,error:v}=await Z.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error(" SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log(" SUPABASE SIGNUP SUCCESS:",{user_id:(h=p.user)==null?void 0:h.id,email:(m=p.user)==null?void 0:m.email,email_confirmed:(g=p.user)==null?void 0:g.email_confirmed_at,user_metadata:(x=p.user)==null?void 0:x.user_metadata}),p.user){const{error:b}=await Z.from("profiles").insert({id:p.user.id,username:c,email:u,role:f});b?console.error(" PROFILE CREATION ERROR:",b.message):console.log(" PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log(" LOGOUT: Starting logout process...");const{error:c}=await Z.auth.signOut();c?console.error(" LOGOUT: Supabase signout error:",c):console.log(" LOGOUT: Supabase signout successful"),r(null),console.log(" LOGOUT: User state cleared - Back to guest mode"),window.location.reload()}catch(c){console.error(" LOGOUT: Unexpected error:",c),r(null),window.location.reload()}};return o.jsx(d2.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function dr(){const e=y.useContext(d2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const f2=y.createContext(void 0);function jL({children:e}){const[t,r]=y.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(f2.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"":""})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Yi(){const e=y.useContext(f2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var NL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ue=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...NL,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${SL(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=ue("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=ue("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=ue("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=ue("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _L=ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=ue("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=ue("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ue("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=ue("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ue("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=ue("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=ue("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=ue("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=ue("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ue("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=ue("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=ue("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=ue("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=ue("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=ue("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=ue("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=ue("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ue("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=ue("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=ue("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=ue("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bo=ue("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=ue("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=ue("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=ue("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=ue("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=ue("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=ue("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=ue("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=ue("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=ue("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=ue("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=ue("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function zL({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=y.useState(""),[i,s]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[g,x]=y.useState(""),[w,p]=y.useState(!1),[v,b]=y.useState(!1),{signup:j}=dr(),N=async S=>{if(S.preventDefault(),p(!0),x(""),b(!1),a!==c){x("Passwords do not match."),p(!1);return}if(a.length<6){x("Password must be at least 6 characters long."),p(!1);return}if(r.trim().length<3){x("Username must be at least 3 characters long."),p(!1);return}if(!i.trim()||!i.includes("@")){x("Please enter a valid email address."),p(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){x("Username can only contain letters, numbers, hyphens, and underscores."),p(!1);return}await j(r.trim(),i.trim(),a,"user")?b(!0):x("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),p(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:""})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-space-grotesk",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"primary-button w-full",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(F0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:S=>n(S.target.value),className:"input-field w-full",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:S=>s(S.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:S=>l(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?o.jsx(Cd,{size:20}):o.jsx(jn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:S=>u(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h?o.jsx(Cd,{size:20}):o.jsx(jn,{size:20})})]})]}),g&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md font-inter",children:g}),o.jsx("button",{type:"submit",disabled:w,className:"primary-button w-full disabled:opacity-50",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"secondary-button w-full",children:"Back to Login"})})]})}function v2({onLoginSuccess:e}){const[t,r]=y.useState(""),[n,i]=y.useState(""),[s,a]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState("login"),[m,g]=y.useState(!1),[x,w]=y.useState(""),[p,v]=y.useState(!1),[b,j]=y.useState(""),{login:N}=dr(),S=async O=>{O.preventDefault(),d(!0),c(""),await N(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async O=>{O.preventDefault(),v(!0),j("");try{const{error:D}=await Z.auth.resetPasswordForEmail(x,{redirectTo:`${window.location.origin}/reset-password`});if(D)throw D;j("Password reset email sent! Check your inbox for further instructions.")}catch(D){j(`Error: ${D.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(zL,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(F0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:x,onChange:O=>w(O.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),b&&o.jsx("div",{className:`text-sm font-inter text-center p-3 rounded-md ${b.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:b}),o.jsx("button",{type:"submit",disabled:p,className:"primary-button w-full disabled:opacity-50 text-center",children:p?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>g(!1),className:"secondary-button w-full text-center",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:O=>r(O.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:O=>i(O.target.value),className:"input-field w-full pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?o.jsx(Cd,{size:20}):o.jsx(jn,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-inter",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"primary-button w-full disabled:opacity-50 text-center",children:u?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const UL=[{id:"dashboard",label:"Dashboard",icon:o.jsx(TL,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(ct,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(wn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(Wn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(ml,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(it,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(it,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"match-tracker",label:"Match Tracker",icon:o.jsx(zi,{size:20}),roles:["technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(g2,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(it,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(Wn,{size:20}),roles:["developer"]}];function WL({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=dr(),[a,l]=Oi.useState(!1),c=UL.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return y.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),y.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"}),o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Beyblade Community"})]})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(m2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(h2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(v2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Gt,{size:16})})]})})]})]})}const U0=y.createContext({});function jo(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const W0=typeof window<"u",Gf=W0?y.useLayoutEffect:y.useEffect,Yf=y.createContext(null);function V0(e,t){e.indexOf(t)===-1&&e.push(t)}function K0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const On=(e,t,r)=>r>t?t:r<e?e:r;let Qa=()=>{};const Xn={},x2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function b2(e){return typeof e=="object"&&e!==null}const w2=e=>/^0[^.\s]+$/u.test(e);function H0(e){let t;return()=>(t===void 0&&(t=e()),t)}const ur=e=>e,VL=(e,t)=>r=>t(e(r)),Ac=(...e)=>e.reduce(VL),Za=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class q0{constructor(){this.subscriptions=[]}add(t){return V0(this.subscriptions,t),()=>K0(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Nn=e=>e*1e3,Sn=e=>e/1e3;function G0(e,t){return t?e*(1e3/t):0}const j2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,KL=1e-7,HL=12;function qL(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=j2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>KL&&++l<HL);return a}function Ec(e,t,r,n){if(e===t&&r===n)return ur;const i=s=>qL(s,0,1,e,r);return s=>s===0||s===1?s:j2(i(s),t,n)}const N2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,S2=e=>t=>1-e(1-t),P2=Ec(.33,1.53,.69,.99),Y0=S2(P2),_2=N2(Y0),k2=e=>(e*=2)<1?.5*Y0(e):.5*(2-Math.pow(2,-10*(e-1))),X0=e=>1-Math.sin(Math.acos(e)),O2=S2(X0),A2=N2(X0),GL=Ec(.42,0,1,1),YL=Ec(0,0,.58,1),E2=Ec(.42,0,.58,1),XL=e=>Array.isArray(e)&&typeof e[0]!="number",C2=e=>Array.isArray(e)&&typeof e[0]=="number",d1={linear:ur,easeIn:GL,easeInOut:E2,easeOut:YL,circIn:X0,circInOut:A2,circOut:O2,backIn:Y0,backInOut:_2,backOut:P2,anticipate:k2},JL=e=>typeof e=="string",f1=e=>{if(C2(e)){Qa(e.length===4);const[t,r,n,i]=e;return Ec(t,r,n,i)}else if(JL(e))return Qa(d1[e]!==void 0),d1[e];return e},xu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],h1={value:null,addProjectionMetrics:null};function QL(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const x=m&&i?r:n;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&h1.value&&h1.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const ZL=40;function T2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=xu.reduce((b,j)=>(b[j]=QL(s,t?j:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=a,x=()=>{const b=Xn.useManualTiming?i.timestamp:performance.now();r=!1,Xn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,ZL),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,i.isProcessing||e(x)};return{schedule:xu.reduce((b,j)=>{const N=a[j];return b[j]=(S,P=!1,O=!1)=>(r||w(),N.schedule(S,P,O)),b},{}),cancel:b=>{for(let j=0;j<xu.length;j++)a[xu[j]].cancel(b)},state:i,steps:a}}const{schedule:ke,cancel:un,state:xt,steps:$m}=T2(typeof requestAnimationFrame<"u"?requestAnimationFrame:ur,!0);let Qu;function e3(){Qu=void 0}const sr={now:()=>(Qu===void 0&&sr.set(xt.isProcessing||Xn.useManualTiming?xt.timestamp:performance.now()),Qu),set:e=>{Qu=e,queueMicrotask(e3)}},M2=e=>t=>typeof t=="string"&&t.startsWith(e),J0=M2("--"),t3=M2("var(--"),Q0=e=>t3(e)?r3.test(e.split("/*")[0].trim()):!1,r3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rc={...No,transform:e=>On(0,1,e)},bu={...No,default:1},Al=e=>Math.round(e*1e5)/1e5,Z0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function n3(e){return e==null}const i3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(e,t)=>r=>!!(typeof r=="string"&&i3.test(r)&&r.startsWith(e)||t&&!n3(r)&&Object.prototype.hasOwnProperty.call(r,t)),D2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(Z0);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},s3=e=>On(0,255,e),Im={...No,transform:e=>Math.round(s3(e))},xs={test:ev("rgb","red"),parse:D2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Im.transform(e)+", "+Im.transform(t)+", "+Im.transform(r)+", "+Al(rc.transform(n))+")"};function a3(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Og={test:ev("#"),parse:a3,transform:xs.transform},Cc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yi=Cc("deg"),Pn=Cc("%"),de=Cc("px"),o3=Cc("vh"),l3=Cc("vw"),m1={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},ja={test:ev("hsl","hue"),parse:D2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pn.transform(Al(t))+", "+Pn.transform(Al(r))+", "+Al(rc.transform(n))+")"},ot={test:e=>xs.test(e)||Og.test(e)||ja.test(e),parse:e=>xs.test(e)?xs.parse(e):ja.test(e)?ja.parse(e):Og.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xs.transform(e):ja.transform(e),getAnimatableNone:e=>{const t=ot.parse(e);return t.alpha=0,ot.transform(t)}},c3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function u3(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Z0))==null?void 0:t.length)||0)+(((r=e.match(c3))==null?void 0:r.length)||0)>0}const R2="number",$2="color",d3="var",f3="var(",p1="${}",h3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(h3,c=>(ot.test(c)?(n.color.push(s),i.push($2),r.push(ot.parse(c))):c.startsWith(f3)?(n.var.push(s),i.push(d3),r.push(c)):(n.number.push(s),i.push(R2),r.push(parseFloat(c))),++s,p1)).split(p1);return{values:r,split:l,indexes:n,types:i}}function I2(e){return nc(e).values}function L2(e){const{split:t,types:r}=nc(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===R2?s+=Al(i[a]):l===$2?s+=ot.transform(i[a]):s+=i[a]}return s}}const m3=e=>typeof e=="number"?0:ot.test(e)?ot.getAnimatableNone(e):e;function p3(e){const t=I2(e);return L2(e)(t.map(m3))}const Ui={test:u3,parse:I2,createTransformer:L2,getAnimatableNone:p3};function Lm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function g3({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Lm(c,l,e+1/3),s=Lm(c,l,e),a=Lm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Md(e,t){return r=>r>0?t:e}const Ke=(e,t,r)=>e+(t-e)*r,Bm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},y3=[Og,xs,ja],v3=e=>y3.find(t=>t.test(e));function g1(e){const t=v3(e);if(!t)return!1;let r=t.parse(e);return t===ja&&(r=g3(r)),r}const y1=(e,t)=>{const r=g1(e),n=g1(t);if(!r||!n)return Md(e,t);const i={...r};return s=>(i.red=Bm(r.red,n.red,s),i.green=Bm(r.green,n.green,s),i.blue=Bm(r.blue,n.blue,s),i.alpha=Ke(r.alpha,n.alpha,s),xs.transform(i))},Ag=new Set(["none","hidden"]);function x3(e,t){return Ag.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function b3(e,t){return r=>Ke(e,t,r)}function tv(e){return typeof e=="number"?b3:typeof e=="string"?Q0(e)?Md:ot.test(e)?y1:N3:Array.isArray(e)?B2:typeof e=="object"?ot.test(e)?y1:w3:Md}function B2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>tv(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function w3(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=tv(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function j3(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const N3=(e,t)=>{const r=Ui.createTransformer(t),n=nc(e),i=nc(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ag.has(e)&&!i.values.length||Ag.has(t)&&!n.values.length?x3(e,t):Ac(B2(j3(n,i),i.values),r):Md(e,t)};function F2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ke(e,t,r):tv(e)(e,t)}const S3=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ke.update(t,r),stop:()=>un(t),now:()=>xt.isProcessing?xt.timestamp:sr.now()}},z2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Dd=2e4;function rv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Dd;)t+=r,n=e.next(t);return t>=Dd?1/0:t}function P3(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(rv(n),Dd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:Sn(i)}}const _3=5;function U2(e,t,r){const n=Math.max(t-_3,0);return G0(r-e(n),t-n)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fm=.001;function k3({duration:e=Je.duration,bounce:t=Je.bounce,velocity:r=Je.velocity,mass:n=Je.mass}){let i,s,a=1-t;a=On(Je.minDamping,Je.maxDamping,a),e=On(Je.minDuration,Je.maxDuration,Sn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=Eg(u,a),g=Math.exp(-f);return Fm-h/m*g},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),x=Eg(Math.pow(u,2),a);return(-i(u)+Fm>0?-1:1)*((h-m)*g)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Fm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=A3(i,s,l);if(e=Nn(e),isNaN(c))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const O3=12;function A3(e,t,r){let n=r;for(let i=1;i<O3;i++)n=n-e(n)/t(n);return n}function Eg(e,t){return e*Math.sqrt(1-t*t)}const E3=["duration","bounce"],C3=["stiffness","damping","mass"];function v1(e,t){return t.some(r=>e[r]!==void 0)}function T3(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!v1(e,C3)&&v1(e,E3))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*On(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:s}}else{const r=k3(e);t={...t,...r,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Rd(e=Je.visualDuration,t=Je.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=T3({...r,velocity:-Sn(r.velocity||0)}),g=h||0,x=u/(2*Math.sqrt(c*d)),w=a-s,p=Sn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Je.restSpeed.granular:Je.restSpeed.default),i||(i=v?Je.restDelta.granular:Je.restDelta.default);let b;if(x<1){const N=Eg(p,x);b=S=>{const P=Math.exp(-x*p*S);return a-P*((g+x*p*w)/N*Math.sin(N*S)+w*Math.cos(N*S))}}else if(x===1)b=N=>a-Math.exp(-p*N)*(w+(g+p*w)*N);else{const N=p*Math.sqrt(x*x-1);b=S=>{const P=Math.exp(-x*p*S),O=Math.min(N*S,300);return a-P*((g+x*p*w)*Math.sinh(O)+N*w*Math.cosh(O))/N}}const j={calculatedDuration:m&&f||null,next:N=>{const S=b(N);if(m)l.done=N>=f;else{let P=N===0?g:0;x<1&&(P=N===0?Nn(g):U2(b,N,S));const O=Math.abs(P)<=n,D=Math.abs(a-S)<=i;l.done=O&&D}return l.value=l.done?a:S,l},toString:()=>{const N=Math.min(rv(j),Dd),S=z2(P=>j.next(N*P).value,N,30);return N+"ms "+S},toTransition:()=>{}};return j}Rd.applyToOptions=e=>{const t=P3(e,100,Rd);return e.ease=t.ease,e.duration=Nn(t.duration),e.type="keyframes",e};function Cg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=O=>l!==void 0&&O<l||c!==void 0&&O>c,g=O=>l===void 0?c:c===void 0||Math.abs(l-O)<Math.abs(c-O)?l:c;let x=r*t;const w=f+x,p=a===void 0?w:a(w);p!==w&&(x=p-f);const v=O=>-x*Math.exp(-O/n),b=O=>p+v(O),j=O=>{const D=v(O),T=b(O);h.done=Math.abs(D)<=u,h.value=h.done?p:T};let N,S;const P=O=>{m(h.value)&&(N=O,S=Rd({keyframes:[h.value,g(h.value)],velocity:U2(b,O,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:O=>{let D=!1;return!S&&N===void 0&&(D=!0,j(O),P(O)),N!==void 0&&O>=N?S.next(O-N):(!D&&j(O),h)}}}function M3(e,t,r){const n=[],i=r||Xn.mix||F2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||ur:t;l=Ac(c,l)}n.push(l)}return n}function nv(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Qa(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=M3(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Za(e[f],e[f+1],d);return l[f](h)};return r?d=>u(On(e[0],e[s-1],d)):u}function D3(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Za(0,t,n);e.push(Ke(r,1,i))}}function W2(e){const t=[0];return D3(t,e.length-1),t}function R3(e,t){return e.map(r=>r*t)}function $3(e,t){return e.map(()=>t||E2).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=XL(n)?n.map(f1):f1(n),s={done:!1,value:t[0]},a=R3(r&&r.length===t.length?r:W2(t),e),l=nv(a,t,{ease:Array.isArray(i)?i:$3(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const I3=e=>e!==null;function iv(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(I3),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const L3={decay:Cg,inertia:Cg,tween:El,keyframes:El,spring:Rd};function V2(e){typeof e.type=="string"&&(e.type=L3[e.type])}class sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const B3=e=>e/100;class av extends sv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==sr.now()&&this.tick(sr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;V2(t);const{type:r=El,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||El;c!==El&&typeof l[0]!="number"&&(this.mixKeyframes=Ac(B3,F2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=rv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,j=n;if(f){const O=Math.min(this.currentTime,i)/l;let D=Math.floor(O),T=O%1;!T&&O>=1&&(T=1),T===1&&D--,D=Math.min(D,f+1),!!(D%2)&&(h==="reverse"?(T=1-T,m&&(T-=m/l)):h==="mirror"&&(j=a)),b=On(0,1,T)*l}const N=v?{done:!1,value:d[0]}:j.next(b);s&&(N.value=s(N.value));let{done:S}=N;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&g!==Cg&&(N.value=iv(d,this.options,w,this.speed)),x&&x(N.value),P&&this.finish(),N}then(t,r){return this.finished.then(t,r)}get duration(){return Sn(this.calculatedDuration)}get time(){return Sn(this.currentTime)}set time(t){var r;t=Nn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(sr.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Sn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=S3,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(sr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function F3(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bs=e=>e*180/Math.PI,Tg=e=>{const t=bs(Math.atan2(e[1],e[0]));return Mg(t)},z3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Tg,rotateZ:Tg,skewX:e=>bs(Math.atan(e[1])),skewY:e=>bs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mg=e=>(e=e%360,e<0&&(e+=360),e),x1=Tg,b1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),w1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),U3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b1,scaleY:w1,scale:e=>(b1(e)+w1(e))/2,rotateX:e=>Mg(bs(Math.atan2(e[6],e[5]))),rotateY:e=>Mg(bs(Math.atan2(-e[2],e[0]))),rotateZ:x1,rotate:x1,skewX:e=>bs(Math.atan(e[4])),skewY:e=>bs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dg(e){return e.includes("scale")?1:0}function Rg(e,t){if(!e||e==="none")return Dg(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=U3,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=z3,i=l}if(!i)return Dg(t);const s=n[t],a=i[1].split(",").map(V3);return typeof s=="function"?s(a):a[s]}const W3=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Rg(r,t)};function V3(e){return parseFloat(e.trim())}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Po=new Set(So),j1=e=>e===No||e===de,K3=new Set(["x","y","z"]),H3=So.filter(e=>!K3.has(e));function q3(e){const t=[];return H3.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Es={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Rg(t,"x"),y:(e,{transform:t})=>Rg(t,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const Cs=new Set;let $g=!1,Ig=!1,Lg=!1;function K2(){if(Ig){const e=Array.from(Cs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=q3(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Ig=!1,$g=!1,Cs.forEach(e=>e.complete(Lg)),Cs.clear()}function H2(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Ig=!0)})}function G3(){Lg=!0,H2(),K2(),Lg=!1}class ov{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),$g||($g=!0,ke.read(H2),ke.resolveKeyframes(K2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}F3(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Y3=e=>e.startsWith("--");function X3(e,t,r){Y3(t)?e.style.setProperty(t,r):e.style[t]=r}const q2=H0(()=>window.ScrollTimeline!==void 0),J3={};function Q3(e,t){const r=H0(e);return()=>J3[t]??r()}const G2=Q3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,N1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function Y2(e,t){if(e)return typeof e=="function"?G2()?z2(e,t):"ease-out":C2(e)?pl(e):Array.isArray(e)?e.map(r=>Y2(r,t)||N1.easeOut):N1[e]}function Z3(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Y2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function X2(e){return typeof e=="function"&&"applyToOptions"in e}function e4({type:e,...t}){return X2(e)&&G2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class t4 extends sv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,Qa(typeof t.type!="string");const u=e4(t);this.animation=Z3(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=iv(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):X3(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Sn(Number(t))}get time(){return Sn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Nn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&q2()?(this.animation.timeline=t,ur):r(this)}}const J2={anticipate:k2,backInOut:_2,circInOut:A2};function r4(e){return e in J2}function n4(e){typeof e.ease=="string"&&r4(e.ease)&&(e.ease=J2[e.ease])}const S1=10;class i4 extends t4{constructor(t){n4(t),V2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new av({...a,autoplay:!1}),c=Nn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-S1).value,l.sample(c).value,S1),l.stop()}}const P1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ui.test(e)||e==="0")&&!e.startsWith("url("));function s4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function a4(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=P1(i,t),l=P1(s,t);return!a||!l?!1:s4(e)||(r==="spring"||X2(r))&&n}function Bg(e){e.duration=0,e.type}const o4=new Set(["opacity","clipPath","filter","transform"]),l4=H0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function c4(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return l4()&&r&&o4.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const u4=40;class d4 extends sv{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=sr.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||ov;this.keyframeResolver=new m(l,(x,w,p)=>this.onKeyframesResolved(x,w,h,!p),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=sr.now(),a4(t,s,a,l)||((Xn.instantAnimations||!c)&&(d==null||d(iv(t,n,r))),t[0]=t[t.length-1],Bg(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>u4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&c4(h)?new i4({...h,element:h.motionValue.owner.current}):new av(h);m.finished.then(()=>this.notifyFinished()).catch(ur),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),G3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const f4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function h4(e){const t=f4.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function Q2(e,t,r=1){const[n,i]=h4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return x2(a)?parseFloat(a):a}return Q0(i)?Q2(i,t,r+1):i}function lv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Z2=new Set(["width","height","top","left","right","bottom",...So]),m4={test:e=>e==="auto",parse:e=>e},eO=e=>t=>t.test(e),tO=[No,de,Pn,yi,l3,o3,m4],_1=e=>tO.find(eO(e));function p4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||w2(e):!0}const g4=new Set(["brightness","contrast","saturate","opacity"]);function y4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Z0)||[];if(!n)return e;const i=r.replace(n,"");let s=g4.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const v4=/\b([a-z-]*)\(.*?\)/gu,Fg={...Ui,getAnimatableNone:e=>{const t=e.match(v4);return t?t.map(y4).join(" "):e}},k1={...No,transform:Math.round},x4={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:bu,scaleX:bu,scaleY:bu,scaleZ:bu,skew:yi,skewX:yi,skewY:yi,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:rc,originX:m1,originY:m1,originZ:de},cv={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,backgroundPositionX:de,backgroundPositionY:de,...x4,zIndex:k1,fillOpacity:rc,strokeOpacity:rc,numOctaves:k1},b4={...cv,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Fg,WebkitFilter:Fg},rO=e=>b4[e];function nO(e,t){let r=rO(e);return r!==Fg&&(r=Ui),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const w4=new Set(["auto","none","0"]);function j4(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!w4.has(s)&&nc(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=nO(r,i)}class N4 extends ov{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Q0(u))){const d=Q2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Z2.has(n)||t.length!==2)return;const[i,s]=t,a=_1(i),l=_1(s);if(a!==l)if(j1(a)&&j1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Es[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||p4(t[i]))&&n.push(i);n.length&&j4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Es[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function iO(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const sO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function uv(e){return b2(e)&&"offsetHeight"in e}const O1=30,S4=e=>!isNaN(parseFloat(e)),Cl={current:void 0};class P4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=sr.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=sr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=S4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new q0);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Cl.current&&Cl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=sr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>O1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,O1);return G0(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function an(e,t){return new P4(e,t)}const{schedule:dv,cancel:cre}=T2(queueMicrotask,!1),Qr={x:!1,y:!1};function aO(){return Qr.x||Qr.y}function _4(e){return e==="x"||e==="y"?Qr[e]?null:(Qr[e]=!0,()=>{Qr[e]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function oO(e,t){const r=iO(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function A1(e){return!(e.pointerType==="touch"||aO())}function k4(e,t,r={}){const[n,i,s]=oO(e,r),a=l=>{if(!A1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{A1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const lO=(e,t)=>t?e===t?!0:lO(e,t.parentElement):!1,fv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,O4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function A4(e){return O4.has(e.tagName)||e.tabIndex!==-1}const Zu=new WeakSet;function E1(e){return t=>{t.key==="Enter"&&e(t)}}function zm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const E4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=E1(()=>{if(Zu.has(r))return;zm(r,"down");const i=E1(()=>{zm(r,"up")}),s=()=>zm(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function C1(e){return fv(e)&&!aO()}function C4(e,t,r={}){const[n,i,s]=oO(e,r),a=l=>{const c=l.currentTarget;if(!C1(l))return;Zu.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Zu.has(c)&&Zu.delete(c),C1(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||lO(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),uv(l)&&(l.addEventListener("focus",u=>E4(u,i)),!A4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function hv(e){return b2(e)&&"ownerSVGElement"in e}const ed=new WeakMap;let vi;const cO=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:hv(n)&&"getBBox"in n?n.getBBox()[t]:n[r],T4=cO("inline","width","offsetWidth"),M4=cO("block","height","offsetHeight");function D4({target:e,borderBoxSize:t}){var r;(r=ed.get(e))==null||r.forEach(n=>{n(e,{get width(){return T4(e,t)},get height(){return M4(e,t)}})})}function R4(e){e.forEach(D4)}function $4(){typeof ResizeObserver>"u"||(vi=new ResizeObserver(R4))}function I4(e,t){vi||$4();const r=iO(e);return r.forEach(n=>{let i=ed.get(n);i||(i=new Set,ed.set(n,i)),i.add(t),vi==null||vi.observe(n)}),()=>{r.forEach(n=>{const i=ed.get(n);i==null||i.delete(t),i!=null&&i.size||vi==null||vi.unobserve(n)})}}const td=new Set;let Na;function L4(){Na=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};td.forEach(t=>t(e))},window.addEventListener("resize",Na)}function B4(e){return td.add(e),Na||L4(),()=>{td.delete(e),!td.size&&typeof Na=="function"&&(window.removeEventListener("resize",Na),Na=void 0)}}function F4(e,t){return typeof e=="function"?B4(e):I4(e,t)}function uO(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return ke.preUpdate(n,!0),()=>un(n)}function z4(e){return hv(e)&&e.tagName==="svg"}function U4(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=nv(i,s,a);return t?l(n):l}const It=e=>!!(e&&e.getVelocity),W4=[...tO,ot,Ui],V4=e=>W4.find(eO(e)),Xf=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class K4 extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=uv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function H4({children:e,isPresent:t,anchorX:r,root:n}){const i=y.useId(),s=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(Xf);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const g=document.createElement("style");l&&(g.nonce=l);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),o.jsx(K4,{isPresent:t,childRef:s,sizeRef:a,children:y.cloneElement(e,{ref:s})})}const q4=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=jo(G4),d=y.useId();let f=!0,h=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),y.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(H4,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Yf.Provider,{value:h,children:e})};function G4(){return new Map}function dO(e=!0){const t=y.useContext(Yf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=y.useId();y.useEffect(()=>{if(e)return i(s)},[e]);const a=y.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const wu=e=>e.key||"";function T1(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const ju=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=dO(a),f=y.useMemo(()=>T1(e),[e]),h=a&&!u?[]:f.map(wu),m=y.useRef(!0),g=y.useRef(f),x=jo(()=>new Map),[w,p]=y.useState(f),[v,b]=y.useState(f);Gf(()=>{m.current=!1,g.current=f;for(let S=0;S<v.length;S++){const P=wu(v[S]);h.includes(P)?x.delete(P):x.get(P)!==!0&&x.set(P,!1)}},[v,h.length,h.join("-")]);const j=[];if(f!==w){let S=[...f];for(let P=0;P<v.length;P++){const O=v[P],D=wu(O);h.includes(D)||(S.splice(P,0,O),j.push(O))}return s==="wait"&&j.length&&(S=j),b(T1(S)),p(f),null}const{forceRender:N}=y.useContext(U0);return o.jsx(o.Fragment,{children:v.map(S=>{const P=wu(S),O=a&&!u?!1:f===v||h.includes(P),D=()=>{if(x.has(P))x.set(P,!0);else return;let T=!0;x.forEach(C=>{C||(T=!1)}),T&&(N==null||N(),b(g.current),a&&(d==null||d()),n&&n())};return o.jsx(q4,{isPresent:O,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:O?void 0:D,anchorX:l,children:S},P)})})},fO=y.createContext({strict:!1}),M1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in M1)eo[e]={isEnabled:t=>M1[e].some(r=>!!t[r])};function Y4(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const X4=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $d(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||X4.has(e)}let hO=e=>!$d(e);function J4(e){typeof e=="function"&&(hO=t=>t.startsWith("on")?!$d(t):e(t))}try{J4(require("@emotion/is-prop-valid").default)}catch{}function Q4(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(hO(i)||r===!0&&$d(i)||!t&&!$d(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Jf=y.createContext({});function Qf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ic(e){return typeof e=="string"||Array.isArray(e)}const mv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pv=["initial",...mv];function Zf(e){return Qf(e.animate)||pv.some(t=>ic(e[t]))}function mO(e){return!!(Zf(e)||e.variants)}function Z4(e,t){if(Zf(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ic(r)?r:void 0,animate:ic(n)?n:void 0}}return e.inherit!==!1?t:{}}function eB(e){const{initial:t,animate:r}=Z4(e,y.useContext(Jf));return y.useMemo(()=>({initial:t,animate:r}),[D1(t),D1(r)])}function D1(e){return Array.isArray(e)?e.join(" "):e}const sc={};function tB(e){for(const t in e)sc[t]=e[t],J0(t)&&(sc[t].isCSSVariable=!0)}function pO(e,{layout:t,layoutId:r}){return Po.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!sc[e]||e==="opacity")}const rB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},nB=So.length;function iB(e,t,r){let n="",i=!0;for(let s=0;s<nB;s++){const a=So[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=sO(l,cv[a]);if(!c){i=!1;const d=rB[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function gv(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(Po.has(c)){a=!0;continue}else if(J0(c)){i[c]=u;continue}else{const d=sO(u,cv[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=iB(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gO(e,t,r){for(const n in t)!It(t[n])&&!pO(n,r)&&(e[n]=t[n])}function sB({transformTemplate:e},t){return y.useMemo(()=>{const r=yv();return gv(r,t,e),Object.assign({},r.vars,r.style)},[t])}function aB(e,t){const r=e.style||{},n={};return gO(n,r,e),Object.assign(n,sB(e,t)),n}function oB(e,t){const r={},n=aB(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const lB={offset:"stroke-dashoffset",array:"stroke-dasharray"},cB={offset:"strokeDashoffset",array:"strokeDasharray"};function uB(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?lB:cB;e[s.offset]=de.transform(-n);const a=de.transform(t),l=de.transform(r);e[s.array]=`${a} ${l}`}function yO(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(gv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&uB(f,i,s,a,!1)}const vO=()=>({...yv(),attrs:{}}),xO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dB(e,t,r,n){const i=y.useMemo(()=>{const s=vO();return yO(s,t,xO(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};gO(s,e.style,e),i.style={...s,...i.style}}return i}const fB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(e){return typeof e!="string"||e.includes("-")?!1:!!(fB.indexOf(e)>-1||/[A-Z]/u.test(e))}function hB(e,t,r,{latestValues:n},i,s=!1){const l=(vv(e)?dB:oB)(t,n,i,e),c=Q4(t,typeof e=="string",s),u=e!==y.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=y.useMemo(()=>It(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function R1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function xv(e,t,r,n){if(typeof t=="function"){const[i,s]=R1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=R1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function rd(e){return It(e)?e.get():e}function mB({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:pB(r,n,i,e),renderState:t()}}function pB(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=rd(s[h]);let{initial:a,animate:l}=e;const c=Zf(e),u=mO(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Qf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=xv(e,h[m]);if(g){const{transitionEnd:x,transition:w,...p}=g;for(const v in p){let b=p[v];if(Array.isArray(b)){const j=d?b.length-1:0;b=b[j]}b!==null&&(i[v]=b)}for(const v in x)i[v]=x[v]}}}return i}const bO=e=>(t,r)=>{const n=y.useContext(Jf),i=y.useContext(Yf),s=()=>mB(e,t,n,i);return r?s():jo(s)};function bv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(It(n[a])||t.style&&It(t.style[a])||pO(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const gB=bO({scrapeMotionValuesFromProps:bv,createRenderState:yv});function wO(e,t,r){const n=bv(e,t,r);for(const i in e)if(It(e[i])||It(t[i])){const s=So.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const yB=bO({scrapeMotionValuesFromProps:wO,createRenderState:vO}),vB=Symbol.for("motionComponentSymbol");function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xB(e,t,r){return y.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Sa(r)&&(r.current=n))},[t])}const wv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),bB="framerAppearId",jO="data-"+wv(bB),NO=y.createContext({});function wB(e,t,r,n,i){var x,w;const{visualElement:s}=y.useContext(Jf),a=y.useContext(fO),l=y.useContext(Yf),c=y.useContext(Xf).reducedMotion,u=y.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=y.useContext(NO);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&jB(u.current,r,i,f);const h=y.useRef(!1);y.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[jO],g=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Gf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function jB(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:SO(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Sa(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function SO(e){if(e)return e.options.allowProjection!==!1?e.projection:SO(e.parent)}function Um(e,{forwardMotionProps:t=!1}={},r,n){r&&Y4(r);const i=vv(e)?yB:gB;function s(l,c){let u;const d={...y.useContext(Xf),...l,layoutId:NB(l)},{isStatic:f}=d,h=eB(l),m=i(l,f);if(!f&&W0){SB();const g=PB(d);u=g.MeasureLayout,h.visualElement=wB(e,m,d,n,g.ProjectionNode)}return o.jsxs(Jf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,hB(e,l,xB(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=y.forwardRef(s);return a[vB]=e,a}function NB({layoutId:e}){const t=y.useContext(U0).id;return t&&e!==void 0?t+"-"+e:e}function SB(e,t){y.useContext(fO).strict}function PB(e){const{drag:t,layout:r}=eo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function _B(e,t){if(typeof Proxy>"u")return Um;const r=new Map,n=(s,a)=>Um(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,Um(a,void 0,e,t)),r.get(a))})}function PO({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function kB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function OB(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Wm(e){return e===void 0||e===1}function zg({scale:e,scaleX:t,scaleY:r}){return!Wm(e)||!Wm(t)||!Wm(r)}function ds(e){return zg(e)||_O(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function _O(e){return $1(e.x)||$1(e.y)}function $1(e){return e&&e!=="0%"}function Id(e,t,r){const n=e-r,i=t*n;return r+i}function I1(e,t,r,n,i){return i!==void 0&&(e=Id(e,i,n)),Id(e,r,n)+t}function Ug(e,t=0,r=1,n,i){e.min=I1(e.min,t,r,n,i),e.max=I1(e.max,t,r,n,i)}function kO(e,{x:t,y:r}){Ug(e.x,t.translate,t.scale,t.originPoint),Ug(e.y,r.translate,r.scale,r.originPoint)}const L1=.999999999999,B1=1.0000000000001;function AB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_a(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,kO(e,a)),n&&ds(s.latestValues)&&_a(e,s.latestValues))}t.x<B1&&t.x>L1&&(t.x=1),t.y<B1&&t.y>L1&&(t.y=1)}function Pa(e,t){e.min=e.min+t,e.max=e.max+t}function F1(e,t,r,n,i=.5){const s=Ke(e.min,e.max,i);Ug(e,t,r,s,n)}function _a(e,t){F1(e.x,t.x,t.scaleX,t.scale,t.originX),F1(e.y,t.y,t.scaleY,t.scale,t.originY)}function OO(e,t){return PO(OB(e.getBoundingClientRect(),t))}function EB(e,t,r){const n=OO(e,r),{scroll:i}=t;return i&&(Pa(n.x,i.offset.x),Pa(n.y,i.offset.y)),n}const z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:z1(),y:z1()}),U1=()=>({min:0,max:0}),rt=()=>({x:U1(),y:U1()}),Wg={current:null},AO={current:!1};function CB(){if(AO.current=!0,!!W0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Wg.current=e.matches;e.addEventListener("change",t),t()}else Wg.current=!1}const TB=new WeakMap;function MB(e,t,r){for(const n in t){const i=t[n],s=r[n];if(It(i))e.addValue(n,i);else if(It(s))e.addValue(n,an(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,an(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const W1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class DB{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=sr.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ke.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Zf(r),this.isVariantNode=mO(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&It(m)&&m.set(c[h])}}mount(t){var r;this.current=t,TB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),AO.current||CB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Wg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),un(this.notifyUpdate),un(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Po.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const r=eo[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<W1.length;n++){const i=W1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=MB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=an(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(x2(n)||w2(n))?n=parseFloat(n):!V4(n)&&Ui.test(r)&&(n=nO(t,r)),this.setBaseTarget(t,It(n)?n.get():n)),It(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=xv(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!It(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new q0),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){dv.render(this.render)}}class EO extends DB{constructor(){super(...arguments),this.KeyframeResolver=N4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;It(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function CO(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function RB(e){return window.getComputedStyle(e)}class $B extends EO{constructor(){super(...arguments),this.type="html",this.renderInstance=CO}readValueFromInstance(t,r){var n;if(Po.has(r))return(n=this.projection)!=null&&n.isProjecting?Dg(r):W3(t,r);{const i=RB(t),s=(J0(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return OO(t,r)}build(t,r,n){gv(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return bv(t,r,n)}}const TO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function IB(e,t,r,n){CO(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(TO.has(i)?i:wv(i),t.attrs[i])}class LB extends EO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Po.has(r)){const n=rO(r);return n&&n.default||0}return r=TO.has(r)?r:wv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return wO(t,r,n)}build(t,r,n){yO(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){IB(t,r,n,i)}mount(t){this.isSVGTag=xO(t.tagName),super.mount(t)}}const BB=(e,t)=>vv(e)?new LB(t):new $B(t,{allowProjection:e!==y.Fragment});function Ba(e,t,r){const n=e.getProps();return xv(n,t,r!==void 0?r:n.custom,e)}const Vg=e=>Array.isArray(e);function FB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,an(r))}function zB(e){return Vg(e)?e[e.length-1]||0:e}function UB(e,t){const r=Ba(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=zB(s[a]);FB(e,a,l)}}function WB(e){return!!(It(e)&&e.add)}function Kg(e,t){const r=e.getValue("willChange");if(WB(r))return r.add(t);if(!r&&Xn.WillChange){const n=new Xn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function MO(e){return e.props[jO]}const VB=e=>e!==null;function KB(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(VB),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const HB={type:"spring",stiffness:500,damping:25,restSpeed:10},qB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),GB={type:"keyframes",duration:.8},YB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},XB=(e,{keyframes:t})=>t.length>2?GB:Po.has(e)?e.startsWith("scale")?qB(t[1]):HB:YB;function JB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jv=(e,t,r,n={},i,s)=>a=>{const l=lv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Nn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};JB(l)||Object.assign(d,XB(e,d)),d.duration&&(d.duration=Nn(d.duration)),d.repeatDelay&&(d.repeatDelay=Nn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Bg(d),d.delay===0&&(f=!0)),(Xn.instantAnimations||Xn.skipAnimations)&&(f=!0,Bg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=KB(d.keyframes,l);if(h!==void 0){ke.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new av(d):new d4(d)};function QB({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function DO(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&QB(u,d))continue;const m={delay:r,...lv(s||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const p=MO(e);if(p){const v=window.MotionHandoffAnimation(p,d,ke);v!==null&&(m.startTime=v,x=!0)}}Kg(e,d),f.start(jv(d,f,h,e.shouldReduceMotion&&Z2.has(d)?{type:!1}:m,e,x));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{ke.update(()=>{a&&UB(e,a)})}),c}function RO(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function Hg(e,t,r={}){var c;const n=Ba(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(DO(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return ZB(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function ZB(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Hg(c,t,{...a,delay:r+(typeof n=="function"?0:n)+RO(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function e5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Hg(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Hg(e,t,r);else{const i=typeof t=="function"?Ba(e,t,r.custom):t;n=Promise.all(DO(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function $O(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const t5=pv.length;function IO(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?IO(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<t5;r++){const n=pv[r],i=e.props[n];(ic(i)||i===!1)&&(t[n]=i)}return t}const r5=[...mv].reverse(),n5=mv.length;function i5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>e5(e,r,n)))}function s5(e){let t=i5(e),r=V1(),n=!0;const i=c=>(u,d)=>{var h;const f=Ba(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=IO(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let w=0;w<n5;w++){const p=r5[w],v=r[p],b=u[p]!==void 0?u[p]:d[p],j=ic(b),N=p===c?v.isActive:null;N===!1&&(g=w);let S=b===d[p]&&b!==u[p]&&j;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&N===null||!b&&!v.prevProp||Qf(b)||typeof b=="boolean")continue;const P=a5(v.prevProp,b);let O=P||p===c&&v.isActive&&!S&&j||w>g&&j,D=!1;const T=Array.isArray(b)?b:[b];let C=T.reduce(i(p),{});N===!1&&(C={});const{prevResolvedValues:z={}}=v,$={...z,...C},_=W=>{O=!0,h.has(W)&&(D=!0,h.delete(W)),v.needsAnimating[W]=!0;const k=e.getValue(W);k&&(k.liveStyle=!1)};for(const W in $){const k=C[W],E=z[W];if(m.hasOwnProperty(W))continue;let K=!1;Vg(k)&&Vg(E)?K=!$O(k,E):K=k!==E,K?k!=null?_(W):h.add(W):k!==void 0&&h.has(W)?_(W):v.protectedKeys[W]=!0}v.prevProp=b,v.prevResolvedValues=C,v.isActive&&(m={...m,...C}),n&&e.blockInitialAnimation&&(O=!1);const A=S&&P;O&&(!A||D)&&f.push(...T.map(W=>{const k={type:p};if(typeof W=="string"&&n&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:E}=e,K=Ba(E,W);if(E.enteringChildren&&K){const{delayChildren:Y}=K.transition||{};k.delay=RO(E.enteringChildren,e,Y)}}return{animation:W,options:k}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const p=Ba(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}h.forEach(p=>{const v=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),w[p]=v??null}),f.push({animation:w})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=V1(),n=!0}}}function a5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!$O(t,e):!1}function os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Xi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class o5 extends Xi{constructor(t){super(t),t.animationState||(t.animationState=s5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Qf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let l5=0;class c5 extends Xi{constructor(){super(...arguments),this.id=l5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const u5={animation:{Feature:o5},exit:{Feature:c5}};function ac(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Tc(e){return{point:{x:e.pageX,y:e.pageY}}}const d5=e=>t=>fv(t)&&e(t,Tc(t));function Tl(e,t,r,n){return ac(e,t,d5(r),n)}const LO=1e-4,f5=1-LO,h5=1+LO,BO=.01,m5=0-BO,p5=0+BO;function Wt(e){return e.max-e.min}function g5(e,t,r){return Math.abs(e-t)<=r}function K1(e,t,r,n=.5){e.origin=n,e.originPoint=Ke(t.min,t.max,e.origin),e.scale=Wt(r)/Wt(t),e.translate=Ke(r.min,r.max,e.origin)-e.originPoint,(e.scale>=f5&&e.scale<=h5||isNaN(e.scale))&&(e.scale=1),(e.translate>=m5&&e.translate<=p5||isNaN(e.translate))&&(e.translate=0)}function Ml(e,t,r,n){K1(e.x,t.x,r.x,n?n.originX:void 0),K1(e.y,t.y,r.y,n?n.originY:void 0)}function H1(e,t,r){e.min=r.min+t.min,e.max=e.min+Wt(t)}function y5(e,t,r){H1(e.x,t.x,r.x),H1(e.y,t.y,r.y)}function q1(e,t,r){e.min=t.min-r.min,e.max=e.min+Wt(t)}function Dl(e,t,r){q1(e.x,t.x,r.x),q1(e.y,t.y,r.y)}function Mr(e){return[e("x"),e("y")]}const FO=({current:e})=>e?e.ownerDocument.defaultView:null,G1=(e,t)=>Math.abs(e-t);function v5(e,t){const r=G1(e.x,t.x),n=G1(e.y,t.y);return Math.sqrt(r**2+n**2)}class zO{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Km(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=v5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:x}=h,{timestamp:w}=xt;this.history.push({...x,timestamp:w});const{onStart:p,onMove:v}=this.handlers;m||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Vm(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Km(h.type==="pointercancel"?this.lastMoveEventInfo:Vm(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,p),x&&x(h,p)},!fv(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Tc(t),c=Vm(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=xt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Km(c,this.history)),this.removeListeners=Ac(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),un(this.updatePoint)}}function Vm(e,t){return t?{point:t(e.point)}:e}function Y1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Km({point:e},t){return{point:e,delta:Y1(e,UO(t)),offset:Y1(e,x5(t)),velocity:b5(t,.1)}}function x5(e){return e[0]}function UO(e){return e[e.length-1]}function b5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=UO(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Nn(t)));)r--;if(!n)return{x:0,y:0};const s=Sn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function w5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ke(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ke(r,e,n.max):Math.min(e,r)),e}function X1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function j5(e,{top:t,left:r,bottom:n,right:i}){return{x:X1(e.x,r,i),y:X1(e.y,t,n)}}function J1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function N5(e,t){return{x:J1(e.x,t.x),y:J1(e.y,t.y)}}function S5(e,t){let r=.5;const n=Wt(e),i=Wt(t);return i>n?r=Za(t.min,t.max-n,e.min):n>i&&(r=Za(e.min,e.max-i,t.min)),On(0,1,r)}function P5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const qg=.35;function _5(e=qg){return e===!1?e=0:e===!0&&(e=qg),{x:Q1(e,"left","right"),y:Q1(e,"top","bottom")}}function Q1(e,t,r){return{min:Z1(e,t),max:Z1(e,r)}}function Z1(e,t){return typeof e=="number"?e:e[t]||0}const k5=new WeakMap;class O5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Tc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_4(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(p=>{let v=this.getAxisMotionValue(p).get()||0;if(Pn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const j=b.layout.layoutBox[p];j&&(v=Wt(j)*(parseFloat(v)/100))}}this.originPoint[p]=v}),x&&ke.postRender(()=>x(f,h)),Kg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=h;if(g&&this.currentDirection===null){this.currentDirection=A5(p),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Mr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new zO(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:FO(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ke.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Nu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=w5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=j5(n.layoutBox,t):this.constraints=!1,this.elastic=_5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Mr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=P5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Sa(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=EB(n,i.root,this.visualElement.getTransformPagePoint());let a=N5(i.layout.layoutBox,s);if(r){const l=r(kB(a));this.hasMutatedConstraints=!!l,l&&(a=PO(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Mr(d=>{if(!Nu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Kg(this.visualElement,t),n.start(jv(t,n,0,r,this.visualElement,!1))}stopAnimation(){Mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Mr(r=>{const{drag:n}=this.getProps();if(!Nu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Ke(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Mr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=S5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Mr(a=>{if(!Nu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ke(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;k5.set(this.visualElement,this);const t=this.visualElement.current,r=Tl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Sa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ke.read(n);const a=ac(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Mr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=qg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Nu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function A5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class E5 extends Xi{constructor(t){super(t),this.removeGroupControls=ur,this.removeListeners=ur,this.controls=new O5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ur}unmount(){this.removeGroupControls(),this.removeListeners()}}const ej=e=>(t,r)=>{e&&ke.postRender(()=>e(t,r))};class C5 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=ur}onPointerDown(t){this.session=new zO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:FO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ej(t),onStart:ej(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ke.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(de.test(e))e=parseFloat(e);else return e;const r=tj(e,t.target.x),n=tj(e,t.target.y);return`${r}% ${n}%`}},T5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ui.parse(e);if(i.length>5)return n;const s=Ui.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Ke(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Hm=!1;class M5 extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;tB(D5),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Hm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Hm=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Hm=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function WO(e){const[t,r]=dO(),n=y.useContext(U0);return o.jsx(M5,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(NO),isPresent:t,safeToRemove:r})}const D5={borderRadius:{...Zo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zo,borderTopRightRadius:Zo,borderBottomLeftRadius:Zo,borderBottomRightRadius:Zo,boxShadow:T5};function R5(e,t,r){const n=It(e)?e:an(e);return n.start(jv("",n,t,r)),n.animation}const $5=(e,t)=>e.depth-t.depth;class I5{constructor(){this.children=[],this.isDirty=!1}add(t){V0(this.children,t),this.isDirty=!0}remove(t){K0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort($5),this.isDirty=!1,this.children.forEach(t)}}function L5(e,t){const r=sr.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(un(n),e(s-t))};return ke.setup(n,!0),()=>un(n)}const VO=["TopLeft","TopRight","BottomLeft","BottomRight"],B5=VO.length,rj=e=>typeof e=="string"?parseFloat(e):e,nj=e=>typeof e=="number"||de.test(e);function F5(e,t,r,n,i,s){i?(e.opacity=Ke(0,r.opacity??1,z5(n)),e.opacityExit=Ke(t.opacity??1,0,U5(n))):s&&(e.opacity=Ke(t.opacity??1,r.opacity??1,n));for(let a=0;a<B5;a++){const l=`border${VO[a]}Radius`;let c=ij(t,l),u=ij(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||nj(c)===nj(u)?(e[l]=Math.max(Ke(rj(c),rj(u),n),0),(Pn.test(u)||Pn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ke(t.rotate||0,r.rotate||0,n))}function ij(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const z5=KO(0,.5,O2),U5=KO(.5,.95,ur);function KO(e,t,r){return n=>n<e?0:n>t?1:r(Za(e,t,n))}function sj(e,t){e.min=t.min,e.max=t.max}function Ar(e,t){sj(e.x,t.x),sj(e.y,t.y)}function aj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oj(e,t,r,n,i){return e-=t,e=Id(e,1/r,n),i!==void 0&&(e=Id(e,1/i,n)),e}function W5(e,t=0,r=1,n=.5,i,s=e,a=e){if(Pn.test(t)&&(t=parseFloat(t),t=Ke(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ke(s.min,s.max,n);e===s&&(l-=t),e.min=oj(e.min,t,r,l,i),e.max=oj(e.max,t,r,l,i)}function lj(e,t,[r,n,i],s,a){W5(e,t[r],t[n],t[i],t.scale,s,a)}const V5=["x","scaleX","originX"],K5=["y","scaleY","originY"];function cj(e,t,r,n){lj(e.x,t,V5,r?r.x:void 0,n?n.x:void 0),lj(e.y,t,K5,r?r.y:void 0,n?n.y:void 0)}function uj(e){return e.translate===0&&e.scale===1}function HO(e){return uj(e.x)&&uj(e.y)}function dj(e,t){return e.min===t.min&&e.max===t.max}function H5(e,t){return dj(e.x,t.x)&&dj(e.y,t.y)}function fj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qO(e,t){return fj(e.x,t.x)&&fj(e.y,t.y)}function hj(e){return Wt(e.x)/Wt(e.y)}function mj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class q5{constructor(){this.members=[]}add(t){V0(this.members,t),t.scheduleRender()}remove(t){if(K0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function G5(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const qm=["","X","Y","Z"],Y5=1e3;let X5=0;function Gm(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function GO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=MO(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ke,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&GO(n)}function YO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=X5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Z5),this.nodes.forEach(nF),this.nodes.forEach(iF),this.nodes.forEach(eF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new I5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new q0),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=hv(a)&&!z4(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=L5(h,250),nd.hasAnimatedSinceResize&&(nd.hasAnimatedSinceResize=!1,this.nodes.forEach(yj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||cF,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=u.getProps(),p=!this.targetLayout||!qO(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...lv(g,"layout"),onPlay:x,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||yj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),un(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&GO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(rF),this.nodes.forEach(J5),this.nodes.forEach(Q5)):this.nodes.forEach(gj),this.clearAllSnapshots();const l=sr.now();xt.delta=On(0,1e3/60,l-xt.timestamp),xt.timestamp=l,xt.isProcessing=!0,$m.update.process(xt),$m.preRender.process(xt),$m.render.process(xt),xt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(tF),this.sharedNodes.forEach(aF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Wt(this.snapshot.measuredBox.x)&&!Wt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!HO(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||ds(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),uF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(dF))){const{scroll:d}=this.root;d&&(Pa(l.x,d.offset.x),Pa(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=rt();if(Ar(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ar(l,a),Pa(l.x,f.offset.x),Pa(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=rt();Ar(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&_a(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ds(d.latestValues)&&_a(c,d.latestValues)}return ds(this.latestValues)&&_a(c,this.latestValues),c}removeTransform(a){const l=rt();Ar(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ds(u.latestValues))continue;zg(u.latestValues)&&u.updateSnapshot();const d=rt(),f=u.measurePageBox();Ar(d,f),cj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ds(this.latestValues)&&cj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==xt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=xt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Dl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),y5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),kO(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Dl(this.relativeTargetOrigin,this.target,m.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||zg(this.parent.latestValues)||_O(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===xt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ar(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;AB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aj(this.prevProjectionDelta.x,this.projectionDelta.x),aj(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!mj(this.projectionDelta.x,this.prevProjectionDelta.x)||!mj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=rt(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,w=this.getStack(),p=!w||w.members.length<=1,v=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(lF));this.animationProgress=0;let b;this.mixTargetDelta=j=>{const N=j/1e3;vj(f.x,a.x,N),vj(f.y,a.y,N),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oF(this.relativeTarget,this.relativeTargetOrigin,h,N),b&&H5(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=rt()),Ar(b,this.relativeTarget)),x&&(this.animationValues=d,F5(d,u,this.latestValues,N,v,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(un(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=an(0)),this.currentAnimation=R5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&XO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const f=Wt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Wt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Ar(l,c),_a(l,d),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new q5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Gm("z",a,u,this.animationValues);for(let d=0;d<qm.length;d++)Gm(`rotate${qm[d]}`,a,u,this.animationValues),Gm(`skew${qm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=rd(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=rd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=G5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in sc){if(d[g]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:p}=sc[g],v=f==="none"?d[g]:x(d[g],u);if(w){const b=w.length;for(let j=0;j<b;j++)a[w[j]]=v}else p?this.options.visualElement.renderState.vars[g]=v:a[g]=v}this.options.layoutId&&(a.pointerEvents=u===this?rd(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(pj),this.root.sharedNodes.clear()}}}function J5(e){e.updateLayout()}function Q5(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Wt(h);h.min=n[f].min,h.max=h.min+m}):XO(s,t.layoutBox,n)&&Mr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Wt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ka();Ml(l,n,t.layoutBox);const c=ka();a?Ml(c,e.applyTransform(i,!0),t.measuredBox):Ml(c,n,t.layoutBox);const u=!HO(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=rt();Dl(g,t.layoutBox,h.layoutBox);const x=rt();Dl(x,n,m.layoutBox),qO(g,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function Z5(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function eF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function tF(e){e.clearSnapshot()}function pj(e){e.clearMeasurements()}function gj(e){e.isLayoutDirty=!1}function rF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function nF(e){e.resolveTargetDelta()}function iF(e){e.calcProjection()}function sF(e){e.resetSkewAndRotation()}function aF(e){e.removeLeadSnapshot()}function vj(e,t,r){e.translate=Ke(t.translate,0,r),e.scale=Ke(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function xj(e,t,r,n){e.min=Ke(t.min,r.min,n),e.max=Ke(t.max,r.max,n)}function oF(e,t,r,n){xj(e.x,t.x,r.x,n),xj(e.y,t.y,r.y,n)}function lF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const cF={duration:.45,ease:[.4,0,.1,1]},bj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wj=bj("applewebkit/")&&!bj("chrome/")?Math.round:ur;function jj(e){e.min=wj(e.min),e.max=wj(e.max)}function uF(e){jj(e.x),jj(e.y)}function XO(e,t,r){return e==="position"||e==="preserve-aspect"&&!g5(hj(t),hj(r),.2)}function dF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const fF=YO({attachResizeListener:(e,t)=>ac(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ym={current:void 0},JO=YO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Ym.current){const e=new fF({});e.mount(window),e.setOptions({layoutScroll:!0}),Ym.current=e}return Ym.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),hF={pan:{Feature:C5},drag:{Feature:E5,ProjectionNode:JO,MeasureLayout:WO}};function Nj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ke.postRender(()=>s(t,Tc(t)))}class mF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=k4(t,(r,n)=>(Nj(this.node,n,"Start"),i=>Nj(this.node,i,"End"))))}unmount(){}}class pF extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ac(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ke.postRender(()=>s(t,Tc(t)))}class gF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=C4(t,(r,n)=>(Sj(this.node,n,"Start"),(i,{success:s})=>Sj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gg=new WeakMap,Xm=new WeakMap,yF=e=>{const t=Gg.get(e.target);t&&t(e)},vF=e=>{e.forEach(yF)};function xF({root:e,...t}){const r=e||document;Xm.has(r)||Xm.set(r,{});const n=Xm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(vF,{root:e,...t})),n[i]}function bF(e,t,r){const n=xF(t);return Gg.set(e,r),n.observe(e),()=>{Gg.delete(e),n.unobserve(e)}}const wF={some:0,all:1};class jF extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:wF[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return bF(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(NF(t,r))&&this.startObserver()}unmount(){}}function NF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const SF={inView:{Feature:jF},tap:{Feature:gF},focus:{Feature:pF},hover:{Feature:mF}},PF={layout:{ProjectionNode:JO,MeasureLayout:WO}},_F={...u5,...SF,...hF,...PF},Le=_B(_F,BB),kF=50,Pj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),OF=()=>({time:0,x:Pj(),y:Pj()}),AF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function _j(e,t,r,n){const i=r[t],{length:s,position:a}=AF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Za(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>kF?0:G0(i.current-l,u)}function EF(e,t,r){_j(e,"x",t,r),_j(e,"y",t,r),t.time=r}function CF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(uv(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Yg={start:0,center:.5,end:1};function kj(e,t,r=0){let n=0;if(e in Yg&&(e=Yg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const TF=[0,0];function MF(e,t,r,n){let i=Array.isArray(e)?e:TF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Yg[e]?e:"0"]),s=kj(i[0],r,n),a=kj(i[1],t),s-a}const DF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},RF={x:0,y:0};function $F(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function IF(e,t,r){const{offset:n=DF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?CF(i,e):RF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:$F(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=MF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=nv(t[s].offset,W2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=On(0,1,t[s].interpolate(t[s].current))}function LF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function BF(e,t,r,n={}){return{measure:i=>{LF(e,n.target,r),EF(e,r,i),(n.offset||n.target)&&IF(e,r,n)},notify:()=>t(r)}}const el=new WeakMap,Oj=new WeakMap,Jm=new WeakMap,Aj=e=>e===document.scrollingElement?window:e;function QO(e,{container:t=document.scrollingElement,...r}={}){if(!t)return ur;let n=Jm.get(t);n||(n=new Set,Jm.set(t,n));const i=OF(),s=BF(t,e,i,r);if(n.add(s),!el.has(t)){const l=()=>{for(const f of n)f.measure(xt.timestamp);ke.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>ke.read(l);el.set(t,u);const d=Aj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Oj.set(t,F4(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=el.get(t);return ke.read(a,!1,!0),()=>{var u;un(a);const l=Jm.get(t);if(!l||(l.delete(s),l.size))return;const c=el.get(t);el.delete(t),c&&(Aj(t).removeEventListener("scroll",c),(u=Oj.get(t))==null||u(),window.removeEventListener("resize",c))}}const Ej=new Map;function FF(e){const t={value:0},r=QO(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function ZO({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Ej.get(t)??new Map;Ej.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&q2()?new ScrollTimeline({source:t,axis:n}):FF({container:t,...r})),a[l]}function zF(e,t){const r=ZO(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),uO(i=>{n.time=n.duration*i},r))})}function UF(e){return e.length===2}function WF(e,t){return UF(e)?QO(r=>{e(r[t.axis].progress,r)},t):uO(e,ZO(t))}function VF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return ur;const i={axis:t,container:r,...n};return typeof e=="function"?WF(e,i):zF(e,i)}const KF=()=>({scrollX:an(0),scrollY:an(0),scrollXProgress:an(0),scrollYProgress:an(0)}),Su=e=>e?!e.current:!1;function HF({container:e,target:t,...r}={}){const n=jo(KF),i=y.useRef(null),s=y.useRef(!1),a=y.useCallback(()=>(i.current=VF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Gf(()=>{if(s.current=!1,Su(e)||Su(t)){s.current=!0;return}else return a()},[a]),y.useEffect(()=>{if(s.current)return Qa(!Su(e)),Qa(!Su(t)),a()},[a]),n}function qF(e){const t=jo(()=>an(e)),{isStatic:r}=y.useContext(Xf);if(r){const[,n]=y.useState(e);y.useEffect(()=>t.on("change",n),[])}return t}function eA(e,t){const r=qF(t()),n=()=>r.set(t());return n(),Gf(()=>{const i=()=>ke.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),un(n)}}),r}function GF(e){Cl.current=[],e();const t=eA(Cl.current,e);return Cl.current=void 0,t}function Qm(e,t,r,n){if(typeof e=="function")return GF(e);const i=typeof t=="function"?t:U4(t,r,n);return Array.isArray(e)?Cj(e,i):Cj([e],([s])=>i(s))}function Cj(e,t){const r=jo(()=>[]);return eA(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Tj({onViewChange:e}){var k,E,K,Y,J,xe;const{user:t,logout:r}=dr(),[n,i]=y.useState(!1),[s,a]=y.useState(!1),[l,c]=y.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState([]),[x,w]=y.useState([]),[p,v]=y.useState([]),[b,j]=y.useState(!0),[N,S]=y.useState("all"),[P,O]=y.useState(0),D=y.useRef(null),{scrollYProgress:T}=HF(D.current?{target:D,offset:["start start","end start"],layoutEffect:!1}:void 0),C=Qm(T,[0,1],[0,-200]),z=Qm(T,[0,.5],[1,0]),$=Qm(T,[0,1],[0,-100]),_=async()=>{try{const{data:U}=await Z.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!U)return;const B={};U.forEach(I=>{const{player1_name:V,player2_name:M,winner_name:X}=I;B[V]||(B[V]={wins:0,total:0,tournaments:new Set}),B[M]||(B[M]={wins:0,total:0,tournaments:new Set}),B[V].total++,B[M].total++,X===V?B[V].wins++:X===M&&B[M].wins++});const Q=Object.entries(B).map(([I,V])=>({name:I,wins:V.wins,tournaments:V.tournaments.size,winRate:V.total>0?Math.round(V.wins/V.total*100):0})).filter(I=>I.wins>0).sort((I,V)=>V.wins!==I.wins?V.wins-I.wins:V.winRate-I.winRate).slice(0,5);h(Q)}catch(U){console.error("Error fetching top players:",U)}},A=async()=>{try{const{data:U}=await Z.from("tournaments").select("*"),{data:B}=await Z.from("match_results").select("*"),Q=new Set;B==null||B.forEach(M=>{M.player1_name&&Q.add(M.player1_name),M.player2_name&&Q.add(M.player2_name)});const I=new Date,V=(U==null?void 0:U.filter(M=>new Date(M.tournament_date)>I&&M.status!=="completed"))||[];c({totalTournaments:(U==null?void 0:U.length)||0,activePlayers:Q.size,upcomingEvents:V.length,completedMatches:(B==null?void 0:B.length)||0}),d(V.slice(0,3)),v(U||[])}catch(U){console.error("Error fetching dashboard stats:",U)}},F=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:U}=await Z.from("deck_presets").select("*").eq("user_id",t.id);g(U||[])}catch(U){console.error("Error fetching deck presets:",U)}},W=async()=>{try{let U=Z.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});N!=="all"&&(U=U.eq("tournament_id",N));const{data:B}=await U.limit(20);w(B||[])}catch(U){console.error("Error fetching recent matches:",U)}};return y.useEffect(()=>{(async()=>{j(!0),await Promise.all([A(),_(),F(),W()]),j(!1)})()},[t]),y.useEffect(()=>{W()},[N]),y.useEffect(()=>{if(f.length<=1)return;const U=setInterval(()=>{O(B=>(B+1)%f.length)},5e3);return()=>clearInterval(U)},[f.length]),b?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(ju,{children:n&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(g2,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(m2,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(h2,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Le.section,{ref:D,style:{y:C,opacity:z},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(ct,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Qo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx(wn,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Qo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Le.div,{style:{y:$},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:ct,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:it,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:zi,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:wo,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((U,B)=>o.jsxs(Le.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:B*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${U.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${U.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(U.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:U.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:U.label})]},U.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Jump into action with our most popular features"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(ct,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles and view tournament brackets"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString(),"  ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-blue-200 text-sm",children:[u[0].current_participants,"/",u[0].max_participants," registered"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(kc,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed  Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Oc,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory  Save presets  Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(ju,{mode:"wait",children:o.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(k=f[P])==null?void 0:k.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(OL,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(E=f[P])==null?void 0:E.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(y2,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(K=f[P])==null?void 0:K.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(Y=f[P])==null?void 0:Y.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(J=f[P])==null?void 0:J.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((U,B)=>o.jsx("button",{onClick:()=>O(B),className:`w-3 h-3 rounded-full transition-all duration-300 ${B===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},B))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:N,onChange:U=>S(U.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),p.map(U=>o.jsx("option",{value:U.id,children:U.name},U.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(ju,{mode:"wait",children:x.length===0?o.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Xa,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:N==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((xe=p.find(U=>U.id===N))==null?void 0:xe.name)||"this tournament"}`})]}):o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:x.slice(0,6).map((U,B)=>{var Q;return o.jsx(Le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:B*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:U.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",U.winner_name===U.player1_name?U.player2_name:U.player1_name]})]})]}),(U.player1_beyblade||U.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:U.winner_name===U.player1_name?`${U.player1_beyblade||"Unknown"} vs ${U.player2_beyblade||"Unknown"}`:`${U.player2_beyblade||"Unknown"} vs ${U.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((Q=U.outcome)==null?void 0:Q.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(U.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${U.tournament_id}-${U.submitted_at}-${B}`)})})})]})})}),o.jsx(Le.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay  Powered by Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.5.3"})]})]})})})]}),o.jsx(ju,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Le.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(v2,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Gt,{size:16})})]})})]})})]})}function YF({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(Oc,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(As,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(Hf,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx(Xa,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(z0,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function XF({tournament:e,onClose:t}){var J,xe,U;const{user:r}=dr(),{alert:n}=Yi(),[i,s]=y.useState(""),[a,l]=y.useState(e.is_free?"free":"cash"),[c,u]=y.useState([{id:"1",bladeLine:"",parts:{}}]),[d,f]=y.useState([]),[h,m]=y.useState(""),[g,x]=y.useState(!1),[w,p]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(!1),[j,N]=y.useState(null),[S,P]=y.useState([]);y.useEffect(()=>{g&&r&&!r.id.startsWith("guest-")?s(r.username):g||s("")},[g,r]),y.useEffect(()=>{O(),D(),T()},[]);const O=async()=>{b(!0),N(null);try{const[B,Q,I,V,M]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);if(B.error)throw B.error;if(Q.error)throw Q.error;if(I.error)throw I.error;if(V.error)throw V.error;if(M.error)throw M.error;p({blades:B.data||[],ratchets:Q.data||[],bits:I.data||[],lockchips:V.data||[],assistBlades:M.data||[]})}catch(B){console.error(B),N("Failed to load Beyblade parts. Please try again.")}finally{b(!1)}},D=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:B,error:Q}=await Z.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(Q)throw Q;f(B||[])}catch(B){console.error(B)}},T=async()=>{try{const{data:B,error:Q}=await Z.from("tournament_registrations").select("player_name").eq("tournament_id",e.id).eq("status","confirmed");if(Q)throw Q;P((B||[]).map(I=>I.player_name.toLowerCase().trim()))}catch(B){console.error("Error fetching player names",B)}},C=B=>{switch(B){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},z=(B,Q)=>{let I=[];switch(Q){case"Blade":I=w.blades.filter(V=>V.Line===B);break;case"Main Blade":I=w.blades.filter(V=>V.Line==="Custom");break;case"Ratchet":I=w.ratchets;break;case"Bit":I=w.bits;break;case"Lockchip":I=w.lockchips;break;case"Assist Blade":I=w.assistBlades;break}return I.sort((V,M)=>$(V,Q).localeCompare($(M,Q)))},$=(B,Q)=>{switch(Q){case"Blade":case"Main Blade":return B.Blades;case"Ratchet":return B.Ratchet;case"Bit":return`${B.Bit} (${B.Shortcut})`;case"Lockchip":return B.Lockchip;case"Assist Blade":return`${B["Assist Blade Name"]} (${B["Assist Blade"]})`;default:return""}},_=B=>{if(!C(B.bladeLine).every(I=>B.parts[I]))return"";if(B.bladeLine==="Custom"){const{Lockchip:I,"Main Blade":V,"Assist Blade":M,Ratchet:X,Bit:oe}=B.parts;return`${(I==null?void 0:I.Lockchip)||""}${(V==null?void 0:V.Blades)||""} ${(M==null?void 0:M["Assist Blade"])||""}${(X==null?void 0:X.Ratchet)||""}${(oe==null?void 0:oe.Shortcut)||""}`}else{const{Blade:I,Ratchet:V,Bit:M}=B.parts;return`${(I==null?void 0:I.Blades)||""} ${(V==null?void 0:V.Ratchet)||""}${(M==null?void 0:M.Shortcut)||""}`}},A=B=>Object.values(B).reduce((Q,I)=>(I&&(Q.attack+=I.Attack||0,Q.defense+=I.Defense||0,Q.stamina+=I.Stamina||0,Q.dash+=I.Dash||0,Q.burstRes+=I["Burst Res"]||0),Q),{attack:0,defense:0,stamina:0,dash:0,burstRes:0}),F=(B,Q,I)=>{u(c.map(V=>V.id===B?{...V,[Q]:I,parts:{}}:V))},W=(B,Q,I)=>{u(c.map(V=>{if(V.id===B){const M={...V.parts,[Q]:I};return{...V,parts:M}}return V}))},k=B=>{c.length>1&&u(c.filter(Q=>Q.id!==B))},E=B=>{const Q=d.find(V=>V.id===B);if(!Q)return;const I=Q.beyblades.slice(0,e.beyblades_per_player).map((V,M)=>({id:(M+1).toString(),bladeLine:V.blade_line,parts:V.parts}));u(I),m("")},K=()=>{if(!i.trim())return!1;const B=i.toLowerCase().trim();return S.includes(B)?!1:c.every(Q=>Q.bladeLine?C(Q.bladeLine).every(V=>Q.parts[V]):!1)},Y=async()=>{var B;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const I=(B=(await Z.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&B.is_free?"confirmed":"unpaid",{data:V,error:M}=await Z.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:I}).select().single();if(M)throw M;for(const X of c){const oe=_(X),{data:R,error:q}=await Z.from("tournament_beyblades").insert({registration_id:V.id,beyblade_name:oe,blade_line:X.bladeLine}).select().single();if(q)throw q;const ee=Object.entries(X.parts).map(([ce,me])=>({beyblade_id:R.id,part_type:ce,part_name:$(me,ce),part_data:me})),{error:ne}=await Z.from("tournament_beyblade_parts").insert(ee);if(ne)throw ne}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(Q){console.error(Q),await n("Registration Failed",Q.message||"Unknown error occurred.")}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[v&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Gt,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[j&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:j}),o.jsx("button",{onClick:O,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Td,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),r&&!r.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:B=>x(B.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(FL,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Registering for myself (",r.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:i,onChange:B=>s(B.target.value),disabled:g,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${g?"bg-gray-100 cursor-not-allowed":""}`}),i.trim()&&S.includes(i.toLowerCase().trim())&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:" This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:a,onChange:B=>l(B.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),!(r!=null&&r.id.startsWith("guest-"))&&d.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(La,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:h,onChange:B=>m(B.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),d.map(B=>o.jsxs("option",{value:B.id,children:[B.name," (",B.beyblades.length," Beyblades)"]},B.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>h&&E(h),disabled:!h,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(J=d.find(B=>B.id===h))==null?void 0:J.beyblades.slice(0,3).map((B,Q)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:[" ",B.name||`Beyblade ${Q+1}`]},Q)),((xe=d.find(B=>B.id===h))==null?void 0:xe.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((U=d.find(B=>B.id===h))==null?void 0:U.beyblades.length)-3," more..."]})]})})]}),c.map((B,Q)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",Q+1]}),c.length>1&&o.jsx("button",{onClick:()=>k(B.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blade Line *"}),o.jsxs("select",{value:B.bladeLine,onChange:I=>F(B.id,"bladeLine",I.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Blade Line"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),B.bladeLine&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:_(B)||"Select all parts to generate name"})]})]}),B.bladeLine&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C(B.bladeLine).map(I=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[I," *"]}),o.jsxs("select",{value:B.parts[I]?JSON.stringify(B.parts[I]):"",onChange:V=>V.target.value&&W(B.id,I,JSON.parse(V.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",I]}),z(B.bladeLine,I).map((V,M)=>o.jsx("option",{value:JSON.stringify(V),children:$(V,I)},M))]})]},I))}),B.bladeLine&&Object.keys(B.parts).length>0&&o.jsx(YF,{stats:A(B.parts)})]},B.id)),c.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>u([...c,{id:Date.now().toString(),bladeLine:"",parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:Y,disabled:!K()||v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function JF(){dr();const{alert:e}=Yi(),[t,r]=y.useState("all"),[n,i]=y.useState(null),[s,a]=y.useState([]),[l,c]=y.useState(!0);Oi.useEffect(()=>{(async()=>{try{const{data:m,error:g}=await Z.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(g)throw g;a(m||[])}catch(m){console.error("Error fetching tournaments:",m),a([])}finally{c(!1)}})()},[]);const u=s.filter(h=>t==="all"||h.status===t),d=(h,m)=>{console.log("Tournament registration:",{playerName:h,beyblades:m}),e("Registration Complete",`Successfully registered ${h} with ${m.length} Beyblades for the tournament!`),i(null)},f=h=>{switch(h){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade battles"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(h=>o.jsx("button",{onClick:()=>r(h),className:`filter-tab capitalize ${t===h?"filter-tab-active":"filter-tab-inactive"}`,children:h},h))})}),l?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(ct,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>o.jsxs("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:h.name}),o.jsx("span",{className:`badge capitalize ${f(h.status)}`,children:h.status})]}),o.jsx("p",{className:"text-gray-600 mb-6 font-inter",children:h.description}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(zi,{size:16,className:"mr-2"}),new Date(h.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(p2,{size:16,className:"mr-2"}),h.location]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(it,{size:16,className:"mr-2"}),h.max_participants===999999?`${h.current_participants} participants (no limit)`:`${h.current_participants}/${h.max_participants} participants`]}),h.prize_pool&&o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(ct,{size:16,className:"mr-2"}),"Prize Pool: ",h.prize_pool]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Hf,{size:16,className:"mr-2"}),"Registration ends: ",new Date(h.registration_deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-2",children:[o.jsx("span",{children:"Registration Progress"}),o.jsx("span",{children:h.max_participants===999999?`${h.current_participants} registered`:`${Math.round(h.current_participants/h.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:h.max_participants===999999?"100%":`${Math.min(h.current_participants/h.max_participants*100,100)}%`}})})]}),h.status==="upcoming"&&o.jsx("button",{onClick:()=>i(h.id),disabled:h.max_participants!==999999&&h.current_participants>=h.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed",children:h.max_participants!==999999&&h.current_participants>=h.max_participants?"Tournament Full":"Register for Tournament"})]},h.id))}),n&&o.jsx(XF,{tournament:u.find(h=>h.id===n),onClose:()=>i(null),onSubmit:d})]})})}function tA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=tA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function pe(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=tA(e))&&(n&&(n+=" "),n+=t);return n}var eh={},rA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(rA);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Nv);var Sv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Sv);var th={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(th);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rA,r=Nv,n=Sv,i=th;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(eh);var QF=eh.get;const Wi=Kr(QF);var nA={exports:{}},Ee={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv=Symbol.for("react.transitional.element"),_v=Symbol.for("react.portal"),rh=Symbol.for("react.fragment"),nh=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),sh=Symbol.for("react.consumer"),ah=Symbol.for("react.context"),oh=Symbol.for("react.forward_ref"),lh=Symbol.for("react.suspense"),ch=Symbol.for("react.suspense_list"),uh=Symbol.for("react.memo"),dh=Symbol.for("react.lazy"),ZF=Symbol.for("react.view_transition"),ez=Symbol.for("react.client.reference");function Hr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Pv:switch(e=e.type,e){case rh:case ih:case nh:case lh:case ch:case ZF:return e;default:switch(e=e&&e.$$typeof,e){case ah:case oh:case dh:case uh:return e;case sh:return e;default:return t}}case _v:return t}}}Ee.ContextConsumer=sh;Ee.ContextProvider=ah;Ee.Element=Pv;Ee.ForwardRef=oh;Ee.Fragment=rh;Ee.Lazy=dh;Ee.Memo=uh;Ee.Portal=_v;Ee.Profiler=ih;Ee.StrictMode=nh;Ee.Suspense=lh;Ee.SuspenseList=ch;Ee.isContextConsumer=function(e){return Hr(e)===sh};Ee.isContextProvider=function(e){return Hr(e)===ah};Ee.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Pv};Ee.isForwardRef=function(e){return Hr(e)===oh};Ee.isFragment=function(e){return Hr(e)===rh};Ee.isLazy=function(e){return Hr(e)===dh};Ee.isMemo=function(e){return Hr(e)===uh};Ee.isPortal=function(e){return Hr(e)===_v};Ee.isProfiler=function(e){return Hr(e)===ih};Ee.isStrictMode=function(e){return Hr(e)===nh};Ee.isSuspense=function(e){return Hr(e)===lh};Ee.isSuspenseList=function(e){return Hr(e)===ch};Ee.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===rh||e===ih||e===nh||e===lh||e===ch||typeof e=="object"&&e!==null&&(e.$$typeof===dh||e.$$typeof===uh||e.$$typeof===ah||e.$$typeof===sh||e.$$typeof===oh||e.$$typeof===ez||e.getModuleId!==void 0)};Ee.typeOf=Hr;nA.exports=Ee;var tz=nA.exports,jt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ie=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),An=e=>ie(e)||typeof e=="string",rz=0,oc=e=>{var t=++rz;return"".concat(e||"").concat(t)},qt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(t)&&typeof t!="string")return n;var s;if(ws(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return wr(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},iA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Oa=(e,t)=>ie(e)&&ie(t)?r=>e+r*(t-e):()=>t;function aa(e,t,r){return ie(e)&&ie(t)?e+r*(t-e):t}function nz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wi(n,t))===r)}var et=e=>e===null||typeof e>"u",Mc=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),iz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kv(e){if(typeof e!="string")return!1;var t=iz;return t.includes(e)}var sz=["viewBox","children"],Mj=["points","pathLength"],Zm={svg:sz,polygon:Mj,polyline:Mj},Ov=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{kv(i)&&(n[i]=s=>r[i](r,s))}),n},az=(e,t,r)=>n=>(e(t,r,n),null),_o=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];kv(i)&&typeof s=="function"&&(n||(n={}),n[i]=az(s,t,r))}),n},oz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function sA(e){if(typeof e!="string")return!1;var t=oz;return t.includes(e)}function Bt(e){var t=Object.entries(e).filter(r=>{var[n]=r;return sA(n)});return Object.fromEntries(t)}var Dj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Rj=null,ep=null,aA=e=>{if(e===Rj&&Array.isArray(ep))return ep;var t=[];return y.Children.forEach(e,r=>{et(r)||(tz.isFragment(r)?t=t.concat(aA(r.props.children)):t.push(r))}),ep=t,Rj=e,t};function Dc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Dj(i)):n=[Dj(t)],aA(e).forEach(i=>{var s=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var lz=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(Zm==null?void 0:Zm[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||sA(t)),c=!!r&&kv(t);return a||l||c},je=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;lz((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},cz=["children","width","height","viewBox","className","style","title","desc"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}function uz(e,t){if(e==null)return{};var r,n,i=dz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oA=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=uz(e,cz),f=s||{width:n,height:i,x:0,y:0},h=pe("recharts-surface",a);return y.createElement("svg",Xg({},je(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),fz=["children","className"];function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(null,arguments)}function hz(e,t){if(e==null)return{};var r,n,i=mz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ge=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=hz(e,fz),s=pe("recharts-layer",n);return y.createElement("g",Jg({className:s},je(i,!0),{ref:t}),r)}),pz=y.createContext(null);function De(e){return function(){return e}}const lA=Math.cos,Ld=Math.sin,dn=Math.sqrt,Bd=Math.PI,fh=2*Bd,Qg=Math.PI,Zg=2*Qg,fs=1e-6,gz=Zg-fs;function cA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function yz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return cA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class vz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?cA:yz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fs)if(!(Math.abs(f*c-u*d)>fs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,g=i-l,x=c*c+u*u,w=m*m+g*g,p=Math.sqrt(x),v=Math.sqrt(h),b=s*Math.tan((Qg-Math.acos((x+h-w)/(2*p*v)))/2),j=b/v,N=b/p;Math.abs(j-1)>fs&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+N*c},${this._y1=r+N*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fs||Math.abs(this._y1-d)>fs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Zg+Zg),h>gz?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>fs&&this._append`A${n},${n},0,${+(h>=Qg)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Av(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new vz(t)}function Ev(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uA(e){this._context=e}uA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function hh(e){return new uA(e)}function dA(e){return e[0]}function fA(e){return e[1]}function hA(e,t){var r=De(!0),n=null,i=hh,s=null,a=Av(l);e=typeof e=="function"?e:e===void 0?dA:De(e),t=typeof t=="function"?t:t===void 0?fA:De(t);function l(c){var u,d=(c=Ev(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:De(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:De(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:De(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function Pu(e,t,r){var n=null,i=De(!0),s=null,a=hh,l=null,c=Av(u);e=typeof e=="function"?e:e===void 0?dA:De(+e),t=typeof t=="function"?t:De(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?fA:De(+r);function u(f){var h,m,g,x=(f=Ev(f)).length,w,p=!1,v,b=new Array(x),j=new Array(x);for(s==null&&(l=a(v=c())),h=0;h<=x;++h){if(!(h<x&&i(w=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],j[g]);l.lineEnd(),l.areaEnd()}p&&(b[h]=+e(w,h,f),j[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):j[h]))}if(v)return l=null,v+""||null}function d(){return hA().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:De(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:De(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:De(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:De(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:De(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class mA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function xz(e){return new mA(e,!0)}function bz(e){return new mA(e,!1)}const Cv={draw(e,t){const r=dn(t/Bd);e.moveTo(r,0),e.arc(0,0,r,0,fh)}},wz={draw(e,t){const r=dn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},pA=dn(1/3),jz=pA*2,Nz={draw(e,t){const r=dn(t/jz),n=r*pA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Sz={draw(e,t){const r=dn(t),n=-r/2;e.rect(n,n,r,r)}},Pz=.8908130915292852,gA=Ld(Bd/10)/Ld(7*Bd/10),_z=Ld(fh/10)*gA,kz=-lA(fh/10)*gA,Oz={draw(e,t){const r=dn(t*Pz),n=_z*r,i=kz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=fh*s/5,l=lA(a),c=Ld(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},tp=dn(3),Az={draw(e,t){const r=-dn(t/(tp*3));e.moveTo(0,r*2),e.lineTo(-tp*r,-r),e.lineTo(tp*r,-r),e.closePath()}},Er=-.5,Cr=dn(3)/2,ey=1/dn(12),Ez=(ey/2+1)*3,Cz={draw(e,t){const r=dn(t/Ez),n=r/2,i=r*ey,s=n,a=r*ey+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Er*n-Cr*i,Cr*n+Er*i),e.lineTo(Er*s-Cr*a,Cr*s+Er*a),e.lineTo(Er*l-Cr*c,Cr*l+Er*c),e.lineTo(Er*n+Cr*i,Er*i-Cr*n),e.lineTo(Er*s+Cr*a,Er*a-Cr*s),e.lineTo(Er*l+Cr*c,Er*c-Cr*l),e.closePath()}};function Tz(e,t){let r=null,n=Av(i);e=typeof e=="function"?e:De(e||Cv),t=typeof t=="function"?t:De(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:De(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:De(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Fd(){}function zd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function yA(e){this._context=e}yA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Mz(e){return new yA(e)}function vA(e){this._context=e}vA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dz(e){return new vA(e)}function xA(e){this._context=e}xA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rz(e){return new xA(e)}function bA(e){this._context=e}bA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function $z(e){return new bA(e)}function $j(e){return e<0?-1:1}function Ij(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return($j(s)+$j(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Lj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function rp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:rp(this,this._t0,Lj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,rp(this,Lj(this,r=Ij(this,e,t)),r);break;default:rp(this,this._t0,r=Ij(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function wA(e){this._context=new jA(e)}(wA.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function jA(e){this._context=e}jA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Iz(e){return new Ud(e)}function Lz(e){return new wA(e)}function NA(e){this._context=e}NA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Bj(e),i=Bj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Bz(e){return new NA(e)}function mh(e,t){this._context=e,this._t=t}mh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Fz(e){return new mh(e,.5)}function zz(e){return new mh(e,0)}function Uz(e){return new mh(e,1)}function to(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function ty(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Wz(e,t){return e[t]}function Vz(e){const t=[];return t.key=e,t}function Kz(){var e=De([]),t=ty,r=to,n=Wz;function i(s){var a=Array.from(e.apply(this,arguments),Vz),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Ev(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:De(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:De(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?ty:typeof s=="function"?s:De(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??to,i):r},i}function Hz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}to(e,t)}}function qz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}to(e,t)}}function Gz(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var x=e[t[g]],w=x[n][1]||0,p=x[n-1][1]||0;m+=w-p}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,to(e,t)}}var Yz=["type","size","sizeType"];function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ry.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Xz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xz(e,t,r){return(t=Jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zz(e,t){if(e==null)return{};var r,n,i=e8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function e8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SA={symbolCircle:Cv,symbolCross:wz,symbolDiamond:Nz,symbolSquare:Sz,symbolStar:Oz,symbolTriangle:Az,symbolWye:Cz},t8=Math.PI/180,r8=e=>{var t="symbol".concat(Mc(e));return SA[t]||Cv},n8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*t8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},i8=(e,t)=>{SA["symbol".concat(Mc(e))]=t},PA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Zz(e,Yz),s=zj(zj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=r8(t),h=Tz().type(f).size(n8(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=je(s,!0);return c===+c&&u===+u&&r===+r?y.createElement("path",ry({},d,{className:pe("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};PA.registerSymbol=i8;var _A={},kA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(kA);var Rc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rc);var OA={},ph={},AA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(AA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(ph);var EA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(EA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ph,r=EA;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(OA);var gh={},CA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(CA);var TA={},np={},ip={},Tv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Tv);var Mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Mv);var yh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(yh);var Uj;function s8(){return Uj||(Uj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=Tv,n=Mv,i=yh;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function g(x,w,p,v,b,j){const N=m(x,w,p,v,b,j);return N!==void 0?!!N:a(x,w,g,j)},new Map)}function a(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,g);case"function":return Object.keys(h).length>0?a(f,{...h},m,g):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let w=0;w<x.length;w++){const p=x[w];if(!n.isPrimitive(f)&&!(p in f)||h[p]===void 0&&f[p]!==void 0||h[p]===null&&f[p]!==null||!m(f[p],h[p],p,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const p=f.get(x);if(m(p,w,x,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const p=h[w];let v=!1;for(let b=0;b<f.length;b++){if(x.has(b))continue;const j=f[b];let N=!1;if(m(j,p,w,f,h,g)&&(N=!0),N){x.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}e.isMatchWith=s,e.isSetMatch=d}(ip)),ip}var Wj;function Dv(){return Wj||(Wj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=s8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(np)),np}var MA={},Rv={},$v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})($v);var vh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(vh);var xh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",w="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",j="[object BigUint64Array]",N="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",O="[object BigInt64Array]",D="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=D,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=N,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=p})(xh);var DA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(DA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v,r=vh,n=xh,i=Mv,s=DA;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const x=g==null?void 0:g(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let p=0;p<d.length;p++)w[p]=l(d[p],p,h,m,g);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[p,v]of d)w.set(p,l(v,p,h,m,g));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const p of d)w.add(l(p,void 0,h,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let p=0;p<d.length;p++)w[p]=l(d[p],p,h,m,g);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,g),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,g),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,g),w}return d}function c(d,f,h=d,m,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<x.length;w++){const p=x[w],v=Object.getOwnPropertyDescriptor(d,p);(v==null||v.writable)&&(d[p]=l(f[p],p,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(Rv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(MA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=MA;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(TA);var RA={},$A={},IA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rv,r=xh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(IA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})($A);var LA={},Iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Iv);var BA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(BA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nv,r=Iv,n=BA,i=th;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(LA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=Sv,n=$A,i=eh,s=LA;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(RA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rc,r=CA,n=TA,i=RA;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(gh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kA,r=Rc,n=OA,i=gh;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(_A);var a8=_A.uniqBy;const Vj=Kr(a8);function o8(e,t,r){return t===!0?Vj(e,r):typeof t=="function"?Vj(e,t):e}var FA={exports:{}},zA={},UA={exports:{}},WA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=y;function l8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c8=typeof Object.is=="function"?Object.is:l8,u8=ro.useState,d8=ro.useEffect,f8=ro.useLayoutEffect,h8=ro.useDebugValue;function m8(e,t){var r=t(),n=u8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return f8(function(){i.value=r,i.getSnapshot=t,sp(i)&&s({inst:i})},[e,r,t]),d8(function(){return sp(i)&&s({inst:i}),e(function(){sp(i)&&s({inst:i})})},[e]),h8(r),r}function sp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!c8(e,r)}catch{return!0}}function p8(e,t){return t()}var g8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p8:m8;WA.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:g8;UA.exports=WA;var y8=UA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh=y,v8=y8;function x8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var b8=typeof Object.is=="function"?Object.is:x8,w8=v8.useSyncExternalStore,j8=bh.useRef,N8=bh.useEffect,S8=bh.useMemo,P8=bh.useDebugValue;zA.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=j8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=S8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,b8(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=w8(e,s[0],s[1]);return N8(function(){a.hasValue=!0,a.value=l},[l]),P8(l),l};FA.exports=zA;var _8=FA.exports,Lv=y.createContext(null),k8=e=>e,Ye=()=>{var e=y.useContext(Lv);return e?e.store.dispatch:k8},id=()=>{},O8=()=>id,A8=(e,t)=>e===t;function re(e){var t=y.useContext(Lv);return _8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:O8,t?t.store.getState:id,t?t.store.getState:id,t?e:id,A8)}function E8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function C8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function T8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Kj=e=>Array.isArray(e)?e:[e];function M8(e){const t=Array.isArray(e[0])?e[0]:e;return T8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function D8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var R8=class{constructor(e){this.value=e}deref(){return this.value}},$8=typeof WeakRef<"u"?WeakRef:R8,I8=0,Hj=1;function _u(){return{s:I8,v:void 0,o:null,p:null}}function VA(e,t={}){let r=_u();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=_u(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=_u(),x.set(g,l)):l=w}}const u=l;let d;if(l.s===Hj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new $8(d):d}return u.s=Hj,u.v=d,d}return a.clearCache=()=>{r=_u(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function L8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),E8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=VA,argsMemoizeOptions:g=[],devModeChecks:x={}}=d,w=Kj(h),p=Kj(g),v=M8(i),b=f(function(){return s++,u.apply(null,arguments)},...w),j=m(function(){a++;const S=D8(v,arguments);return l=b.apply(null,S),l},...p);return Object.assign(j,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var L=L8(VA),B8=Object.assign((e,t=L)=>{C8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>B8}),KA={},HA={},qA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(qA);var GA={},Bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qA,r=GA,n=th;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let x=m;for(let w=0;w<g.length&&x!=null;++w)x=x[g[w]];return x},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let x=0;x<f.length;x++){const w=t.compareValues(m.criteria[x],g.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(HA);var YA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(YA);var Fv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv,r=ph,n=Tv,i=yh;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Fv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HA,r=YA,n=Fv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(KA);var F8=KA.sortBy;const wh=Kr(F8);var XA=e=>e.legend.settings,z8=e=>e.legend.size,U8=e=>e.legend.payload;L([U8,XA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?wh(n,r):n});var ku=1;function W8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>ku||Math.abs(a.left-t.left)>ku||Math.abs(a.top-t.top)>ku||Math.abs(a.width-t.width)>ku)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var V8=typeof Symbol=="function"&&Symbol.observable||"@@observable",qj=V8,ap=()=>Math.random().toString(36).substring(7).split("").join("."),K8={INIT:`@@redux/INIT${ap()}`,REPLACE:`@@redux/REPLACE${ap()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ap()}`},Wd=K8;function zv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function JA(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(JA)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,p)=>{a.set(p,w)}))}function d(){if(c)throw new Error(Pt(3));return i}function f(w){if(typeof w!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let p=!0;u();const v=l++;return a.set(v,w),function(){if(p){if(c)throw new Error(Pt(6));p=!1,u(),a.delete(v),s=null}}}function h(w){if(!zv(w))throw new Error(Pt(7));if(typeof w.type>"u")throw new Error(Pt(8));if(typeof w.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(Pt(10));n=w,h({type:Wd.REPLACE})}function g(){const w=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(Pt(11));function v(){const j=p;j.next&&j.next(d())}return v(),{unsubscribe:w(v)}},[qj](){return this}}}return h({type:Wd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[qj]:g}}function H8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wd.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function QA(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{H8(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(Pt(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function q8(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Vd(...l)(i.dispatch),{...i,dispatch:s}}}function ZA(e){return zv(e)&&"type"in e&&typeof e.type=="string"}var eE=Symbol.for("immer-nothing"),Gj=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var no=Object.getPrototypeOf;function zs(e){return!!e&&!!e[jr]}function Jn(e){var t;return e?tE(e)||Array.isArray(e)||!!e[Gj]||!!((t=e.constructor)!=null&&t[Gj])||Nh(e)||Sh(e):!1}var G8=Object.prototype.constructor.toString();function tE(e){if(!e||typeof e!="object")return!1;const t=no(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===G8}function Kd(e,t){jh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function jh(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Nh(e)?2:Sh(e)?3:0}function ny(e,t){return jh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rE(e,t,r){const n=jh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Y8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nh(e){return e instanceof Map}function Sh(e){return e instanceof Set}function hs(e){return e.copy_||e.base_}function iy(e,t){if(Nh(e))return new Map(e);if(Sh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=tE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(no(e),n)}else{const n=no(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Uv(e,t=!1){return Ph(e)||zs(e)||!Jn(e)||(jh(e)>1&&(e.set=e.add=e.clear=e.delete=X8),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Uv(n,!0))),e}function X8(){nn(2)}function Ph(e){return Object.isFrozen(e)}var J8={};function Us(e){const t=J8[e];return t||nn(0,e),t}var lc;function nE(){return lc}function Q8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Yj(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sy(e){ay(e),e.drafts_.forEach(Z8),e.drafts_=null}function ay(e){e===lc&&(lc=e.parent_)}function Xj(e){return lc=Q8(lc,e)}function Z8(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Jj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(sy(t),nn(4)),Jn(e)&&(e=Hd(t,e),t.parent_||qd(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=Hd(t,r,[]),sy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==eE?e:void 0}function Hd(e,t,r){if(Ph(t))return t;const n=t[jr];if(!n)return Kd(t,(i,s)=>Qj(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return qd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Kd(s,(l,c)=>Qj(e,n,i,l,c,r,a)),qd(e,i,!1),r&&e.patches_&&Us("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Qj(e,t,r,n,i,s,a){if(zs(i)){const l=s&&t&&t.type_!==3&&!ny(t.assigned_,n)?s.concat(n):void 0,c=Hd(e,i,l);if(rE(r,n,c),zs(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Jn(i)&&!Ph(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Hd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&qd(e,i)}}function qd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uv(t,r)}function eU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:nE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Wv;r&&(i=[n],s=cc);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var Wv={get(e,t){if(t===jr)return e;const r=hs(e);if(!ny(r,t))return tU(e,r,t);const n=r[t];return e.finalized_||!Jn(n)?n:n===op(e.base_,t)?(lp(e),e.copy_[t]=ly(n,e)):n},has(e,t){return t in hs(e)},ownKeys(e){return Reflect.ownKeys(hs(e))},set(e,t,r){const n=iE(hs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=op(hs(e),t),s=i==null?void 0:i[jr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Y8(r,i)&&(r!==void 0||ny(e.base_,t)))return!0;lp(e),oy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return op(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,lp(e),oy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){nn(11)},getPrototypeOf(e){return no(e.base_)},setPrototypeOf(){nn(12)}},cc={};Kd(Wv,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,r){return Wv.set.call(this,e[0],t,r,e[0])};function op(e,t){const r=e[jr];return(r?hs(r):e)[t]}function tU(e,t,r){var i;const n=iE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function iE(e,t){if(!(t in e))return;let r=no(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=no(r)}}function oy(e){e.modified_||(e.modified_=!0,e.parent_&&oy(e.parent_))}function lp(e){e.copy_||(e.copy_=iy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var rU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&nn(6),n!==void 0&&typeof n!="function"&&nn(7);let i;if(Jn(t)){const s=Xj(this),a=ly(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?sy(s):ay(s)}return Yj(s,n),Jj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===eE&&(i=void 0),this.autoFreeze_&&Uv(i,!0),n){const s=[],a=[];Us("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else nn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jn(e)||nn(8),zs(e)&&(e=Vn(e));const t=Xj(this),r=ly(e,void 0);return r[jr].isManual_=!0,ay(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&nn(9);const{scope_:n}=r;return Yj(n,t),Jj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Us("Patches").applyPatches_;return zs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function ly(e,t){const r=Nh(e)?Us("MapSet").proxyMap_(e,t):Sh(e)?Us("MapSet").proxySet_(e,t):eU(e,t);return(t?t.scope_:nE()).drafts_.push(r),r}function Vn(e){return zs(e)||nn(10,e),sE(e)}function sE(e){if(!Jn(e)||Ph(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=iy(e,t.scope_.immer_.useStrictShallowCopy_)}else r=iy(e,!0);return Kd(r,(n,i)=>{rE(r,n,sE(i))}),t&&(t.finalized_=!1),r}var Nr=new rU,aE=Nr.produce;Nr.produceWithPatches.bind(Nr);Nr.setAutoFreeze.bind(Nr);Nr.setUseStrictShallowCopy.bind(Nr);Nr.applyPatches.bind(Nr);Nr.createDraft.bind(Nr);Nr.finishDraft.bind(Nr);function oE(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var nU=oE(),iU=oE,sU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vd:Vd.apply(null,arguments)};function Wr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>ZA(n)&&n.type===e,r}var lE=class gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gl.prototype)}static get[Symbol.species](){return gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gl(...t[0].concat(this)):new gl(...t.concat(this))}};function Zj(e){return Jn(e)?aE(e,()=>{}):e}function Ou(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function aU(e){return typeof e=="boolean"}var oU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new lE;return r&&(aU(r)?a.push(nU):a.push(iU(r.extraArgument))),a},lU="RTK_autoBatch",eN=e=>t=>{setTimeout(t,e)},cU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eN(10):e.type==="callback"?e.queueNotification:eN(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[lU]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},uU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new lE(e);return n&&i.push(cU(typeof n=="object"?n:void 0)),i};function dU(e){const t=oU(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(zv(r))c=QA(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Vd;i&&(d=sU({trace:!1,...typeof i=="object"&&i}));const f=q8(...u),h=uU(f);let m=typeof l=="function"?l(h):h();const g=d(...m);return JA(c,a,g)}function cE(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(xr(28));if(l in t)throw new Error(xr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function fU(e){return typeof e=="function"}function hU(e,t){let[r,n,i]=cE(t),s;if(fU(e))s=()=>Zj(e());else{const l=Zj(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(zs(d)){const m=f(d,c);return m===void 0?d:m}else{if(Jn(d))return aE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var mU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pU=(e=21)=>{let t="",r=e;for(;r--;)t+=mU[Math.random()*64|0];return t},gU=Symbol.for("rtk-slice-createasyncthunk");function yU(e,t){return`${e}/${t}`}function vU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[gU];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(xr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(bU()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,N){const S=typeof j=="string"?j:j.type;if(!S)throw new Error(xr(12));if(S in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[S]=N,d},addMatcher(j,N){return u.sliceMatchers.push({matcher:j,reducer:N}),d},exposeAction(j,N){return u.actionCreators[j]=N,d},exposeCaseReducer(j,N){return u.sliceCaseReducersByName[j]=N,d}};c.forEach(j=>{const N=l[j],S={reducerName:j,type:yU(s,j),createNotation:typeof i.reducers=="function"};jU(N)?SU(S,N,d,t):wU(S,N,d)});function f(){const[j={},N=[],S=void 0]=typeof i.extraReducers=="function"?cE(i.extraReducers):[i.extraReducers],P={...j,...u.sliceCaseReducersByType};return hU(i.initialState,O=>{for(let D in P)O.addCase(D,P[D]);for(let D of u.sliceMatchers)O.addMatcher(D.matcher,D.reducer);for(let D of N)O.addMatcher(D.matcher,D.reducer);S&&O.addDefaultCase(S)})}const h=j=>j,m=new Map,g=new WeakMap;let x;function w(j,N){return x||(x=f()),x(j,N)}function p(){return x||(x=f()),x.getInitialState()}function v(j,N=!1){function S(O){let D=O[j];return typeof D>"u"&&N&&(D=Ou(g,S,p)),D}function P(O=h){const D=Ou(m,N,()=>new WeakMap);return Ou(D,O,()=>{const T={};for(const[C,z]of Object.entries(i.selectors??{}))T[C]=xU(z,O,()=>Ou(g,O,p),N);return T})}return{reducerPath:j,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...v(a),injectInto(j,{reducerPath:N,...S}={}){const P=N??a;return j.inject({reducerPath:P,reducer:w},S),{...b,...v(P,!0)}}};return b}}function xU(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var kr=vU();function bU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function wU({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!NU(n))throw new Error(xr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Wr(e,a):Wr(e))}function jU(e){return e._reducerDefinitionType==="asyncThunk"}function NU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function SU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Au,pending:l||Au,rejected:c||Au,settled:u||Au})}function Au(){}var PU="task",uE="listener",dE="completed",Vv="cancelled",_U=`task-${Vv}`,kU=`task-${dE}`,cy=`${uE}-${Vv}`,OU=`${uE}-${dE}`,_h=class{constructor(e){rm(this,"name","TaskAbortError");rm(this,"message");this.code=e,this.message=`${PU} ${Vv} (reason: ${e})`}},Kv=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},Gd=()=>{},fE=(e,t=Gd)=>(e.catch(t),e),hE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ts=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ms=e=>{if(e.aborted){const{reason:t}=e;throw new _h(t)}};function mE(e,t){let r=Gd;return new Promise((n,i)=>{const s=()=>i(new _h(e.reason));if(e.aborted){s();return}r=hE(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gd})}var AU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof _h?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yd=e=>t=>fE(mE(e,t).then(r=>(Ms(e),r))),pE=e=>{const t=Yd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fa}=Object,tN={},kh="listenerMiddleware",EU=(e,t)=>{const r=n=>hE(e,()=>Ts(n,e.reason));return(n,i)=>{Kv(n);const s=new AbortController;r(s);const a=AU(async()=>{Ms(e),Ms(s.signal);const l=await n({pause:Yd(s.signal),delay:pE(s.signal),signal:s.signal});return Ms(s.signal),l},()=>Ts(s,kU));return i!=null&&i.autoJoin&&t.push(a.catch(Gd)),{result:Yd(e)(a),cancel(){Ts(s,_U)}}}},CU=(e,t)=>{const r=async(n,i)=>{Ms(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await mE(t,Promise.race(l));return Ms(t),c}finally{s()}};return(n,i)=>fE(r(n,i))},gE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Wr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return Kv(s),{predicate:i,type:t,effect:s}},yE=Fa(e=>{const{type:t,predicate:r,effect:n}=gE(e);return{id:pU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>yE}),rN=(e,t)=>{const{type:r,effect:n,predicate:i}=gE(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},uy=e=>{e.pending.forEach(t=>{Ts(t,cy)})},TU=e=>()=>{e.forEach(uy),e.clear()},nN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},vE=Fa(Wr(`${kh}/add`),{withTypes:()=>vE}),MU=Wr(`${kh}/removeAll`),xE=Fa(Wr(`${kh}/remove`),{withTypes:()=>xE}),DU=(...e)=>{console.error(`${kh}/error`,...e)},$c=(e={})=>{const t=new Map,{extra:r,onError:n=DU}=e;Kv(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&uy(d)}),s=d=>{const f=rN(t,d)??yE(d);return i(f)};Fa(s,{withTypes:()=>s});const a=d=>{const f=rN(t,d);return f&&(f.unsubscribe(),d.cancelActive&&uy(f)),!!f};Fa(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const g=new AbortController,x=CU(s,g.signal),w=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,Fa({},h,{getOriginalState:m,condition:(p,v)=>x(p,v).then(Boolean),take:x,delay:pE(g.signal),pause:Yd(g.signal),extra:r,signal:g.signal,fork:EU(g.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((p,v,b)=>{p!==g&&(Ts(p,cy),b.delete(p))})},cancel:()=>{Ts(g,cy),d.pending.delete(g)},throwIfCancelled:()=>{Ms(g.signal)}})))}catch(p){p instanceof _h||nN(n,p,{raisedBy:"effect"})}finally{await Promise.all(w),Ts(g,OU),d.pending.delete(g)}},c=TU(t);return{middleware:d=>f=>h=>{if(!ZA(h))return f(h);if(vE.match(h))return s(h.payload);if(MU.match(h)){c();return}if(xE.match(h))return a(h.payload);let m=d.getState();const g=()=>{if(m===tN)throw new Error(xr(23));return m};let x;try{if(x=f(h),t.size>0){const w=d.getState(),p=Array.from(t.values());for(const v of p){let b=!1;try{b=v.predicate(h,w,m)}catch(j){b=!1,nN(n,j,{raisedBy:"predicate"})}b&&l(v,h,d,g)}}}finally{m=tN}return x},startListening:s,stopListening:a,clearListeners:c}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var RU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},bE=kr({name:"chartLayout",initialState:RU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:$U,setLayout:IU,setChartSize:LU,setScale:BU}=bE.actions,FU=bE.reducer;function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return(t=UU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,VU=e=>e*180/Math.PI,Se=(e,t,r,n)=>({x:e+Math.cos(-Xd*n)*r,y:t+Math.sin(-Xd*n)*r}),wE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},KU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},HU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=KU({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:VU(c),angleInRadian:c}},qU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},GU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},YU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=HU({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=qU(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?sN(sN({},t),{},{radius:i,angle:GU(d,t)}):null},jE=e=>!y.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function NE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=JU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $e(e,t,r){return et(e)||et(t)?r:An(t)?Wi(e,t,r):typeof t=="function"?t(e):r}var ZU=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(jt(d-u)!==jt(f-d)){var m=[];if(jt(f-d)===jt(i[1]-i[0])){h=f;var g=d+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var x=f+i[1]-i[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var p=Math.min(u,f),v=Math.max(u,f);if(e>(p+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},e9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ie(e[s]))return $r($r({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ie(e[a]))return $r($r({},e),{},{[a]:e[a]+(i||0)})}return e},Ji=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",SE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},PE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(x=m==="angleAxis"&&s&&s.length>=2?jt(s[0]-s[1])*2*x:x,f||h){var w=(f||h||[]).map((p,v)=>{var b=n?n.indexOf(p):p;return{coordinate:a(b)+x,value:p,offset:x,index:v}});return w.filter(p=>!wr(p.coordinate))}return c&&u?u.map((p,v)=>({coordinate:a(p)+x,value:p,index:v,offset:x})):a.ticks&&!r&&d!=null?a.ticks(d).map((p,v)=>({coordinate:a(p)+x,value:p,offset:x,index:v})):a.domain().map((p,v)=>({coordinate:a(p)+x,value:n?n[p]:p,index:v,offset:x}))},oN=1e-4,t9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-oN,s=Math.max(n[0],n[1])+oN,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},r9=(e,t)=>{if(!t||t.length!==2||!ie(t[0])||!ie(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(i[0]=r),(!ie(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},n9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=wr(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},i9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=wr(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},s9={sign:n9,expand:Hz,none:to,silhouette:qz,wiggle:Gz,positive:i9},a9=(e,t,r)=>{var n=s9[r],i=Kz().keys(t).value((s,a)=>+$e(s,a,0)).order(ty).offset(n);return i(e)};function o9(e){return e==null?void 0:String(e)}var lN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=$e(s,t.dataKey,t.scale.domain()[a]);return et(l)?null:t.scale(l)-i/2+n},l9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},c9=e=>{var t=e.flat(2).filter(ie);return[Math.min(...t),Math.max(...t)]},u9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],d9=(e,t,r)=>{if(e!=null)return u9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=NE(u,t,r),f=c9(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},cN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=wh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function dN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return $r($r({},t),{},{dataKey:r,payload:n,value:i,name:s})}function ko(e,t){if(e)return String(e);if(typeof t=="string")return t}function f9(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?YU({x:e,y:t},n):null}var h9=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return $r($r($r({},n),Se(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return $r($r($r({},n),Se(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},m9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,si=e=>e.layout.width,ai=e=>e.layout.height,p9=e=>e.layout.scale,_E=e=>e.layout.margin,Hv=L(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),qv=L(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),kE="data-recharts-item-index",OE="data-recharts-item-data-key",Oh=60;function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){g9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g9(e,t,r){return(t=y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y9(e){var t=v9(e,"string");return typeof t=="symbol"?t:t+""}function v9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x9=e=>e.brush.height,mt=L([si,ai,_E,x9,Hv,qv,XA,z8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((g,x)=>{var{orientation:w}=x;if(!x.mirror&&!x.hide){var p=typeof x.width=="number"?x.width:Oh;return mi(mi({},g),{},{[w]:g[w]+p})}return g},{left:r.left||0,right:r.right||0}),u=i.reduce((g,x)=>{var{orientation:w}=x;return!x.mirror&&!x.hide?mi(mi({},g),{},{[w]:Wi(g,"".concat(w))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=mi(mi({},u),c),f=d.bottom;d.bottom+=n,d=e9(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return mi(mi({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),b9=L(mt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),AE=L(si,ai,(e,t)=>({x:0,y:0,width:e,height:t})),w9=y.createContext(null),fr=()=>y.useContext(w9)!=null,Ah=e=>e.brush,Eh=L([Ah,mt,_E],(e,t,r)=>({height:e.height,x:ie(e.x)?e.x:t.left,y:ie(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ie(e.width)?e.width:t.width})),Gv=()=>{var e,t=fr(),r=re(b9),n=re(Eh),i=(e=re(Ah))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},j9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},EE=()=>{var e;return(e=re(mt))!==null&&e!==void 0?e:j9},CE=()=>re(si),TE=()=>re(ai),ve=e=>e.layout.layoutType,Yv=()=>re(ve),N9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},ME=kr({name:"legend",initialState:N9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Vn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:dre,setLegendSettings:fre,addLegendPayload:DE,removeLegendPayload:RE}=ME.actions,S9=ME.reducer;function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function cp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=k9(e,"string");return typeof t=="symbol"?t:t+""}function k9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function O9(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var A9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var N={padding:0,margin:0},S=(l?wh(s,l):s).map((P,O)=>{if(P.type==="none")return null;var D=P.formatter||a||O9,{value:T,name:C}=P,z=T,$=C;if(D){var _=D(T,C,P,O,s);if(Array.isArray(_))[z,$]=_;else if(_!=null)z=_;else return null}var A=cp({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:A},An($)?y.createElement("span",{className:"recharts-tooltip-item-name"},$):null,An($)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},z),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:N},S)}return null},g=cp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=cp({margin:0},i),w=!et(d),p=w?d:"",v=pe("recharts-default-tooltip",c),b=pe("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(p=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",dy({className:v,style:g},j),y.createElement("p",{className:b,style:x},y.isValidElement(p)?p:"".concat(p)),m())},tl="recharts-tooltip-wrapper",E9={visibility:"hidden"};function C9(e){var{coordinate:t,translateX:r,translateY:n}=e;return pe(tl,{["".concat(tl,"-right")]:ie(r)&&t&&ie(t.x)&&r>=t.x,["".concat(tl,"-left")]:ie(r)&&t&&ie(t.x)&&r<t.x,["".concat(tl,"-bottom")]:ie(n)&&t&&ie(t.y)&&n>=t.y,["".concat(tl,"-top")]:ie(n)&&t&&ie(t.y)&&n<t.y})}function mN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ie(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function T9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function M9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=mN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=mN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=T9({translateX:d,translateY:f,useTranslate3d:l})):u=E9,{cssProperties:u,cssClasses:C9({translateX:d,translateY:f,coordinate:r})}}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){fy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fy(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class $9 extends y.PureComponent{constructor(){super(...arguments),fy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),fy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:w,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:b}=M9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),j=p?{}:Eu(Eu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),N=Eu(Eu({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:N,ref:w},s)}}var I9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ys={isSsr:I9()},$E=()=>re(e=>e.rootProps.accessibilityLayer);function Sr(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function hy(){return hy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hy.apply(null,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=B9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B9(e){var t=F9(e,"string");return typeof t=="symbol"?t:t+""}function F9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN={curveBasisClosed:Dz,curveBasisOpen:Rz,curveBasis:Mz,curveBumpX:xz,curveBumpY:bz,curveLinearClosed:$z,curveLinear:hh,curveMonotoneX:Iz,curveMonotoneY:Lz,curveNatural:Bz,curveStep:Fz,curveStepAfter:Uz,curveStepBefore:zz},Cu=e=>Sr(e.x)&&Sr(e.y),rl=e=>e.x,nl=e=>e.y,z9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Mc(e));return(r==="curveMonotone"||r==="curveBump")&&t?vN["".concat(r).concat(t==="vertical"?"Y":"X")]:vN[r]||hh},U9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=z9(t,i),l=s?r.filter(Cu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Cu(f)):n,d=l.map((f,h)=>yN(yN({},f),{},{base:u[h]}));return i==="vertical"?c=Pu().y(nl).x1(rl).x0(f=>f.base.x):c=Pu().x(rl).y1(nl).y0(f=>f.base.y),c.defined(Cu).curve(a),c(d)}return i==="vertical"&&ie(n)?c=Pu().y(nl).x1(rl).x0(n):ie(n)?c=Pu().x(rl).y1(nl).y0(n):c=hA().x(rl).y(nl),c.defined(Cu).curve(a),c(l)},IE=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?U9(e):n;return y.createElement("path",hy({},Bt(e),Ov(e),{className:pe("recharts-curve",t),d:s===null?void 0:s,ref:i}))},W9=["x","y","top","left","width","height","className"];function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function V9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){K9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G9(e,t){if(e==null)return{};var r,n,i=Y9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Y9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var X9=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),J9=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=G9(e,W9),u=V9({x:t,y:r,top:n,left:i,width:s,height:a},c);return!ie(t)||!ie(r)||!ie(s)||!ie(a)||!ie(n)||!ie(i)?null:y.createElement("path",my({},je(u,!0),{className:pe("recharts-cross",l),d:X9(t,r,s,a,n,i)}))};function Q9(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){eW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eW(e,t,r){return(t=tW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return typeof t=="symbol"?t:t+""}function rW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qr(e,t){var r=Z9({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var LE={},BE={},FE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(FE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FE,r=$v,n=vh,i=xh,s=yh;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,g,x){const w=x(u,d,f,h,m,g);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,g,x)}return c(u,d,g,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),g=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const p=u.valueOf(),v=d.valueOf();return s.eq(p,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const x=f.get(u),w=f.get(d);if(x!=null&&w!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[p,v]of u.entries())if(!d.has(p)||!l(v,d.get(p),p,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const p=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<p.length;b++){const j=p[b],N=v.findIndex(S=>l(j,S,void 0,u,d,f,h));if(N===-1)return!1;v.splice(N,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let p=0;p<u.length;p++)if(!l(u[p],d[p],p,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let j=0;j<v.length;j++){const N=v[j],S=u[N];if(!Object.hasOwn(d,N))return!1;const P=d[N];if(!l(S,P,N,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(BE);var zE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(zE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BE,r=zE;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(LE);var nW=LE.isEqual;const iW=Kr(nW);var Jd=1e-4,UE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],WE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),wN=(e,t)=>r=>{var n=UE(e,t);return WE(n,r)},sW=(e,t)=>r=>{var n=UE(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return WE(i,r)},jN=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([t,n,r,i]=a);var u=wN(t,r),d=wN(n,i),f=sW(t,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,w=x,p=0;p<8;++p){var v=u(w)-x,b=f(w);if(Math.abs(v-x)<Jd||b<Jd)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},aW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Jd&&Math.abs(f)<Jd?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},VE=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jN(e);case"spring":return aW();default:if(e.split("(")[0]==="cubic-bezier")return jN(e)}return typeof e=="function"?e:null};function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){oW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t,r){return(t=lW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lW(e){var t=cW(e,"string");return typeof t=="symbol"?t:t+""}function cW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),dW=(e,t,r)=>e.map(n=>"".concat(uW(n)," ").concat(t,"ms ").concat(r)).join(","),fW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),dc=(e,t)=>Object.keys(t).reduce((r,n)=>SN(SN({},r),{},{[n]:e(n,t[n])}),{});function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){hW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hW(e,t,r){return(t=mW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mW(e){var t=pW(e,"string");return typeof t=="symbol"?t:t+""}function pW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,r)=>e+(t-e)*r,py=e=>{var{from:t,to:r}=e;return t!==r},KE=(e,t,r)=>{var n=dc((i,s)=>{if(py(s)){var[a,l]=e(s.from,s.to,s.velocity);return kt(kt({},s),{},{from:a,velocity:l})}return s},t);return r<1?dc((i,s)=>py(s)?kt(kt({},s),{},{velocity:Qd(s.velocity,n[i].velocity,r),from:Qd(s.from,n[i].from,r)}):s,t):KE(e,n,r-1)};function gW(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>kt(kt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>dc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(py).length,d=null,f=h=>{a||(a=h);var m=h-a,g=m/r.dt;l=KE(r,l,g),i(kt(kt(kt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function yW(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>kt(kt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=dc((x,w)=>Qd(...w,r(h)),c);if(s(kt(kt(kt({},e),t),m)),h<1)l=a.setTimeout(d);else{var g=dc((x,w)=>Qd(...w,r(1)),c);s(kt(kt(kt({},e),t),g))}};return()=>(l=a.setTimeout(d),()=>{l()})}const HE=(e,t,r,n,i,s)=>{var a=fW(e,t);return r.isStepper===!0?gW(e,t,r,a,i,s):yW(e,t,r,n,a,i,s)};function vW(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class xW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function bW(){return vW(new xW)}var wW=y.createContext(bW);function qE(e,t){var r=y.useContext(wW);return y.useMemo(()=>t??r(e),[e,t,r])}var jW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function NW(e,t){if(e==null)return{};var r,n,i=SW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function js(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xv extends y.PureComponent{constructor(t,r){super(t,r),js(this,"mounted",!1),js(this,"manager",void 0),js(this,"stopJSAnimation",null),js(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(iW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(pi(pi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=HE(r,n,VE(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=dW(Object.keys(d),n,a);this.manager.start([l,r,pi(pi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:g}=t,x=NW(t,jW),w=y.Children.count(r),p=this.state.style;if(typeof r=="function")return r(p);if(!l||w===0||i<=0)return r;var v=b=>{var{style:j={},className:N}=b.props,S=y.cloneElement(b,pi(pi({},x),{},{style:pi(pi({},j),p),className:N}));return S};return w===1?v(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,b=>v(b)))}}js(Xv,"displayName","Animate");js(Xv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Zd(e){var t,r=qE((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return y.createElement(Xv,gy({},e,{animationManager:r}))}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}var kN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},kW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GE=e=>{var t=qr(e,kW),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var p=r.current.getTotalLength();p&&i(p)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=pe("recharts-rectangle",d);return x?y.createElement(Zd,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:x},p=>{var{width:v,height:b,x:j,y:N}=p;return y.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:f},y.createElement("path",ef({},je(t,!0),{className:w,d:kN(j,N,v,b,u),ref:r})))}):y.createElement("path",ef({},je(t,!0),{className:w,d:kN(s,a,l,c,u)}))};function YE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Se(t,r,n,i),l=Se(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}var OW=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Xd,f=c?i:i+s*d,h=Se(t,r,u,f),m=Se(t,r,n,f),g=c?i-s*d:i,x=Se(t,r,u*Math.cos(d*Xd),g);return{center:h,circleTangency:m,lineTangency:x,theta:d}},XE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=OW(s,a),c=s+l,u=Se(t,r,i,s),d=Se(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Se(t,r,n,s),m=Se(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},AW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=jt(u-c),{circleTangency:f,lineTangency:h,theta:m}=Tu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:w}=Tu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),p=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(p<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):XE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(p>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:j,theta:N}=Tu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:O}=Tu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),D=l?Math.abs(c-u):Math.abs(c-u)-N-O;if(D<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(D>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},EW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},JE=e=>{var t=qr(e,EW),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=pe("recharts-sector",f),m=s-i,g=qt(a,m,0,!0),x;return g>0&&Math.abs(u-d)<360?x=AW({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=XE({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),y.createElement("path",yy({},je(t,!0),{className:h,d:x}))};function CW(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Se(l,c,u,f),m=Se(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return YE(t);return[{x:n,y:i},{x:s,y:a}]}var QE={},ZE={},eC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(eC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(ZE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv,r=ZE;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(QE);var TW=QE.range;const tC=Kr(TW);function Ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function MW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jv(e){let t,r,n;e.length!==2?(t=Ii,r=(l,c)=>Ii(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ii||e===MW?e:DW,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function DW(){return 0}function rC(e){return e===null?NaN:+e}function*RW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const $W=Jv(Ii),Ic=$W.right;Jv(rC).center;class ON extends Map{constructor(t,r=BW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(AN(this,t))}has(t){return super.has(AN(this,t))}set(t,r){return super.set(IW(this,t),r)}delete(t){return super.delete(LW(this,t))}}function AN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function IW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function LW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function BW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FW(e=Ii){if(e===Ii)return nC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function nC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const zW=Math.sqrt(50),UW=Math.sqrt(10),WW=Math.sqrt(2);function tf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=zW?10:s>=UW?5:s>=WW?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tf(e,t,r*2):[l,c,u]}function vy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?tf(t,e,r):tf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function xy(e,t,r){return t=+t,e=+e,r=+r,tf(e,t,r)[2]}function by(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?xy(t,e,r):xy(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function EN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?nC:FW(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));iC(e,t,m,g,i)}const s=e[t];let a=r,l=n;for(il(e,r,t),i(e[n],s)>0&&il(e,r,n);a<l;){for(il(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?il(e,r,l):(++l,il(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function il(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function VW(e,t,r){if(e=Float64Array.from(RW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CN(e);if(t>=1)return EN(e);var n,i=(n-1)*t,s=Math.floor(i),a=EN(iC(e,s).subarray(0,s+1)),l=CN(e.subarray(s+1));return a+(l-a)*(i-s)}}function KW(e,t,r=rC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function HW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const wy=Symbol("implicit");function Qv(){var e=new ON,t=[],r=[],n=wy;function i(s){let a=e.get(s);if(a===void 0){if(n!==wy)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ON;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Qv(t,r).unknown(n)},Gr.apply(i,arguments),i}function Zv(){var e=Qv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,g=m?i:n,x=m?n:i;s=(x-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(x-g-s*(h-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var w=HW(h).map(function(p){return g+s*p});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Zv(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Gr.apply(f(),arguments)}function sC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return sC(t())},e}function qW(){return sC(Zv.apply(null,arguments).paddingInner(1))}function ex(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function aC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lc(){}var fc=.7,rf=1/fc,za="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",GW=/^#([0-9a-f]{3,8})$/,YW=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),XW=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),JW=new RegExp(`^rgba\\(${za},${za},${za},${hc}\\)$`),QW=new RegExp(`^rgba\\(${_n},${_n},${_n},${hc}\\)$`),ZW=new RegExp(`^hsl\\(${hc},${_n},${_n}\\)$`),eV=new RegExp(`^hsla\\(${hc},${_n},${_n},${hc}\\)$`),TN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ex(Lc,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MN,formatHex:MN,formatHex8:tV,formatHsl:rV,formatRgb:DN,toString:DN});function MN(){return this.rgb().formatHex()}function tV(){return this.rgb().formatHex8()}function rV(){return oC(this).formatHsl()}function DN(){return this.rgb().formatRgb()}function mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=GW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RN(t):r===3?new ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=YW.exec(e))?new ar(t[1],t[2],t[3],1):(t=XW.exec(e))?new ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=JW.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=QW.exec(e))?Mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZW.exec(e))?LN(t[1],t[2]/100,t[3]/100,1):(t=eV.exec(e))?LN(t[1],t[2]/100,t[3]/100,t[4]):TN.hasOwnProperty(e)?RN(TN[e]):e==="transparent"?new ar(NaN,NaN,NaN,0):null}function RN(e){return new ar(e>>16&255,e>>8&255,e&255,1)}function Mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new ar(e,t,r,n)}function nV(e){return e instanceof Lc||(e=mc(e)),e?(e=e.rgb(),new ar(e.r,e.g,e.b,e.opacity)):new ar}function jy(e,t,r,n){return arguments.length===1?nV(e):new ar(e,t,r,n??1)}function ar(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ex(ar,jy,aC(Lc,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ar(Ds(this.r),Ds(this.g),Ds(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$N,formatHex:$N,formatHex8:iV,formatRgb:IN,toString:IN}));function $N(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function iV(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function IN(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ns(e){return e=Ds(e),(e<16?"0":"")+e.toString(16)}function LN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new sn(e,t,r,n)}function oC(e){if(e instanceof sn)return new sn(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=mc(e)),!e)return new sn;if(e instanceof sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new sn(a,l,c,e.opacity)}function sV(e,t,r,n){return arguments.length===1?oC(e):new sn(e,t,r,n??1)}function sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ex(sn,sV,aC(Lc,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ar(up(e>=240?e-240:e+120,i,n),up(e,i,n),up(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new sn(BN(this.h),Du(this.s),Du(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${BN(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BN(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function up(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tx=e=>()=>e;function aV(e,t){return function(r){return e+r*t}}function oV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function lV(e){return(e=+e)==1?lC:function(t,r){return r-t?oV(t,r,e):tx(isNaN(t)?r:t)}}function lC(e,t){var r=t-e;return r?aV(e,r):tx(isNaN(e)?t:e)}const FN=function e(t){var r=lV(t);function n(i,s){var a=r((i=jy(i)).r,(s=jy(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=lC(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function cV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function uV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function dV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Oo(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function fV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function hV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Oo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ny=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dp=new RegExp(Ny.source,"g");function mV(e){return function(){return e}}function pV(e){return function(t){return e(t)+""}}function gV(e,t){var r=Ny.lastIndex=dp.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ny.exec(e))&&(i=dp.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:sf(n,i)})),r=dp.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?pV(c[0].x):mV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Oo(e,t){var r=typeof t,n;return t==null||r==="boolean"?tx(t):(r==="number"?sf:r==="string"?(n=mc(t))?(t=n,FN):gV:t instanceof mc?FN:t instanceof Date?fV:uV(t)?cV:Array.isArray(t)?dV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?hV:sf)(e,t)}function rx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function yV(e,t){t===void 0&&(t=e,e=Oo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function vV(e){return function(){return e}}function af(e){return+e}var zN=[0,1];function Vt(e){return e}function Sy(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:vV(isNaN(t)?NaN:.5)}function xV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function bV(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=Sy(i,n),s=r(a,s)):(n=Sy(n,i),s=r(s,a)),function(l){return s(n(l))}}function wV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=Sy(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=Ic(e,l,1,n)-1;return s[c](i[c](l))}}function Bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ch(){var e=zN,t=zN,r=Oo,n,i,s,a=Vt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Vt&&(a=xV(e[0],e[h-1])),l=h>2?wV:bV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),sf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,af),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=rx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Vt,d()):a!==Vt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function nx(){return Ch()(Vt,Vt)}function jV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function so(e){return e=of(Math.abs(e)),e?e[1]:NaN}function NV(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function SV(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var PV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=PV.exec(e)))throw new Error("invalid format: "+e);var t;return new ix({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=ix.prototype;function ix(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ix.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function _V(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var cC;function kV(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(cC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+of(e,Math.max(0,t+s-1))[0]}function UN(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const WN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:jV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UN(e*100,t),r:UN,s:kV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VN(e){return e}var KN=Array.prototype.map,HN=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OV(e){var t=e.grouping===void 0||e.thousands===void 0?VN:NV(KN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?VN:SV(KN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pc(f);var h=f.fill,m=f.align,g=f.sign,x=f.symbol,w=f.zero,p=f.width,v=f.comma,b=f.precision,j=f.trim,N=f.type;N==="n"?(v=!0,N="g"):WN[N]||(b===void 0&&(b=12),j=!0,N="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=x==="$"?r:x==="#"&&/[boxX]/.test(N)?"0"+N.toLowerCase():"",P=x==="$"?n:/[%p]/.test(N)?a:"",O=WN[N],D=/[defgprs%]/.test(N);b=b===void 0?6:/[gprs]/.test(N)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(C){var z=S,$=P,_,A,F;if(N==="c")$=O(C)+$,C="";else{C=+C;var W=C<0||1/C<0;if(C=isNaN(C)?c:O(Math.abs(C),b),j&&(C=_V(C)),W&&+C==0&&g!=="+"&&(W=!1),z=(W?g==="("?g:l:g==="-"||g==="("?"":g)+z,$=(N==="s"?HN[8+cC/3]:"")+$+(W&&g==="("?")":""),D){for(_=-1,A=C.length;++_<A;)if(F=C.charCodeAt(_),48>F||F>57){$=(F===46?i+C.slice(_+1):C.slice(_))+$,C=C.slice(0,_);break}}}v&&!w&&(C=t(C,1/0));var k=z.length+C.length+$.length,E=k<p?new Array(p-k+1).join(h):"";switch(v&&w&&(C=t(E+C,E.length?p-$.length:1/0),E=""),m){case"<":C=z+C+$+E;break;case"=":C=z+E+C+$;break;case"^":C=E.slice(0,k=E.length>>1)+z+C+$+E.slice(k);break;default:C=E+z+C+$;break}return s(C)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=pc(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(so(h)/3)))*3,x=Math.pow(10,-g),w=HN[8+g/3];return function(p){return m(x*p)+w}}return{format:u,formatPrefix:d}}var Ru,sx,uC;AV({thousands:",",grouping:[3],currency:["$",""]});function AV(e){return Ru=OV(e),sx=Ru.format,uC=Ru.formatPrefix,Ru}function EV(e){return Math.max(0,-so(Math.abs(e)))}function CV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(t)/3)))*3-so(Math.abs(e)))}function TV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,so(t)-so(e))+1}function dC(e,t,r,n){var i=by(e,t,r),s;switch(n=pc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=CV(i,a))&&(n.precision=s),uC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=TV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=EV(i))&&(n.precision=s-(n.type==="%")*2);break}}return sx(n)}function Qi(e){var t=e.domain;return e.ticks=function(r){var n=t();return vy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return dC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=xy(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function fC(){var e=nx();return e.copy=function(){return Bc(e,fC())},Gr.apply(e,arguments),Qi(e)}function hC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,af),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return hC(e).unknown(t)},e=arguments.length?Array.from(e,af):[0,1],Qi(r)}function mC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function qN(e){return Math.log(e)}function GN(e){return Math.exp(e)}function MV(e){return-Math.log(-e)}function DV(e){return-Math.exp(-e)}function RV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $V(e){return e===10?RV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function IV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YN(e){return(t,r)=>-e(-t,r)}function ax(e){const t=e(qN,GN),r=t.domain;let n=10,i,s;function a(){return i=IV(n),s=$V(n),r()[0]<0?(i=YN(i),s=YN(s),e(MV,DV)):e(qN,GN),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,x;const w=l==null?10:+l;let p=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}p.length*2<w&&(p=vy(u,d,w))}else p=vy(h,m,Math.min(m-h,w)).map(s);return f?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pc(c)).precision==null&&(c.trim=!0),c=sx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(mC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function pC(){const e=ax(Ch()).domain([1,10]);return e.copy=()=>Bc(e,pC()).base(e.base()),Gr.apply(e,arguments),e}function XN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ox(e){var t=1,r=e(XN(t),JN(t));return r.constant=function(n){return arguments.length?e(XN(t=+n),JN(t)):t},Qi(r)}function gC(){var e=ox(Ch());return e.copy=function(){return Bc(e,gC()).constant(e.constant())},Gr.apply(e,arguments)}function QN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function LV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function BV(e){return e<0?-e*e:e*e}function lx(e){var t=e(Vt,Vt),r=1;function n(){return r===1?e(Vt,Vt):r===.5?e(LV,BV):e(QN(r),QN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qi(t)}function cx(){var e=lx(Ch());return e.copy=function(){return Bc(e,cx()).exponent(e.exponent())},Gr.apply(e,arguments),e}function FV(){return cx.apply(null,arguments).exponent(.5)}function ZN(e){return Math.sign(e)*e*e}function zV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function yC(){var e=nx(),t=[0,1],r=!1,n;function i(s){var a=zV(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(ZN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,af)).map(ZN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return yC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Gr.apply(i,arguments),Qi(i)}function vC(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=KW(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Ic(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ii),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return vC().domain(e).range(t).unknown(n)},Gr.apply(s,arguments)}function xC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Ic(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return xC().domain([e,t]).range(i).unknown(s)},Gr.apply(Qi(a),arguments)}function bC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Ic(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return bC().domain(e).range(t).unknown(r)},Gr.apply(i,arguments)}const fp=new Date,hp=new Date;function pt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>pt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(fp.setTime(+s),hp.setTime(+a),e(fp),e(hp),Math.floor(r(fp,hp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const lf=pt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?pt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Fn=1e3,Lr=Fn*60,zn=Lr*60,Qn=zn*24,ux=Qn*7,eS=Qn*30,mp=Qn*365,Ss=pt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCSeconds());Ss.range;const dx=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getMinutes());dx.range;const fx=pt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Lr)},(e,t)=>(t-e)/Lr,e=>e.getUTCMinutes());fx.range;const hx=pt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn-e.getMinutes()*Lr)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getHours());hx.range;const mx=pt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCHours());mx.range;const Fc=pt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Lr)/Qn,e=>e.getDate()-1);Fc.range;const Th=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>e.getUTCDate()-1);Th.range;const wC=pt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>Math.floor(e/Qn));wC.range;function Xs(e){return pt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Lr)/ux)}const Mh=Xs(0),cf=Xs(1),UV=Xs(2),WV=Xs(3),ao=Xs(4),VV=Xs(5),KV=Xs(6);Mh.range;cf.range;UV.range;WV.range;ao.range;VV.range;KV.range;function Js(e){return pt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ux)}const Dh=Js(0),uf=Js(1),HV=Js(2),qV=Js(3),oo=Js(4),GV=Js(5),YV=Js(6);Dh.range;uf.range;HV.range;qV.range;oo.range;GV.range;YV.range;const px=pt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());px.range;const gx=pt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gx.range;const Zn=pt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zn.range;const ei=pt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:pt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ei.range;function jC(e,t,r,n,i,s){const a=[[Ss,1,Fn],[Ss,5,5*Fn],[Ss,15,15*Fn],[Ss,30,30*Fn],[s,1,Lr],[s,5,5*Lr],[s,15,15*Lr],[s,30,30*Lr],[i,1,zn],[i,3,3*zn],[i,6,6*zn],[i,12,12*zn],[n,1,Qn],[n,2,2*Qn],[r,1,ux],[t,1,eS],[t,3,3*eS],[e,1,mp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Jv(([,,w])=>w).right(a,h);if(m===a.length)return e.every(by(u/mp,d/mp,f));if(m===0)return lf.every(Math.max(by(u,d,f),1));const[g,x]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(x)}return[l,c]}const[XV,JV]=jC(ei,gx,Dh,wC,mx,fx),[QV,ZV]=jC(Zn,px,Mh,Fc,hx,dx);function pp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function gp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function e7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=al(i),d=ol(i),f=al(s),h=ol(s),m=al(a),g=ol(a),x=al(l),w=ol(l),p=al(c),v=ol(c),b={a:W,A:k,b:E,B:K,c:null,d:aS,e:aS,f:N7,g:M7,G:R7,H:b7,I:w7,j:j7,L:NC,m:S7,M:P7,p:Y,q:J,Q:cS,s:uS,S:_7,u:k7,U:O7,V:A7,w:E7,W:C7,x:null,X:null,y:T7,Y:D7,Z:$7,"%":lS},j={a:xe,A:U,b:B,B:Q,c:null,d:oS,e:oS,f:F7,g:X7,G:Q7,H:I7,I:L7,j:B7,L:PC,m:z7,M:U7,p:I,q:V,Q:cS,s:uS,S:W7,u:V7,U:K7,V:H7,w:q7,W:G7,x:null,X:null,y:Y7,Y:J7,Z:Z7,"%":lS},N={a:T,A:C,b:z,B:$,c:_,d:iS,e:iS,f:g7,g:nS,G:rS,H:sS,I:sS,j:f7,L:p7,m:d7,M:h7,p:D,q:u7,Q:v7,s:x7,S:m7,u:s7,U:a7,V:o7,w:i7,W:l7,x:A,X:F,y:nS,Y:rS,Z:c7,"%":y7};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),j.x=S(r,j),j.X=S(n,j),j.c=S(t,j);function S(M,X){return function(oe){var R=[],q=-1,ee=0,ne=M.length,ce,me,Pe;for(oe instanceof Date||(oe=new Date(+oe));++q<ne;)M.charCodeAt(q)===37&&(R.push(M.slice(ee,q)),(me=tS[ce=M.charAt(++q)])!=null?ce=M.charAt(++q):me=ce==="e"?" ":"0",(Pe=X[ce])&&(ce=Pe(oe,me)),R.push(ce),ee=q+1);return R.push(M.slice(ee,q)),R.join("")}}function P(M,X){return function(oe){var R=sl(1900,void 0,1),q=O(R,M,oe+="",0),ee,ne;if(q!=oe.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(X&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(ee=gp(sl(R.y,0,1)),ne=ee.getUTCDay(),ee=ne>4||ne===0?uf.ceil(ee):uf(ee),ee=Th.offset(ee,(R.V-1)*7),R.y=ee.getUTCFullYear(),R.m=ee.getUTCMonth(),R.d=ee.getUTCDate()+(R.w+6)%7):(ee=pp(sl(R.y,0,1)),ne=ee.getDay(),ee=ne>4||ne===0?cf.ceil(ee):cf(ee),ee=Fc.offset(ee,(R.V-1)*7),R.y=ee.getFullYear(),R.m=ee.getMonth(),R.d=ee.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),ne="Z"in R?gp(sl(R.y,0,1)).getUTCDay():pp(sl(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(ne+5)%7:R.w+R.U*7-(ne+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,gp(R)):pp(R)}}function O(M,X,oe,R){for(var q=0,ee=X.length,ne=oe.length,ce,me;q<ee;){if(R>=ne)return-1;if(ce=X.charCodeAt(q++),ce===37){if(ce=X.charAt(q++),me=N[ce in tS?X.charAt(q++):ce],!me||(R=me(M,oe,R))<0)return-1}else if(ce!=oe.charCodeAt(R++))return-1}return R}function D(M,X,oe){var R=u.exec(X.slice(oe));return R?(M.p=d.get(R[0].toLowerCase()),oe+R[0].length):-1}function T(M,X,oe){var R=m.exec(X.slice(oe));return R?(M.w=g.get(R[0].toLowerCase()),oe+R[0].length):-1}function C(M,X,oe){var R=f.exec(X.slice(oe));return R?(M.w=h.get(R[0].toLowerCase()),oe+R[0].length):-1}function z(M,X,oe){var R=p.exec(X.slice(oe));return R?(M.m=v.get(R[0].toLowerCase()),oe+R[0].length):-1}function $(M,X,oe){var R=x.exec(X.slice(oe));return R?(M.m=w.get(R[0].toLowerCase()),oe+R[0].length):-1}function _(M,X,oe){return O(M,t,X,oe)}function A(M,X,oe){return O(M,r,X,oe)}function F(M,X,oe){return O(M,n,X,oe)}function W(M){return a[M.getDay()]}function k(M){return s[M.getDay()]}function E(M){return c[M.getMonth()]}function K(M){return l[M.getMonth()]}function Y(M){return i[+(M.getHours()>=12)]}function J(M){return 1+~~(M.getMonth()/3)}function xe(M){return a[M.getUTCDay()]}function U(M){return s[M.getUTCDay()]}function B(M){return c[M.getUTCMonth()]}function Q(M){return l[M.getUTCMonth()]}function I(M){return i[+(M.getUTCHours()>=12)]}function V(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var X=S(M+="",b);return X.toString=function(){return M},X},parse:function(M){var X=P(M+="",!1);return X.toString=function(){return M},X},utcFormat:function(M){var X=S(M+="",j);return X.toString=function(){return M},X},utcParse:function(M){var X=P(M+="",!0);return X.toString=function(){return M},X}}}var tS={"-":"",_:" ",0:"0"},St=/^\s*\d+/,t7=/^%/,r7=/[\\^$*+?|[\]().{}]/g;function Ne(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function n7(e){return e.replace(r7,"\\$&")}function al(e){return new RegExp("^(?:"+e.map(n7).join("|")+")","i")}function ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function i7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function s7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rS(e,t,r){var n=St.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function c7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function u7(e,t,r){var n=St.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function d7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function f7(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function sS(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function h7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=St.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=St.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=St.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function y7(e,t,r){var n=t7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function v7(e,t,r){var n=St.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function x7(e,t,r){var n=St.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function aS(e,t){return Ne(e.getDate(),t,2)}function b7(e,t){return Ne(e.getHours(),t,2)}function w7(e,t){return Ne(e.getHours()%12||12,t,2)}function j7(e,t){return Ne(1+Fc.count(Zn(e),e),t,3)}function NC(e,t){return Ne(e.getMilliseconds(),t,3)}function N7(e,t){return NC(e,t)+"000"}function S7(e,t){return Ne(e.getMonth()+1,t,2)}function P7(e,t){return Ne(e.getMinutes(),t,2)}function _7(e,t){return Ne(e.getSeconds(),t,2)}function k7(e){var t=e.getDay();return t===0?7:t}function O7(e,t){return Ne(Mh.count(Zn(e)-1,e),t,2)}function SC(e){var t=e.getDay();return t>=4||t===0?ao(e):ao.ceil(e)}function A7(e,t){return e=SC(e),Ne(ao.count(Zn(e),e)+(Zn(e).getDay()===4),t,2)}function E7(e){return e.getDay()}function C7(e,t){return Ne(cf.count(Zn(e)-1,e),t,2)}function T7(e,t){return Ne(e.getFullYear()%100,t,2)}function M7(e,t){return e=SC(e),Ne(e.getFullYear()%100,t,2)}function D7(e,t){return Ne(e.getFullYear()%1e4,t,4)}function R7(e,t){var r=e.getDay();return e=r>=4||r===0?ao(e):ao.ceil(e),Ne(e.getFullYear()%1e4,t,4)}function $7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ne(t/60|0,"0",2)+Ne(t%60,"0",2)}function oS(e,t){return Ne(e.getUTCDate(),t,2)}function I7(e,t){return Ne(e.getUTCHours(),t,2)}function L7(e,t){return Ne(e.getUTCHours()%12||12,t,2)}function B7(e,t){return Ne(1+Th.count(ei(e),e),t,3)}function PC(e,t){return Ne(e.getUTCMilliseconds(),t,3)}function F7(e,t){return PC(e,t)+"000"}function z7(e,t){return Ne(e.getUTCMonth()+1,t,2)}function U7(e,t){return Ne(e.getUTCMinutes(),t,2)}function W7(e,t){return Ne(e.getUTCSeconds(),t,2)}function V7(e){var t=e.getUTCDay();return t===0?7:t}function K7(e,t){return Ne(Dh.count(ei(e)-1,e),t,2)}function _C(e){var t=e.getUTCDay();return t>=4||t===0?oo(e):oo.ceil(e)}function H7(e,t){return e=_C(e),Ne(oo.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function q7(e){return e.getUTCDay()}function G7(e,t){return Ne(uf.count(ei(e)-1,e),t,2)}function Y7(e,t){return Ne(e.getUTCFullYear()%100,t,2)}function X7(e,t){return e=_C(e),Ne(e.getUTCFullYear()%100,t,2)}function J7(e,t){return Ne(e.getUTCFullYear()%1e4,t,4)}function Q7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oo(e):oo.ceil(e),Ne(e.getUTCFullYear()%1e4,t,4)}function Z7(){return"+0000"}function lS(){return"%"}function cS(e){return+e}function uS(e){return Math.floor(+e/1e3)}var oa,kC,OC;eK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eK(e){return oa=e7(e),kC=oa.format,oa.parse,OC=oa.utcFormat,oa.utcParse,oa}function tK(e){return new Date(e)}function rK(e){return e instanceof Date?+e:+new Date(+e)}function yx(e,t,r,n,i,s,a,l,c,u){var d=nx(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),w=u("%I %p"),p=u("%a %d"),v=u("%b %d"),b=u("%B"),j=u("%Y");function N(S){return(c(S)<S?m:l(S)<S?g:a(S)<S?x:s(S)<S?w:n(S)<S?i(S)<S?p:v:r(S)<S?b:j)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,rK)):h().map(tK)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?N:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(mC(P,S)):d},d.copy=function(){return Bc(d,yx(e,t,r,n,i,s,a,l,c,u))},d}function nK(){return Gr.apply(yx(QV,ZV,Zn,px,Mh,Fc,hx,dx,Ss,kC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function iK(){return Gr.apply(yx(XV,JV,ei,gx,Dh,Th,mx,fx,Ss,OC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Rh(){var e=0,t=1,r,n,i,s,a=Vt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(Oo),u.rangeRound=d(rx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function AC(){var e=Qi(Rh()(Vt));return e.copy=function(){return Zi(e,AC())},oi.apply(e,arguments)}function EC(){var e=ax(Rh()).domain([1,10]);return e.copy=function(){return Zi(e,EC()).base(e.base())},oi.apply(e,arguments)}function CC(){var e=ox(Rh());return e.copy=function(){return Zi(e,CC()).constant(e.constant())},oi.apply(e,arguments)}function vx(){var e=lx(Rh());return e.copy=function(){return Zi(e,vx()).exponent(e.exponent())},oi.apply(e,arguments)}function sK(){return vx.apply(null,arguments).exponent(.5)}function TC(){var e=[],t=Vt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ic(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ii),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>VW(e,s/n))},r.copy=function(){return TC(t).domain(e)},oi.apply(r,arguments)}function $h(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Vt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(w){var p,v,b;return arguments.length?([p,v,b]=w,u=yV(x,[p,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(Oo),m.rangeRound=g(rx),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),s=x(t),a=x(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function MC(){var e=Qi($h()(Vt));return e.copy=function(){return Zi(e,MC())},oi.apply(e,arguments)}function DC(){var e=ax($h()).domain([.1,1,10]);return e.copy=function(){return Zi(e,DC()).base(e.base())},oi.apply(e,arguments)}function RC(){var e=ox($h());return e.copy=function(){return Zi(e,RC()).constant(e.constant())},oi.apply(e,arguments)}function xx(){var e=lx($h());return e.copy=function(){return Zi(e,xx()).exponent(e.exponent())},oi.apply(e,arguments)}function aK(){return xx.apply(null,arguments).exponent(.5)}const yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zv,scaleDiverging:MC,scaleDivergingLog:DC,scaleDivergingPow:xx,scaleDivergingSqrt:aK,scaleDivergingSymlog:RC,scaleIdentity:hC,scaleImplicit:wy,scaleLinear:fC,scaleLog:pC,scaleOrdinal:Qv,scalePoint:qW,scalePow:cx,scaleQuantile:vC,scaleQuantize:xC,scaleRadial:yC,scaleSequential:AC,scaleSequentialLog:EC,scaleSequentialPow:vx,scaleSequentialQuantile:TC,scaleSequentialSqrt:sK,scaleSequentialSymlog:CC,scaleSqrt:FV,scaleSymlog:gC,scaleThreshold:bC,scaleTime:nK,scaleUtc:iK,tickFormat:dC},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,Ih=L([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bx=(e,t,r,n)=>n?Ih(e):es(e);function lo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Sr(t)&&Sr(r))return!0}return!1}function dS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function oK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Sr(r))i=r;else if(typeof r=="function")return;if(Sr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(lo(a))return a}}function lK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lo(n))return dS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ie(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&cN.test(i)){var c=cN.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ie(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&uN.test(s)){var d=uN.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(lo(h))return t==null?h:dS(h,t,r)}}}var Ao=1e9,cK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jx,We=!0,Vr="[DecimalError] ",Rs=Vr+"Invalid argument: ",wx=Vr+"Exponent out of range: ",Eo=Math.floor,ms=Math.pow,uK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,bt=1e7,Fe=7,$C=9007199254740991,df=Eo($C/Fe),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return Kn(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Ae(Kn(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return ut(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gr))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(We=!1,t=Kn(gc(r,s),gc(e,s),s),We=!0,Ae(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BC(t,e):IC(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Vr+"NaN");return r.s?(We=!1,t=Kn(r,e,0,1).times(e),We=!0,r.minus(t)):Ae(new n(r),i)};ae.naturalExponential=ae.exp=function(){return LC(this)};ae.naturalLogarithm=ae.ln=function(){return gc(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?IC(t,e):BC(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rs+e);if(t=ut(i)+1,n=i.d.length-1,r=n*Fe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vr+"NaN")}for(e=ut(l),We=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=yn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Kn(l,s,a+2)).times(.5),yn(s.d).slice(0,a)===(t=yn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ae(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return We=!0,Ae(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%bt|0,t=l/bt|0;s[i]=(s[i]+t)%bt|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,We?Ae(e,f.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(En(e,0,Ao),t===void 0?t=n.rounding:En(t,0,8),Ae(r,e+ut(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ws(n,!0):(En(e,0,Ao),t===void 0?t=i.rounding:En(t,0,8),n=Ae(new i(n),e+1,t),r=Ws(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ws(i):(En(e,0,Ao),t===void 0?t=s.rounding:En(t,0,8),n=Ae(new s(i),e+ut(i)+1,t),r=Ws(n.abs(),!1,e+ut(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Ae(new t(e),ut(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vr+"Infinity");return l}if(l.eq(gr))return l;if(n=c.precision,e.eq(gr))return Ae(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=$C){for(i=new c(gr),t=Math.ceil(n/Fe+4),We=!1;r%2&&(i=i.times(l),hS(i.d,t)),r=Eo(r/2),r!==0;)l=l.times(l),hS(l.d,t);return We=!0,e.s<0?new c(gr).div(i):Ae(i,n)}}else if(s<0)throw Error(Vr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,We=!1,i=e.times(gc(l,n+u)),We=!0,i=LC(i),i.s=s,i};ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ut(i),n=Ws(i,r<=s.toExpNeg||r>=s.toExpPos)):(En(e,1,Ao),t===void 0?t=s.rounding:En(t,0,8),i=Ae(new s(i),e,t),r=ut(i),n=Ws(i,e<=r||r<=s.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(En(e,1,Ao),t===void 0?t=n.rounding:En(t,0,8)),Ae(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Ws(e,t<=r.toExpNeg||t>=r.toExpPos)};function IC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),We?Ae(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/Fe),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/bt|0,c[s]%=bt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,We?Ae(t,f):t}function En(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rs+e)}function yn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=wi(r)),s+=n;a=e[t],n=a+"",r=Fe-n.length,r&&(s+=wi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Kn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%bt|0,a=s/bt|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*bt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,g,x,w,p,v,b,j,N,S,P,O,D=n.constructor,T=n.s==i.s?1:-1,C=n.d,z=i.d;if(!n.s)return new D(n);if(!i.s)throw Error(Vr+"Division by zero");for(c=n.e-i.e,P=z.length,N=C.length,m=new D(T),g=m.d=[],u=0;z[u]==(C[u]||0);)++u;if(z[u]>(C[u]||0)&&--c,s==null?v=s=D.precision:a?v=s+(ut(n)-ut(i))+1:v=s,v<0)return new D(0);if(v=v/Fe+2|0,u=0,P==1)for(d=0,z=z[0],v++;(u<N||d)&&v--;u++)b=d*bt+(C[u]||0),g[u]=b/z|0,d=b%z|0;else{for(d=bt/(z[0]+1)|0,d>1&&(z=e(z,d),C=e(C,d),P=z.length,N=C.length),j=P,x=C.slice(0,P),w=x.length;w<P;)x[w++]=0;O=z.slice(),O.unshift(0),S=z[0],z[1]>=bt/2&&++S;do d=0,l=t(z,x,P,w),l<0?(p=x[0],P!=w&&(p=p*bt+(x[1]||0)),d=p/S|0,d>1?(d>=bt&&(d=bt-1),f=e(z,d),h=f.length,w=x.length,l=t(f,x,h,w),l==1&&(d--,r(f,P<h?O:z,h))):(d==0&&(l=d=1),f=z.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=t(z,x,P,w),l<1&&(d++,r(x,P<w?O:z,w))),w=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[w++]=C[j]||0:(x=[C[j]],w=1);while((j++<N||x[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Ae(m,a?s+ut(m)+1:s)}}();function LC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(ut(e)>16)throw Error(wx+ut(e));if(!e.s)return new d(gr);for(t==null?(We=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(ms(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(gr),d.precision=l;;){if(i=Ae(i.times(e),l),r=r.times(++c),a=s.plus(Kn(i,r,l)),yn(a.d).slice(0,l)===yn(s.d).slice(0,l)){for(;u--;)s=Ae(s.times(s),l);return d.precision=f,t==null?(We=!0,Ae(s,f)):s}s=a}}function ut(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function yp(e,t,r){if(t>e.LN10.sd())throw We=!0,r&&(e.precision=r),Error(Vr+"LN10 precision limit exceeded");return Ae(new e(e.LN10),t)}function wi(e){for(var t="";e--;)t+="0";return t}function gc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,g=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Vr+(m.s?"NaN":"-Infinity"));if(m.eq(gr))return new x(0);if(t==null?(We=!1,u=w):u=t,m.eq(10))return t==null&&(We=!0),yp(x,u);if(u+=h,x.precision=u,r=yn(g),n=r.charAt(0),s=ut(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=yn(m.d),n=r.charAt(0),f++;s=ut(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=yp(x,u+2,w).times(s+""),m=gc(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,t==null?(We=!0,Ae(m,w)):m;for(l=a=m=Kn(m.minus(gr),m.plus(gr),u),d=Ae(m.times(m),u),i=3;;){if(a=Ae(a.times(d),u),c=l.plus(Kn(a,new x(i),u)),yn(c.d).slice(0,u)===yn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(yp(x,u+2,w).times(s+""))),l=Kn(l,new x(f),u),x.precision=w,t==null?(We=!0,Ae(l,w)):l;l=c,i+=2}}function fS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eo(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Fe;n<i;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),We&&(e.e>df||e.e<-df))throw Error(wx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ae(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Fe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Fe,i=n-Fe+a}if(r!==void 0&&(s=ms(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ms(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ut(e),f.length=1,t=t-s-1,f[0]=ms(10,(Fe-t%Fe)%Fe),e.e=Eo(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ms(10,Fe-n),f[d]=i>0?(u/ms(10,a-i)%ms(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==bt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=bt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(We&&(e.e>df||e.e<-df))throw Error(wx+ut(e));return e}function BC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),We?Ae(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Fe),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=bt-1;--c[s],c[i]+=bt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,We?Ae(t,m):t):new h(0)}function Ws(e,t,r){var n,i=ut(e),s=yn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+wi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+wi(-i-1)+s,r&&(n=r-a)>0&&(s+=wi(n))):i>=a?(s+=wi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+wi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=wi(n))),e.s<0?"-"+s:s}function hS(e,t){if(e.length>t)return e.length=t,!0}function FC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Rs+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return fS(a,s.toString())}else if(typeof s!="string")throw Error(Rs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,uK.test(s))fS(a,s);else throw Error(Rs+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=FC,i.config=i.set=dK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function dK(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Rs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rs+r+": "+n);return this}var jx=FC(cK);gr=new jx(1);const _e=jx;var fK=e=>e,zC={"@@functional/placeholder":!0},UC=e=>e===zC,mS=e=>function t(){return arguments.length===0||arguments.length===1&&UC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},WC=(e,t)=>e===1?t:mS(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==zC).length;return s>=e?t(...n):WC(e-s,mS(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>UC(d)?l.shift():d);return t(...u,...l)}))}),Lh=e=>WC(e.length,e),Py=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},hK=Lh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),mK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return fK;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},_y=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),VC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function KC(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function HC(e,t,r){for(var n=new _e(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Lh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Lh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Lh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var qC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},GC=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=KC(e.toNumber()),i=new _e(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new _e(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},pK=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _e(10).pow(KC(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var a=Math.floor((t-1)/2),l=mK(hK(c=>i.add(new _e(c-a).mul(n)).toNumber()),Py);return l(0,t)},YC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=GC(new _e(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new _e(0):(l=new _e(t).add(r).div(2),l=l.sub(new _e(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new _e(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?YC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new _e(c).mul(a)),tickMax:l.add(new _e(u).mul(a))})};function gK(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=qC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...Py(0,n-1).map(()=>1/0)]:[...Py(0,n-1).map(()=>-1/0),l];return t>r?_y(c):c}if(a===l)return pK(a,n,i);var{step:u,tickMin:d,tickMax:f}=YC(a,l,s,i,0),h=HC(d,f.add(new _e(.1).mul(u)),u);return t>r?_y(h):h}function yK(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=qC([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=GC(new _e(a).sub(s).div(l-1),i,0),u=[...HC(new _e(s),new _e(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?_y(u):u}var vK=VC(gK),xK=VC(yK),XC=e=>e.rootProps.maxBarSize,bK=e=>e.rootProps.barGap,JC=e=>e.rootProps.barCategoryGap,wK=e=>e.rootProps.barSize,zc=e=>e.rootProps.stackOffset,Nx=e=>e.options.chartName,Sx=e=>e.rootProps.syncId,QC=e=>e.rootProps.syncMethod,Px=e=>e.options.eventEmitter,pn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},er={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Bh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},jK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:pn.angleAxisId,includeHidden:!1,name:void 0,reversed:pn.reversed,scale:pn.scale,tick:pn.tick,tickCount:void 0,ticks:void 0,type:pn.type,unit:void 0},NK={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:er.type,unit:void 0},SK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:pn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:pn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:pn.scale,tick:pn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},PK={allowDataOverflow:er.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:er.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:er.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:er.scale,tick:er.tick,tickCount:er.tickCount,ticks:void 0,type:"category",unit:void 0},Co=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?SK:jK,Uc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?PK:NK,Fh=e=>e.polarOptions,_x=L([si,ai,mt],wE),ZC=L([Fh,_x],(e,t)=>{if(e!=null)return qt(e.innerRadius,t,0)}),eT=L([Fh,_x],(e,t)=>{if(e!=null)return qt(e.outerRadius,t,t*.8)}),_K=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},tT=L([Fh],_K),kK=L([Co,tT],Bh),rT=L([_x,ZC,eT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),OK=L([Uc,rT],Bh),To=L([ve,Fh,ZC,eT,si,ai],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:qt(a,i,i/2),cy:qt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ce=(e,t)=>t,Wc=(e,t,r)=>r;function kx(e){return e==null?void 0:e.id}var gt=e=>{var t=ve(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mo=e=>e.tooltip.settings.axisId,yt=e=>{var t=gt(e),r=Mo(e);return Do(e,t,r)};function nT(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=kx(a);c.forEach((d,f)=>{var h=i==null?f:String($e(d,i,null)),m=$e(d,a.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:m}),s.set(h,g)})}}),Array.from(s.values())}function zh(e){return e.stackId!=null&&e.dataKey!=null}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){AK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=CK(e,"string");return typeof t=="symbol"?t:t+""}function CK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ky=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},li=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??hr},mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ky,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Oh},ts=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??mr},TK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ox=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??TK},st=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return ts(e,r);case"zAxis":return Ox(e,r);case"angleAxis":return Co(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MK=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return ts(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Do=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return ts(e,r);case"angleAxis":return Co(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ax(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ex=e=>e.graphicalItems.cartesianItems,DK=L([Ce,Wc],Ax),Cx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Vc=L([Ex,st,DK],Cx),sT=L([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zh)),aT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),oT=L([Vc],aT),Tx=e=>e.map(t=>t.data).filter(Boolean).flat(1),RK=L([Vc],Tx),Mx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Dx=L([RK,bx],Mx),Rx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$e(i,n)}))):e.map(n=>({value:n})),Uh=L([Dx,st,Vc],Rx);function lT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qs(e){return e.filter(t=>An(t)||t instanceof Date).map(Number).filter(t=>wr(t)===!1)}function $K(e,t,r){return!r||typeof t!="number"||wr(t)?[]:r.length?Qs(r.flatMap(n=>{var i=$e(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Sr(s)||!Sr(a)))return[t-s,t+a]})):[]}var IK=L([sT,bx,yt],nT),cT=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(kx);return[a,{stackedData:a9(e,c,r),graphicalItems:l}]}))},Oy=L([IK,sT,zc],cT),uT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=d9(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},LK=L([Oy,es,Ce],uT),dT=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>lT(i,f)),d=$e(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:$K(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:$e(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Wh=e=>e.errorBars,fT=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>lT(r,n));L([oT,Wh,Ce],fT);var BK=L([Dx,st,oT,Wh,Ce],dT);function FK(e){var{value:t}=e;if(An(t)||t instanceof Date)return t}var gS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Qs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},zK=(e,t,r)=>{var n=e.map(FK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&iA(n))?tC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},$x=e=>{var t;if(e==null||!("domain"in e))return ky;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Qs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ky},hf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},hT=e=>e.referenceElements.dots,Ro=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),UK=L([hT,Ce,Wc],Ro),mT=e=>e.referenceElements.areas,WK=L([mT,Ce,Wc],Ro),pT=e=>e.referenceElements.lines,VK=L([pT,Ce,Wc],Ro),gT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},KK=L(UK,Ce,gT),yT=(e,t)=>{var r=Qs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},HK=L([WK,Ce],yT),vT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qK=L(VK,Ce,vT),GK=L(KK,qK,HK,(e,t,r)=>hf(e,r,t)),xT=L([st],$x),Ix=(e,t,r,n,i,s,a)=>{var l=oK(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?hf(r,i,gS(n)):hf(i,gS(n));return lK(t,u,e.allowDataOverflow)},YK=L([st,xT,LK,BK,GK,ve,Ce],Ix),XK=[0,1],Lx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ji(t,s);return u&&l==null?tC(0,r.length):c==="category"?zK(n,e,u):i==="expand"?XK:a}},Bx=L([st,ve,Dx,Uh,zc,Ce,YK],Lx),bT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Mc(s));return l in yl?l:"point"}}},rs=L([st,ve,iT,Nx,Ce],bT);function JK(e){if(e!=null){if(e in yl)return yl[e]();var t="scale".concat(Mc(e));if(t in yl)return yl[t]()}}function Vh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=JK(t);if(i!=null){var s=i.domain(r).range(n);return t9(s),s}}}var Fx=(e,t,r)=>{var n=$x(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lo(e))return vK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lo(e))return xK(e,t.tickCount,t.allowDecimals)}},zx=L([Bx,Do,rs],Fx),Ux=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},QK=L([st,Bx,zx,Ce],Ux),ZK=L(Uh,st,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Qs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),wT=L(ZK,ve,JC,mt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Sr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=qt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),eH=(e,t)=>{var r=li(e,t);return r==null||typeof r.padding!="string"?0:wT(e,"xAxis",t,r.padding)},tH=(e,t)=>{var r=ts(e,t);return r==null||typeof r.padding!="string"?0:wT(e,"yAxis",t,r.padding)},rH=L(li,eH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),nH=L(ts,tH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),iH=L([mt,rH,Eh,Ah,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),sH=L([mt,ve,nH,Eh,Ah,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Kc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return iH(e,r,n);case"yAxis":return sH(e,r,n);case"zAxis":return(i=Ox(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return tT(e);case"radiusAxis":return rT(e,r);default:return}},jT=L([st,Kc],Bh),$o=L([st,rs,QK,jT],Vh);L([Vc,Wh,Ce],fT);function NT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Kh=(e,t)=>t,Hh=(e,t,r)=>r,aH=L(Hv,Kh,Hh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(NT)),oH=L(qv,Kh,Hh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(NT)),ST=(e,t)=>({width:e.width,height:t.height}),lH=(e,t)=>{var r=typeof t.width=="number"?t.width:Oh;return{width:r,height:e.height}},PT=L(mt,li,ST),cH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},uH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},dH=L(ai,mt,aH,Kh,Hh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=ST(t,l);a==null&&(a=cH(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),fH=L(si,mt,oH,Kh,Hh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=lH(t,l);a==null&&(a=uH(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),hH=(e,t)=>{var r=mt(e),n=li(e,t);if(n!=null){var i=dH(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},mH=(e,t)=>{var r=mt(e),n=ts(e,t);if(n!=null){var i=fH(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},_T=L(mt,ts,(e,t)=>{var r=typeof t.width=="number"?t.width:Oh;return{width:r,height:e.height}}),yS=(e,t,r)=>{switch(t){case"xAxis":return PT(e,r).width;case"yAxis":return _T(e,r).height;default:return}},kT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ji(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&iA(c))return c}},Hc=L([ve,Uh,st,Ce],kT),Wx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ji(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},Vx=L([ve,Uh,Do,Ce],Wx),vS=L([ve,MK,rs,$o,Hc,Vx,Kc,zx,Ce],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ji(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),OT=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ji(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?jt(s[0]-s[1])*2*g:g;var x=f||i;if(x){var w=x.map((p,v)=>{var b=a?a.indexOf(p):p;return{index:v,coordinate:n(b)+g,value:p,offset:g}});return w.filter(p=>!wr(p.coordinate))}return u&&l?l.map((p,v)=>({coordinate:n(p)+g,value:p,index:v,offset:g})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,v)=>({coordinate:n(p)+g,value:a?a[p]:p,index:v,offset:g}))}},AT=L([ve,Do,rs,$o,zx,Kc,Hc,Vx,Ce],OT),ET=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ji(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?jt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},co=L([ve,Do,$o,Kc,Hc,Vx,Ce],ET),uo=L(st,$o,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})}),pH=L([st,rs,Bx,jT],Vh);L((e,t,r)=>Ox(e,r),pH,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})});var gH=L([ve,Hv,qv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),CT=e=>e.options.defaultTooltipEventType,TT=e=>e.options.validateTooltipEventTypes;function MT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Kx(e,t){var r=CT(e),n=TT(e);return MT(t,r,n)}function yH(e){return re(t=>Kx(t,e))}var DT=(e,t)=>{var r,n=Number(t);if(!(wr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},vH=e=>e.tooltip.settings,Pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},xH={itemInteraction:{click:Pi,hover:Pi},axisInteraction:{click:Pi,hover:Pi},keyboardInteraction:Pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},RT=kr({name:"tooltip",initialState:xH,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Vn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:bH,removeTooltipEntrySettings:wH,setTooltipSettingsState:jH,setActiveMouseOverItemIndex:$T,mouseLeaveItem:NH,mouseLeaveChart:IT,setActiveClickItemIndex:SH,setMouseOverAxisIndex:LT,setMouseClickAxisIndex:PH,setSyncInteraction:Ay,setKeyboardInteraction:Ey}=RT.actions,_H=RT.reducer;function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){kH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kH(e,t,r){return(t=OH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OH(e){var t=AH(e,"string");return typeof t=="symbol"?t:t+""}function AH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function CH(e){return e.index!=null}var BT=(e,t,r,n)=>{if(t==null)return Pi;var i=EH(e,t,r);if(i==null)return Pi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(CH(i)){if(s)return $u($u({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return $u($u({},Pi),{},{coordinate:i.coordinate})},Hx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Sr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},FT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},zT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},qc=e=>e.options.tooltipPayloadSearcher,Io=e=>e.tooltip;function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){TH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TH(e,t,r){return(t=MH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MH(e){var t=DH(e,"string");return typeof t=="symbol"?t:t+""}function DH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RH(e,t){return e??t}var UT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:x,settings:w}=m,p=RH(x,l),v=Array.isArray(p)?NE(p,u,d):p,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,j=w==null?void 0:w.nameKey,N;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?N=nz(v,n.dataKey,i):N=s(v,t,c,j),Array.isArray(N))N.forEach(P=>{var O=wS(wS({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(dN({tooltipEntrySettings:O,dataKey:P.dataKey,payload:P.payload,value:$e(P.payload,P.dataKey),name:P.name}))});else{var S;h.push(dN({tooltipEntrySettings:w,dataKey:b,payload:N,value:$e(N,b),name:(S=$e(N,j))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},qx=L([yt,ve,iT,Nx,gt],bT),$H=L([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),IH=L([gt,Mo],Ax),Gc=L([$H,yt,IH],Cx),LH=L([Gc],e=>e.filter(zh)),BH=L([Gc],Tx),Lo=L([BH,es],Mx),FH=L([LH,es,yt],nT),Gx=L([Lo,yt,Gc],Rx),zH=L([yt],$x),UH=L([Gc],e=>e.filter(zh)),WH=L([FH,UH,zc],cT),VH=L([WH,es,gt],uT),KH=L([Gc],aT),HH=L([Lo,yt,KH,Wh,gt],dT),qH=L([hT,gt,Mo],Ro),GH=L([qH,gt],gT),YH=L([mT,gt,Mo],Ro),XH=L([YH,gt],yT),JH=L([pT,gt,Mo],Ro),QH=L([JH,gt],vT),ZH=L([GH,QH,XH],hf),eq=L([yt,zH,VH,HH,ZH,ve,gt],Ix),WT=L([yt,ve,Lo,Gx,zc,gt,eq],Lx),tq=L([WT,yt,qx],Fx),rq=L([yt,WT,tq,gt],Ux),VT=e=>{var t=gt(e),r=Mo(e),n=!1;return Kc(e,t,r,n)},KT=L([yt,VT],Bh),HT=L([yt,qx,rq,KT],Vh),nq=L([ve,Gx,yt,gt],kT),iq=L([ve,Gx,yt,gt],Wx),sq=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ji(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},ci=L([ve,yt,qx,HT,VT,nq,iq,gt],sq),Yx=L([CT,TT,vH],(e,t,r)=>MT(r.shared,e,t)),qT=e=>e.tooltip.settings.trigger,Xx=e=>e.tooltip.settings.defaultIndex,qh=L([Io,Yx,qT,Xx],BT),Vi=L([qh,Lo],Hx),GT=L([ci,Vi],DT),YT=L([qh],e=>{if(e)return e.dataKey}),XT=L([Io,Yx,qT,Xx],zT),aq=L([si,ai,ve,mt,ci,Xx,XT,qc],FT),oq=L([qh,aq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),lq=L([qh],e=>e.active),cq=L([XT,Vi,es,yt,GT,qc,Yx],UT),uq=L([cq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mq=()=>re(yt),pq=()=>{var e=mq(),t=re(ci),r=re(HT);return uc(NS(NS({},e),{},{scale:r}),t)},gq=()=>re(Nx),Jx=(e,t)=>t,JT=(e,t,r)=>r,Qx=(e,t,r,n)=>n,yq=L(ci,e=>wh(e,t=>t.coordinate)),Zx=L([Io,Jx,JT,Qx],BT),QT=L([Zx,Lo],Hx),vq=(e,t,r)=>{if(t!=null){var n=Io(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ZT=L([Io,Jx,JT,Qx],zT),mf=L([si,ai,ve,mt,ci,Qx,ZT,qc],FT),xq=L([Zx,mf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),eM=L(ci,QT,DT),bq=L([ZT,QT,es,yt,eM,qc,Jx],UT),wq=L([Zx],e=>({isActive:e.active,activeIndex:e.index})),jq=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=f9(e.chartX,e.chartY,t,r,l);if(c){var u=m9(c,t),d=ZU(u,a,s,n,i),f=h9(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function Cy(){return Cy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cy.apply(null,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){Nq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Nq(e,t,r){return(t=Sq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Sq(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _q(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=J9;else if(u==="BarChart")m=Q9(a,d,i,s),g=GE;else if(a==="radial"){var{cx:x,cy:w,radius:p,startAngle:v,endAngle:b}=YE(d);m={cx:x,cy:w,startAngle:v,endAngle:b,innerRadius:p,outerRadius:p},g=JE}else m={points:CW(a,d,i)},g=IE;var j=typeof l=="object"&&"className"in l?l.className:void 0,N=Iu(Iu(Iu(Iu({stroke:"#ccc",pointerEvents:"none"},i),m),je(l,!1)),{},{payload:f,payloadIndex:h,className:pe("recharts-tooltip-cursor",j)});return y.isValidElement(l)?y.cloneElement(l,N):y.createElement(g,N)}function kq(e){var t=pq(),r=EE(),n=Yv(),i=gq();return y.createElement(_q,Cy({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var tM=y.createContext(null),Oq=()=>y.useContext(tM),rM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],p=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),p){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,g),!0}for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var j=w.length,N;for(b=0;b<j;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),p){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(N=1,v=new Array(p-1);N<p;N++)v[N-1]=arguments[N];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var x=0,w=[],p=g.length;x<p;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&w.push(g[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(rM);var Aq=rM.exports;const Eq=Kr(Aq);var yc=new Eq,Ty="recharts.syncEvent.tooltip",PS="recharts.syncEvent.brush";function eb(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return e==null?void 0:e[r]}}var Cq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},nM=kr({name:"options",initialState:Cq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Tq=nM.reducer,{createEventEmitter:Mq}=nM.actions;function Dq(e){return e.tooltip.syncInteraction}var Rq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},iM=kr({name:"chartData",initialState:Rq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:_S,setDataStartEndIndexes:$q,setComputedData:hre}=iM.actions,Iq=iM.reducer,sM=()=>{};function Lq(){var e=re(Sx),t=re(Px),r=Ye(),n=re(QC),i=re(ci),s=Yv(),a=Gv(),l=re(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return sM;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(i,m);h=i[g]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||a==null){r(Ay({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:p}=x,v=Math.min(w,a.x+a.width),b=Math.min(p,a.y+a.height),j={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},N=Ay({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(N)}}};return yc.on(Ty,c),()=>{yc.off(Ty,c)}},[l,r,t,e,n,i,s,a])}function Bq(){var e=re(Sx),t=re(Px),r=Ye();y.useEffect(()=>{if(e==null)return sM;var n=(i,s,a)=>{t!==a&&e===i&&r($q(s))};return yc.on(PS,n),()=>{yc.off(PS,n)}},[r,t,e])}function Fq(){var e=Ye();y.useEffect(()=>{e(Mq())},[e]),Lq(),Bq()}function zq(e,t,r,n,i,s){var a=re(h=>vq(h,e,t)),l=re(Px),c=re(Sx),u=re(QC),d=re(Dq),f=d==null?void 0:d.active;y.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Ay({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});yc.emit(Ty,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){Uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uq(e,t,r){return(t=Wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Vq(e,"string");return typeof t=="symbol"?t:t+""}function Vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kq(e){return e.dataKey}function Hq(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(A9,t)}var AS=[],qq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ys.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Vs(e){var t=qr(e,qq),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:w,trigger:p,defaultIndex:v,portal:b,axisId:j}=t,N=Ye(),S=typeof v=="number"?String(v):v;y.useEffect(()=>{N(jH({shared:w,trigger:p,axisId:j,active:r,defaultIndex:S}))},[N,w,p,j,r,S]);var P=Gv(),O=$E(),D=yH(w),{activeIndex:T,isActive:C}=re(B=>wq(B,D,p,S)),z=re(B=>bq(B,D,p,S)),$=re(B=>eM(B,D,p,S)),_=re(B=>xq(B,D,p,S)),A=z,F=Oq(),W=r??C,[k,E]=W8([A,W]),K=D==="axis"?$:void 0;zq(D,p,_,K,T,W);var Y=b??F;if(Y==null)return null;var J=A??AS;W||(J=AS),l&&J.length&&(J=o8(A.filter(B=>B.value!=null&&(B.hide!==!0||t.includeHidden)),d,Kq));var xe=J.length>0,U=y.createElement($9,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:W,coordinate:_,hasPayload:xe,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:g,lastBoundingBox:k,innerRef:E,hasPortalFromProps:!!b},Hq(a,OS(OS({},t),{},{payload:J,label:K,active:W,coordinate:_,accessibilityLayer:O})));return y.createElement(y.Fragment,null,Bk.createPortal(U,Y),W&&y.createElement(kq,{cursor:x,tooltipEventType:D,coordinate:_,payload:A,index:T}))}var aM={},oM={},lM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),a=void 0,l=null},w=()=>{d()},p=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return p.schedule=m,p.cancel=x,p.flush=w,i==null||i.addEventListener("abort",x,{once:!0}),p}e.debounce=t})(lM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lM;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(oM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(aM);var Gq=aM.throttle;const Yq=Kr(Gq);var Rl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ks=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,x=y.useRef(null),w=y.useRef();w.current=m,y.useImperativeHandle(t,()=>x.current);var[p,v]=y.useState({containerWidth:n.width,containerHeight:n.height}),b=y.useCallback((N,S)=>{v(P=>{var O=Math.round(N),D=Math.round(S);return P.containerWidth===O&&P.containerHeight===D?P:{containerWidth:O,containerHeight:D}})},[]);y.useEffect(()=>{var N=D=>{var T,{width:C,height:z}=D[0].contentRect;b(C,z),(T=w.current)===null||T===void 0||T.call(w,C,z)};d>0&&(N=Yq(N,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(N),{width:P,height:O}=x.current.getBoundingClientRect();return b(P,O),S.observe(x.current),()=>{S.disconnect()}},[b,d]);var j=y.useMemo(()=>{var{containerWidth:N,containerHeight:S}=p;if(N<0||S<0)return null;Rl(ws(i)||ws(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Rl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=ws(i)?N:i,O=ws(s)?S:s;return r&&r>0&&(P?O=P/r:O&&(P=O*r),c&&O>c&&(O=c)),Rl(P>0||O>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,O,i,s,a,l,r),y.Children.map(u,D=>y.cloneElement(D,{width:P,height:O,style:vp({width:P,height:O},D.props.style)}))},[r,u,s,c,l,a,p,i]);return y.createElement("div",{id:f?"".concat(f):void 0,className:pe("recharts-responsive-container",h),style:vp(vp({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),Zs=e=>null;Zs.displayName="Cell";function Zq(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rG{constructor(t){Zq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){iG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iG(e,t,r){return(t=sG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sG(e){var t=aG(e,"string");return typeof t=="symbol"?t:t+""}function aG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oG={cacheSize:2e3,enableCache:!0},cM=nG({},oG),TS=new rG(cM.cacheSize),lG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MS="recharts_measurement_span";function cG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var DS=(e,t)=>{try{var r=document.getElementById(MS);r||(r=document.createElement("span"),r.setAttribute("id",MS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,lG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$l=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};if(!cM.enableCache)return DS(t,r);var n=cG(t,r),i=TS.get(n);if(i)return i;var s=DS(t,r);return TS.set(n,s),s},RS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$S=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,dG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,uM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},fG=Object.keys(uM),Aa="NaN";function hG(e,t){return e*uM[t]}class Zt{static parse(t){var r,[,n,i]=(r=dG.exec(t))!==null&&r!==void 0?r:[];return new Zt(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wr(t)&&(this.unit=""),r!==""&&!uG.test(r)&&(this.num=NaN,this.unit=""),fG.includes(r)&&(this.num=hG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Zt(NaN,""):new Zt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function dM(e){if(e.includes(Aa))return Aa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=RS.exec(t))!==null&&r!==void 0?r:[],a=Zt.parse(n??""),l=Zt.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Aa;t=t.replace(RS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=$S.exec(t))!==null&&u!==void 0?u:[],m=Zt.parse(d??""),g=Zt.parse(h??""),x=f==="+"?m.add(g):m.subtract(g);if(x.isNaN())return Aa;t=t.replace($S,x.toString())}return t}var IS=/\(([^()]*)\)/;function mG(e){for(var t=e,r;(r=IS.exec(t))!=null;){var[,n]=r;t=t.replace(IS,dM(n))}return t}function pG(e){var t=e.replace(/\s+/g,"");return t=mG(t),t=dM(t),t}function gG(e){try{return pG(e)}catch{return Aa}}function xp(e){var t=gG(e.slice(5,-1));return t===Aa?"":t}var yG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vG=["dx","dy","angle","className","breakAll"];function My(){return My=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},My.apply(null,arguments)}function LS(e,t){if(e==null)return{};var r,n,i=xG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fM=/[ \f\n\r\t\v\u2028\u2029]+/,hM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];et(t)||(r?i=t.toString().split(""):i=t.toString().split(fM));var s=i.map(l=>({word:l,width:$l(l,n).width})),a=r?0:$l("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},bG=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=ie(s),d=a,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((z,$)=>{var{word:_,width:A}=$,F=z[z.length-1];if(F&&(n==null||i||F.width+A+r<Number(n)))F.words.push(_),F.width+=A+r;else{var W={words:[_],width:A};z.push(W)}return z},[])},h=f(t),m=T=>T.reduce((C,z)=>C.width>z.width?C:z);if(!u||i)return h;var g=h.length>s||m(h).width>Number(n);if(!g)return h;for(var x="",w=T=>{var C=d.slice(0,T),z=hM({breakAll:c,style:l,children:C+x}).wordsWithComputedWidth,$=f(z),_=$.length>s||m($).width>Number(n);return[_,$]},p=0,v=d.length-1,b=0,j;p<=v&&b<=d.length-1;){var N=Math.floor((p+v)/2),S=N-1,[P,O]=w(S),[D]=w(N);if(!P&&!D&&(p=N+1),P&&D&&(v=N-1),!P&&D){j=O;break}b++}return j||h},BS=e=>{var t=et(e)?[]:e.toString().split(fM);return[{words:t}]},wG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Ys.isSsr){var l,c,u=hM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return BS(n);return bG({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return BS(n)},FS="#808080",Bo=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=FS}=e,d=LS(e,yG),f=y.useMemo(()=>wG({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:g,className:x,breakAll:w}=d,p=LS(d,vG);if(!An(r)||!An(n))return null;var v=r+(ie(h)?h:0),b=n+(ie(m)?m:0),j;switch(c){case"start":j=xp("calc(".concat(s,")"));break;case"middle":j=xp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=xp("calc(".concat(f.length-1," * -").concat(i,")"));break}var N=[];if(a){var S=f[0].width,{width:P}=d;N.push("scale(".concat(ie(P)?P/S:1,")"))}return g&&N.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),N.length&&(p.transform=N.join(" ")),y.createElement("text",My({},je(p,!0),{ref:t,x:v,y:b,className:pe("recharts-text",x),textAnchor:l,fill:u.includes("url")?FS:u}),f.map((O,D)=>{var T=O.words.join(w?"":" ");return y.createElement("tspan",{x:v,dy:D===0?j:i,key:"".concat(T,"-").concat(D)},T)}))});Bo.displayName="Text";var jG=["offset"],NG=["labelRef"];function zS(e,t){if(e==null)return{};var r,n,i=SG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=_G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _G(e){var t=kG(e,"string");return typeof t=="symbol"?t:t+""}function kG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(null,arguments)}var OG=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},tb=e=>e!=null&&typeof e=="function",AG=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},EG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,g=(u+d)/2,x=AG(f,h),w=x>=0?1:-1,p,v;i==="insideStart"?(p=f+w*s,v=m):i==="insideEnd"?(p=h-w*s,v=!m):i==="end"&&(p=h+w*s,v=m),v=x<=0?v:!v;var b=Se(l,c,g,p),j=Se(l,c,g,p+(v?1:-1)*359),N="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(j.x,",").concat(j.y),S=et(e.id)?oc("recharts-radial-line-"):e.id;return y.createElement("text",In({},r,{dominantBaseline:"central",className:pe("recharts-radial-bar-label",a)}),y.createElement("defs",null,y.createElement("path",{id:S,d:N})),y.createElement("textPath",{xlinkHref:"#".concat(S)},t))},CG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Se(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:g}=Se(n,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},TG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,g=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var p={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Xe(Xe({},p),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Xe(Xe({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"};return Xe(Xe({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Xe(Xe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var N=r?{width:l,height:c}:{};return i==="insideLeft"?Xe({x:s+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},N):i==="insideRight"?Xe({x:s+l-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideTop"?Xe({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},N):i==="insideBottom"?Xe({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},N):i==="insideTopLeft"?Xe({x:s+g,y:a+d,textAnchor:w,verticalAnchor:h},N):i==="insideTopRight"?Xe({x:s+l-g,y:a+d,textAnchor:x,verticalAnchor:h},N):i==="insideBottomLeft"?Xe({x:s+g,y:a+c-d,textAnchor:w,verticalAnchor:f},N):i==="insideBottomRight"?Xe({x:s+l-g,y:a+c-d,textAnchor:x,verticalAnchor:f},N):i&&typeof i=="object"&&(ie(i.x)||ws(i.x))&&(ie(i.y)||ws(i.y))?Xe({x:s+qt(i.x,l),y:a+qt(i.y,c),textAnchor:"end",verticalAnchor:"end"},N):Xe({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},N)},MG=e=>"cx"in e&&ie(e.cx);function nr(e){var{offset:t=5}=e,r=zS(e,jG),n=Xe({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=re(To),m=Gv(),g=s==="center"?m:h??m,x=i||g;if(!x||et(a)&&et(l)&&!y.isValidElement(c)&&typeof c!="function")return null;var w=Xe(Xe({},n),{},{viewBox:x});if(y.isValidElement(c)){var p=zS(w,NG);return y.cloneElement(c,p)}var v;if(typeof c=="function"){if(v=y.createElement(c,w),y.isValidElement(v))return v}else v=OG(n);var b=MG(x),j=je(n,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return EG(n,v,j,x);var N=b?CG(x,n.offset,n.position):TG(n,x);return y.createElement(Bo,In({ref:f,className:pe("recharts-label",u)},j,N,{breakAll:d}),v)}nr.displayName="Label";var mM=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:g,height:x,clockWise:w,labelViewBox:p}=e;if(p)return p;if(ie(g)&&ie(x)){if(ie(d)&&ie(f))return{x:d,y:f,width:g,height:x};if(ie(h)&&ie(m))return{x:h,y:m,width:g,height:x}}if(ie(d)&&ie(f))return{x:d,y:f,width:0,height:0};if(ie(t)&&ie(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},DG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(nr,In({key:"label-implicit"},n)):An(e)?y.createElement(nr,In({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===nr?y.cloneElement(e,Xe({key:"label-implicit"},n)):y.createElement(nr,In({key:"label-implicit",content:e},n)):tb(e)?y.createElement(nr,In({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(nr,In({},e,{key:"label-implicit"},n)):null},RG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=mM(t),l=Dc(i,nr).map((u,d)=>y.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=DG(t.label,r||a,s);return[c,...l]};nr.parseViewBox=mM;nr.renderCallByParent=RG;var pM={},gM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(gM);var yM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(yM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gM,r=yM,n=ph;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(pM);var $G=pM.last;const vM=Kr($G);var IG=["valueAccessor"],LG=["data","dataKey","clockWise","id","textBreakAll"];function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return(t=FG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KS(e,t){if(e==null)return{};var r,n,i=UG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WG=e=>Array.isArray(e.value)?vM(e.value):e.value;function Li(e){var{valueAccessor:t=WG}=e,r=KS(e,IG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=KS(r,LG);return!n||!n.length?null:y.createElement(Ge,{className:"recharts-label-list"},n.map((u,d)=>{var f=et(i)?t(u,d):$e(u&&u.payload,i),h=et(a)?{}:{id:"".concat(a,"-").concat(d)};return y.createElement(nr,pf({},je(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:nr.parseViewBox(et(s)?u:VS(VS({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Li.displayName="LabelList";function VG(e,t){return e?e===!0?y.createElement(Li,{key:"labelList-implicit",data:t}):y.isValidElement(e)||tb(e)?y.createElement(Li,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Li,pf({data:t},e,{key:"labelList-implicit"})):null:null}function KG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Dc(n,Li).map((a,l)=>y.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=VG(e.label,t);return[s,...i]}Li.renderCallByParent=KG;var HG=["points","className","baseLinePoints","connectNulls"];function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(null,arguments)}function qG(e,t){if(e==null)return{};var r,n,i=GG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function GG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HS=e=>e&&e.x===+e.x&&e.y===+e.y,YG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{HS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),HS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Il=(e,t)=>{var r=YG(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},XG=(e,t,r)=>{var n=Il(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Il(t.reverse(),r).slice(1))},xM=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=qG(e,HG);if(!t||!t.length)return null;var a=pe("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=XG(t,n,i);return y.createElement("g",{className:a},y.createElement("path",Ea({},je(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?y.createElement("path",Ea({},je(s,!0),{fill:"none",d:Il(t,i)})):null,l?y.createElement("path",Ea({},je(s,!0),{fill:"none",d:Il(n,i)})):null)}var u=Il(t,i);return y.createElement("path",Ea({},je(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function Dy(){return Dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dy.apply(null,arguments)}var rb=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=pe("recharts-dot",i);return t===+t&&r===+r&&n===+n?y.createElement("circle",Dy({},Bt(e),Ov(e),{className:s,cx:t,cy:r,r:n})):null},nb=e=>e.graphicalItems.polarItems,JG=L([Ce,Wc],Ax),ib=L([nb,st,JG],Cx),QG=L([ib],Tx),sb=L([QG,Ih],Mx),bM=L([sb,st,ib],Rx),ZG=L([sb,st,ib],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=$e(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),qS=()=>{},eY=L([st,xT,qS,ZG,qS,ve,Ce],Ix),wM=L([st,ve,sb,bM,zc,Ce,eY],Lx),jM=L([wM,st,rs],Fx),tY=L([st,wM,jM,Ce],Ux),ab=(e,t,r)=>{switch(t){case"angleAxis":return Co(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ob=(e,t,r)=>{switch(t){case"angleAxis":return kK(e,r);case"radiusAxis":return OK(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fo=L([ab,rs,tY,ob],Vh),NM=L([ve,bM,Do,Ce],Wx),zo=L([ve,ab,rs,Fo,jM,ob,Hc,NM,Ce],OT);L([ve,ab,Fo,ob,Hc,NM,Ce],ET);var rY=(e,t)=>zo(e,"angleAxis",t,!1),nY=L([rY],e=>{if(e)return e.map(t=>t.coordinate)}),iY=(e,t)=>zo(e,"radiusAxis",t,!1),sY=L([iY],e=>{if(e)return e.map(t=>t.coordinate)}),aY=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function oY(e,t){if(e==null)return{};var r,n,i=lY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fY=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=Se(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},hY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=fo({stroke:"#ccc"},Bt(e));return y.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=Se(t,r,n,c),d=Se(t,r,i,c);return y.createElement("line",ti({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},mY=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=fo(fo({stroke:"#ccc"},Bt(e)),{},{fill:"none"});return y.createElement("circle",ti({},s,{className:pe("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},pY=e=>{var{radius:t,index:r}=e,n=fo(fo({stroke:"#ccc"},Bt(e)),{},{fill:"none"});return y.createElement("path",ti({},n,{className:pe("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:fY(t,e.cx,e.cy,e.polarAngles)}))},gY=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:y.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?y.createElement(mY,ti({key:s},e,{radius:n,index:i})):y.createElement(pY,ti({key:s},e,{radius:n,index:i}))}))},SM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:g,innerRadius:x,outerRadius:w}=e,p=oY(e,aY),v=re(To),b=fo({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=v==null?void 0:v.cy)!==null&&i!==void 0?i:g)!==null&&n!==void 0?n:0,innerRadius:(s=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:x)!==null&&s!==void 0?s:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},p),{polarAngles:j,polarRadius:N,cx:S,cy:P,innerRadius:O,outerRadius:D}=b,T=re(_=>nY(_,f)),C=re(_=>sY(_,h)),z=Array.isArray(j)?j:T,$=Array.isArray(N)?N:C;return D<=0||z==null||$==null?null:y.createElement("g",{className:"recharts-polar-grid"},y.createElement(hY,ti({cx:S,cy:P,innerRadius:O,outerRadius:D,gridType:u,radialLines:d},b,{polarAngles:z,polarRadius:$})),y.createElement(gY,ti({cx:S,cy:P,innerRadius:O,outerRadius:D,gridType:u,radialLines:d},b,{polarAngles:z,polarRadius:$})))};SM.displayName="PolarGrid";var PM={},_M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(_M);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_M,r=Rc,n=gh;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(PM);var yY=PM.maxBy;const vY=Kr(yY);var kM={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(OM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM,r=Rc,n=gh;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(kM);var xY=kM.minBy;const bY=Kr(xY);var wY={radiusAxis:{},angleAxis:{}},AM=kr({name:"polarAxis",initialState:wY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:jY,removeRadiusAxis:NY,addAngleAxis:SY,removeAngleAxis:PY}=AM.actions,_Y=AM.reducer,kY=["cx","cy","angle","axisLine"],OY=["angle","tickFormatter","stroke","tick"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(null,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){Gh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gh(e,t,r){return(t=AY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AY(e){var t=EY(e,"string");return typeof t=="symbol"?t:t+""}function EY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EM(e,t){if(e==null)return{};var r,n,i=CY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function CY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CM="radiusAxis";function TY(e){var t=Ye();return y.useEffect(()=>(t(jY(e)),()=>{t(NY(e))})),null}var MY=(e,t,r,n)=>{var{coordinate:i}=e;return Se(r,n,i,t)},DY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},RY=(e,t,r,n)=>{var i=vY(n,a=>a.coordinate||0),s=bY(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},$Y=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=EM(e,kY),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Se(r,n,l[0],i),u=Se(r,n,l[1],i),d=vn(vn(vn({},Bt(a)),{},{fill:"none"},je(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return y.createElement("line",vc({className:"recharts-polar-radius-axis-line"},d))},IY=(e,t,r)=>{var n;return y.isValidElement(e)?n=y.cloneElement(e,t):typeof e=="function"?n=e(t):n=y.createElement(Bo,vc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},LY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=EM(e,OY),l=DY(e.orientation),c=Bt(a),u=je(s,!1),d=t.map((f,h)=>{var m=MY(f,e.angle,e.cx,e.cy),g=vn(vn(vn(vn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return y.createElement(Ge,vc({className:pe("recharts-polar-radius-axis-tick",jE(s)),key:"tick-".concat(f.coordinate)},_o(e,f,h)),IY(s,g,n?n(f.value,h):f.value))});return y.createElement(Ge,{className:"recharts-polar-radius-axis-ticks"},d)},BY=e=>{var{radiusAxisId:t}=e,r=re(To),n=re(c=>Fo(c,"radiusAxis",t)),i=re(c=>zo(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=vn(vn(vn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return y.createElement(Ge,{className:pe("recharts-polar-radius-axis",CM,s.className)},l&&$Y(s,i),a&&LY(s,i),nr.renderCallByParent(s,RY(s.angle,s.cx,s.cy,i)))};class Yh extends y.PureComponent{render(){return y.createElement(y.Fragment,null,y.createElement(TY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),y.createElement(BY,this.props))}}Gh(Yh,"displayName","PolarRadiusAxis");Gh(Yh,"axisType",CM);Gh(Yh,"defaultProps",er);var FY=["children"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){Xh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xh(e,t,r){return(t=zY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zY(e){var t=UY(e,"string");return typeof t=="symbol"?t:t+""}function UY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function WY(e,t){if(e==null)return{};var r,n,i=VY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function VY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KY=Math.PI/180,JS=1e-5,TM="angleAxis";function HY(e){var t=Ye(),r=y.useMemo(()=>{var s=WY(e,FY);return s},[e]),n=re(s=>Co(s,r.id)),i=r===n;return y.useEffect(()=>(t(SY(r)),()=>{t(PY(r))}),[t,r]),i?e.children:null}var qY=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=Se(r,n,i,e.coordinate),u=Se(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},GY=(e,t)=>{var r=Math.cos(-e.coordinate*KY);return r>JS?t==="outer"?"start":"end":r<-JS?t==="outer"?"end":"start":"middle"},YY=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=gn(gn({},Bt(e)),{},{fill:"none"},je(s,!1));if(i==="circle")return y.createElement(rb,ri({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>Se(t,r,n,u.coordinate));return y.createElement(xM,ri({className:"recharts-polar-angle-axis-line"},l,{points:c}))},XY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?y.isValidElement(t)?y.cloneElement(t,r):typeof t=="function"?t(r):y.createElement(Bo,ri({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},JY=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=Bt(e),l=je(t,!1),c=gn(gn({},a),{},{fill:"none"},je(r,!1)),u=s.map((d,f)=>{var h=qY(d,e),m=GY(d,e.orientation),g=gn(gn(gn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return y.createElement(Ge,ri({className:pe("recharts-polar-angle-axis-tick",jE(t)),key:"tick-".concat(d.coordinate)},_o(e,d,f)),r&&y.createElement("line",ri({className:"recharts-polar-angle-axis-tick-line"},c,h)),y.createElement(XY,{tick:t,tickProps:g,value:n?n(d.value,f):d.value}))});return y.createElement(Ge,{className:"recharts-polar-angle-axis-ticks"},u)},QY=e=>{var{angleAxisId:t}=e,r=re(To),n=re(l=>Fo(l,"angleAxis",t)),i=fr(),s=re(l=>zo(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=gn(gn(gn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return y.createElement(Ge,{className:pe("recharts-polar-angle-axis",TM,a.className)},y.createElement(YY,ri({},a,{ticks:s})),y.createElement(JY,ri({},a,{ticks:s})))};class Jh extends y.PureComponent{render(){return this.props.radius<=0?null:y.createElement(HY,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},y.createElement(QY,this.props))}}Xh(Jh,"displayName","PolarAngleAxis");Xh(Jh,"axisType",TM);Xh(Jh,"defaultProps",pn);function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){ZY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZY(e,t,r){return(t=eX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eX(e){var t=tX(e,"string");return typeof t=="symbol"?t:t+""}function tX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rX=(e,t)=>t,lb=L([nb,rX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),nX=[],cb=(e,t,r)=>(r==null?void 0:r.length)===0?nX:r,MM=L([Ih,lb,cb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>ZS(ZS({},t.presentationProps),s.props))),i!=null)return i}}),iX=L([MM,lb,cb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=$e(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ko(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),sX=L([MM,lb,cb,mt],(e,t,r,n)=>{if(!(t==null||e==null))return XX({offset:n,pieSettings:t,displayedData:e,cells:r})}),DM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(DM);var aX=DM.isPlainObject;const oX=Kr(aX);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var eP=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},lX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},cX=e=>{var t=qr(e,lX),r=y.useRef(),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var x=pe("recharts-trapezoid",d);return g?y.createElement(Zd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:g},w=>{var{upperWidth:p,lowerWidth:v,height:b,x:j,y:N}=w;return y.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},y.createElement("path",gf({},je(t,!0),{className:x,d:eP(j,N,p,v,b),ref:r})))}):y.createElement("g",null,y.createElement("path",gf({},je(t,!0),{className:x,d:eP(s,a,l,c,u)})))},uX=["option","shapeType","propTransformer","activeClassName","isActive"];function dX(e,t){if(e==null)return{};var r,n,i=fX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(r),!0).forEach(function(n){hX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hX(e,t,r){return(t=mX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mX(e){var t=pX(e,"string");return typeof t=="symbol"?t:t+""}function pX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gX(e,t){return yf(yf({},t),e)}function yX(e,t){return e==="symbols"}function rP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(GE,r);case"trapezoid":return y.createElement(cX,r);case"sector":return y.createElement(JE,r);case"symbols":if(yX(t))return y.createElement(PA,r);break;default:return null}}function vX(e){return y.isValidElement(e)?e.props:e}function RM(e){var{option:t,shapeType:r,propTransformer:n=gX,activeClassName:i="recharts-active-shape",isActive:s}=e,a=dX(e,uX),l;if(y.isValidElement(t))l=y.cloneElement(t,yf(yf({},a),vX(t)));else if(typeof t=="function")l=t(a);else if(oX(t)&&typeof t!="boolean"){var c=n(t,a);l=y.createElement(rP,{shapeType:r,elementProps:c})}else{var u=a;l=y.createElement(rP,{shapeType:r,elementProps:u})}return s?y.createElement(Ge,{className:i},l):l}var ub=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r($T({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},db=e=>{var t=Ye();return(r,n)=>i=>{e==null||e(r,n,i),t(NH())}},fb=(e,t)=>{var r=Ye();return(n,i)=>s=>{e==null||e(n,i,s),r(SH({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function hb(e){var{fn:t,args:r}=e,n=Ye(),i=fr();return y.useEffect(()=>{if(!i){var s=t(r);return n(bH(s)),()=>{n(wH(s))}}},[t,r,n,i]),null}var $M=()=>{};function xX(e){var{legendPayload:t}=e,r=Ye(),n=fr();return y.useEffect(()=>n?$M:(r(DE(t)),()=>{r(RE(t))}),[r,n,t]),null}function IM(e){var{legendPayload:t}=e,r=Ye(),n=re(ve);return y.useEffect(()=>n!=="centric"&&n!=="radial"?$M:(r(DE(t)),()=>{r(RE(t))}),[r,n,t]),null}function mb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(oc(t)),n=y.useRef(e);return n.current!==e&&(r.current=oc(t),n.current=e),r.current}var bp,bX=()=>{var[e]=y.useState(()=>oc("uid-"));return e},wX=(bp=GD.useId)!==null&&bp!==void 0?bp:bX;function jX(e,t){var r=wX();return t||(e?"".concat(e,"-").concat(r):r)}var NX=y.createContext(void 0),pb=e=>{var{id:t,type:r,children:n}=e,i=jX("recharts-".concat(r),t);return y.createElement(NX.Provider,{value:i},n(i))},SX={cartesianItems:[],polarItems:[]},LM=kr({name:"graphicalItems",initialState:SX,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Vn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Vn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Vn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:PX,replaceCartesianGraphicalItem:_X,removeCartesianGraphicalItem:kX,addPolarGraphicalItem:OX,removePolarGraphicalItem:AX}=LM.actions,EX=LM.reducer;function CX(e){var t=Ye(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(PX(e)):r.current!==e&&t(_X({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(kX(r.current)),r.current=null)},[t]),null}function BM(e){var t=Ye();return y.useEffect(()=>(t(OX(e)),()=>{t(AX(e))}),[t,e]),null}function TX(){}var MX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},nP={t:0},wp={t:1};function gb(e){var t=qr(e,MX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=qE("JavascriptAnimate",t.animationManager),[f,h]=y.useState(r?nP:wp),m=y.useRef(null);return y.useEffect(()=>{r||h(wp)},[r]),y.useEffect(()=>{if(!r||!n)return TX;var g=HE(nP,wp,VE(s),i,h,d.getTimeoutController()),x=()=>{m.current=g()};return d.start([c,a,x,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var DX=["onMouseEnter","onClick","onMouseLeave"],RX=["id"],$X=["id"];function yb(e,t){if(e==null)return{};var r,n,i=IX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function iP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iP(Object(r),!0).forEach(function(n){LX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LX(e,t,r){return(t=BX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BX(e){var t=FX(e,"string");return typeof t=="symbol"?t:t+""}function FX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function zX(e){var t=y.useMemo(()=>Dc(e.children,Zs),[e.children]),r=re(n=>iX(n,e.id,t));return r==null?null:y.createElement(IM,{legendPayload:r})}function UX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:ko(l,t),hide:c,type:u,color:a,unit:""}}}var WX=(e,t)=>e>t?"start":e<t?"end":"middle",VX=(e,t,r)=>typeof t=="function"?t(e):qt(t,r,r*.8),KX=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=wE(s,a),c=i+qt(e.cx,s,s/2),u=n+qt(e.cy,a,a/2),d=qt(e.innerRadius,l,0),f=VX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},HX=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},qX=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=pe("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(IE,ni({},t,{type:"linear",className:r}))},GX=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var i=pe("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(Bo,ni({},t,{alignmentBaseline:"middle",className:i}),n)};function YX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=Bt(r),c=je(i,!1),u=je(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,x=Se(h.cx,h.cy,h.outerRadius+d,g),w=Ze(Ze(Ze(Ze({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:WX(x.x,h.cx)},x),p=Ze(Ze(Ze(Ze({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Se(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return y.createElement(Ge,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&qX(s,p),GX(i,w,$e(h,a)))});return y.createElement(Ge,{className:"recharts-pie-labels"},f)}function FM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=re(Vi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=yb(i,DX),f=ub(l,i.dataKey),h=db(u),m=fb(c,i.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=r&&String(x)===a,p=a?n:null,v=w?r:p,b=Ze(Ze({},g),{},{stroke:g.stroke,tabIndex:-1,[kE]:x,[OE]:i.dataKey});return y.createElement(Ge,ni({tabIndex:-1,className:"recharts-pie-sector"},_o(d,g,x),{onMouseEnter:f(g,x),onMouseLeave:h(g,x),onClick:m(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),y.createElement(RM,ni({option:v,isActive:w,shapeType:"sector"},b)))}),y.createElement(YX,{sectors:t,props:i,showLabels:s}))}function XX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=HX(l,c),g=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>$e(S,u,0)!==0).length,p=(g>=360?w:w-1)*x,v=g-w*h-p,b=n.reduce((S,P)=>{var O=$e(P,u,0);return S+(ie(O)?O:0)},0),j;if(b>0){var N;j=n.map((S,P)=>{var O=$e(S,u,0),D=$e(S,d,P),T=KX(r,s,S),C=(ie(O)?O:0)/b,z,$=Ze(Ze({},S),i&&i[P]&&i[P].props);P?z=N.endAngle+jt(m)*x*(O!==0?1:0):z=l;var _=z+jt(m)*((O!==0?h:0)+C*v),A=(z+_)/2,F=(T.innerRadius+T.outerRadius)/2,W=[{name:D,value:O,payload:$,dataKey:u,type:f}],k=Se(T.cx,T.cy,F,A);return N=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:C,cornerRadius:a,name:D,tooltipPayload:W,midAngle:A,middleRadius:F,tooltipPosition:k},$),T),{},{value:$e(S,u),startAngle:z,endAngle:_,payload:$,paddingAngle:jt(m)*x}),N})}return j}function JX(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=mb(t,"recharts-pie-"),m=r.current,[g,x]=y.useState(!0),w=y.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),p=y.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return y.createElement(gb,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:p,onAnimationEnd:w,key:h},v=>{var b=[],j=n&&n[0],N=j.startAngle;return n.forEach((S,P)=>{var O=m&&m[P],D=P>0?Wi(S,"paddingAngle",0):0;if(O){var T=Oa(O.endAngle-O.startAngle,S.endAngle-S.startAngle),C=Ze(Ze({},S),{},{startAngle:N+D,endAngle:N+T(v)+D});b.push(C),N=C.endAngle}else{var{endAngle:z,startAngle:$}=S,_=Oa(0,z-$),A=_(v),F=Ze(Ze({},S),{},{startAngle:N+D,endAngle:N+A+D});b.push(F),N=F.endAngle}}),r.current=b,y.createElement(Ge,null,y.createElement(FM,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!g}))})}function QX(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=y.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?y.createElement(JX,{props:e,previousSectorsRef:s}):y.createElement(FM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function ZX(e){var{hide:t,className:r,rootTabIndex:n}=e,i=pe("recharts-pie",r);return t?null:y.createElement(Ge,{tabIndex:n,className:i},y.createElement(QX,e))}var eJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ys.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function tJ(e){var{id:t}=e,r=yb(e,RX),n=y.useMemo(()=>Dc(e.children,Zs),[e.children]),i=re(s=>sX(s,t,n));return y.createElement(y.Fragment,null,y.createElement(hb,{fn:UX,args:Ze(Ze({},e),{},{sectors:i})}),y.createElement(ZX,ni({},r,{sectors:i})))}function Qh(e){var t=qr(e,eJ),{id:r}=t,n=yb(t,$X),i=Bt(n);return y.createElement(pb,{id:r,type:"pie"},s=>y.createElement(y.Fragment,null,y.createElement(BM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),y.createElement(zX,ni({},n,{id:s})),y.createElement(tJ,ni({},n,{id:s})),n.children))}Qh.displayName="Pie";var rJ=L([mt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),nJ=L([rJ,si,ai],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),zM=()=>re(nJ),iJ=()=>re(uq);function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function aP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return(t=aJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=oJ(e,"string");return typeof t=="symbol"?t:t+""}function oJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=aP(aP({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},je(i,!1)),Ov(i)),l;return y.isValidElement(i)?l=y.cloneElement(i,a):typeof i=="function"?l=i(a):l=y.createElement(rb,a),y.createElement(Ge,{className:"recharts-active-dot"},l)};function cJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=re(Vi),a=iJ();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return et(l)?null:lJ({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function oP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oP(Object(r),!0).forEach(function(n){uJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uJ(e,t,r){return(t=dJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dJ(e){var t=fJ(e,"string");return typeof t=="symbol"?t:t+""}function fJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var UM=(e,t)=>Fo(e,"radiusAxis",t),hJ=L([UM],e=>{if(e!=null)return{scale:e}}),mJ=L([Uc,UM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),pJ=(e,t,r,n)=>zo(e,"radiusAxis",t,n),WM=(e,t,r)=>Co(e,r),VM=(e,t,r)=>Fo(e,"angleAxis",r),gJ=L([WM,VM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),yJ=(e,t,r,n)=>zo(e,"angleAxis",r,n),vJ=L([WM,VM,To],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),xJ=(e,t,r,n,i)=>i,bJ=L([ve,mJ,pJ,gJ,yJ],(e,t,r,n,i)=>Ji(e,"radiusAxis")?uc(t,r,!1):uc(n,i,!1)),wJ=L([nb,xJ],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),jJ=L([hJ,vJ,Ih,wJ,bJ],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return CJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),NJ=["id"];function SJ(e,t){if(e==null)return{};var r,n,i=PJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function lP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lP(Object(r),!0).forEach(function(n){vb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vb(e,t,r){return(t=_J(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _J(e){var t=kJ(e,"string");return typeof t=="symbol"?t:t+""}function kJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ho.apply(null,arguments)}function xb(e,t){return e&&e!=="none"?e:t}var OJ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:xb(n,i),value:ko(r,t),payload:e}]};function AJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:ko(s,t),hide:a,type:l,color:xb(r,i),unit:""}}}function EJ(e,t){var r;return y.isValidElement(e)?r=y.cloneElement(e,t):typeof e=="function"?r=e(t):r=y.createElement(rb,ho({},t,{className:pe("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function CJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var g=$e(h,r.dataKey,m),x=$e(h,i),w=r.scale(g)+d,p=Array.isArray(x)?vM(x):x,v=et(p)?void 0:t.scale(p);Array.isArray(x)&&x.length>=2&&(c=!0),u.push(Kt(Kt({},Se(a,l,v,w)),{},{name:g,value:x,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],g=et(m)?void 0:t.scale(m);f.push(Kt(Kt({},h),{},{radius:g},Se(a,l,g,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function TJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=SJ(r,NJ),a=Bt(s),l=je(n,!0),c=t.map((u,d)=>{var f=Kt(Kt(Kt({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return EJ(n,f)});return y.createElement(Ge,{className:"recharts-radar-dots"},c)}function KM(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return y.isValidElement(i)?d=y.cloneElement(i,Kt(Kt({},r),{},{points:t})):typeof i=="function"?d=i(Kt(Kt({},r),{},{points:t})):d=y.createElement(xM,ho({},je(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),y.createElement(Ge,{className:"recharts-radar-polygon"},d,y.createElement(TJ,{props:r,points:t}),n&&Li.renderCallByParent(r,t))}function MJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=mb(t,"recharts-radar-"),[h,m]=y.useState(!0),g=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=y.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return y.createElement(gb,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:g,onAnimationStart:x},w=>{var p=d&&d.length/n.length,v=w===1?n:n.map((b,j)=>{var N=d&&d[Math.floor(j*p)];if(N){var S=Oa(N.x,b.x),P=Oa(N.y,b.y);return Kt(Kt({},b),{},{x:S(w),y:P(w)})}var O=Oa(b.cx,b.x),D=Oa(b.cy,b.y);return Kt(Kt({},b),{},{x:O(w),y:D(w)})});return w>0&&(r.current=v),y.createElement(KM,{points:v,props:t,showLabels:!h})})}function DJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=y.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?y.createElement(MJ,{props:e,previousPointsRef:i}):y.createElement(KM,{points:t,props:e,showLabels:!0})}var RJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ys.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class $J extends y.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=pe("recharts-radar",r);return y.createElement(y.Fragment,null,y.createElement(Ge,{className:i},y.createElement(DJ,this.props)),y.createElement(cJ,{points:n,mainColor:xb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function IJ(e){var t=fr(),r=re(n=>jJ(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return y.createElement($J,ho({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class bb extends y.PureComponent{render(){return y.createElement(pb,{id:this.props.id,type:"radar"},t=>y.createElement(y.Fragment,null,y.createElement(BM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),y.createElement(IM,{legendPayload:OJ(this.props)}),y.createElement(hb,{fn:AJ,args:this.props}),y.createElement(IJ,ho({},this.props,{id:t}))))}}vb(bb,"displayName","Radar");vb(bb,"defaultProps",RJ);var LJ="Invariant failed";function BJ(e,t){throw new Error(LJ)}var FJ=["x","y"];function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function cP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cP(Object(r),!0).forEach(function(n){zJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zJ(e,t,r){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e,t){if(e==null)return{};var r,n,i=KJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HJ(e,t){var{x:r,y:n}=e,i=VJ(e,FJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ll(ll(ll(ll(ll({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function HM(e){return y.createElement(RM,Ry({shapeType:"rectangle",propTransformer:HJ,activeClassName:"recharts-active-bar"},e))}var qJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ie(t))return t;var s=ie(n)||et(n);return s?t(n,i):(s||BJ(),r)}},GJ={},YJ=kr({name:"errorBars",initialState:GJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),XJ=YJ.reducer,JJ=["children"];function QJ(e,t){if(e==null)return{};var r,n,i=ZJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ZJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},tQ=y.createContext(eQ);function rQ(e){var{children:t}=e,r=QJ(e,JJ);return y.createElement(tQ.Provider,{value:r},t)}function qM(e,t){var r,n,i=re(u=>li(u,e)),s=re(u=>ts(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function nQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=zM(),{needClipX:s,needClipY:a,needClip:l}=qM(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var iQ=["onMouseEnter","onMouseLeave","onClick"],sQ=["value","background","tooltipPosition"],aQ=["id"],oQ=["onMouseEnter","onClick","onMouseLeave"];function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function uP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uP(Object(r),!0).forEach(function(n){lQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lQ(e,t,r){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(e,t){if(e==null)return{};var r,n,i=dQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:ko(r,t),payload:e}]};function hQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ko(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function mQ(e){var t=re(Vi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=xf(s,iQ),d=ub(a,n),f=db(l),h=fb(c,n);if(!i||r==null)return null;var m=je(i,!1);return y.createElement(y.Fragment,null,r.map((g,x)=>{var{value:w,background:p,tooltipPosition:v}=g,b=xf(g,sQ);if(!p)return null;var j=d(g,x),N=f(g,x),S=h(g,x),P=Rt(Rt(Rt(Rt(Rt({option:i,isActive:String(x)===t},b),{},{fill:"#eee"},p),m),_o(u,g,x)),{},{onMouseEnter:j,onMouseLeave:N,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(HM,mo({key:"background-bar-".concat(x)},P))}))}function GM(e){var{data:t,props:r,showLabels:n}=e,i=Bt(r),s=xf(i,aQ),{shape:a,dataKey:l,activeBar:c}=r,u=re(Vi),d=re(YT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,g=xf(r,oQ),x=ub(f,l),w=db(m),p=fb(h,l);return t?y.createElement(y.Fragment,null,t.map((v,b)=>{var j=c&&String(b)===u&&(d==null||l===d),N=j?c:a,S=Rt(Rt(Rt({},s),v),{},{isActive:j,option:N,index:b,dataKey:l});return y.createElement(Ge,mo({className:"recharts-bar-rectangle"},_o(g,v,b),{onMouseEnter:x(v,b),onMouseLeave:w(v,b),onClick:p(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),y.createElement(HM,S))}),n&&Li.renderCallByParent(r,t)):null}function pQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=mb(t,"recharts-bar-"),[m,g]=y.useState(!1),x=y.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),w=y.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return y.createElement(gb,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:w,key:h},p=>{var v=p===1?n:n==null?void 0:n.map((b,j)=>{var N=f&&f[j];if(N)return Rt(Rt({},b),{},{x:aa(N.x,b.x,p),y:aa(N.y,b.y,p),width:aa(N.width,b.width,p),height:aa(N.height,b.height,p)});if(i==="horizontal"){var S=aa(0,b.height,p);return Rt(Rt({},b),{},{y:b.y+b.height-S,height:S})}var P=aa(0,b.width,p);return Rt(Rt({},b),{},{width:P})});return p>0&&(r.current=v??null),v==null?null:y.createElement(Ge,null,y.createElement(GM,{props:t,data:v,showLabels:!m}))})}function gQ(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(pQ,{previousRectanglesRef:n,props:e}):y.createElement(GM,{props:e,data:t,showLabels:!0})}var YM=0,yQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$e(e,t)}};class vQ extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=pe("recharts-bar",i),f=u;return y.createElement(Ge,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(nQ,{clipPathId:f,xAxisId:s,yAxisId:a})),y.createElement(Ge,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(mQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(gQ,this.props)),this.props.children)}}var xQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ys.isSsr,legendType:"rect",minPointSize:YM,xAxisId:0,yAxisId:0};function bQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=qM(t,r),h=Yv(),m=fr(),g=Dc(e.children,Zs),x=re(v=>qQ(v,t,r,m,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var w,p=x==null?void 0:x[0];return p==null||p.height==null||p.width==null?w=0:w=h==="vertical"?p.height/2:p.width/2,y.createElement(rQ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:yQ,errorBarOffset:w},y.createElement(vQ,mo({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function wQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,g=t==="horizontal"?l:a,x=d?g.scale.domain():null,w=l9({numericAxis:g});return f.map((p,v)=>{var b,j,N,S,P,O;d?b=r9(d[v],x):(b=$e(p,r),Array.isArray(b)||(b=[w,b]));var D=qJ(n,YM)(b[1],v);if(t==="horizontal"){var T,[C,z]=[l.scale(b[0]),l.scale(b[1])];j=lN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:p,index:v}),N=(T=z??C)!==null&&T!==void 0?T:void 0,S=i.size;var $=C-z;if(P=wr($)?0:$,O={x:j,y:h.top,width:S,height:h.height},Math.abs(D)>0&&Math.abs(P)<Math.abs(D)){var _=jt(P||D)*(Math.abs(D)-Math.abs(P));N-=_,P+=_}}else{var[A,F]=[a.scale(b[0]),a.scale(b[1])];if(j=A,N=lN({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:p,index:v}),S=F-A,P=i.size,O={x:h.left,y:N,width:h.width,height:P},Math.abs(D)>0&&Math.abs(S)<Math.abs(D)){var W=jt(S||D)*(Math.abs(D)-Math.abs(S));S+=W}}if(j==null||N==null||S==null||P==null)return null;var k=Rt(Rt({},p),{},{x:j,y:N,width:S,height:P,value:d?b:b[1],payload:p,background:O,tooltipPosition:{x:j+S/2,y:N+P/2}},m&&m[v]&&m[v].props);return k}).filter(Boolean)}function Zh(e){var t=qr(e,xQ),r=fr();return y.createElement(pb,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(xX,{legendPayload:fQ(t)}),y.createElement(hb,{fn:hQ,args:t}),y.createElement(CX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:o9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(bQ,mo({},t,{id:n}))))}Zh.displayName="Bar";function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){jQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jQ(e,t,r){return(t=NQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=SQ(e,"string");return typeof t=="symbol"?t:t+""}function SQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PQ=(e,t)=>t,_Q=(e,t,r)=>r,kQ=(e,t,r,n)=>n,OQ=(e,t,r,n,i)=>i,Yc=L([Ex,OQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),AQ=L([Yc],e=>e==null?void 0:e.maxBarSize),EQ=(e,t,r,n,i,s)=>s,fP=(e,t,r)=>{var n=r??e;if(!et(n))return qt(n,t,0)},CQ=L([ve,Ex,PQ,_Q,kQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),TQ=(e,t,r,n)=>{var i=ve(e);return i==="horizontal"?Oy(e,"yAxis",r,n):Oy(e,"xAxis",t,n)},MQ=(e,t,r)=>{var n=ve(e);return n==="horizontal"?yS(e,"xAxis",t):yS(e,"yAxis",r)},DQ=(e,t,r)=>{var n={},i=e.filter(zh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=fP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=fP(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},RQ=L([CQ,wK,MQ],DQ),$Q=(e,t,r,n,i)=>{var s,a,l=Yc(e,t,r,n,i);if(l!=null){var c=ve(e),u=XC(e),{maxBarSize:d}=l,f=et(d)?u:d,h,m;return c==="horizontal"?(h=uo(e,"xAxis",t,n),m=co(e,"xAxis",t,n)):(h=uo(e,"yAxis",r,n),m=co(e,"yAxis",r,n)),(s=(a=uc(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},XM=(e,t,r,n)=>{var i=ve(e),s,a;return i==="horizontal"?(s=uo(e,"xAxis",t,n),a=co(e,"xAxis",t,n)):(s=uo(e,"yAxis",r,n),a=co(e,"yAxis",r,n)),uc(s,a)};function IQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=qt(e,r,0,!0),l,c=[];if(Sr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((p,v)=>p+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((p,v)=>{var b,j={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},N=[...p,j];return m=N[N.length-1].position,N},c)}else{var g=qt(t,r,0,!0);r-2*g-(s-1)*a<=0&&(a=0);var x=(r-2*g-(s-1)*a)/s;x>1&&(x>>=0);var w=Sr(i)?Math.min(x,i):x;l=n.reduce((p,v,b)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(x+a)*b+(x-w)/2,size:w}}],c)}return l}}var LQ=(e,t,r,n,i,s,a)=>{var l=et(a)?t:a,c=IQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Lu(Lu({},u),{},{position:Lu(Lu({},u.position),{},{offset:u.position.offset-i/2})}))),c},BQ=L([RQ,XC,bK,JC,$Q,XM,AQ],LQ),FQ=(e,t,r,n)=>uo(e,"xAxis",t,n),zQ=(e,t,r,n)=>uo(e,"yAxis",r,n),UQ=(e,t,r,n)=>co(e,"xAxis",t,n),WQ=(e,t,r,n)=>co(e,"yAxis",r,n),VQ=L([BQ,Yc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),KQ=(e,t)=>{var r=kx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},HQ=L([TQ,Yc],KQ),qQ=L([mt,FQ,zQ,UQ,WQ,VQ,ve,bx,XM,HQ,Yc,EQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:x}=d,w;if(x!=null&&x.length>0?w=x:w=h==null?void 0:h.slice(m,g+1),w!=null)return wQ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),JM=e=>{var{chartData:t}=e,r=Ye(),n=fr();return y.useEffect(()=>n?()=>{}:(r(_S(t)),()=>{r(_S(void 0))}),[t,r,n]),null},hP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},GQ=kr({name:"brush",initialState:hP,reducers:{setBrushSettings(e,t){return t.payload==null?hP:t.payload}}}),YQ=GQ.reducer;function XQ(e,t,r){return(t=JQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wb{static create(t){return new wb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}XQ(wb,"EPS",1e-4);function ZQ(e){return(e%180+180)%180}var eZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=ZQ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},tZ={dots:[],areas:[],lines:[]},rZ=kr({name:"referenceElements",initialState:tZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Vn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Vn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Vn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),nZ=rZ.reducer,iZ=y.createContext(void 0),sZ=e=>{var{children:t}=e,[r]=y.useState("".concat(oc("recharts"),"-clip")),n=zM();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return y.createElement(iZ.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function jp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function QM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function aZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return eZ(n,r)}function oZ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function bf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function lZ(e,t){return QM(e,t+1)}function cZ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:QM(n,u)};var x=c,w,p=()=>(w===void 0&&(w=r(g,x)),w),v=g.coordinate,b=c===0||bf(e,v,p,d,l);b||(c=0,d=a,u+=1),b&&(d=v+e*(p()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function mP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mP(Object(r),!0).forEach(function(n){uZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uZ(e,t,r){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hZ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],g,x=()=>(g===void 0&&(g=r(m,h)),g);if(h===a-1){var w=e*(m.coordinate+e*x()/2-c);s[h]=m=Mt(Mt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=Mt(Mt({},m),{},{tickCoord:m.coordinate});var p=bf(e,m.tickCoord,x,l,c);p&&(c=m.tickCoord-e*(x()/2+i),s[h]=Mt(Mt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function mZ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Mt(Mt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=bf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Mt(Mt({},d),{},{isShow:!0}))}for(var g=s?l-1:l,x=function(v){var b=a[v],j,N=()=>(j===void 0&&(j=r(b,v)),j);if(v===0){var S=e*(b.coordinate-e*N()/2-c);a[v]=b=Mt(Mt({},b),{},{tickCoord:S<0?b.coordinate-S*e:b.coordinate})}else a[v]=b=Mt(Mt({},b),{},{tickCoord:b.coordinate});var P=bf(e,b.tickCoord,N,c,u);P&&(c=b.tickCoord+e*(N()/2+i),a[v]=Mt(Mt({},b),{},{isShow:!0}))},w=0;w<g;w++)x(w);return a}function jb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ie(c)||Ys.isSsr){var h;return(h=lZ(i,ie(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?$l(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,j)=>{var N=typeof u=="function"?u(b.value,j):b.value;return g==="width"?aZ($l(N,{fontSize:t,letterSpacing:r}),x,f):$l(N,{fontSize:t,letterSpacing:r})[g]},p=i.length>=2?jt(i[1].coordinate-i[0].coordinate):1,v=oZ(s,p,g);return c==="equidistantPreserveStart"?cZ(p,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=mZ(p,v,w,i,a,c==="preserveStartEnd"):m=hZ(p,v,w,i,a),m.filter(b=>b.isShow))}var pZ=["viewBox"],gZ=["viewBox"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){Nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gP(e,t){if(e==null)return{};var r,n,i=yZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function yZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nb(e,t,r){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ns extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=gP(t,pZ),s=this.props,{viewBox:a}=s,l=gP(s,gZ);return!jp(n,a)||!jp(i,l)||!jp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,g,x,w=c?-1:1,p=t.tickSize||l,v=ie(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*p,x=h-w*u,g=v;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*p,g=d-w*u,x=v;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*p,g=d+w*u,x=v;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*p,x=h+w*u,g=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=dt(dt(dt({},je(this.props,!1)),je(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=dt(dt({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=dt(dt({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",Ca({},c,{className:pe("recharts-cartesian-axis-line",Wi(l,"className"))}))}static renderTickItem(t,r,n){var i,s=pe(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,dt(dt({},r),{},{className:s}));else if(typeof t=="function")i=t(dt(dt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=pe(a,t.className)),i=y.createElement(Bo,Ca({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=jb(dt(dt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Bt(this.props),g=je(a,!1),x=dt(dt({},m),{},{fill:"none"},je(i,!1)),w=d.map((p,v)=>{var{line:b,tick:j}=this.getTickLineCoord(p),N=dt(dt(dt(dt({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),j),{},{index:v,payload:p,visibleTicksCount:d.length,tickFormatter:l,padding:u});return y.createElement(Ge,Ca({className:"recharts-cartesian-axis-tick",key:"tick-".concat(p.value,"-").concat(p.coordinate,"-").concat(p.tickCoord)},_o(this.props,p,v)),i&&y.createElement("line",Ca({},x,b,{className:pe("recharts-cartesian-axis-tick-line",Wi(i,"className"))})),a&&ns.renderTickItem(a,N,"".concat(typeof l=="function"?l(p.value,v):p.value).concat(c||"")))});return w.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(Ge,{className:pe("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),nr.renderCallByParent(this.props))}}Nb(ns,"displayName","CartesianAxis");Nb(ns,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bZ=["x1","y1","x2","y2","key"],wZ=["offset"],jZ=["xAxisId","yAxisId"],NZ=["xAxisId","yAxisId"];function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yP(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZ(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=_Z(e,"string");return typeof t=="symbol"?t:t+""}function _Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ps(){return Ps=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ps.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,i=kZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return y.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function ZM(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=wf(t,bZ),u=Bt(c),d=wf(u,wZ);r=y.createElement("line",Ps({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function AZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,jZ),a=i.map((l,c)=>{var u=$t($t({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return ZM(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function EZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,NZ),a=i.map((l,c)=>{var u=$t($t({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return ZM(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function CZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function TZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var MZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return SE(jb($t($t($t({},ns.defaultProps),r),{},{ticks:PE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},DZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return SE(jb($t($t($t({},ns.defaultProps),r),{},{ticks:PE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},RZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function em(e){var t=CE(),r=TE(),n=EE(),i=$t($t({},qr(e,RZ)),{},{x:ie(e.x)?e.x:n.left,y:ie(e.y)?e.y:n.top,width:ie(e.width)?e.width:n.width,height:ie(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,g=fr(),x=re(D=>vS(D,"xAxis",s,g)),w=re(D=>vS(D,"yAxis",a,g));if(!ie(u)||u<=0||!ie(d)||d<=0||!ie(l)||l!==+l||!ie(c)||c!==+c)return null;var p=i.verticalCoordinatesGenerator||MZ,v=i.horizontalCoordinatesGenerator||DZ,{horizontalPoints:b,verticalPoints:j}=i;if((!b||!b.length)&&typeof v=="function"){var N=h&&h.length,S=v({yAxis:w?$t($t({},w),{},{ticks:N?h:w.ticks}):void 0,width:t,height:r,offset:n},N?!0:f);Rl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(b=S)}if((!j||!j.length)&&typeof p=="function"){var P=m&&m.length,O=p({xAxis:x?$t($t({},x),{},{ticks:P?m:x.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);Rl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(j=O)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(OZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(CZ,Ps({},i,{horizontalPoints:b})),y.createElement(TZ,Ps({},i,{verticalPoints:j})),y.createElement(AZ,Ps({},i,{offset:n,horizontalPoints:b,xAxis:x,yAxis:w})),y.createElement(EZ,Ps({},i,{offset:n,verticalPoints:j,xAxis:x,yAxis:w})))}em.displayName="CartesianGrid";function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){$Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Z(e,t,r){return(t=IZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BZ={xAxis:{},yAxis:{},zAxis:{}},eD=kr({name:"cartesianAxis",initialState:BZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=xP(xP({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:FZ,removeXAxis:zZ,addYAxis:UZ,removeYAxis:WZ,addZAxis:mre,removeZAxis:pre,updateYAxisWidth:VZ}=eD.actions,KZ=eD.reducer,HZ=["children"],qZ=["dangerouslySetInnerHTML","ticks"];function tD(e,t,r){return(t=GZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GZ(e){var t=YZ(e,"string");return typeof t=="symbol"?t:t+""}function YZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function rD(e,t){if(e==null)return{};var r,n,i=XZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function JZ(e){var t=Ye(),r=y.useMemo(()=>{var s=rD(e,HZ);return s},[e]),n=re(s=>li(s,r.id)),i=r===n;return y.useEffect(()=>(t(FZ(r)),()=>{t(zZ(r))}),[r,t]),i?e.children:null}var QZ=e=>{var{xAxisId:t,className:r}=e,n=re(AE),i=fr(),s="xAxis",a=re(f=>$o(f,s,t,i)),l=re(f=>AT(f,s,t,i)),c=re(f=>PT(f,t)),u=re(f=>hH(f,t));if(c==null||u==null)return null;var d=rD(e,qZ);return y.createElement(ns,$y({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:pe("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},ZZ=e=>{var t,r,n,i,s;return y.createElement(JZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},y.createElement(QZ,e))};class Xc extends y.Component{render(){return y.createElement(ZZ,this.props)}}tD(Xc,"displayName","XAxis");tD(Xc,"defaultProps",{allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,height:hr.height,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,xAxisId:0});var eee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},tee=["dangerouslySetInnerHTML","ticks"];function nD(e,t,r){return(t=ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ree(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function iee(e,t){if(e==null)return{};var r,n,i=see(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function see(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function aee(e){var t=Ye();return y.useEffect(()=>(t(UZ(e)),()=>{t(WZ(e))}),[e,t]),null}var oee=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=y.useRef(null),l=y.useRef(null),c=re(AE),u=fr(),d=Ye(),f="yAxis",h=re(p=>$o(p,f,r,u)),m=re(p=>_T(p,r)),g=re(p=>mH(p,r)),x=re(p=>AT(p,f,r,u));if(y.useLayoutEffect(()=>{var p;if(!(i!=="auto"||!m||tb(s)||y.isValidElement(s))){var v=a.current,b=v==null||(p=v.tickRefs)===null||p===void 0?void 0:p.current,{tickSize:j,tickMargin:N}=v.props,S=eee({ticks:b,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:N});Math.round(m.width)!==Math.round(S)&&d(VZ({id:r,width:S}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||g==null)return null;var w=iee(e,tee);return y.createElement(ns,Iy({},w,{ref:a,labelRef:l,scale:h,x:g.x,y:g.y,width:m.width,height:m.height,className:pe("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},lee=e=>{var t,r,n,i,s;return y.createElement(y.Fragment,null,y.createElement(aee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),y.createElement(oee,e))},cee={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,width:mr.width,yAxisId:0};class Jc extends y.Component{render(){return y.createElement(lee,this.props)}}nD(Jc,"displayName","YAxis");nD(Jc,"defaultProps",cee);var uee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=y;function dee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var fee=typeof Object.is=="function"?Object.is:dee,hee=Qc.useSyncExternalStore,mee=Qc.useRef,pee=Qc.useEffect,gee=Qc.useMemo,yee=Qc.useDebugValue;uee.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=mee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=gee(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,fee(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=hee(e,s[0],s[1]);return pee(function(){a.hasValue=!0,a.value=l},[l]),yee(l),l};function vee(e){e()}function xee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){vee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var bP={notify(){},get:()=>[]};function bee(e,t){let r,n=bP,i=0,s=!1;function a(x){d();const w=n.subscribe(x);let p=!1;return()=>{p||(p=!0,w(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=xee())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=bP)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var wee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jee=wee(),Nee=()=>typeof navigator<"u"&&navigator.product==="ReactNative",See=Nee(),Pee=()=>jee||See?y.useLayoutEffect:y.useEffect,_ee=Pee(),Np=Symbol.for("react-redux-context"),Sp=typeof globalThis<"u"?globalThis:{};function kee(){if(!y.createContext)return{};const e=Sp[Np]??(Sp[Np]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var Oee=kee();function Aee(e){const{children:t,context:r,serverState:n,store:i}=e,s=y.useMemo(()=>{const c=bee(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=y.useMemo(()=>i.getState(),[i]);_ee(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||Oee;return y.createElement(l.Provider,{value:s},t)}var Eee=Aee,Cee=(e,t)=>t,Sb=L([Cee,ve,To,gt,KT,ci,yq,mt],jq),Pb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},iD=Wr("mouseClick"),sD=$c();sD.startListening({actionCreator:iD,effect:(e,t)=>{var r=e.payload,n=Sb(t.getState(),Pb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(PH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ly=Wr("mouseMove"),aD=$c();aD.startListening({actionCreator:Ly,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Kx(n,n.tooltip.settings.shared),s=Sb(n,Pb(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(LT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(IT()))}});function Tee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var wP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},oD=kr({name:"rootProps",initialState:wP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:wP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Mee=oD.reducer,{updateOptions:Dee}=oD.actions,lD=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Ree}=lD.actions,$ee=lD.reducer,cD=Wr("keyDown"),uD=Wr("focus"),_b=$c();_b.startListening({actionCreator:cD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Hx(i,Lo(r))),l=ci(r);if(s==="Enter"){var c=mf(r,"axis","hover",String(i.index));t.dispatch(Ey({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=gH(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=mf(r,"axis","hover",String(h));t.dispatch(Ey({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});_b.startListening({actionCreator:uD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=mf(r,"axis","hover",String(s));t.dispatch(Ey({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Tr=Wr("externalEvent"),dD=$c();dD.startListening({actionCreator:Tr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:oq(r),activeDataKey:YT(r),activeIndex:Vi(r),activeLabel:GT(r),activeTooltipIndex:Vi(r),isTooltipActive:lq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Iee=L([Io],e=>e.tooltipItemPayloads),Lee=L([Iee,qc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),fD=Wr("touchMove"),hD=$c();hD.startListening({actionCreator:fD,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Kx(n,n.tooltip.settings.shared);if(i==="axis"){var s=Sb(n,Pb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(LT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(kE),d=(a=c.getAttribute(OE))!==null&&a!==void 0?a:void 0,f=Lee(t.getState(),u,d);t.dispatch($T({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Bee=QA({brush:YQ,cartesianAxis:KZ,chartData:Iq,errorBars:XJ,graphicalItems:EX,layout:FU,legend:S9,options:Tq,polarAxis:_Y,polarOptions:$ee,referenceElements:nZ,rootProps:Mee,tooltip:_H}),Fee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return dU({reducer:Bee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([sD.middleware,aD.middleware,_b.middleware,dD.middleware,hD.middleware]),devTools:{serialize:{replacer:Tee},name:"recharts-".concat(r)}})};function mD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=fr(),s=y.useRef(null);if(i)return r;s.current==null&&(s.current=Fee(t,n));var a=Lv;return y.createElement(Eee,{context:a,store:s.current},r)}function pD(e){var{layout:t,width:r,height:n,margin:i}=e,s=Ye(),a=fr();return y.useEffect(()=>{a||(s(IU(t)),s(LU({width:r,height:n})),s($U(i)))},[s,a,t,r,n,i]),null}function gD(e){var t=Ye();return y.useEffect(()=>{t(Dee(e))},[t,e]),null}var zee=["children"];function Uee(e,t){if(e==null)return{};var r,n,i=Wee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}var Vee={width:"100%",height:"100%"},Kee=y.forwardRef((e,t)=>{var r=CE(),n=TE(),i=$E();if(!io(r)||!io(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,y.createElement(oA,jf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Vee,ref:t}),s)}),Hee=e=>{var{children:t}=e,r=re(Eh);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return y.createElement(oA,{width:n,height:i,x:a,y:s},t)},jP=y.forwardRef((e,t)=>{var{children:r}=e,n=Uee(e,zee),i=fr();return i?y.createElement(Hee,null,r):y.createElement(Kee,jf({ref:t},n),r)});function qee(){var e=Ye(),[t,r]=y.useState(null),n=re(p9);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Sr(s)&&s!==n&&e(BU(s))}},[t,e,n]),r}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){Yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yee(e,t,r){return(t=Xee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xee(e){var t=Jee(e,"string");return typeof t=="symbol"?t:t+""}function Jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qee=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:w,width:p}=e,v=Ye(),[b,j]=y.useState(null),[N,S]=y.useState(null);Fq();var P=qee(),O=y.useCallback(J=>{P(J),typeof t=="function"&&t(J),j(J),S(J)},[P,t,j,S]),D=y.useCallback(J=>{v(iD(J)),v(Tr({handler:s,reactEvent:J}))},[v,s]),T=y.useCallback(J=>{v(Ly(J)),v(Tr({handler:u,reactEvent:J}))},[v,u]),C=y.useCallback(J=>{v(IT()),v(Tr({handler:d,reactEvent:J}))},[v,d]),z=y.useCallback(J=>{v(Ly(J)),v(Tr({handler:f,reactEvent:J}))},[v,f]),$=y.useCallback(()=>{v(uD())},[v]),_=y.useCallback(J=>{v(cD(J.key))},[v]),A=y.useCallback(J=>{v(Tr({handler:a,reactEvent:J}))},[v,a]),F=y.useCallback(J=>{v(Tr({handler:l,reactEvent:J}))},[v,l]),W=y.useCallback(J=>{v(Tr({handler:c,reactEvent:J}))},[v,c]),k=y.useCallback(J=>{v(Tr({handler:h,reactEvent:J}))},[v,h]),E=y.useCallback(J=>{v(Tr({handler:x,reactEvent:J}))},[v,x]),K=y.useCallback(J=>{v(fD(J)),v(Tr({handler:g,reactEvent:J}))},[v,g]),Y=y.useCallback(J=>{v(Tr({handler:m,reactEvent:J}))},[v,m]);return y.createElement(tM.Provider,{value:b},y.createElement(pz.Provider,{value:N},y.createElement("div",{className:pe("recharts-wrapper",n),style:Gee({position:"relative",cursor:"default",width:p,height:i},w),onClick:D,onContextMenu:A,onDoubleClick:F,onFocus:$,onKeyDown:_,onMouseDown:W,onMouseEnter:T,onMouseLeave:C,onMouseMove:z,onMouseUp:k,onTouchEnd:Y,onTouchMove:K,onTouchStart:E,ref:O},r)))}),Zee=["children","className","width","height","style","compact","title","desc"];function ete(e,t){if(e==null)return{};var r,n,i=tte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yD=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=ete(e,Zee),f=Bt(d);return l?y.createElement(jP,{otherAttributes:f,title:c,desc:u},r):y.createElement(Qee,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(jP,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(sZ,null,r)))}),rte=["width","height"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function nte(e,t){if(e==null)return{};var r,n,i=ite(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ite(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ste={top:5,right:5,bottom:5,left:5},ate={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ste,reverseStackOrder:!1,syncMethod:"index"},ote=y.forwardRef(function(t,r){var n,i=qr(t.categoricalChartProps,ate),{width:s,height:a}=i,l=nte(i,rte);if(!io(s)||!io(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(mD,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(JM,{chartData:h.data}),y.createElement(pD,{width:s,height:a,layout:i.layout,margin:i.margin}),y.createElement(gD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(yD,By({},l,{width:s,height:a,ref:r})))}),lte=["axis","item"],kb=y.forwardRef((e,t)=>y.createElement(ote,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:lte,tooltipPayloadSearcher:eb,categoricalChartProps:e,ref:t}));function cte(e){var t=Ye();return y.useEffect(()=>{t(Ree(e))},[t,e]),null}var ute=["width","height","layout"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function dte(e,t){if(e==null)return{};var r,n,i=fte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hte={top:5,right:5,bottom:5,left:5},mte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:hte,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},vD=y.forwardRef(function(t,r){var n,i=qr(t.categoricalChartProps,mte),{width:s,height:a,layout:l}=i,c=dte(i,ute);if(!io(s)||!io(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return y.createElement(mD,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},y.createElement(JM,{chartData:i.data}),y.createElement(pD,{width:s,height:a,layout:l,margin:i.margin}),y.createElement(gD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(cte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(yD,Fy({width:s,height:a},c,{ref:r})))}),pte=["item"],gte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ob=y.forwardRef((e,t)=>{var r=qr(e,gte);return y.createElement(vD,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:pte,tooltipPayloadSearcher:eb,categoricalChartProps:r,ref:t})}),yte=["axis"],vte={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},xte=y.forwardRef((e,t)=>{var r=qr(e,vte);return y.createElement(vD,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:yte,tooltipPayloadSearcher:eb,categoricalChartProps:r,ref:t})});const SP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},bte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function wte(){const{user:e}=dr(),[t,r]=y.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[n,i]=y.useState([]),[s,a]=y.useState(null),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0);y.useEffect(()=>{m(),e&&!e.id.startsWith("guest-")&&g()},[e]);const m=async()=>{var x;try{const{data:w,error:p}=await Z.from("match_results").select("*");if(p)throw p;const v=w||[];if(v.length===0){h(!1);return}const b={},j={},N={};let S=0;v.forEach(C=>{var A;if(!C.winner_name||!C.player1_name||!C.player2_name)return;const z=((A=C.outcome)==null?void 0:A.split(" (")[0])||"Unknown",$=C.points_awarded||SP[z]||0;S+=$,N[z]=(N[z]||0)+1,[C.player1_name,C.player2_name].forEach(F=>{b[F]||(b[F]={wins:0,matches:0,points:0}),b[F].matches++,C.winner_name===F&&(b[F].wins++,b[F].points+=$)});const _=(F,W,k,E)=>{const K=`${W}_${F}`;j[K]||(j[K]={combo:W,player:F,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown"});const Y=j[K];Y.totalMatches++,E?(Y.wins++,Y.totalPoints+=$):Y.losses++};_(C.player1_name,C.player1_beyblade,C.player1_blade_line||"Unknown",C.winner_name===C.player1_name),_(C.player2_name,C.player2_beyblade,C.player2_blade_line||"Unknown",C.winner_name===C.player2_name)}),Object.values(j).forEach(C=>{C.winRate=C.totalMatches>0?C.wins/C.totalMatches*100:0,C.weightedWinRate=C.totalMatches>0?C.wins/C.totalMatches*(C.totalMatches/(C.totalMatches+10)):0,C.avgPointsPerMatch=C.totalMatches>0?C.totalPoints/C.totalMatches:0,C.comboScore=C.weightedWinRate*(C.avgPointsPerMatch/3)*100});const P=Object.entries(b).filter(([C,z])=>z.matches>=5).sort((C,z)=>{const $=C[1].wins/C[1].matches;return z[1].wins/z[1].matches-$})[0],O=((x=Object.entries(N).sort((C,z)=>z[1]-C[1])[0])==null?void 0:x[0])||"Unknown",{count:D}=await Z.from("tournaments").select("*",{count:"exact",head:!0});r({totalMatches:v.length,totalPlayers:Object.keys(b).length,totalTournaments:D||0,avgPointsPerMatch:v.length>0?S/v.length:0,mostCommonFinish:O,topPlayer:(P==null?void 0:P[0])||"N/A",topPlayerWinRate:P?P[1].wins/P[1].matches*100:0}),i(Object.values(j).sort((C,z)=>z.comboScore-C.comboScore));const T=Object.entries(N).map(([C,z])=>({name:C,value:z,color:bte[C]||"#6B7280"}));d(T)}catch(w){console.error("Error fetching global data:",w)}finally{h(!1)}},g=async()=>{var x;if(!(!e||e.id.startsWith("guest-")))try{const{data:w,error:p}=await Z.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(p)throw p;const v=w||[];if(v.length===0){a(null);return}let b=0,j=0;const N={},S={},P={},O=new Set;v.forEach(_=>{var Y;if(!_.winner_name)return;const A=_.player1_name===e.username,F=_.winner_name===e.username,W=A?_.player1_beyblade:_.player2_beyblade,k=A?_.player2_name:_.player1_name,E=((Y=_.outcome)==null?void 0:Y.split(" (")[0])||"Unknown",K=_.points_awarded||SP[E]||0;O.add(_.tournament_id),F&&(b++,j+=K,S[E]=(S[E]||0)+1),N[W]||(N[W]={wins:0,matches:0,points:0}),N[W].matches++,F&&(N[W].wins++,N[W].points+=K),P[k]||(P[k]={opponent:k,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),P[k].totalMatches++,F?(P[k].wins++,P[k].pointsFor+=K):(P[k].losses++,P[k].pointsAgainst+=K)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0});const D=Object.entries(N).map(([_,A])=>{const F=A.matches>0?A.wins/A.matches:0,W=A.matches>0?F*(A.matches/(A.matches+10)):0,k=A.matches>0?A.points/A.matches:0,E=W*(k/3)*100;return{combo:_,comboScore:E}}).sort((_,A)=>A.comboScore-_.comboScore)[0],T=((x=Object.entries(S).sort((_,A)=>A[1]-_[1])[0])==null?void 0:x[0])||"N/A",C=v.length,z=C>0?b/C*100:0,$=C>0?b/C*(C/(C+10)):0;a({totalMatches:C,wins:b,losses:C-b,winRate:z,weightedWinRate:$*100,totalPoints:j,avgPointsPerMatch:C>0?j/C:0,mvpCombo:(D==null?void 0:D.combo)||"N/A",mvpComboScore:(D==null?void 0:D.comboScore)||0,favoriteFinish:T,tournamentsPlayed:O.size}),c(Object.values(P).sort((_,A)=>A.winRate-_.winRate))}catch(w){console.error("Error fetching personal data:",w)}};return f?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(wo,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(it,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(ct,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(kc,{size:24,className:"text-orange-600"})})]})})]}),s&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(it,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",s.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:s.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",s.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Qh,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:x,percent:w})=>`${x} ${(w*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((x,w)=>o.jsx(Zs,{fill:x.color},`cell-${w}`))}),o.jsx(Vs,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(kb,{data:n.slice(0,8).map(x=>({name:x.combo,score:x.comboScore,winRate:x.winRate,matches:x.totalMatches})),margin:{bottom:80},children:[o.jsx(em,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Jc,{}),o.jsx(Vs,{formatter:(x,w)=>[typeof x=="number"?x.toFixed(2):x,w==="score"?"Combo Score":w==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Zh,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"}),o.jsx("button",{onClick:()=>{n.map(x=>({rank:n.indexOf(x)+1,combo:x.combo,player:x.player,bladeLine:x.bladeLine,totalMatches:x.totalMatches,winRate:x.winRate,weightedWinRate:x.weightedWinRate*100,comboScore:x.comboScore})),alert("Show All functionality for global combos coming soon!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:o.jsx("span",{children:"Show All"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,20).map((x,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",w+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:x.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.bladeLine==="Basic"?"bg-blue-100 text-blue-800":x.bladeLine==="Unique"?"bg-purple-100 text-purple-800":x.bladeLine==="Custom"?"bg-orange-100 text-orange-800":x.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:x.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${x.winRate>=60?"text-green-600":x.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[x.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(x.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:x.comboScore.toFixed(1)})]},w))})]})})]}),s&&l.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((x,w)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:x.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:x.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:x.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${x.winRate>=60?"text-green-600":x.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[x.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:x.pointsAgainst})]},w))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ct,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Player"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.topPlayer}),o.jsxs("p",{className:"text-gray-600",children:["Win Rate: ",t.topPlayerWinRate.toFixed(1),"%"]})]})]})]})}const jte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Nte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Ste(){const{user:e}=dr(),[t,r]=y.useState([]),[n,i]=y.useState([]),[s,a]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState(!0),[m,g]=y.useState("");y.useEffect(()=>{e&&!e.id.startsWith("guest-")?x():h(!1)},[e]);const x=async()=>{if(!e||e.id.startsWith("guest-")){h(!1);return}try{const{data:p,error:v}=await Z.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(v)throw v;const b=p||[];if(b.length===0){h(!1);return}const j=[...new Set(b.map(_=>_.tournament_id))],{data:N}=await Z.from("tournaments").select("id, name, tournament_date").in("id",j),S=(N||[]).reduce((_,A)=>(_[A.id]={name:A.name,date:A.tournament_date},_),{}),P={},O={},D={},T={},C={};b.forEach(_=>{var Q,I,V;if(!_.winner_name)return;const A=_.player1_name===e.username,F=_.winner_name===e.username,W=A?_.player1_beyblade:_.player2_beyblade,k=A?_.player1_blade_line:_.player2_blade_line,E=((Q=_.outcome)==null?void 0:Q.split(" (")[0])||"Unknown",K=_.points_awarded||jte[E]||0;F&&(T[E]=(T[E]||0)+1,C[E]=(C[E]||0)+K),P[W]||(P[W]={combo:W,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:k||"Unknown",finishDistribution:{},pointsPerFinish:{}});const Y=P[W];Y.totalMatches++,F?(Y.wins++,Y.totalPoints+=K,Y.finishDistribution[E]=(Y.finishDistribution[E]||0)+1,Y.pointsPerFinish[E]=(Y.pointsPerFinish[E]||0)+K):Y.losses++;const J=k||"Unknown";O[J]||(O[J]={bladeLine:J,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const xe=O[J];xe.matches++,F&&(xe.wins++,xe.avgPoints=(xe.avgPoints*(xe.wins-1)+K)/xe.wins);const U=_.tournament_id;D[U]||(D[U]={tournamentName:((I=S[U])==null?void 0:I.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((V=S[U])==null?void 0:V.date)||""});const B=D[U];B.matches++,F&&(B.wins++,B.points+=K)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0,_.weightedWinRate=_.totalMatches>0?_.wins/_.totalMatches*(_.totalMatches/(_.totalMatches+10)):0,_.avgPointsPerMatch=_.totalMatches>0?_.totalPoints/_.totalMatches:0,_.comboScore=_.weightedWinRate*(_.avgPointsPerMatch/3)*100}),Object.values(O).forEach(_=>{_.winRate=_.matches>0?_.wins/_.matches*100:0,_.riskReward=Math.random()*100}),Object.values(D).forEach(_=>{_.winRate=_.matches>0?_.wins/_.matches*100:0,_.avgPointsPerMatch=_.matches>0?_.points/_.matches:0}),r(Object.values(P).sort((_,A)=>A.comboScore-_.comboScore)),i(Object.values(O)),a(Object.values(D).sort((_,A)=>new Date(A.date).getTime()-new Date(_.date).getTime()));const z=Object.entries(T).map(([_,A])=>({name:_,value:A,color:Nte[_]||"#6B7280"}));c(z);const $=Object.entries(C).map(([_,A])=>({finish:_,points:A,avgPoints:T[_]>0?A/T[_]:0}));d($)}catch(p){console.error("Error fetching personal stats:",p)}finally{h(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Td,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(f)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your personal stats..."})]});if(t.length===0)return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ct,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]});const w=m?t.find(p=>p.combo===m):null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((p,v)=>p+v.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(wo,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[t.length>0?(t.reduce((p,v)=>p+v.wins,0)/t.reduce((p,v)=>p+v.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(ct,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((p,v)=>p+v.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Oc,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Td,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Qh,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:p,percent:v})=>`${p} ${(v*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((p,v)=>o.jsx(Zs,{fill:p.color},`cell-${v}`))}),o.jsx(Vs,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(kb,{data:u,children:[o.jsx(em,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"finish"}),o.jsx(Jc,{}),o.jsx(Vs,{}),o.jsx(Zh,{dataKey:"points",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:m,onChange:p=>g(p.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),t.map(p=>o.jsxs("option",{value:p.combo,children:[p.combo," (",p.totalMatches," matches)"]},p.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((p,v)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${m===p.combo?"bg-blue-50":""}`,onClick:()=>g(p.combo===m?"":p.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.bladeLine==="Basic"?"bg-blue-100 text-blue-800":p.bladeLine==="Unique"?"bg-purple-100 text-purple-800":p.bladeLine==="Custom"?"bg-orange-100 text-orange-800":p.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${p.winRate>=60?"text-green-600":p.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[p.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(p.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:p.comboScore.toFixed(1)})]},v))})]})}),w&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",w.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.finishDistribution).map(([p,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:p}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:v}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",w.totalMatches>0?(v/w.wins*100).toFixed(0):0,"%)"]})]})]},p))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(w.pointsPerFinish).map(([p,v])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:p}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[v," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",w.finishDistribution[p]>0?(v/w.finishDistribution[p]).toFixed(1):"0.0",")"]})]})]},p))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Performance by Blade Line"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk/Reward"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((p,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.bladeLine==="Basic"?"bg-blue-100 text-blue-800":p.bladeLine==="Unique"?"bg-purple-100 text-purple-800":p.bladeLine==="Custom"?"bg-orange-100 text-orange-800":p.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:p.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${p.winRate>=60?"text-green-600":p.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[p.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.riskReward.toFixed(1)})]},v))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((p,v)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:p.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p.date?new Date(p.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:p.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${p.winRate>=60?"text-green-600":p.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[p.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:p.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:p.avgPointsPerMatch.toFixed(2)})]},v))})]})})]}),t.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ct,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:t[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:t[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:t[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:t[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function Pte(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return(s-a)/i}function _te(e,t,r){let n=e;const i=xD(n,r.bits);if(!i)return null;n=n.slice(0,n.length-i.bitName.length).trim();const s=bD(n,r.ratchets);if(!s)return null;n=n.slice(0,n.length-s.ratchetName.length).trim();const a=wD(n,r.blades.filter(c=>c.Line===t));return a?{isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function kte(e,t){let r=e;const n=Ote(e,t.lockchips);if(!n)return null;r=e.slice(n.lockchipName.length);const i=xD(r,t.bits);if(!i)return null;r=r.slice(0,r.length-i.bitName.length).trim();const s=bD(r,t.ratchets);if(!s)return null;r=r.slice(0,r.length-s.ratchetName.length).trim();const a=Ate(r,t.assistBlades);if(!a)return null;r=r.slice(0,r.length-a.assistBladeName.length).trim();const l=wD(r,t.blades.filter(u=>u.Line==="Custom"));return l?{isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function xD(e,t){const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return{bit:n,bitName:n.Shortcut||i}}return null}function bD(e,t){const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return{ratchet:n,ratchetName:i}}return null}function wD(e,t){for(const r of t){const n=r.Blades;if(n&&e===n)return{blade:r,bladeName:n}}return null}function Ote(e,t){const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return{lockchip:n,lockchipName:i}}return null}function Ate(e,t){const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return{assistBlade:n,assistBladeName:i}}return null}function PP(e,t,r){if(!e||!e.trim())return{isCustom:!1};const n=["Basic","Unique","X-Over","Custom"];for(const i of n)if(i==="Custom"){const s=kte(e,r);if(s)return s}else{const s=_te(e,i,r);if(s)return s}return{isCustom:!1}}const Ete={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Cte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Tte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Mte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Dte({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=y.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(""),[g,x]=y.useState(""),[w,p]=y.useState([]),[v,b]=y.useState({key:"comboScore",direction:"desc"}),[j,N]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[S,P]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&O()},[e]),y.useEffect(()=>{e&&r.blades.length>0&&D()},[e,r]);const O=async()=>{try{const[k,E,K,Y,J]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:E.data||[],bits:K.data||[],lockchips:Y.data||[],assistBlades:J.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},D=async()=>{try{const{data:k,error:E}=await Z.from("match_results").select("*").eq("tournament_id",e);if(E)throw E;if(!k||k.length===0){f(!1);return}const K=[],Y={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},J={};k.forEach(U=>{var R;if(!U.winner_name||!U.player1_name||!U.player2_name)return;const B=PP(U.player1_beyblade,U.player1_blade_line,r),Q=PP(U.player2_beyblade,U.player2_blade_line,r),I=((R=U.outcome)==null?void 0:R.split(" (")[0])||"Unknown",V=U.points_awarded||Ete[I]||0,M={player:U.player1_name,opponent:U.player2_name,beyblade:U.player1_beyblade,opponentBeyblade:U.player2_beyblade,isWin:U.winner_name===U.player1_name,outcome:I,parsedParts:B,bladeLine:U.player1_blade_line||"Unknown"},X={player:U.player2_name,opponent:U.player1_name,beyblade:U.player2_beyblade,opponentBeyblade:U.player1_beyblade,isWin:U.winner_name===U.player2_name,outcome:I,parsedParts:Q,bladeLine:U.player2_blade_line||"Unknown"};K.push(M,X),[M,X].forEach(q=>{const ee=`${q.beyblade}_${q.player}`;J[ee]||(J[ee]={combo:q.beyblade,player:q.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:q.bladeLine,allMatches:[]});const ne=J[ee];ne.totalMatches++,ne.finishDistribution[I]=(ne.finishDistribution[I]||0)+1,ne.allMatches.push(U),q.isWin?(ne.wins++,ne.totalPoints+=V):ne.losses++});const oe=(q,ee)=>{Object.entries(q).forEach(([ne,ce])=>{if(ne==="isCustom"||!ce)return;Y[ne][ce]||(Y[ne][ce]={name:ce,usage:0,wins:0,losses:0,winRate:0,wilson:0});const me=Y[ne][ce];me.usage++,ee?me.wins++:me.losses++})};oe(B,M.isWin),oe(Q,X.isWin)}),Object.keys(Y).forEach(U=>{Object.values(Y[U]).forEach(B=>{const Q=B.wins+B.losses;B.winRate=Q>0?B.wins/Q*100:0,B.wilson=Pte(B.wins,Q)})});const xe=Object.values(J).map(U=>(U.winRate=U.totalMatches>0?U.wins/U.totalMatches*100:0,U.weightedWinRate=U.totalMatches>0?U.wins/U.totalMatches*(U.totalMatches/(U.totalMatches+10)):0,U.avgPointsPerMatch=U.totalMatches>0?U.totalPoints/U.totalMatches:0,U.comboScore=U.weightedWinRate*(U.avgPointsPerMatch/3)*100,U));s(Y),l(xe),u(K),h&&g&&T()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},T=()=>{if(!h||!g)return;const k=a.filter(E=>c.filter(Y=>Y.beyblade===E.combo&&Y.player===E.player).some(Y=>Y.parsedParts[h]===g));p(k.sort((E,K)=>K.comboScore-E.comboScore))};Oi.useEffect(()=>{h&&g&&a.length>0?T():p([])},[h,g,a]);const C=k=>{let E="asc";v.key===k&&v.direction==="asc"&&(E="desc"),b({key:k,direction:E})},z=()=>{N({isOpen:!0,title:"All Combo Performance Rankings",data:_,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),N(E=>({...E,isOpen:!1}))}})},$=k=>{const E=Object.values(i[k]||{}).filter(K=>K.usage>0).sort((K,Y)=>Y.wilson-K.wilson).map(K=>({...K,allMatches:c.filter(Y=>Y.parsedParts[k]===K.name)}));N({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:E,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:K=>{P({isOpen:!0,title:`All Matches using ${K.name}`,matches:K.allMatches||[]}),N(Y=>({...Y,isOpen:!1}))}})},_=[...a].sort((k,E)=>{const K=k[v.key],Y=E[v.key];if(typeof K=="number"&&typeof Y=="number")return v.direction==="asc"?K-Y:Y-K;const J=String(K),xe=String(Y);return v.direction==="asc"?J.localeCompare(xe):xe.localeCompare(J)}),A=({children:k,sortKey:E})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C(E),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),v.key===E&&(v.direction==="asc"?o.jsx(kL,{size:12}):o.jsx(PL,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(wn,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const F=_.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),W=Object.entries(c.reduce((k,E)=>(E.isWin&&(k[E.outcome]=(k[E.outcome]||0)+1),k),{})).map(([k,E])=>({name:k,value:E,color:Cte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(wo,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(kb,{data:F,margin:{bottom:60},children:[o.jsx(em,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Jc,{}),o.jsx(Vs,{formatter:(k,E)=>[typeof k=="number"?k.toFixed(2):k,E==="score"?"Combo Score":E==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Zh,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(Ks,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Qh,{data:W,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:E})=>`${k} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:W.map((k,E)=>o.jsx(Zs,{fill:k.color},`cell-${E}`))}),o.jsx(Vs,{})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(bo,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),x("")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:g,onChange:k=>x(k.target.value),disabled:!h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,E)=>E.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&g&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",g," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,E)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},E))})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(A,{sortKey:"combo",children:"Combo"}),o.jsx(A,{sortKey:"player",children:"Player"}),o.jsx(A,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(A,{sortKey:"totalMatches",children:"Matches"}),o.jsx(A,{sortKey:"winRate",children:"Win Rate"}),o.jsx(A,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(A,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(A,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:_.slice(0,20).map((k,E)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},E))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>$(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(jn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(wn,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(E=>E.usage>0).sort((E,K)=>K.wilson-E.wilson).slice(0,8).map((E,K)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${E.winRate>=60?"text-green-600":E.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[E.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.wilson.toFixed(3)})]},K))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>$(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(jn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(wn,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(E=>E.usage>0).sort((E,K)=>K.wilson-E.wilson).slice(0,8).map((E,K)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:E.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${E.winRate>=60?"text-green-600":E.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[E.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:E.wilson.toFixed(3)})]},K))})]})})]},k))})]}),o.jsx(Tte,{isOpen:j.isOpen,onClose:()=>N(k=>({...k,isOpen:!1})),title:j.title,data:j.data,columns:j.columns,onRowClick:j.onRowClick}),o.jsx(Mte,{isOpen:S.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:S.title,matches:S.matches})]})}const _P={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Bu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function Rte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function $te({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function Ite({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({}),[i,s]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[h,m]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&x()},[e]);const g=(j,N)=>N===0?0:j/N*(N/(N+10)),x=async()=>{try{const{data:j,error:N}=await Z.from("match_results").select("*").eq("tournament_id",e);if(N)throw N;const S=j||[];if(S.length===0){u(!1);return}const P={},O={};S.forEach(T=>{var E;if(!T.winner_name||!T.player1_name||!T.player2_name)return;const C=((E=T.outcome)==null?void 0:E.split(" (")[0])||"Unknown",z=T.points_awarded||_P[C]||0,$=T.phase_number||1;[T.player1_name,T.player2_name].forEach(K=>{P[K]||(P[K]={name:K,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),P[T.player1_name].allMatches.push(T),P[T.player2_name].allMatches.push(T);const _=P[T.winner_name],A=P[T.winner_name===T.player1_name?T.player2_name:T.player1_name],F=T.winner_name===T.player1_name?T.player1_beyblade:T.player2_beyblade,W=T.winner_name===T.player1_name?T.player2_beyblade:T.player1_beyblade;_.matches++,_.wins++,_.totalPoints+=z,_.finishDistribution[C]=(_.finishDistribution[C]||0)+1,_.winsByFinish[F]||(_.winsByFinish[F]={}),_.winsByFinish[F][C]=(_.winsByFinish[F][C]||0)+1,_.pointsGainedByBey[F]=(_.pointsGainedByBey[F]||0)+z,_.phasePerformance[$]||(_.phasePerformance[$]={wins:0,matches:0,points:0}),_.phasePerformance[$].wins++,_.phasePerformance[$].matches++,_.phasePerformance[$].points+=z,A.matches++,A.losses++,A.finishDistribution[C]=(A.finishDistribution[C]||0)+1,A.lossesByFinish[W]||(A.lossesByFinish[W]={}),A.lossesByFinish[W][C]=(A.lossesByFinish[W][C]||0)+1,A.pointsGivenByBey[W]=(A.pointsGivenByBey[W]||0)+z,A.phasePerformance[$]||(A.phasePerformance[$]={wins:0,matches:0,points:0}),A.phasePerformance[$].matches++;const k=[T.player1_name,T.player2_name].sort().join("_vs_");O[k]||(O[k]={player1:T.player1_name,player2:T.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),O[k].totalMatches++,T.winner_name===T.player1_name?O[k].p1Wins++:O[k].p2Wins++}),Object.values(P).forEach(T=>{T.winRate=T.matches>0?T.wins/T.matches*100:0,T.weightedWinRate=g(T.wins,T.matches),T.avgPointsPerMatch=T.matches>0?T.totalPoints/T.matches:0;const C=Object.entries(T.finishDistribution);T.mostCommonWinFinish=C.length>0?C.reduce((z,$)=>z[1]>$[1]?z:$)[0]:"N/A",T.mostCommonLoseFinish=T.mostCommonWinFinish}),Object.values(O).forEach(T=>{T.p1WinRate=T.totalMatches>0?T.p1Wins/T.totalMatches*100:0}),n(P),l(Object.values(O).filter(T=>T.totalMatches>0));const D=Object.keys(P);D.length>0&&!i&&s(D[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=()=>{const j=Object.values(r).map(N=>({name:N.name,matches:N.matches,winRate:N.winRate,weightedWinRate:N.weightedWinRate*100,totalPoints:N.totalPoints,avgPointsPerMatch:N.avgPointsPerMatch,mostCommonWinFinish:N.mostCommonWinFinish}));f({isOpen:!0,title:"All Tournament Players",data:j,columns:[{key:"name",label:"Player"},{key:"matches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"totalPoints",label:"Total Points"},{key:"avgPointsPerMatch",label:"Avg Points/Match"},{key:"mostCommonWinFinish",label:"Most Common Win"}],onRowClick:N=>{var P;const S=((P=r[N.name])==null?void 0:P.allMatches)||[];m({isOpen:!0,title:`All Matches for ${N.name}`,matches:S}),f(O=>({...O,isOpen:!1}))}})},p=()=>{f({isOpen:!0,title:"All Head-to-Head Matchups",data:a,columns:[{key:"player1",label:"Player 1"},{key:"player2",label:"Player 2"},{key:"totalMatches",label:"Total Matches"},{key:"p1Wins",label:"Player 1 Wins"},{key:"p2Wins",label:"Player 2 Wins"},{key:"p1WinRate",label:"Player 1 Win Rate (%)"}],onRowClick:j=>{const N=Object.values(r).flatMap(S=>S.allMatches.filter(P=>P.player1_name===j.player1&&P.player2_name===j.player2||P.player1_name===j.player2&&P.player2_name===j.player1));m({isOpen:!0,title:`${j.player1} vs ${j.player2} Matches`,matches:N}),f(S=>({...S,isOpen:!1}))}})};if(t||c)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing player analytics..."})]});const v=Object.keys(r);if(v.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(it,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Player Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Player analytics require match results to generate statistics."})]})});const b=i?r[i]:null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(it,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),v.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(ct,{size:24,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:w,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,N)=>N.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,N)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:N+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.mostCommonWinFinish})]},j.name))})]})})]}),b&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[o.jsx(wo,{size:24,className:"mr-2 text-blue-600"}),b.name," - Detailed Performance"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:b.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[b.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:b.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:b.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Bu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Bu.map(N=>{var S;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-green-600",children:((S=b.winsByFinish[j])==null?void 0:S[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-green-700",children:b.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Bu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(b.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Bu.map(N=>{var S;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-red-600",children:((S=b.lossesByFinish[j])==null?void 0:S[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-red-700",children:b.pointsGivenByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Ks,{width:"100%",height:400,children:o.jsxs(xte,{data:Object.entries(b.finishDistribution).map(([j,N])=>({finish:j,points:N*(_P[j]||0),count:N})),children:[o.jsx(SM,{}),o.jsx(Jh,{dataKey:"finish"}),o.jsx(Yh,{}),o.jsx(bb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),o.jsx(Vs,{})]})})]}),Object.keys(b.phasePerformance).length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phase"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(b.phasePerformance).sort(([j],[N])=>parseInt(j)-parseInt(N)).map(([j,N])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:N.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:N.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${N.matches>0&&N.wins/N.matches*100>=50?"text-green-600":"text-red-600"}`,children:[N.matches>0?(N.wins/N.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:N.matches>0?(N.points/N.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(kc,{size:24,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:p,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(jn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,N)=>N.totalMatches-j.totalMatches).slice(0,10).map((j,N)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},N))})]})})]}),o.jsx(Rte,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx($te,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function Lte(){const[e,t]=y.useState("meta"),[r,n]=y.useState([]),[i,s]=y.useState(""),[a,l]=y.useState(!0),[c,u]=y.useState(!1);y.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await Z.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const g=h==null?void 0:h.find(x=>x.status==="completed");g&&s(g.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Wn,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(wn,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(it,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx(Dte,{tournamentId:i}),e==="player"&&o.jsx(Ite,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function Bte(){return o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(wn,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-green-900 mb-4",children:"Community Analytics"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-green-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will be able to track engagement, growth, and tournament participation. Gain insights, compare statistics, and help your community thrive."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(kc,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Growth Metrics"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Track new member growth and community activity trends"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(wo,{size:24,className:"text-emerald-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Engagement Insights"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Analyze posts, discussions, and tournament participation"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(it,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Community Comparison"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Compare stats across different communities for insights and growth opportunities"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-green-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-green-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Community growth tracking"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Engagement analytics and trends"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Community comparison and insights"]})]})]}),o.jsx("div",{className:"mt-8 text-green-600 text-sm",children:"Community analytics is coming soon  empowering every community to grow stronger!"})]})})})})}function Fte(){dr();const[e,t]=y.useState("overview"),[r,n]=y.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(wn,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament, player, and community statistics"})]}),o.jsxs("div",{className:"filter-tabs flex gap-2",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ct,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Td,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Wn,{size:16,className:"mr-2"}),"Tournament Analysis"]}),o.jsxs("button",{onClick:()=>i("community"),className:`filter-tab ${e==="community"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(it,{size:16,className:"mr-2"}),"Community Analytics"]})]})]})}),e==="overview"&&o.jsx(wte,{}),e==="personal"&&o.jsx(Ste,{}),e==="tournament"&&o.jsx(Lte,{}),e==="community"&&o.jsx(Bte,{})]})})}const Pp={"Over Finish (2 pts)":2,"Burst Finish (2 pts)":2,"Spin Finish (1 pt)":1,"Extreme Finish (3 pts)":3},zte=()=>{const{confirm:e,alert:t}=Yi(),[r,n]=y.useState([]),[i,s]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(!1),[d,f]=y.useState(""),[h,m]=y.useState({}),[g,x]=y.useState({}),[w,p]=y.useState(!0),[v,b]=y.useState(!1),[j,N]=y.useState(""),[S,P]=y.useState(""),[O,D]=y.useState(1),[T,C]=y.useState(""),[z,$]=y.useState({}),[_,A]=y.useState(0),[F,W]=y.useState(0),[k,E]=y.useState(2),[K,Y]=y.useState(!1),[J,xe]=y.useState(!1),[U,B]=y.useState(!1),[Q,I]=y.useState(""),[V,M]=y.useState({}),[X,oe]=y.useState(null);y.useEffect(()=>{R()},[]),y.useEffect(()=>{if(i){u(!1),l(""),f("");const H=r.find(te=>te.id===i);H!=null&&H.password||(u(!0),ee(i))}},[i]);const R=async()=>{try{const{data:H,error:te}=await Z.from("tournaments").select("id, name, status, tournament_date, location, beyblades_per_player, password").order("tournament_date",{ascending:!1});if(te)throw te;n(H||[]);const le=H==null?void 0:H.find(he=>he.status==="active");le&&s(le.id)}catch(H){console.error("Error fetching tournaments:",H)}finally{p(!1)}},q=()=>{const H=r.find(te=>te.id===i);if(!(H!=null&&H.password)){u(!0),ee(i);return}a===H.password?(u(!0),f(""),ee(i)):f("Incorrect password. Please try again.")},ee=async H=>{b(!0);try{const{data:te,error:le}=await Z.from("tournament_registrations").select(`
          player_name,
          tournament_beyblades(
            beyblade_name,
            blade_line
          )
        `).eq("tournament_id",H).eq("status","confirmed").order("player_name",{ascending:!0});if(le)throw le;const he={},tt={};te==null||te.forEach(Ie=>{const Te=Ie.player_name,Ft=Ie.tournament_beyblades.map(Or=>Or.beyblade_name),at=Ie.tournament_beyblades.map(Or=>({name:Or.beyblade_name,blade_line:Or.blade_line}));Ft.length>0&&(he[Te]=Ft,tt[Te]=at)}),m(he),x(tt),ne()}catch(te){console.error("Error fetching player data:",te),m({})}finally{b(!1)}},ne=()=>{N(""),P(""),D(1),C(""),$({}),A(0),W(0),E(2),Y(!1),M({}),x({}),I("")},ce=(H,te)=>{H===1?(N(te),te===S&&P("")):(P(te),te===j&&N("")),te&&($({}),A(0),W(0),E(2),Y(!1),M({}))},me=(H,te)=>{var Te,Ft,at;const le=(be==null?void 0:be.beyblades_per_player)||3,he=Math.floor(te/le)+1,tt=te%le;if(he===1)return((Te=h[H])==null?void 0:Te[tt])||"";const Ie=(Ft=V[he])==null?void 0:Ft[H];return Ie?Ie[tt]||"":((at=h[H])==null?void 0:at[tt])||""},Pe=(H,te)=>{var Te,Ft,at,Or,is,zt;const le=(be==null?void 0:be.beyblades_per_player)||3,he=Math.floor(te/le)+1,tt=te%le;if(he===1)return((Ft=(Te=g[H])==null?void 0:Te[tt])==null?void 0:Ft.blade_line)||"";const Ie=(at=V[he])==null?void 0:at[H];if(Ie){const Cn=Ie[tt],Yr=(Or=g[H])==null?void 0:Or.find(OD=>OD.name===Cn);return(Yr==null?void 0:Yr.blade_line)||""}return((zt=(is=g[H])==null?void 0:is[tt])==null?void 0:zt.blade_line)||""},Jt=()=>{if(K){t("Phase Required",`Click Shuffle before adding the next match (after every ${(be==null?void 0:be.beyblades_per_player)||3} matches).`);return}if(!j||!S){t("Missing Players","Please select both players first.");return}let H=0;for(;z[H]!==void 0;)H++;const te={...z,[H]:{outcome:null,winner:null,points:0}};$(te);const le=(be==null?void 0:be.beyblades_per_player)||3,he=Object.keys(te).length;he>0&&he%le===0&&Y(!0)},ui=(H,te)=>{const le={...z};if(le[H]){le[H].outcome=te;const he=te&&le[H].winner&&Pp[te]||0;le[H].points=he}$(le),Uo(le)},di=(H,te)=>{const le={...z};if(le[H]){le[H].winner=te;const he=le[H].outcome&&te&&Pp[le[H].outcome]||0;le[H].points=he}$(le),Uo(le)},Uo=H=>{let te=0,le=0;Object.values(H).forEach(he=>{he.winner&&he.outcome&&he.points>0&&(he.winner===j?te+=he.points:he.winner===S&&(le+=he.points))}),A(te),W(le)},tm=H=>{const te={...z};delete te[H],$(te),Uo(te),Y(!1)},jD=()=>{const H=k,te={...V};te[H]||(te[H]={[j]:[...h[j]||[]],[S]:[...h[S]||[]]}),M(te),E(le=>le+1),Y(!1)},ND=(H,te,le)=>{M(he=>({...he,[H]:{...he[H],[te]:le}}))},Ab=(H,te)=>{oe(te),H.dataTransfer.effectAllowed="move"},Eb=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},Cb=(H,te,le,he)=>{var Ft;if(H.preventDefault(),!X)return;const tt=((Ft=V[te])==null?void 0:Ft[le])||[],Ie=tt.indexOf(X);if(Ie===-1)return;const Te=[...tt];Te.splice(Ie,1),Te.splice(he,0,X),ND(te,le,Te),oe(null)},Tb=()=>{oe(null)},SD=async()=>{if(!T.trim()){t("Please enter the Tournament Officer name before submitting.");return}const H=Object.entries(z).filter(([te,le])=>le.outcome&&le.winner);if(H.length===0){t("No complete matches to submit.");return}B(!0),I("Submitting matches...");try{const te=H.map(([tt,Ie])=>{const Te=parseInt(tt);return{tournament_id:i,round_number:O,player1_name:j,player2_name:S,player1_beyblade:me(j,Te),player2_beyblade:me(S,Te),player1_blade_line:Pe(j,Te),player2_blade_line:Pe(S,Te),outcome:Ie.outcome,winner_name:Ie.winner,points_awarded:Ie.points,match_number:Te+1,phase_number:Math.floor(Te/3)+1,tournament_officer:T}}),{error:le}=await Z.from("match_results").insert(te);if(le)throw le;const{error:he}=await Z.from("match_sessions").insert({tournament_id:i,round_number:O,player1_name:j,player2_name:S,player1_final_score:_,player2_final_score:F,winner_name:_>F?j:S,total_matches:H.length,tournament_officer:T,match_summary:H.map(([tt,Ie])=>{const Te=parseInt(tt),Ft=me(Ie.winner,Te),at=(be==null?void 0:be.beyblades_per_player)||3,Or=Math.floor(Te/at)+1,is=Te%at+1;return`Phase ${Or}, Match ${is}: ${Ie.outcome} by ${Ie.winner} using ${Ft}`}).join("; "),phases:Object.keys(V).length+1,deck_orders:V});if(he)throw he;I(" Matches submitted successfully!"),xe(!1),setTimeout(()=>{ne(),I("")},2e3)}catch(te){console.error("Error submitting matches:",te),I(" Failed to submit matches. Please try again.")}finally{B(!1)}},PD=()=>Object.entries(z).filter(([te,le])=>le.outcome&&le.winner).map(([te,le])=>{const he=parseInt(te),tt=me(le.winner,he);return`Match ${he+1}: ${le.outcome} by ${le.winner} using ${tt}`}),be=r.find(H=>H.id===i),Mb=Object.keys(h),_D=Mb.filter(H=>H!==S),kD=Mb.filter(H=>H!==j);return w?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBC Match Tracker"}),o.jsx("p",{className:"text-gray-600",children:"Track tournament matches in real-time"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tournament Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),o.jsxs("select",{value:i,onChange:H=>s(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(H=>o.jsxs("option",{value:H.id,children:[H.name," (",H.status,")"]},H.id))]})]}),be&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:be.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",o.jsx("span",{className:`capitalize ${be.status==="active"?"text-green-600":be.status==="upcoming"?"text-blue-600":"text-gray-600"}`,children:be.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(be.tournament_date).toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",be.location]}),be.password&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:" Password protected"})]})]})]}),i&&(be==null?void 0:be.password)&&!c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:" Tournament Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This tournament requires a password to access match tracking features."}),o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"password",placeholder:"Enter tournament password",value:a,onChange:H=>{l(H.target.value),f("")},onKeyPress:H=>H.key==="Enter"&&q(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:q,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Verify"})]}),d&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:d})]})]}),i&&c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Match Setup"}),v?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading player data..."})]}):Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(it,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No confirmed registrations found for this tournament"})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Round #"}),o.jsx("input",{type:"number",min:"1",value:O,onChange:H=>D(parseInt(H.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),o.jsxs("select",{value:j,onChange:H=>ce(1,H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 1 --"}),_D.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),o.jsxs("select",{value:S,onChange:H=>ce(2,H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 2 --"}),kD.map(H=>o.jsx("option",{value:H,children:H},H))]})]})]})]}),j&&S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tournament Officer",value:T,onChange:H=>C(H.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),o.jsxs("div",{className:"text-lg font-bold",children:[o.jsxs("span",{className:`${_>F?"text-green-600":_<F?"text-red-600":"text-gray-600"}`,children:[j,": ",_]}),o.jsx("span",{className:"mx-4 text-gray-400",children:"|"}),o.jsxs("span",{className:`${F>_?"text-green-600":F<_?"text-red-600":"text-gray-600"}`,children:[S,": ",F]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Phase 1 Decks (",(be==null?void 0:be.beyblades_per_player)||3," Beyblades)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2"}),o.jsx("th",{className:"text-left py-2 font-semibold",children:j}),o.jsx("th",{className:"text-left py-2 font-semibold",children:S})]})}),o.jsx("tbody",{children:Array.from({length:(be==null?void 0:be.beyblades_per_player)||3},(H,te)=>{var le,he;return o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 font-medium",children:["Bey ",te+1]}),o.jsx("td",{className:"py-2",children:((le=h[j])==null?void 0:le[te])||""}),o.jsx("td",{className:"py-2",children:((he=h[S])==null?void 0:he[te])||""})]},te)})})]})})]}),o.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(z).map(([H,te])=>{var Or,is;const le=parseInt(H),he=me(j,le),tt=me(S,le),Ie=le+1,Te=(be==null?void 0:be.beyblades_per_player)||3,Ft=Ie%Te===0&&Ie>0,at=Math.floor(Ie/Te)+1;return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold",children:["Match ",Ie,": ",he," vs ",tt]}),o.jsx("button",{onClick:()=>tm(le),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Outcome:"}),o.jsx("div",{className:"space-y-2",children:Object.keys(Pp).map(zt=>o.jsx("button",{onClick:()=>ui(le,zt),className:`w-full text-left px-3 py-2 rounded border transition-colors ${te.outcome===zt?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:zt},zt))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Winner:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>di(le,j),className:`w-full text-left px-3 py-2 rounded border transition-colors ${te.winner===j?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:j}),o.jsx("button",{onClick:()=>di(le,S),className:`w-full text-left px-3 py-2 rounded border transition-colors ${te.winner===S?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:S})]})]})]})]}),Ft&&at>1&&V[at]&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-md p-6 mt-4 border-2 border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center",children:[o.jsx(u1,{className:"mr-2",size:20}),"Phase ",at," Decks - Drag to Reorder"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:j}),o.jsx("div",{className:"space-y-2",children:(Or=V[at][j])==null?void 0:Or.map((zt,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Ab(Yr,zt),onDragOver:Eb,onDrop:Yr=>Cb(Yr,at,j,Cn),onDragEnd:Tb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${X===zt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(l1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:zt})]},`${at}-${j}-${Cn}`))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:S}),o.jsx("div",{className:"space-y-2",children:(is=V[at][S])==null?void 0:is.map((zt,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Yr=>Ab(Yr,zt),onDragOver:Eb,onDrop:Yr=>Cb(Yr,at,S,Cn),onDragEnd:Tb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${X===zt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(l1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:zt})]},`${at}-${S}-${Cn}`))})]})]})]})]},H)})}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsxs("button",{onClick:K?jD:Jt,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:K?"Shuffle":"Add Match"})]}),o.jsxs("button",{onClick:()=>xe(!0),disabled:Object.values(z).every(H=>!H.outcome||!H.winner),className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o.jsx(IL,{size:20}),o.jsx("span",{children:"Submit Scores"})]}),o.jsxs("button",{onClick:ne,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(u1,{size:20}),o.jsx("span",{children:"Refresh"})]})]}),Q&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:`font-semibold ${Q.includes("")?"text-green-600":Q.includes("")?"text-red-600":"text-blue-600"}`,children:Q})})]})]}),J&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Summary"}),o.jsx("button",{onClick:()=>xe(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Final Scores"}),o.jsxs("p",{className:"text-xl",children:[o.jsxs("strong",{children:[j,":"]})," ",_," pts | ",o.jsxs("strong",{children:[S,":"]})," ",F," pts"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Match Results"}),o.jsx("div",{className:"space-y-2",children:PD().map((H,te)=>o.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:H}},te))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>xe(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:SD,disabled:U,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[U&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Confirm Submit"})]})]})]})]})})]})};function Ute(){const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState([]),[s,a]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState("tournaments"),[f,h]=y.useState(!0),[m,g]=y.useState(!1),[x,w]=y.useState(null),[p,v]=y.useState(!1),[b,j]=y.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""}),N=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";y.useEffect(()=>{N&&S()},[N]),y.useEffect(()=>{l&&u==="registrations"&&P()},[l,u]);const S=async()=>{h(!0);try{const{data:_,error:A}=await Z.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(A)throw A;i(_||[])}catch(_){console.error("Error fetching tournaments:",_),i([])}finally{h(!1)}},P=async()=>{if(l)try{const{data:_,error:A}=await Z.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(A)throw A;const F={};_==null||_.forEach(W=>{F[W.registration_id]||(F[W.registration_id]={id:W.registration_id,tournament_id:W.tournament_id,player_name:W.player_name,payment_mode:W.payment_mode,registered_at:W.registered_at,status:W.status,payment_status:W.payment_status||"confirmed",beyblades:[]}),W.beyblade_id&&(F[W.registration_id].beyblades.find(E=>E.beyblade_id===W.beyblade_id)||F[W.registration_id].beyblades.push({beyblade_id:W.beyblade_id,beyblade_name:W.beyblade_name,blade_line:W.blade_line}))}),a(Object.values(F))}catch(_){console.error("Error fetching registrations:",_)}},O=()=>{g(!0),j({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})},D=_=>{w(_.id),j({name:_.name,description:_.description||"",tournament_date:_.tournament_date,location:_.location,max_participants:_.max_participants,registration_deadline:_.registration_deadline,prize_pool:_.prize_pool||"",beyblades_per_player:_.beyblades_per_player,players_per_team:_.players_per_team,entry_fee:_.entry_fee,is_free:_.is_free,tournament_type:_.tournament_type,password:_.password||""})},T=async()=>{if(!b.name.trim()){await r("Missing Information","Please enter a tournament name.");return}if(!b.password.trim()){await r("Missing Information","Please enter a tournament password.");return}if(!b.tournament_date){await r("Missing Information","Please select a tournament date.");return}if(!b.location.trim()){await r("Missing Information","Please enter a tournament location.");return}if(!b.registration_deadline){await r("Missing Information","Please select a registration deadline.");return}try{const _={name:b.name.trim(),description:b.description.trim()||null,tournament_date:b.tournament_date,location:b.location.trim(),max_participants:b.max_participants,registration_deadline:b.registration_deadline,prize_pool:b.prize_pool.trim()||null,beyblades_per_player:b.beyblades_per_player,players_per_team:b.players_per_team,entry_fee:b.entry_fee,is_free:b.is_free,tournament_type:b.tournament_type,password:b.password.trim()};if(m){const{error:A}=await Z.from("tournaments").insert([_]);if(A)throw A}else if(x){const{error:A}=await Z.from("tournaments").update(_).eq("id",x);if(A)throw A}await S(),$(),await r("Success","Tournament saved successfully!")}catch(_){console.error("Error saving tournament:",_),await r("Error","Failed to save tournament. Please try again.")}},C=async _=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{const{data:F,error:W}=await Z.rpc("delete_tournament_completely",{tournament_id_to_delete:_});if(W)throw W;await S(),await r("Success","Tournament deleted successfully!")}catch(F){console.error("Error deleting tournament:",F),await r("Error","Failed to delete tournament. Please try again.")}},z=async _=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:F}=await Z.from("tournament_registrations").delete().eq("id",_);if(F)throw F;await P(),await r("Success","Registration deleted successfully!")}catch(F){console.error("Error deleting registration:",F),await r("Error","Failed to delete registration. Please try again.")}},$=()=>{g(!1),w(null),j({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})};return N?f?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper max-w-6xl mx-auto",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(ct,{size:28,className:"mr-3 text-yellow-600"}),"Tournament Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage tournaments"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>d("tournaments"),className:`filter-tab ${u==="tournaments"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ct,{size:16,className:"mr-2"}),"Tournaments"]}),o.jsxs("button",{onClick:()=>d("registrations"),className:`filter-tab ${u==="registrations"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(it,{size:16,className:"mr-2"}),"Registrations"]})]})]})}),u==="tournaments"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs("button",{onClick:O,className:"primary-button flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Create Tournament"})]})}),(m||x)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Name *"}),o.jsx("input",{type:"text",value:b.name,onChange:_=>j({...b,name:_.target.value}),className:"input-field w-full",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Date *"}),o.jsx("input",{type:"date",value:b.tournament_date,onChange:_=>j({...b,tournament_date:_.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Location *"}),o.jsx("input",{type:"text",value:b.location,onChange:_=>j({...b,location:_.target.value}),className:"input-field w-full",placeholder:"Enter tournament location"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Registration Deadline *"}),o.jsx("input",{type:"date",value:b.registration_deadline,onChange:_=>j({...b,registration_deadline:_.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Max Participants"}),o.jsx("input",{type:"number",min:"1",value:b.max_participants,onChange:_=>j({...b,max_participants:parseInt(_.target.value)||16}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:"1",max:"5",value:b.beyblades_per_player,onChange:_=>j({...b,beyblades_per_player:parseInt(_.target.value)||3}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Type"}),o.jsxs("select",{value:b.tournament_type,onChange:_=>j({...b,tournament_type:_.target.value}),className:"select-field w-full",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Entry Fee"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:b.is_free,onChange:_=>j({...b,is_free:_.target.checked,entry_fee:_.target.checked?0:b.entry_fee}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Free Tournament"})]}),!b.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:b.entry_fee,onChange:_=>j({...b,entry_fee:parseFloat(_.target.value)||0}),className:"input-field w-full mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:p?"text":"password",value:b.password,onChange:_=>j({...b,password:_.target.value}),className:"input-field w-full pr-10",placeholder:"Enter tournament password (required for match tracking)"}),o.jsx("button",{type:"button",onClick:()=>v(!p),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:p?o.jsx(Cd,{size:20}):o.jsx(jn,{size:20})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Description"}),o.jsx("textarea",{value:b.description,onChange:_=>j({...b,description:_.target.value}),className:"input-field w-full",rows:3,placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"form-label",children:"Prize Pool"}),o.jsx("input",{type:"text",value:b.prize_pool,onChange:_=>j({...b,prize_pool:_.target.value}),className:"input-field w-full",placeholder:"e.g., 500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:$,className:"secondary-button flex items-center space-x-2",children:[o.jsx(Gt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:T,className:"primary-button flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save Tournament"})]})]})]}),n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ct,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No tournaments created yet"}),o.jsx("button",{onClick:O,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(_=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.name}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium capitalize ${_.status==="upcoming"?"bg-blue-100 text-blue-800":_.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.status})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>D(_),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:14})}),o.jsx("button",{onClick:()=>C(_.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:14})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:14,className:"mr-2"}),new Date(_.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(p2,{size:14,className:"mr-2"}),_.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(it,{size:14,className:"mr-2"}),_.max_participants===999999?`${_.current_participants} participants (unlimited)`:`${_.current_participants}/${_.max_participants} participants`]}),_.password&&o.jsx("div",{className:"flex items-center text-orange-600",children:o.jsx("span",{className:"text-xs",children:" Password protected"})})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Created: ",new Date(_.created_at).toLocaleDateString()]})]},_.id))})]}),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"form-label",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:_=>c(_.target.value),className:"select-field max-w-md",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(_=>o.jsx("option",{value:_.id,children:_.name},_.id))]})]}),l&&o.jsx("div",{className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(it,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):s.map(_=>{var A;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:_.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:_.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(_.registered_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((A=_.payment_mode)==null?void 0:A.replace("_"," "))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-1 ${_.status==="confirmed"?"bg-green-100 text-green-800":_.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:_.status})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>z(_.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Registration",children:o.jsx(kn,{size:16})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[_.beyblades.length," registered"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:_.beyblades.length>0?_.beyblades.map((F,W)=>o.jsx("span",{className:"inline-block bg-white px-2 py-1 rounded-full text-xs font-medium text-gray-700 border",children:F.beyblade_name},W)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},_.id)})})]})]})}):o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:""})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You need admin or developer permissions to access tournament management."})]})})})}function Wte(){const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState([]),[s,a]=y.useState("all"),[l,c]=y.useState("all"),[u,d]=y.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";Oi.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:v,error:b}=await Z.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw b;const j=(v||[]).map(N=>({id:N.id,username:N.username,email:N.email||"",role:N.role,joinedDate:N.created_at,status:"active",lastLogin:null}));i(j)}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const b=s==="all"||v.status===s,j=l==="all"||v.role===l;return b&&j}),g=async(v,b)=>{try{const{error:j}=await Z.from("profiles").update(b).eq("id",v);if(j){const N=j.code==="42501"||j.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${j.message}`;await r("Update Failed",N);return}await h()}catch(j){console.error("Error updating user:",j),await r("Update Failed",`Failed to update user: ${j instanceof Error?j.message:"Unknown error"}`)}},x=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:j,error:N}=await Z.rpc("delete_user_completely",{user_id_to_delete:v});if(N){console.error("Delete error:",N),N.code==="42501"||N.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):N.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${N.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(j){console.error("Error deleting user:",j),await r("Delete Failed",`Failed to delete user: ${j instanceof Error?j.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(it,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(DL,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:b=>g(v.id,{role:b.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${p(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>x(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(kn,{size:16})})]})})})]},v.id))})]})})})]})}function Vte(){var M,X,oe;const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState("tournaments"),[s,a]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState([]),[f,h]=y.useState(!1),[m,g]=y.useState(null),[x,w]=y.useState([]),[p,v]=y.useState(null),[b,j]=y.useState({}),[N,S]=y.useState(null),[P,O]=y.useState([]),[D,T]=y.useState(""),[C,z]=y.useState(1),[$]=y.useState(10);Oi.useEffect(()=>{a(null),S(null),v(null),j({}),T(""),z(1)},[n]);const _=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",A=async()=>{try{const[R,q,ee,ne]=await Promise.all([Z.from("profiles").select("*",{count:"exact",head:!0}),Z.from("tournaments").select("*",{count:"exact",head:!0}),Z.from("match_results").select("*",{count:"exact",head:!0}),Z.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:R.count||0,icon:o.jsx(it,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:q.count||0,icon:o.jsx(ct,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:ee.count||0,icon:o.jsx(zi,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:ne.count||0,icon:o.jsx(LL,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ce}=await Z.from("tournaments").select("id, name").order("name");O(ce||[])}catch(R){console.error("Error fetching table counts:",R)}},F=async(R,q)=>{h(!0),g(null);try{let ee=[];if(R==="registrations"&&q){const{data:ne,error:ce}=await Z.from("tournament_registration_details").select("*").eq("tournament_id",q).order("registered_at",{ascending:!1});if(ce)throw ce;const me={};ne==null||ne.forEach(Pe=>{var Jt;me[Pe.registration_id]||(me[Pe.registration_id]={registration_id:Pe.registration_id,tournament_id:Pe.tournament_id,tournament_name:((Jt=P.find(ui=>ui.id===Pe.tournament_id))==null?void 0:Jt.name)||"Unknown Tournament",player_name:Pe.player_name,payment_mode:Pe.payment_mode,registered_at:Pe.registered_at,status:Pe.status,beyblades:[]}),Pe.beyblade_id&&(me[Pe.registration_id].beyblades.find(di=>di.beyblade_id===Pe.beyblade_id)||me[Pe.registration_id].beyblades.push({beyblade_id:Pe.beyblade_id,beyblade_name:Pe.beyblade_name,blade_line:Pe.blade_line,parts:Pe.beyblade_parts||[]}))}),ee=Object.values(me)}else if(R==="registrations"&&!q)ee=P;else{let ne=R;R==="registrations"?ne="tournament_registrations":R==="users"?ne="profiles":R==="matches"&&(ne="match_results");const{data:ce,error:me}=await Z.from(ne).select("*").order(R==="tournaments"?"tournament_date":R==="matches"?"submitted_at":"created_at",{ascending:!1});if(me)throw console.error(` DATABASE: Error fetching ${R}:`,me),me;ee=ce||[]}(R!=="registrations"||q)&&ee.sort((ne,ce)=>{const me=Object.values(ne).find(Jt=>typeof Jt=="string")||"",Pe=Object.values(ce).find(Jt=>typeof Jt=="string")||"";return me.localeCompare(Pe)}),d(ee)}catch(ee){console.error("Error fetching table data:",ee),g(`Failed to load ${R} data. Please try again.`)}finally{h(!1)}},W=async()=>{c(!0),await Promise.all([A(),F(n,s||void 0)]),c(!1)},k=R=>{const q=JSON.stringify(u,null,2),ee=new Blob([q],{type:"application/json"}),ne=URL.createObjectURL(ee),ce=document.createElement("a");ce.href=ne,ce.download=`${R}_export_${new Date().toISOString().split("T")[0]}.json`,ce.click(),URL.revokeObjectURL(ne)},E=R=>{v(R.id||R.registration_id||R.tournament_id),j({...R})},K=async()=>{if(!(!p||!_))try{let R=n;n==="registrations"?R="tournament_registrations":n==="users"?R="profiles":n==="matches"&&(R="match_results");const{error:q}=await Z.from(R).update(b).eq("id",p);if(q){console.error("Update error:",q),q.code==="42501"||q.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${q.message}`);return}v(null),j({}),await F(n)}catch(R){console.error("Error updating row:",R),await r("Update Failed",`Failed to update record: ${R instanceof Error?R.message:"Unknown error"}. Please try again.`)}},Y=async R=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let ee=n;n==="registrations"?ee="tournament_registrations":n==="users"?ee="profiles":n==="matches"&&(ee="match_results");const{error:ne}=await Z.from(ee).delete().eq("id",R);if(ne){console.error("Delete error:",ne),ne.code==="42501"||ne.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${ne.message}`);return}await Promise.all([A(),F(n,s||void 0)])}catch(ee){console.error("Error deleting row:",ee),await r("Delete Failed",`Failed to delete record: ${ee instanceof Error?ee.message:"Unknown error"}. Please try again.`)}},J=R=>{a(R),F("registrations",R)},xe=()=>{a(null),F("registrations")},U=R=>{S(R)};y.useEffect(()=>{A()},[]),y.useEffect(()=>{n==="registrations"&&a(null),F(n)},[n]);const B=u.filter(R=>D?Object.values(R).filter(ee=>typeof ee=="string").join(" ").toLowerCase().includes(D.toLowerCase()):!0),Q=Math.ceil(B.length/$),I=B.slice((C-1)*$,C*$),V=()=>{var R;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:""})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>F(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ct,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(q=>o.jsxs("button",{onClick:()=>J(q.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:q.name}),o.jsx(_L,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:q.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(q.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${q.status==="upcoming"?"bg-blue-100 text-blue-800":q.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:q.status})})]},q.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:xe,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(F0,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((R=P.find(q=>q.id===s))==null?void 0:R.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(q=>{var ee;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:q.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:q.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:q.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(q.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((ee=q.payment_mode)==null?void 0:ee.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${q.status==="confirmed"?"bg-green-100 text-green-800":q.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:q.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>U(q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(jn,{size:16})}),_&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>E(q),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>Y(q.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(kn,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[q.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:q.beyblades.length>0?q.beyblades.map((ne,ce)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:ne.beyblade_name},ce)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},q.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:D,onChange:q=>{T(q.target.value),z(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",I.length," of ",B.length," records"]}),Q>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>z(Math.max(1,C-1)),disabled:C===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",C," of ",Q]}),o.jsx("button",{onClick:()=>z(Math.min(Q,C+1)),disabled:C===Q,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[I.length>0&&I[0]&&Object.keys(I[0]).map(q=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:q.replace(/_/g," ")},q)),_&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:I.map((q,ee)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(q).map(([ne,ce],me)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p===(q.id||q.registration_id||q.tournament_id)&&_?o.jsx("input",{type:"text",value:b[ne]||"",onChange:Pe=>j({...b,[ne]:Pe.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ce=="object"&&ce!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ce).length>50?JSON.stringify(ce).substring(0,50)+"...":JSON.stringify(ce)}):ce instanceof Date?ce.toLocaleString():o.jsx("span",{className:ne.includes("email")?"font-mono text-blue-600":"",children:String(ce||"")})})},me)),_&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:p===(q.id||q.registration_id||q.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:K,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(qf,{size:16})}),o.jsx("button",{onClick:()=>{v(null),j({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(Gt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>E(q),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>Y(q.id||q.registration_id||q.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(kn,{size:16})})]})})})]},q.id||ee))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Wn,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:W,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx($L,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>k(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(AL,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Wn,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:x.map(R=>o.jsxs("button",{onClick:()=>i(R.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===R.name?"bg-gradient-to-r "+R.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===R.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:Oi.cloneElement(R.icon,{className:n===R.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===R.name?"text-white":"text-gray-900"}`,children:R.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===R.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:R.records})]}),o.jsx("p",{className:`text-xs ${n===R.name?"text-white/80":"text-gray-600"}`,children:R.description})]},R.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(wn,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.reduce((R,q)=>R+q.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((M=x.find(R=>R.name===n))==null?void 0:M.icon)&&Oi.cloneElement(x.find(R=>R.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((X=P.find(R=>R.id===s))==null?void 0:X.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(oe=x.find(R=>R.name===n))==null?void 0:oe.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${B.length} records`})})]})}),V()]})})]}),N&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:N.player_name})]}),o.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:N.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:N.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:N.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${N.status==="confirmed"?"bg-green-100 text-green-800":N.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:N.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(N.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(ct,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[N.beyblades.length," Beyblades"]})]}),N.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(ct,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:N.beyblades.map((R,q)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:R.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[R.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:q+1})})]}),R.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:R.parts.map((ee,ne)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:ee.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:ee.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:ne+1})})]},ne))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},R.beyblade_id))})]})]})]})})]})})}function Kte({showHeader:e=!0}){const{user:t}=dr(),{confirm:r,alert:n}=Yi();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,x]=y.useState(!0),[w,p]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(""),[j,N]=y.useState(""),[S,P]=y.useState(3),[O,D]=y.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);y.useEffect(()=>{T(),g&&z(),C()},[t]);const T=async()=>{try{const{data:I,error:V}=await Z.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(V)throw V;s(I||[])}catch(I){console.error("Error fetching presets:",I)}finally{u(!1)}};y.useEffect(()=>{g||C()},[g]);const C=async()=>{try{const[I,V,M,X,oe]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);p({blades:I.data||[],ratchets:V.data||[],bits:M.data||[],lockchips:X.data||[],assistBlades:oe.data||[]})}catch(I){console.error("Error fetching parts data:",I)}},z=async()=>{try{const{data:I,error:V}=await Z.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(V)throw V;l(I||[])}catch(I){console.error("Error fetching inventory:",I)}},$=I=>{switch(I){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},_=I=>{if(!g)switch(I==="Main Blade"?"Blade":I){case"Blade":return w.blades.map(M=>({id:`db-${M.Blades}`,part_type:"Blade",part_name:M.Blades,part_data:M,quantity:999}));case"Ratchet":return w.ratchets.map(M=>({id:`db-${M.Ratchet}`,part_type:"Ratchet",part_name:M.Ratchet,part_data:M,quantity:999}));case"Bit":return w.bits.map(M=>({id:`db-${M.Bit}`,part_type:"Bit",part_name:`${M.Bit} (${M.Shortcut})`,part_data:M,quantity:999}));case"Lockchip":return w.lockchips.map(M=>({id:`db-${M.Lockchip}`,part_type:"Lockchip",part_name:M.Lockchip,part_data:M,quantity:999}));case"Assist Blade":return w.assistBlades.map(M=>({id:`db-${M["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${M["Assist Blade Name"]} (${M["Assist Blade"]})`,part_data:M,quantity:999}));default:return[]}return I==="Blade"||I==="Main Blade"?a.filter(M=>M.part_type.startsWith("Blade (")&&M.part_type===`Blade (${I==="Main Blade"?"Custom":"Basic"})`):a.filter(M=>M.part_type===I)},A=(I,V)=>{var oe,R,q,ee,ne,ce,me,Pe;if(!I||!$(I).every(Jt=>V[Jt]))return"";if(I==="Custom"){const Jt=((oe=V.Lockchip)==null?void 0:oe.Lockchip)||"",ui=((R=V["Main Blade"])==null?void 0:R.Blades)||"",di=((q=V["Assist Blade"])==null?void 0:q["Assist Blade"])||"",Uo=((ee=V.Ratchet)==null?void 0:ee.Ratchet)||"",tm=((ne=V.Bit)==null?void 0:ne.Shortcut)||"";return`${Jt}${ui} ${di}${Uo}${tm}`}else{const Jt=((ce=V.Blade)==null?void 0:ce.Blades)||"",ui=((me=V.Ratchet)==null?void 0:me.Ratchet)||"",di=((Pe=V.Bit)==null?void 0:Pe.Shortcut)||"";return`${Jt} ${ui}${di}`}},F=I=>{let V={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(I).forEach(M=>{M&&(V.attack+=M.Attack||0,V.defense+=M.Defense||0,V.stamina+=M.Stamina||0,V.dash+=M.Dash||0,V.burstRes+=M["Burst Res"]||0)}),V},W=()=>{f(!0),b(""),N(""),P(3),D([{id:"1",name:"",blade_line:"Basic",parts:{}}])},k=I=>{m(I.id),b(I.name),N(I.description||""),P(I.beyblades.length),D(I.beyblades)},E=()=>{O.length<S&&D([...O,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},K=I=>{O.length>1&&D(O.filter(V=>V.id!==I))},Y=(I,V,M)=>{D(O.map(X=>{if(X.id===I){const oe={...X,[V]:M,parts:{}};return oe.name=A(M,{}),oe}return X}))},J=(I,V,M)=>{D(O.map(X=>{if(X.id===I){const oe={...X.parts,[V]:M},R=A(X.blade_line,oe);return{...X,parts:oe,name:R}}return X}))},xe=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const I=O.filter(V=>{const M=$(V.blade_line);return V.blade_line&&M.every(X=>V.parts[X])});if(I.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const V={user_id:t.id,name:v.trim(),description:j.trim()||null,beyblades:I};if(d){const{error:M}=await Z.from("deck_presets").insert([V]);if(M)throw M}else if(h){const{error:M}=await Z.from("deck_presets").update({...V,updated_at:new Date().toISOString()}).eq("id",h);if(M)throw M}await T(),B(),await n("Success","Deck preset saved successfully!")}catch(V){console.error("Error saving preset:",V),await n("Error","Failed to save deck preset. Please try again.")}},U=async I=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:M}=await Z.from("deck_presets").delete().eq("id",I);if(M)throw M;await T()}catch(M){console.error("Error deleting preset:",M),await n("Error","Failed to delete deck preset. Please try again.")}},B=()=>{f(!1),m(null),b(""),N(""),P(3),D([{id:"1",name:"",blade_line:"Basic",parts:{}}])},Q=I=>{switch(I){case"attack":return o.jsx(Oc,{size:12,className:"text-red-500"});case"defense":return o.jsx(As,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Hf,{size:12,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(z0,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:I=>b(I.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:j,onChange:I=>N(I.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:O.map((I,V)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",V+1]}),O.length>1&&o.jsx("button",{onClick:()=>K(I.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:I.blade_line,onChange:M=>Y(I.id,"blade_line",M.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:I.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:$(I.blade_line).map(M=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M}),o.jsxs("select",{value:I.parts[M]?JSON.stringify(I.parts[M]):"",onChange:X=>{if(X.target.value){const oe=JSON.parse(X.target.value);J(I.id,M,oe)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",M]}),_(M).filter(X=>{var oe;return!g&&(M==="Blade"||M==="Main Blade")&&((oe=X.part_data)!=null&&oe.Line)?X.part_data.Line===(M==="Main Blade"?"Custom":I.blade_line):!0}).map(X=>o.jsxs("option",{value:JSON.stringify(X.part_data),children:[X.part_name," ",g?`(Qty: ${X.quantity})`:""]},X.id))]})]},M))}),Object.keys(I.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(F(I.parts)).map(([M,X])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:Q(M)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:M==="burstRes"?"Burst Res":M}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:X})]},M))})]})]},I.id))}),O.length<5&&o.jsxs("button",{onClick:E,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",O.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:B,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Gt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:xe,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:W,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(I=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.name}),I.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:I.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>k(I),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>U(I.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:I.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[I.beyblades.slice(0,3).map((V,M)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:V.name||`Beyblade ${M+1}`},M)),I.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",I.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(I.updated_at).toLocaleDateString()]})]},I.id))})]})}function Hte(){const{user:e}=dr(),{confirm:t,alert:r}=Yi(),[n,i]=y.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(ml,{size:64,className:"text-gray-400"}),o.jsx(La,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:""})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,g]=y.useState(""),[x,w]=y.useState("all"),[p,v]=y.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[b,j]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});y.useEffect(()=>{N(),S()},[e]);const N=async()=>{try{const{data:A,error:F}=await Z.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(F)throw F;a(A||[])}catch(A){console.error("Error fetching inventory:",A)}finally{c(!1)}},S=async()=>{try{const[A,F,W,k,E]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]);j({blades:A.data||[],ratchets:F.data||[],bits:W.data||[],lockchips:k.data||[],assistBlades:E.data||[]})}catch(A){console.error("Error fetching parts data:",A)}},P=A=>{let F=[];if(A.startsWith("Blade (")){const W=A.replace("Blade (","").replace(")","");F=b.blades.filter(k=>k.Line===W)}else A==="Ratchet"?F=b.ratchets:A==="Bit"?F=b.bits:A==="Lockchip"?F=b.lockchips:A==="Assist Blade"&&(F=b.assistBlades);return A==="Blade"?F=b.blades.filter(W=>W.Line!=="Custom"):A==="Blade (Custom)"?F=b.blades.filter(W=>W.Line==="Custom"):A==="Ratchet"?F=b.ratchets:A==="Bit"?F=b.bits:A==="Lockchip"?F=b.lockchips:A==="Assist Blade"&&(F=b.assistBlades),F},O=(A,F)=>{if(F.startsWith("Blade ("))return A.Blades;switch(F){case"Ratchet":return A.Ratchet;case"Bit":return`${A.Bit} (${A.Shortcut})`;case"Lockchip":return A.Lockchip;case"Assist Blade":return`${A["Assist Blade Name"]} (${A["Assist Blade"]})`;default:return""}},D=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},T=A=>{h(A.id),v({part_type:A.part_type,part_name:A.part_name,part_data:A.part_data,quantity:A.quantity,notes:A.notes||""})},C=async()=>{if(!p.part_name||!p.part_data){await r("Missing Information","Please select a part before saving.");return}try{const A={user_id:e.id,part_type:p.part_type,part_name:p.part_name,part_data:p.part_data,quantity:p.quantity,notes:p.notes||null};if(u){const{error:F}=await Z.from("user_inventory").insert([A]);if(F)throw F}else if(f){const{error:F}=await Z.from("user_inventory").update(A).eq("id",f);if(F)throw F}await N()}catch(A){console.error("Error saving inventory item:",A),await r("Error","Failed to save inventory item. Please try again.")}},z=async A=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:W}=await Z.from("user_inventory").delete().eq("id",A);if(W)throw W;await N()}catch(W){console.error("Error deleting inventory item:",W),await r("Error","Failed to delete inventory item. Please try again.")}},$=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},_=s.filter(A=>{var k;const F=A.part_name.toLowerCase().includes(m.toLowerCase())||A.notes&&A.notes.toLowerCase().includes(m.toLowerCase());let W=!1;if(x==="all")W=!0;else if(x.startsWith("Blade (")){const E=x.replace("Blade (","").replace(")","");W=A.part_type==="Blade"&&((k=A.part_data)==null?void 0:k.Line)===E}else W=A.part_type===x;return F&&W});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ml,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(Kte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ml,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:D,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:A=>g(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(EL,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:x,onChange:A=>w(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:p.part_type,onChange:A=>v({...p,part_type:A.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:p.part_data?JSON.stringify(p.part_data):"",onChange:A=>{if(A.target.value){const F=JSON.parse(A.target.value);v({...p,part_name:O(F,p.part_type),part_data:F})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(p.part_type).map((A,F)=>o.jsx("option",{value:JSON.stringify(A),children:O(A,p.part_type)},F))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:p.quantity,onChange:A=>v({...p,quantity:parseInt(A.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:p.notes,onChange:A=>v({...p,notes:A.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:$,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Gt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),_.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ml,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:D,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_.map(A=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:A.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>T(A),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>z(A.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:A.quantity})]}),A.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:A.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(A.created_at).toLocaleDateString()]})]}),A.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(A.part_data).map(([F,W])=>typeof W=="number"&&W>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(F)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[F,":"]}),o.jsx("span",{className:"font-medium",children:W})]},F):null)})})]},A.id))})]})}function qte(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,s]=y.useState(""),[a,l]=y.useState("name"),[c,u]=y.useState("asc"),[d,f]=y.useState("grid"),[h,m]=y.useState(null),[g,x]=y.useState("lockchips"),[w,p]=y.useState(""),[v,b]=y.useState(""),j=["lockchips","blades (custom)","blades","ratchets","bits"];y.useEffect(()=>{N()},[]);const N=async()=>{n(!0);try{const[$,_,A,F,W]=await Promise.all([Z.from("beypart_blade").select("*"),Z.from("beypart_ratchet").select("*"),Z.from("beypart_bit").select("*"),Z.from("beypart_lockchip").select("*"),Z.from("beypart_assistblade").select("*")]),k=[];($.data||[]).forEach(E=>{k.push({id:`blade-${E.Blades}`,name:E.Blades,category:"Blade",role:E.Type,line:E.Line,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),(_.data||[]).forEach(E=>{k.push({id:`ratchet-${E.Ratchet}`,name:E.Ratchet,category:"Ratchet",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),(A.data||[]).forEach(E=>{k.push({id:`bit-${E.Bit}`,name:`${E.Bit} (${E.Shortcut})`,category:"Bit",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:E.Dash||0,burstRes:E["Burst Res"]||0},data:E})}),(F.data||[]).forEach(E=>{k.push({id:`lockchip-${E.Lockchip}`,name:E.Lockchip,category:"Lockchip",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),(W.data||[]).forEach(E=>{k.push({id:`assistblade-${E["Assist Blade"]}`,name:`${E["Assist Blade Name"]} (${E["Assist Blade"]})`,category:"Assist Blade",role:E.Type,stats:{attack:E.Attack||0,defense:E.Defense||0,stamina:E.Stamina||0,dash:0,burstRes:0},data:E})}),t(k)}catch($){console.error("Error fetching parts:",$)}finally{n(!1)}},S=$=>{switch($){case"attack":return o.jsx(Oc,{size:16,className:"text-red-500"});case"defense":return o.jsx(As,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Hf,{size:16,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(z0,{size:16,className:"text-purple-500"});default:return null}},D=e.filter($=>$.name.toLowerCase().includes(i.toLowerCase())).sort(($,_)=>{let A,F;return a==="name"?(A=$.name,F=_.name):a==="role"?(A=$.role||"",F=_.role||""):(A=$.stats[a],F=_.stats[a]),typeof A=="string"&&typeof F=="string"?c==="asc"?A.localeCompare(F):F.localeCompare(A):c==="asc"?A-F:F-A}).filter($=>{var _,A,F;return g==="blades (custom)"?$.category==="Blade"&&((_=$.line)==null?void 0:_.toLowerCase())==="custom":g==="blades"?v?$.category==="Blade"&&((F=$.line)==null?void 0:F.toLowerCase())===v.toLowerCase():$.category==="Blade"&&["basic","unique","x-over"].includes(((A=$.line)==null?void 0:A.toLowerCase())||""):g==="lockchips"?$.category==="Lockchip":g==="ratchets"?$.category==="Ratchet":g==="bits"?$.category==="Bit":!0}).filter($=>w?($.role||"").toLowerCase()===w:!0),T={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},C=$=>{switch($){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},z=$=>{const _=T[$.category]||"",A=C($.category),F=encodeURIComponent($.data[A]),W=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${_}/${F}.png`;return o.jsxs("div",{onClick:()=>m($),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:W,alt:$.name,width:128,height:128,loading:"lazy",onError:k=>{const E=k.target,K=document.createElement("div");K.textContent="Picture Not Available",K.className="text-gray-400 text-xs text-center",E.replaceWith(K)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:$.name}),$.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:$.role})]}),$.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:$.line})]},$.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(CL,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(ML,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(bo,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:$=>s($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:$=>p($.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:j.map($=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${g===$?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>x($),children:$},$))}),g==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:$=>b($.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),D.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wn,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:D.map(z)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(g==="bits"?["dash","burstRes"]:[]).map($=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${$==="name"?"text-left":"text-center"}`,onClick:()=>{l($),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:$}),o.jsx("span",{className:"w-4 inline-block",children:a===$&&(c==="asc"?"":"")})]})},$)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:D.map($=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:$.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.stamina}),g==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:$.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m($),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},$.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Gt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([$])=>h.category==="Bit"?!0:!["dash","burstRes"].includes($)).map(([$,_])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:S($)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:$}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:_})]},$))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${T[h.category]}/${encodeURIComponent(h.data[C(h.category)])}.png`,alt:h.name,onError:$=>{const _=$.target,A=document.createElement("div");A.textContent="Picture Not Available",A.className="text-gray-400 text-sm text-center",_.replaceWith(A)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function Gte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(it,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Build your team and compete together"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(it,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Compete not just as players, but as teams. The Team Manager will bring team-based tournaments, performance analytics, and name tag customization so every blader can proudly represent their squad."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(As,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and battle in team vs team competitions"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(wn,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Analytics"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Track your teams performance and stats"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(BL,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Name Tags"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Show off your team name on your profile"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team vs team tournaments"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Name tag integration for players"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Team play is coming soon  get ready to represent your squad!"})]})})]})})}function Yte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(c1,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Give every community its own space to grow and connect"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(c1,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, the Community Manager will let any Beyblade community build their own hub within the app  not just Ormoc. Each community will be able to host tournaments, track stats, and celebrate milestones while staying connected to the larger network. Perfect for growing local groups and strengthening bonds between bladers everywhere."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(it,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Local Hubs"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Communities can set up their own space in the app"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(zi,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Tournaments"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Run and track events within each community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(y2,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Spotlight achievements and community milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(kc,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Stats"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track growth, matches, and engagement"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Create and manage your own community hub"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community-specific tournaments and leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Local community stats and growth analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Recognition for members and organizers"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Tools to welcome and onboard new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"This feature is in active development."})]})})]})})}function Xte(){const[e,t]=y.useState("dashboard"),[r,n]=y.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(Tj,{onViewChange:t});case"tournaments":return o.jsx(JF,{});case"inventory":return o.jsx(Hte,{});case"analytics":return o.jsx(Fte,{});case"parts-database":return o.jsx(qte,{});case"team-manager":return o.jsx(Gte,{});case"community-manager":return o.jsx(Yte,{});case"match-tracker":return o.jsx(zte,{});case"tournament-manager":return o.jsx(Ute,{});case"user-management":return o.jsx(Wte,{});case"database":return o.jsx(Vte,{});default:return o.jsx(Tj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(RL,{size:24})}),o.jsx(WL,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function Jte(){return o.jsx(wL,{children:o.jsx(jL,{children:o.jsx(Xte,{})})})}Fk(document.getElementById("root")).render(o.jsx(y.StrictMode,{children:o.jsx(Jte,{})}));
