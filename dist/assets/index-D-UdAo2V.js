var nD=Object.defineProperty;var iD=(e,t,r)=>t in e?nD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Bh=(e,t,r)=>iD(e,typeof t!="symbol"?t+"":t,r);function sD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function aD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var s_={exports:{}},lf={},a_={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sc=Symbol.for("react.element"),oD=Symbol.for("react.portal"),lD=Symbol.for("react.fragment"),cD=Symbol.for("react.strict_mode"),uD=Symbol.for("react.profiler"),dD=Symbol.for("react.provider"),fD=Symbol.for("react.context"),hD=Symbol.for("react.forward_ref"),mD=Symbol.for("react.suspense"),pD=Symbol.for("react.memo"),gD=Symbol.for("react.lazy"),fb=Symbol.iterator;function yD(e){return e===null||typeof e!="object"?null:(e=fb&&e[fb]||e["@@iterator"],typeof e=="function"?e:null)}var o_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l_=Object.assign,c_={};function to(e,t,r){this.props=e,this.context=t,this.refs=c_,this.updater=r||o_}to.prototype.isReactComponent={};to.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};to.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function u_(){}u_.prototype=to.prototype;function N0(e,t,r){this.props=e,this.context=t,this.refs=c_,this.updater=r||o_}var S0=N0.prototype=new u_;S0.constructor=N0;l_(S0,to.prototype);S0.isPureReactComponent=!0;var hb=Array.isArray,d_=Object.prototype.hasOwnProperty,_0={current:null},f_={key:!0,ref:!0,__self:!0,__source:!0};function h_(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)d_.call(t,n)&&!f_.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:sc,type:e,key:s,ref:a,props:i,_owner:_0.current}}function vD(e,t){return{$$typeof:sc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function P0(e){return typeof e=="object"&&e!==null&&e.$$typeof===sc}function xD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var mb=/\/+/g;function Fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?xD(""+e.key):t.toString(36)}function _u(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case sc:case oD:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+Fh(a,0):n,hb(i)?(r="",e!=null&&(r=e.replace(mb,"$&/")+"/"),_u(i,t,r,"",function(u){return u})):i!=null&&(P0(i)&&(i=vD(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(mb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",hb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+Fh(s,l);a+=_u(s,t,r,c,i)}else if(c=yD(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+Fh(s,l++),a+=_u(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Ic(e,t,r){if(e==null)return e;var n=[],i=0;return _u(e,n,"","",function(s){return t.call(r,s,i++)}),n}function bD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Pu={transition:null},wD={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Pu,ReactCurrentOwner:_0};function m_(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Ic,forEach:function(e,t,r){Ic(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ic(e,function(){t++}),t},toArray:function(e){return Ic(e,function(t){return t})||[]},only:function(e){if(!P0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=to;he.Fragment=lD;he.Profiler=uD;he.PureComponent=N0;he.StrictMode=cD;he.Suspense=mD;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wD;he.act=m_;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=l_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=_0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)d_.call(t,c)&&!f_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:sc,type:e.type,key:i,ref:s,props:n,_owner:a}};he.createContext=function(e){return e={$$typeof:fD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dD,_context:e},e.Consumer=e};he.createElement=h_;he.createFactory=function(e){var t=h_.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:hD,render:e}};he.isValidElement=P0;he.lazy=function(e){return{$$typeof:gD,_payload:{_status:-1,_result:e},_init:bD}};he.memo=function(e,t){return{$$typeof:pD,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=Pu.transition;Pu.transition={};try{e()}finally{Pu.transition=t}};he.unstable_act=m_;he.useCallback=function(e,t){return Bt.current.useCallback(e,t)};he.useContext=function(e){return Bt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Bt.current.useEffect(e,t)};he.useId=function(){return Bt.current.useId()};he.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Bt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};he.useRef=function(e){return Bt.current.useRef(e)};he.useState=function(e){return Bt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return Bt.current.useTransition()};he.version="18.3.1";a_.exports=he;var g=a_.exports;const mi=Dr(g),jD=sD({__proto__:null,default:mi},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=g,SD=Symbol.for("react.element"),_D=Symbol.for("react.fragment"),PD=Object.prototype.hasOwnProperty,kD=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AD={key:!0,ref:!0,__self:!0,__source:!0};function p_(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)PD.call(t,n)&&!AD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:SD,type:e,key:s,ref:a,props:i,_owner:kD.current}}lf.Fragment=_D;lf.jsx=p_;lf.jsxs=p_;s_.exports=lf;var o=s_.exports,g_={exports:{}},mr={},y_={exports:{}},v_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(B,k){var F=B.length;B.push(k);e:for(;0<F;){var Q=F-1>>>1,D=B[Q];if(0<i(D,k))B[Q]=k,B[F]=D,F=Q;else break e}}function r(B){return B.length===0?null:B[0]}function n(B){if(B.length===0)return null;var k=B[0],F=B.pop();if(F!==k){B[0]=F;e:for(var Q=0,D=B.length,Z=D>>>1;Q<Z;){var q=2*(Q+1)-1,T=B[q],H=q+1,R=B[H];if(0>i(T,F))H<D&&0>i(R,T)?(B[Q]=R,B[H]=F,Q=H):(B[Q]=T,B[q]=F,Q=q);else if(H<D&&0>i(R,F))B[Q]=R,B[H]=F,Q=H;else break e}}return k}function i(B,k){var F=B.sortIndex-k.sortIndex;return F!==0?F:B.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=B)n(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(u)}}function N(B){if(b=!1,x(B),!p)if(r(c)!==null)p=!0,E(j);else{var k=r(u);k!==null&&V(N,k.startTime-B)}}function j(B,k){p=!1,b&&(b=!1,y(_),_=-1),m=!0;var F=h;try{for(x(k),f=r(c);f!==null&&(!(f.expirationTime>k)||B&&!O());){var Q=f.callback;if(typeof Q=="function"){f.callback=null,h=f.priorityLevel;var D=Q(f.expirationTime<=k);k=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),x(k)}else n(c);f=r(c)}if(f!==null)var Z=!0;else{var q=r(u);q!==null&&V(N,q.startTime-k),Z=!1}return Z}finally{f=null,h=F,m=!1}}var S=!1,P=null,_=-1,A=5,C=-1;function O(){return!(e.unstable_now()-C<A)}function U(){if(P!==null){var B=e.unstable_now();C=B;var k=!0;try{k=P(!0,B)}finally{k?L():(S=!1,P=null)}}else S=!1}var L;if(typeof v=="function")L=function(){v(U)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,I=K.port2;K.port1.onmessage=U,L=function(){I.postMessage(null)}}else L=function(){w(U,0)};function E(B){P=B,S||(S=!0,L())}function V(B,k){_=w(function(){B(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(B){B.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,E(j))},e.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(B){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var F=h;h=k;try{return B()}finally{h=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(B,k){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var F=h;h=B;try{return k()}finally{h=F}},e.unstable_scheduleCallback=function(B,k,F){var Q=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?Q+F:Q):F=Q,B){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=F+D,B={id:d++,callback:k,priorityLevel:B,startTime:F,expirationTime:D,sortIndex:-1},F>Q?(B.sortIndex=F,t(u,B),r(c)===null&&B===r(u)&&(b?(y(_),_=-1):b=!0,V(N,F-Q))):(B.sortIndex=D,t(c,B),p||m||(p=!0,E(j))),B},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(B){var k=h;return function(){var F=h;h=k;try{return B.apply(this,arguments)}finally{h=F}}}})(v_);y_.exports=v_;var OD=y_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED=g,cr=OD;function Y(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var x_=new Set,Nl={};function As(e,t){Aa(e,t),Aa(e+"Capture",t)}function Aa(e,t){for(Nl[e]=t,e=0;e<t.length;e++)x_.add(t[e])}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,CD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pb={},gb={};function TD(e){return lp.call(gb,e)?!0:lp.call(pb,e)?!1:CD.test(e)?gb[e]=!0:(pb[e]=!0,!1)}function MD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DD(e,t,r,n){if(t===null||typeof t>"u"||MD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var k0=/[\-:]([a-z])/g;function A0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(k0,A0);wt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(k0,A0);wt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(k0,A0);wt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function O0(e,t,r,n){var i=wt.hasOwnProperty(t)?wt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DD(t,r,i,n)&&(r=null),n||i===null?TD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Hn=ED.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bc=Symbol.for("react.element"),Ys=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),E0=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),b_=Symbol.for("react.provider"),w_=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),T0=Symbol.for("react.memo"),si=Symbol.for("react.lazy"),j_=Symbol.for("react.offscreen"),yb=Symbol.iterator;function Ao(e){return e===null||typeof e!="object"?null:(e=yb&&e[yb]||e["@@iterator"],typeof e=="function"?e:null)}var ze=Object.assign,zh;function Go(e){if(zh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zh=t&&t[1]||""}return`
`+zh+e}var Uh=!1;function Wh(e,t){if(!e||Uh)return"";Uh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Uh=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Go(e):""}function RD(e){switch(e.tag){case 5:return Go(e.type);case 16:return Go("Lazy");case 13:return Go("Suspense");case 19:return Go("SuspenseList");case 0:case 2:case 15:return e=Wh(e.type,!1),e;case 11:return e=Wh(e.type.render,!1),e;case 1:return e=Wh(e.type,!0),e;default:return""}}function fp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Ys:return"Portal";case cp:return"Profiler";case E0:return"StrictMode";case up:return"Suspense";case dp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case w_:return(e.displayName||"Context")+".Consumer";case b_:return(e._context.displayName||"Context")+".Provider";case C0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T0:return t=e.displayName||null,t!==null?t:fp(e.type)||"Memo";case si:t=e._payload,e=e._init;try{return fp(e(t))}catch{}}return null}function $D(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fp(t);case 8:return t===E0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function _i(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function N_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function LD(e){var t=N_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fc(e){e._valueTracker||(e._valueTracker=LD(e))}function S_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=N_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Vu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function hp(e,t){var r=t.checked;return ze({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function vb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=_i(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function __(e,t){t=t.checked,t!=null&&O0(e,"checked",t,!1)}function mp(e,t){__(e,t);var r=_i(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?pp(e,t.type,r):t.hasOwnProperty("defaultValue")&&pp(e,t.type,_i(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function xb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function pp(e,t,r){(t!=="number"||Vu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Yo=Array.isArray;function ya(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+_i(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function gp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ze({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function bb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Y(92));if(Yo(r)){if(1<r.length)throw Error(Y(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:_i(r)}}function P_(e,t){var r=_i(t.value),n=_i(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function k_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?k_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zc,A_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zc=zc||document.createElement("div"),zc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ID=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(e){ID.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),nl[t]=nl[e]})});function O_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||nl.hasOwnProperty(e)&&nl[e]?(""+t).trim():t+"px"}function E_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=O_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var BD=ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vp(e,t){if(t){if(BD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Y(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Y(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Y(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Y(62))}}function xp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bp=null;function M0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var wp=null,va=null,xa=null;function jb(e){if(e=lc(e)){if(typeof wp!="function")throw Error(Y(280));var t=e.stateNode;t&&(t=hf(t),wp(e.stateNode,e.type,t))}}function C_(e){va?xa?xa.push(e):xa=[e]:va=e}function T_(){if(va){var e=va,t=xa;if(xa=va=null,jb(e),t)for(e=0;e<t.length;e++)jb(t[e])}}function M_(e,t){return e(t)}function D_(){}var Vh=!1;function R_(e,t,r){if(Vh)return e(t,r);Vh=!0;try{return M_(e,t,r)}finally{Vh=!1,(va!==null||xa!==null)&&(D_(),T_())}}function _l(e,t){var r=e.stateNode;if(r===null)return null;var n=hf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Y(231,t,typeof r));return r}var jp=!1;if(Mn)try{var Oo={};Object.defineProperty(Oo,"passive",{get:function(){jp=!0}}),window.addEventListener("test",Oo,Oo),window.removeEventListener("test",Oo,Oo)}catch{jp=!1}function FD(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var il=!1,Ku=null,Hu=!1,Np=null,zD={onError:function(e){il=!0,Ku=e}};function UD(e,t,r,n,i,s,a,l,c){il=!1,Ku=null,FD.apply(zD,arguments)}function WD(e,t,r,n,i,s,a,l,c){if(UD.apply(this,arguments),il){if(il){var u=Ku;il=!1,Ku=null}else throw Error(Y(198));Hu||(Hu=!0,Np=u)}}function Os(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function $_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Nb(e){if(Os(e)!==e)throw Error(Y(188))}function VD(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(Y(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Nb(i),e;if(s===n)return Nb(i),t;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?e:t}function L_(e){return e=VD(e),e!==null?I_(e):null}function I_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=I_(e);if(t!==null)return t;e=e.sibling}return null}var B_=cr.unstable_scheduleCallback,Sb=cr.unstable_cancelCallback,KD=cr.unstable_shouldYield,HD=cr.unstable_requestPaint,Xe=cr.unstable_now,qD=cr.unstable_getCurrentPriorityLevel,D0=cr.unstable_ImmediatePriority,F_=cr.unstable_UserBlockingPriority,qu=cr.unstable_NormalPriority,GD=cr.unstable_LowPriority,z_=cr.unstable_IdlePriority,cf=null,ln=null;function YD(e){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(cf,e,void 0,(e.current.flags&128)===128)}catch{}}var Gr=Math.clz32?Math.clz32:QD,XD=Math.log,JD=Math.LN2;function QD(e){return e>>>=0,e===0?32:31-(XD(e)/JD|0)|0}var Uc=64,Wc=4194304;function Xo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Gu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=Xo(l):(s&=a,s!==0&&(n=Xo(s)))}else a=r&~i,a!==0?n=Xo(a):s!==0&&(n=Xo(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Gr(t),i=1<<r,n|=e[r],t&=~i;return n}function ZD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Gr(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=ZD(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Sp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function U_(){var e=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),e}function Kh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ac(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Gr(t),e[t]=r}function tR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Gr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function R0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Gr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ne=0;function W_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var V_,$0,K_,H_,q_,_p=!1,Vc=[],pi=null,gi=null,yi=null,Pl=new Map,kl=new Map,li=[],rR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _b(e,t){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":gi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":Pl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(t.pointerId)}}function Eo(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=lc(t),t!==null&&$0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function nR(e,t,r,n,i){switch(t){case"focusin":return pi=Eo(pi,e,t,r,n,i),!0;case"dragenter":return gi=Eo(gi,e,t,r,n,i),!0;case"mouseover":return yi=Eo(yi,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return Pl.set(s,Eo(Pl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,kl.set(s,Eo(kl.get(s)||null,e,t,r,n,i)),!0}return!1}function G_(e){var t=Zi(e.target);if(t!==null){var r=Os(t);if(r!==null){if(t=r.tag,t===13){if(t=$_(r),t!==null){e.blockedOn=t,q_(e.priority,function(){K_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ku(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Pp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bp=n,r.target.dispatchEvent(n),bp=null}else return t=lc(r),t!==null&&$0(t),e.blockedOn=r,!1;t.shift()}return!0}function Pb(e,t,r){ku(e)&&r.delete(t)}function iR(){_p=!1,pi!==null&&ku(pi)&&(pi=null),gi!==null&&ku(gi)&&(gi=null),yi!==null&&ku(yi)&&(yi=null),Pl.forEach(Pb),kl.forEach(Pb)}function Co(e,t){e.blockedOn===t&&(e.blockedOn=null,_p||(_p=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,iR)))}function Al(e){function t(i){return Co(i,e)}if(0<Vc.length){Co(Vc[0],e);for(var r=1;r<Vc.length;r++){var n=Vc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(pi!==null&&Co(pi,e),gi!==null&&Co(gi,e),yi!==null&&Co(yi,e),Pl.forEach(t),kl.forEach(t),r=0;r<li.length;r++)n=li[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<li.length&&(r=li[0],r.blockedOn===null);)G_(r),r.blockedOn===null&&li.shift()}var ba=Hn.ReactCurrentBatchConfig,Yu=!0;function sR(e,t,r,n){var i=Ne,s=ba.transition;ba.transition=null;try{Ne=1,L0(e,t,r,n)}finally{Ne=i,ba.transition=s}}function aR(e,t,r,n){var i=Ne,s=ba.transition;ba.transition=null;try{Ne=4,L0(e,t,r,n)}finally{Ne=i,ba.transition=s}}function L0(e,t,r,n){if(Yu){var i=Pp(e,t,r,n);if(i===null)tm(e,t,n,Xu,r),_b(e,n);else if(nR(i,e,t,r,n))n.stopPropagation();else if(_b(e,n),t&4&&-1<rR.indexOf(e)){for(;i!==null;){var s=lc(i);if(s!==null&&V_(s),s=Pp(e,t,r,n),s===null&&tm(e,t,n,Xu,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else tm(e,t,n,null,r)}}var Xu=null;function Pp(e,t,r,n){if(Xu=null,e=M0(n),e=Zi(e),e!==null)if(t=Os(e),t===null)e=null;else if(r=t.tag,r===13){if(e=$_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xu=e,null}function Y_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qD()){case D0:return 1;case F_:return 4;case qu:case GD:return 16;case z_:return 536870912;default:return 16}default:return 16}}var fi=null,I0=null,Au=null;function X_(){if(Au)return Au;var e,t=I0,r=t.length,n,i="value"in fi?fi.value:fi.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Au=i.slice(e,1<n?1-n:void 0)}function Ou(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Kc(){return!0}function kb(){return!1}function pr(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kc:kb,this.isPropagationStopped=kb,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),t}var ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B0=pr(ro),oc=ze({},ro,{view:0,detail:0}),oR=pr(oc),Hh,qh,To,uf=ze({},oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==To&&(To&&e.type==="mousemove"?(Hh=e.screenX-To.screenX,qh=e.screenY-To.screenY):qh=Hh=0,To=e),Hh)},movementY:function(e){return"movementY"in e?e.movementY:qh}}),Ab=pr(uf),lR=ze({},uf,{dataTransfer:0}),cR=pr(lR),uR=ze({},oc,{relatedTarget:0}),Gh=pr(uR),dR=ze({},ro,{animationName:0,elapsedTime:0,pseudoElement:0}),fR=pr(dR),hR=ze({},ro,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mR=pr(hR),pR=ze({},ro,{data:0}),Ob=pr(pR),gR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vR[e])?!!t[e]:!1}function F0(){return xR}var bR=ze({},oc,{key:function(e){if(e.key){var t=gR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ou(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?yR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F0,charCode:function(e){return e.type==="keypress"?Ou(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ou(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wR=pr(bR),jR=ze({},uf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eb=pr(jR),NR=ze({},oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F0}),SR=pr(NR),_R=ze({},ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),PR=pr(_R),kR=ze({},uf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AR=pr(kR),OR=[9,13,27,32],z0=Mn&&"CompositionEvent"in window,sl=null;Mn&&"documentMode"in document&&(sl=document.documentMode);var ER=Mn&&"TextEvent"in window&&!sl,J_=Mn&&(!z0||sl&&8<sl&&11>=sl),Cb=" ",Tb=!1;function Q_(e,t){switch(e){case"keyup":return OR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function CR(e,t){switch(e){case"compositionend":return Z_(t);case"keypress":return t.which!==32?null:(Tb=!0,Cb);case"textInput":return e=t.data,e===Cb&&Tb?null:e;default:return null}}function TR(e,t){if(Js)return e==="compositionend"||!z0&&Q_(e,t)?(e=X_(),Au=I0=fi=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return J_&&t.locale!=="ko"?null:t.data;default:return null}}var MR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!MR[e.type]:t==="textarea"}function eP(e,t,r,n){C_(n),t=Ju(t,"onChange"),0<t.length&&(r=new B0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var al=null,Ol=null;function DR(e){dP(e,0)}function df(e){var t=ea(e);if(S_(t))return e}function RR(e,t){if(e==="change")return t}var tP=!1;if(Mn){var Yh;if(Mn){var Xh="oninput"in document;if(!Xh){var Db=document.createElement("div");Db.setAttribute("oninput","return;"),Xh=typeof Db.oninput=="function"}Yh=Xh}else Yh=!1;tP=Yh&&(!document.documentMode||9<document.documentMode)}function Rb(){al&&(al.detachEvent("onpropertychange",rP),Ol=al=null)}function rP(e){if(e.propertyName==="value"&&df(Ol)){var t=[];eP(t,Ol,e,M0(e)),R_(DR,t)}}function $R(e,t,r){e==="focusin"?(Rb(),al=t,Ol=r,al.attachEvent("onpropertychange",rP)):e==="focusout"&&Rb()}function LR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return df(Ol)}function IR(e,t){if(e==="click")return df(t)}function BR(e,t){if(e==="input"||e==="change")return df(t)}function FR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jr=typeof Object.is=="function"?Object.is:FR;function El(e,t){if(Jr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!lp.call(t,i)||!Jr(e[i],t[i]))return!1}return!0}function $b(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lb(e,t){var r=$b(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=$b(r)}}function nP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?nP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function iP(){for(var e=window,t=Vu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Vu(e.document)}return t}function U0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zR(e){var t=iP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&nP(r.ownerDocument.documentElement,r)){if(n!==null&&U0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Lb(r,s);var a=Lb(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var UR=Mn&&"documentMode"in document&&11>=document.documentMode,Qs=null,kp=null,ol=null,Ap=!1;function Ib(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ap||Qs==null||Qs!==Vu(n)||(n=Qs,"selectionStart"in n&&U0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ol&&El(ol,n)||(ol=n,n=Ju(kp,"onSelect"),0<n.length&&(t=new B0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Qs)))}function Hc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zs={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},Jh={},sP={};Mn&&(sP=document.createElement("div").style,"AnimationEvent"in window||(delete Zs.animationend.animation,delete Zs.animationiteration.animation,delete Zs.animationstart.animation),"TransitionEvent"in window||delete Zs.transitionend.transition);function ff(e){if(Jh[e])return Jh[e];if(!Zs[e])return e;var t=Zs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sP)return Jh[e]=t[r];return e}var aP=ff("animationend"),oP=ff("animationiteration"),lP=ff("animationstart"),cP=ff("transitionend"),uP=new Map,Bb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){uP.set(e,t),As(t,[e])}for(var Qh=0;Qh<Bb.length;Qh++){var Zh=Bb[Qh],WR=Zh.toLowerCase(),VR=Zh[0].toUpperCase()+Zh.slice(1);Ei(WR,"on"+VR)}Ei(aP,"onAnimationEnd");Ei(oP,"onAnimationIteration");Ei(lP,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(cP,"onTransitionEnd");Aa("onMouseEnter",["mouseout","mouseover"]);Aa("onMouseLeave",["mouseout","mouseover"]);Aa("onPointerEnter",["pointerout","pointerover"]);Aa("onPointerLeave",["pointerout","pointerover"]);As("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));As("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));As("onBeforeInput",["compositionend","keypress","textInput","paste"]);As("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));As("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));As("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jo));function Fb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,WD(n,t,void 0,e),e.currentTarget=null}function dP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;Fb(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;Fb(i,l,u),s=c}}}if(Hu)throw e=Np,Hu=!1,Np=null,e}function Me(e,t){var r=t[Mp];r===void 0&&(r=t[Mp]=new Set);var n=e+"__bubble";r.has(n)||(fP(t,e,2,!1),r.add(n))}function em(e,t,r){var n=0;t&&(n|=4),fP(r,e,n,t)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Cl(e){if(!e[qc]){e[qc]=!0,x_.forEach(function(r){r!=="selectionchange"&&(KR.has(r)||em(r,!1,e),em(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[qc]||(t[qc]=!0,em("selectionchange",!1,t))}}function fP(e,t,r,n){switch(Y_(t)){case 1:var i=sR;break;case 4:i=aR;break;default:i=L0}r=i.bind(null,t,r,e),i=void 0,!jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function tm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Zi(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}R_(function(){var u=s,d=M0(r),f=[];e:{var h=uP.get(e);if(h!==void 0){var m=B0,p=e;switch(e){case"keypress":if(Ou(r)===0)break e;case"keydown":case"keyup":m=wR;break;case"focusin":p="focus",m=Gh;break;case"focusout":p="blur",m=Gh;break;case"beforeblur":case"afterblur":m=Gh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ab;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=SR;break;case aP:case oP:case lP:m=fR;break;case cP:m=PR;break;case"scroll":m=oR;break;case"wheel":m=AR;break;case"copy":case"cut":case"paste":m=mR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Eb}var b=(t&4)!==0,w=!b&&e==="scroll",y=b?h!==null?h+"Capture":null:h;b=[];for(var v=u,x;v!==null;){x=v;var N=x.stateNode;if(x.tag===5&&N!==null&&(x=N,y!==null&&(N=_l(v,y),N!=null&&b.push(Tl(v,N,x)))),w)break;v=v.return}0<b.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==bp&&(p=r.relatedTarget||r.fromElement)&&(Zi(p)||p[Dn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?Zi(p):null,p!==null&&(w=Os(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(b=Ab,N="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(b=Eb,N="onPointerLeave",y="onPointerEnter",v="pointer"),w=m==null?h:ea(m),x=p==null?h:ea(p),h=new b(N,v+"leave",m,r,d),h.target=w,h.relatedTarget=x,N=null,Zi(d)===u&&(b=new b(y,v+"enter",p,r,d),b.target=x,b.relatedTarget=w,N=b),w=N,m&&p)t:{for(b=m,y=p,v=0,x=b;x;x=Bs(x))v++;for(x=0,N=y;N;N=Bs(N))x++;for(;0<v-x;)b=Bs(b),v--;for(;0<x-v;)y=Bs(y),x--;for(;v--;){if(b===y||y!==null&&b===y.alternate)break t;b=Bs(b),y=Bs(y)}b=null}else b=null;m!==null&&zb(f,h,m,b,!1),p!==null&&w!==null&&zb(f,w,p,b,!0)}}e:{if(h=u?ea(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=RR;else if(Mb(h))if(tP)j=BR;else{j=LR;var S=$R}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=IR);if(j&&(j=j(e,u))){eP(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&pp(h,"number",h.value)}switch(S=u?ea(u):window,e){case"focusin":(Mb(S)||S.contentEditable==="true")&&(Qs=S,kp=u,ol=null);break;case"focusout":ol=kp=Qs=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,Ib(f,r,d);break;case"selectionchange":if(UR)break;case"keydown":case"keyup":Ib(f,r,d)}var P;if(z0)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Js?Q_(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(J_&&r.locale!=="ko"&&(Js||_!=="onCompositionStart"?_==="onCompositionEnd"&&Js&&(P=X_()):(fi=d,I0="value"in fi?fi.value:fi.textContent,Js=!0)),S=Ju(u,_),0<S.length&&(_=new Ob(_,e,null,r,d),f.push({event:_,listeners:S}),P?_.data=P:(P=Z_(r),P!==null&&(_.data=P)))),(P=ER?CR(e,r):TR(e,r))&&(u=Ju(u,"onBeforeInput"),0<u.length&&(d=new Ob("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}dP(f,t)})}function Tl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ju(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_l(e,r),s!=null&&n.unshift(Tl(e,s,i)),s=_l(e,t),s!=null&&n.push(Tl(e,s,i))),e=e.return}return n}function Bs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function zb(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=_l(r,s),c!=null&&a.unshift(Tl(r,c,l))):i||(c=_l(r,s),c!=null&&a.push(Tl(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var HR=/\r\n?/g,qR=/\u0000|\uFFFD/g;function Ub(e){return(typeof e=="string"?e:""+e).replace(HR,`
`).replace(qR,"")}function Gc(e,t,r){if(t=Ub(t),Ub(e)!==t&&r)throw Error(Y(425))}function Qu(){}var Op=null,Ep=null;function Cp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Tp=typeof setTimeout=="function"?setTimeout:void 0,GR=typeof clearTimeout=="function"?clearTimeout:void 0,Wb=typeof Promise=="function"?Promise:void 0,YR=typeof queueMicrotask=="function"?queueMicrotask:typeof Wb<"u"?function(e){return Wb.resolve(null).then(e).catch(XR)}:Tp;function XR(e){setTimeout(function(){throw e})}function rm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Al(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Al(t)}function vi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),rn="__reactFiber$"+no,Ml="__reactProps$"+no,Dn="__reactContainer$"+no,Mp="__reactEvents$"+no,JR="__reactListeners$"+no,QR="__reactHandles$"+no;function Zi(e){var t=e[rn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Dn]||r[rn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vb(e);e!==null;){if(r=e[rn])return r;e=Vb(e)}return t}e=r,r=e.parentNode}return null}function lc(e){return e=e[rn]||e[Dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ea(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Y(33))}function hf(e){return e[Ml]||null}var Dp=[],ta=-1;function Ci(e){return{current:e}}function Re(e){0>ta||(e.current=Dp[ta],Dp[ta]=null,ta--)}function Oe(e,t){ta++,Dp[ta]=e.current,e.current=t}var Pi={},Et=Ci(Pi),Xt=Ci(!1),vs=Pi;function Oa(e,t){var r=e.type.contextTypes;if(!r)return Pi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function Zu(){Re(Xt),Re(Et)}function Kb(e,t,r){if(Et.current!==Pi)throw Error(Y(168));Oe(Et,t),Oe(Xt,r)}function hP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Y(108,$D(e)||"Unknown",i));return ze({},r,n)}function ed(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,vs=Et.current,Oe(Et,e),Oe(Xt,Xt.current),!0}function Hb(e,t,r){var n=e.stateNode;if(!n)throw Error(Y(169));r?(e=hP(e,t,vs),n.__reactInternalMemoizedMergedChildContext=e,Re(Xt),Re(Et),Oe(Et,e)):Re(Xt),Oe(Xt,r)}var Nn=null,mf=!1,nm=!1;function mP(e){Nn===null?Nn=[e]:Nn.push(e)}function ZR(e){mf=!0,mP(e)}function Ti(){if(!nm&&Nn!==null){nm=!0;var e=0,t=Ne;try{var r=Nn;for(Ne=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Nn=null,mf=!1}catch(i){throw Nn!==null&&(Nn=Nn.slice(e+1)),B_(D0,Ti),i}finally{Ne=t,nm=!1}}return null}var ra=[],na=0,td=null,rd=0,Nr=[],Sr=0,xs=null,_n=1,Pn="";function Ki(e,t){ra[na++]=rd,ra[na++]=td,td=e,rd=t}function pP(e,t,r){Nr[Sr++]=_n,Nr[Sr++]=Pn,Nr[Sr++]=xs,xs=e;var n=_n;e=Pn;var i=32-Gr(n)-1;n&=~(1<<i),r+=1;var s=32-Gr(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,_n=1<<32-Gr(t)+i|r<<i|n,Pn=s+e}else _n=1<<s|r<<i|n,Pn=e}function W0(e){e.return!==null&&(Ki(e,1),pP(e,1,0))}function V0(e){for(;e===td;)td=ra[--na],ra[na]=null,rd=ra[--na],ra[na]=null;for(;e===xs;)xs=Nr[--Sr],Nr[Sr]=null,Pn=Nr[--Sr],Nr[Sr]=null,_n=Nr[--Sr],Nr[Sr]=null}var or=null,ar=null,$e=!1,Vr=null;function gP(e,t){var r=Pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=vi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xs!==null?{id:_n,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function $p(e){if($e){var t=ar;if(t){var r=t;if(!qb(e,t)){if(Rp(e))throw Error(Y(418));t=vi(r.nextSibling);var n=or;t&&qb(e,t)?gP(n,r):(e.flags=e.flags&-4097|2,$e=!1,or=e)}}else{if(Rp(e))throw Error(Y(418));e.flags=e.flags&-4097|2,$e=!1,or=e}}}function Gb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Yc(e){if(e!==or)return!1;if(!$e)return Gb(e),$e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Cp(e.type,e.memoizedProps)),t&&(t=ar)){if(Rp(e))throw yP(),Error(Y(418));for(;t;)gP(e,t),t=vi(t.nextSibling)}if(Gb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Y(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=vi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?vi(e.stateNode.nextSibling):null;return!0}function yP(){for(var e=ar;e;)e=vi(e.nextSibling)}function Ea(){ar=or=null,$e=!1}function K0(e){Vr===null?Vr=[e]:Vr.push(e)}var e6=Hn.ReactCurrentBatchConfig;function Mo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,e))}return e}function Xc(e,t){throw e=Object.prototype.toString.call(t),Error(Y(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Yb(e){var t=e._init;return t(e._payload)}function vP(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function r(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=ji(y,v),y.index=0,y.sibling=null,y}function s(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function a(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,v,x,N){return v===null||v.tag!==6?(v=um(x,y.mode,N),v.return=y,v):(v=i(v,x),v.return=y,v)}function c(y,v,x,N){var j=x.type;return j===Xs?d(y,v,x.props.children,N,x.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===si&&Yb(j)===v.type)?(N=i(v,x.props),N.ref=Mo(y,v,x),N.return=y,N):(N=$u(x.type,x.key,x.props,null,y.mode,N),N.ref=Mo(y,v,x),N.return=y,N)}function u(y,v,x,N){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=dm(x,y.mode,N),v.return=y,v):(v=i(v,x.children||[]),v.return=y,v)}function d(y,v,x,N,j){return v===null||v.tag!==7?(v=us(x,y.mode,N,j),v.return=y,v):(v=i(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=um(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bc:return x=$u(v.type,v.key,v.props,null,y.mode,x),x.ref=Mo(y,null,v),x.return=y,x;case Ys:return v=dm(v,y.mode,x),v.return=y,v;case si:var N=v._init;return f(y,N(v._payload),x)}if(Yo(v)||Ao(v))return v=us(v,y.mode,x,null),v.return=y,v;Xc(y,v)}return null}function h(y,v,x,N){var j=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return j!==null?null:l(y,v,""+x,N);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bc:return x.key===j?c(y,v,x,N):null;case Ys:return x.key===j?u(y,v,x,N):null;case si:return j=x._init,h(y,v,j(x._payload),N)}if(Yo(x)||Ao(x))return j!==null?null:d(y,v,x,N,null);Xc(y,x)}return null}function m(y,v,x,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(x)||null,l(v,y,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Bc:return y=y.get(N.key===null?x:N.key)||null,c(v,y,N,j);case Ys:return y=y.get(N.key===null?x:N.key)||null,u(v,y,N,j);case si:var S=N._init;return m(y,v,x,S(N._payload),j)}if(Yo(N)||Ao(N))return y=y.get(x)||null,d(v,y,N,j,null);Xc(v,N)}return null}function p(y,v,x,N){for(var j=null,S=null,P=v,_=v=0,A=null;P!==null&&_<x.length;_++){P.index>_?(A=P,P=null):A=P.sibling;var C=h(y,P,x[_],N);if(C===null){P===null&&(P=A);break}e&&P&&C.alternate===null&&t(y,P),v=s(C,v,_),S===null?j=C:S.sibling=C,S=C,P=A}if(_===x.length)return r(y,P),$e&&Ki(y,_),j;if(P===null){for(;_<x.length;_++)P=f(y,x[_],N),P!==null&&(v=s(P,v,_),S===null?j=P:S.sibling=P,S=P);return $e&&Ki(y,_),j}for(P=n(y,P);_<x.length;_++)A=m(P,y,_,x[_],N),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?_:A.key),v=s(A,v,_),S===null?j=A:S.sibling=A,S=A);return e&&P.forEach(function(O){return t(y,O)}),$e&&Ki(y,_),j}function b(y,v,x,N){var j=Ao(x);if(typeof j!="function")throw Error(Y(150));if(x=j.call(x),x==null)throw Error(Y(151));for(var S=j=null,P=v,_=v=0,A=null,C=x.next();P!==null&&!C.done;_++,C=x.next()){P.index>_?(A=P,P=null):A=P.sibling;var O=h(y,P,C.value,N);if(O===null){P===null&&(P=A);break}e&&P&&O.alternate===null&&t(y,P),v=s(O,v,_),S===null?j=O:S.sibling=O,S=O,P=A}if(C.done)return r(y,P),$e&&Ki(y,_),j;if(P===null){for(;!C.done;_++,C=x.next())C=f(y,C.value,N),C!==null&&(v=s(C,v,_),S===null?j=C:S.sibling=C,S=C);return $e&&Ki(y,_),j}for(P=n(y,P);!C.done;_++,C=x.next())C=m(P,y,_,C.value,N),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?_:C.key),v=s(C,v,_),S===null?j=C:S.sibling=C,S=C);return e&&P.forEach(function(U){return t(y,U)}),$e&&Ki(y,_),j}function w(y,v,x,N){if(typeof x=="object"&&x!==null&&x.type===Xs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bc:e:{for(var j=x.key,S=v;S!==null;){if(S.key===j){if(j=x.type,j===Xs){if(S.tag===7){r(y,S.sibling),v=i(S,x.props.children),v.return=y,y=v;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===si&&Yb(j)===S.type){r(y,S.sibling),v=i(S,x.props),v.ref=Mo(y,S,x),v.return=y,y=v;break e}r(y,S);break}else t(y,S);S=S.sibling}x.type===Xs?(v=us(x.props.children,y.mode,N,x.key),v.return=y,y=v):(N=$u(x.type,x.key,x.props,null,y.mode,N),N.ref=Mo(y,v,x),N.return=y,y=N)}return a(y);case Ys:e:{for(S=x.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(y,v.sibling),v=i(v,x.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else t(y,v);v=v.sibling}v=dm(x,y.mode,N),v.return=y,y=v}return a(y);case si:return S=x._init,w(y,v,S(x._payload),N)}if(Yo(x))return p(y,v,x,N);if(Ao(x))return b(y,v,x,N);Xc(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,x),v.return=y,y=v):(r(y,v),v=um(x,y.mode,N),v.return=y,y=v),a(y)):r(y,v)}return w}var Ca=vP(!0),xP=vP(!1),nd=Ci(null),id=null,ia=null,H0=null;function q0(){H0=ia=id=null}function G0(e){var t=nd.current;Re(nd),e._currentValue=t}function Lp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function wa(e,t){id=e,H0=ia=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(H0!==e)if(e={context:e,memoizedValue:t,next:null},ia===null){if(id===null)throw Error(Y(308));ia=e,id.dependencies={lanes:0,firstContext:e}}else ia=ia.next=e;return t}var es=null;function Y0(e){es===null?es=[e]:es.push(e)}function bP(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Y0(t)):(r.next=i.next,i.next=r),t.interleaved=r,Rn(e,n)}function Rn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ai=!1;function X0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function On(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Rn(e,r)}return i=n.interleaved,i===null?(t.next=t,Y0(n)):(t.next=i.next,i.next=t),n.interleaved=t,Rn(e,r)}function Eu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R0(e,r)}}function Xb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function sd(e,t,r,n){var i=e.updateQueue;ai=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,b=l;switch(h=t,m=r,b.tag){case 1:if(p=b.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=ze({},f,h);break e;case 2:ai=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);ws|=a,e.lanes=a,e.memoizedState=f}}function Jb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var cc={},cn=Ci(cc),Dl=Ci(cc),Rl=Ci(cc);function ts(e){if(e===cc)throw Error(Y(174));return e}function J0(e,t){switch(Oe(Rl,t),Oe(Dl,e),Oe(cn,cc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yp(t,e)}Re(cn),Oe(cn,t)}function Ta(){Re(cn),Re(Dl),Re(Rl)}function jP(e){ts(Rl.current);var t=ts(cn.current),r=yp(t,e.type);t!==r&&(Oe(Dl,e),Oe(cn,r))}function Q0(e){Dl.current===e&&(Re(cn),Re(Dl))}var Ie=Ci(0);function ad(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var im=[];function Z0(){for(var e=0;e<im.length;e++)im[e]._workInProgressVersionPrimary=null;im.length=0}var Cu=Hn.ReactCurrentDispatcher,sm=Hn.ReactCurrentBatchConfig,bs=0,Fe=null,it=null,ht=null,od=!1,ll=!1,$l=0,t6=0;function jt(){throw Error(Y(321))}function ey(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Jr(e[r],t[r]))return!1;return!0}function ty(e,t,r,n,i,s){if(bs=s,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cu.current=e===null||e.memoizedState===null?s6:a6,e=r(n,i),ll){s=0;do{if(ll=!1,$l=0,25<=s)throw Error(Y(301));s+=1,ht=it=null,t.updateQueue=null,Cu.current=o6,e=r(n,i)}while(ll)}if(Cu.current=ld,t=it!==null&&it.next!==null,bs=0,ht=it=Fe=null,od=!1,t)throw Error(Y(300));return e}function ry(){var e=$l!==0;return $l=0,e}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Fe.memoizedState=ht=e:ht=ht.next=e,ht}function Cr(){if(it===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=it.next;var t=ht===null?Fe.memoizedState:ht.next;if(t!==null)ht=t,it=e;else{if(e===null)throw Error(Y(310));it=e,e={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ht===null?Fe.memoizedState=ht=e:ht=ht.next=e}return ht}function Ll(e,t){return typeof t=="function"?t(e):t}function am(e){var t=Cr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=it,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((bs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Fe.lanes|=d,ws|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,Jr(n,t.memoizedState)||(qt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Fe.lanes|=s,ws|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function om(e){var t=Cr(),r=t.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Jr(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function NP(){}function SP(e,t){var r=Fe,n=Cr(),i=t(),s=!Jr(n.memoizedState,i);if(s&&(n.memoizedState=i,qt=!0),n=n.queue,ny(kP.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||ht!==null&&ht.memoizedState.tag&1){if(r.flags|=2048,Il(9,PP.bind(null,r,n,i,t),void 0,null),pt===null)throw Error(Y(349));bs&30||_P(r,t,i)}return i}function _P(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function PP(e,t,r,n){t.value=r,t.getSnapshot=n,AP(t)&&OP(e)}function kP(e,t,r){return r(function(){AP(t)&&OP(e)})}function AP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Jr(e,r)}catch{return!0}}function OP(e){var t=Rn(e,1);t!==null&&Yr(t,e,1,-1)}function Qb(e){var t=tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ll,lastRenderedState:e},t.queue=e,e=e.dispatch=i6.bind(null,Fe,e),[t.memoizedState,e]}function Il(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function EP(){return Cr().memoizedState}function Tu(e,t,r,n){var i=tn();Fe.flags|=e,i.memoizedState=Il(1|t,r,void 0,n===void 0?null:n)}function pf(e,t,r,n){var i=Cr();n=n===void 0?null:n;var s=void 0;if(it!==null){var a=it.memoizedState;if(s=a.destroy,n!==null&&ey(n,a.deps)){i.memoizedState=Il(t,r,s,n);return}}Fe.flags|=e,i.memoizedState=Il(1|t,r,s,n)}function Zb(e,t){return Tu(8390656,8,e,t)}function ny(e,t){return pf(2048,8,e,t)}function CP(e,t){return pf(4,2,e,t)}function TP(e,t){return pf(4,4,e,t)}function MP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function DP(e,t,r){return r=r!=null?r.concat([e]):null,pf(4,4,MP.bind(null,t,e),r)}function iy(){}function RP(e,t){var r=Cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ey(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function $P(e,t){var r=Cr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&ey(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function LP(e,t,r){return bs&21?(Jr(r,t)||(r=U_(),Fe.lanes|=r,ws|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function r6(e,t){var r=Ne;Ne=r!==0&&4>r?r:4,e(!0);var n=sm.transition;sm.transition={};try{e(!1),t()}finally{Ne=r,sm.transition=n}}function IP(){return Cr().memoizedState}function n6(e,t,r){var n=wi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},BP(e))FP(t,r);else if(r=bP(e,t,r,n),r!==null){var i=$t();Yr(r,e,n,i),zP(r,t,n)}}function i6(e,t,r){var n=wi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(BP(e))FP(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Jr(l,a)){var c=t.interleaved;c===null?(i.next=i,Y0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=bP(e,t,i,n),r!==null&&(i=$t(),Yr(r,e,n,i),zP(r,t,n))}}function BP(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function FP(e,t){ll=od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function zP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,R0(e,r)}}var ld={readContext:Er,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},s6={readContext:Er,useCallback:function(e,t){return tn().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:Zb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Tu(4194308,4,MP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Tu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Tu(4,2,e,t)},useMemo:function(e,t){var r=tn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=tn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=n6.bind(null,Fe,e),[n.memoizedState,e]},useRef:function(e){var t=tn();return e={current:e},t.memoizedState=e},useState:Qb,useDebugValue:iy,useDeferredValue:function(e){return tn().memoizedState=e},useTransition:function(){var e=Qb(!1),t=e[0];return e=r6.bind(null,e[1]),tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Fe,i=tn();if($e){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=t(),pt===null)throw Error(Y(349));bs&30||_P(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Zb(kP.bind(null,n,s,e),[e]),n.flags|=2048,Il(9,PP.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=tn(),t=pt.identifierPrefix;if($e){var r=Pn,n=_n;r=(n&~(1<<32-Gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=$l++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=t6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},a6={readContext:Er,useCallback:RP,useContext:Er,useEffect:ny,useImperativeHandle:DP,useInsertionEffect:CP,useLayoutEffect:TP,useMemo:$P,useReducer:am,useRef:EP,useState:function(){return am(Ll)},useDebugValue:iy,useDeferredValue:function(e){var t=Cr();return LP(t,it.memoizedState,e)},useTransition:function(){var e=am(Ll)[0],t=Cr().memoizedState;return[e,t]},useMutableSource:NP,useSyncExternalStore:SP,useId:IP,unstable_isNewReconciler:!1},o6={readContext:Er,useCallback:RP,useContext:Er,useEffect:ny,useImperativeHandle:DP,useInsertionEffect:CP,useLayoutEffect:TP,useMemo:$P,useReducer:om,useRef:EP,useState:function(){return om(Ll)},useDebugValue:iy,useDeferredValue:function(e){var t=Cr();return it===null?t.memoizedState=e:LP(t,it.memoizedState,e)},useTransition:function(){var e=om(Ll)[0],t=Cr().memoizedState;return[e,t]},useMutableSource:NP,useSyncExternalStore:SP,useId:IP,unstable_isNewReconciler:!1};function zr(e,t){if(e&&e.defaultProps){t=ze({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ip(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var gf={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),i=wi(e),s=On(n,i);s.payload=t,r!=null&&(s.callback=r),t=xi(e,s,i),t!==null&&(Yr(t,e,i,n),Eu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),i=wi(e),s=On(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=xi(e,s,i),t!==null&&(Yr(t,e,i,n),Eu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=wi(e),i=On(r,n);i.tag=2,t!=null&&(i.callback=t),t=xi(e,i,n),t!==null&&(Yr(t,e,n,r),Eu(t,e,n))}};function ew(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!El(r,n)||!El(i,s):!0}function UP(e,t,r){var n=!1,i=Pi,s=t.contextType;return typeof s=="object"&&s!==null?s=Er(s):(i=Jt(t)?vs:Et.current,n=t.contextTypes,s=(n=n!=null)?Oa(e,i):Pi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function tw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&gf.enqueueReplaceState(t,t.state,null)}function Bp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},X0(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Er(s):(s=Jt(t)?vs:Et.current,i.context=Oa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ip(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gf.enqueueReplaceState(i,i.state,null),sd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ma(e,t){try{var r="",n=t;do r+=RD(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function lm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Fp(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var l6=typeof WeakMap=="function"?WeakMap:Map;function WP(e,t,r){r=On(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ud||(ud=!0,Xp=n),Fp(e,t)},r}function VP(e,t,r){r=On(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){Fp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Fp(e,t),typeof n!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function rw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new l6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=j6.bind(null,e,t,r),t.then(e,e))}function nw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=On(-1,1),t.tag=2,xi(r,t,1))),r.lanes|=1),e)}var c6=Hn.ReactCurrentOwner,qt=!1;function Tt(e,t,r,n){t.child=e===null?xP(t,null,r,n):Ca(t,e.child,r,n)}function sw(e,t,r,n,i){r=r.render;var s=t.ref;return wa(t,i),n=ty(e,t,r,n,s,i),r=ry(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$n(e,t,i)):($e&&r&&W0(t),t.flags|=1,Tt(e,t,n,i),t.child)}function aw(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!fy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,KP(e,t,s,n,i)):(e=$u(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:El,r(a,n)&&e.ref===t.ref)return $n(e,t,i)}return t.flags|=1,e=ji(s,n),e.ref=t.ref,e.return=t,t.child=e}function KP(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(El(s,n)&&e.ref===t.ref)if(qt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,$n(e,t,i)}return zp(e,t,r,n,i)}function HP(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(aa,ir),ir|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(aa,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Oe(aa,ir),ir|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Oe(aa,ir),ir|=n;return Tt(e,t,i,r),t.child}function qP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zp(e,t,r,n,i){var s=Jt(r)?vs:Et.current;return s=Oa(t,s),wa(t,i),r=ty(e,t,r,n,s,i),n=ry(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$n(e,t,i)):($e&&n&&W0(t),t.flags|=1,Tt(e,t,r,i),t.child)}function ow(e,t,r,n,i){if(Jt(r)){var s=!0;ed(t)}else s=!1;if(wa(t,i),t.stateNode===null)Mu(e,t),UP(t,r,n),Bp(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Jt(r)?vs:Et.current,u=Oa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&tw(t,a,n,u),ai=!1;var h=t.memoizedState;a.state=h,sd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||Xt.current||ai?(typeof d=="function"&&(Ip(t,r,d,n),c=t.memoizedState),(l=ai||ew(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,wP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Jt(r)?vs:Et.current,c=Oa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&tw(t,a,n,c),ai=!1,h=t.memoizedState,a.state=h,sd(t,n,a,i);var p=t.memoizedState;l!==f||h!==p||Xt.current||ai?(typeof m=="function"&&(Ip(t,r,m,n),p=t.memoizedState),(u=ai||ew(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Up(e,t,r,n,s,i)}function Up(e,t,r,n,i,s){qP(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Hb(t,r,!1),$n(e,t,s);n=t.stateNode,c6.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ca(t,e.child,null,s),t.child=Ca(t,null,l,s)):Tt(e,t,l,s),t.memoizedState=n.state,i&&Hb(t,r,!0),t.child}function GP(e){var t=e.stateNode;t.pendingContext?Kb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kb(e,t.context,!1),J0(e,t.containerInfo)}function lw(e,t,r,n,i){return Ea(),K0(i),t.flags|=256,Tt(e,t,r,n),t.child}var Wp={dehydrated:null,treeContext:null,retryLane:0};function Vp(e){return{baseLanes:e,cachePool:null,transitions:null}}function YP(e,t,r){var n=t.pendingProps,i=Ie.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(Ie,i&1),e===null)return $p(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xf(a,n,0,null),e=us(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Vp(r),t.memoizedState=Wp,e):sy(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return u6(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=ji(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ji(l,s):(s=us(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?Vp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Wp,n}return s=e.child,e=s.sibling,n=ji(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sy(e,t){return t=xf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jc(e,t,r,n){return n!==null&&K0(n),Ca(t,e.child,null,r),e=sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function u6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=lm(Error(Y(422))),Jc(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=xf({mode:"visible",children:n.children},i,0,null),s=us(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ca(t,e.child,null,a),t.child.memoizedState=Vp(a),t.memoizedState=Wp,s);if(!(t.mode&1))return Jc(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Y(419)),n=lm(s,n,void 0),Jc(e,t,a,n)}if(l=(a&e.childLanes)!==0,qt||l){if(n=pt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Rn(e,i),Yr(n,e,i,-1))}return dy(),n=lm(Error(Y(421))),Jc(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=N6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ar=vi(i.nextSibling),or=t,$e=!0,Vr=null,e!==null&&(Nr[Sr++]=_n,Nr[Sr++]=Pn,Nr[Sr++]=xs,_n=e.id,Pn=e.overflow,xs=t),t=sy(t,n.children),t.flags|=4096,t)}function cw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Lp(e.return,t,r)}function cm(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function XP(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Tt(e,t,n.children,r),n=Ie.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cw(e,r,t);else if(e.tag===19)cw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Ie,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ad(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),cm(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ad(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}cm(t,!0,r,null,s);break;case"together":cm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Mu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $n(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ws|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Y(153));if(t.child!==null){for(e=t.child,r=ji(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=ji(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function d6(e,t,r){switch(t.tag){case 3:GP(t),Ea();break;case 5:jP(t);break;case 1:Jt(t.type)&&ed(t);break;case 4:J0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Oe(nd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Ie,Ie.current&1),t.flags|=128,null):r&t.child.childLanes?YP(e,t,r):(Oe(Ie,Ie.current&1),e=$n(e,t,r),e!==null?e.sibling:null);Oe(Ie,Ie.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return XP(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Ie,Ie.current),n)break;return null;case 22:case 23:return t.lanes=0,HP(e,t,r)}return $n(e,t,r)}var JP,Kp,QP,ZP;JP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Kp=function(){};QP=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ts(cn.current);var s=null;switch(r){case"input":i=hp(e,i),n=hp(e,n),s=[];break;case"select":i=ze({},i,{value:void 0}),n=ze({},n,{value:void 0}),s=[];break;case"textarea":i=gp(e,i),n=gp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Qu)}vp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Nl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Nl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Me("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};ZP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Do(e,t){if(!$e)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function f6(e,t,r){var n=t.pendingProps;switch(V0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Jt(t.type)&&Zu(),Nt(t),null;case 3:return n=t.stateNode,Ta(),Re(Xt),Re(Et),Z0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Yc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Vr!==null&&(Zp(Vr),Vr=null))),Kp(e,t),Nt(t),null;case 5:Q0(t);var i=ts(Rl.current);if(r=t.type,e!==null&&t.stateNode!=null)QP(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Y(166));return Nt(t),null}if(e=ts(cn.current),Yc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[rn]=t,n[Ml]=s,e=(t.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(i=0;i<Jo.length;i++)Me(Jo[i],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":vb(n,s),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Me("invalid",n);break;case"textarea":bb(n,s),Me("invalid",n)}vp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Gc(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Gc(n.textContent,l,e),i=["children",""+l]):Nl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Me("scroll",n)}switch(r){case"input":Fc(n),xb(n,s,!0);break;case"textarea":Fc(n),wb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Qu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=k_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[rn]=t,e[Ml]=n,JP(e,t,!1,!1),t.stateNode=e;e:{switch(a=xp(r,n),r){case"dialog":Me("cancel",e),Me("close",e),i=n;break;case"iframe":case"object":case"embed":Me("load",e),i=n;break;case"video":case"audio":for(i=0;i<Jo.length;i++)Me(Jo[i],e);i=n;break;case"source":Me("error",e),i=n;break;case"img":case"image":case"link":Me("error",e),Me("load",e),i=n;break;case"details":Me("toggle",e),i=n;break;case"input":vb(e,n),i=hp(e,n),Me("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ze({},n,{value:void 0}),Me("invalid",e);break;case"textarea":bb(e,n),i=gp(e,n),Me("invalid",e);break;default:i=n}vp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?E_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&A_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Sl(e,c):typeof c=="number"&&Sl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Me("scroll",e):c!=null&&O0(e,s,c,a))}switch(r){case"input":Fc(e),xb(e,n,!1);break;case"textarea":Fc(e),wb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+_i(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ya(e,!!n.multiple,s,!1):n.defaultValue!=null&&ya(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Qu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)ZP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Y(166));if(r=ts(Rl.current),ts(cn.current),Yc(t)){if(n=t.stateNode,r=t.memoizedProps,n[rn]=t,(s=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:Gc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gc(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[rn]=t,t.stateNode=n}return Nt(t),null;case 13:if(Re(Ie),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if($e&&ar!==null&&t.mode&1&&!(t.flags&128))yP(),Ea(),t.flags|=98560,s=!1;else if(s=Yc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Y(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[rn]=t}else Ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),s=!1}else Vr!==null&&(Zp(Vr),Vr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ie.current&1?st===0&&(st=3):dy())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return Ta(),Kp(e,t),e===null&&Cl(t.stateNode.containerInfo),Nt(t),null;case 10:return G0(t.type._context),Nt(t),null;case 17:return Jt(t.type)&&Zu(),Nt(t),null;case 19:if(Re(Ie),s=t.memoizedState,s===null)return Nt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Do(s,!1);else{if(st!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ad(e),a!==null){for(t.flags|=128,Do(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Ie,Ie.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xe()>Da&&(t.flags|=128,n=!0,Do(s,!1),t.lanes=4194304)}else{if(!n)if(e=ad(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Do(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!$e)return Nt(t),null}else 2*Xe()-s.renderingStartTime>Da&&r!==1073741824&&(t.flags|=128,n=!0,Do(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,r=Ie.current,Oe(Ie,n?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return uy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(Y(156,t.tag))}function h6(e,t){switch(V0(t),t.tag){case 1:return Jt(t.type)&&Zu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ta(),Re(Xt),Re(Et),Z0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Q0(t),null;case 13:if(Re(Ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Y(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Re(Ie),null;case 4:return Ta(),null;case 10:return G0(t.type._context),null;case 22:case 23:return uy(),null;case 24:return null;default:return null}}var Qc=!1,Pt=!1,m6=typeof WeakSet=="function"?WeakSet:Set,ie=null;function sa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){He(e,t,n)}else r.current=null}function Hp(e,t,r){try{r()}catch(n){He(e,t,n)}}var uw=!1;function p6(e,t){if(Op=Yu,e=iP(),U0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ep={focusedElem:e,selectionRange:r},Yu=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,w=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?b:zr(t.type,b),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(N){He(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return p=uw,uw=!1,p}function cl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Hp(t,r,s)}i=i.next}while(i!==n)}}function yf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function qp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ek(e){var t=e.alternate;t!==null&&(e.alternate=null,ek(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[rn],delete t[Ml],delete t[Mp],delete t[JR],delete t[QR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function tk(e){return e.tag===5||e.tag===3||e.tag===4}function dw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||tk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Qu));else if(n!==4&&(e=e.child,e!==null))for(Gp(e,t,r),e=e.sibling;e!==null;)Gp(e,t,r),e=e.sibling}function Yp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Yp(e,t,r),e=e.sibling;e!==null;)Yp(e,t,r),e=e.sibling}var vt=null,Ur=!1;function Qn(e,t,r){for(r=r.child;r!==null;)rk(e,t,r),r=r.sibling}function rk(e,t,r){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(cf,r)}catch{}switch(r.tag){case 5:Pt||sa(r,t);case 6:var n=vt,i=Ur;vt=null,Qn(e,t,r),vt=n,Ur=i,vt!==null&&(Ur?(e=vt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):vt.removeChild(r.stateNode));break;case 18:vt!==null&&(Ur?(e=vt,r=r.stateNode,e.nodeType===8?rm(e.parentNode,r):e.nodeType===1&&rm(e,r),Al(e)):rm(vt,r.stateNode));break;case 4:n=vt,i=Ur,vt=r.stateNode.containerInfo,Ur=!0,Qn(e,t,r),vt=n,Ur=i;break;case 0:case 11:case 14:case 15:if(!Pt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Hp(r,t,a),i=i.next}while(i!==n)}Qn(e,t,r);break;case 1:if(!Pt&&(sa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){He(r,t,l)}Qn(e,t,r);break;case 21:Qn(e,t,r);break;case 22:r.mode&1?(Pt=(n=Pt)||r.memoizedState!==null,Qn(e,t,r),Pt=n):Qn(e,t,r);break;default:Qn(e,t,r)}}function fw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new m6),t.forEach(function(n){var i=S6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ir(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:vt=l.stateNode,Ur=!1;break e;case 3:vt=l.stateNode.containerInfo,Ur=!0;break e;case 4:vt=l.stateNode.containerInfo,Ur=!0;break e}l=l.return}if(vt===null)throw Error(Y(160));rk(s,a,i),vt=null,Ur=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){He(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)nk(t,e),t=t.sibling}function nk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ir(t,e),en(e),n&4){try{cl(3,e,e.return),yf(3,e)}catch(b){He(e,e.return,b)}try{cl(5,e,e.return)}catch(b){He(e,e.return,b)}}break;case 1:Ir(t,e),en(e),n&512&&r!==null&&sa(r,r.return);break;case 5:if(Ir(t,e),en(e),n&512&&r!==null&&sa(r,r.return),e.flags&32){var i=e.stateNode;try{Sl(i,"")}catch(b){He(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&__(i,s),xp(l,a);var u=xp(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?E_(i,f):d==="dangerouslySetInnerHTML"?A_(i,f):d==="children"?Sl(i,f):O0(i,d,f,u)}switch(l){case"input":mp(i,s);break;case"textarea":P_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ya(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?ya(i,!!s.multiple,s.defaultValue,!0):ya(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ml]=s}catch(b){He(e,e.return,b)}}break;case 6:if(Ir(t,e),en(e),n&4){if(e.stateNode===null)throw Error(Y(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){He(e,e.return,b)}}break;case 3:if(Ir(t,e),en(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Al(t.containerInfo)}catch(b){He(e,e.return,b)}break;case 4:Ir(t,e),en(e);break;case 13:Ir(t,e),en(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ly=Xe())),n&4&&fw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Pt=(u=Pt)||d,Ir(t,e),Pt=u):Ir(t,e),en(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ie=e,d=e.child;d!==null;){for(f=ie=d;ie!==null;){switch(h=ie,m=h.child,h.tag){case 0:case 11:case 14:case 15:cl(4,h,h.return);break;case 1:sa(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(b){He(n,r,b)}}break;case 5:sa(h,h.return);break;case 22:if(h.memoizedState!==null){mw(f);continue}}m!==null?(m.return=h,ie=m):mw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=O_("display",a))}catch(b){He(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){He(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ir(t,e),en(e),n&4&&fw(e);break;case 21:break;default:Ir(t,e),en(e)}}function en(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(tk(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Sl(i,""),n.flags&=-33);var s=dw(e);Yp(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=dw(e);Gp(e,l,a);break;default:throw Error(Y(161))}}catch(c){He(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function g6(e,t,r){ie=e,ik(e)}function ik(e,t,r){for(var n=(e.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Qc;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Pt;l=Qc;var u=Pt;if(Qc=a,(Pt=c)&&!u)for(ie=i;ie!==null;)a=ie,c=a.child,a.tag===22&&a.memoizedState!==null?pw(i):c!==null?(c.return=a,ie=c):pw(i);for(;s!==null;)ie=s,ik(s),s=s.sibling;ie=i,Qc=l,Pt=u}hw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):hw(e)}}function hw(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pt||yf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Pt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:zr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Jb(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Jb(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Al(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Pt||t.flags&512&&qp(t)}catch(h){He(t,t.return,h)}}if(t===e){ie=null;break}if(r=t.sibling,r!==null){r.return=t.return,ie=r;break}ie=t.return}}function mw(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ie=r;break}ie=t.return}}function pw(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{yf(4,t)}catch(c){He(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){He(t,i,c)}}var s=t.return;try{qp(t)}catch(c){He(t,s,c)}break;case 5:var a=t.return;try{qp(t)}catch(c){He(t,a,c)}}}catch(c){He(t,t.return,c)}if(t===e){ie=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ie=l;break}ie=t.return}}var y6=Math.ceil,cd=Hn.ReactCurrentDispatcher,ay=Hn.ReactCurrentOwner,Ar=Hn.ReactCurrentBatchConfig,ye=0,pt=null,et=null,bt=0,ir=0,aa=Ci(0),st=0,Bl=null,ws=0,vf=0,oy=0,ul=null,Vt=null,ly=0,Da=1/0,bn=null,ud=!1,Xp=null,bi=null,Zc=!1,hi=null,dd=0,dl=0,Jp=null,Du=-1,Ru=0;function $t(){return ye&6?Xe():Du!==-1?Du:Du=Xe()}function wi(e){return e.mode&1?ye&2&&bt!==0?bt&-bt:e6.transition!==null?(Ru===0&&(Ru=U_()),Ru):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:Y_(e.type)),e):1}function Yr(e,t,r,n){if(50<dl)throw dl=0,Jp=null,Error(Y(185));ac(e,r,n),(!(ye&2)||e!==pt)&&(e===pt&&(!(ye&2)&&(vf|=r),st===4&&ci(e,bt)),Qt(e,n),r===1&&ye===0&&!(t.mode&1)&&(Da=Xe()+500,mf&&Ti()))}function Qt(e,t){var r=e.callbackNode;eR(e,t);var n=Gu(e,e===pt?bt:0);if(n===0)r!==null&&Sb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Sb(r),t===1)e.tag===0?ZR(gw.bind(null,e)):mP(gw.bind(null,e)),YR(function(){!(ye&6)&&Ti()}),r=null;else{switch(W_(n)){case 1:r=D0;break;case 4:r=F_;break;case 16:r=qu;break;case 536870912:r=z_;break;default:r=qu}r=fk(r,sk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function sk(e,t){if(Du=-1,Ru=0,ye&6)throw Error(Y(327));var r=e.callbackNode;if(ja()&&e.callbackNode!==r)return null;var n=Gu(e,e===pt?bt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=fd(e,n);else{t=n;var i=ye;ye|=2;var s=ok();(pt!==e||bt!==t)&&(bn=null,Da=Xe()+500,cs(e,t));do try{b6();break}catch(l){ak(e,l)}while(!0);q0(),cd.current=s,ye=i,et!==null?t=0:(pt=null,bt=0,t=st)}if(t!==0){if(t===2&&(i=Sp(e),i!==0&&(n=i,t=Qp(e,i))),t===1)throw r=Bl,cs(e,0),ci(e,n),Qt(e,Xe()),r;if(t===6)ci(e,n);else{if(i=e.current.alternate,!(n&30)&&!v6(i)&&(t=fd(e,n),t===2&&(s=Sp(e),s!==0&&(n=s,t=Qp(e,s))),t===1))throw r=Bl,cs(e,0),ci(e,n),Qt(e,Xe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Y(345));case 2:Hi(e,Vt,bn);break;case 3:if(ci(e,n),(n&130023424)===n&&(t=ly+500-Xe(),10<t)){if(Gu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Tp(Hi.bind(null,e,Vt,bn),t);break}Hi(e,Vt,bn);break;case 4:if(ci(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Gr(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*y6(n/1960))-n,10<n){e.timeoutHandle=Tp(Hi.bind(null,e,Vt,bn),n);break}Hi(e,Vt,bn);break;case 5:Hi(e,Vt,bn);break;default:throw Error(Y(329))}}}return Qt(e,Xe()),e.callbackNode===r?sk.bind(null,e):null}function Qp(e,t){var r=ul;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=fd(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&Zp(t)),e}function Zp(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function v6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Jr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t){for(t&=~oy,t&=~vf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Gr(t),n=1<<r;e[r]=-1,t&=~n}}function gw(e){if(ye&6)throw Error(Y(327));ja();var t=Gu(e,0);if(!(t&1))return Qt(e,Xe()),null;var r=fd(e,t);if(e.tag!==0&&r===2){var n=Sp(e);n!==0&&(t=n,r=Qp(e,n))}if(r===1)throw r=Bl,cs(e,0),ci(e,t),Qt(e,Xe()),r;if(r===6)throw Error(Y(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hi(e,Vt,bn),Qt(e,Xe()),null}function cy(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Da=Xe()+500,mf&&Ti())}}function js(e){hi!==null&&hi.tag===0&&!(ye&6)&&ja();var t=ye;ye|=1;var r=Ar.transition,n=Ne;try{if(Ar.transition=null,Ne=1,e)return e()}finally{Ne=n,Ar.transition=r,ye=t,!(ye&6)&&Ti()}}function uy(){ir=aa.current,Re(aa)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,GR(r)),et!==null)for(r=et.return;r!==null;){var n=r;switch(V0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Zu();break;case 3:Ta(),Re(Xt),Re(Et),Z0();break;case 5:Q0(n);break;case 4:Ta();break;case 13:Re(Ie);break;case 19:Re(Ie);break;case 10:G0(n.type._context);break;case 22:case 23:uy()}r=r.return}if(pt=e,et=e=ji(e.current,null),bt=ir=t,st=0,Bl=null,oy=vf=ws=0,Vt=ul=null,es!==null){for(t=0;t<es.length;t++)if(r=es[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}es=null}return e}function ak(e,t){do{var r=et;try{if(q0(),Cu.current=ld,od){for(var n=Fe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}od=!1}if(bs=0,ht=it=Fe=null,ll=!1,$l=0,ay.current=null,r===null||r.return===null){st=1,Bl=t,et=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=bt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nw(a);if(m!==null){m.flags&=-257,iw(m,a,l,s,t),m.mode&1&&rw(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var b=new Set;b.add(c),t.updateQueue=b}else p.add(c);break e}else{if(!(t&1)){rw(s,u,t),dy();break e}c=Error(Y(426))}}else if($e&&l.mode&1){var w=nw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),iw(w,a,l,s,t),K0(Ma(c,l));break e}}s=c=Ma(c,l),st!==4&&(st=2),ul===null?ul=[s]:ul.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=WP(s,c,t);Xb(s,y);break e;case 1:l=c;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(bi===null||!bi.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=VP(s,l,t);Xb(s,N);break e}}s=s.return}while(s!==null)}ck(r)}catch(j){t=j,et===r&&r!==null&&(et=r=r.return);continue}break}while(!0)}function ok(){var e=cd.current;return cd.current=ld,e===null?ld:e}function dy(){(st===0||st===3||st===2)&&(st=4),pt===null||!(ws&268435455)&&!(vf&268435455)||ci(pt,bt)}function fd(e,t){var r=ye;ye|=2;var n=ok();(pt!==e||bt!==t)&&(bn=null,cs(e,t));do try{x6();break}catch(i){ak(e,i)}while(!0);if(q0(),ye=r,cd.current=n,et!==null)throw Error(Y(261));return pt=null,bt=0,st}function x6(){for(;et!==null;)lk(et)}function b6(){for(;et!==null&&!KD();)lk(et)}function lk(e){var t=dk(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?ck(e):et=t,ay.current=null}function ck(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=h6(r,t),r!==null){r.flags&=32767,et=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{st=6,et=null;return}}else if(r=f6(r,t,ir),r!==null){et=r;return}if(t=t.sibling,t!==null){et=t;return}et=t=e}while(t!==null);st===0&&(st=5)}function Hi(e,t,r){var n=Ne,i=Ar.transition;try{Ar.transition=null,Ne=1,w6(e,t,r,n)}finally{Ar.transition=i,Ne=n}return null}function w6(e,t,r,n){do ja();while(hi!==null);if(ye&6)throw Error(Y(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Y(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(tR(e,s),e===pt&&(et=pt=null,bt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zc||(Zc=!0,fk(qu,function(){return ja(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ar.transition,Ar.transition=null;var a=Ne;Ne=1;var l=ye;ye|=4,ay.current=null,p6(e,r),nk(r,e),zR(Ep),Yu=!!Op,Ep=Op=null,e.current=r,g6(r),HD(),ye=l,Ne=a,Ar.transition=s}else e.current=r;if(Zc&&(Zc=!1,hi=e,dd=i),s=e.pendingLanes,s===0&&(bi=null),YD(r.stateNode),Qt(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(ud)throw ud=!1,e=Xp,Xp=null,e;return dd&1&&e.tag!==0&&ja(),s=e.pendingLanes,s&1?e===Jp?dl++:(dl=0,Jp=e):dl=0,Ti(),null}function ja(){if(hi!==null){var e=W_(dd),t=Ar.transition,r=Ne;try{if(Ar.transition=null,Ne=16>e?16:e,hi===null)var n=!1;else{if(e=hi,hi=null,dd=0,ye&6)throw Error(Y(331));var i=ye;for(ye|=4,ie=e.current;ie!==null;){var s=ie,a=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ie=u;ie!==null;){var d=ie;switch(d.tag){case 0:case 11:case 15:cl(8,d,s)}var f=d.child;if(f!==null)f.return=d,ie=f;else for(;ie!==null;){d=ie;var h=d.sibling,m=d.return;if(ek(d),d===u){ie=null;break}if(h!==null){h.return=m,ie=h;break}ie=m}}}var p=s.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}ie=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ie=a;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ie=y;break e}ie=s.return}}var v=e.current;for(ie=v;ie!==null;){a=ie;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ie=x;else e:for(a=v;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:yf(9,l)}}catch(j){He(l,l.return,j)}if(l===a){ie=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ie=N;break e}ie=l.return}}if(ye=i,Ti(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(cf,e)}catch{}n=!0}return n}finally{Ne=r,Ar.transition=t}}return!1}function yw(e,t,r){t=Ma(r,t),t=WP(e,t,1),e=xi(e,t,1),t=$t(),e!==null&&(ac(e,1,t),Qt(e,t))}function He(e,t,r){if(e.tag===3)yw(e,e,r);else for(;t!==null;){if(t.tag===3){yw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bi===null||!bi.has(n))){e=Ma(r,e),e=VP(t,e,1),t=xi(t,e,1),e=$t(),t!==null&&(ac(t,1,e),Qt(t,e));break}}t=t.return}}function j6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,pt===e&&(bt&r)===r&&(st===4||st===3&&(bt&130023424)===bt&&500>Xe()-ly?cs(e,0):oy|=r),Qt(e,t)}function uk(e,t){t===0&&(e.mode&1?(t=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):t=1);var r=$t();e=Rn(e,t),e!==null&&(ac(e,t,r),Qt(e,r))}function N6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),uk(e,r)}function S6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(t),uk(e,r)}var dk;dk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,d6(e,t,r);qt=!!(e.flags&131072)}else qt=!1,$e&&t.flags&1048576&&pP(t,rd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Mu(e,t),e=t.pendingProps;var i=Oa(t,Et.current);wa(t,r),i=ty(null,t,n,e,i,r);var s=ry();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(n)?(s=!0,ed(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,X0(t),i.updater=gf,t.stateNode=i,i._reactInternals=t,Bp(t,n,e,r),t=Up(null,t,n,!0,s,r)):(t.tag=0,$e&&s&&W0(t),Tt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Mu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=P6(n),e=zr(n,e),i){case 0:t=zp(null,t,n,e,r);break e;case 1:t=ow(null,t,n,e,r);break e;case 11:t=sw(null,t,n,e,r);break e;case 14:t=aw(null,t,n,zr(n.type,e),r);break e}throw Error(Y(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zr(n,i),zp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zr(n,i),ow(e,t,n,i,r);case 3:e:{if(GP(t),e===null)throw Error(Y(387));n=t.pendingProps,s=t.memoizedState,i=s.element,wP(e,t),sd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ma(Error(Y(423)),t),t=lw(e,t,n,r,i);break e}else if(n!==i){i=Ma(Error(Y(424)),t),t=lw(e,t,n,r,i);break e}else for(ar=vi(t.stateNode.containerInfo.firstChild),or=t,$e=!0,Vr=null,r=xP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ea(),n===i){t=$n(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return jP(t),e===null&&$p(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Cp(n,i)?a=null:s!==null&&Cp(n,s)&&(t.flags|=32),qP(e,t),Tt(e,t,a,r),t.child;case 6:return e===null&&$p(t),null;case 13:return YP(e,t,r);case 4:return J0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ca(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zr(n,i),sw(e,t,n,i,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Oe(nd,n._currentValue),n._currentValue=a,s!==null)if(Jr(s.value,a)){if(s.children===i.children&&!Xt.current){t=$n(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=On(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Lp(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Y(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Lp(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,wa(t,r),i=Er(i),n=n(i),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,i=zr(n,t.pendingProps),i=zr(n.type,i),aw(e,t,n,i,r);case 15:return KP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:zr(n,i),Mu(e,t),t.tag=1,Jt(n)?(e=!0,ed(t)):e=!1,wa(t,r),UP(t,n,i),Bp(t,n,i,r),Up(null,t,n,!0,e,r);case 19:return XP(e,t,r);case 22:return HP(e,t,r)}throw Error(Y(156,t.tag))};function fk(e,t){return B_(e,t)}function _6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(e,t,r,n){return new _6(e,t,r,n)}function fy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function P6(e){if(typeof e=="function")return fy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C0)return 11;if(e===T0)return 14}return 2}function ji(e,t){var r=e.alternate;return r===null?(r=Pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function $u(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")fy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Xs:return us(r.children,i,s,t);case E0:a=8,i|=8;break;case cp:return e=Pr(12,r,t,i|2),e.elementType=cp,e.lanes=s,e;case up:return e=Pr(13,r,t,i),e.elementType=up,e.lanes=s,e;case dp:return e=Pr(19,r,t,i),e.elementType=dp,e.lanes=s,e;case j_:return xf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b_:a=10;break e;case w_:a=9;break e;case C0:a=11;break e;case T0:a=14;break e;case si:a=16,n=null;break e}throw Error(Y(130,e==null?e:typeof e,""))}return t=Pr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function us(e,t,r,n){return e=Pr(7,e,n,t),e.lanes=r,e}function xf(e,t,r,n){return e=Pr(22,e,n,t),e.elementType=j_,e.lanes=r,e.stateNode={isHidden:!1},e}function um(e,t,r){return e=Pr(6,e,null,t),e.lanes=r,e}function dm(e,t,r){return t=Pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function k6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kh(0),this.expirationTimes=Kh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function hy(e,t,r,n,i,s,a,l,c){return e=new k6(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Pr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},X0(s),e}function A6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ys,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function hk(e){if(!e)return Pi;e=e._reactInternals;e:{if(Os(e)!==e||e.tag!==1)throw Error(Y(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Y(171))}if(e.tag===1){var r=e.type;if(Jt(r))return hP(e,r,t)}return t}function mk(e,t,r,n,i,s,a,l,c){return e=hy(r,n,!0,e,i,s,a,l,c),e.context=hk(null),r=e.current,n=$t(),i=wi(r),s=On(n,i),s.callback=t??null,xi(r,s,i),e.current.lanes=i,ac(e,i,n),Qt(e,n),e}function bf(e,t,r,n){var i=t.current,s=$t(),a=wi(i);return r=hk(r),t.context===null?t.context=r:t.pendingContext=r,t=On(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xi(i,t,a),e!==null&&(Yr(e,i,a,s),Eu(e,i,a)),a}function hd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function my(e,t){vw(e,t),(e=e.alternate)&&vw(e,t)}function O6(){return null}var pk=typeof reportError=="function"?reportError:function(e){console.error(e)};function py(e){this._internalRoot=e}wf.prototype.render=py.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Y(409));bf(e,t,null,null)};wf.prototype.unmount=py.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;js(function(){bf(null,e,null,null)}),t[Dn]=null}};function wf(e){this._internalRoot=e}wf.prototype.unstable_scheduleHydration=function(e){if(e){var t=H_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<li.length&&t!==0&&t<li[r].priority;r++);li.splice(r,0,e),r===0&&G_(e)}};function gy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function jf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xw(){}function E6(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=hd(a);s.call(u)}}var a=mk(t,n,e,0,null,!1,!1,"",xw);return e._reactRootContainer=a,e[Dn]=a.current,Cl(e.nodeType===8?e.parentNode:e),js(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=hd(c);l.call(u)}}var c=hy(e,0,!1,null,null,!1,!1,"",xw);return e._reactRootContainer=c,e[Dn]=c.current,Cl(e.nodeType===8?e.parentNode:e),js(function(){bf(t,c,r,n)}),c}function Nf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=hd(a);l.call(c)}}bf(t,a,e,i)}else a=E6(r,t,e,i,n);return hd(a)}V_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Xo(t.pendingLanes);r!==0&&(R0(t,r|1),Qt(t,Xe()),!(ye&6)&&(Da=Xe()+500,Ti()))}break;case 13:js(function(){var n=Rn(e,1);if(n!==null){var i=$t();Yr(n,e,1,i)}}),my(e,1)}};$0=function(e){if(e.tag===13){var t=Rn(e,134217728);if(t!==null){var r=$t();Yr(t,e,134217728,r)}my(e,134217728)}};K_=function(e){if(e.tag===13){var t=wi(e),r=Rn(e,t);if(r!==null){var n=$t();Yr(r,e,t,n)}my(e,t)}};H_=function(){return Ne};q_=function(e,t){var r=Ne;try{return Ne=e,t()}finally{Ne=r}};wp=function(e,t,r){switch(t){case"input":if(mp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=hf(n);if(!i)throw Error(Y(90));S_(n),mp(n,i)}}}break;case"textarea":P_(e,r);break;case"select":t=r.value,t!=null&&ya(e,!!r.multiple,t,!1)}};M_=cy;D_=js;var C6={usingClientEntryPoint:!1,Events:[lc,ea,hf,C_,T_,cy]},Ro={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T6={bundleType:Ro.bundleType,version:Ro.version,rendererPackageName:Ro.rendererPackageName,rendererConfig:Ro.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=L_(e),e===null?null:e.stateNode},findFiberByHostInstance:Ro.findFiberByHostInstance||O6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eu.isDisabled&&eu.supportsFiber)try{cf=eu.inject(T6),ln=eu}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C6;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gy(t))throw Error(Y(200));return A6(e,t,null,r)};mr.createRoot=function(e,t){if(!gy(e))throw Error(Y(299));var r=!1,n="",i=pk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=hy(e,1,!1,null,null,r,!1,n,i),e[Dn]=t.current,Cl(e.nodeType===8?e.parentNode:e),new py(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Y(188)):(e=Object.keys(e).join(","),Error(Y(268,e)));return e=L_(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return js(e)};mr.hydrate=function(e,t,r){if(!jf(t))throw Error(Y(200));return Nf(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!gy(e))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=pk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=mk(t,null,e,1,r??null,i,!1,s,a),e[Dn]=t.current,Cl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new wf(t)};mr.render=function(e,t,r){if(!jf(t))throw Error(Y(200));return Nf(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!jf(e))throw Error(Y(40));return e._reactRootContainer?(js(function(){Nf(null,null,e,!1,function(){e._reactRootContainer=null,e[Dn]=null})}),!0):!1};mr.unstable_batchedUpdates=cy;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!jf(r))throw Error(Y(200));if(e==null||e._reactInternals===void 0)throw Error(Y(38));return Nf(e,t,r,!1,n)};mr.version="18.3.1-next-f1338f8080-20240426";function gk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gk)}catch(e){console.error(e)}}gk(),g_.exports=mr;var yk=g_.exports,vk,bw=yk;vk=bw.createRoot,bw.hydrateRoot;const M6="modulepreload",D6=function(e){return"/"+e},ww={},uc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=D6(c),c in ww)return;ww[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":M6,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},R6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uc(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class yy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class $6 extends yy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jw extends yy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Nw extends yy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var eg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(eg||(eg={}));var L6=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class I6{constructor(t,{headers:r={},customFetch:n,region:i=eg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=R6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return L6(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new $6(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new jw(f);if(!f.ok)throw new Nw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Nw||i instanceof jw?i.context:void 0}}})}}var Kt={},vy={},Sf={},dc={},_f={},Pf={},B6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ra=B6();const F6=Ra.fetch,xk=Ra.fetch.bind(Ra),bk=Ra.Headers,z6=Ra.Request,U6=Ra.Response,io=Object.freeze(Object.defineProperty({__proto__:null,Headers:bk,Request:z6,Response:U6,default:xk,fetch:F6},Symbol.toStringTag,{value:"Module"})),W6=aD(io);var kf={};Object.defineProperty(kf,"__esModule",{value:!0});let V6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};kf.default=V6;var wk=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pf,"__esModule",{value:!0});const K6=wk(W6),H6=wk(kf);let q6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=K6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await s.text();try{u=JSON.parse(b),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&b===""?(h=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new H6.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Pf.default=q6;var G6=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const Y6=G6(Pf);let X6=class extends Y6.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};_f.default=X6;var J6=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(dc,"__esModule",{value:!0});const Q6=J6(_f);let Z6=class extends Q6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};dc.default=Z6;var e$=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Sf,"__esModule",{value:!0});const $o=e$(dc);let t$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new $o.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new $o.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new $o.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new $o.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new $o.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Sf.default=t$;var Af={},Of={};Object.defineProperty(Of,"__esModule",{value:!0});Of.version=void 0;Of.version="0.0.0-automated";Object.defineProperty(Af,"__esModule",{value:!0});Af.DEFAULT_HEADERS=void 0;const r$=Of;Af.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${r$.version}`};var jk=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vy,"__esModule",{value:!0});const n$=jk(Sf),i$=jk(dc),s$=Af;let a$=class Nk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},s$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new n$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Nk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new i$.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};vy.default=a$;var so=Or&&Or.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const Sk=so(vy);Kt.PostgrestClient=Sk.default;const _k=so(Sf);Kt.PostgrestQueryBuilder=_k.default;const Pk=so(dc);Kt.PostgrestFilterBuilder=Pk.default;const kk=so(_f);Kt.PostgrestTransformBuilder=kk.default;const Ak=so(Pf);Kt.PostgrestBuilder=Ak.default;const Ok=so(kf);Kt.PostgrestError=Ok.default;var o$=Kt.default={PostgrestClient:Sk.default,PostgrestQueryBuilder:_k.default,PostgrestFilterBuilder:Pk.default,PostgrestTransformBuilder:kk.default,PostgrestBuilder:Ak.default,PostgrestError:Ok.default};const{PostgrestClient:l$,PostgrestQueryBuilder:Ete,PostgrestFilterBuilder:Cte,PostgrestTransformBuilder:Tte,PostgrestBuilder:Mte,PostgrestError:Dte}=o$;function c$(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const u$=c$(),d$="2.11.15",f$=`realtime-js/${d$}`,h$="1.0.0",Ek=1e4,m$=1e3;var fl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(fl||(fl={}));var St;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(St||(St={}));var Wr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Wr||(Wr={}));var tg;(function(e){e.websocket="websocket"})(tg||(tg={}));var Qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qi||(Qi={}));class p${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ck{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const Sw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=g$(a,e,t,i),s),{})},g$=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?Tk(s,a):rg(a)},Tk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return b$(t,r)}switch(e){case ke.bool:return y$(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return v$(t);case ke.json:case ke.jsonb:return x$(t);case ke.timestamp:return w$(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return rg(t);default:return rg(t)}},rg=e=>e,y$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},v$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},x$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},b$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>Tk(t,l))}return e},w$=e=>typeof e=="string"?e.replace(" ","T"):e,Mk=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class fm{constructor(t,r,n={},i=Ek){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var _w;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(_w||(_w={}));class hl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=hl.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=hl.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=hl.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Pw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Pw||(Pw={}));var kw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(kw||(kw={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class xy{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=St.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new fm(this,Wr.join,this.params,this.timeout),this.rejoinTimer=new Ck(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=St.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=St.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=St.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new hl(this),this.broadcastEndpointURL=Mk(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==St.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(wn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(wn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let b=0;b<m;b++){const w=h[b],{filter:{event:y,schema:v,table:x,filter:N}}=w,j=d&&d[b];if(j&&j.event===y&&j.schema===v&&j.table===x&&j.filter===N)p.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=St.errored,t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(wn.SUBSCRIBED);return}}).receive("error",d=>{this.state=St.errored,t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=St.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new fm(this,Wr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new fm(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Wr;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,b,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var p,b,w,y,v,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const N=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return N&&((b=r.ids)===null||b===void 0?void 0:b.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const N=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return N==="*"||N===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:b,table:w,commit_timestamp:y,type:v,errors:x}=p;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:y,eventType:v,new:{},old:{},errors:x}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===St.closed}_isJoined(){return this.state===St.joined}_isJoining(){return this.state===St.joining}_isLeaving(){return this.state===St.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&xy.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wr.close,{},t)}_onError(t){this._on(Wr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=St.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Sw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Sw(t.columns,t.old_record)),r}}const Aw=()=>{},j$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class N${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ek,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Aw,this.ref=0,this.logger=Aw,this.conn=null,this.sendBuffer=[],this.serializer=new p$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>uc(async()=>{const{default:c}=await Promise.resolve().then(()=>io);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${tg.websocket}`,this.httpEndpoint=Mk(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ck(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=u$),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case fl.connecting:return Qi.Connecting;case fl.open:return Qi.Open;case fl.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new xy(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:f$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Wr.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(m$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([j$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class by extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ut(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class S$ extends by{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ng extends by{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var _$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Dk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uc(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},P$=()=>_$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield uc(()=>Promise.resolve().then(()=>io),void 0)).Response:Response}),ig=e=>{if(Array.isArray(e))return e.map(r=>ig(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=ig(n)}),t},k$=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Es=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const hm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),A$=(e,t,r)=>Es(void 0,void 0,void 0,function*(){const n=yield P$();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new S$(hm(i),s,a))}).catch(i=>{t(new ng(hm(i),i))}):t(new ng(hm(e),e))}),O$=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(k$(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function fc(e,t,r,n,i,s){return Es(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,O$(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>A$(c,l,n))})})}function md(e,t,r,n){return Es(this,void 0,void 0,function*(){return fc(e,"GET",t,r,n)})}function jn(e,t,r,n,i){return Es(this,void 0,void 0,function*(){return fc(e,"POST",t,n,i,r)})}function sg(e,t,r,n,i){return Es(this,void 0,void 0,function*(){return fc(e,"PUT",t,n,i,r)})}function E$(e,t,r,n){return Es(this,void 0,void 0,function*(){return fc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Rk(e,t,r,n,i){return Es(this,void 0,void 0,function*(){return fc(e,"DELETE",t,n,i,r)})}var zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const C$={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ow={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class T${constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Dk(i)}uploadOrUpdate(t,r,n,i){return zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Ow),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?sg:jn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(ut(s))return{data:null,error:s};throw s}})}upload(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ow.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield sg(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(ut(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield jn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new by("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}update(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}copy(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield jn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return zt(this,void 0,void 0,function*(){try{const i=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}download(t,r){return zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield md(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ut(l))return{data:null,error:l};throw l}})}info(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield md(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ig(n),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}exists(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield E$(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ut(n)&&n instanceof ng){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return zt(this,void 0,void 0,function*(){try{return{data:yield Rk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}list(t,r,n){return zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},C$),r),{prefix:t||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ut(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const M$="2.10.4",D$={"X-Client-Info":`storage-js/${M$}`};var Fs=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class R${constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},D$),r),this.fetch=Dk(n)}listBuckets(){return Fs(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ut(t))return{data:null,error:t};throw t}})}getBucket(t){return Fs(this,void 0,void 0,function*(){try{return{data:yield md(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Fs(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Fs(this,void 0,void 0,function*(){try{return{data:yield sg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ut(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Fs(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Fs(this,void 0,void 0,function*(){try{return{data:yield Rk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ut(r))return{data:null,error:r};throw r}})}}class $$ extends R${constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new T$(this.url,this.headers,t,this.fetch)}}const L$="2.53.0";let Qo="";typeof Deno<"u"?Qo="deno":typeof document<"u"?Qo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qo="react-native":Qo="node";const I$={"X-Client-Info":`supabase-js-${Qo}/${L$}`},B$={headers:I$},F$={schema:"public"},z$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},U$={};var W$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const V$=e=>{let t;return e?t=e:typeof fetch>"u"?t=xk:t=fetch,(...r)=>t(...r)},K$=()=>typeof Headers>"u"?bk:Headers,H$=(e,t,r)=>{const n=V$(r),i=K$();return(s,a)=>W$(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var q$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function G$(e){return e.endsWith("/")?e:e+"/"}function Y$(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>q$(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const $k="2.71.1",qs=30*1e3,ag=3,mm=ag*qs,X$="http://localhost:9999",J$="supabase.auth.token",Q$={"X-Client-Info":`gotrue-js/${$k}`},og="X-Supabase-Api-Version",Lk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Z$=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eL=10*60*1e3;class wy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tL extends wy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function rL(e){return ue(e)&&e.name==="AuthApiError"}class Ik extends wy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Mi extends wy{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ri extends Mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nL(e){return ue(e)&&e.name==="AuthSessionMissingError"}class tu extends Mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ru extends Mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class nu extends Mi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function iL(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ew extends Mi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lg extends Mi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function pm(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class Cw extends Mi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class cg extends Mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Tw=` 	
\r=`.split(""),sL=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Tw.length;t+=1)e[Tw[t].charCodeAt(0)]=-2;for(let t=0;t<pd.length;t+=1)e[pd[t].charCodeAt(0)]=t;return e})();function Mw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(pd[n]),t.queuedBits-=6}}function Bk(e,t,r){const n=sL[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dw(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{lL(a,n,r)};for(let a=0;a<e.length;a+=1)Bk(e.charCodeAt(a),i,s);return t.join("")}function aL(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function oL(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}aL(n,t)}}function lL(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function cL(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Bk(e.charCodeAt(i),r,n);return new Uint8Array(t)}function uL(e){const t=[];return oL(e,r=>t.push(r)),new Uint8Array(t)}function dL(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Mw(i,r,n)),Mw(null,r,n),t.join("")}function fL(e){return Math.round(Date.now()/1e3)+e}function hL(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Br=()=>typeof window<"u"&&typeof document<"u",Ui={tested:!1,writable:!1},Fk=()=>{if(!Br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ui.tested)return Ui.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ui.tested=!0,Ui.writable=!0}catch{Ui.tested=!0,Ui.writable=!1}return Ui.writable};function mL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const zk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>uc(async()=>{const{default:n}=await Promise.resolve().then(()=>io);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},pL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Gs=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zn=async(e,t)=>{await e.removeItem(t)};class Ef{constructor(){this.promise=new Ef.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ef.promiseConstructor=Promise;function gm(e){const t=e.split(".");if(t.length!==3)throw new cg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Z$.test(t[n]))throw new cg("JWT not in base64url format");return{header:JSON.parse(Dw(t[0])),payload:JSON.parse(Dw(t[1])),signature:cL(t[2]),raw:{header:t[0],payload:t[1]}}}async function gL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function yL(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function vL(e){return("0"+e.toString(16)).substr(-2)}function xL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,vL).join("")}async function bL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function wL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await bL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zs(e,t,r=!1){const n=xL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Gs(e,`${t}-code-verifier`,i);const s=await wL(n);return[s,n===s?"plain":"s256"]}const jL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function NL(e){const t=e.headers.get(og);if(!t||!t.match(jL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function SL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _L(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const PL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Us(e){if(!PL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ym(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Rw(e){return JSON.parse(JSON.stringify(e))}var kL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AL=[502,503,504];async function $w(e){var t;if(!pL(e))throw new lg(qi(e),0);if(AL.includes(e.status))throw new lg(qi(e),e.status);let r;try{r=await e.json()}catch(s){throw new Ik(qi(s),s)}let n;const i=NL(e);if(i&&i.getTime()>=Lk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cw(qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ri}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Cw(qi(r),e.status,r.weak_password.reasons);throw new tL(qi(r),e.status||500,n)}const OL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function fe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[og]||(s[og]=Lk["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await EL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function EL(e,t,r,n,i,s){const a=OL(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new lg(qi(c),0)}if(l.ok||await $w(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await $w(c)}}function xn(e){var t;let r=null;DL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=fL(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Lw(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ui(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function CL(e){return{data:e,error:null}}function TL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=kL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function ML(e){return e}function DL(e){return e.access_token&&e.refresh_token&&e.expires_in}const vm=["global","local","others"];var RL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class $L{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=zk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=vm[0]){if(vm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vm.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ui})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=RL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:TL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ui})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ML});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Us(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ui})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Us(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ui})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Us(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ui})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Us(t.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Us(t.userId),Us(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Iw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function LL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ws={debug:!!(globalThis&&Fk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class IL extends Uk{}async function BL(e,t,r){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Ws.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new IL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ws.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}LL();const FL={url:X$,storageKey:J$,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Q$,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bw(e,t,r){return await r()}const Vs={};class Fl{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Fl.nextInstanceID,Fl.nextInstanceID+=1,this.instanceID>0&&Br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},FL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new $L({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=zk(i.fetch),this.lock=i.lock||Bw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Br()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=BL:this.lock=Bw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Fk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Iw(this.memoryStorage)),Br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Vs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Vs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Vs[this.storageKey]=Object.assign(Object.assign({},Vs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${$k}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=mL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Br()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),iL(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new Ik("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:xn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await zs(this.storage,this.storageKey)),s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:xn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xn})}else throw new ru("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lw})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Lw})}else throw new ru("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new tu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:w,wallet:y,statement:v,options:x}=t;let N;if(Br())if(typeof y=="object")N=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=y}const j=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)p=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),b=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((f=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...x.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:w,error:y}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:dL(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xn});if(y)throw y;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new tu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:y})}catch(w){if(ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xn});if(await Zn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new tu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new tu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zs(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ru("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:xn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await zs(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:CL})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ri;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new ru("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Wi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ym()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ui}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ui})})}catch(r){if(ue(r))return nL(r)&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new ri;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await zs(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ui});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ri;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=gm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ri;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Br())throw new nu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new nu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ew("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new nu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ew("No code detected.");const{data:v,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new nu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=qs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const y={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(rL(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Zn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=hL(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await zs(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Br()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ue(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await yL(async i=>(i>0&&await gL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&pm(s)&&Date.now()+a-n<qs})}catch(n){if(this._debug(r,"error",n),ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Br()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Wi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Gs(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ym()}else if(i&&!i.user&&!i.user){const a=await Wi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Zn(this.storage,this.storageKey+"-user"),await Gs(this.storage,this.storageKey,i)):i.user=ym()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${mm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),pm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ef;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ri;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ue(s)){const a={session:null,error:s};return pm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gs(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Rw(i);await Gs(this.storage,this.storageKey,s)}else{const i=Rw(r);await Gs(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Zn(this.storage,this.storageKey),await Zn(this.storage,this.storageKey+"-code-verifier"),await Zn(this.storage,this.storageKey+"-user"),this.userStorage&&await Zn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/qs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qs}ms, refresh threshold is ${ag} ticks`),i<=ag&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Uk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await zs(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=gm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+eL>i)return n;const{data:s,error:a}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=gm(n);r!=null&&r.allowExpired||SL(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=_L(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,uL(`${l}.${c}`)))throw new cg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}Fl.nextInstanceID=0;const zL=Fl;class UL extends zL{constructor(t){super(t)}}var WL=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class VL{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=G$(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:F$,realtime:U$,auth:Object.assign(Object.assign({},z$),{storageKey:u}),global:B$},f=Y$(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=H$(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new l$(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new $$(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new I6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return WL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new UL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new N$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const KL=(e,t,r)=>new VL(e,t,r);function HL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}HL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const qL="https://eymxpphofhhfeuvaqfad.supabase.co",GL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",J=KL(qL,GL),Wk=g.createContext(void 0);function YL({children:e}){const[t,r]=g.useState(null),[n,i]=g.useState(!1);g.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await J.auth.getSession();if(u!=null&&u.user){const{data:d}=await J.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await J.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:p}=await J.auth.signInWithPassword({email:h.email,password:u});return p?(console.error("❌ SUPABASE AUTH ERROR:",p.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,p,b;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await J.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:y,error:v}=await J.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error("❌ SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=y.user)==null?void 0:h.id,email:(m=y.user)==null?void 0:m.email,email_confirmed:(p=y.user)==null?void 0:p.email_confirmed_at,user_metadata:(b=y.user)==null?void 0:b.user_metadata}),y.user){const{error:x}=await J.from("profiles").insert({id:y.user.id,username:c,email:u,role:f});x?console.error("❌ PROFILE CREATION ERROR:",x.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await J.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),setTimeout(()=>window.location.reload(),500)}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),setTimeout(()=>window.location.reload(),500)}};return o.jsx(Wk.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function er(){const e=g.useContext(Wk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const Vk=g.createContext(void 0);function XL({children:e}){const[t,r]=g.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(Vk.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Cs(){const e=g.useContext(Vk);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,...JL,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${QL(e)}`,l].join(" "),...u},[...t.map(([f,h])=>g.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=ce("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tI=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=ce("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=ce("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function fI({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=g.useState(""),[i,s]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[p,b]=g.useState(""),[w,y]=g.useState(!1),[v,x]=g.useState(!1),{signup:N}=er(),j=async S=>{if(S.preventDefault(),y(!0),b(""),x(!1),a!==c){b("Passwords do not match."),y(!1);return}if(a.length<6){b("Password must be at least 6 characters long."),y(!1);return}if(r.trim().length<3){b("Username must be at least 3 characters long."),y(!1);return}if(!i.trim()||!i.includes("@")){b("Please enter a valid email address."),y(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){b("Username can only contain letters, numbers, hyphens, and underscores."),y(!1);return}await N(r.trim(),i.trim(),a,"user")?x(!0):b("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),y(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-space-grotesk",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"primary-button w-full",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(jy,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:S=>n(S.target.value),className:"input-field w-full",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:S=>s(S.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:S=>l(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?o.jsx(gd,{size:20}):o.jsx(un,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:S=>u(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h?o.jsx(gd,{size:20}):o.jsx(un,{size:20})})]})]}),p&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md font-inter",children:p}),o.jsx("button",{type:"submit",disabled:w,className:"primary-button w-full disabled:opacity-50",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"secondary-button w-full",children:"Back to Login"})})]})}function Jk({onLoginSuccess:e}){const[t,r]=g.useState(""),[n,i]=g.useState(""),[s,a]=g.useState(!1),[l,c]=g.useState(""),[u,d]=g.useState(!1),[f,h]=g.useState("login"),[m,p]=g.useState(!1),[b,w]=g.useState(""),[y,v]=g.useState(!1),[x,N]=g.useState(""),{login:j}=er(),S=async _=>{_.preventDefault(),d(!0),c(""),await j(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async _=>{_.preventDefault(),v(!0),N("");try{const{error:A}=await J.auth.resetPasswordForEmail(b,{redirectTo:"https://obcportal.netlify.app/reset-password"});if(A)throw A;N("Password reset email sent! Check your inbox for further instructions.")}catch(A){N(`Error: ${A.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(fI,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(jy,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:b,onChange:_=>w(_.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),x&&o.jsx("div",{className:`text-sm font-inter text-center p-3 rounded-md ${x.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:x}),o.jsx("button",{type:"submit",disabled:y,className:"primary-button w-full disabled:opacity-50 text-center",children:y?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>p(!1),className:"secondary-button w-full text-center",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:_=>r(_.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:_=>i(_.target.value),className:"input-field w-full pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?o.jsx(gd,{size:20}):o.jsx(un,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-inter",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"primary-button w-full disabled:opacity-50 text-center",children:u?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const hI=[{id:"dashboard",label:"Dashboard",icon:o.jsx(sI,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(tt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"leaderboards",label:"Leaderboards",icon:o.jsx(zl,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(Xr,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(En,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(Zo,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(Je,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(Je,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(Yk,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(Je,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(En,{size:20}),roles:["developer"]}];function mI({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=er(),[a,l]=mi.useState(!1),c=hI.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return g.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),g.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsx("div",{children:o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"})})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(It,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(Hk,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(Kk,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(Jk,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(It,{size:16})})]})})]})]})}const _y=g.createContext({});function oo(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Py=typeof window<"u",Tf=Py?g.useLayoutEffect:g.useEffect,Mf=g.createContext(null);function ky(e,t){e.indexOf(t)===-1&&e.push(t)}function Ay(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const pn=(e,t,r)=>r>t?t:r<e?e:r;let Ia=()=>{};const In={},Qk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Zk(e){return typeof e=="object"&&e!==null}const e2=e=>/^0[^.\s]+$/u.test(e);function Oy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zt=e=>e,pI=(e,t)=>r=>t(e(r)),mc=(...e)=>e.reduce(pI),Ba=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Ey{constructor(){this.subscriptions=[]}add(t){return ky(this.subscriptions,t),()=>Ay(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dn=e=>e*1e3,fn=e=>e/1e3;function Cy(e,t){return t?e*(1e3/t):0}const t2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,gI=1e-7,yI=12;function vI(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=t2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>gI&&++l<yI);return a}function pc(e,t,r,n){if(e===t&&r===n)return Zt;const i=s=>vI(s,0,1,e,r);return s=>s===0||s===1?s:t2(i(s),t,n)}const r2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,n2=e=>t=>1-e(1-t),i2=pc(.33,1.53,.69,.99),Ty=n2(i2),s2=r2(Ty),a2=e=>(e*=2)<1?.5*Ty(e):.5*(2-Math.pow(2,-10*(e-1))),My=e=>1-Math.sin(Math.acos(e)),o2=n2(My),l2=r2(My),xI=pc(.42,0,1,1),bI=pc(0,0,.58,1),c2=pc(.42,0,.58,1),wI=e=>Array.isArray(e)&&typeof e[0]!="number",u2=e=>Array.isArray(e)&&typeof e[0]=="number",Uw={linear:Zt,easeIn:xI,easeInOut:c2,easeOut:bI,circIn:My,circInOut:l2,circOut:o2,backIn:Ty,backInOut:s2,backOut:i2,anticipate:a2},jI=e=>typeof e=="string",Ww=e=>{if(u2(e)){Ia(e.length===4);const[t,r,n,i]=e;return pc(t,r,n,i)}else if(jI(e))return Ia(Uw[e]!==void 0),Uw[e];return e},iu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Vw={value:null,addProjectionMetrics:null};function NI(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const b=m&&i?r:n;return h&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&Vw.value&&Vw.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const SI=40;function d2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=iu.reduce((x,N)=>(x[N]=NI(s,t?N:void 0),x),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,b=()=>{const x=In.useManualTiming?i.timestamp:performance.now();r=!1,In.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(x-i.timestamp,SI),1)),i.timestamp=x,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(b))},w=()=>{r=!0,n=!0,i.isProcessing||e(b)};return{schedule:iu.reduce((x,N)=>{const j=a[N];return x[N]=(S,P=!1,_=!1)=>(r||w(),j.schedule(S,P,_)),x},{}),cancel:x=>{for(let N=0;N<iu.length;N++)a[iu[N]].cancel(x)},state:i,steps:a}}const{schedule:je,cancel:Qr,state:dt,steps:xm}=d2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0);let Lu;function _I(){Lu=void 0}const Gt={now:()=>(Lu===void 0&&Gt.set(dt.isProcessing||In.useManualTiming?dt.timestamp:performance.now()),Lu),set:e=>{Lu=e,queueMicrotask(_I)}},f2=e=>t=>typeof t=="string"&&t.startsWith(e),Dy=f2("--"),PI=f2("var(--"),Ry=e=>PI(e)?kI.test(e.split("/*")[0].trim()):!1,kI=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,lo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ul={...lo,transform:e=>pn(0,1,e)},su={...lo,default:1},ml=e=>Math.round(e*1e5)/1e5,$y=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AI(e){return e==null}const OI=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ly=(e,t)=>r=>!!(typeof r=="string"&&OI.test(r)&&r.startsWith(e)||t&&!AI(r)&&Object.prototype.hasOwnProperty.call(r,t)),h2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match($y);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},EI=e=>pn(0,255,e),bm={...lo,transform:e=>Math.round(EI(e))},rs={test:Ly("rgb","red"),parse:h2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+bm.transform(e)+", "+bm.transform(t)+", "+bm.transform(r)+", "+ml(Ul.transform(n))+")"};function CI(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ug={test:Ly("#"),parse:CI,transform:rs.transform},gc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ni=gc("deg"),hn=gc("%"),le=gc("px"),TI=gc("vh"),MI=gc("vw"),Kw={...hn,parse:e=>hn.parse(e)/100,transform:e=>hn.transform(e*100)},oa={test:Ly("hsl","hue"),parse:h2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+hn.transform(ml(t))+", "+hn.transform(ml(r))+", "+ml(Ul.transform(n))+")"},Ze={test:e=>rs.test(e)||ug.test(e)||oa.test(e),parse:e=>rs.test(e)?rs.parse(e):oa.test(e)?oa.parse(e):ug.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rs.transform(e):oa.transform(e),getAnimatableNone:e=>{const t=Ze.parse(e);return t.alpha=0,Ze.transform(t)}},DI=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RI(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match($y))==null?void 0:t.length)||0)+(((r=e.match(DI))==null?void 0:r.length)||0)>0}const m2="number",p2="color",$I="var",LI="var(",Hw="${}",II=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Wl(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(II,c=>(Ze.test(c)?(n.color.push(s),i.push(p2),r.push(Ze.parse(c))):c.startsWith(LI)?(n.var.push(s),i.push($I),r.push(c)):(n.number.push(s),i.push(m2),r.push(parseFloat(c))),++s,Hw)).split(Hw);return{values:r,split:l,indexes:n,types:i}}function g2(e){return Wl(e).values}function y2(e){const{split:t,types:r}=Wl(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===m2?s+=ml(i[a]):l===p2?s+=Ze.transform(i[a]):s+=i[a]}return s}}const BI=e=>typeof e=="number"?0:Ze.test(e)?Ze.getAnimatableNone(e):e;function FI(e){const t=g2(e);return y2(e)(t.map(BI))}const ki={test:RI,parse:g2,createTransformer:y2,getAnimatableNone:FI};function wm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function zI({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=wm(c,l,e+1/3),s=wm(c,l,e),a=wm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function vd(e,t){return r=>r>0?t:e}const Be=(e,t,r)=>e+(t-e)*r,jm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},UI=[ug,rs,oa],WI=e=>UI.find(t=>t.test(e));function qw(e){const t=WI(e);if(!t)return!1;let r=t.parse(e);return t===oa&&(r=zI(r)),r}const Gw=(e,t)=>{const r=qw(e),n=qw(t);if(!r||!n)return vd(e,t);const i={...r};return s=>(i.red=jm(r.red,n.red,s),i.green=jm(r.green,n.green,s),i.blue=jm(r.blue,n.blue,s),i.alpha=Be(r.alpha,n.alpha,s),rs.transform(i))},dg=new Set(["none","hidden"]);function VI(e,t){return dg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function KI(e,t){return r=>Be(e,t,r)}function Iy(e){return typeof e=="number"?KI:typeof e=="string"?Ry(e)?vd:Ze.test(e)?Gw:GI:Array.isArray(e)?v2:typeof e=="object"?Ze.test(e)?Gw:HI:vd}function v2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>Iy(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function HI(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Iy(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function qI(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const GI=(e,t)=>{const r=ki.createTransformer(t),n=Wl(e),i=Wl(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?dg.has(e)&&!i.values.length||dg.has(t)&&!n.values.length?VI(e,t):mc(v2(qI(n,i),i.values),r):vd(e,t)};function x2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Be(e,t,r):Iy(e)(e,t)}const YI=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>je.update(t,r),stop:()=>Qr(t),now:()=>dt.isProcessing?dt.timestamp:Gt.now()}},b2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},xd=2e4;function By(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<xd;)t+=r,n=e.next(t);return t>=xd?1/0:t}function XI(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(By(n),xd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:fn(i)}}const JI=5;function w2(e,t,r){const n=Math.max(t-JI,0);return Cy(r-e(n),t-n)}const Ke={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nm=.001;function QI({duration:e=Ke.duration,bounce:t=Ke.bounce,velocity:r=Ke.velocity,mass:n=Ke.mass}){let i,s,a=1-t;a=pn(Ke.minDamping,Ke.maxDamping,a),e=pn(Ke.minDuration,Ke.maxDuration,fn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=fg(u,a),p=Math.exp(-f);return Nm-h/m*p},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),b=fg(Math.pow(u,2),a);return(-i(u)+Nm>0?-1:1)*((h-m)*p)/b}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Nm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=e4(i,s,l);if(e=dn(e),isNaN(c))return{stiffness:Ke.stiffness,damping:Ke.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const ZI=12;function e4(e,t,r){let n=r;for(let i=1;i<ZI;i++)n=n-e(n)/t(n);return n}function fg(e,t){return e*Math.sqrt(1-t*t)}const t4=["duration","bounce"],r4=["stiffness","damping","mass"];function Yw(e,t){return t.some(r=>e[r]!==void 0)}function n4(e){let t={velocity:Ke.velocity,stiffness:Ke.stiffness,damping:Ke.damping,mass:Ke.mass,isResolvedFromDuration:!1,...e};if(!Yw(e,r4)&&Yw(e,t4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*pn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ke.mass,stiffness:i,damping:s}}else{const r=QI(e);t={...t,...r,mass:Ke.mass},t.isResolvedFromDuration=!0}return t}function bd(e=Ke.visualDuration,t=Ke.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=n4({...r,velocity:-fn(r.velocity||0)}),p=h||0,b=u/(2*Math.sqrt(c*d)),w=a-s,y=fn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Ke.restSpeed.granular:Ke.restSpeed.default),i||(i=v?Ke.restDelta.granular:Ke.restDelta.default);let x;if(b<1){const j=fg(y,b);x=S=>{const P=Math.exp(-b*y*S);return a-P*((p+b*y*w)/j*Math.sin(j*S)+w*Math.cos(j*S))}}else if(b===1)x=j=>a-Math.exp(-y*j)*(w+(p+y*w)*j);else{const j=y*Math.sqrt(b*b-1);x=S=>{const P=Math.exp(-b*y*S),_=Math.min(j*S,300);return a-P*((p+b*y*w)*Math.sinh(_)+j*w*Math.cosh(_))/j}}const N={calculatedDuration:m&&f||null,next:j=>{const S=x(j);if(m)l.done=j>=f;else{let P=j===0?p:0;b<1&&(P=j===0?dn(p):w2(x,j,S));const _=Math.abs(P)<=n,A=Math.abs(a-S)<=i;l.done=_&&A}return l.value=l.done?a:S,l},toString:()=>{const j=Math.min(By(N),xd),S=b2(P=>N.next(j*P).value,j,30);return j+"ms "+S},toTransition:()=>{}};return N}bd.applyToOptions=e=>{const t=XI(e,100,bd);return e.ease=t.ease,e.duration=dn(t.duration),e.type="keyframes",e};function hg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,p=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let b=r*t;const w=f+b,y=a===void 0?w:a(w);y!==w&&(b=y-f);const v=_=>-b*Math.exp(-_/n),x=_=>y+v(_),N=_=>{const A=v(_),C=x(_);h.done=Math.abs(A)<=u,h.value=h.done?y:C};let j,S;const P=_=>{m(h.value)&&(j=_,S=bd({keyframes:[h.value,p(h.value)],velocity:w2(x,_,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:_=>{let A=!1;return!S&&j===void 0&&(A=!0,N(_),P(_)),j!==void 0&&_>=j?S.next(_-j):(!A&&N(_),h)}}}function i4(e,t,r){const n=[],i=r||In.mix||x2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Zt:t;l=mc(c,l)}n.push(l)}return n}function Fy(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Ia(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=i4(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ba(e[f],e[f+1],d);return l[f](h)};return r?d=>u(pn(e[0],e[s-1],d)):u}function s4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Ba(0,t,n);e.push(Be(r,1,i))}}function j2(e){const t=[0];return s4(t,e.length-1),t}function a4(e,t){return e.map(r=>r*t)}function o4(e,t){return e.map(()=>t||c2).splice(0,e.length-1)}function pl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=wI(n)?n.map(Ww):Ww(n),s={done:!1,value:t[0]},a=a4(r&&r.length===t.length?r:j2(t),e),l=Fy(a,t,{ease:Array.isArray(i)?i:o4(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const l4=e=>e!==null;function zy(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(l4),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const c4={decay:hg,inertia:hg,tween:pl,keyframes:pl,spring:bd};function N2(e){typeof e.type=="string"&&(e.type=c4[e.type])}class Uy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const u4=e=>e/100;class Wy extends Uy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Gt.now()&&this.tick(Gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;N2(t);const{type:r=pl,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||pl;c!==pl&&typeof l[0]!="number"&&(this.mixKeyframes=mc(u4,x2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=By(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let x=this.currentTime,N=n;if(f){const _=Math.min(this.currentTime,i)/l;let A=Math.floor(_),C=_%1;!C&&_>=1&&(C=1),C===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(C=1-C,m&&(C-=m/l)):h==="mirror"&&(N=a)),x=pn(0,1,C)*l}const j=v?{done:!1,value:d[0]}:N.next(x);s&&(j.value=s(j.value));let{done:S}=j;!v&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&p!==hg&&(j.value=zy(d,this.options,w,this.speed)),b&&b(j.value),P&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return fn(this.calculatedDuration)}get time(){return fn(this.currentTime)}set time(t){var r;t=dn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=fn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=YI,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function d4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ns=e=>e*180/Math.PI,mg=e=>{const t=ns(Math.atan2(e[1],e[0]));return pg(t)},f4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:mg,rotateZ:mg,skewX:e=>ns(Math.atan(e[1])),skewY:e=>ns(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},pg=e=>(e=e%360,e<0&&(e+=360),e),Xw=mg,Jw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Qw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),h4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Jw,scaleY:Qw,scale:e=>(Jw(e)+Qw(e))/2,rotateX:e=>pg(ns(Math.atan2(e[6],e[5]))),rotateY:e=>pg(ns(Math.atan2(-e[2],e[0]))),rotateZ:Xw,rotate:Xw,skewX:e=>ns(Math.atan(e[4])),skewY:e=>ns(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function gg(e){return e.includes("scale")?1:0}function yg(e,t){if(!e||e==="none")return gg(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=h4,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=f4,i=l}if(!i)return gg(t);const s=n[t],a=i[1].split(",").map(p4);return typeof s=="function"?s(a):a[s]}const m4=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return yg(r,t)};function p4(e){return parseFloat(e.trim())}const co=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uo=new Set(co),Zw=e=>e===lo||e===le,g4=new Set(["x","y","z"]),y4=co.filter(e=>!g4.has(e));function v4(e){const t=[];return y4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const fs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>yg(t,"x"),y:(e,{transform:t})=>yg(t,"y")};fs.translateX=fs.x;fs.translateY=fs.y;const hs=new Set;let vg=!1,xg=!1,bg=!1;function S2(){if(xg){const e=Array.from(hs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=v4(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}xg=!1,vg=!1,hs.forEach(e=>e.complete(bg)),hs.clear()}function _2(){hs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(xg=!0)})}function x4(){bg=!0,_2(),S2(),bg=!1}class Vy{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(hs.add(this),vg||(vg=!0,je.read(_2),je.resolveKeyframes(S2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}d4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),hs.delete(this)}cancel(){this.state==="scheduled"&&(hs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const b4=e=>e.startsWith("--");function w4(e,t,r){b4(t)?e.style.setProperty(t,r):e.style[t]=r}const P2=Oy(()=>window.ScrollTimeline!==void 0),j4={};function N4(e,t){const r=Oy(e);return()=>j4[t]??r()}const k2=N4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),el=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,e1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:el([0,.65,.55,1]),circOut:el([.55,0,1,.45]),backIn:el([.31,.01,.66,-.59]),backOut:el([.33,1.53,.69,.99])};function A2(e,t){if(e)return typeof e=="function"?k2()?b2(e,t):"ease-out":u2(e)?el(e):Array.isArray(e)?e.map(r=>A2(r,t)||e1.easeOut):e1[e]}function S4(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=A2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function O2(e){return typeof e=="function"&&"applyToOptions"in e}function _4({type:e,...t}){return O2(e)&&k2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class P4 extends Uy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,Ia(typeof t.type!="string");const u=_4(t);this.animation=S4(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=zy(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):w4(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fn(Number(t))}get time(){return fn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&P2()?(this.animation.timeline=t,Zt):r(this)}}const E2={anticipate:a2,backInOut:s2,circInOut:l2};function k4(e){return e in E2}function A4(e){typeof e.ease=="string"&&k4(e.ease)&&(e.ease=E2[e.ease])}const t1=10;class O4 extends P4{constructor(t){A4(t),N2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Wy({...a,autoplay:!1}),c=dn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-t1).value,l.sample(c).value,t1),l.stop()}}const r1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ki.test(e)||e==="0")&&!e.startsWith("url("));function E4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function C4(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=r1(i,t),l=r1(s,t);return!a||!l?!1:E4(e)||(r==="spring"||O2(r))&&n}function wg(e){e.duration=0,e.type}const T4=new Set(["opacity","clipPath","filter","transform"]),M4=Oy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function D4(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return M4()&&r&&T4.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const R4=40;class $4 extends Uy{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Gt.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||Vy;this.keyframeResolver=new m(l,(b,w,y)=>this.onKeyframesResolved(b,w,h,!y),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Gt.now(),C4(t,s,a,l)||((In.instantAnimations||!c)&&(d==null||d(zy(t,n,r))),t[0]=t[t.length-1],wg(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>R4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&D4(h)?new O4({...h,element:h.motionValue.owner.current}):new Wy(h);m.finished.then(()=>this.notifyFinished()).catch(Zt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),x4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const L4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function I4(e){const t=L4.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function C2(e,t,r=1){const[n,i]=I4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return Qk(a)?parseFloat(a):a}return Ry(i)?C2(i,t,r+1):i}function Ky(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const T2=new Set(["width","height","top","left","right","bottom",...co]),B4={test:e=>e==="auto",parse:e=>e},M2=e=>t=>t.test(e),D2=[lo,le,hn,ni,MI,TI,B4],n1=e=>D2.find(M2(e));function F4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||e2(e):!0}const z4=new Set(["brightness","contrast","saturate","opacity"]);function U4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match($y)||[];if(!n)return e;const i=r.replace(n,"");let s=z4.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const W4=/\b([a-z-]*)\(.*?\)/gu,jg={...ki,getAnimatableNone:e=>{const t=e.match(W4);return t?t.map(U4).join(" "):e}},i1={...lo,transform:Math.round},V4={rotate:ni,rotateX:ni,rotateY:ni,rotateZ:ni,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:ni,skewX:ni,skewY:ni,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:Ul,originX:Kw,originY:Kw,originZ:le},Hy={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...V4,zIndex:i1,fillOpacity:Ul,strokeOpacity:Ul,numOctaves:i1},K4={...Hy,color:Ze,backgroundColor:Ze,outlineColor:Ze,fill:Ze,stroke:Ze,borderColor:Ze,borderTopColor:Ze,borderRightColor:Ze,borderBottomColor:Ze,borderLeftColor:Ze,filter:jg,WebkitFilter:jg},R2=e=>K4[e];function $2(e,t){let r=R2(e);return r!==jg&&(r=ki),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const H4=new Set(["auto","none","0"]);function q4(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!H4.has(s)&&Wl(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=$2(r,i)}class G4 extends Vy{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Ry(u))){const d=C2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!T2.has(n)||t.length!==2)return;const[i,s]=t,a=n1(i),l=n1(s);if(a!==l)if(Zw(a)&&Zw(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else fs[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||F4(t[i]))&&n.push(i);n.length&&q4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=fs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=fs[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function L2(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const I2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qy(e){return Zk(e)&&"offsetHeight"in e}const s1=30,Y4=e=>!isNaN(parseFloat(e)),gl={current:void 0};class X4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=Gt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Y4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Ey);const n=this.events[t].add(r);return t==="change"?()=>{n(),je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return gl.current&&gl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,s1);return Cy(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qr(e,t){return new X4(e,t)}const{schedule:Gy,cancel:Rte}=d2(queueMicrotask,!1),Fr={x:!1,y:!1};function B2(){return Fr.x||Fr.y}function J4(e){return e==="x"||e==="y"?Fr[e]?null:(Fr[e]=!0,()=>{Fr[e]=!1}):Fr.x||Fr.y?null:(Fr.x=Fr.y=!0,()=>{Fr.x=Fr.y=!1})}function F2(e,t){const r=L2(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function a1(e){return!(e.pointerType==="touch"||B2())}function Q4(e,t,r={}){const[n,i,s]=F2(e,r),a=l=>{if(!a1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{a1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const z2=(e,t)=>t?e===t?!0:z2(e,t.parentElement):!1,Yy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Z4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function e3(e){return Z4.has(e.tagName)||e.tabIndex!==-1}const Iu=new WeakSet;function o1(e){return t=>{t.key==="Enter"&&e(t)}}function Sm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const t3=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=o1(()=>{if(Iu.has(r))return;Sm(r,"down");const i=o1(()=>{Sm(r,"up")}),s=()=>Sm(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function l1(e){return Yy(e)&&!B2()}function r3(e,t,r={}){const[n,i,s]=F2(e,r),a=l=>{const c=l.currentTarget;if(!l1(l))return;Iu.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Iu.has(c)&&Iu.delete(c),l1(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||z2(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),qy(l)&&(l.addEventListener("focus",u=>t3(u,i)),!e3(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function Xy(e){return Zk(e)&&"ownerSVGElement"in e}const Bu=new WeakMap;let ii;const U2=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:Xy(n)&&"getBBox"in n?n.getBBox()[t]:n[r],n3=U2("inline","width","offsetWidth"),i3=U2("block","height","offsetHeight");function s3({target:e,borderBoxSize:t}){var r;(r=Bu.get(e))==null||r.forEach(n=>{n(e,{get width(){return n3(e,t)},get height(){return i3(e,t)}})})}function a3(e){e.forEach(s3)}function o3(){typeof ResizeObserver>"u"||(ii=new ResizeObserver(a3))}function l3(e,t){ii||o3();const r=L2(e);return r.forEach(n=>{let i=Bu.get(n);i||(i=new Set,Bu.set(n,i)),i.add(t),ii==null||ii.observe(n)}),()=>{r.forEach(n=>{const i=Bu.get(n);i==null||i.delete(t),i!=null&&i.size||ii==null||ii.unobserve(n)})}}const Fu=new Set;let la;function c3(){la=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Fu.forEach(t=>t(e))},window.addEventListener("resize",la)}function u3(e){return Fu.add(e),la||c3(),()=>{Fu.delete(e),!Fu.size&&typeof la=="function"&&(window.removeEventListener("resize",la),la=void 0)}}function d3(e,t){return typeof e=="function"?u3(e):l3(e,t)}function W2(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return je.preUpdate(n,!0),()=>Qr(n)}function f3(e){return Xy(e)&&e.tagName==="svg"}function h3(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=Fy(i,s,a);return t?l(n):l}const Ot=e=>!!(e&&e.getVelocity),m3=[...D2,Ze,ki],p3=e=>m3.find(M2(e)),Df=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class g3 extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=qy(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function y3({children:e,isPresent:t,anchorX:r,root:n}){const i=g.useId(),s=g.useRef(null),a=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(Df);return g.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");l&&(p.nonce=l);const b=n??document.head;return b.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.contains(p)&&b.removeChild(p)}},[t]),o.jsx(g3,{isPresent:t,childRef:s,sizeRef:a,children:g.cloneElement(e,{ref:s})})}const v3=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=oo(x3),d=g.useId();let f=!0,h=g.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),g.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(y3,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Mf.Provider,{value:h,children:e})};function x3(){return new Map}function V2(e=!0){const t=g.useContext(Mf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=g.useId();g.useEffect(()=>{if(e)return i(s)},[e]);const a=g.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const au=e=>e.key||"";function c1(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const ou=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=V2(a),f=g.useMemo(()=>c1(e),[e]),h=a&&!u?[]:f.map(au),m=g.useRef(!0),p=g.useRef(f),b=oo(()=>new Map),[w,y]=g.useState(f),[v,x]=g.useState(f);Tf(()=>{m.current=!1,p.current=f;for(let S=0;S<v.length;S++){const P=au(v[S]);h.includes(P)?b.delete(P):b.get(P)!==!0&&b.set(P,!1)}},[v,h.length,h.join("-")]);const N=[];if(f!==w){let S=[...f];for(let P=0;P<v.length;P++){const _=v[P],A=au(_);h.includes(A)||(S.splice(P,0,_),N.push(_))}return s==="wait"&&N.length&&(S=N),x(c1(S)),y(f),null}const{forceRender:j}=g.useContext(_y);return o.jsx(o.Fragment,{children:v.map(S=>{const P=au(S),_=a&&!u?!1:f===v||h.includes(P),A=()=>{if(b.has(P))b.set(P,!0);else return;let C=!0;b.forEach(O=>{O||(C=!1)}),C&&(j==null||j(),x(p.current),a&&(d==null||d()),n&&n())};return o.jsx(v3,{isPresent:_,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:_?void 0:A,anchorX:l,children:S},P)})})},K2=g.createContext({strict:!1}),u1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fa={};for(const e in u1)Fa[e]={isEnabled:t=>u1[e].some(r=>!!t[r])};function b3(e){for(const t in e)Fa[t]={...Fa[t],...e[t]}}const w3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function wd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||w3.has(e)}let H2=e=>!wd(e);function j3(e){typeof e=="function"&&(H2=t=>t.startsWith("on")?!wd(t):e(t))}try{j3(require("@emotion/is-prop-valid").default)}catch{}function N3(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(H2(i)||r===!0&&wd(i)||!t&&!wd(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Rf=g.createContext({});function $f(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Vl(e){return typeof e=="string"||Array.isArray(e)}const Jy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Qy=["initial",...Jy];function Lf(e){return $f(e.animate)||Qy.some(t=>Vl(e[t]))}function q2(e){return!!(Lf(e)||e.variants)}function S3(e,t){if(Lf(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Vl(r)?r:void 0,animate:Vl(n)?n:void 0}}return e.inherit!==!1?t:{}}function _3(e){const{initial:t,animate:r}=S3(e,g.useContext(Rf));return g.useMemo(()=>({initial:t,animate:r}),[d1(t),d1(r)])}function d1(e){return Array.isArray(e)?e.join(" "):e}const Kl={};function P3(e){for(const t in e)Kl[t]=e[t],Dy(t)&&(Kl[t].isCSSVariable=!0)}function G2(e,{layout:t,layoutId:r}){return uo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Kl[e]||e==="opacity")}const k3={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},A3=co.length;function O3(e,t,r){let n="",i=!0;for(let s=0;s<A3;s++){const a=co[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=I2(l,Hy[a]);if(!c){i=!1;const d=k3[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Zy(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(uo.has(c)){a=!0;continue}else if(Dy(c)){i[c]=u;continue}else{const d=I2(u,Hy[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=O3(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const ev=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Y2(e,t,r){for(const n in t)!Ot(t[n])&&!G2(n,r)&&(e[n]=t[n])}function E3({transformTemplate:e},t){return g.useMemo(()=>{const r=ev();return Zy(r,t,e),Object.assign({},r.vars,r.style)},[t])}function C3(e,t){const r=e.style||{},n={};return Y2(n,r,e),Object.assign(n,E3(e,t)),n}function T3(e,t){const r={},n=C3(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const M3={offset:"stroke-dashoffset",array:"stroke-dasharray"},D3={offset:"strokeDashoffset",array:"strokeDasharray"};function R3(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?M3:D3;e[s.offset]=le.transform(-n);const a=le.transform(t),l=le.transform(r);e[s.array]=`${a} ${l}`}function X2(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(Zy(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&R3(f,i,s,a,!1)}const J2=()=>({...ev(),attrs:{}}),Q2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function $3(e,t,r,n){const i=g.useMemo(()=>{const s=J2();return X2(s,t,Q2(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};Y2(s,e.style,e),i.style={...s,...i.style}}return i}const L3=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tv(e){return typeof e!="string"||e.includes("-")?!1:!!(L3.indexOf(e)>-1||/[A-Z]/u.test(e))}function I3(e,t,r,{latestValues:n},i,s=!1){const l=(tv(e)?$3:T3)(t,n,i,e),c=N3(t,typeof e=="string",s),u=e!==g.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=g.useMemo(()=>Ot(d)?d.get():d,[d]);return g.createElement(e,{...u,children:f})}function f1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function rv(e,t,r,n){if(typeof t=="function"){const[i,s]=f1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=f1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function zu(e){return Ot(e)?e.get():e}function B3({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:F3(r,n,i,e),renderState:t()}}function F3(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=zu(s[h]);let{initial:a,animate:l}=e;const c=Lf(e),u=q2(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!$f(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=rv(e,h[m]);if(p){const{transitionEnd:b,transition:w,...y}=p;for(const v in y){let x=y[v];if(Array.isArray(x)){const N=d?x.length-1:0;x=x[N]}x!==null&&(i[v]=x)}for(const v in b)i[v]=b[v]}}}return i}const Z2=e=>(t,r)=>{const n=g.useContext(Rf),i=g.useContext(Mf),s=()=>B3(e,t,n,i);return r?s():oo(s)};function nv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(Ot(n[a])||t.style&&Ot(t.style[a])||G2(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const z3=Z2({scrapeMotionValuesFromProps:nv,createRenderState:ev});function eA(e,t,r){const n=nv(e,t,r);for(const i in e)if(Ot(e[i])||Ot(t[i])){const s=co.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const U3=Z2({scrapeMotionValuesFromProps:eA,createRenderState:J2}),W3=Symbol.for("motionComponentSymbol");function ca(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function V3(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):ca(r)&&(r.current=n))},[t])}const iv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),K3="framerAppearId",tA="data-"+iv(K3),rA=g.createContext({});function H3(e,t,r,n,i){var b,w;const{visualElement:s}=g.useContext(Rf),a=g.useContext(K2),l=g.useContext(Mf),c=g.useContext(Df).reducedMotion,u=g.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=g.useContext(rA);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&q3(u.current,r,i,f);const h=g.useRef(!1);g.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[tA],p=g.useRef(!!m&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Tf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function q3(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:nA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&ca(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function nA(e){if(e)return e.options.allowProjection!==!1?e.projection:nA(e.parent)}function _m(e,{forwardMotionProps:t=!1}={},r,n){r&&b3(r);const i=tv(e)?U3:z3;function s(l,c){let u;const d={...g.useContext(Df),...l,layoutId:G3(l)},{isStatic:f}=d,h=_3(l),m=i(l,f);if(!f&&Py){Y3();const p=X3(d);u=p.MeasureLayout,h.visualElement=H3(e,m,d,n,p.ProjectionNode)}return o.jsxs(Rf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,I3(e,l,V3(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=g.forwardRef(s);return a[W3]=e,a}function G3({layoutId:e}){const t=g.useContext(_y).id;return t&&e!==void 0?t+"-"+e:e}function Y3(e,t){g.useContext(K2).strict}function X3(e){const{drag:t,layout:r}=Fa;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function J3(e,t){if(typeof Proxy>"u")return _m;const r=new Map,n=(s,a)=>_m(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,_m(a,void 0,e,t)),r.get(a))})}function iA({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function Q3({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Z3(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Pm(e){return e===void 0||e===1}function Ng({scale:e,scaleX:t,scaleY:r}){return!Pm(e)||!Pm(t)||!Pm(r)}function Gi(e){return Ng(e)||sA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function sA(e){return h1(e.x)||h1(e.y)}function h1(e){return e&&e!=="0%"}function jd(e,t,r){const n=e-r,i=t*n;return r+i}function m1(e,t,r,n,i){return i!==void 0&&(e=jd(e,i,n)),jd(e,r,n)+t}function Sg(e,t=0,r=1,n,i){e.min=m1(e.min,t,r,n,i),e.max=m1(e.max,t,r,n,i)}function aA(e,{x:t,y:r}){Sg(e.x,t.translate,t.scale,t.originPoint),Sg(e.y,r.translate,r.scale,r.originPoint)}const p1=.999999999999,g1=1.0000000000001;function e5(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&da(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,aA(e,a)),n&&Gi(s.latestValues)&&da(e,s.latestValues))}t.x<g1&&t.x>p1&&(t.x=1),t.y<g1&&t.y>p1&&(t.y=1)}function ua(e,t){e.min=e.min+t,e.max=e.max+t}function y1(e,t,r,n,i=.5){const s=Be(e.min,e.max,i);Sg(e,t,r,s,n)}function da(e,t){y1(e.x,t.x,t.scaleX,t.scale,t.originX),y1(e.y,t.y,t.scaleY,t.scale,t.originY)}function oA(e,t){return iA(Z3(e.getBoundingClientRect(),t))}function t5(e,t,r){const n=oA(e,r),{scroll:i}=t;return i&&(ua(n.x,i.offset.x),ua(n.y,i.offset.y)),n}const v1=()=>({translate:0,scale:1,origin:0,originPoint:0}),fa=()=>({x:v1(),y:v1()}),x1=()=>({min:0,max:0}),Ye=()=>({x:x1(),y:x1()}),_g={current:null},lA={current:!1};function r5(){if(lA.current=!0,!!Py)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>_g.current=e.matches;e.addEventListener("change",t),t()}else _g.current=!1}const n5=new WeakMap;function i5(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Ot(i))e.addValue(n,i);else if(Ot(s))e.addValue(n,qr(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,qr(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const b1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s5{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,je.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Lf(r),this.isVariantNode=q2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Ot(m)&&m.set(c[h])}}mount(t){var r;this.current=t,n5.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),lA.current||r5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_g.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Qr(this.notifyUpdate),Qr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=uo.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fa){const r=Fa[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ye()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<b1.length;n++){const i=b1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=i5(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=qr(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Qk(n)||e2(n))?n=parseFloat(n):!p3(n)&&ki.test(r)&&(n=$2(t,r)),this.setBaseTarget(t,Ot(n)?n.get():n)),Ot(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=rv(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Ot(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Ey),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Gy.render(this.render)}}class cA extends s5{constructor(){super(...arguments),this.KeyframeResolver=G4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ot(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function uA(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function a5(e){return window.getComputedStyle(e)}class o5 extends cA{constructor(){super(...arguments),this.type="html",this.renderInstance=uA}readValueFromInstance(t,r){var n;if(uo.has(r))return(n=this.projection)!=null&&n.isProjecting?gg(r):m4(t,r);{const i=a5(t),s=(Dy(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return oA(t,r)}build(t,r,n){Zy(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return nv(t,r,n)}}const dA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l5(e,t,r,n){uA(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(dA.has(i)?i:iv(i),t.attrs[i])}class c5 extends cA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ye}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(uo.has(r)){const n=R2(r);return n&&n.default||0}return r=dA.has(r)?r:iv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return eA(t,r,n)}build(t,r,n){X2(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){l5(t,r,n,i)}mount(t){this.isSVGTag=Q2(t.tagName),super.mount(t)}}const u5=(e,t)=>tv(e)?new c5(t):new o5(t,{allowProjection:e!==g.Fragment});function _a(e,t,r){const n=e.getProps();return rv(n,t,r!==void 0?r:n.custom,e)}const Pg=e=>Array.isArray(e);function d5(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qr(r))}function f5(e){return Pg(e)?e[e.length-1]||0:e}function h5(e,t){const r=_a(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=f5(s[a]);d5(e,a,l)}}function m5(e){return!!(Ot(e)&&e.add)}function kg(e,t){const r=e.getValue("willChange");if(m5(r))return r.add(t);if(!r&&In.WillChange){const n=new In.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function fA(e){return e.props[tA]}const p5=e=>e!==null;function g5(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(p5),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const y5={type:"spring",stiffness:500,damping:25,restSpeed:10},v5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),x5={type:"keyframes",duration:.8},b5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},w5=(e,{keyframes:t})=>t.length>2?x5:uo.has(e)?e.startsWith("scale")?v5(t[1]):y5:b5;function j5({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const sv=(e,t,r,n={},i,s)=>a=>{const l=Ky(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-dn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};j5(l)||Object.assign(d,w5(e,d)),d.duration&&(d.duration=dn(d.duration)),d.repeatDelay&&(d.repeatDelay=dn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(wg(d),d.delay===0&&(f=!0)),(In.instantAnimations||In.skipAnimations)&&(f=!0,wg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=g5(d.keyframes,l);if(h!==void 0){je.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new Wy(d):new $4(d)};function N5({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function hA(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&N5(u,d))continue;const m={delay:r,...Ky(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const y=fA(e);if(y){const v=window.MotionHandoffAnimation(y,d,je);v!==null&&(m.startTime=v,b=!0)}}kg(e,d),f.start(sv(d,f,h,e.shouldReduceMotion&&T2.has(d)?{type:!1}:m,e,b));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{je.update(()=>{a&&h5(e,a)})}),c}function mA(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function Ag(e,t,r={}){var c;const n=_a(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(hA(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return S5(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function S5(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Ag(c,t,{...a,delay:r+(typeof n=="function"?0:n)+mA(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function _5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Ag(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Ag(e,t,r);else{const i=typeof t=="function"?_a(e,t,r.custom):t;n=Promise.all(hA(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function pA(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const P5=Qy.length;function gA(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?gA(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<P5;r++){const n=Qy[r],i=e.props[n];(Vl(i)||i===!1)&&(t[n]=i)}return t}const k5=[...Jy].reverse(),A5=Jy.length;function O5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>_5(e,r,n)))}function E5(e){let t=O5(e),r=w1(),n=!0;const i=c=>(u,d)=>{var h;const f=_a(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...b}=f;u={...u,...b,...p}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=gA(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<A5;w++){const y=k5[w],v=r[y],x=u[y]!==void 0?u[y]:d[y],N=Vl(x),j=y===c?v.isActive:null;j===!1&&(p=w);let S=x===d[y]&&x!==u[y]&&N;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&j===null||!x&&!v.prevProp||$f(x)||typeof x=="boolean")continue;const P=C5(v.prevProp,x);let _=P||y===c&&v.isActive&&!S&&N||w>p&&N,A=!1;const C=Array.isArray(x)?x:[x];let O=C.reduce(i(y),{});j===!1&&(O={});const{prevResolvedValues:U={}}=v,L={...U,...O},K=V=>{_=!0,h.has(V)&&(A=!0,h.delete(V)),v.needsAnimating[V]=!0;const B=e.getValue(V);B&&(B.liveStyle=!1)};for(const V in L){const B=O[V],k=U[V];if(m.hasOwnProperty(V))continue;let F=!1;Pg(B)&&Pg(k)?F=!pA(B,k):F=B!==k,F?B!=null?K(V):h.add(V):B!==void 0&&h.has(V)?K(V):v.protectedKeys[V]=!0}v.prevProp=x,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(_=!1);const I=S&&P;_&&(!I||A)&&f.push(...C.map(V=>{const B={type:y};if(typeof V=="string"&&n&&!I&&e.manuallyAnimateOnMount&&e.parent){const{parent:k}=e,F=_a(k,V);if(k.enteringChildren&&F){const{delayChildren:Q}=F.transition||{};B.delay=mA(k.enteringChildren,e,Q)}}return{animation:V,options:B}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const y=_a(e,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(w.transition=y.transition)}h.forEach(y=>{const v=e.getBaseTarget(y),x=e.getValue(y);x&&(x.liveStyle=!0),w[y]=v??null}),f.push({animation:w})}let b=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=w1(),n=!0}}}function C5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!pA(t,e):!1}function Vi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function w1(){return{animate:Vi(!0),whileInView:Vi(),whileHover:Vi(),whileTap:Vi(),whileDrag:Vi(),whileFocus:Vi(),exit:Vi()}}class Di{constructor(t){this.isMounted=!1,this.node=t}update(){}}class T5 extends Di{constructor(t){super(t),t.animationState||(t.animationState=E5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();$f(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let M5=0;class D5 extends Di{constructor(){super(...arguments),this.id=M5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const R5={animation:{Feature:T5},exit:{Feature:D5}};function Hl(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function yc(e){return{point:{x:e.pageX,y:e.pageY}}}const $5=e=>t=>Yy(t)&&e(t,yc(t));function yl(e,t,r,n){return Hl(e,t,$5(r),n)}const yA=1e-4,L5=1-yA,I5=1+yA,vA=.01,B5=0-vA,F5=0+vA;function Mt(e){return e.max-e.min}function z5(e,t,r){return Math.abs(e-t)<=r}function j1(e,t,r,n=.5){e.origin=n,e.originPoint=Be(t.min,t.max,e.origin),e.scale=Mt(r)/Mt(t),e.translate=Be(r.min,r.max,e.origin)-e.originPoint,(e.scale>=L5&&e.scale<=I5||isNaN(e.scale))&&(e.scale=1),(e.translate>=B5&&e.translate<=F5||isNaN(e.translate))&&(e.translate=0)}function vl(e,t,r,n){j1(e.x,t.x,r.x,n?n.originX:void 0),j1(e.y,t.y,r.y,n?n.originY:void 0)}function N1(e,t,r){e.min=r.min+t.min,e.max=e.min+Mt(t)}function U5(e,t,r){N1(e.x,t.x,r.x),N1(e.y,t.y,r.y)}function S1(e,t,r){e.min=t.min-r.min,e.max=e.min+Mt(t)}function xl(e,t,r){S1(e.x,t.x,r.x),S1(e.y,t.y,r.y)}function jr(e){return[e("x"),e("y")]}const xA=({current:e})=>e?e.ownerDocument.defaultView:null,_1=(e,t)=>Math.abs(e-t);function W5(e,t){const r=_1(e.x,t.x),n=_1(e.y,t.y);return Math.sqrt(r**2+n**2)}class bA{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Am(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=W5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:b}=h,{timestamp:w}=dt;this.history.push({...b,timestamp:w});const{onStart:y,onMove:v}=this.handlers;m||(y&&y(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=km(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Am(h.type==="pointercancel"?this.lastMoveEventInfo:km(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,y),b&&b(h,y)},!Yy(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=yc(t),c=km(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=dt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Am(c,this.history)),this.removeListeners=mc(yl(this.contextWindow,"pointermove",this.handlePointerMove),yl(this.contextWindow,"pointerup",this.handlePointerUp),yl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qr(this.updatePoint)}}function km(e,t){return t?{point:t(e.point)}:e}function P1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Am({point:e},t){return{point:e,delta:P1(e,wA(t)),offset:P1(e,V5(t)),velocity:K5(t,.1)}}function V5(e){return e[0]}function wA(e){return e[e.length-1]}function K5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=wA(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>dn(t)));)r--;if(!n)return{x:0,y:0};const s=fn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function H5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Be(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Be(r,e,n.max):Math.min(e,r)),e}function k1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function q5(e,{top:t,left:r,bottom:n,right:i}){return{x:k1(e.x,r,i),y:k1(e.y,t,n)}}function A1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function G5(e,t){return{x:A1(e.x,t.x),y:A1(e.y,t.y)}}function Y5(e,t){let r=.5;const n=Mt(e),i=Mt(t);return i>n?r=Ba(t.min,t.max-n,e.min):n>i&&(r=Ba(e.min,e.max-i,t.min)),pn(0,1,r)}function X5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Og=.35;function J5(e=Og){return e===!1?e=0:e===!0&&(e=Og),{x:O1(e,"left","right"),y:O1(e,"top","bottom")}}function O1(e,t,r){return{min:E1(e,t),max:E1(e,r)}}function E1(e,t){return typeof e=="number"?e:e[t]||0}const Q5=new WeakMap;class Z5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ye(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(yc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:b}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=J4(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),jr(y=>{let v=this.getAxisMotionValue(y).get()||0;if(hn.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const N=x.layout.layoutBox[y];N&&(v=Mt(N)*(parseFloat(v)/100))}}this.originPoint[y]=v}),b&&je.postRender(()=>b(f,h)),kg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:b,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:y}=h;if(p&&this.currentDirection===null){this.currentDirection=eB(y),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,y),this.updateAxis("y",h.point,y),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>jr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new bA(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:xA(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&je.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!lu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=H5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&ca(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=q5(n.layoutBox,t):this.constraints=!1,this.elastic=J5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&jr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=X5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!ca(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=t5(n,i.root,this.visualElement.getTransformPagePoint());let a=G5(i.layout.layoutBox,s);if(r){const l=r(Q3(a));this.hasMutatedConstraints=!!l,l&&(a=iA(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=jr(d=>{if(!lu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return kg(this.visualElement,t),n.start(sv(t,n,0,r,this.visualElement,!1))}stopAnimation(){jr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){jr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){jr(r=>{const{drag:n}=this.getProps();if(!lu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Be(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ca(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};jr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=Y5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),jr(a=>{if(!lu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Be(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Q5.set(this.visualElement,this);const t=this.visualElement.current,r=yl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ca(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(n);const a=Hl(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(jr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Og,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function lu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function eB(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class tB extends Di{constructor(t){super(t),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new Z5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const C1=e=>(t,r)=>{e&&je.postRender(()=>e(t,r))};class rB extends Di{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(t){this.session=new bA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:C1(t),onStart:C1(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&je.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=yl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Uu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function T1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Io={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(le.test(e))e=parseFloat(e);else return e;const r=T1(e,t.target.x),n=T1(e,t.target.y);return`${r}% ${n}%`}},nB={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=ki.parse(e);if(i.length>5)return n;const s=ki.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Be(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Om=!1;class iB extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;P3(sB),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Om&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Uu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Om=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||je.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Gy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Om=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function jA(e){const[t,r]=V2(),n=g.useContext(_y);return o.jsx(iB,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(rA),isPresent:t,safeToRemove:r})}const sB={borderRadius:{...Io,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Io,borderTopRightRadius:Io,borderBottomLeftRadius:Io,borderBottomRightRadius:Io,boxShadow:nB};function aB(e,t,r){const n=Ot(e)?e:qr(e);return n.start(sv("",n,t,r)),n.animation}const oB=(e,t)=>e.depth-t.depth;class lB{constructor(){this.children=[],this.isDirty=!1}add(t){ky(this.children,t),this.isDirty=!0}remove(t){Ay(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(oB),this.isDirty=!1,this.children.forEach(t)}}function cB(e,t){const r=Gt.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Qr(n),e(s-t))};return je.setup(n,!0),()=>Qr(n)}const NA=["TopLeft","TopRight","BottomLeft","BottomRight"],uB=NA.length,M1=e=>typeof e=="string"?parseFloat(e):e,D1=e=>typeof e=="number"||le.test(e);function dB(e,t,r,n,i,s){i?(e.opacity=Be(0,r.opacity??1,fB(n)),e.opacityExit=Be(t.opacity??1,0,hB(n))):s&&(e.opacity=Be(t.opacity??1,r.opacity??1,n));for(let a=0;a<uB;a++){const l=`border${NA[a]}Radius`;let c=R1(t,l),u=R1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||D1(c)===D1(u)?(e[l]=Math.max(Be(M1(c),M1(u),n),0),(hn.test(u)||hn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Be(t.rotate||0,r.rotate||0,n))}function R1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fB=SA(0,.5,o2),hB=SA(.5,.95,Zt);function SA(e,t,r){return n=>n<e?0:n>t?1:r(Ba(e,t,n))}function $1(e,t){e.min=t.min,e.max=t.max}function vr(e,t){$1(e.x,t.x),$1(e.y,t.y)}function L1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function I1(e,t,r,n,i){return e-=t,e=jd(e,1/r,n),i!==void 0&&(e=jd(e,1/i,n)),e}function mB(e,t=0,r=1,n=.5,i,s=e,a=e){if(hn.test(t)&&(t=parseFloat(t),t=Be(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Be(s.min,s.max,n);e===s&&(l-=t),e.min=I1(e.min,t,r,l,i),e.max=I1(e.max,t,r,l,i)}function B1(e,t,[r,n,i],s,a){mB(e,t[r],t[n],t[i],t.scale,s,a)}const pB=["x","scaleX","originX"],gB=["y","scaleY","originY"];function F1(e,t,r,n){B1(e.x,t,pB,r?r.x:void 0,n?n.x:void 0),B1(e.y,t,gB,r?r.y:void 0,n?n.y:void 0)}function z1(e){return e.translate===0&&e.scale===1}function _A(e){return z1(e.x)&&z1(e.y)}function U1(e,t){return e.min===t.min&&e.max===t.max}function yB(e,t){return U1(e.x,t.x)&&U1(e.y,t.y)}function W1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function PA(e,t){return W1(e.x,t.x)&&W1(e.y,t.y)}function V1(e){return Mt(e.x)/Mt(e.y)}function K1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vB{constructor(){this.members=[]}add(t){ky(this.members,t),t.scheduleRender()}remove(t){if(Ay(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xB(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Em=["","X","Y","Z"],bB=1e3;let wB=0;function Cm(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function kA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=fA(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",je,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&kA(n)}function AA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=wB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(SB),this.nodes.forEach(AB),this.nodes.forEach(OB),this.nodes.forEach(_B)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new lB)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ey),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Xy(a)&&!f3(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;je.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=cB(h,250),Uu.hasAnimatedSinceResize&&(Uu.hasAnimatedSinceResize=!1,this.nodes.forEach(G1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||DB,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),y=!this.targetLayout||!PA(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const x={...Ky(p,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x),this.setAnimationOrigin(d,v)}else f||G1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Qr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EB),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&kA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(H1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(kB),this.nodes.forEach(jB),this.nodes.forEach(NB)):this.nodes.forEach(q1),this.clearAllSnapshots();const l=Gt.now();dt.delta=pn(0,1e3/60,l-dt.timestamp),dt.timestamp=l,dt.isProcessing=!0,xm.update.process(dt),xm.preRender.process(dt),xm.render.process(dt),dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Gy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(PB),this.sharedNodes.forEach(CB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ye(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!_A(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Gi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),RB(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Ye();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some($B))){const{scroll:d}=this.root;d&&(ua(l.x,d.offset.x),ua(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ye();if(vr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&vr(l,a),ua(l.x,f.offset.x),ua(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Ye();vr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&da(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gi(d.latestValues)&&da(c,d.latestValues)}return Gi(this.latestValues)&&da(c,this.latestValues),c}removeTransform(a){const l=Ye();vr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gi(u.latestValues))continue;Ng(u.latestValues)&&u.updateSnapshot();const d=Ye(),f=u.measurePageBox();vr(d,f),F1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gi(this.latestValues)&&F1(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=dt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),xl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ye(),this.targetWithTransforms=Ye()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),U5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):vr(this.target,this.layout.layoutBox),aA(this.target,this.targetDelta)):vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ye(),this.relativeTargetOrigin=Ye(),xl(this.relativeTargetOrigin,this.target,m.target),vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Ng(this.parent.latestValues)||sA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;vr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;e5(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ye());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(L1(this.prevProjectionDelta.x,this.projectionDelta.x),L1(this.prevProjectionDelta.y,this.projectionDelta.y)),vl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!K1(this.projectionDelta.x,this.prevProjectionDelta.x)||!K1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fa(),this.projectionDelta=fa(),this.projectionDeltaWithTransform=fa()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=fa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ye(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,b=m!==p,w=this.getStack(),y=!w||w.members.length<=1,v=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(MB));this.animationProgress=0;let x;this.mixTargetDelta=N=>{const j=N/1e3;Y1(f.x,a.x,j),Y1(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),TB(this.relativeTarget,this.relativeTargetOrigin,h,j),x&&yB(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ye()),vr(x,this.relativeTarget)),b&&(this.animationValues=d,dB(d,u,this.latestValues,j,v,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Qr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Uu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qr(0)),this.currentAnimation=aB(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&OA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ye();const f=Mt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Mt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}vr(l,c),da(l,d),vl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new vB),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Cm("z",a,u,this.animationValues);for(let d=0;d<Em.length;d++)Cm(`rotate${Em[d]}`,a,u,this.animationValues),Cm(`skew${Em[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=zu(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=zu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=xB(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Kl){if(d[p]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:y}=Kl[p],v=f==="none"?d[p]:b(d[p],u);if(w){const x=w.length;for(let N=0;N<x;N++)a[w[N]]=v}else y?this.options.visualElement.renderState.vars[p]=v:a[p]=v}this.options.layoutId&&(a.pointerEvents=u===this?zu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(H1),this.root.sharedNodes.clear()}}}function jB(e){e.updateLayout()}function NB(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?jr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Mt(h);h.min=n[f].min,h.max=h.min+m}):OA(s,t.layoutBox,n)&&jr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Mt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=fa();vl(l,n,t.layoutBox);const c=fa();a?vl(c,e.applyTransform(i,!0),t.measuredBox):vl(c,n,t.layoutBox);const u=!_A(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Ye();xl(p,t.layoutBox,h.layoutBox);const b=Ye();xl(b,n,m.layoutBox),PA(p,b)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function SB(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function _B(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function PB(e){e.clearSnapshot()}function H1(e){e.clearMeasurements()}function q1(e){e.isLayoutDirty=!1}function kB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function G1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function AB(e){e.resolveTargetDelta()}function OB(e){e.calcProjection()}function EB(e){e.resetSkewAndRotation()}function CB(e){e.removeLeadSnapshot()}function Y1(e,t,r){e.translate=Be(t.translate,0,r),e.scale=Be(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function X1(e,t,r,n){e.min=Be(t.min,r.min,n),e.max=Be(t.max,r.max,n)}function TB(e,t,r,n){X1(e.x,t.x,r.x,n),X1(e.y,t.y,r.y,n)}function MB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const DB={duration:.45,ease:[.4,0,.1,1]},J1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Q1=J1("applewebkit/")&&!J1("chrome/")?Math.round:Zt;function Z1(e){e.min=Q1(e.min),e.max=Q1(e.max)}function RB(e){Z1(e.x),Z1(e.y)}function OA(e,t,r){return e==="position"||e==="preserve-aspect"&&!z5(V1(t),V1(r),.2)}function $B(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const LB=AA({attachResizeListener:(e,t)=>Hl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Tm={current:void 0},EA=AA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Tm.current){const e=new LB({});e.mount(window),e.setOptions({layoutScroll:!0}),Tm.current=e}return Tm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),IB={pan:{Feature:rB},drag:{Feature:tB,ProjectionNode:EA,MeasureLayout:jA}};function ej(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&je.postRender(()=>s(t,yc(t)))}class BB extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=Q4(t,(r,n)=>(ej(this.node,n,"Start"),i=>ej(this.node,i,"End"))))}unmount(){}}class FB extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=mc(Hl(this.node.current,"focus",()=>this.onFocus()),Hl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function tj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&je.postRender(()=>s(t,yc(t)))}class zB extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=r3(t,(r,n)=>(tj(this.node,n,"Start"),(i,{success:s})=>tj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Eg=new WeakMap,Mm=new WeakMap,UB=e=>{const t=Eg.get(e.target);t&&t(e)},WB=e=>{e.forEach(UB)};function VB({root:e,...t}){const r=e||document;Mm.has(r)||Mm.set(r,{});const n=Mm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(WB,{root:e,...t})),n[i]}function KB(e,t,r){const n=VB(t);return Eg.set(e,r),n.observe(e),()=>{Eg.delete(e),n.unobserve(e)}}const HB={some:0,all:1};class qB extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:HB[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return KB(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(GB(t,r))&&this.startObserver()}unmount(){}}function GB({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const YB={inView:{Feature:qB},tap:{Feature:zB},focus:{Feature:FB},hover:{Feature:BB}},XB={layout:{ProjectionNode:EA,MeasureLayout:jA}},JB={...R5,...YB,...IB,...XB},Te=J3(JB,u5),QB=50,rj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),ZB=()=>({time:0,x:rj(),y:rj()}),eF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function nj(e,t,r,n){const i=r[t],{length:s,position:a}=eF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Ba(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>QB?0:Cy(i.current-l,u)}function tF(e,t,r){nj(e,"x",t,r),nj(e,"y",t,r),t.time=r}function rF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(qy(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Cg={start:0,center:.5,end:1};function ij(e,t,r=0){let n=0;if(e in Cg&&(e=Cg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const nF=[0,0];function iF(e,t,r,n){let i=Array.isArray(e)?e:nF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Cg[e]?e:"0"]),s=ij(i[0],r,n),a=ij(i[1],t),s-a}const sF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},aF={x:0,y:0};function oF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function lF(e,t,r){const{offset:n=sF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?rF(i,e):aF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:oF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=iF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=Fy(t[s].offset,j2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=pn(0,1,t[s].interpolate(t[s].current))}function cF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function uF(e,t,r,n={}){return{measure:i=>{cF(e,n.target,r),tF(e,r,i),(n.offset||n.target)&&lF(e,r,n)},notify:()=>t(r)}}const Bo=new WeakMap,sj=new WeakMap,Dm=new WeakMap,aj=e=>e===document.scrollingElement?window:e;function CA(e,{container:t=document.scrollingElement,...r}={}){if(!t)return Zt;let n=Dm.get(t);n||(n=new Set,Dm.set(t,n));const i=ZB(),s=uF(t,e,i,r);if(n.add(s),!Bo.has(t)){const l=()=>{for(const f of n)f.measure(dt.timestamp);je.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>je.read(l);Bo.set(t,u);const d=aj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&sj.set(t,d3(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Bo.get(t);return je.read(a,!1,!0),()=>{var u;Qr(a);const l=Dm.get(t);if(!l||(l.delete(s),l.size))return;const c=Bo.get(t);Bo.delete(t),c&&(aj(t).removeEventListener("scroll",c),(u=sj.get(t))==null||u(),window.removeEventListener("resize",c))}}const oj=new Map;function dF(e){const t={value:0},r=CA(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function TA({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=oj.get(t)??new Map;oj.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&P2()?new ScrollTimeline({source:t,axis:n}):dF({container:t,...r})),a[l]}function fF(e,t){const r=TA(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),W2(i=>{n.time=n.duration*i},r))})}function hF(e){return e.length===2}function mF(e,t){return hF(e)?CA(r=>{e(r[t.axis].progress,r)},t):W2(e,TA(t))}function pF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return Zt;const i={axis:t,container:r,...n};return typeof e=="function"?mF(e,i):fF(e,i)}const gF=()=>({scrollX:qr(0),scrollY:qr(0),scrollXProgress:qr(0),scrollYProgress:qr(0)}),cu=e=>e?!e.current:!1;function yF({container:e,target:t,...r}={}){const n=oo(gF),i=g.useRef(null),s=g.useRef(!1),a=g.useCallback(()=>(i.current=pF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Tf(()=>{if(s.current=!1,cu(e)||cu(t)){s.current=!0;return}else return a()},[a]),g.useEffect(()=>{if(s.current)return Ia(!cu(e)),Ia(!cu(t)),a()},[a]),n}function vF(e){const t=oo(()=>qr(e)),{isStatic:r}=g.useContext(Df);if(r){const[,n]=g.useState(e);g.useEffect(()=>t.on("change",n),[])}return t}function MA(e,t){const r=vF(t()),n=()=>r.set(t());return n(),Tf(()=>{const i=()=>je.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Qr(n)}}),r}function xF(e){gl.current=[],e();const t=MA(gl.current,e);return gl.current=void 0,t}function Rm(e,t,r,n){if(typeof e=="function")return xF(e);const i=typeof t=="function"?t:h3(t,r,n);return Array.isArray(e)?lj(e,i):lj([e],([s])=>i(s))}function lj(e,t){const r=oo(()=>[]);return MA(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function cj({onViewChange:e}){var B,k,F,Q,D,Z;const{user:t,logout:r}=er(),[n,i]=g.useState(!1),[s,a]=g.useState(!1),[l,c]=g.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=g.useState([]),[f,h]=g.useState([]),[m,p]=g.useState([]),[b,w]=g.useState([]),[y,v]=g.useState([]),[x,N]=g.useState(!0),[j,S]=g.useState("all"),[P,_]=g.useState(0),A=g.useRef(null),{scrollYProgress:C}=yF(A.current?{target:A,offset:["start start","end start"],layoutEffect:!1}:void 0),O=Rm(C,[0,1],[0,-200]),U=Rm(C,[0,.5],[1,0]),L=Rm(C,[0,1],[0,-100]),K=async()=>{try{const{data:q}=await J.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!q)return;const T={};q.forEach(R=>{const{player1_name:W,player2_name:M,winner_name:X}=R,ee=R.normalized_player1_name||R.player1_name.toLowerCase(),$=R.normalized_player2_name||R.player2_name.toLowerCase(),G=R.normalized_winner_name||R.winner_name.toLowerCase();T[W]||(T[W]={wins:0,total:0,tournaments:new Set}),T[M]||(T[M]={wins:0,total:0,tournaments:new Set}),T[W].total++,T[M].total++,X===W?T[W].wins++:X===M&&T[M].wins++});const H=Object.entries(T).map(([R,W])=>({name:R,wins:W.wins,tournaments:W.tournaments.size,winRate:W.total>0?Math.round(W.wins/W.total*100):0})).filter(R=>R.wins>0).sort((R,W)=>W.wins!==R.wins?W.wins-R.wins:W.winRate-R.winRate).slice(0,5);h(H)}catch(q){console.error("Error fetching top players:",q)}},I=async()=>{try{const{data:q}=await J.from("tournaments").select("*"),{data:T}=await J.from("match_results").select("*"),H=new Set;T==null||T.forEach(M=>{M.player1_name&&H.add(M.player1_name),M.player2_name&&H.add(M.player2_name)});const R=new Date,W=(q==null?void 0:q.filter(M=>new Date(M.tournament_date)>R&&M.status!=="completed"))||[];c({totalTournaments:(q==null?void 0:q.length)||0,activePlayers:H.size,upcomingEvents:W.length,completedMatches:(T==null?void 0:T.length)||0}),d(W.slice(0,3)),v(q||[])}catch(q){console.error("Error fetching dashboard stats:",q)}},E=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:q}=await J.from("deck_presets").select("*").eq("user_id",t.id);p(q||[])}catch(q){console.error("Error fetching deck presets:",q)}},V=async()=>{try{let q=J.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});j!=="all"&&(q=q.eq("tournament_id",j));const{data:T}=await q.limit(20);w(T||[])}catch(q){console.error("Error fetching recent matches:",q)}};return g.useEffect(()=>{(async()=>{N(!0),await Promise.all([I(),K(),E(),V()]),N(!1)})()},[t]),g.useEffect(()=>{V()},[j]),g.useEffect(()=>{if(f.length<=1)return;const q=setInterval(()=>{_(T=>(T+1)%f.length)},5e3);return()=>clearInterval(q)},[f.length]),x?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Te.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Te.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(ou,{children:n&&o.jsxs(Te.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(Yk,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(Hk,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Te.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(Kk,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Te.section,{ref:A,style:{y:O,opacity:U},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Te.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Te.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(tt,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Lo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx(Xr,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Lo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Te.div,{style:{y:L},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Te.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:tt,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:Je,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:Ns,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:Ms,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((q,T)=>o.jsxs(Te.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:T*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${q.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${q.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(q.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:q.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:q.label})]},q.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Te.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Quick access to our web app's features."})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Te.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(tt,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString()," • ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-blue-200 text-sm",children:u[0].max_participants===999999?`${u[0].current_participants} registered`:`${u[0].current_participants}/${u[0].max_participants} registered`}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Lo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Te.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(ao,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed • Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Lo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Te.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(hc,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory • Save presets • Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Lo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Te.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Te.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(ou,{mode:"wait",children:o.jsxs(Te.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(B=f[P])==null?void 0:B.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(zl,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(k=f[P])==null?void 0:k.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(Xk,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(F=f[P])==null?void 0:F.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(Q=f[P])==null?void 0:Q.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(D=f[P])==null?void 0:D.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((q,T)=>o.jsx("button",{onClick:()=>_(T),className:`w-3 h-3 rounded-full transition-all duration-300 ${T===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},T))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Te.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:j,onChange:q=>S(q.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),y.map(q=>o.jsx("option",{value:q.id,children:q.name},q.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(ou,{mode:"wait",children:b.length===0?o.jsxs(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx($a,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:j==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((Z=y.find(q=>q.id===j))==null?void 0:Z.name)||"this tournament"}`})]}):o.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:b.slice(0,6).map((q,T)=>{var H;return o.jsx(Te.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:T*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:q.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",q.winner_name===q.player1_name?q.player2_name:q.player1_name]})]})]}),(q.player1_beyblade||q.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:q.winner_name===q.player1_name?`${q.player1_beyblade||"Unknown"} vs ${q.player2_beyblade||"Unknown"}`:`${q.player2_beyblade||"Unknown"} vs ${q.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((H=q.outcome)==null?void 0:H.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(q.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${q.tournament_id}-${q.submitted_at}-${T}`)})})})]})})}),o.jsx(Te.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.5.3"})]})]})})})]}),o.jsx(ou,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Te.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Te.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(Jk,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(It,{size:16})})]})})]})})]})}function bF({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(hc,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(ds,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(Ny,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx($a,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(Sy,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx($a,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function wF({tournament:e,onClose:t}){var D,Z,q;const{user:r}=er(),{alert:n}=Cs(),[i,s]=g.useState(""),[a,l]=g.useState(e.is_free?"free":"cash"),[c,u]=g.useState([{id:"1",isCustomLine:!1,parts:{}}]),[d,f]=g.useState([]),[h,m]=g.useState(""),[p,b]=g.useState(!1),[w,y]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,x]=g.useState(!1),[N,j]=g.useState(null),[S,P]=g.useState([]);g.useEffect(()=>{p&&r&&!r.id.startsWith("guest-")?s(r.username):p||s("")},[p,r]),g.useEffect(()=>{_(),A(),C()},[]);const _=async()=>{x(!0),j(null);try{const[T,H,R,W,M]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);if(T.error)throw T.error;if(H.error)throw H.error;if(R.error)throw R.error;if(W.error)throw W.error;if(M.error)throw M.error;y({blades:T.data||[],ratchets:H.data||[],bits:R.data||[],lockchips:W.data||[],assistBlades:M.data||[]})}catch(T){console.error(T),j("Failed to load Beyblade parts. Please try again.")}finally{x(!1)}},A=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:T,error:H}=await J.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(H)throw H;f(T||[])}catch(T){console.error(T)}},C=async()=>{try{const{data:T,error:H}=await J.from("tournament_registrations").select("player_name").eq("tournament_id",e.id).eq("status","confirmed");if(H)throw H;P((T||[]).map(R=>R.player_name.toLowerCase().trim()))}catch(T){console.error("Error fetching player names",T)}},O=T=>T==="Custom"?["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"]:["Blade","Ratchet","Bit"],U=T=>{let H=[];switch(T){case"Blade":H=w.blades.filter(R=>R.Line!=="Custom");break;case"Main Blade":H=w.blades.filter(R=>R.Line==="Custom");break;case"Ratchet":H=w.ratchets;break;case"Bit":H=w.bits;break;case"Lockchip":H=w.lockchips;break;case"Assist Blade":H=w.assistBlades;break}return H.sort((R,W)=>L(R,T).localeCompare(L(W,T)))},L=(T,H)=>{switch(H){case"Blade":case"Main Blade":return T.Blades;case"Ratchet":return T.Ratchet;case"Bit":return`${T.Bit} (${T.Shortcut})`;case"Lockchip":return T.Lockchip;case"Assist Blade":return`${T["Assist Blade Name"]} (${T["Assist Blade"]})`;default:return""}},K=T=>{if(!O(T.isCustomLine?"Custom":"Basic").every(R=>T.parts[R]))return"";if(T.isCustomLine){const{Lockchip:R,"Main Blade":W,"Assist Blade":M,Ratchet:X,Bit:ee}=T.parts;return`${(R==null?void 0:R.Lockchip)||""}${(W==null?void 0:W.Blades)||""} ${(M==null?void 0:M["Assist Blade"])||""}${(X==null?void 0:X.Ratchet)||""}${(ee==null?void 0:ee.Shortcut)||""}`}else{const{Blade:R,Ratchet:W,Bit:M}=T.parts;return`${(R==null?void 0:R.Blades)||""} ${(W==null?void 0:W.Ratchet)||""}${(M==null?void 0:M.Shortcut)||""}`}},I=T=>Object.values(T).reduce((H,R)=>(R&&(H.attack+=R.Attack||0,H.defense+=R.Defense||0,H.stamina+=R.Stamina||0,H.dash+=R.Dash||0,H.burstRes+=R["Burst Res"]||0),H),{attack:0,defense:0,stamina:0,dash:0,burstRes:0}),E=(T,H,R)=>{u(c.map(W=>W.id===T?{...W,[H]:R,parts:{}}:W))},V=(T,H,R)=>{u(c.map(W=>{if(W.id===T){const M={...W.parts,[H]:R};return{...W,parts:M}}return W}))},B=T=>{c.length>1&&u(c.filter(H=>H.id!==T))},k=T=>{const H=d.find(X=>X.id===T);if(!H)return;const R=H.beyblades[0],W=R&&(R.parts.Lockchip||R.parts["Main Blade"]||R.parts["Assist Blade"]),M=H.beyblades.slice(0,e.beyblades_per_player).map((X,ee)=>({id:(ee+1).toString(),isCustomLine:W,parts:X.parts}));u(M),m("")},F=()=>{if(!i.trim())return!1;const T=i.toLowerCase().trim();return S.includes(T)?!1:c.every(H=>O(H.isCustomLine?"Custom":"Basic").every(W=>H.parts[W]))},Q=async()=>{var T;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const R=(T=(await J.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&T.is_free?"confirmed":"unpaid",{data:W,error:M}=await J.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:R}).select().single();if(M)throw M;for(const X of c){const ee=K(X),$=X.isCustomLine?"Custom":"Basic",{data:G,error:te}=await J.from("tournament_beyblades").insert({registration_id:W.id,beyblade_name:ee,blade_line:$}).select().single();if(te)throw te;const ae=Object.entries(X.parts).map(([me,pe])=>({beyblade_id:G.id,part_type:me,part_name:L(pe,me),part_data:pe})),{error:oe}=await J.from("tournament_beyblade_parts").insert(ae);if(oe)throw oe}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(H){console.error(H),await n("Registration Failed",H.message||"Unknown error occurred.")}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[v&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(It,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[N&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:N}),o.jsx("button",{onClick:_,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(yd,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),(!r||r.id.startsWith("guest-"))&&o.jsx("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg border border-yellow-300",children:o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Register your account to see personal stats across multiple tournaments. Tournament entry player name should be the same as account username to view personal stats."})}),r&&!r.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:T=>b(T.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(dI,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Register for self? Player name entry should be same as your account username to view your own personal stats. (",r.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:i,onChange:T=>s(T.target.value),disabled:p,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${p?"bg-gray-100 cursor-not-allowed":""}`}),i.trim()&&S.includes(i.toLowerCase().trim())&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:a,onChange:T=>l(T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),!(r!=null&&r.id.startsWith("guest-"))&&d.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Na,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:h,onChange:T=>m(T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),d.map(T=>o.jsxs("option",{value:T.id,children:[T.name," (",T.beyblades.length," Beyblades)"]},T.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>h&&k(h),disabled:!h,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(D=d.find(T=>T.id===h))==null?void 0:D.beyblades.slice(0,3).map((T,H)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:["• ",T.name||`Beyblade ${H+1}`]},H)),((Z=d.find(T=>T.id===h))==null?void 0:Z.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((q=d.find(T=>T.id===h))==null?void 0:q.beyblades.length)-3," more..."]})]})})]}),c.map((T,H)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",H+1]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`text-xs font-medium ${T.isCustomLine?"text-purple-600":"text-purple-900"}`,children:"Standard Line"}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:T.isCustomLine,onChange:R=>E(T.id,"isCustomLine",R.target.checked),className:"sr-only"}),o.jsx("div",{className:`w-8 h-4 rounded-full transition-colors ${T.isCustomLine?"bg-purple-600":"bg-gray-300"}`,children:o.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow transform transition-transform ${T.isCustomLine?"translate-x-4":"translate-x-0"} mt-0.5 ml-0.5`})})]}),o.jsx("span",{className:`text-xs font-medium ${T.isCustomLine?"text-purple-900":"text-purple-600"}`,children:"Custom Line"})]}),c.length>1&&o.jsx("button",{onClick:()=>B(T.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(Ln,{size:16})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:K(T)||"Select all parts to generate name"})]}),o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:O(T.isCustomLine?"Custom":"Basic").map(R=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[R," *"]}),o.jsxs("select",{value:T.parts[R]?JSON.stringify(T.parts[R]):"",onChange:W=>W.target.value&&V(T.id,R,JSON.parse(W.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",R]}),U(R).map((W,M)=>o.jsx("option",{value:JSON.stringify(W),children:L(W,R)},M))]})]},R))})}),Object.keys(T.parts).length>0&&o.jsx(bF,{stats:I(T.parts)})]},T.id)),c.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>u([...c,{id:Date.now().toString(),isCustomLine:!1,parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(Sa,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:Q,disabled:!F()||v,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function jF(){er();const{alert:e}=Cs(),[t,r]=g.useState("all"),[n,i]=g.useState(!1);g.useState(""),g.useState(null);const[s,a]=g.useState(null),[l,c]=g.useState([]),[u,d]=g.useState(!0);mi.useEffect(()=>{(async()=>{try{const{data:b,error:w}=await J.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(w)throw w;c(b||[])}catch(b){console.error("Error fetching tournaments:",b),c([])}finally{d(!1)}})()},[]);const f=l.filter(p=>{const b=t==="all"||p.status===t,w=n||!p.is_practice;return b&&w}),h=(p,b)=>{console.log("Tournament registration:",{playerName:p,beyblades:b}),e("Registration Complete",`Successfully registered ${p} with ${b.length} Beyblades for the tournament!`),a(null)},m=p=>{switch(p){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade breakattles"})]}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(p=>o.jsx("button",{onClick:()=>r(p),className:`filter-tab capitalize ${t===p?"filter-tab-active":"filter-tab-inactive"}`,children:p},p))}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"showPractice",checked:n,onChange:p=>i(p.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx("label",{htmlFor:"showPractice",className:"text-sm font-medium text-gray-700",children:"Show Practice Tournaments"})]})]})}),u?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):f.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(tt,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map(p=>o.jsxs("div",{className:"card p-4 hover:shadow-lg transition-all duration-200",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-space-grotesk font-bold text-gray-900 mb-1",children:p.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`badge capitalize ${m(p.status)}`,children:p.status}),p.is_practice&&o.jsx("span",{className:"badge bg-purple-100 text-purple-800",children:"Practice"})]})]})}),p.description&&o.jsx("p",{className:"text-gray-600 mb-4 font-inter text-sm line-clamp-2",children:p.description}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Ns,{size:14,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:new Date(p.tournament_date).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(qk,{size:14,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:p.location})]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Je,{size:14,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:p.max_participants===999999?`${p.current_participants} participants`:`${p.current_participants}/${p.max_participants}`})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-1 text-sm",children:[o.jsx("span",{children:"Registration"}),o.jsx("span",{className:"text-xs",children:p.max_participants===999999?`${p.current_participants} registered`:`${Math.round(p.current_participants/p.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:p.max_participants===999999?"100%":`${Math.min(p.current_participants/p.max_participants*100,100)}%`}})})]}),p.status==="upcoming"&&o.jsx("button",{onClick:()=>a(p.id),disabled:!p.registration_open||p.max_participants!==999999&&p.current_participants>=p.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:p.registration_open?p.max_participants!==999999&&p.current_participants>=p.max_participants?"Tournament Full":"Register for Tournament":"Registration Closed"})]},p.id))}),s&&o.jsx(wF,{tournament:f.find(p=>p.id===s),onClose:()=>a(null),onSubmit:h})]})})}function DA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=DA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function de(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=DA(e))&&(n&&(n+=" "),n+=t);return n}var If={},RA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(RA);var av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(av);var ov={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(ov);var Bf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(Bf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RA,r=av,n=ov,i=Bf;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(If);var NF=If.get;const Ai=Dr(NF);var $A={exports:{}},_e={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv=Symbol.for("react.transitional.element"),cv=Symbol.for("react.portal"),Ff=Symbol.for("react.fragment"),zf=Symbol.for("react.strict_mode"),Uf=Symbol.for("react.profiler"),Wf=Symbol.for("react.consumer"),Vf=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),Hf=Symbol.for("react.suspense"),qf=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Yf=Symbol.for("react.lazy"),SF=Symbol.for("react.view_transition"),_F=Symbol.for("react.client.reference");function Rr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case lv:switch(e=e.type,e){case Ff:case Uf:case zf:case Hf:case qf:case SF:return e;default:switch(e=e&&e.$$typeof,e){case Vf:case Kf:case Yf:case Gf:return e;case Wf:return e;default:return t}}case cv:return t}}}_e.ContextConsumer=Wf;_e.ContextProvider=Vf;_e.Element=lv;_e.ForwardRef=Kf;_e.Fragment=Ff;_e.Lazy=Yf;_e.Memo=Gf;_e.Portal=cv;_e.Profiler=Uf;_e.StrictMode=zf;_e.Suspense=Hf;_e.SuspenseList=qf;_e.isContextConsumer=function(e){return Rr(e)===Wf};_e.isContextProvider=function(e){return Rr(e)===Vf};_e.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===lv};_e.isForwardRef=function(e){return Rr(e)===Kf};_e.isFragment=function(e){return Rr(e)===Ff};_e.isLazy=function(e){return Rr(e)===Yf};_e.isMemo=function(e){return Rr(e)===Gf};_e.isPortal=function(e){return Rr(e)===cv};_e.isProfiler=function(e){return Rr(e)===Uf};_e.isStrictMode=function(e){return Rr(e)===zf};_e.isSuspense=function(e){return Rr(e)===Hf};_e.isSuspenseList=function(e){return Rr(e)===qf};_e.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ff||e===Uf||e===zf||e===Hf||e===qf||typeof e=="object"&&e!==null&&(e.$$typeof===Yf||e.$$typeof===Gf||e.$$typeof===Vf||e.$$typeof===Wf||e.$$typeof===Kf||e.$$typeof===_F||e.getModuleId!==void 0)};_e.typeOf=Rr;$A.exports=_e;var PF=$A.exports,mt=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,is=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ne=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),gn=e=>ne(e)||typeof e=="string",kF=0,ql=e=>{var t=++kF;return"".concat(e||"").concat(t)},Lt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(t)&&typeof t!="string")return n;var s;if(is(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return ur(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},LA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},ha=(e,t)=>ne(e)&&ne(t)?r=>e+r*(t-e):()=>t;function Ks(e,t,r){return ne(e)&&ne(t)?e+r*(t-e):t}function AF(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ai(n,t))===r)}var Ge=e=>e===null||typeof e>"u",vc=e=>Ge(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),OF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function uv(e){if(typeof e!="string")return!1;var t=OF;return t.includes(e)}var EF=["viewBox","children"],uj=["points","pathLength"],$m={svg:EF,polygon:uj,polyline:uj},dv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{uv(i)&&(n[i]=s=>r[i](r,s))}),n},CF=(e,t,r)=>n=>(e(t,r,n),null),fo=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];uv(i)&&typeof s=="function"&&(n||(n={}),n[i]=CF(s,t,r))}),n},TF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function IA(e){if(typeof e!="string")return!1;var t=TF;return t.includes(e)}function Ct(e){var t=Object.entries(e).filter(r=>{var[n]=r;return IA(n)});return Object.fromEntries(t)}var dj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",fj=null,Lm=null,BA=e=>{if(e===fj&&Array.isArray(Lm))return Lm;var t=[];return g.Children.forEach(e,r=>{Ge(r)||(PF.isFragment(r)?t=t.concat(BA(r.props.children)):t.push(r))}),Lm=t,fj=e,t};function xc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>dj(i)):n=[dj(t)],BA(e).forEach(i=>{var s=Ai(i,"type.displayName")||Ai(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var MF=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&($m==null?void 0:$m[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||IA(t)),c=!!r&&uv(t);return a||l||c},ve=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;MF((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},DF=["children","width","height","viewBox","className","style","title","desc"];function Tg(){return Tg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tg.apply(null,arguments)}function RF(e,t){if(e==null)return{};var r,n,i=$F(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $F(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var FA=g.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=RF(e,DF),f=s||{width:n,height:i,x:0,y:0},h=de("recharts-surface",a);return g.createElement("svg",Tg({},ve(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),LF=["children","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(null,arguments)}function IF(e,t){if(e==null)return{};var r,n,i=BF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function BF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ue=g.forwardRef((e,t)=>{var{children:r,className:n}=e,i=IF(e,LF),s=de("recharts-layer",n);return g.createElement("g",Mg({className:s},ve(i,!0),{ref:t}),r)}),FF=g.createContext(null);function Ae(e){return function(){return e}}const zA=Math.cos,Nd=Math.sin,Zr=Math.sqrt,Sd=Math.PI,Xf=2*Sd,Dg=Math.PI,Rg=2*Dg,Yi=1e-6,zF=Rg-Yi;function UA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function UF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return UA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class WF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?UA:UF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Yi)if(!(Math.abs(f*c-u*d)>Yi)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=i-l,b=c*c+u*u,w=m*m+p*p,y=Math.sqrt(b),v=Math.sqrt(h),x=s*Math.tan((Dg-Math.acos((b+h-w)/(2*y*v)))/2),N=x/v,j=x/y;Math.abs(N-1)>Yi&&this._append`L${t+N*d},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Yi||Math.abs(this._y1-d)>Yi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Rg+Rg),h>zF?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Yi&&this._append`A${n},${n},0,${+(h>=Dg)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function fv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new WF(t)}function hv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function WA(e){this._context=e}WA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jf(e){return new WA(e)}function VA(e){return e[0]}function KA(e){return e[1]}function HA(e,t){var r=Ae(!0),n=null,i=Jf,s=null,a=fv(l);e=typeof e=="function"?e:e===void 0?VA:Ae(e),t=typeof t=="function"?t:t===void 0?KA:Ae(t);function l(c){var u,d=(c=hv(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ae(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ae(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ae(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function uu(e,t,r){var n=null,i=Ae(!0),s=null,a=Jf,l=null,c=fv(u);e=typeof e=="function"?e:e===void 0?VA:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?KA:Ae(+r);function u(f){var h,m,p,b=(f=hv(f)).length,w,y=!1,v,x=new Array(b),N=new Array(b);for(s==null&&(l=a(v=c())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===y)if(y=!y)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(x[p],N[p]);l.lineEnd(),l.areaEnd()}y&&(x[h]=+e(w,h,f),N[h]=+t(w,h,f),l.point(n?+n(w,h,f):x[h],r?+r(w,h,f):N[h]))}if(v)return l=null,v+""||null}function d(){return HA().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ae(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class qA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function VF(e){return new qA(e,!0)}function KF(e){return new qA(e,!1)}const mv={draw(e,t){const r=Zr(t/Sd);e.moveTo(r,0),e.arc(0,0,r,0,Xf)}},HF={draw(e,t){const r=Zr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},GA=Zr(1/3),qF=GA*2,GF={draw(e,t){const r=Zr(t/qF),n=r*GA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},YF={draw(e,t){const r=Zr(t),n=-r/2;e.rect(n,n,r,r)}},XF=.8908130915292852,YA=Nd(Sd/10)/Nd(7*Sd/10),JF=Nd(Xf/10)*YA,QF=-zA(Xf/10)*YA,ZF={draw(e,t){const r=Zr(t*XF),n=JF*r,i=QF*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Xf*s/5,l=zA(a),c=Nd(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Im=Zr(3),ez={draw(e,t){const r=-Zr(t/(Im*3));e.moveTo(0,r*2),e.lineTo(-Im*r,-r),e.lineTo(Im*r,-r),e.closePath()}},xr=-.5,br=Zr(3)/2,$g=1/Zr(12),tz=($g/2+1)*3,rz={draw(e,t){const r=Zr(t/tz),n=r/2,i=r*$g,s=n,a=r*$g+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(xr*n-br*i,br*n+xr*i),e.lineTo(xr*s-br*a,br*s+xr*a),e.lineTo(xr*l-br*c,br*l+xr*c),e.lineTo(xr*n+br*i,xr*i-br*n),e.lineTo(xr*s+br*a,xr*a-br*s),e.lineTo(xr*l+br*c,xr*c-br*l),e.closePath()}};function nz(e,t){let r=null,n=fv(i);e=typeof e=="function"?e:Ae(e||mv),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ae(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ae(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function _d(){}function Pd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function XA(e){this._context=e}XA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Pd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iz(e){return new XA(e)}function JA(e){this._context=e}JA.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sz(e){return new JA(e)}function QA(e){this._context=e}QA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Pd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function az(e){return new QA(e)}function ZA(e){this._context=e}ZA.prototype={areaStart:_d,areaEnd:_d,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function oz(e){return new ZA(e)}function hj(e){return e<0?-1:1}function mj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(hj(s)+hj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function pj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bm(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function kd(e){this._context=e}kd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bm(this,this._t0,pj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bm(this,pj(this,r=mj(this,e,t)),r);break;default:Bm(this,this._t0,r=mj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function eO(e){this._context=new tO(e)}(eO.prototype=Object.create(kd.prototype)).point=function(e,t){kd.prototype.point.call(this,t,e)};function tO(e){this._context=e}tO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function lz(e){return new kd(e)}function cz(e){return new eO(e)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=gj(e),i=gj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function gj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function uz(e){return new rO(e)}function Qf(e,t){this._context=e,this._t=t}Qf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function dz(e){return new Qf(e,.5)}function fz(e){return new Qf(e,0)}function hz(e){return new Qf(e,1)}function za(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Lg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function mz(e,t){return e[t]}function pz(e){const t=[];return t.key=e,t}function gz(){var e=Ae([]),t=Lg,r=za,n=mz;function i(s){var a=Array.from(e.apply(this,arguments),pz),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=hv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ae(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ae(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Lg:typeof s=="function"?s:Ae(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??za,i):r},i}function yz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}za(e,t)}}function vz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}za(e,t)}}function xz(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var b=e[t[p]],w=b[n][1]||0,y=b[n-1][1]||0;m+=w-y}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,za(e,t)}}var bz=["type","size","sizeType"];function Ig(){return Ig=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ig.apply(null,arguments)}function yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yj(Object(r),!0).forEach(function(n){wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wz(e,t,r){return(t=jz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jz(e){var t=Nz(e,"string");return typeof t=="symbol"?t:t+""}function Nz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sz(e,t){if(e==null)return{};var r,n,i=_z(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var nO={symbolCircle:mv,symbolCross:HF,symbolDiamond:GF,symbolSquare:YF,symbolStar:ZF,symbolTriangle:ez,symbolWye:rz},Pz=Math.PI/180,kz=e=>{var t="symbol".concat(vc(e));return nO[t]||mv},Az=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Pz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Oz=(e,t)=>{nO["symbol".concat(vc(e))]=t},iO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=Sz(e,bz),s=vj(vj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=kz(t),h=nz().type(f).size(Az(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=ve(s,!0);return c===+c&&u===+u&&r===+r?g.createElement("path",Ig({},d,{className:de("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};iO.registerSymbol=Oz;var sO={},aO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(aO);var bc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(bc);var oO={},Zf={},lO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(lO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Zf);var cO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zf,r=cO;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(oO);var eh={},uO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=If;function r(n){return function(i){return t.get(i,n)}}e.property=r})(uO);var dO={},Fm={},zm={},pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(pv);var gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(gv);var th={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(th);var xj;function Ez(){return xj||(xj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv(),r=pv,n=gv,i=th;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(b,w,y,v,x,N){const j=m(b,w,y,v,x,N);return j!==void 0?!!j:a(b,w,p,N)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let w=0;w<b.length;w++){const y=b[w];if(!n.isPrimitive(f)&&!(y in f)||h[y]===void 0&&f[y]!==void 0||h[y]===null&&f[y]!==null||!m(f[y],h[y],y,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,w]of h.entries()){const y=f.get(b);if(m(y,w,b,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let w=0;w<h.length;w++){const y=h[w];let v=!1;for(let x=0;x<f.length;x++){if(b.has(x))continue;const N=f[x];let j=!1;if(m(N,y,w,f,h,p)&&(j=!0),j){b.add(x),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=s,e.isSetMatch=d}(zm)),zm}var bj;function yv(){return bj||(bj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ez();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(Fm)),Fm}var fO={},vv={},xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(xv);var rh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(rh);var nh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",b="[object DataView]",w="[object Uint8Array]",y="[object Uint8ClampedArray]",v="[object Uint16Array]",x="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",_="[object BigInt64Array]",A="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=b,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=x,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=y})(nh);var hO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(hO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xv,r=rh,n=nh,i=gv,s=hO;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const b=p==null?void 0:p(d,f,h,m);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let y=0;y<d.length;y++)w[y]=l(d[y],y,h,m,p);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[y,v]of d)w.set(y,l(v,y,h,m,p));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const y of d)w.add(l(y,void 0,h,m,p));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let y=0;y<d.length;y++)w[y]=l(d[y],y,h,m,p);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,p),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,p),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,p),w}return d}function c(d,f,h=d,m,p){const b=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<b.length;w++){const y=b[w],v=Object.getOwnPropertyDescriptor(d,y);(v==null||v.writable)&&(d[y]=l(f[y],y,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(vv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(fO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv(),r=fO;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(dO);var mO={},pO={},gO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv,r=nh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(pO);var yO={},bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(bv);var vO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(vO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=av,r=bv,n=vO,i=Bf;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(yO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv(),r=ov,n=pO,i=If,s=yO;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(mO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bc,r=uO,n=dO,i=mO;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(eh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aO,r=bc,n=oO,i=eh;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(sO);var Cz=sO.uniqBy;const wj=Dr(Cz);function Tz(e,t,r){return t===!0?wj(e,r):typeof t=="function"?wj(e,t):e}var xO={exports:{}},bO={},wO={exports:{}},jO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ua=g;function Mz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dz=typeof Object.is=="function"?Object.is:Mz,Rz=Ua.useState,$z=Ua.useEffect,Lz=Ua.useLayoutEffect,Iz=Ua.useDebugValue;function Bz(e,t){var r=t(),n=Rz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return Lz(function(){i.value=r,i.getSnapshot=t,Um(i)&&s({inst:i})},[e,r,t]),$z(function(){return Um(i)&&s({inst:i}),e(function(){Um(i)&&s({inst:i})})},[e]),Iz(r),r}function Um(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dz(e,r)}catch{return!0}}function Fz(e,t){return t()}var zz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Fz:Bz;jO.useSyncExternalStore=Ua.useSyncExternalStore!==void 0?Ua.useSyncExternalStore:zz;wO.exports=jO;var Uz=wO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ih=g,Wz=Uz;function Vz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kz=typeof Object.is=="function"?Object.is:Vz,Hz=Wz.useSyncExternalStore,qz=ih.useRef,Gz=ih.useEffect,Yz=ih.useMemo,Xz=ih.useDebugValue;bO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=qz(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Yz(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,Kz(d,m))return p;var b=n(m);return i!==void 0&&i(p,b)?(d=m,p):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=Hz(e,s[0],s[1]);return Gz(function(){a.hasValue=!0,a.value=l},[l]),Xz(l),l};xO.exports=bO;var Jz=xO.exports,wv=g.createContext(null),Qz=e=>e,We=()=>{var e=g.useContext(wv);return e?e.store.dispatch:Qz},Wu=()=>{},Zz=()=>Wu,e8=(e,t)=>e===t;function re(e){var t=g.useContext(wv);return Jz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Zz,t?t.store.getState:Wu,t?t.store.getState:Wu,t?e:Wu,e8)}function t8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function r8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function n8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var jj=e=>Array.isArray(e)?e:[e];function i8(e){const t=Array.isArray(e[0])?e[0]:e;return n8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function s8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var a8=class{constructor(e){this.value=e}deref(){return this.value}},o8=typeof WeakRef<"u"?WeakRef:a8,l8=0,Nj=1;function du(){return{s:l8,v:void 0,o:null,p:null}}function NO(e,t={}){let r=du();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(p);w===void 0?(l=du(),b.set(p,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(p);w===void 0?(l=du(),b.set(p,l)):l=w}}const u=l;let d;if(l.s===Nj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new o8(d):d}return u.s=Nj,u.v=d,d}return a.clearCache=()=>{r=du(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function c8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),t8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=NO,argsMemoizeOptions:p=[],devModeChecks:b={}}=d,w=jj(h),y=jj(p),v=i8(i),x=f(function(){return s++,u.apply(null,arguments)},...w),N=m(function(){a++;const S=s8(v,arguments);return l=x.apply(null,S),l},...y);return Object.assign(N,{resultFunc:u,memoizedResultFunc:x,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var z=c8(NO),u8=Object.assign((e,t=z)=>{r8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>u8}),SO={},_O={},PO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(PO);var kO={},jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(jv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(kO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PO,r=kO,n=Bf;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let b=m;for(let w=0;w<p.length&&b!=null;++w)b=b[p[w]];return b},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(m.criteria[b],p.criteria[b],l[b]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(_O);var AO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(AO);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bv,r=Zf,n=pv,i=th;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Nv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_O,r=AO,n=Nv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(SO);var d8=SO.sortBy;const sh=Dr(d8);var OO=e=>e.legend.settings,f8=e=>e.legend.size,h8=e=>e.legend.payload;z([h8,OO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?sh(n,r):n});var fu=1;function m8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>fu||Math.abs(a.left-t.left)>fu||Math.abs(a.top-t.top)>fu||Math.abs(a.width-t.width)>fu)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function yt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var p8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Sj=p8,Wm=()=>Math.random().toString(36).substring(7).split("").join("."),g8={INIT:`@@redux/INIT${Wm()}`,REPLACE:`@@redux/REPLACE${Wm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Wm()}`},Ad=g8;function Sv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function EO(e,t,r){if(typeof e!="function")throw new Error(yt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(yt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(yt(1));return r(EO)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,y)=>{a.set(y,w)}))}function d(){if(c)throw new Error(yt(3));return i}function f(w){if(typeof w!="function")throw new Error(yt(4));if(c)throw new Error(yt(5));let y=!0;u();const v=l++;return a.set(v,w),function(){if(y){if(c)throw new Error(yt(6));y=!1,u(),a.delete(v),s=null}}}function h(w){if(!Sv(w))throw new Error(yt(7));if(typeof w.type>"u")throw new Error(yt(8));if(typeof w.type!="string")throw new Error(yt(17));if(c)throw new Error(yt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(yt(10));n=w,h({type:Ad.REPLACE})}function p(){const w=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(yt(11));function v(){const N=y;N.next&&N.next(d())}return v(),{unsubscribe:w(v)}},[Sj](){return this}}}return h({type:Ad.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Sj]:p}}function y8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Ad.INIT})>"u")throw new Error(yt(12));if(typeof r(void 0,{type:Ad.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(yt(13))})}function CO(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{y8(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(yt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Od(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function v8(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(yt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Od(...l)(i.dispatch),{...i,dispatch:s}}}function TO(e){return Sv(e)&&"type"in e&&typeof e.type=="string"}var MO=Symbol.for("immer-nothing"),_j=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Kr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wa=Object.getPrototypeOf;function Ss(e){return!!e&&!!e[dr]}function Bn(e){var t;return e?DO(e)||Array.isArray(e)||!!e[_j]||!!((t=e.constructor)!=null&&t[_j])||oh(e)||lh(e):!1}var x8=Object.prototype.constructor.toString();function DO(e){if(!e||typeof e!="object")return!1;const t=Wa(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===x8}function Ed(e,t){ah(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function ah(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:oh(e)?2:lh(e)?3:0}function Bg(e,t){return ah(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RO(e,t,r){const n=ah(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function b8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function oh(e){return e instanceof Map}function lh(e){return e instanceof Set}function Xi(e){return e.copy_||e.base_}function Fg(e,t){if(oh(e))return new Map(e);if(lh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=DO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[dr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(Wa(e),n)}else{const n=Wa(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function _v(e,t=!1){return ch(e)||Ss(e)||!Bn(e)||(ah(e)>1&&(e.set=e.add=e.clear=e.delete=w8),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>_v(n,!0))),e}function w8(){Kr(2)}function ch(e){return Object.isFrozen(e)}var j8={};function _s(e){const t=j8[e];return t||Kr(0,e),t}var Gl;function $O(){return Gl}function N8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Pj(e,t){t&&(_s("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function zg(e){Ug(e),e.drafts_.forEach(S8),e.drafts_=null}function Ug(e){e===Gl&&(Gl=e.parent_)}function kj(e){return Gl=N8(Gl,e)}function S8(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Aj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[dr].modified_&&(zg(t),Kr(4)),Bn(e)&&(e=Cd(t,e),t.parent_||Td(t,e)),t.patches_&&_s("Patches").generateReplacementPatches_(r[dr].base_,e,t.patches_,t.inversePatches_)):e=Cd(t,r,[]),zg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==MO?e:void 0}function Cd(e,t,r){if(ch(t))return t;const n=t[dr];if(!n)return Ed(t,(i,s)=>Oj(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Td(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Ed(s,(l,c)=>Oj(e,n,i,l,c,r,a)),Td(e,i,!1),r&&e.patches_&&_s("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Oj(e,t,r,n,i,s,a){if(Ss(i)){const l=s&&t&&t.type_!==3&&!Bg(t.assigned_,n)?s.concat(n):void 0,c=Cd(e,i,l);if(RO(r,n,c),Ss(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Bn(i)&&!ch(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Cd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Td(e,i)}}function Td(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&_v(t,r)}function _8(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:$O(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Pv;r&&(i=[n],s=Yl);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var Pv={get(e,t){if(t===dr)return e;const r=Xi(e);if(!Bg(r,t))return P8(e,r,t);const n=r[t];return e.finalized_||!Bn(n)?n:n===Vm(e.base_,t)?(Km(e),e.copy_[t]=Vg(n,e)):n},has(e,t){return t in Xi(e)},ownKeys(e){return Reflect.ownKeys(Xi(e))},set(e,t,r){const n=LO(Xi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Vm(Xi(e),t),s=i==null?void 0:i[dr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(b8(r,i)&&(r!==void 0||Bg(e.base_,t)))return!0;Km(e),Wg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Vm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Km(e),Wg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Xi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Kr(11)},getPrototypeOf(e){return Wa(e.base_)},setPrototypeOf(){Kr(12)}},Yl={};Ed(Pv,(e,t)=>{Yl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Yl.deleteProperty=function(e,t){return Yl.set.call(this,e,t,void 0)};Yl.set=function(e,t,r){return Pv.set.call(this,e[0],t,r,e[0])};function Vm(e,t){const r=e[dr];return(r?Xi(r):e)[t]}function P8(e,t,r){var i;const n=LO(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function LO(e,t){if(!(t in e))return;let r=Wa(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Wa(r)}}function Wg(e){e.modified_||(e.modified_=!0,e.parent_&&Wg(e.parent_))}function Km(e){e.copy_||(e.copy_=Fg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var k8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Kr(6),n!==void 0&&typeof n!="function"&&Kr(7);let i;if(Bn(t)){const s=kj(this),a=Vg(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?zg(s):Ug(s)}return Pj(s,n),Aj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===MO&&(i=void 0),this.autoFreeze_&&_v(i,!0),n){const s=[],a=[];_s("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else Kr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bn(e)||Kr(8),Ss(e)&&(e=Cn(e));const t=kj(this),r=Vg(e,void 0);return r[dr].isManual_=!0,Ug(t),r}finishDraft(e,t){const r=e&&e[dr];(!r||!r.isManual_)&&Kr(9);const{scope_:n}=r;return Pj(n,t),Aj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=_s("Patches").applyPatches_;return Ss(e)?n(e,t):this.produce(e,i=>n(i,t))}};function Vg(e,t){const r=oh(e)?_s("MapSet").proxyMap_(e,t):lh(e)?_s("MapSet").proxySet_(e,t):_8(e,t);return(t?t.scope_:$O()).drafts_.push(r),r}function Cn(e){return Ss(e)||Kr(10,e),IO(e)}function IO(e){if(!Bn(e)||ch(e))return e;const t=e[dr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Fg(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Fg(e,!0);return Ed(r,(n,i)=>{RO(r,n,IO(i))}),t&&(t.finalized_=!1),r}var fr=new k8,BO=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function FO(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var A8=FO(),O8=FO,E8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Od:Od.apply(null,arguments)};function Tr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(lr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>TO(n)&&n.type===e,r}var zO=class tl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,tl.prototype)}static get[Symbol.species](){return tl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new tl(...t[0].concat(this)):new tl(...t.concat(this))}};function Ej(e){return Bn(e)?BO(e,()=>{}):e}function hu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function C8(e){return typeof e=="boolean"}var T8=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new zO;return r&&(C8(r)?a.push(A8):a.push(O8(r.extraArgument))),a},M8="RTK_autoBatch",Cj=e=>t=>{setTimeout(t,e)},D8=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Cj(10):e.type==="callback"?e.queueNotification:Cj(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[M8]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},R8=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new zO(e);return n&&i.push(D8(typeof n=="object"?n:void 0)),i};function $8(e){const t=T8(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Sv(r))c=CO(r);else throw new Error(lr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Od;i&&(d=E8({trace:!1,...typeof i=="object"&&i}));const f=v8(...u),h=R8(f);let m=typeof l=="function"?l(h):h();const p=d(...m);return EO(c,a,p)}function UO(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(lr(28));if(l in t)throw new Error(lr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function L8(e){return typeof e=="function"}function I8(e,t){let[r,n,i]=UO(t),s;if(L8(e))s=()=>Ej(e());else{const l=Ej(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Ss(d)){const m=f(d,c);return m===void 0?d:m}else{if(Bn(d))return BO(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var B8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",F8=(e=21)=>{let t="",r=e;for(;r--;)t+=B8[Math.random()*64|0];return t},z8=Symbol.for("rtk-slice-createasyncthunk");function U8(e,t){return`${e}/${t}`}function W8({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[z8];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(lr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(K8()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,j){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(lr(12));if(S in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(N,j){return u.sliceMatchers.push({matcher:N,reducer:j}),d},exposeAction(N,j){return u.actionCreators[N]=j,d},exposeCaseReducer(N,j){return u.sliceCaseReducersByName[N]=j,d}};c.forEach(N=>{const j=l[N],S={reducerName:N,type:U8(s,N),createNotation:typeof i.reducers=="function"};q8(j)?Y8(S,j,d,t):H8(S,j,d)});function f(){const[N={},j=[],S=void 0]=typeof i.extraReducers=="function"?UO(i.extraReducers):[i.extraReducers],P={...N,...u.sliceCaseReducersByType};return I8(i.initialState,_=>{for(let A in P)_.addCase(A,P[A]);for(let A of u.sliceMatchers)_.addMatcher(A.matcher,A.reducer);for(let A of j)_.addMatcher(A.matcher,A.reducer);S&&_.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let b;function w(N,j){return b||(b=f()),b(N,j)}function y(){return b||(b=f()),b.getInitialState()}function v(N,j=!1){function S(_){let A=_[N];return typeof A>"u"&&j&&(A=hu(p,S,y)),A}function P(_=h){const A=hu(m,j,()=>new WeakMap);return hu(A,_,()=>{const C={};for(const[O,U]of Object.entries(i.selectors??{}))C[O]=V8(U,_,()=>hu(p,_,y),j);return C})}return{reducerPath:N,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const x={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...v(a),injectInto(N,{reducerPath:j,...S}={}){const P=j??a;return N.inject({reducerPath:P,reducer:w},S),{...x,...v(P,!0)}}};return x}}function V8(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var gr=W8();function K8(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function H8({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!G8(n))throw new Error(lr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Tr(e,a):Tr(e))}function q8(e){return e._reducerDefinitionType==="asyncThunk"}function G8(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Y8({type:e,reducerName:t},r,n,i){if(!i)throw new Error(lr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||mu,pending:l||mu,rejected:c||mu,settled:u||mu})}function mu(){}var X8="task",WO="listener",VO="completed",kv="cancelled",J8=`task-${kv}`,Q8=`task-${VO}`,Kg=`${WO}-${kv}`,Z8=`${WO}-${VO}`,uh=class{constructor(e){Bh(this,"name","TaskAbortError");Bh(this,"message");this.code=e,this.message=`${X8} ${kv} (reason: ${e})`}},Av=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},Md=()=>{},KO=(e,t=Md)=>(e.catch(t),e),HO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ms=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ps=e=>{if(e.aborted){const{reason:t}=e;throw new uh(t)}};function qO(e,t){let r=Md;return new Promise((n,i)=>{const s=()=>i(new uh(e.reason));if(e.aborted){s();return}r=HO(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Md})}var eU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof uh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Dd=e=>t=>KO(qO(e,t).then(r=>(ps(e),r))),GO=e=>{const t=Dd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Pa}=Object,Tj={},dh="listenerMiddleware",tU=(e,t)=>{const r=n=>HO(e,()=>ms(n,e.reason));return(n,i)=>{Av(n);const s=new AbortController;r(s);const a=eU(async()=>{ps(e),ps(s.signal);const l=await n({pause:Dd(s.signal),delay:GO(s.signal),signal:s.signal});return ps(s.signal),l},()=>ms(s,Q8));return i!=null&&i.autoJoin&&t.push(a.catch(Md)),{result:Dd(e)(a),cancel(){ms(s,J8)}}}},rU=(e,t)=>{const r=async(n,i)=>{ps(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await qO(t,Promise.race(l));return ps(t),c}finally{s()}};return(n,i)=>KO(r(n,i))},YO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Tr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(lr(21));return Av(s),{predicate:i,type:t,effect:s}},XO=Pa(e=>{const{type:t,predicate:r,effect:n}=YO(e);return{id:F8(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>XO}),Mj=(e,t)=>{const{type:r,effect:n,predicate:i}=YO(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},Hg=e=>{e.pending.forEach(t=>{ms(t,Kg)})},nU=e=>()=>{e.forEach(Hg),e.clear()},Dj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},JO=Pa(Tr(`${dh}/add`),{withTypes:()=>JO}),iU=Tr(`${dh}/removeAll`),QO=Pa(Tr(`${dh}/remove`),{withTypes:()=>QO}),sU=(...e)=>{console.error(`${dh}/error`,...e)},wc=(e={})=>{const t=new Map,{extra:r,onError:n=sU}=e;Av(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&Hg(d)}),s=d=>{const f=Mj(t,d)??XO(d);return i(f)};Pa(s,{withTypes:()=>s});const a=d=>{const f=Mj(t,d);return f&&(f.unsubscribe(),d.cancelActive&&Hg(f)),!!f};Pa(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,b=rU(s,p.signal),w=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Pa({},h,{getOriginalState:m,condition:(y,v)=>b(y,v).then(Boolean),take:b,delay:GO(p.signal),pause:Dd(p.signal),extra:r,signal:p.signal,fork:tU(p.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((y,v,x)=>{y!==p&&(ms(y,Kg),x.delete(y))})},cancel:()=>{ms(p,Kg),d.pending.delete(p)},throwIfCancelled:()=>{ps(p.signal)}})))}catch(y){y instanceof uh||Dj(n,y,{raisedBy:"effect"})}finally{await Promise.all(w),ms(p,Z8),d.pending.delete(p)}},c=nU(t);return{middleware:d=>f=>h=>{if(!TO(h))return f(h);if(JO.match(h))return s(h.payload);if(iU.match(h)){c();return}if(QO.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===Tj)throw new Error(lr(23));return m};let b;try{if(b=f(h),t.size>0){const w=d.getState(),y=Array.from(t.values());for(const v of y){let x=!1;try{x=v.predicate(h,w,m)}catch(N){x=!1,Dj(n,N,{raisedBy:"predicate"})}x&&l(v,h,d,p)}}}finally{m=Tj}return b},startListening:s,stopListening:a,clearListeners:c}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var aU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},ZO=gr({name:"chartLayout",initialState:aU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:oU,setLayout:lU,setChartSize:cU,setScale:uU}=ZO.actions,dU=ZO.reducer;function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){fU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fU(e,t,r){return(t=hU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hU(e){var t=mU(e,"string");return typeof t=="symbol"?t:t+""}function mU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rd=Math.PI/180,pU=e=>e*180/Math.PI,be=(e,t,r,n)=>({x:e+Math.cos(-Rd*n)*r,y:t+Math.sin(-Rd*n)*r}),eE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},gU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},yU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=gU({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:pU(c),angleInRadian:c}},vU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},xU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},bU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=yU({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=vU(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?$j($j({},t),{},{radius:i,angle:xU(d,t)}):null},tE=e=>!g.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function rE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){wU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wU(e,t,r){return(t=jU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jU(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ee(e,t,r){return Ge(e)||Ge(t)?r:gn(t)?Ai(e,t,r):typeof t=="function"?t(e):r}var SU=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(mt(d-u)!==mt(f-d)){var m=[];if(mt(f-d)===mt(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var b=f+i[1]-i[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var y=Math.min(u,f),v=Math.max(u,f);if(e>(y+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var x=0;x<l;x++)if(x===0&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x>0&&x<l-1&&e>(t[x].coordinate+t[x-1].coordinate)/2&&e<=(t[x].coordinate+t[x+1].coordinate)/2||x===l-1&&e>(t[x].coordinate+t[x-1].coordinate)/2){({index:a}=t[x]);break}}return a},_U=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ne(e[s]))return _r(_r({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ne(e[a]))return _r(_r({},e),{},{[a]:e[a]+(i||0)})}return e},Ri=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",nE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},iE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,b=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(b=m==="angleAxis"&&s&&s.length>=2?mt(s[0]-s[1])*2*b:b,f||h){var w=(f||h||[]).map((y,v)=>{var x=n?n.indexOf(y):y;return{coordinate:a(x)+b,value:y,offset:b,index:v}});return w.filter(y=>!ur(y.coordinate))}return c&&u?u.map((y,v)=>({coordinate:a(y)+b,value:y,index:v,offset:b})):a.ticks&&!r&&d!=null?a.ticks(d).map((y,v)=>({coordinate:a(y)+b,value:y,offset:b,index:v})):a.domain().map((y,v)=>({coordinate:a(y)+b,value:n?n[y]:y,index:v,offset:b}))},Ij=1e-4,PU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Ij,s=Math.max(n[0],n[1])+Ij,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},kU=(e,t)=>{if(!t||t.length!==2||!ne(t[0])||!ne(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(i[0]=r),(!ne(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},AU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=ur(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},OU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=ur(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},EU={sign:AU,expand:yz,none:za,silhouette:vz,wiggle:xz,positive:OU},CU=(e,t,r)=>{var n=EU[r],i=gz().keys(t).value((s,a)=>+Ee(s,a,0)).order(Lg).offset(n);return i(e)};function TU(e){return e==null?void 0:String(e)}var Bj=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=Ee(s,t.dataKey,t.scale.domain()[a]);return Ge(l)?null:t.scale(l)-i/2+n},MU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},DU=e=>{var t=e.flat(2).filter(ne);return[Math.min(...t),Math.max(...t)]},RU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],$U=(e,t,r)=>{if(e!=null)return RU(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=rE(u,t,r),f=DU(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Fj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=sh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function Uj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return _r(_r({},t),{},{dataKey:r,payload:n,value:i,name:s})}function ho(e,t){if(e)return String(e);if(typeof t=="string")return t}function LU(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?bU({x:e,y:t},n):null}var IU=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return _r(_r(_r({},n),be(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return _r(_r(_r({},n),be(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},BU=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,qn=e=>e.layout.width,Gn=e=>e.layout.height,FU=e=>e.layout.scale,sE=e=>e.layout.margin,Ov=z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ev=z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),aE="data-recharts-item-index",oE="data-recharts-item-data-key",fh=60;function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){zU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zU(e,t,r){return(t=UU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UU(e){var t=WU(e,"string");return typeof t=="symbol"?t:t+""}function WU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VU=e=>e.brush.height,at=z([qn,Gn,sE,VU,Ov,Ev,OO,f8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((p,b)=>{var{orientation:w}=b;if(!b.mirror&&!b.hide){var y=typeof b.width=="number"?b.width:fh;return ei(ei({},p),{},{[w]:p[w]+y})}return p},{left:r.left||0,right:r.right||0}),u=i.reduce((p,b)=>{var{orientation:w}=b;return!b.mirror&&!b.hide?ei(ei({},p),{},{[w]:Ai(p,"".concat(w))+b.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=ei(ei({},u),c),f=d.bottom;d.bottom+=n,d=_U(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return ei(ei({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),KU=z(at,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),lE=z(qn,Gn,(e,t)=>({x:0,y:0,width:e,height:t})),HU=g.createContext(null),tr=()=>g.useContext(HU)!=null,hh=e=>e.brush,mh=z([hh,at,sE],(e,t,r)=>({height:e.height,x:ne(e.x)?e.x:t.left,y:ne(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ne(e.width)?e.width:t.width})),Cv=()=>{var e,t=tr(),r=re(KU),n=re(mh),i=(e=re(hh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},qU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cE=()=>{var e;return(e=re(at))!==null&&e!==void 0?e:qU},uE=()=>re(qn),dE=()=>re(Gn),ge=e=>e.layout.layoutType,Tv=()=>re(ge),GU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fE=gr({name:"legend",initialState:GU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Cn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Lte,setLegendSettings:Ite,addLegendPayload:hE,removeLegendPayload:mE}=fE.actions,YU=fE.reducer;function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){XU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XU(e,t,r){return(t=JU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JU(e){var t=QU(e,"string");return typeof t=="symbol"?t:t+""}function QU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZU(e){return Array.isArray(e)&&gn(e[0])&&gn(e[1])?e.join(" ~ "):e}var eW=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},S=(l?sh(s,l):s).map((P,_)=>{if(P.type==="none")return null;var A=P.formatter||a||ZU,{value:C,name:O}=P,U=C,L=O;if(A){var K=A(C,O,P,_,s);if(Array.isArray(K))[U,L]=K;else if(K!=null)U=K;else return null}var I=Hm({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:I},gn(L)?g.createElement("span",{className:"recharts-tooltip-item-name"},L):null,gn(L)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},U),g.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},p=Hm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Hm({margin:0},i),w=!Ge(d),y=w?d:"",v=de("recharts-default-tooltip",c),x=de("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(y=f(d,s));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",qg({className:v,style:p},N),g.createElement("p",{className:x,style:b},g.isValidElement(y)?y:"".concat(y)),m())},Fo="recharts-tooltip-wrapper",tW={visibility:"hidden"};function rW(e){var{coordinate:t,translateX:r,translateY:n}=e;return de(Fo,{["".concat(Fo,"-right")]:ne(r)&&t&&ne(t.x)&&r>=t.x,["".concat(Fo,"-left")]:ne(r)&&t&&ne(t.x)&&r<t.x,["".concat(Fo,"-bottom")]:ne(n)&&t&&ne(t.y)&&n>=t.y,["".concat(Fo,"-top")]:ne(n)&&t&&ne(t.y)&&n<t.y})}function Kj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ne(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+l,w=h+u;return b>w?Math.max(d,h):Math.max(f,h)}function nW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=Kj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=Kj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=nW({translateX:d,translateY:f,useTranslate3d:l})):u=tW,{cssProperties:u,cssClasses:rW({translateX:d,translateY:f,coordinate:r})}}function Hj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hj(Object(r),!0).forEach(function(n){Gg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Gg(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=aW(e,"string");return typeof t=="symbol"?t:t+""}function aW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class oW extends g.PureComponent{constructor(){super(...arguments),Gg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Gg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:b,innerRef:w,hasPortalFromProps:y}=this.props,{cssClasses:v,cssProperties:x}=iW({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),N=y?{}:pu(pu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},x),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=pu(pu({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:w},s)}}var lW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ds={isSsr:lW()},pE=()=>re(e=>e.rootProps.accessibilityLayer);function hr(e){return Number.isFinite(e)}function Va(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Gj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yj={curveBasisClosed:sz,curveBasisOpen:az,curveBasis:iz,curveBumpX:VF,curveBumpY:KF,curveLinearClosed:oz,curveLinear:Jf,curveMonotoneX:lz,curveMonotoneY:cz,curveNatural:uz,curveStep:dz,curveStepAfter:hz,curveStepBefore:fz},gu=e=>hr(e.x)&&hr(e.y),zo=e=>e.x,Uo=e=>e.y,fW=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(vc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Yj["".concat(r).concat(t==="vertical"?"Y":"X")]:Yj[r]||Jf},hW=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=fW(t,i),l=s?r.filter(gu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>gu(f)):n,d=l.map((f,h)=>Gj(Gj({},f),{},{base:u[h]}));return i==="vertical"?c=uu().y(Uo).x1(zo).x0(f=>f.base.x):c=uu().x(zo).y1(Uo).y0(f=>f.base.y),c.defined(gu).curve(a),c(d)}return i==="vertical"&&ne(n)?c=uu().y(Uo).x1(zo).x0(n):ne(n)?c=uu().x(zo).y1(Uo).y0(n):c=HA().x(zo).y(Uo),c.defined(gu).curve(a),c(l)},gE=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?hW(e):n;return g.createElement("path",Yg({},Ct(e),dv(e),{className:de("recharts-curve",t),d:s===null?void 0:s,ref:i}))},mW=["x","y","top","left","width","height","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){gW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=vW(e,"string");return typeof t=="symbol"?t:t+""}function vW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xW(e,t){if(e==null)return{};var r,n,i=bW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var wW=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),jW=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=xW(e,mW),u=pW({x:t,y:r,top:n,left:i,width:s,height:a},c);return!ne(t)||!ne(r)||!ne(s)||!ne(a)||!ne(n)||!ne(i)?null:g.createElement("path",Xg({},ve(u,!0),{className:de("recharts-cross",l),d:wW(t,r,s,a,n,i)}))};function NW(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){_W(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _W(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $r(e,t){var r=SW({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var yE={},vE={},xE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(xE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xE,r=xv,n=rh,i=nh,s=th;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,b){const w=b(u,d,f,h,m,p);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,b)}return c(u,d,p,b)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),m!==p)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const y=u.valueOf(),v=d.valueOf();return s.eq(y,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const b=f.get(u),w=f.get(d);if(b!=null&&w!=null)return b===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[y,v]of u.entries())if(!d.has(y)||!l(v,d.get(y),y,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const y=Array.from(u.values()),v=Array.from(d.values());for(let x=0;x<y.length;x++){const N=y[x],j=v.findIndex(S=>l(N,S,void 0,u,d,f,h));if(j===-1)return!1;v.splice(j,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let y=0;y<u.length;y++)if(!l(u[y],d[y],y,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],x=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==x.length)return!1;for(let N=0;N<v.length;N++){const j=v[N],S=u[j];if(!Object.hasOwn(d,j))return!1;const P=d[j];if(!l(S,P,j,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(vE);var bE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(bE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vE,r=bE;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(yE);var AW=yE.isEqual;const OW=Dr(AW);var $d=1e-4,wE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],jE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Qj=(e,t)=>r=>{var n=wE(e,t);return jE(n,r)},EW=(e,t)=>r=>{var n=wE(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return jE(i,r)},Zj=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,i]=a);var u=Qj(t,r),d=Qj(n,i),f=EW(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var b=p>1?1:p,w=b,y=0;y<8;++y){var v=u(w)-b,x=f(w);if(Math.abs(v-b)<$d||x<$d)return d(w);w=h(w-v/x)}return d(w)};return m.isStepper=!1,m},CW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<$d&&Math.abs(f)<$d?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},NE=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Zj(e);case"spring":return CW();default:if(e.split("(")[0]==="cubic-bezier")return Zj(e)}return typeof e=="function"?e:null};function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=MW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MW(e){var t=DW(e,"string");return typeof t=="symbol"?t:t+""}function DW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var RW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),$W=(e,t,r)=>e.map(n=>"".concat(RW(n)," ").concat(t,"ms ").concat(r)).join(","),LW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),Jl=(e,t)=>Object.keys(t).reduce((r,n)=>tN(tN({},r),{},{[n]:e(n,t[n])}),{});function rN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rN(Object(r),!0).forEach(function(n){IW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ld=(e,t,r)=>e+(t-e)*r,Jg=e=>{var{from:t,to:r}=e;return t!==r},SE=(e,t,r)=>{var n=Jl((i,s)=>{if(Jg(s)){var[a,l]=e(s.from,s.to,s.velocity);return xt(xt({},s),{},{from:a,velocity:l})}return s},t);return r<1?Jl((i,s)=>Jg(s)?xt(xt({},s),{},{velocity:Ld(s.velocity,n[i].velocity,r),from:Ld(s.from,n[i].from,r)}):s,t):SE(e,n,r-1)};function zW(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>xt(xt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Jl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(Jg).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;l=SE(r,l,p),i(xt(xt(xt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function UW(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>xt(xt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Jl((b,w)=>Ld(...w,r(h)),c);if(s(xt(xt(xt({},e),t),m)),h<1)l=a.setTimeout(d);else{var p=Jl((b,w)=>Ld(...w,r(1)),c);s(xt(xt(xt({},e),t),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const _E=(e,t,r,n,i,s)=>{var a=LW(e,t);return r.isStepper===!0?zW(e,t,r,a,i,s):UW(e,t,r,n,a,i,s)};function WW(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class VW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function KW(){return WW(new VW)}var HW=g.createContext(KW);function PE(e,t){var r=g.useContext(HW);return g.useMemo(()=>t??r(e),[e,t,r])}var qW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(null,arguments)}function GW(e,t){if(e==null)return{};var r,n,i=YW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ti(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ss(e,t,r){return(t=XW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XW(e){var t=JW(e,"string");return typeof t=="symbol"?t:t+""}function JW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Mv extends g.PureComponent{constructor(t,r){super(t,r),ss(this,"mounted",!1),ss(this,"manager",void 0),ss(this,"stopJSAnimation",null),ss(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(OW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(ti(ti({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=_E(r,n,NE(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=$W(Object.keys(d),n,a);this.manager.start([l,r,ti(ti({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,b=GW(t,qW),w=g.Children.count(r),y=this.state.style;if(typeof r=="function")return r(y);if(!l||w===0||i<=0)return r;var v=x=>{var{style:N={},className:j}=x.props,S=g.cloneElement(x,ti(ti({},b),{},{style:ti(ti({},N),y),className:j}));return S};return w===1?v(g.Children.only(r)):g.createElement("div",null,g.Children.map(r,x=>v(x)))}}ss(Mv,"displayName","Animate");ss(Mv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Id(e){var t,r=PE((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return g.createElement(Mv,Qg({},e,{animationManager:r}))}function Bd(){return Bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bd.apply(null,arguments)}var iN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},QW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},kE=e=>{var t=$r(e,QW),r=g.useRef(null),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var y=r.current.getTotalLength();y&&i(y)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:b}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=de("recharts-rectangle",d);return b?g.createElement(Id,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:b},y=>{var{width:v,height:x,x:N,y:j}=y;return g.createElement(Id,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},g.createElement("path",Bd({},ve(t,!0),{className:w,d:iN(N,j,v,x,u),ref:r})))}):g.createElement("path",Bd({},ve(t,!0),{className:w,d:iN(s,a,l,c,u)}))};function AE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=be(t,r,n,i),l=be(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}var ZW=(e,t)=>{var r=mt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},yu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Rd,f=c?i:i+s*d,h=be(t,r,u,f),m=be(t,r,n,f),p=c?i-s*d:i,b=be(t,r,u*Math.cos(d*Rd),p);return{center:h,circleTangency:m,lineTangency:b,theta:d}},OE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=ZW(s,a),c=s+l,u=be(t,r,i,s),d=be(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=be(t,r,n,s),m=be(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},e9=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=mt(u-c),{circleTangency:f,lineTangency:h,theta:m}=yu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:b,theta:w}=yu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),y=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(y<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):OE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(y>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:x,lineTangency:N,theta:j}=yu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:_}=yu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-j-_;if(A<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(x.x,",").concat(x.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},t9={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},EE=e=>{var t=$r(e,t9),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=de("recharts-sector",f),m=s-i,p=Lt(a,m,0,!0),b;return p>0&&Math.abs(u-d)<360?b=e9({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=OE({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),g.createElement("path",Zg({},ve(t,!0),{className:h,d:b}))};function r9(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=be(l,c,u,f),m=be(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return AE(t);return[{x:n,y:i},{x:s,y:a}]}var CE={},TE={},ME={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(ME);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ME;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(TE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nv,r=TE;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(CE);var n9=CE.range;const DE=Dr(n9);function Ni(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i9(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dv(e){let t,r,n;e.length!==2?(t=Ni,r=(l,c)=>Ni(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ni||e===i9?e:s9,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function s9(){return 0}function RE(e){return e===null?NaN:+e}function*a9(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const o9=Dv(Ni),jc=o9.right;Dv(RE).center;class sN extends Map{constructor(t,r=u9){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(aN(this,t))}has(t){return super.has(aN(this,t))}set(t,r){return super.set(l9(this,t),r)}delete(t){return super.delete(c9(this,t))}}function aN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function l9({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function c9({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function u9(e){return e!==null&&typeof e=="object"?e.valueOf():e}function d9(e=Ni){if(e===Ni)return $E;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function $E(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const f9=Math.sqrt(50),h9=Math.sqrt(10),m9=Math.sqrt(2);function Fd(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=f9?10:s>=h9?5:s>=m9?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Fd(e,t,r*2):[l,c,u]}function e0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?Fd(t,e,r):Fd(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function t0(e,t,r){return t=+t,e=+e,r=+r,Fd(e,t,r)[2]}function r0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?t0(t,e,r):t0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function oN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LE(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?$E:d9(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));LE(e,t,m,p,i)}const s=e[t];let a=r,l=n;for(Wo(e,r,t),i(e[n],s)>0&&Wo(e,r,n);a<l;){for(Wo(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Wo(e,r,l):(++l,Wo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Wo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function p9(e,t,r){if(e=Float64Array.from(a9(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return lN(e);if(t>=1)return oN(e);var n,i=(n-1)*t,s=Math.floor(i),a=oN(LE(e,s).subarray(0,s+1)),l=lN(e.subarray(s+1));return a+(l-a)*(i-s)}}function g9(e,t,r=RE){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function y9(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Lr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Yn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const n0=Symbol("implicit");function Rv(){var e=new sN,t=[],r=[],n=n0;function i(s){let a=e.get(s);if(a===void 0){if(n!==n0)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new sN;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Rv(t,r).unknown(n)},Lr.apply(i,arguments),i}function $v(){var e=Rv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,b=m?n:i;s=(b-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(b-p-s*(h-c))*d,a=s*(1-c),l&&(p=Math.round(p),a=Math.round(a));var w=y9(h).map(function(y){return p+s*y});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return $v(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Lr.apply(f(),arguments)}function IE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return IE(t())},e}function v9(){return IE($v.apply(null,arguments).paddingInner(1))}function Lv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function BE(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Nc(){}var Ql=.7,zd=1/Ql,ka="\\s*([+-]?\\d+)\\s*",Zl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",x9=/^#([0-9a-f]{3,8})$/,b9=new RegExp(`^rgb\\(${ka},${ka},${ka}\\)$`),w9=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),j9=new RegExp(`^rgba\\(${ka},${ka},${ka},${Zl}\\)$`),N9=new RegExp(`^rgba\\(${mn},${mn},${mn},${Zl}\\)$`),S9=new RegExp(`^hsl\\(${Zl},${mn},${mn}\\)$`),_9=new RegExp(`^hsla\\(${Zl},${mn},${mn},${Zl}\\)$`),cN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Lv(Nc,ec,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:uN,formatHex:uN,formatHex8:P9,formatHsl:k9,formatRgb:dN,toString:dN});function uN(){return this.rgb().formatHex()}function P9(){return this.rgb().formatHex8()}function k9(){return FE(this).formatHsl()}function dN(){return this.rgb().formatRgb()}function ec(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=x9.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?fN(t):r===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?vu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?vu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=b9.exec(e))?new Yt(t[1],t[2],t[3],1):(t=w9.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=j9.exec(e))?vu(t[1],t[2],t[3],t[4]):(t=N9.exec(e))?vu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S9.exec(e))?pN(t[1],t[2]/100,t[3]/100,1):(t=_9.exec(e))?pN(t[1],t[2]/100,t[3]/100,t[4]):cN.hasOwnProperty(e)?fN(cN[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function fN(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function vu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yt(e,t,r,n)}function A9(e){return e instanceof Nc||(e=ec(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function i0(e,t,r,n){return arguments.length===1?A9(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Lv(Yt,i0,BE(Nc,{brighter(e){return e=e==null?zd:Math.pow(zd,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(gs(this.r),gs(this.g),gs(this.b),Ud(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:hN,formatHex:hN,formatHex8:O9,formatRgb:mN,toString:mN}));function hN(){return`#${as(this.r)}${as(this.g)}${as(this.b)}`}function O9(){return`#${as(this.r)}${as(this.g)}${as(this.b)}${as((isNaN(this.opacity)?1:this.opacity)*255)}`}function mN(){const e=Ud(this.opacity);return`${e===1?"rgb(":"rgba("}${gs(this.r)}, ${gs(this.g)}, ${gs(this.b)}${e===1?")":`, ${e})`}`}function Ud(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function gs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function as(e){return e=gs(e),(e<16?"0":"")+e.toString(16)}function pN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Hr(e,t,r,n)}function FE(e){if(e instanceof Hr)return new Hr(e.h,e.s,e.l,e.opacity);if(e instanceof Nc||(e=ec(e)),!e)return new Hr;if(e instanceof Hr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Hr(a,l,c,e.opacity)}function E9(e,t,r,n){return arguments.length===1?FE(e):new Hr(e,t,r,n??1)}function Hr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Lv(Hr,E9,BE(Nc,{brighter(e){return e=e==null?zd:Math.pow(zd,e),new Hr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ql:Math.pow(Ql,e),new Hr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Yt(qm(e>=240?e-240:e+120,i,n),qm(e,i,n),qm(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Hr(gN(this.h),xu(this.s),xu(this.l),Ud(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ud(this.opacity);return`${e===1?"hsl(":"hsla("}${gN(this.h)}, ${xu(this.s)*100}%, ${xu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gN(e){return e=(e||0)%360,e<0?e+360:e}function xu(e){return Math.max(0,Math.min(1,e||0))}function qm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Iv=e=>()=>e;function C9(e,t){return function(r){return e+r*t}}function T9(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function M9(e){return(e=+e)==1?zE:function(t,r){return r-t?T9(t,r,e):Iv(isNaN(t)?r:t)}}function zE(e,t){var r=t-e;return r?C9(e,r):Iv(isNaN(e)?t:e)}const yN=function e(t){var r=M9(t);function n(i,s){var a=r((i=i0(i)).r,(s=i0(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=zE(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function D9(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function R9(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function $9(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=mo(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function L9(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Wd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function I9(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=mo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var s0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gm=new RegExp(s0.source,"g");function B9(e){return function(){return e}}function F9(e){return function(t){return e(t)+""}}function z9(e,t){var r=s0.lastIndex=Gm.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=s0.exec(e))&&(i=Gm.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Wd(n,i)})),r=Gm.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?F9(c[0].x):B9(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function mo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Iv(t):(r==="number"?Wd:r==="string"?(n=ec(t))?(t=n,yN):z9:t instanceof ec?yN:t instanceof Date?L9:R9(t)?D9:Array.isArray(t)?$9:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?I9:Wd)(e,t)}function Bv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function U9(e,t){t===void 0&&(t=e,e=mo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function W9(e){return function(){return e}}function Vd(e){return+e}var vN=[0,1];function Dt(e){return e}function a0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:W9(isNaN(t)?NaN:.5)}function V9(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function K9(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=a0(i,n),s=r(a,s)):(n=a0(n,i),s=r(s,a)),function(l){return s(n(l))}}function H9(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=a0(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=jc(e,l,1,n)-1;return s[c](i[c](l))}}function Sc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ph(){var e=vN,t=vN,r=mo,n,i,s,a=Dt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Dt&&(a=V9(e[0],e[h-1])),l=h>2?H9:K9,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),Wd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Vd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Bv,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Dt,d()):a!==Dt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function Fv(){return ph()(Dt,Dt)}function q9(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Ka(e){return e=Kd(Math.abs(e)),e?e[1]:NaN}function G9(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function Y9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var X9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function tc(e){if(!(t=X9.exec(e)))throw new Error("invalid format: "+e);var t;return new zv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}tc.prototype=zv.prototype;function zv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}zv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J9(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var UE;function Q9(e,t){var r=Kd(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(UE=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Kd(e,Math.max(0,t+s-1))[0]}function xN(e,t){var r=Kd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const bN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:q9,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xN(e*100,t),r:xN,s:Q9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wN(e){return e}var jN=Array.prototype.map,NN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Z9(e){var t=e.grouping===void 0||e.thousands===void 0?wN:G9(jN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?wN:Y9(jN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=tc(f);var h=f.fill,m=f.align,p=f.sign,b=f.symbol,w=f.zero,y=f.width,v=f.comma,x=f.precision,N=f.trim,j=f.type;j==="n"?(v=!0,j="g"):bN[j]||(x===void 0&&(x=12),N=!0,j="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=b==="$"?n:/[%p]/.test(j)?a:"",_=bN[j],A=/[defgprs%]/.test(j);x=x===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function C(O){var U=S,L=P,K,I,E;if(j==="c")L=_(O)+L,O="";else{O=+O;var V=O<0||1/O<0;if(O=isNaN(O)?c:_(Math.abs(O),x),N&&(O=J9(O)),V&&+O==0&&p!=="+"&&(V=!1),U=(V?p==="("?p:l:p==="-"||p==="("?"":p)+U,L=(j==="s"?NN[8+UE/3]:"")+L+(V&&p==="("?")":""),A){for(K=-1,I=O.length;++K<I;)if(E=O.charCodeAt(K),48>E||E>57){L=(E===46?i+O.slice(K+1):O.slice(K))+L,O=O.slice(0,K);break}}}v&&!w&&(O=t(O,1/0));var B=U.length+O.length+L.length,k=B<y?new Array(y-B+1).join(h):"";switch(v&&w&&(O=t(k+O,k.length?y-L.length:1/0),k=""),m){case"<":O=U+O+L+k;break;case"=":O=U+k+O+L;break;case"^":O=k.slice(0,B=k.length>>1)+U+O+L+k.slice(B);break;default:O=k+U+O+L;break}return s(O)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=tc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ka(h)/3)))*3,b=Math.pow(10,-p),w=NN[8+p/3];return function(y){return m(b*y)+w}}return{format:u,formatPrefix:d}}var bu,Uv,WE;eV({thousands:",",grouping:[3],currency:["$",""]});function eV(e){return bu=Z9(e),Uv=bu.format,WE=bu.formatPrefix,bu}function tV(e){return Math.max(0,-Ka(Math.abs(e)))}function rV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ka(t)/3)))*3-Ka(Math.abs(e)))}function nV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ka(t)-Ka(e))+1}function VE(e,t,r,n){var i=r0(e,t,r),s;switch(n=tc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=rV(i,a))&&(n.precision=s),WE(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=nV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=tV(i))&&(n.precision=s-(n.type==="%")*2);break}}return Uv(n)}function $i(e){var t=e.domain;return e.ticks=function(r){var n=t();return e0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return VE(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=t0(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function KE(){var e=Fv();return e.copy=function(){return Sc(e,KE())},Lr.apply(e,arguments),$i(e)}function HE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Vd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return HE(e).unknown(t)},e=arguments.length?Array.from(e,Vd):[0,1],$i(r)}function qE(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function SN(e){return Math.log(e)}function _N(e){return Math.exp(e)}function iV(e){return-Math.log(-e)}function sV(e){return-Math.exp(-e)}function aV(e){return isFinite(e)?+("1e"+e):e<0?0:e}function oV(e){return e===10?aV:e===Math.E?Math.exp:t=>Math.pow(e,t)}function lV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function PN(e){return(t,r)=>-e(-t,r)}function Wv(e){const t=e(SN,_N),r=t.domain;let n=10,i,s;function a(){return i=lV(n),s=oV(n),r()[0]<0?(i=PN(i),s=PN(s),e(iV,sV)):e(SN,_N),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,b;const w=l==null?10:+l;let y=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(b=h<0?p/s(-h):p*s(h),!(b<u)){if(b>d)break;y.push(b)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(b=h>0?p/s(-h):p*s(h),!(b<u)){if(b>d)break;y.push(b)}y.length*2<w&&(y=e0(u,d,w))}else y=e0(h,m,Math.min(m-h,w)).map(s);return f?y.reverse():y},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=tc(c)).precision==null&&(c.trim=!0),c=Uv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(qE(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function GE(){const e=Wv(ph()).domain([1,10]);return e.copy=()=>Sc(e,GE()).base(e.base()),Lr.apply(e,arguments),e}function kN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function AN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Vv(e){var t=1,r=e(kN(t),AN(t));return r.constant=function(n){return arguments.length?e(kN(t=+n),AN(t)):t},$i(r)}function YE(){var e=Vv(ph());return e.copy=function(){return Sc(e,YE()).constant(e.constant())},Lr.apply(e,arguments)}function ON(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function cV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function uV(e){return e<0?-e*e:e*e}function Kv(e){var t=e(Dt,Dt),r=1;function n(){return r===1?e(Dt,Dt):r===.5?e(cV,uV):e(ON(r),ON(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},$i(t)}function Hv(){var e=Kv(ph());return e.copy=function(){return Sc(e,Hv()).exponent(e.exponent())},Lr.apply(e,arguments),e}function dV(){return Hv.apply(null,arguments).exponent(.5)}function EN(e){return Math.sign(e)*e*e}function fV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function XE(){var e=Fv(),t=[0,1],r=!1,n;function i(s){var a=fV(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(EN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Vd)).map(EN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return XE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Lr.apply(i,arguments),$i(i)}function JE(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=g9(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[jc(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ni),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return JE().domain(e).range(t).unknown(n)},Lr.apply(s,arguments)}function QE(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[jc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return QE().domain([e,t]).range(i).unknown(s)},Lr.apply($i(a),arguments)}function ZE(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[jc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ZE().domain(e).range(t).unknown(r)},Lr.apply(i,arguments)}const Ym=new Date,Xm=new Date;function ot(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>ot(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(Ym.setTime(+s),Xm.setTime(+a),e(Ym),e(Xm),Math.floor(r(Ym,Xm))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Hd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Hd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Hd);Hd.range;const kn=1e3,kr=kn*60,An=kr*60,Fn=An*24,qv=Fn*7,CN=Fn*30,Jm=Fn*365,os=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCSeconds());os.range;const Gv=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getMinutes());Gv.range;const Yv=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*kr)},(e,t)=>(t-e)/kr,e=>e.getUTCMinutes());Yv.range;const Xv=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn-e.getMinutes()*kr)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getHours());Xv.range;const Jv=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCHours());Jv.range;const _c=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*kr)/Fn,e=>e.getDate()-1);_c.range;const gh=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fn,e=>e.getUTCDate()-1);gh.range;const eC=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Fn,e=>Math.floor(e/Fn));eC.range;function Rs(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*kr)/qv)}const yh=Rs(0),qd=Rs(1),hV=Rs(2),mV=Rs(3),Ha=Rs(4),pV=Rs(5),gV=Rs(6);yh.range;qd.range;hV.range;mV.range;Ha.range;pV.range;gV.range;function $s(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qv)}const vh=$s(0),Gd=$s(1),yV=$s(2),vV=$s(3),qa=$s(4),xV=$s(5),bV=$s(6);vh.range;Gd.range;yV.range;vV.range;qa.range;xV.range;bV.range;const Qv=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Qv.range;const Zv=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Zv.range;const zn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});zn.range;const Un=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Un.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Un.range;function tC(e,t,r,n,i,s){const a=[[os,1,kn],[os,5,5*kn],[os,15,15*kn],[os,30,30*kn],[s,1,kr],[s,5,5*kr],[s,15,15*kr],[s,30,30*kr],[i,1,An],[i,3,3*An],[i,6,6*An],[i,12,12*An],[n,1,Fn],[n,2,2*Fn],[r,1,qv],[t,1,CN],[t,3,3*CN],[e,1,Jm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=Dv(([,,w])=>w).right(a,h);if(m===a.length)return e.every(r0(u/Jm,d/Jm,f));if(m===0)return Hd.every(Math.max(r0(u,d,f),1));const[p,b]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(b)}return[l,c]}const[wV,jV]=tC(Un,Zv,vh,eC,Jv,Yv),[NV,SV]=tC(zn,Qv,yh,_c,Xv,Gv);function Qm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Zm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Vo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function _V(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=Ko(i),d=Ho(i),f=Ko(s),h=Ho(s),m=Ko(a),p=Ho(a),b=Ko(l),w=Ho(l),y=Ko(c),v=Ho(c),x={a:V,A:B,b:k,B:F,c:null,d:LN,e:LN,f:GV,g:i7,G:a7,H:KV,I:HV,j:qV,L:rC,m:YV,M:XV,p:Q,q:D,Q:FN,s:zN,S:JV,u:QV,U:ZV,V:e7,w:t7,W:r7,x:null,X:null,y:n7,Y:s7,Z:o7,"%":BN},N={a:Z,A:q,b:T,B:H,c:null,d:IN,e:IN,f:d7,g:w7,G:N7,H:l7,I:c7,j:u7,L:iC,m:f7,M:h7,p:R,q:W,Q:FN,s:zN,S:m7,u:p7,U:g7,V:y7,w:v7,W:x7,x:null,X:null,y:b7,Y:j7,Z:S7,"%":BN},j={a:C,A:O,b:U,B:L,c:K,d:RN,e:RN,f:zV,g:DN,G:MN,H:$N,I:$N,j:LV,L:FV,m:$V,M:IV,p:A,q:RV,Q:WV,s:VV,S:BV,u:EV,U:CV,V:TV,w:OV,W:MV,x:I,X:E,y:DN,Y:MN,Z:DV,"%":UV};x.x=S(r,x),x.X=S(n,x),x.c=S(t,x),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(M,X){return function(ee){var $=[],G=-1,te=0,ae=M.length,oe,me,pe;for(ee instanceof Date||(ee=new Date(+ee));++G<ae;)M.charCodeAt(G)===37&&($.push(M.slice(te,G)),(me=TN[oe=M.charAt(++G)])!=null?oe=M.charAt(++G):me=oe==="e"?" ":"0",(pe=X[oe])&&(oe=pe(ee,me)),$.push(oe),te=G+1);return $.push(M.slice(te,G)),$.join("")}}function P(M,X){return function(ee){var $=Vo(1900,void 0,1),G=_($,M,ee+="",0),te,ae;if(G!=ee.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(X&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(te=Zm(Vo($.y,0,1)),ae=te.getUTCDay(),te=ae>4||ae===0?Gd.ceil(te):Gd(te),te=gh.offset(te,($.V-1)*7),$.y=te.getUTCFullYear(),$.m=te.getUTCMonth(),$.d=te.getUTCDate()+($.w+6)%7):(te=Qm(Vo($.y,0,1)),ae=te.getDay(),te=ae>4||ae===0?qd.ceil(te):qd(te),te=_c.offset(te,($.V-1)*7),$.y=te.getFullYear(),$.m=te.getMonth(),$.d=te.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),ae="Z"in $?Zm(Vo($.y,0,1)).getUTCDay():Qm(Vo($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(ae+5)%7:$.w+$.U*7-(ae+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Zm($)):Qm($)}}function _(M,X,ee,$){for(var G=0,te=X.length,ae=ee.length,oe,me;G<te;){if($>=ae)return-1;if(oe=X.charCodeAt(G++),oe===37){if(oe=X.charAt(G++),me=j[oe in TN?X.charAt(G++):oe],!me||($=me(M,ee,$))<0)return-1}else if(oe!=ee.charCodeAt($++))return-1}return $}function A(M,X,ee){var $=u.exec(X.slice(ee));return $?(M.p=d.get($[0].toLowerCase()),ee+$[0].length):-1}function C(M,X,ee){var $=m.exec(X.slice(ee));return $?(M.w=p.get($[0].toLowerCase()),ee+$[0].length):-1}function O(M,X,ee){var $=f.exec(X.slice(ee));return $?(M.w=h.get($[0].toLowerCase()),ee+$[0].length):-1}function U(M,X,ee){var $=y.exec(X.slice(ee));return $?(M.m=v.get($[0].toLowerCase()),ee+$[0].length):-1}function L(M,X,ee){var $=b.exec(X.slice(ee));return $?(M.m=w.get($[0].toLowerCase()),ee+$[0].length):-1}function K(M,X,ee){return _(M,t,X,ee)}function I(M,X,ee){return _(M,r,X,ee)}function E(M,X,ee){return _(M,n,X,ee)}function V(M){return a[M.getDay()]}function B(M){return s[M.getDay()]}function k(M){return c[M.getMonth()]}function F(M){return l[M.getMonth()]}function Q(M){return i[+(M.getHours()>=12)]}function D(M){return 1+~~(M.getMonth()/3)}function Z(M){return a[M.getUTCDay()]}function q(M){return s[M.getUTCDay()]}function T(M){return c[M.getUTCMonth()]}function H(M){return l[M.getUTCMonth()]}function R(M){return i[+(M.getUTCHours()>=12)]}function W(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var X=S(M+="",x);return X.toString=function(){return M},X},parse:function(M){var X=P(M+="",!1);return X.toString=function(){return M},X},utcFormat:function(M){var X=S(M+="",N);return X.toString=function(){return M},X},utcParse:function(M){var X=P(M+="",!0);return X.toString=function(){return M},X}}}var TN={"-":"",_:" ",0:"0"},gt=/^\s*\d+/,PV=/^%/,kV=/[\\^$*+?|[\]().{}]/g;function xe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function AV(e){return e.replace(kV,"\\$&")}function Ko(e){return new RegExp("^(?:"+e.map(AV).join("|")+")","i")}function Ho(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OV(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function EV(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function CV(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function TV(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function MV(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function MN(e,t,r){var n=gt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function DN(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function DV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function RV(e,t,r){var n=gt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function $V(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function RN(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function LV(e,t,r){var n=gt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function $N(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function IV(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function BV(e,t,r){var n=gt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function FV(e,t,r){var n=gt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function zV(e,t,r){var n=gt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function UV(e,t,r){var n=PV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function WV(e,t,r){var n=gt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function VV(e,t,r){var n=gt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function LN(e,t){return xe(e.getDate(),t,2)}function KV(e,t){return xe(e.getHours(),t,2)}function HV(e,t){return xe(e.getHours()%12||12,t,2)}function qV(e,t){return xe(1+_c.count(zn(e),e),t,3)}function rC(e,t){return xe(e.getMilliseconds(),t,3)}function GV(e,t){return rC(e,t)+"000"}function YV(e,t){return xe(e.getMonth()+1,t,2)}function XV(e,t){return xe(e.getMinutes(),t,2)}function JV(e,t){return xe(e.getSeconds(),t,2)}function QV(e){var t=e.getDay();return t===0?7:t}function ZV(e,t){return xe(yh.count(zn(e)-1,e),t,2)}function nC(e){var t=e.getDay();return t>=4||t===0?Ha(e):Ha.ceil(e)}function e7(e,t){return e=nC(e),xe(Ha.count(zn(e),e)+(zn(e).getDay()===4),t,2)}function t7(e){return e.getDay()}function r7(e,t){return xe(qd.count(zn(e)-1,e),t,2)}function n7(e,t){return xe(e.getFullYear()%100,t,2)}function i7(e,t){return e=nC(e),xe(e.getFullYear()%100,t,2)}function s7(e,t){return xe(e.getFullYear()%1e4,t,4)}function a7(e,t){var r=e.getDay();return e=r>=4||r===0?Ha(e):Ha.ceil(e),xe(e.getFullYear()%1e4,t,4)}function o7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xe(t/60|0,"0",2)+xe(t%60,"0",2)}function IN(e,t){return xe(e.getUTCDate(),t,2)}function l7(e,t){return xe(e.getUTCHours(),t,2)}function c7(e,t){return xe(e.getUTCHours()%12||12,t,2)}function u7(e,t){return xe(1+gh.count(Un(e),e),t,3)}function iC(e,t){return xe(e.getUTCMilliseconds(),t,3)}function d7(e,t){return iC(e,t)+"000"}function f7(e,t){return xe(e.getUTCMonth()+1,t,2)}function h7(e,t){return xe(e.getUTCMinutes(),t,2)}function m7(e,t){return xe(e.getUTCSeconds(),t,2)}function p7(e){var t=e.getUTCDay();return t===0?7:t}function g7(e,t){return xe(vh.count(Un(e)-1,e),t,2)}function sC(e){var t=e.getUTCDay();return t>=4||t===0?qa(e):qa.ceil(e)}function y7(e,t){return e=sC(e),xe(qa.count(Un(e),e)+(Un(e).getUTCDay()===4),t,2)}function v7(e){return e.getUTCDay()}function x7(e,t){return xe(Gd.count(Un(e)-1,e),t,2)}function b7(e,t){return xe(e.getUTCFullYear()%100,t,2)}function w7(e,t){return e=sC(e),xe(e.getUTCFullYear()%100,t,2)}function j7(e,t){return xe(e.getUTCFullYear()%1e4,t,4)}function N7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qa(e):qa.ceil(e),xe(e.getUTCFullYear()%1e4,t,4)}function S7(){return"+0000"}function BN(){return"%"}function FN(e){return+e}function zN(e){return Math.floor(+e/1e3)}var Hs,aC,oC;_7({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function _7(e){return Hs=_V(e),aC=Hs.format,Hs.parse,oC=Hs.utcFormat,Hs.utcParse,Hs}function P7(e){return new Date(e)}function k7(e){return e instanceof Date?+e:+new Date(+e)}function ex(e,t,r,n,i,s,a,l,c,u){var d=Fv(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),b=u("%I:%M"),w=u("%I %p"),y=u("%a %d"),v=u("%b %d"),x=u("%B"),N=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?p:a(S)<S?b:s(S)<S?w:n(S)<S?i(S)<S?y:v:r(S)<S?x:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,k7)):h().map(P7)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?j:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(qE(P,S)):d},d.copy=function(){return Sc(d,ex(e,t,r,n,i,s,a,l,c,u))},d}function A7(){return Lr.apply(ex(NV,SV,zn,Qv,yh,_c,Xv,Gv,os,aC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function O7(){return Lr.apply(ex(wV,jV,Un,Zv,vh,gh,Jv,Yv,os,oC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xh(){var e=0,t=1,r,n,i,s,a=Dt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(mo),u.rangeRound=d(Bv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Li(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lC(){var e=$i(xh()(Dt));return e.copy=function(){return Li(e,lC())},Yn.apply(e,arguments)}function cC(){var e=Wv(xh()).domain([1,10]);return e.copy=function(){return Li(e,cC()).base(e.base())},Yn.apply(e,arguments)}function uC(){var e=Vv(xh());return e.copy=function(){return Li(e,uC()).constant(e.constant())},Yn.apply(e,arguments)}function tx(){var e=Kv(xh());return e.copy=function(){return Li(e,tx()).exponent(e.exponent())},Yn.apply(e,arguments)}function E7(){return tx.apply(null,arguments).exponent(.5)}function dC(){var e=[],t=Dt;function r(n){if(n!=null&&!isNaN(n=+n))return t((jc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ni),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>p9(e,s/n))},r.copy=function(){return dC(t).domain(e)},Yn.apply(r,arguments)}function bh(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Dt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-s)*(n*b<n*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function p(b){return function(w){var y,v,x;return arguments.length?([y,v,x]=w,u=U9(b,[y,v,x]),m):[u(0),u(.5),u(1)]}}return m.range=p(mo),m.rangeRound=p(Bv),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(e),s=b(t),a=b(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function fC(){var e=$i(bh()(Dt));return e.copy=function(){return Li(e,fC())},Yn.apply(e,arguments)}function hC(){var e=Wv(bh()).domain([.1,1,10]);return e.copy=function(){return Li(e,hC()).base(e.base())},Yn.apply(e,arguments)}function mC(){var e=Vv(bh());return e.copy=function(){return Li(e,mC()).constant(e.constant())},Yn.apply(e,arguments)}function rx(){var e=Kv(bh());return e.copy=function(){return Li(e,rx()).exponent(e.exponent())},Yn.apply(e,arguments)}function C7(){return rx.apply(null,arguments).exponent(.5)}const rl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:$v,scaleDiverging:fC,scaleDivergingLog:hC,scaleDivergingPow:rx,scaleDivergingSqrt:C7,scaleDivergingSymlog:mC,scaleIdentity:HE,scaleImplicit:n0,scaleLinear:KE,scaleLog:GE,scaleOrdinal:Rv,scalePoint:v9,scalePow:Hv,scaleQuantile:JE,scaleQuantize:QE,scaleRadial:XE,scaleSequential:lC,scaleSequentialLog:cC,scaleSequentialPow:tx,scaleSequentialQuantile:dC,scaleSequentialSqrt:E7,scaleSequentialSymlog:uC,scaleSqrt:dV,scaleSymlog:YE,scaleThreshold:ZE,scaleTime:A7,scaleUtc:O7,tickFormat:VE},Symbol.toStringTag,{value:"Module"}));var Ii=e=>e.chartData,wh=z([Ii],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),nx=(e,t,r,n)=>n?wh(e):Ii(e);function Ga(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(hr(t)&&hr(r))return!0}return!1}function UN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function T7(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(hr(r))i=r;else if(typeof r=="function")return;if(hr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Ga(a))return a}}function M7(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ga(n))return UN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ne(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Fj.test(i)){var c=Fj.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ne(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&zj.test(s)){var d=zj.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(Ga(h))return t==null?h:UN(h,t,r)}}}var po=1e9,D7={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sx,Le=!0,Mr="[DecimalError] ",ys=Mr+"Invalid argument: ",ix=Mr+"Exponent out of range: ",go=Math.floor,Ji=Math.pow,R7=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,ft=1e7,De=7,pC=9007199254740991,Yd=go(pC/De),se={};se.absoluteValue=se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};se.comparedTo=se.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};se.decimalPlaces=se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*De;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};se.dividedBy=se.div=function(e){return Tn(this,new this.constructor(e))};se.dividedToIntegerBy=se.idiv=function(e){var t=this,r=t.constructor;return Se(Tn(t,new r(e),0,1),r.precision)};se.equals=se.eq=function(e){return!this.cmp(e)};se.exponent=function(){return rt(this)};se.greaterThan=se.gt=function(e){return this.cmp(e)>0};se.greaterThanOrEqualTo=se.gte=function(e){return this.cmp(e)>=0};se.isInteger=se.isint=function(){return this.e>this.d.length-2};se.isNegative=se.isneg=function(){return this.s<0};se.isPositive=se.ispos=function(){return this.s>0};se.isZero=function(){return this.s===0};se.lessThan=se.lt=function(e){return this.cmp(e)<0};se.lessThanOrEqualTo=se.lte=function(e){return this.cmp(e)<1};se.logarithm=se.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Mr+"NaN");if(r.s<1)throw Error(Mr+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):(Le=!1,t=Tn(rc(r,s),rc(e,s),s),Le=!0,Se(t,i))};se.minus=se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vC(t,e):gC(t,(e.s=-e.s,e))};se.modulo=se.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Mr+"NaN");return r.s?(Le=!1,t=Tn(r,e,0,1).times(e),Le=!0,r.minus(t)):Se(new n(r),i)};se.naturalExponential=se.exp=function(){return yC(this)};se.naturalLogarithm=se.ln=function(){return rc(this)};se.negated=se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};se.plus=se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gC(t,e):vC(t,(e.s=-e.s,e))};se.precision=se.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ys+e);if(t=rt(i)+1,n=i.d.length-1,r=n*De+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};se.squareRoot=se.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Mr+"NaN")}for(e=rt(l),Le=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=an(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=go((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Tn(l,s,a+2)).times(.5),an(s.d).slice(0,a)===(t=an(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Se(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return Le=!0,Se(n,r)};se.times=se.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%ft|0,t=l/ft|0;s[i]=(s[i]+t)%ft|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Le?Se(e,f.precision):e};se.toDecimalPlaces=se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yn(e,0,po),t===void 0?t=n.rounding:yn(t,0,8),Se(r,e+rt(r)+1,t))};se.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ps(n,!0):(yn(e,0,po),t===void 0?t=i.rounding:yn(t,0,8),n=Se(new i(n),e+1,t),r=Ps(n,!0,e+1)),r};se.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ps(i):(yn(e,0,po),t===void 0?t=s.rounding:yn(t,0,8),n=Se(new s(i),e+rt(i)+1,t),r=Ps(n.abs(),!1,e+rt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};se.toInteger=se.toint=function(){var e=this,t=e.constructor;return Se(new t(e),rt(e)+1,t.rounding)};se.toNumber=function(){return+this};se.toPower=se.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Mr+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return Se(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=pC){for(i=new c(sr),t=Math.ceil(n/De+4),Le=!1;r%2&&(i=i.times(l),VN(i.d,t)),r=go(r/2),r!==0;)l=l.times(l),VN(l.d,t);return Le=!0,e.s<0?new c(sr).div(i):Se(i,n)}}else if(s<0)throw Error(Mr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Le=!1,i=e.times(rc(l,n+u)),Le=!0,i=yC(i),i.s=s,i};se.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=rt(i),n=Ps(i,r<=s.toExpNeg||r>=s.toExpPos)):(yn(e,1,po),t===void 0?t=s.rounding:yn(t,0,8),i=Se(new s(i),e,t),r=rt(i),n=Ps(i,e<=r||r<=s.toExpNeg,e)),n};se.toSignificantDigits=se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yn(e,1,po),t===void 0?t=n.rounding:yn(t,0,8)),Se(new n(r),e,t)};se.toString=se.valueOf=se.val=se.toJSON=se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=rt(e),r=e.constructor;return Ps(e,t<=r.toExpNeg||t>=r.toExpPos)};function gC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Le?Se(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/De),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/ft|0,c[s]%=ft;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Le?Se(t,f):t}function yn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ys+e)}function an(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=De-n.length,r&&(s+=oi(r)),s+=n;a=e[t],n=a+"",r=De-n.length,r&&(s+=oi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Tn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%ft|0,a=s/ft|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*ft+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,p,b,w,y,v,x,N,j,S,P,_,A=n.constructor,C=n.s==i.s?1:-1,O=n.d,U=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Mr+"Division by zero");for(c=n.e-i.e,P=U.length,j=O.length,m=new A(C),p=m.d=[],u=0;U[u]==(O[u]||0);)++u;if(U[u]>(O[u]||0)&&--c,s==null?v=s=A.precision:a?v=s+(rt(n)-rt(i))+1:v=s,v<0)return new A(0);if(v=v/De+2|0,u=0,P==1)for(d=0,U=U[0],v++;(u<j||d)&&v--;u++)x=d*ft+(O[u]||0),p[u]=x/U|0,d=x%U|0;else{for(d=ft/(U[0]+1)|0,d>1&&(U=e(U,d),O=e(O,d),P=U.length,j=O.length),N=P,b=O.slice(0,P),w=b.length;w<P;)b[w++]=0;_=U.slice(),_.unshift(0),S=U[0],U[1]>=ft/2&&++S;do d=0,l=t(U,b,P,w),l<0?(y=b[0],P!=w&&(y=y*ft+(b[1]||0)),d=y/S|0,d>1?(d>=ft&&(d=ft-1),f=e(U,d),h=f.length,w=b.length,l=t(f,b,h,w),l==1&&(d--,r(f,P<h?_:U,h))):(d==0&&(l=d=1),f=U.slice()),h=f.length,h<w&&f.unshift(0),r(b,f,w),l==-1&&(w=b.length,l=t(U,b,P,w),l<1&&(d++,r(b,P<w?_:U,w))),w=b.length):l===0&&(d++,b=[0]),p[u++]=d,l&&b[0]?b[w++]=O[N]||0:(b=[O[N]],w=1);while((N++<j||b[0]!==void 0)&&v--)}return p[0]||p.shift(),m.e=c,Se(m,a?s+rt(m)+1:s)}}();function yC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(rt(e)>16)throw Error(ix+rt(e));if(!e.s)return new d(sr);for(t==null?(Le=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(Ji(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(sr),d.precision=l;;){if(i=Se(i.times(e),l),r=r.times(++c),a=s.plus(Tn(i,r,l)),an(a.d).slice(0,l)===an(s.d).slice(0,l)){for(;u--;)s=Se(s.times(s),l);return d.precision=f,t==null?(Le=!0,Se(s,f)):s}s=a}}function rt(e){for(var t=e.e*De,r=e.d[0];r>=10;r/=10)t++;return t}function ep(e,t,r){if(t>e.LN10.sd())throw Le=!0,r&&(e.precision=r),Error(Mr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function oi(e){for(var t="";e--;)t+="0";return t}function rc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,p=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(Mr+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new b(0);if(t==null?(Le=!1,u=w):u=t,m.eq(10))return t==null&&(Le=!0),ep(b,u);if(u+=h,b.precision=u,r=an(p),n=r.charAt(0),s=rt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;s=rt(m),n>1?(m=new b("0."+r),s++):m=new b(n+"."+r.slice(1))}else return c=ep(b,u+2,w).times(s+""),m=rc(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(Le=!0,Se(m,w)):m;for(l=a=m=Tn(m.minus(sr),m.plus(sr),u),d=Se(m.times(m),u),i=3;;){if(a=Se(a.times(d),u),c=l.plus(Tn(a,new b(i),u)),an(c.d).slice(0,u)===an(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(ep(b,u+2,w).times(s+""))),l=Tn(l,new b(f),u),b.precision=w,t==null?(Le=!0,Se(l,w)):l;l=c,i+=2}}function WN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=go(r/De),e.d=[],n=(r+1)%De,r<0&&(n+=De),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=De;n<i;)e.d.push(+t.slice(n,n+=De));t=t.slice(n),n=De-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Le&&(e.e>Yd||e.e<-Yd))throw Error(ix+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=De,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/De),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=De,i=n-De+a}if(r!==void 0&&(s=Ji(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Ji(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=rt(e),f.length=1,t=t-s-1,f[0]=Ji(10,(De-t%De)%De),e.e=go(-t/De)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ji(10,De-n),f[d]=i>0?(u/Ji(10,a-i)%Ji(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=ft)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Le&&(e.e>Yd||e.e<-Yd))throw Error(ix+rt(e));return e}function vC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Le?Se(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/De),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ft-1;--c[s],c[i]+=ft}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Le?Se(t,m):t):new h(0)}function Ps(e,t,r){var n,i=rt(e),s=an(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+oi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+oi(-i-1)+s,r&&(n=r-a)>0&&(s+=oi(n))):i>=a?(s+=oi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+oi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=oi(n))),e.s<0?"-"+s:s}function VN(e,t){if(e.length>t)return e.length=t,!0}function xC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(ys+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return WN(a,s.toString())}else if(typeof s!="string")throw Error(ys+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,R7.test(s))WN(a,s);else throw Error(ys+s)}if(i.prototype=se,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=xC,i.config=i.set=$7,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function $7(e){if(!e||typeof e!="object")throw Error(Mr+"Object expected");var t,r,n,i=["precision",1,po,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(go(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(ys+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ys+r+": "+n);return this}var sx=xC(D7);sr=new sx(1);const we=sx;var L7=e=>e,bC={"@@functional/placeholder":!0},wC=e=>e===bC,KN=e=>function t(){return arguments.length===0||arguments.length===1&&wC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},jC=(e,t)=>e===1?t:KN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==bC).length;return s>=e?t(...n):jC(e-s,KN(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>wC(d)?l.shift():d);return t(...u,...l)}))}),jh=e=>jC(e.length,e),o0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},I7=jh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),B7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return L7;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},l0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),NC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function SC(e){var t;return e===0?t=1:t=Math.floor(new we(e).abs().log(10).toNumber())+1,t}function _C(e,t,r){for(var n=new we(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}jh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});jh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});jh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var PC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},kC=(e,t,r)=>{if(e.lte(0))return new we(0);var n=SC(e.toNumber()),i=new we(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new we(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new we(c.toNumber()):new we(Math.ceil(c.toNumber()))},F7=(e,t,r)=>{var n=new we(1),i=new we(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new we(10).pow(SC(e)-1),i=new we(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new we(Math.floor(e)))}else e===0?i=new we(Math.floor((t-1)/2)):r||(i=new we(Math.floor(e)));var a=Math.floor((t-1)/2),l=B7(I7(c=>i.add(new we(c-a).mul(n)).toNumber()),o0);return l(0,t)},AC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new we(0),tickMin:new we(0),tickMax:new we(0)};var a=kC(new we(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new we(0):(l=new we(t).add(r).div(2),l=l.sub(new we(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new we(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?AC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new we(c).mul(a)),tickMax:l.add(new we(u).mul(a))})};function z7(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=PC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...o0(0,n-1).map(()=>1/0)]:[...o0(0,n-1).map(()=>-1/0),l];return t>r?l0(c):c}if(a===l)return F7(a,n,i);var{step:u,tickMin:d,tickMax:f}=AC(a,l,s,i,0),h=_C(d,f.add(new we(.1).mul(u)),u);return t>r?l0(h):h}function U7(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=PC([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=kC(new we(a).sub(s).div(l-1),i,0),u=[..._C(new we(s),new we(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?l0(u):u}var W7=NC(z7),V7=NC(U7),OC=e=>e.rootProps.maxBarSize,K7=e=>e.rootProps.barGap,EC=e=>e.rootProps.barCategoryGap,H7=e=>e.rootProps.barSize,Pc=e=>e.rootProps.stackOffset,ax=e=>e.options.chartName,ox=e=>e.rootProps.syncId,CC=e=>e.rootProps.syncMethod,lx=e=>e.options.eventEmitter,nn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Wt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Nh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},q7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:nn.angleAxisId,includeHidden:!1,name:void 0,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:void 0,ticks:void 0,type:nn.type,unit:void 0},G7={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,ticks:void 0,type:Wt.type,unit:void 0},Y7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:nn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nn.scale,tick:nn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},X7={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,ticks:void 0,type:"category",unit:void 0},yo=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Y7:q7,kc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?X7:G7,Sh=e=>e.polarOptions,cx=z([qn,Gn,at],eE),TC=z([Sh,cx],(e,t)=>{if(e!=null)return Lt(e.innerRadius,t,0)}),MC=z([Sh,cx],(e,t)=>{if(e!=null)return Lt(e.outerRadius,t,t*.8)}),J7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},DC=z([Sh],J7),Q7=z([yo,DC],Nh),RC=z([cx,TC,MC],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),Z7=z([kc,RC],Nh),vo=z([ge,Sh,TC,MC,qn,Gn],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Lt(a,i,i/2),cy:Lt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Pe=(e,t)=>t,Ac=(e,t,r)=>r;function ux(e){return e==null?void 0:e.id}var lt=e=>{var t=ge(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xo=e=>e.tooltip.settings.axisId,ct=e=>{var t=lt(e),r=xo(e);return bo(e,t,r)};function $C(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=ux(a);c.forEach((d,f)=>{var h=i==null?f:String(Ee(d,i,null)),m=Ee(d,a.dataKey,0),p;s.has(h)?p=s.get(h):p={},Object.assign(p,{[u]:m}),s.set(h,p)})}}),Array.from(s.values())}function _h(e){return e.stackId!=null&&e.dataKey!=null}function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){eK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eK(e,t,r){return(t=tK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c0=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Xn=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??rr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:c0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fh},Bi=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??nr},nK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},dx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??nK},Qe=(e,t,r)=>{switch(t){case"xAxis":return Xn(e,r);case"yAxis":return Bi(e,r);case"zAxis":return dx(e,r);case"angleAxis":return yo(e,r);case"radiusAxis":return kc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iK=(e,t,r)=>{switch(t){case"xAxis":return Xn(e,r);case"yAxis":return Bi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bo=(e,t,r)=>{switch(t){case"xAxis":return Xn(e,r);case"yAxis":return Bi(e,r);case"angleAxis":return yo(e,r);case"radiusAxis":return kc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},LC=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function fx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var hx=e=>e.graphicalItems.cartesianItems,sK=z([Pe,Ac],fx),mx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Oc=z([hx,Qe,sK],mx),IC=z([Oc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(_h)),BC=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),FC=z([Oc],BC),px=e=>e.map(t=>t.data).filter(Boolean).flat(1),aK=z([Oc],px),gx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},yx=z([aK,nx],gx),vx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ee(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ee(i,n)}))):e.map(n=>({value:n})),Ph=z([yx,Qe,Oc],vx);function zC(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ls(e){return e.filter(t=>gn(t)||t instanceof Date).map(Number).filter(t=>ur(t)===!1)}function oK(e,t,r){return!r||typeof t!="number"||ur(t)?[]:r.length?Ls(r.flatMap(n=>{var i=Ee(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!hr(s)||!hr(a)))return[t-s,t+a]})):[]}var lK=z([IC,nx,ct],$C),UC=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(ux);return[a,{stackedData:CU(e,c,r),graphicalItems:l}]}))},u0=z([lK,IC,Pc],UC),WC=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=$U(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cK=z([u0,Ii,Pe],WC),VC=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>zC(i,f)),d=Ee(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:oK(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Ee(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),kh=e=>e.errorBars,KC=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>zC(r,n));z([FC,kh,Pe],KC);var uK=z([yx,Qe,FC,kh,Pe],VC);function dK(e){var{value:t}=e;if(gn(t)||t instanceof Date)return t}var qN=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Ls(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},fK=(e,t,r)=>{var n=e.map(dK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&LA(n))?DE(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},xx=e=>{var t;if(e==null||!("domain"in e))return c0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ls(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:c0},Jd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},HC=e=>e.referenceElements.dots,wo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),hK=z([HC,Pe,Ac],wo),qC=e=>e.referenceElements.areas,mK=z([qC,Pe,Ac],wo),GC=e=>e.referenceElements.lines,pK=z([GC,Pe,Ac],wo),YC=(e,t)=>{var r=Ls(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gK=z(hK,Pe,YC),XC=(e,t)=>{var r=Ls(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yK=z([mK,Pe],XC),JC=(e,t)=>{var r=Ls(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vK=z(pK,Pe,JC),xK=z(gK,vK,yK,(e,t,r)=>Jd(e,r,t)),QC=z([Qe],xx),bx=(e,t,r,n,i,s,a)=>{var l=T7(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?Jd(r,i,qN(n)):Jd(i,qN(n));return M7(t,u,e.allowDataOverflow)},bK=z([Qe,QC,cK,uK,xK,ge,Pe],bx),wK=[0,1],wx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ri(t,s);return u&&l==null?DE(0,r.length):c==="category"?fK(n,e,u):i==="expand"?wK:a}},jx=z([Qe,ge,yx,Ph,Pc,Pe,bK],wx),ZC=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(vc(s));return l in rl?l:"point"}}},Fi=z([Qe,ge,LC,ax,Pe],ZC);function jK(e){if(e!=null){if(e in rl)return rl[e]();var t="scale".concat(vc(e));if(t in rl)return rl[t]()}}function Ah(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=jK(t);if(i!=null){var s=i.domain(r).range(n);return PU(s),s}}}var Nx=(e,t,r)=>{var n=xx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ga(e))return W7(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ga(e))return V7(e,t.tickCount,t.allowDecimals)}},Sx=z([jx,bo,Fi],Nx),_x=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ga(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},NK=z([Qe,jx,Sx,Pe],_x),SK=z(Ph,Qe,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ls(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),eT=z(SK,ge,EC,at,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!hr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Lt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),_K=(e,t)=>{var r=Xn(e,t);return r==null||typeof r.padding!="string"?0:eT(e,"xAxis",t,r.padding)},PK=(e,t)=>{var r=Bi(e,t);return r==null||typeof r.padding!="string"?0:eT(e,"yAxis",t,r.padding)},kK=z(Xn,_K,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),AK=z(Bi,PK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),OK=z([at,kK,mh,hh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),EK=z([at,ge,AK,mh,hh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ec=(e,t,r,n)=>{var i;switch(t){case"xAxis":return OK(e,r,n);case"yAxis":return EK(e,r,n);case"zAxis":return(i=dx(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return DC(e);case"radiusAxis":return RC(e,r);default:return}},tT=z([Qe,Ec],Nh),jo=z([Qe,Fi,NK,tT],Ah);z([Oc,kh,Pe],KC);function rT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Oh=(e,t)=>t,Eh=(e,t,r)=>r,CK=z(Ov,Oh,Eh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(rT)),TK=z(Ev,Oh,Eh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(rT)),nT=(e,t)=>({width:e.width,height:t.height}),MK=(e,t)=>{var r=typeof t.width=="number"?t.width:fh;return{width:r,height:e.height}},iT=z(at,Xn,nT),DK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},RK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},$K=z(Gn,at,CK,Oh,Eh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=nT(t,l);a==null&&(a=DK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),LK=z(qn,at,TK,Oh,Eh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=MK(t,l);a==null&&(a=RK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),IK=(e,t)=>{var r=at(e),n=Xn(e,t);if(n!=null){var i=$K(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},BK=(e,t)=>{var r=at(e),n=Bi(e,t);if(n!=null){var i=LK(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},sT=z(at,Bi,(e,t)=>{var r=typeof t.width=="number"?t.width:fh;return{width:r,height:e.height}}),GN=(e,t,r)=>{switch(t){case"xAxis":return iT(e,r).width;case"yAxis":return sT(e,r).height;default:return}},aT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ri(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&LA(c))return c}},Cc=z([ge,Ph,Qe,Pe],aT),Px=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ri(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},kx=z([ge,Ph,bo,Pe],Px),YN=z([ge,iK,Fi,jo,Cc,kx,Ec,Sx,Pe],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ri(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),oT=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ri(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?mt(s[0]-s[1])*2*p:p;var b=f||i;if(b){var w=b.map((y,v)=>{var x=a?a.indexOf(y):y;return{index:v,coordinate:n(x)+p,value:y,offset:p}});return w.filter(y=>!ur(y.coordinate))}return u&&l?l.map((y,v)=>({coordinate:n(y)+p,value:y,index:v,offset:p})):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+p,value:y,offset:p})):n.domain().map((y,v)=>({coordinate:n(y)+p,value:a?a[y]:y,index:v,offset:p}))}},lT=z([ge,bo,Fi,jo,Sx,Ec,Cc,kx,Pe],oT),cT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ri(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?mt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},Ya=z([ge,bo,jo,Ec,Cc,kx,Pe],cT),Xa=z(Qe,jo,(e,t)=>{if(!(e==null||t==null))return Xd(Xd({},e),{},{scale:t})}),FK=z([Qe,Fi,jx,tT],Ah);z((e,t,r)=>dx(e,r),FK,(e,t)=>{if(!(e==null||t==null))return Xd(Xd({},e),{},{scale:t})});var zK=z([ge,Ov,Ev],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),uT=e=>e.options.defaultTooltipEventType,dT=e=>e.options.validateTooltipEventTypes;function fT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ax(e,t){var r=uT(e),n=dT(e);return fT(t,r,n)}function UK(e){return re(t=>Ax(t,e))}var hT=(e,t)=>{var r,n=Number(t);if(!(ur(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},WK=e=>e.tooltip.settings,di={active:!1,index:null,dataKey:void 0,coordinate:void 0},VK={itemInteraction:{click:di,hover:di},axisInteraction:{click:di,hover:di},keyboardInteraction:di,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},mT=gr({name:"tooltip",initialState:VK,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Cn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:KK,removeTooltipEntrySettings:HK,setTooltipSettingsState:qK,setActiveMouseOverItemIndex:pT,mouseLeaveItem:GK,mouseLeaveChart:gT,setActiveClickItemIndex:YK,setMouseOverAxisIndex:yT,setMouseClickAxisIndex:XK,setSyncInteraction:d0,setKeyboardInteraction:f0}=mT.actions,JK=mT.reducer;function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=eH(e,"string");return typeof t=="symbol"?t:t+""}function eH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function rH(e){return e.index!=null}var vT=(e,t,r,n)=>{if(t==null)return di;var i=tH(e,t,r);if(i==null)return di;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(rH(i)){if(s)return wu(wu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return wu(wu({},di),{},{coordinate:i.coordinate})},Ox=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!hr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},xT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},bT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Tc=e=>e.options.tooltipPayloadSearcher,No=e=>e.tooltip;function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function QN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){nH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nH(e,t,r){return(t=iH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iH(e){var t=sH(e,"string");return typeof t=="symbol"?t:t+""}function sH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aH(e,t){return e??t}var wT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:b,settings:w}=m,y=aH(b,l),v=Array.isArray(y)?rE(y,u,d):y,x=(p=w==null?void 0:w.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,N=w==null?void 0:w.nameKey,j;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?j=AF(v,n.dataKey,i):j=s(v,t,c,N),Array.isArray(j))j.forEach(P=>{var _=QN(QN({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(Uj({tooltipEntrySettings:_,dataKey:P.dataKey,payload:P.payload,value:Ee(P.payload,P.dataKey),name:P.name}))});else{var S;h.push(Uj({tooltipEntrySettings:w,dataKey:x,payload:j,value:Ee(j,x),name:(S=Ee(j,N))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},Ex=z([ct,ge,LC,ax,lt],ZC),oH=z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),lH=z([lt,xo],fx),Mc=z([oH,ct,lH],mx),cH=z([Mc],e=>e.filter(_h)),uH=z([Mc],px),So=z([uH,Ii],gx),dH=z([cH,Ii,ct],$C),Cx=z([So,ct,Mc],vx),fH=z([ct],xx),hH=z([Mc],e=>e.filter(_h)),mH=z([dH,hH,Pc],UC),pH=z([mH,Ii,lt],WC),gH=z([Mc],BC),yH=z([So,ct,gH,kh,lt],VC),vH=z([HC,lt,xo],wo),xH=z([vH,lt],YC),bH=z([qC,lt,xo],wo),wH=z([bH,lt],XC),jH=z([GC,lt,xo],wo),NH=z([jH,lt],JC),SH=z([xH,NH,wH],Jd),_H=z([ct,fH,pH,yH,SH,ge,lt],bx),jT=z([ct,ge,So,Cx,Pc,lt,_H],wx),PH=z([jT,ct,Ex],Nx),kH=z([ct,jT,PH,lt],_x),NT=e=>{var t=lt(e),r=xo(e),n=!1;return Ec(e,t,r,n)},ST=z([ct,NT],Nh),_T=z([ct,Ex,kH,ST],Ah),AH=z([ge,Cx,ct,lt],aT),OH=z([ge,Cx,ct,lt],Px),EH=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ri(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?mt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Jn=z([ge,ct,Ex,_T,NT,AH,OH,lt],EH),Tx=z([uT,dT,WK],(e,t,r)=>fT(r.shared,e,t)),PT=e=>e.tooltip.settings.trigger,Mx=e=>e.tooltip.settings.defaultIndex,Ch=z([No,Tx,PT,Mx],vT),Oi=z([Ch,So],Ox),kT=z([Jn,Oi],hT),AT=z([Ch],e=>{if(e)return e.dataKey}),OT=z([No,Tx,PT,Mx],bT),CH=z([qn,Gn,ge,at,Jn,Mx,OT,Tc],xT),TH=z([Ch,CH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),MH=z([Ch],e=>e.active),DH=z([OT,Oi,Ii,ct,kT,Tc,Tx],wT),RH=z([DH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){$H(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $H(e,t,r){return(t=LH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LH(e){var t=IH(e,"string");return typeof t=="symbol"?t:t+""}function IH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BH=()=>re(ct),FH=()=>{var e=BH(),t=re(Jn),r=re(_T);return Xl(eS(eS({},e),{},{scale:r}),t)},zH=()=>re(ax),Dx=(e,t)=>t,ET=(e,t,r)=>r,Rx=(e,t,r,n)=>n,UH=z(Jn,e=>sh(e,t=>t.coordinate)),$x=z([No,Dx,ET,Rx],vT),CT=z([$x,So],Ox),WH=(e,t,r)=>{if(t!=null){var n=No(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},TT=z([No,Dx,ET,Rx],bT),Qd=z([qn,Gn,ge,at,Jn,Rx,TT,Tc],xT),VH=z([$x,Qd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),MT=z(Jn,CT,hT),KH=z([TT,CT,Ii,ct,MT,Tc,Dx],wT),HH=z([$x],e=>({isActive:e.active,activeIndex:e.index})),qH=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=LU(e.chartX,e.chartY,t,r,l);if(c){var u=BU(c,t),d=SU(u,a,s,n,i),f=IU(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(null,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ju(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){GH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GH(e,t,r){return(t=YH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YH(e){var t=XH(e,"string");return typeof t=="symbol"?t:t+""}function XH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JH(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=jW;else if(u==="BarChart")m=NW(a,d,i,s),p=kE;else if(a==="radial"){var{cx:b,cy:w,radius:y,startAngle:v,endAngle:x}=AE(d);m={cx:b,cy:w,startAngle:v,endAngle:x,innerRadius:y,outerRadius:y},p=EE}else m={points:r9(a,d,i)},p=gE;var N=typeof l=="object"&&"className"in l?l.className:void 0,j=ju(ju(ju(ju({stroke:"#ccc",pointerEvents:"none"},i),m),ve(l,!1)),{},{payload:f,payloadIndex:h,className:de("recharts-tooltip-cursor",N)});return g.isValidElement(l)?g.cloneElement(l,j):g.createElement(p,j)}function QH(e){var t=FH(),r=cE(),n=Tv(),i=zH();return g.createElement(JH,h0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var DT=g.createContext(null),ZH=()=>g.useContext(DT),RT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],y=arguments.length,v,x;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),y){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,p),!0}for(x=1,v=new Array(y-1);x<y;x++)v[x-1]=arguments[x];w.fn.apply(w.context,v)}else{var N=w.length,j;for(x=0;x<N;x++)switch(w[x].once&&this.removeListener(u,w[x].fn,void 0,!0),y){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,d);break;case 3:w[x].fn.call(w[x].context,d,f);break;case 4:w[x].fn.call(w[x].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(y-1);j<y;j++)v[j-1]=arguments[j];w[x].fn.apply(w[x].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var b=0,w=[],y=p.length;b<y;b++)(p[b].fn!==d||h&&!p[b].once||f&&p[b].context!==f)&&w.push(p[b]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(RT);var eq=RT.exports;const tq=Dr(eq);var nc=new tq,m0="recharts.syncEvent.tooltip",rS="recharts.syncEvent.brush";function Lx(e,t){if(t){var r=Number.parseInt(t,10);if(!ur(r))return e==null?void 0:e[r]}}var rq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},$T=gr({name:"options",initialState:rq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nq=$T.reducer,{createEventEmitter:iq}=$T.actions;function sq(e){return e.tooltip.syncInteraction}var aq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},LT=gr({name:"chartData",initialState:aq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:nS,setDataStartEndIndexes:oq,setComputedData:Bte}=LT.actions,lq=LT.reducer,IT=()=>{};function cq(){var e=re(ox),t=re(lx),r=We(),n=re(CC),i=re(Jn),s=Tv(),a=Cv(),l=re(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return IT;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(i,m);h=i[p]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:b}=d.payload;if(h==null||d.payload.active===!1||b==null||a==null){r(d0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y}=b,v=Math.min(w,a.x+a.width),x=Math.min(y,a.y+a.height),N={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?x:h.coordinate},j=d0({active:d.payload.active,coordinate:N,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(j)}}};return nc.on(m0,c),()=>{nc.off(m0,c)}},[l,r,t,e,n,i,s,a])}function uq(){var e=re(ox),t=re(lx),r=We();g.useEffect(()=>{if(e==null)return IT;var n=(i,s,a)=>{t!==a&&e===i&&r(oq(s))};return nc.on(rS,n),()=>{nc.off(rS,n)}},[r,t,e])}function dq(){var e=We();g.useEffect(()=>{e(iq())},[e]),cq(),uq()}function fq(e,t,r,n,i,s){var a=re(h=>WH(h,e,t)),l=re(lx),c=re(ox),u=re(CC),d=re(sq),f=d==null?void 0:d.active;g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=d0({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});nc.emit(m0,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hq(e,t,r){return(t=mq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mq(e){var t=pq(e,"string");return typeof t=="symbol"?t:t+""}function pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gq(e){return e.dataKey}function yq(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(eW,t)}var aS=[],vq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ds.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ja(e){var t=$r(e,vq),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:b,shared:w,trigger:y,defaultIndex:v,portal:x,axisId:N}=t,j=We(),S=typeof v=="number"?String(v):v;g.useEffect(()=>{j(qK({shared:w,trigger:y,axisId:N,active:r,defaultIndex:S}))},[j,w,y,N,r,S]);var P=Cv(),_=pE(),A=UK(w),{activeIndex:C,isActive:O}=re(T=>HH(T,A,y,S)),U=re(T=>KH(T,A,y,S)),L=re(T=>MT(T,A,y,S)),K=re(T=>VH(T,A,y,S)),I=U,E=ZH(),V=r??O,[B,k]=m8([I,V]),F=A==="axis"?L:void 0;fq(A,y,K,F,C,V);var Q=x??E;if(Q==null)return null;var D=I??aS;V||(D=aS),l&&D.length&&(D=Tz(I.filter(T=>T.value!=null&&(T.hide!==!0||t.includeHidden)),d,gq));var Z=D.length>0,q=g.createElement(oW,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:V,coordinate:K,hasPayload:Z,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:p,lastBoundingBox:B,innerRef:k,hasPortalFromProps:!!x},yq(a,sS(sS({},t),{},{payload:D,label:F,active:V,coordinate:K,accessibilityLayer:_})));return g.createElement(g.Fragment,null,yk.createPortal(q,Q),V&&g.createElement(QH,{cursor:b,tooltipEventType:A,coordinate:K,payload:I,index:C}))}var BT={},FT={},zT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{p(),a=void 0,l=null},w=()=>{d()},y=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const x=h==null;m(),c&&x&&d()};return y.schedule=m,y.cancel=b,y.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),y}e.debounce=t})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zT;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),m=function(...b){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(FT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FT;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(BT);var xq=BT.throttle;const bq=Dr(xq);var bl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function oS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oS(Object(r),!0).forEach(function(n){wq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wq(e,t,r){return(t=jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jq(e){var t=Nq(e,"string");return typeof t=="symbol"?t:t+""}function Nq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,b=g.useRef(null),w=g.useRef();w.current=m,g.useImperativeHandle(t,()=>b.current);var[y,v]=g.useState({containerWidth:n.width,containerHeight:n.height}),x=g.useCallback((j,S)=>{v(P=>{var _=Math.round(j),A=Math.round(S);return P.containerWidth===_&&P.containerHeight===A?P:{containerWidth:_,containerHeight:A}})},[]);g.useEffect(()=>{var j=A=>{var C,{width:O,height:U}=A[0].contentRect;x(O,U),(C=w.current)===null||C===void 0||C.call(w,O,U)};d>0&&(j=bq(j,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(j),{width:P,height:_}=b.current.getBoundingClientRect();return x(P,_),S.observe(b.current),()=>{S.disconnect()}},[x,d]);var N=g.useMemo(()=>{var{containerWidth:j,containerHeight:S}=y;if(j<0||S<0)return null;bl(is(i)||is(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),bl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=is(i)?j:i,_=is(s)?S:s;return r&&r>0&&(P?_=P/r:_&&(P=_*r),c&&_>c&&(_=c)),bl(P>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,_,i,s,a,l,r),g.Children.map(u,A=>g.cloneElement(A,{width:P,height:_,style:tp({width:P,height:_},A.props.style)}))},[r,u,s,c,l,a,y,i]);return g.createElement("div",{id:f?"".concat(f):void 0,className:de("recharts-responsive-container",h),style:tp(tp({},p),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:b},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),Is=e=>null;Is.displayName="Cell";function Sq(e,t,r){return(t=_q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _q(e){var t=Pq(e,"string");return typeof t=="symbol"?t:t+""}function Pq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kq{constructor(t){Sq(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Aq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tq={cacheSize:2e3,enableCache:!0},UT=Aq({},Tq),cS=new kq(UT.cacheSize),Mq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},uS="recharts_measurement_span";function Dq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var dS=(e,t)=>{try{var r=document.getElementById(uS);r||(r=document.createElement("span"),r.setAttribute("id",uS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Mq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},wl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ds.isSsr)return{width:0,height:0};if(!UT.enableCache)return dS(t,r);var n=Dq(t,r),i=cS.get(n);if(i)return i;var s=dS(t,r);return cS.set(n,s),s},fS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Rq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$q=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,WT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Lq=Object.keys(WT),ma="NaN";function Iq(e,t){return e*WT[t]}class Ut{static parse(t){var r,[,n,i]=(r=$q.exec(t))!==null&&r!==void 0?r:[];return new Ut(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ur(t)&&(this.unit=""),r!==""&&!Rq.test(r)&&(this.num=NaN,this.unit=""),Lq.includes(r)&&(this.num=Iq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function VT(e){if(e.includes(ma))return ma;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=fS.exec(t))!==null&&r!==void 0?r:[],a=Ut.parse(n??""),l=Ut.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return ma;t=t.replace(fS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=hS.exec(t))!==null&&u!==void 0?u:[],m=Ut.parse(d??""),p=Ut.parse(h??""),b=f==="+"?m.add(p):m.subtract(p);if(b.isNaN())return ma;t=t.replace(hS,b.toString())}return t}var mS=/\(([^()]*)\)/;function Bq(e){for(var t=e,r;(r=mS.exec(t))!=null;){var[,n]=r;t=t.replace(mS,VT(n))}return t}function Fq(e){var t=e.replace(/\s+/g,"");return t=Bq(t),t=VT(t),t}function zq(e){try{return Fq(e)}catch{return ma}}function rp(e){var t=zq(e.slice(5,-1));return t===ma?"":t}var Uq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Wq=["dx","dy","angle","className","breakAll"];function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function pS(e,t){if(e==null)return{};var r,n,i=Vq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KT=/[ \f\n\r\t\v\u2028\u2029]+/,HT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];Ge(t)||(r?i=t.toString().split(""):i=t.toString().split(KT));var s=i.map(l=>({word:l,width:wl(l,n).width})),a=r?0:wl(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Kq=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=ne(s),d=a,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((U,L)=>{var{word:K,width:I}=L,E=U[U.length-1];if(E&&(n==null||i||E.width+I+r<Number(n)))E.words.push(K),E.width+=I+r;else{var V={words:[K],width:I};U.push(V)}return U},[])},h=f(t),m=C=>C.reduce((O,U)=>O.width>U.width?O:U);if(!u||i)return h;var p=h.length>s||m(h).width>Number(n);if(!p)return h;for(var b="…",w=C=>{var O=d.slice(0,C),U=HT({breakAll:c,style:l,children:O+b}).wordsWithComputedWidth,L=f(U),K=L.length>s||m(L).width>Number(n);return[K,L]},y=0,v=d.length-1,x=0,N;y<=v&&x<=d.length-1;){var j=Math.floor((y+v)/2),S=j-1,[P,_]=w(S),[A]=w(j);if(!P&&!A&&(y=j+1),P&&A&&(v=j-1),!P&&A){N=_;break}x++}return N||h},gS=e=>{var t=Ge(e)?[]:e.toString().split(KT);return[{words:t}]},Hq=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Ds.isSsr){var l,c,u=HT({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return gS(n);return Kq({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return gS(n)},yS="#808080",_o=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=yS}=e,d=pS(e,Uq),f=g.useMemo(()=>Hq({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:b,breakAll:w}=d,y=pS(d,Wq);if(!gn(r)||!gn(n))return null;var v=r+(ne(h)?h:0),x=n+(ne(m)?m:0),N;switch(c){case"start":N=rp("calc(".concat(s,")"));break;case"middle":N=rp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:N=rp("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(a){var S=f[0].width,{width:P}=d;j.push("scale(".concat(ne(P)?P/S:1,")"))}return p&&j.push("rotate(".concat(p,", ").concat(v,", ").concat(x,")")),j.length&&(y.transform=j.join(" ")),g.createElement("text",p0({},ve(y,!0),{ref:t,x:v,y:x,className:de("recharts-text",b),textAnchor:l,fill:u.includes("url")?yS:u}),f.map((_,A)=>{var C=_.words.join(w?"":" ");return g.createElement("tspan",{x:v,dy:A===0?N:i,key:"".concat(C,"-").concat(A)},C)}))});_o.displayName="Text";var qq=["offset"],Gq=["labelRef"];function vS(e,t){if(e==null)return{};var r,n,i=Yq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Yq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ve(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Xq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xq(e,t,r){return(t=Jq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jq(e){var t=Qq(e,"string");return typeof t=="symbol"?t:t+""}function Qq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(null,arguments)}var Zq=e=>{var{value:t,formatter:r}=e,n=Ge(e.children)?t:e.children;return typeof r=="function"?r(n):n},Ix=e=>e!=null&&typeof e=="function",eG=(e,t)=>{var r=mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},tG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,p=(u+d)/2,b=eG(f,h),w=b>=0?1:-1,y,v;i==="insideStart"?(y=f+w*s,v=m):i==="insideEnd"?(y=h-w*s,v=!m):i==="end"&&(y=h+w*s,v=m),v=b<=0?v:!v;var x=be(l,c,p,y),N=be(l,c,p,y+(v?1:-1)*359),j="M".concat(x.x,",").concat(x.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(v?0:1,`,
    `).concat(N.x,",").concat(N.y),S=Ge(e.id)?ql("recharts-radial-line-"):e.id;return g.createElement("text",Sn({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",a)}),g.createElement("defs",null,g.createElement("path",{id:S,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(S)},t))},rG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=be(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:p}=be(n,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},nG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,b=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var y={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Ve(Ve({},y),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Ve(Ve({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var x={x:s-p,y:a+c/2,textAnchor:b,verticalAnchor:"middle"};return Ve(Ve({},x),r?{width:Math.max(x.x-r.x,0),height:c}:{})}if(i==="right"){var N={x:s+l+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Ve(Ve({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:c}:{})}var j=r?{width:l,height:c}:{};return i==="insideLeft"?Ve({x:s+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},j):i==="insideRight"?Ve({x:s+l-p,y:a+c/2,textAnchor:b,verticalAnchor:"middle"},j):i==="insideTop"?Ve({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},j):i==="insideBottom"?Ve({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},j):i==="insideTopLeft"?Ve({x:s+p,y:a+d,textAnchor:w,verticalAnchor:h},j):i==="insideTopRight"?Ve({x:s+l-p,y:a+d,textAnchor:b,verticalAnchor:h},j):i==="insideBottomLeft"?Ve({x:s+p,y:a+c-d,textAnchor:w,verticalAnchor:f},j):i==="insideBottomRight"?Ve({x:s+l-p,y:a+c-d,textAnchor:b,verticalAnchor:f},j):i&&typeof i=="object"&&(ne(i.x)||is(i.x))&&(ne(i.y)||is(i.y))?Ve({x:s+Lt(i.x,l),y:a+Lt(i.y,c),textAnchor:"end",verticalAnchor:"end"},j):Ve({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},iG=e=>"cx"in e&&ne(e.cx);function Ht(e){var{offset:t=5}=e,r=vS(e,qq),n=Ve({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=re(vo),m=Cv(),p=s==="center"?m:h??m,b=i||p;if(!b||Ge(a)&&Ge(l)&&!g.isValidElement(c)&&typeof c!="function")return null;var w=Ve(Ve({},n),{},{viewBox:b});if(g.isValidElement(c)){var y=vS(w,Gq);return g.cloneElement(c,y)}var v;if(typeof c=="function"){if(v=g.createElement(c,w),g.isValidElement(v))return v}else v=Zq(n);var x=iG(b),N=ve(n,!0);if(x&&(s==="insideStart"||s==="insideEnd"||s==="end"))return tG(n,v,N,b);var j=x?rG(b,n.offset,n.position):nG(n,b);return g.createElement(_o,Sn({ref:f,className:de("recharts-label",u)},N,j,{breakAll:d}),v)}Ht.displayName="Label";var qT=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:b,clockWise:w,labelViewBox:y}=e;if(y)return y;if(ne(p)&&ne(b)){if(ne(d)&&ne(f))return{x:d,y:f,width:p,height:b};if(ne(h)&&ne(m))return{x:h,y:m,width:p,height:b}}if(ne(d)&&ne(f))return{x:d,y:f,width:0,height:0};if(ne(t)&&ne(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},sG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(Ht,Sn({key:"label-implicit"},n)):gn(e)?g.createElement(Ht,Sn({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===Ht?g.cloneElement(e,Ve({key:"label-implicit"},n)):g.createElement(Ht,Sn({key:"label-implicit",content:e},n)):Ix(e)?g.createElement(Ht,Sn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(Ht,Sn({},e,{key:"label-implicit"},n)):null},aG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=qT(t),l=xc(i,Ht).map((u,d)=>g.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=sG(t.label,r||a,s);return[c,...l]};Ht.parseViewBox=qT;Ht.renderCallByParent=aG;var GT={},YT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(YT);var XT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(XT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT,r=XT,n=Zf;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(GT);var oG=GT.last;const JT=Dr(oG);var lG=["valueAccessor"],cG=["data","dataKey","clockWise","id","textBreakAll"];function Zd(){return Zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zd.apply(null,arguments)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){uG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uG(e,t,r){return(t=dG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dG(e){var t=fG(e,"string");return typeof t=="symbol"?t:t+""}function fG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jS(e,t){if(e==null)return{};var r,n,i=hG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mG=e=>Array.isArray(e.value)?JT(e.value):e.value;function Si(e){var{valueAccessor:t=mG}=e,r=jS(e,lG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=jS(r,cG);return!n||!n.length?null:g.createElement(Ue,{className:"recharts-label-list"},n.map((u,d)=>{var f=Ge(i)?t(u,d):Ee(u&&u.payload,i),h=Ge(a)?{}:{id:"".concat(a,"-").concat(d)};return g.createElement(Ht,Zd({},ve(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Ht.parseViewBox(Ge(s)?u:wS(wS({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Si.displayName="LabelList";function pG(e,t){return e?e===!0?g.createElement(Si,{key:"labelList-implicit",data:t}):g.isValidElement(e)||Ix(e)?g.createElement(Si,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(Si,Zd({data:t},e,{key:"labelList-implicit"})):null:null}function gG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=xc(n,Si).map((a,l)=>g.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=pG(e.label,t);return[s,...i]}Si.renderCallByParent=gG;var yG=["points","className","baseLinePoints","connectNulls"];function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}function vG(e,t){if(e==null)return{};var r,n,i=xG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function xG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NS=e=>e&&e.x===+e.x&&e.y===+e.y,bG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{NS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),NS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},jl=(e,t)=>{var r=bG(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},wG=(e,t,r)=>{var n=jl(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(jl(t.reverse(),r).slice(1))},QT=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=vG(e,yG);if(!t||!t.length)return null;var a=de("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=wG(t,n,i);return g.createElement("g",{className:a},g.createElement("path",pa({},ve(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?g.createElement("path",pa({},ve(s,!0),{fill:"none",d:jl(t,i)})):null,l?g.createElement("path",pa({},ve(s,!0),{fill:"none",d:jl(n,i)})):null)}var u=jl(t,i);return g.createElement("path",pa({},ve(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}var Bx=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=de("recharts-dot",i);return t===+t&&r===+r&&n===+n?g.createElement("circle",g0({},Ct(e),dv(e),{className:s,cx:t,cy:r,r:n})):null},Fx=e=>e.graphicalItems.polarItems,jG=z([Pe,Ac],fx),zx=z([Fx,Qe,jG],mx),NG=z([zx],px),Ux=z([NG,wh],gx),ZT=z([Ux,Qe,zx],vx),SG=z([Ux,Qe,zx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=Ee(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ee(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),SS=()=>{},_G=z([Qe,QC,SS,SG,SS,ge,Pe],bx),eM=z([Qe,ge,Ux,ZT,Pc,Pe,_G],wx),tM=z([eM,Qe,Fi],Nx),PG=z([Qe,eM,tM,Pe],_x),Wx=(e,t,r)=>{switch(t){case"angleAxis":return yo(e,r);case"radiusAxis":return kc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vx=(e,t,r)=>{switch(t){case"angleAxis":return Q7(e,r);case"radiusAxis":return Z7(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Po=z([Wx,Fi,PG,Vx],Ah),rM=z([ge,ZT,bo,Pe],Px),ko=z([ge,Wx,Fi,Po,tM,Vx,Cc,rM,Pe],oT);z([ge,Wx,Po,Vx,Cc,rM,Pe],cT);var kG=(e,t)=>ko(e,"angleAxis",t,!1),AG=z([kG],e=>{if(e)return e.map(t=>t.coordinate)}),OG=(e,t)=>ko(e,"radiusAxis",t,!1),EG=z([OG],e=>{if(e)return e.map(t=>t.coordinate)}),CG=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function TG(e,t){if(e==null)return{};var r,n,i=MG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){DG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DG(e,t,r){return(t=RG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LG=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=be(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},IG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=Qa({stroke:"#ccc"},Ct(e));return g.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=be(t,r,n,c),d=be(t,r,i,c);return g.createElement("line",Wn({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},BG=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=Qa(Qa({stroke:"#ccc"},Ct(e)),{},{fill:"none"});return g.createElement("circle",Wn({},s,{className:de("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},FG=e=>{var{radius:t,index:r}=e,n=Qa(Qa({stroke:"#ccc"},Ct(e)),{},{fill:"none"});return g.createElement("path",Wn({},n,{className:de("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:LG(t,e.cx,e.cy,e.polarAngles)}))},zG=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:g.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?g.createElement(BG,Wn({key:s},e,{radius:n,index:i})):g.createElement(FG,Wn({key:s},e,{radius:n,index:i}))}))},nM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:b,outerRadius:w}=e,y=TG(e,CG),v=re(vo),x=Qa({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=v==null?void 0:v.cy)!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0,innerRadius:(s=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:b)!==null&&s!==void 0?s:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},y),{polarAngles:N,polarRadius:j,cx:S,cy:P,innerRadius:_,outerRadius:A}=x,C=re(K=>AG(K,f)),O=re(K=>EG(K,h)),U=Array.isArray(N)?N:C,L=Array.isArray(j)?j:O;return A<=0||U==null||L==null?null:g.createElement("g",{className:"recharts-polar-grid"},g.createElement(IG,Wn({cx:S,cy:P,innerRadius:_,outerRadius:A,gridType:u,radialLines:d},x,{polarAngles:U,polarRadius:L})),g.createElement(zG,Wn({cx:S,cy:P,innerRadius:_,outerRadius:A,gridType:u,radialLines:d},x,{polarAngles:U,polarRadius:L})))};nM.displayName="PolarGrid";var iM={},sM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(sM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM,r=bc,n=eh;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(iM);var UG=iM.maxBy;const WG=Dr(UG);var aM={},oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(oM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oM,r=bc,n=eh;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(aM);var VG=aM.minBy;const KG=Dr(VG);var HG={radiusAxis:{},angleAxis:{}},lM=gr({name:"polarAxis",initialState:HG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:qG,removeRadiusAxis:GG,addAngleAxis:YG,removeAngleAxis:XG}=lM.actions,JG=lM.reducer,QG=["cx","cy","angle","axisLine"],ZG=["angle","tickFormatter","stroke","tick"];function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(null,arguments)}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){Th(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Th(e,t,r){return(t=eY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eY(e){var t=tY(e,"string");return typeof t=="symbol"?t:t+""}function tY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function cM(e,t){if(e==null)return{};var r,n,i=rY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var uM="radiusAxis";function nY(e){var t=We();return g.useEffect(()=>(t(qG(e)),()=>{t(GG(e))})),null}var iY=(e,t,r,n)=>{var{coordinate:i}=e;return be(r,n,i,t)},sY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},aY=(e,t,r,n)=>{var i=WG(n,a=>a.coordinate||0),s=KG(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},oY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=cM(e,QG),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=be(r,n,l[0],i),u=be(r,n,l[1],i),d=on(on(on({},Ct(a)),{},{fill:"none"},ve(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return g.createElement("line",ic({className:"recharts-polar-radius-axis-line"},d))},lY=(e,t,r)=>{var n;return g.isValidElement(e)?n=g.cloneElement(e,t):typeof e=="function"?n=e(t):n=g.createElement(_o,ic({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},cY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=cM(e,ZG),l=sY(e.orientation),c=Ct(a),u=ve(s,!1),d=t.map((f,h)=>{var m=iY(f,e.angle,e.cx,e.cy),p=on(on(on(on({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return g.createElement(Ue,ic({className:de("recharts-polar-radius-axis-tick",tE(s)),key:"tick-".concat(f.coordinate)},fo(e,f,h)),lY(s,p,n?n(f.value,h):f.value))});return g.createElement(Ue,{className:"recharts-polar-radius-axis-ticks"},d)},uY=e=>{var{radiusAxisId:t}=e,r=re(vo),n=re(c=>Po(c,"radiusAxis",t)),i=re(c=>ko(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=on(on(on({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return g.createElement(Ue,{className:de("recharts-polar-radius-axis",uM,s.className)},l&&oY(s,i),a&&cY(s,i),Ht.renderCallByParent(s,aY(s.angle,s.cx,s.cy,i)))};class Mh extends g.PureComponent{render(){return g.createElement(g.Fragment,null,g.createElement(nY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),g.createElement(uY,this.props))}}Th(Mh,"displayName","PolarRadiusAxis");Th(Mh,"axisType",uM);Th(Mh,"defaultProps",Wt);var dY=["children"];function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vn.apply(null,arguments)}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){Dh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dh(e,t,r){return(t=fY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fY(e){var t=hY(e,"string");return typeof t=="symbol"?t:t+""}function hY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mY(e,t){if(e==null)return{};var r,n,i=pY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gY=Math.PI/180,AS=1e-5,dM="angleAxis";function yY(e){var t=We(),r=g.useMemo(()=>{var s=mY(e,dY);return s},[e]),n=re(s=>yo(s,r.id)),i=r===n;return g.useEffect(()=>(t(YG(r)),()=>{t(XG(r))}),[t,r]),i?e.children:null}var vY=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=be(r,n,i,e.coordinate),u=be(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},xY=(e,t)=>{var r=Math.cos(-e.coordinate*gY);return r>AS?t==="outer"?"start":"end":r<-AS?t==="outer"?"end":"start":"middle"},bY=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=sn(sn({},Ct(e)),{},{fill:"none"},ve(s,!1));if(i==="circle")return g.createElement(Bx,Vn({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>be(t,r,n,u.coordinate));return g.createElement(QT,Vn({className:"recharts-polar-angle-axis-line"},l,{points:c}))},wY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?g.isValidElement(t)?g.cloneElement(t,r):typeof t=="function"?t(r):g.createElement(_o,Vn({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},jY=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=Ct(e),l=ve(t,!1),c=sn(sn({},a),{},{fill:"none"},ve(r,!1)),u=s.map((d,f)=>{var h=vY(d,e),m=xY(d,e.orientation),p=sn(sn(sn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return g.createElement(Ue,Vn({className:de("recharts-polar-angle-axis-tick",tE(t)),key:"tick-".concat(d.coordinate)},fo(e,d,f)),r&&g.createElement("line",Vn({className:"recharts-polar-angle-axis-tick-line"},c,h)),g.createElement(wY,{tick:t,tickProps:p,value:n?n(d.value,f):d.value}))});return g.createElement(Ue,{className:"recharts-polar-angle-axis-ticks"},u)},NY=e=>{var{angleAxisId:t}=e,r=re(vo),n=re(l=>Po(l,"angleAxis",t)),i=tr(),s=re(l=>ko(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=sn(sn(sn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return g.createElement(Ue,{className:de("recharts-polar-angle-axis",dM,a.className)},g.createElement(bY,Vn({},a,{ticks:s})),g.createElement(jY,Vn({},a,{ticks:s})))};class Rh extends g.PureComponent{render(){return this.props.radius<=0?null:g.createElement(yY,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},g.createElement(NY,this.props))}}Dh(Rh,"displayName","PolarAngleAxis");Dh(Rh,"axisType",dM);Dh(Rh,"defaultProps",nn);function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ES(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=_Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Y(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY=(e,t)=>t,Kx=z([Fx,kY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),AY=[],Hx=(e,t,r)=>(r==null?void 0:r.length)===0?AY:r,fM=z([wh,Kx,Hx],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>ES(ES({},t.presentationProps),s.props))),i!=null)return i}}),OY=z([fM,Kx,Hx],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=Ee(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ho(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),EY=z([fM,Kx,Hx,at],(e,t,r,n)=>{if(!(t==null||e==null))return wX({offset:n,pieSettings:t,displayedData:e,cells:r})}),hM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(hM);var CY=hM.isPlainObject;const TY=Dr(CY);function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}var CS=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},MY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},DY=e=>{var t=$r(e,MY),r=g.useRef(),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var b=de("recharts-trapezoid",d);return p?g.createElement(Id,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:p},w=>{var{upperWidth:y,lowerWidth:v,height:x,x:N,y:j}=w;return g.createElement(Id,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},g.createElement("path",ef({},ve(t,!0),{className:b,d:CS(N,j,y,v,x),ref:r})))}):g.createElement("g",null,g.createElement("path",ef({},ve(t,!0),{className:b,d:CS(s,a,l,c,u)})))},RY=["option","shapeType","propTransformer","activeClassName","isActive"];function $Y(e,t){if(e==null)return{};var r,n,i=LY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return(t=BY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BY(e){var t=FY(e,"string");return typeof t=="symbol"?t:t+""}function FY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zY(e,t){return tf(tf({},t),e)}function UY(e,t){return e==="symbols"}function MS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(kE,r);case"trapezoid":return g.createElement(DY,r);case"sector":return g.createElement(EE,r);case"symbols":if(UY(t))return g.createElement(iO,r);break;default:return null}}function WY(e){return g.isValidElement(e)?e.props:e}function mM(e){var{option:t,shapeType:r,propTransformer:n=zY,activeClassName:i="recharts-active-shape",isActive:s}=e,a=$Y(e,RY),l;if(g.isValidElement(t))l=g.cloneElement(t,tf(tf({},a),WY(t)));else if(typeof t=="function")l=t(a);else if(TY(t)&&typeof t!="boolean"){var c=n(t,a);l=g.createElement(MS,{shapeType:r,elementProps:c})}else{var u=a;l=g.createElement(MS,{shapeType:r,elementProps:u})}return s?g.createElement(Ue,{className:i},l):l}var qx=(e,t)=>{var r=We();return(n,i)=>s=>{e==null||e(n,i,s),r(pT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Gx=e=>{var t=We();return(r,n)=>i=>{e==null||e(r,n,i),t(GK())}},Yx=(e,t)=>{var r=We();return(n,i)=>s=>{e==null||e(n,i,s),r(YK({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Xx(e){var{fn:t,args:r}=e,n=We(),i=tr();return g.useEffect(()=>{if(!i){var s=t(r);return n(KK(s)),()=>{n(HK(s))}}},[t,r,n,i]),null}var pM=()=>{};function VY(e){var{legendPayload:t}=e,r=We(),n=tr();return g.useEffect(()=>n?pM:(r(hE(t)),()=>{r(mE(t))}),[r,n,t]),null}function gM(e){var{legendPayload:t}=e,r=We(),n=re(ge);return g.useEffect(()=>n!=="centric"&&n!=="radial"?pM:(r(hE(t)),()=>{r(mE(t))}),[r,n,t]),null}function Jx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(ql(t)),n=g.useRef(e);return n.current!==e&&(r.current=ql(t),n.current=e),r.current}var np,KY=()=>{var[e]=g.useState(()=>ql("uid-"));return e},HY=(np=jD.useId)!==null&&np!==void 0?np:KY;function qY(e,t){var r=HY();return t||(e?"".concat(e,"-").concat(r):r)}var GY=g.createContext(void 0),Qx=e=>{var{id:t,type:r,children:n}=e,i=qY("recharts-".concat(r),t);return g.createElement(GY.Provider,{value:i},n(i))},YY={cartesianItems:[],polarItems:[]},yM=gr({name:"graphicalItems",initialState:YY,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Cn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Cn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Cn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:XY,replaceCartesianGraphicalItem:JY,removeCartesianGraphicalItem:QY,addPolarGraphicalItem:ZY,removePolarGraphicalItem:eX}=yM.actions,tX=yM.reducer;function rX(e){var t=We(),r=g.useRef(null);return g.useEffect(()=>{r.current===null?t(XY(e)):r.current!==e&&t(JY({prev:r.current,next:e})),r.current=e},[t,e]),g.useEffect(()=>()=>{r.current&&(t(QY(r.current)),r.current=null)},[t]),null}function vM(e){var t=We();return g.useEffect(()=>(t(ZY(e)),()=>{t(eX(e))}),[t,e]),null}function nX(){}var iX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},DS={t:0},ip={t:1};function Zx(e){var t=$r(e,iX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=PE("JavascriptAnimate",t.animationManager),[f,h]=g.useState(r?DS:ip),m=g.useRef(null);return g.useEffect(()=>{r||h(ip)},[r]),g.useEffect(()=>{if(!r||!n)return nX;var p=_E(DS,ip,NE(s),i,h,d.getTimeoutController()),b=()=>{m.current=p()};return d.start([c,a,b,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var sX=["onMouseEnter","onClick","onMouseLeave"],aX=["id"],oX=["id"];function eb(e,t){if(e==null)return{};var r,n,i=lX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){cX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cX(e,t,r){return(t=uX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uX(e){var t=dX(e,"string");return typeof t=="symbol"?t:t+""}function dX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kn.apply(null,arguments)}function fX(e){var t=g.useMemo(()=>xc(e.children,Is),[e.children]),r=re(n=>OY(n,e.id,t));return r==null?null:g.createElement(gM,{legendPayload:r})}function hX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:ho(l,t),hide:c,type:u,color:a,unit:""}}}var mX=(e,t)=>e>t?"start":e<t?"end":"middle",pX=(e,t,r)=>typeof t=="function"?t(e):Lt(t,r,r*.8),gX=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=eE(s,a),c=i+Lt(e.cx,s,s/2),u=n+Lt(e.cy,a,a/2),d=Lt(e.innerRadius,l,0),f=pX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},yX=(e,t)=>{var r=mt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},vX=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=de("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(gE,Kn({},t,{type:"linear",className:r}))},xX=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var i=de("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return g.createElement(_o,Kn({},t,{alignmentBaseline:"middle",className:i}),n)};function bX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=Ct(r),c=ve(i,!1),u=ve(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,b=be(h.cx,h.cy,h.outerRadius+d,p),w=qe(qe(qe(qe({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:mX(b.x,h.cx)},b),y=qe(qe(qe(qe({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[be(h.cx,h.cy,h.outerRadius,p),b],key:"line"});return g.createElement(Ue,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&vX(s,y),xX(i,w,Ee(h,a)))});return g.createElement(Ue,{className:"recharts-pie-labels"},f)}function xM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=re(Oi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=eb(i,sX),f=qx(l,i.dataKey),h=Gx(u),m=Yx(c,i.dataKey);return t==null?null:g.createElement(g.Fragment,null,t.map((p,b)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var w=r&&String(b)===a,y=a?n:null,v=w?r:y,x=qe(qe({},p),{},{stroke:p.stroke,tabIndex:-1,[aE]:b,[oE]:i.dataKey});return g.createElement(Ue,Kn({tabIndex:-1,className:"recharts-pie-sector"},fo(d,p,b),{onMouseEnter:f(p,b),onMouseLeave:h(p,b),onClick:m(p,b),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(b)}),g.createElement(mM,Kn({option:v,isActive:w,shapeType:"sector"},x)))}),g.createElement(bX,{sectors:t,props:i,showLabels:s}))}function wX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=yX(l,c),p=Math.abs(m),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>Ee(S,u,0)!==0).length,y=(p>=360?w:w-1)*b,v=p-w*h-y,x=n.reduce((S,P)=>{var _=Ee(P,u,0);return S+(ne(_)?_:0)},0),N;if(x>0){var j;N=n.map((S,P)=>{var _=Ee(S,u,0),A=Ee(S,d,P),C=gX(r,s,S),O=(ne(_)?_:0)/x,U,L=qe(qe({},S),i&&i[P]&&i[P].props);P?U=j.endAngle+mt(m)*b*(_!==0?1:0):U=l;var K=U+mt(m)*((_!==0?h:0)+O*v),I=(U+K)/2,E=(C.innerRadius+C.outerRadius)/2,V=[{name:A,value:_,payload:L,dataKey:u,type:f}],B=be(C.cx,C.cy,E,I);return j=qe(qe(qe(qe({},r.presentationProps),{},{percent:O,cornerRadius:a,name:A,tooltipPayload:V,midAngle:I,middleRadius:E,tooltipPosition:B},L),C),{},{value:Ee(S,u),startAngle:U,endAngle:K,payload:L,paddingAngle:mt(m)*b}),j})}return N}function jX(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=Jx(t,"recharts-pie-"),m=r.current,[p,b]=g.useState(!0),w=g.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),y=g.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return g.createElement(Zx,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:y,onAnimationEnd:w,key:h},v=>{var x=[],N=n&&n[0],j=N.startAngle;return n.forEach((S,P)=>{var _=m&&m[P],A=P>0?Ai(S,"paddingAngle",0):0;if(_){var C=ha(_.endAngle-_.startAngle,S.endAngle-S.startAngle),O=qe(qe({},S),{},{startAngle:j+A,endAngle:j+C(v)+A});x.push(O),j=O.endAngle}else{var{endAngle:U,startAngle:L}=S,K=ha(0,U-L),I=K(v),E=qe(qe({},S),{},{startAngle:j+A,endAngle:j+I+A});x.push(E),j=E.endAngle}}),r.current=x,g.createElement(Ue,null,g.createElement(xM,{sectors:x,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function NX(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=g.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?g.createElement(jX,{props:e,previousSectorsRef:s}):g.createElement(xM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function SX(e){var{hide:t,className:r,rootTabIndex:n}=e,i=de("recharts-pie",r);return t?null:g.createElement(Ue,{tabIndex:n,className:i},g.createElement(NX,e))}var _X={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ds.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function PX(e){var{id:t}=e,r=eb(e,aX),n=g.useMemo(()=>xc(e.children,Is),[e.children]),i=re(s=>EY(s,t,n));return g.createElement(g.Fragment,null,g.createElement(Xx,{fn:hX,args:qe(qe({},e),{},{sectors:i})}),g.createElement(SX,Kn({},r,{sectors:i})))}function $h(e){var t=$r(e,_X),{id:r}=t,n=eb(t,oX),i=Ct(n);return g.createElement(Qx,{id:r,type:"pie"},s=>g.createElement(g.Fragment,null,g.createElement(vM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),g.createElement(fX,Kn({},n,{id:s})),g.createElement(PX,Kn({},n,{id:s})),n.children))}$h.displayName="Pie";var kX=z([at],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),AX=z([kX,qn,Gn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bM=()=>re(AX),OX=()=>re(RH);function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){EX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t,r){return(t=CX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CX(e){var t=TX(e,"string");return typeof t=="symbol"?t:t+""}function TX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=LS(LS({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ve(i,!1)),dv(i)),l;return g.isValidElement(i)?l=g.cloneElement(i,a):typeof i=="function"?l=i(a):l=g.createElement(Bx,a),g.createElement(Ue,{className:"recharts-active-dot"},l)};function DX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=re(Oi),a=OX();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return Ge(l)?null:MX({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){RX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RX(e,t,r){return(t=$X(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $X(e){var t=LX(e,"string");return typeof t=="symbol"?t:t+""}function LX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wM=(e,t)=>Po(e,"radiusAxis",t),IX=z([wM],e=>{if(e!=null)return{scale:e}}),BX=z([kc,wM],(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})}),FX=(e,t,r,n)=>ko(e,"radiusAxis",t,n),jM=(e,t,r)=>yo(e,r),NM=(e,t,r)=>Po(e,"angleAxis",r),zX=z([jM,NM],(e,t)=>{if(!(e==null||t==null))return rf(rf({},e),{},{scale:t})}),UX=(e,t,r,n)=>ko(e,"angleAxis",r,n),WX=z([jM,NM,vo],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),VX=(e,t,r,n,i)=>i,KX=z([ge,BX,FX,zX,UX],(e,t,r,n,i)=>Ri(e,"radiusAxis")?Xl(t,r,!1):Xl(n,i,!1)),HX=z([Fx,VX],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),qX=z([IX,WX,wh,HX,KX],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return rJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),GX=["id"];function YX(e,t){if(e==null)return{};var r,n,i=XX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tb(e,t,r){return(t=JX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JX(e){var t=QX(e,"string");return typeof t=="symbol"?t:t+""}function QX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}function rb(e,t){return e&&e!=="none"?e:t}var ZX=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:rb(n,i),value:ho(r,t),payload:e}]};function eJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:ho(s,t),hide:a,type:l,color:rb(r,i),unit:""}}}function tJ(e,t){var r;return g.isValidElement(e)?r=g.cloneElement(e,t):typeof e=="function"?r=e(t):r=g.createElement(Bx,Za({},t,{className:de("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function rJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var p=Ee(h,r.dataKey,m),b=Ee(h,i),w=r.scale(p)+d,y=Array.isArray(b)?JT(b):b,v=Ge(y)?void 0:t.scale(y);Array.isArray(b)&&b.length>=2&&(c=!0),u.push(Rt(Rt({},be(a,l,v,w)),{},{name:p,value:b,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=Ge(m)?void 0:t.scale(m);f.push(Rt(Rt({},h),{},{radius:p},be(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function nJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=YX(r,GX),a=Ct(s),l=ve(n,!0),c=t.map((u,d)=>{var f=Rt(Rt(Rt({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return tJ(n,f)});return g.createElement(Ue,{className:"recharts-radar-dots"},c)}function SM(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return g.isValidElement(i)?d=g.cloneElement(i,Rt(Rt({},r),{},{points:t})):typeof i=="function"?d=i(Rt(Rt({},r),{},{points:t})):d=g.createElement(QT,Za({},ve(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),g.createElement(Ue,{className:"recharts-radar-polygon"},d,g.createElement(nJ,{props:r,points:t}),n&&Si.renderCallByParent(r,t))}function iJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=Jx(t,"recharts-radar-"),[h,m]=g.useState(!0),p=g.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=g.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return g.createElement(Zx,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:b},w=>{var y=d&&d.length/n.length,v=w===1?n:n.map((x,N)=>{var j=d&&d[Math.floor(N*y)];if(j){var S=ha(j.x,x.x),P=ha(j.y,x.y);return Rt(Rt({},x),{},{x:S(w),y:P(w)})}var _=ha(x.cx,x.x),A=ha(x.cy,x.y);return Rt(Rt({},x),{},{x:_(w),y:A(w)})});return w>0&&(r.current=v),g.createElement(SM,{points:v,props:t,showLabels:!h})})}function sJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=g.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?g.createElement(iJ,{props:e,previousPointsRef:i}):g.createElement(SM,{points:t,props:e,showLabels:!0})}var aJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ds.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class oJ extends g.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=de("recharts-radar",r);return g.createElement(g.Fragment,null,g.createElement(Ue,{className:i},g.createElement(sJ,this.props)),g.createElement(DX,{points:n,mainColor:rb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function lJ(e){var t=tr(),r=re(n=>qX(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return g.createElement(oJ,Za({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class nb extends g.PureComponent{render(){return g.createElement(Qx,{id:this.props.id,type:"radar"},t=>g.createElement(g.Fragment,null,g.createElement(vM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),g.createElement(gM,{legendPayload:ZX(this.props)}),g.createElement(Xx,{fn:eJ,args:this.props}),g.createElement(lJ,Za({},this.props,{id:t}))))}}tb(nb,"displayName","Radar");tb(nb,"defaultProps",aJ);var cJ="Invariant failed";function uJ(e,t){throw new Error(cJ)}var dJ=["x","y"];function y0(){return y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},y0.apply(null,arguments)}function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){fJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fJ(e,t,r){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pJ(e,t){if(e==null)return{};var r,n,i=gJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function gJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yJ(e,t){var{x:r,y:n}=e,i=pJ(e,dJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return qo(qo(qo(qo(qo({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function _M(e){return g.createElement(mM,y0({shapeType:"rectangle",propTransformer:yJ,activeClassName:"recharts-active-bar"},e))}var vJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ne(t))return t;var s=ne(n)||Ge(n);return s?t(n,i):(s||uJ(),r)}},xJ={},bJ=gr({name:"errorBars",initialState:xJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),wJ=bJ.reducer,jJ=["children"];function NJ(e,t){if(e==null)return{};var r,n,i=SJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function SJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _J={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},PJ=g.createContext(_J);function kJ(e){var{children:t}=e,r=NJ(e,jJ);return g.createElement(PJ.Provider,{value:r},t)}function PM(e,t){var r,n,i=re(u=>Xn(u,e)),s=re(u=>Bi(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function AJ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=bM(),{needClipX:s,needClipY:a,needClip:l}=PM(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var OJ=["onMouseEnter","onMouseLeave","onClick"],EJ=["value","background","tooltipPosition"],CJ=["id"],TJ=["onMouseEnter","onClick","onMouseLeave"];function eo(){return eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eo.apply(null,arguments)}function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){MJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MJ(e,t,r){return(t=DJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DJ(e){var t=RJ(e,"string");return typeof t=="symbol"?t:t+""}function RJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(e,t){if(e==null)return{};var r,n,i=$J(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $J(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LJ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:ho(r,t),payload:e}]};function IJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ho(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function BJ(e){var t=re(Oi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=nf(s,OJ),d=qx(a,n),f=Gx(l),h=Yx(c,n);if(!i||r==null)return null;var m=ve(i,!1);return g.createElement(g.Fragment,null,r.map((p,b)=>{var{value:w,background:y,tooltipPosition:v}=p,x=nf(p,EJ);if(!y)return null;var N=d(p,b),j=f(p,b),S=h(p,b),P=kt(kt(kt(kt(kt({option:i,isActive:String(b)===t},x),{},{fill:"#eee"},y),m),fo(u,p,b)),{},{onMouseEnter:N,onMouseLeave:j,onClick:S,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return g.createElement(_M,eo({key:"background-bar-".concat(b)},P))}))}function kM(e){var{data:t,props:r,showLabels:n}=e,i=Ct(r),s=nf(i,CJ),{shape:a,dataKey:l,activeBar:c}=r,u=re(Oi),d=re(AT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,p=nf(r,TJ),b=qx(f,l),w=Gx(m),y=Yx(h,l);return t?g.createElement(g.Fragment,null,t.map((v,x)=>{var N=c&&String(x)===u&&(d==null||l===d),j=N?c:a,S=kt(kt(kt({},s),v),{},{isActive:N,option:j,index:x,dataKey:l});return g.createElement(Ue,eo({className:"recharts-bar-rectangle"},fo(p,v,x),{onMouseEnter:b(v,x),onMouseLeave:w(v,x),onClick:y(v,x),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(x)}),g.createElement(_M,S))}),n&&Si.renderCallByParent(r,t)):null}function FJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Jx(t,"recharts-bar-"),[m,p]=g.useState(!1),b=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),w=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(Zx,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:w,key:h},y=>{var v=y===1?n:n==null?void 0:n.map((x,N)=>{var j=f&&f[N];if(j)return kt(kt({},x),{},{x:Ks(j.x,x.x,y),y:Ks(j.y,x.y,y),width:Ks(j.width,x.width,y),height:Ks(j.height,x.height,y)});if(i==="horizontal"){var S=Ks(0,x.height,y);return kt(kt({},x),{},{y:x.y+x.height-S,height:S})}var P=Ks(0,x.width,y);return kt(kt({},x),{},{width:P})});return y>0&&(r.current=v??null),v==null?null:g.createElement(Ue,null,g.createElement(kM,{props:t,data:v,showLabels:!m}))})}function zJ(e){var{data:t,isAnimationActive:r}=e,n=g.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?g.createElement(FJ,{previousRectanglesRef:n,props:e}):g.createElement(kM,{props:e,data:t,showLabels:!0})}var AM=0,UJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ee(e,t)}};class WJ extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=de("recharts-bar",i),f=u;return g.createElement(Ue,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(AJ,{clipPathId:f,xAxisId:s,yAxisId:a})),g.createElement(Ue,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},g.createElement(BJ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(zJ,this.props)),this.props.children)}}var VJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ds.isSsr,legendType:"rect",minPointSize:AM,xAxisId:0,yAxisId:0};function KJ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=PM(t,r),h=Tv(),m=tr(),p=xc(e.children,Is),b=re(v=>vQ(v,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var w,y=b==null?void 0:b[0];return y==null||y.height==null||y.width==null?w=0:w=h==="vertical"?y.height/2:y.width/2,g.createElement(kJ,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:UJ,errorBarOffset:w},g.createElement(WJ,eo({},e,{layout:h,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function HJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:a,b=d?p.scale.domain():null,w=MU({numericAxis:p});return f.map((y,v)=>{var x,N,j,S,P,_;d?x=kU(d[v],b):(x=Ee(y,r),Array.isArray(x)||(x=[w,x]));var A=vJ(n,AM)(x[1],v);if(t==="horizontal"){var C,[O,U]=[l.scale(x[0]),l.scale(x[1])];N=Bj({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:y,index:v}),j=(C=U??O)!==null&&C!==void 0?C:void 0,S=i.size;var L=O-U;if(P=ur(L)?0:L,_={x:N,y:h.top,width:S,height:h.height},Math.abs(A)>0&&Math.abs(P)<Math.abs(A)){var K=mt(P||A)*(Math.abs(A)-Math.abs(P));j-=K,P+=K}}else{var[I,E]=[a.scale(x[0]),a.scale(x[1])];if(N=I,j=Bj({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:y,index:v}),S=E-I,P=i.size,_={x:h.left,y:j,width:h.width,height:P},Math.abs(A)>0&&Math.abs(S)<Math.abs(A)){var V=mt(S||A)*(Math.abs(A)-Math.abs(S));S+=V}}if(N==null||j==null||S==null||P==null)return null;var B=kt(kt({},y),{},{x:N,y:j,width:S,height:P,value:d?x:x[1],payload:y,background:_,tooltipPosition:{x:N+S/2,y:j+P/2}},m&&m[v]&&m[v].props);return B}).filter(Boolean)}function Lh(e){var t=$r(e,VJ),r=tr();return g.createElement(Qx,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(VY,{legendPayload:LJ(t)}),g.createElement(Xx,{fn:IJ,args:t}),g.createElement(rX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:TU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(KJ,eo({},t,{id:n}))))}Lh.displayName="Bar";function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){qJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qJ(e,t,r){return(t=GJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GJ(e){var t=YJ(e,"string");return typeof t=="symbol"?t:t+""}function YJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XJ=(e,t)=>t,JJ=(e,t,r)=>r,QJ=(e,t,r,n)=>n,ZJ=(e,t,r,n,i)=>i,Dc=z([hx,ZJ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),eQ=z([Dc],e=>e==null?void 0:e.maxBarSize),tQ=(e,t,r,n,i,s)=>s,WS=(e,t,r)=>{var n=r??e;if(!Ge(n))return Lt(n,t,0)},rQ=z([ge,hx,XJ,JJ,QJ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),nQ=(e,t,r,n)=>{var i=ge(e);return i==="horizontal"?u0(e,"yAxis",r,n):u0(e,"xAxis",t,n)},iQ=(e,t,r)=>{var n=ge(e);return n==="horizontal"?GN(e,"xAxis",t):GN(e,"yAxis",r)},sQ=(e,t,r)=>{var n={},i=e.filter(_h),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=WS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=WS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},aQ=z([rQ,H7,iQ],sQ),oQ=(e,t,r,n,i)=>{var s,a,l=Dc(e,t,r,n,i);if(l!=null){var c=ge(e),u=OC(e),{maxBarSize:d}=l,f=Ge(d)?u:d,h,m;return c==="horizontal"?(h=Xa(e,"xAxis",t,n),m=Ya(e,"xAxis",t,n)):(h=Xa(e,"yAxis",r,n),m=Ya(e,"yAxis",r,n)),(s=(a=Xl(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},OM=(e,t,r,n)=>{var i=ge(e),s,a;return i==="horizontal"?(s=Xa(e,"xAxis",t,n),a=Ya(e,"xAxis",t,n)):(s=Xa(e,"yAxis",r,n),a=Ya(e,"yAxis",r,n)),Xl(s,a)};function lQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Lt(e,r,0,!0),l,c=[];if(hr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((y,v)=>y+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((y,v)=>{var x,N={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(x=v.barSize)!==null&&x!==void 0?x:0}},j=[...y,N];return m=j[j.length-1].position,j},c)}else{var p=Lt(t,r,0,!0);r-2*p-(s-1)*a<=0&&(a=0);var b=(r-2*p-(s-1)*a)/s;b>1&&(b>>=0);var w=hr(i)?Math.min(b,i):b;l=n.reduce((y,v,x)=>[...y,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p+(b+a)*x+(b-w)/2,size:w}}],c)}return l}}var cQ=(e,t,r,n,i,s,a)=>{var l=Ge(a)?t:a,c=lQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Nu(Nu({},u),{},{position:Nu(Nu({},u.position),{},{offset:u.position.offset-i/2})}))),c},uQ=z([aQ,OC,K7,EC,oQ,OM,eQ],cQ),dQ=(e,t,r,n)=>Xa(e,"xAxis",t,n),fQ=(e,t,r,n)=>Xa(e,"yAxis",r,n),hQ=(e,t,r,n)=>Ya(e,"xAxis",t,n),mQ=(e,t,r,n)=>Ya(e,"yAxis",r,n),pQ=z([uQ,Dc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),gQ=(e,t)=>{var r=ux(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},yQ=z([nQ,Dc],gQ),vQ=z([at,dQ,fQ,hQ,mQ,pQ,ge,nx,OM,yQ,Dc,tQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:b}=d,w;if(b!=null&&b.length>0?w=b:w=h==null?void 0:h.slice(m,p+1),w!=null)return HJ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),EM=e=>{var{chartData:t}=e,r=We(),n=tr();return g.useEffect(()=>n?()=>{}:(r(nS(t)),()=>{r(nS(void 0))}),[t,r,n]),null},VS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xQ=gr({name:"brush",initialState:VS,reducers:{setBrushSettings(e,t){return t.payload==null?VS:t.payload}}}),bQ=xQ.reducer;function wQ(e,t,r){return(t=jQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jQ(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ib{static create(t){return new ib(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}wQ(ib,"EPS",1e-4);function SQ(e){return(e%180+180)%180}var _Q=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=SQ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},PQ={dots:[],areas:[],lines:[]},kQ=gr({name:"referenceElements",initialState:PQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Cn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Cn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Cn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),AQ=kQ.reducer,OQ=g.createContext(void 0),EQ=e=>{var{children:t}=e,[r]=g.useState("".concat(ql("recharts"),"-clip")),n=bM();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return g.createElement(OQ.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function sp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function CM(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function CQ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return _Q(n,r)}function TQ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function sf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function MQ(e,t){return CM(e,t+1)}function DQ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:CM(n,u)};var b=c,w,y=()=>(w===void 0&&(w=r(p,b)),w),v=p.coordinate,x=c===0||sf(e,v,y,d,l);x||(c=0,d=a,u+=1),x&&(d=v+e*(y()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function KS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KS(Object(r),!0).forEach(function(n){RQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RQ(e,t,r){return(t=$Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Q(e){var t=LQ(e,"string");return typeof t=="symbol"?t:t+""}function LQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function IQ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,b=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var w=e*(m.coordinate+e*b()/2-c);s[h]=m=_t(_t({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=_t(_t({},m),{},{tickCoord:m.coordinate});var y=sf(e,m.tickCoord,b,l,c);y&&(c=m.tickCoord-e*(b()/2+i),s[h]=_t(_t({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function BQ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=_t(_t({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=sf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=_t(_t({},d),{},{isShow:!0}))}for(var p=s?l-1:l,b=function(v){var x=a[v],N,j=()=>(N===void 0&&(N=r(x,v)),N);if(v===0){var S=e*(x.coordinate-e*j()/2-c);a[v]=x=_t(_t({},x),{},{tickCoord:S<0?x.coordinate-S*e:x.coordinate})}else a[v]=x=_t(_t({},x),{},{tickCoord:x.coordinate});var P=sf(e,x.tickCoord,j,c,u);P&&(c=x.tickCoord+e*(j()/2+i),a[v]=_t(_t({},x),{},{isShow:!0}))},w=0;w<p;w++)b(w);return a}function sb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ne(c)||Ds.isSsr){var h;return(h=MQ(i,ne(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",b=d&&p==="width"?wl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(x,N)=>{var j=typeof u=="function"?u(x.value,N):x.value;return p==="width"?CQ(wl(j,{fontSize:t,letterSpacing:r}),b,f):wl(j,{fontSize:t,letterSpacing:r})[p]},y=i.length>=2?mt(i[1].coordinate-i[0].coordinate):1,v=TQ(s,y,p);return c==="equidistantPreserveStart"?DQ(y,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=BQ(y,v,w,i,a,c==="preserveStartEnd"):m=IQ(y,v,w,i,a),m.filter(x=>x.isShow))}var FQ=["viewBox"],zQ=["viewBox"];function ga(){return ga=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ga.apply(null,arguments)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){ab(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qS(e,t){if(e==null)return{};var r,n,i=UQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function UQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ab(e,t,r){return(t=WQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WQ(e){var t=VQ(e,"string");return typeof t=="symbol"?t:t+""}function VQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zi extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=qS(t,FQ),s=this.props,{viewBox:a}=s,l=qS(s,zQ);return!sp(n,a)||!sp(i,l)||!sp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,b,w=c?-1:1,y=t.tickSize||l,v=ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*y,b=h-w*u,p=v;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*y,p=d-w*u,b=v;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*y,p=d+w*u,b=v;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*y,b=h+w*u,p=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y:b}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=nt(nt(nt({},ve(this.props,!1)),ve(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=nt(nt({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=nt(nt({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return g.createElement("line",ga({},c,{className:de("recharts-cartesian-axis-line",Ai(l,"className"))}))}static renderTickItem(t,r,n){var i,s=de(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,nt(nt({},r),{},{className:s}));else if(typeof t=="function")i=t(nt(nt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=de(a,t.className)),i=g.createElement(_o,ga({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=sb(nt(nt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ct(this.props),p=ve(a,!1),b=nt(nt({},m),{},{fill:"none"},ve(i,!1)),w=d.map((y,v)=>{var{line:x,tick:N}=this.getTickLineCoord(y),j=nt(nt(nt(nt({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},p),N),{},{index:v,payload:y,visibleTicksCount:d.length,tickFormatter:l,padding:u});return g.createElement(Ue,ga({className:"recharts-cartesian-axis-tick",key:"tick-".concat(y.value,"-").concat(y.coordinate,"-").concat(y.tickCoord)},fo(this.props,y,v)),i&&g.createElement("line",ga({},b,x,{className:de("recharts-cartesian-axis-tick-line",Ai(i,"className"))})),a&&zi.renderTickItem(a,j,"".concat(typeof l=="function"?l(y.value,v):y.value).concat(c||"")))});return w.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:g.createElement(Ue,{className:de("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Ht.renderCallByParent(this.props))}}ab(zi,"displayName","CartesianAxis");ab(zi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var KQ=["x1","y1","x2","y2","key"],HQ=["offset"],qQ=["xAxisId","yAxisId"],GQ=["xAxisId","yAxisId"];function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){YQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YQ(e,t,r){return(t=XQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XQ(e){var t=JQ(e,"string");return typeof t=="symbol"?t:t+""}function JQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(null,arguments)}function af(e,t){if(e==null)return{};var r,n,i=QQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function QQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return g.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function TM(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=af(t,KQ),u=Ct(c),d=af(u,HQ);r=g.createElement("line",ls({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function eZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=af(e,qQ),a=i.map((l,c)=>{var u=At(At({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return TM(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function tZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=af(e,GQ),a=i.map((l,c)=>{var u=At(At({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return TM(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function rZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var b=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function nZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var b=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return nE(sb(At(At(At({},zi.defaultProps),r),{},{ticks:iE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},sZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return nE(sb(At(At(At({},zi.defaultProps),r),{},{ticks:iE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},aZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Ih(e){var t=uE(),r=dE(),n=cE(),i=At(At({},$r(e,aZ)),{},{x:ne(e.x)?e.x:n.left,y:ne(e.y)?e.y:n.top,width:ne(e.width)?e.width:n.width,height:ne(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=tr(),b=re(A=>YN(A,"xAxis",s,p)),w=re(A=>YN(A,"yAxis",a,p));if(!ne(u)||u<=0||!ne(d)||d<=0||!ne(l)||l!==+l||!ne(c)||c!==+c)return null;var y=i.verticalCoordinatesGenerator||iZ,v=i.horizontalCoordinatesGenerator||sZ,{horizontalPoints:x,verticalPoints:N}=i;if((!x||!x.length)&&typeof v=="function"){var j=h&&h.length,S=v({yAxis:w?At(At({},w),{},{ticks:j?h:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);bl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(x=S)}if((!N||!N.length)&&typeof y=="function"){var P=m&&m.length,_=y({xAxis:b?At(At({},b),{},{ticks:P?m:b.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);bl(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(N=_)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(ZQ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(rZ,ls({},i,{horizontalPoints:x})),g.createElement(nZ,ls({},i,{verticalPoints:N})),g.createElement(eZ,ls({},i,{offset:n,horizontalPoints:x,xAxis:b,yAxis:w})),g.createElement(tZ,ls({},i,{offset:n,verticalPoints:N,xAxis:b,yAxis:w})))}Ih.displayName="CartesianGrid";function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function XS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){oZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oZ(e,t,r){return(t=lZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lZ(e){var t=cZ(e,"string");return typeof t=="symbol"?t:t+""}function cZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uZ={xAxis:{},yAxis:{},zAxis:{}},MM=gr({name:"cartesianAxis",initialState:uZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=XS(XS({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:dZ,removeXAxis:fZ,addYAxis:hZ,removeYAxis:mZ,addZAxis:Fte,removeZAxis:zte,updateYAxisWidth:pZ}=MM.actions,gZ=MM.reducer,yZ=["children"],vZ=["dangerouslySetInnerHTML","ticks"];function DM(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v0(){return v0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v0.apply(null,arguments)}function RM(e,t){if(e==null)return{};var r,n,i=wZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jZ(e){var t=We(),r=g.useMemo(()=>{var s=RM(e,yZ);return s},[e]),n=re(s=>Xn(s,r.id)),i=r===n;return g.useEffect(()=>(t(dZ(r)),()=>{t(fZ(r))}),[r,t]),i?e.children:null}var NZ=e=>{var{xAxisId:t,className:r}=e,n=re(lE),i=tr(),s="xAxis",a=re(f=>jo(f,s,t,i)),l=re(f=>lT(f,s,t,i)),c=re(f=>iT(f,t)),u=re(f=>IK(f,t));if(c==null||u==null)return null;var d=RM(e,vZ);return g.createElement(zi,v0({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:de("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},SZ=e=>{var t,r,n,i,s;return g.createElement(jZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},g.createElement(NZ,e))};class Rc extends g.Component{render(){return g.createElement(SZ,this.props)}}DM(Rc,"displayName","XAxis");DM(Rc,"defaultProps",{allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,height:rr.height,hide:!1,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tickCount:rr.tickCount,type:rr.type,xAxisId:0});var _Z=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},PZ=["dangerouslySetInnerHTML","ticks"];function $M(e,t,r){return(t=kZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kZ(e){var t=AZ(e,"string");return typeof t=="symbol"?t:t+""}function AZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function x0(){return x0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},x0.apply(null,arguments)}function OZ(e,t){if(e==null)return{};var r,n,i=EZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CZ(e){var t=We();return g.useEffect(()=>(t(hZ(e)),()=>{t(mZ(e))}),[e,t]),null}var TZ=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=g.useRef(null),l=g.useRef(null),c=re(lE),u=tr(),d=We(),f="yAxis",h=re(y=>jo(y,f,r,u)),m=re(y=>sT(y,r)),p=re(y=>BK(y,r)),b=re(y=>lT(y,f,r,u));if(g.useLayoutEffect(()=>{var y;if(!(i!=="auto"||!m||Ix(s)||g.isValidElement(s))){var v=a.current,x=v==null||(y=v.tickRefs)===null||y===void 0?void 0:y.current,{tickSize:N,tickMargin:j}=v.props,S=_Z({ticks:x,label:l.current,labelGapWithTick:5,tickSize:N,tickMargin:j});Math.round(m.width)!==Math.round(S)&&d(pZ({id:r,width:S}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||p==null)return null;var w=OZ(e,PZ);return g.createElement(zi,x0({},w,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:de("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:b}))},MZ=e=>{var t,r,n,i,s;return g.createElement(g.Fragment,null,g.createElement(CZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),g.createElement(TZ,e))},DZ={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,hide:!1,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tickCount:nr.tickCount,type:nr.type,width:nr.width,yAxisId:0};class $c extends g.Component{render(){return g.createElement(MZ,this.props)}}$M($c,"displayName","YAxis");$M($c,"defaultProps",DZ);var RZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lc=g;function $Z(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LZ=typeof Object.is=="function"?Object.is:$Z,IZ=Lc.useSyncExternalStore,BZ=Lc.useRef,FZ=Lc.useEffect,zZ=Lc.useMemo,UZ=Lc.useDebugValue;RZ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=BZ(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=zZ(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,LZ(d,m))return p;var b=n(m);return i!==void 0&&i(p,b)?(d=m,p):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=IZ(e,s[0],s[1]);return FZ(function(){a.hasValue=!0,a.value=l},[l]),UZ(l),l};function WZ(e){e()}function VZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){WZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var JS={notify(){},get:()=>[]};function KZ(e,t){let r,n=JS,i=0,s=!1;function a(b){d();const w=n.subscribe(b);let y=!1;return()=>{y||(y=!0,w(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=VZ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=JS)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var HZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qZ=HZ(),GZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",YZ=GZ(),XZ=()=>qZ||YZ?g.useLayoutEffect:g.useEffect,JZ=XZ(),ap=Symbol.for("react-redux-context"),op=typeof globalThis<"u"?globalThis:{};function QZ(){if(!g.createContext)return{};const e=op[ap]??(op[ap]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var ZZ=QZ();function eee(e){const{children:t,context:r,serverState:n,store:i}=e,s=g.useMemo(()=>{const c=KZ(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=g.useMemo(()=>i.getState(),[i]);JZ(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||ZZ;return g.createElement(l.Provider,{value:s},t)}var tee=eee,ree=(e,t)=>t,ob=z([ree,ge,vo,lt,ST,Jn,UH,at],qH),lb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},LM=Tr("mouseClick"),IM=wc();IM.startListening({actionCreator:LM,effect:(e,t)=>{var r=e.payload,n=ob(t.getState(),lb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(XK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var b0=Tr("mouseMove"),BM=wc();BM.startListening({actionCreator:b0,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Ax(n,n.tooltip.settings.shared),s=ob(n,lb(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(yT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(gT()))}});function nee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var QS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},FM=gr({name:"rootProps",initialState:QS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:QS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),iee=FM.reducer,{updateOptions:see}=FM.actions,zM=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:aee}=zM.actions,oee=zM.reducer,UM=Tr("keyDown"),WM=Tr("focus"),cb=wc();cb.startListening({actionCreator:UM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Ox(i,So(r))),l=Jn(r);if(s==="Enter"){var c=Qd(r,"axis","hover",String(i.index));t.dispatch(f0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=zK(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=Qd(r,"axis","hover",String(h));t.dispatch(f0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});cb.startListening({actionCreator:WM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=Qd(r,"axis","hover",String(s));t.dispatch(f0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var wr=Tr("externalEvent"),VM=wc();VM.startListening({actionCreator:wr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:TH(r),activeDataKey:AT(r),activeIndex:Oi(r),activeLabel:kT(r),activeTooltipIndex:Oi(r),isTooltipActive:MH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var lee=z([No],e=>e.tooltipItemPayloads),cee=z([lee,Tc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),KM=Tr("touchMove"),HM=wc();HM.startListening({actionCreator:KM,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Ax(n,n.tooltip.settings.shared);if(i==="axis"){var s=ob(n,lb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(yT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(aE),d=(a=c.getAttribute(oE))!==null&&a!==void 0?a:void 0,f=cee(t.getState(),u,d);t.dispatch(pT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var uee=CO({brush:bQ,cartesianAxis:gZ,chartData:lq,errorBars:wJ,graphicalItems:tX,layout:dU,legend:YU,options:nq,polarAxis:JG,polarOptions:oee,referenceElements:AQ,rootProps:iee,tooltip:JK}),dee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return $8({reducer:uee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([IM.middleware,BM.middleware,cb.middleware,VM.middleware,HM.middleware]),devTools:{serialize:{replacer:nee},name:"recharts-".concat(r)}})};function qM(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=tr(),s=g.useRef(null);if(i)return r;s.current==null&&(s.current=dee(t,n));var a=wv;return g.createElement(tee,{context:a,store:s.current},r)}function GM(e){var{layout:t,width:r,height:n,margin:i}=e,s=We(),a=tr();return g.useEffect(()=>{a||(s(lU(t)),s(cU({width:r,height:n})),s(oU(i)))},[s,a,t,r,n,i]),null}function YM(e){var t=We();return g.useEffect(()=>{t(see(e))},[t,e]),null}var fee=["children"];function hee(e,t){if(e==null)return{};var r,n,i=mee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function of(){return of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},of.apply(null,arguments)}var pee={width:"100%",height:"100%"},gee=g.forwardRef((e,t)=>{var r=uE(),n=dE(),i=pE();if(!Va(r)||!Va(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,g.createElement(FA,of({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:pee,ref:t}),s)}),yee=e=>{var{children:t}=e,r=re(mh);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return g.createElement(FA,{width:n,height:i,x:a,y:s},t)},ZS=g.forwardRef((e,t)=>{var{children:r}=e,n=hee(e,fee),i=tr();return i?g.createElement(yee,null,r):g.createElement(gee,of({ref:t},n),r)});function vee(){var e=We(),[t,r]=g.useState(null),n=re(FU);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;hr(s)&&s!==n&&e(uU(s))}},[t,e,n]),r}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee=g.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:b,style:w,width:y}=e,v=We(),[x,N]=g.useState(null),[j,S]=g.useState(null);dq();var P=vee(),_=g.useCallback(D=>{P(D),typeof t=="function"&&t(D),N(D),S(D)},[P,t,N,S]),A=g.useCallback(D=>{v(LM(D)),v(wr({handler:s,reactEvent:D}))},[v,s]),C=g.useCallback(D=>{v(b0(D)),v(wr({handler:u,reactEvent:D}))},[v,u]),O=g.useCallback(D=>{v(gT()),v(wr({handler:d,reactEvent:D}))},[v,d]),U=g.useCallback(D=>{v(b0(D)),v(wr({handler:f,reactEvent:D}))},[v,f]),L=g.useCallback(()=>{v(WM())},[v]),K=g.useCallback(D=>{v(UM(D.key))},[v]),I=g.useCallback(D=>{v(wr({handler:a,reactEvent:D}))},[v,a]),E=g.useCallback(D=>{v(wr({handler:l,reactEvent:D}))},[v,l]),V=g.useCallback(D=>{v(wr({handler:c,reactEvent:D}))},[v,c]),B=g.useCallback(D=>{v(wr({handler:h,reactEvent:D}))},[v,h]),k=g.useCallback(D=>{v(wr({handler:b,reactEvent:D}))},[v,b]),F=g.useCallback(D=>{v(KM(D)),v(wr({handler:p,reactEvent:D}))},[v,p]),Q=g.useCallback(D=>{v(wr({handler:m,reactEvent:D}))},[v,m]);return g.createElement(DT.Provider,{value:x},g.createElement(FF.Provider,{value:j},g.createElement("div",{className:de("recharts-wrapper",n),style:xee({position:"relative",cursor:"default",width:y,height:i},w),onClick:A,onContextMenu:I,onDoubleClick:E,onFocus:L,onKeyDown:K,onMouseDown:V,onMouseEnter:C,onMouseLeave:O,onMouseMove:U,onMouseUp:B,onTouchEnd:Q,onTouchMove:F,onTouchStart:k,ref:_},r)))}),See=["children","className","width","height","style","compact","title","desc"];function _ee(e,t){if(e==null)return{};var r,n,i=Pee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XM=g.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=_ee(e,See),f=Ct(d);return l?g.createElement(ZS,{otherAttributes:f,title:c,desc:u},r):g.createElement(Nee,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(ZS,{otherAttributes:f,title:c,desc:u,ref:t},g.createElement(EQ,null,r)))}),kee=["width","height"];function w0(){return w0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w0.apply(null,arguments)}function Aee(e,t){if(e==null)return{};var r,n,i=Oee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eee={top:5,right:5,bottom:5,left:5},Cee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eee,reverseStackOrder:!1,syncMethod:"index"},Tee=g.forwardRef(function(t,r){var n,i=$r(t.categoricalChartProps,Cee),{width:s,height:a}=i,l=Aee(i,kee);if(!Va(s)||!Va(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(qM,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},g.createElement(EM,{chartData:h.data}),g.createElement(GM,{width:s,height:a,layout:i.layout,margin:i.margin}),g.createElement(YM,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(XM,w0({},l,{width:s,height:a,ref:r})))}),Mee=["axis","item"],ub=g.forwardRef((e,t)=>g.createElement(Tee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Mee,tooltipPayloadSearcher:Lx,categoricalChartProps:e,ref:t}));function Dee(e){var t=We();return g.useEffect(()=>{t(aee(e))},[t,e]),null}var Ree=["width","height","layout"];function j0(){return j0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},j0.apply(null,arguments)}function $ee(e,t){if(e==null)return{};var r,n,i=Lee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Lee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iee={top:5,right:5,bottom:5,left:5},Bee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Iee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},JM=g.forwardRef(function(t,r){var n,i=$r(t.categoricalChartProps,Bee),{width:s,height:a,layout:l}=i,c=$ee(i,Ree);if(!Va(s)||!Va(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return g.createElement(qM,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},g.createElement(EM,{chartData:i.data}),g.createElement(GM,{width:s,height:a,layout:l,margin:i.margin}),g.createElement(YM,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(Dee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(XM,j0({width:s,height:a},c,{ref:r})))}),Fee=["item"],zee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},db=g.forwardRef((e,t)=>{var r=$r(e,zee);return g.createElement(JM,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Fee,tooltipPayloadSearcher:Lx,categoricalChartProps:r,ref:t})}),Uee=["axis"],Wee={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Vee=g.forwardRef((e,t)=>{var r=$r(e,Wee);return g.createElement(JM,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Uee,tooltipPayloadSearcher:Lx,categoricalChartProps:r,ref:t})});function Kee({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=g.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}const t_={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Hee={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function qee(){var x,N,j,S;const{user:e}=er(),[t,r]=g.useState({isOpen:!1,title:"",data:[],columns:[]}),[n,i]=g.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[s,a]=g.useState([]),[l,c]=g.useState(null),[u,d]=g.useState([]),[f,h]=g.useState([]),[m,p]=g.useState({}),[b,w]=g.useState(!0);g.useEffect(()=>{y(),e&&!e.id.startsWith("guest-")&&v()},[e]);const y=async()=>{var P;try{let{data:_,error:A}=await J.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(A)throw A;const C=(_||[]).filter(k=>{var F;return!((F=k.tournaments)!=null&&F.is_practice)});if(C.length===0){w(!1);return}const O={},U={},L={};let K=0;C.forEach(k=>{var H;if(!k.winner_name||!k.player1_name||!k.player2_name)return;const F=((H=k.outcome)==null?void 0:H.split(" (")[0])||"Unknown",Q=k.points_awarded||t_[F]||0;K+=Q,L[F]=(L[F]||0)+1;const D=k.normalized_player1_name||k.player1_name.toLowerCase(),Z=k.normalized_player2_name||k.player2_name.toLowerCase(),q=k.normalized_winner_name||k.winner_name.toLowerCase();[D,Z].forEach((R,W)=>{const M=W===0?k.player1_name:k.player2_name;O[M]||(O[M]={wins:0,matches:0,points:0}),O[M].matches++,q===R&&(O[M].wins++,O[M].points+=Q)});const T=(R,W,M,X)=>{const ee=`${W}_${R}`;U[ee]||(U[ee]={combo:W,player:R,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:M||"Unknown"});const $=U[ee];$.totalMatches++,X?($.wins++,$.totalPoints+=Q):$.losses++};T(k.player1_name,k.player1_beyblade,k.player1_blade_line||"Unknown",k.winner_name===k.player1_name),T(k.player2_name,k.player2_beyblade,k.player2_blade_line||"Unknown",k.winner_name===k.player2_name)}),Object.values(U).forEach(k=>{k.winRate=k.totalMatches>0?k.wins/k.totalMatches*100:0,k.weightedWinRate=k.totalMatches>0?k.wins/k.totalMatches*(k.totalMatches/(k.totalMatches+10)):0,k.avgPointsPerMatch=k.totalMatches>0?k.totalPoints/k.totalMatches:0,k.comboScore=k.weightedWinRate*(k.avgPointsPerMatch/3)*100});const I=Object.entries(O).filter(([k,F])=>F.matches>=5).sort((k,F)=>{const Q=k[1].wins/k[1].matches;return F[1].wins/F[1].matches-Q})[0],E=((P=Object.entries(L).sort((k,F)=>F[1]-k[1])[0])==null?void 0:P[0])||"Unknown",{count:V}=await J.from("tournaments").select("*",{count:"exact",head:!0});i({totalMatches:C.length,totalPlayers:Object.keys(O).length,totalTournaments:V||0,avgPointsPerMatch:C.length>0?K/C.length:0,mostCommonFinish:E,topPlayer:(I==null?void 0:I[0])||"N/A",topPlayerWinRate:I?I[1].wins/I[1].matches*100:0}),a(Object.values(U).sort((k,F)=>F.comboScore-k.comboScore)),p(O);const B=Object.entries(L).map(([k,F])=>({name:k,value:F,color:Hee[k]||"#6B7280"}));h(B)}catch(_){console.error("Error fetching global data:",_)}finally{w(!1)}},v=async()=>{var P;if(!(!e||e.id.startsWith("guest-")))try{let{data:_,error:A}=await J.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `).or(`normalized_player1_name.eq.${e.username.toLowerCase()},normalized_player2_name.eq.${e.username.toLowerCase()}`);if(A)throw A;const C=(_||[]).filter(D=>{var Z;return!((Z=D.tournaments)!=null&&Z.is_practice)});if(C.length===0){c(null);return}let O=0,U=0;const L={},K={},I={},E=new Set;C.forEach(D=>{var M;if(!D.winner_name)return;const Z=D.player1_name===e.username,q=D.winner_name===e.username,T=Z?D.player1_beyblade:D.player2_beyblade,H=Z?D.player2_name:D.player1_name,R=((M=D.outcome)==null?void 0:M.split(" (")[0])||"Unknown",W=D.points_awarded||t_[R]||0;E.add(D.tournament_id),q&&(O++,U+=W,K[R]=(K[R]||0)+1),L[T]||(L[T]={wins:0,matches:0,points:0}),L[T].matches++,q&&(L[T].wins++,L[T].points+=W),I[H]||(I[H]={opponent:H,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),I[H].totalMatches++,q?(I[H].wins++,I[H].pointsFor+=W):(I[H].losses++,I[H].pointsAgainst+=W)}),Object.values(I).forEach(D=>{D.winRate=D.totalMatches>0?D.wins/D.totalMatches*100:0});const V=Object.entries(L).map(([D,Z])=>{const q=Z.matches>0?Z.wins/Z.matches:0,T=Z.matches>0?q*(Z.matches/(Z.matches+10)):0,H=Z.matches>0?Z.points/Z.matches:0,R=T*(H/3)*100;return{combo:D,comboScore:R}}).sort((D,Z)=>Z.comboScore-D.comboScore)[0],B=((P=Object.entries(K).sort((D,Z)=>Z[1]-D[1])[0])==null?void 0:P[0])||"N/A",k=C.length,F=k>0?O/k*100:0,Q=k>0?O/k*(k/(k+10)):0;c({totalMatches:k,wins:O,losses:k-O,winRate:F,weightedWinRate:Q*100,totalPoints:U,avgPointsPerMatch:k>0?U/k:0,mvpCombo:(V==null?void 0:V.combo)||"N/A",mvpComboScore:(V==null?void 0:V.comboScore)||0,favoriteFinish:B,tournamentsPlayed:E.size}),d(Object.values(I).sort((D,Z)=>Z.winRate-D.winRate))}catch(_){console.error("Error fetching personal data:",_)}};return b?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(Ms,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(Je,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(tt,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(ao,{size:24,className:"text-orange-600"})})]})})]}),l&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Je,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[l.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[l.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:l.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",l.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:l.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",l.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(ks,{width:"100%",height:300,children:o.jsxs(db,{children:[o.jsx($h,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:_})=>`${P} ${(_*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((P,_)=>o.jsx(Is,{fill:P.color},`cell-${_}`))}),o.jsx(Ja,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(ks,{width:"100%",height:300,children:o.jsxs(ub,{data:s.slice(0,8).map(P=>({name:P.combo,score:P.comboScore,winRate:P.winRate,matches:P.totalMatches})),margin:{bottom:80},children:[o.jsx(Ih,{strokeDasharray:"3 3"}),o.jsx(Rc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx($c,{}),o.jsx(Ja,{formatter:(P,_)=>[typeof P=="number"?P.toFixed(2):P,_==="score"?"Combo Score":_==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Lh,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Users"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Global Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const P={};return s.forEach(_=>{P[_.combo]||(P[_.combo]={combo:_.combo,players:[],totalMatches:0,totalWins:0,totalPoints:0,winRate:0,avgPoints:0,playerData:[]});const A=P[_.combo];A.players.push(_.player),A.totalMatches+=_.totalMatches,A.totalWins+=_.wins,A.totalPoints+=_.totalPoints,A.playerData.push(_)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.totalWins/_.totalMatches*100:0,_.avgPoints=_.totalMatches>0?_.totalPoints/_.totalMatches:0}),Object.values(P).sort((_,A)=>A.winRate-_.winRate).slice(0,20)})().map((P,_)=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",_+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.players.length}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-600":P.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:P.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{const A=P.playerData.map(C=>({player:C.player,matches:C.totalMatches,wins:C.wins,winRate:C.winRate,avgPoints:C.avgPointsPerMatch,bladeLine:C.bladeLine}));r({isOpen:!0,title:`Players using ${P.combo}`,data:A,columns:[{key:"player",label:"Player"},{key:"matches",label:"Matches"},{key:"wins",label:"Wins"},{key:"winRate",label:"Win Rate (%)"},{key:"avgPoints",label:"Avg Points"},{key:"bladeLine",label:"Blade Line"}]})},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Players"})})]},_))})]})})]}),l&&u.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((P,_)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:P.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:P.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-600":P.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.pointsAgainst})]},_))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Tournaments"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(m||{}).filter(([P,_])=>_.matches>=3).sort((P,_)=>{const A=P[1].wins/P[1].matches,C=_[1].wins/_[1].matches;return C!==A?C-A:_[1].wins-P[1].wins}).slice(0,10).map(([P,_],A)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3 ${A===0?"bg-yellow-500":A===1?"bg-gray-400":A===2?"bg-orange-600":"bg-blue-500"}`,children:A+1})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:_.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${_.wins/_.matches*100>=60?"text-green-600":_.wins/_.matches*100>=40?"text-yellow-600":"text-red-600"}`,children:[(_.wins/_.matches*100).toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:Math.ceil(_.matches/10)})]},P))})]})})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx(tt,{size:40,className:"text-white"})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(zl,{size:16,className:"text-black"})}),o.jsx("h4",{className:"text-xl font-bold text-yellow-900 mb-2",children:"Global Champion"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-800 mb-1",children:n.topPlayer}),o.jsxs("p",{className:"text-yellow-700 text-sm mb-4",children:["Win Rate: ",n.topPlayerWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 border border-yellow-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-800",children:((N=(x=Object.entries(m||{}).find(([P])=>P===n.topPlayer))==null?void 0:x[1])==null?void 0:N.wins)||0}),o.jsx("div",{className:"text-xs text-yellow-700",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-800",children:((S=(j=Object.entries(m||{}).find(([P])=>P===n.topPlayer))==null?void 0:j[1])==null?void 0:S.matches)||0}),o.jsx("div",{className:"text-xs text-yellow-700",children:"Total Matches"})]})]})})]})})]})]}),o.jsx(Kee,{isOpen:t.isOpen,onClose:()=>r(P=>({...P,isOpen:!1})),title:t.title,data:t.data,columns:t.columns,onRowClick:t.onRowClick})]})}function r_({selectedPlayer:e,onPlayerChange:t,availablePlayers:r}){return o.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"D"})}),o.jsx("h3",{className:"text-lg font-bold text-red-900",children:"Developer Mode"})]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-red-800 mb-2",children:"View Personal Stats for Player:"}),o.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"w-full border border-red-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),r.map(n=>o.jsx("option",{value:n,children:n},n))]})]})]})}const Gee={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Yee={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Xee(){const{user:e}=er(),[t,r]=g.useState(""),[n,i]=g.useState([]),[s,a]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState([]),[f,h]=g.useState([]),[m,p]=g.useState([]),[b,w]=g.useState(!0),[y,v]=g.useState(""),x=(e==null?void 0:e.role)==="developer",N=x&&t?t:e==null?void 0:e.username;g.useEffect(()=>{x&&j(),N?S(N):w(!1)},[e,t]);const j=async()=>{try{const{data:_}=await J.from("match_results").select("player1_name, player2_name"),A=new Set;_==null||_.forEach(C=>{C.player1_name&&A.add(C.player1_name),C.player2_name&&A.add(C.player2_name)}),i(Array.from(A).sort())}catch(_){console.error("Error fetching available players:",_)}},S=async _=>{if(!_){w(!1);return}try{const{data:A,error:C}=await J.from("match_results").select("*").or(`normalized_player1_name.eq.${_.toLowerCase()},normalized_player2_name.eq.${_.toLowerCase()}`);if(C)throw C;const O=A||[];if(O.length===0){w(!1);return}const U=[...new Set(O.map(D=>D.tournament_id))],{data:L}=await J.from("tournaments").select("id, name, tournament_date").in("id",U),K=(L||[]).reduce((D,Z)=>(D[Z.id]={name:Z.name,date:Z.tournament_date},D),{}),I={},E={},V={},B={},k={};O.forEach(D=>{var te,ae,oe;if(!D.winner_name)return;const Z=D.player1_name===_,q=D.winner_name===_,T=Z?D.player1_beyblade:D.player2_beyblade,H=Z?D.player1_blade_line:D.player2_blade_line,R=((te=D.outcome)==null?void 0:te.split(" (")[0])||"Unknown",W=D.points_awarded||Gee[R]||0;q&&(B[R]=(B[R]||0)+1,k[R]=(k[R]||0)+W),E[T]||(E[T]={combo:T,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:H||"Unknown",finishDistribution:{},pointsPerFinish:{}});const M=E[T];M.totalMatches++,q?(M.wins++,M.totalPoints+=W,M.finishDistribution[R]=(M.finishDistribution[R]||0)+1,M.pointsPerFinish[R]=(M.pointsPerFinish[R]||0)+W):M.losses++;const X=H||"Unknown";V[X]||(V[X]={bladeLine:X,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const ee=V[X];ee.matches++,q&&(ee.wins++,ee.avgPoints=(ee.avgPoints*(ee.wins-1)+W)/ee.wins);const $=D.tournament_id;I[$]||(I[$]={tournamentName:((ae=K[$])==null?void 0:ae.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((oe=K[$])==null?void 0:oe.date)||""});const G=I[$];G.matches++,q&&(G.wins++,G.points+=W)}),Object.values(E).forEach(D=>{D.winRate=D.totalMatches>0?D.wins/D.totalMatches*100:0,D.weightedWinRate=D.totalMatches>0?D.wins/D.totalMatches*(D.totalMatches/(D.totalMatches+10)):0,D.avgPointsPerMatch=D.totalMatches>0?D.totalPoints/D.totalMatches:0,D.comboScore=D.weightedWinRate*(D.avgPointsPerMatch/3)*100}),Object.values(V).forEach(D=>{D.winRate=D.matches>0?D.wins/D.matches*100:0,D.riskReward=Math.random()*100}),Object.values(I).forEach(D=>{D.winRate=D.matches>0?D.wins/D.matches*100:0,D.avgPointsPerMatch=D.matches>0?D.points/D.matches:0}),a(Object.values(E).sort((D,Z)=>Z.comboScore-D.comboScore)),c(Object.values(V)),d(Object.values(I).sort((D,Z)=>new Date(Z.date).getTime()-new Date(D.date).getTime()));const F=Object.entries(B).map(([D,Z])=>({name:D,value:Z,color:Yee[D]||"#6B7280"}));h(F);const Q=Object.entries(k).map(([D,Z])=>({finish:D,points:Z,avgPoints:B[D]>0?Z/B[D]:0}));p(Q)}catch(A){console.error("Error fetching personal stats:",A)}finally{w(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(yd,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(b)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading personal stats..."})]});if(!N||s.length===0)return o.jsxs("div",{className:"space-y-6",children:[x&&o.jsx(r_,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tt,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:x&&t?`${t} hasn't participated in any recorded matches yet.`:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]})]});const P=y?s.find(_=>_.combo===y):null;return o.jsxs("div",{className:"space-y-8",children:[x&&o.jsx(r_,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.reduce((_,A)=>_+A.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(Ms,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[s.length>0?(s.reduce((_,A)=>_+A.wins,0)/s.reduce((_,A)=>_+A.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(tt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.reduce((_,A)=>_+A.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(hc,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:u.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(yd,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(ks,{width:"100%",height:300,children:o.jsxs(db,{children:[o.jsx($h,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:A})=>`${_} ${(A*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((_,A)=>o.jsx(Is,{fill:_.color},`cell-${A}`))}),o.jsx(Ja,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(ks,{width:"100%",height:300,children:o.jsxs(ub,{data:m,children:[o.jsx(Ih,{strokeDasharray:"3 3"}),o.jsx(Rc,{dataKey:"finish"}),o.jsx($c,{}),o.jsx(Ja,{}),o.jsx(Lh,{dataKey:"points",fill:"#3B82F6"})]})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-3",children:m.map(_=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[_.finish,":"]}),o.jsx("span",{className:"text-lg font-bold text-blue-600",children:_.points})]},_.finish))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:y,onChange:_=>v(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),s.map(_=>o.jsxs("option",{value:_.combo,children:[_.combo," (",_.totalMatches," matches)"]},_.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((_,A)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${y===_.combo?"bg-blue-50":""}`,onClick:()=>v(_.combo===y?"":_.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.bladeLine==="Basic"?"bg-blue-100 text-blue-800":_.bladeLine==="Unique"?"bg-purple-100 text-purple-800":_.bladeLine==="Custom"?"bg-orange-100 text-orange-800":_.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${_.winRate>=60?"text-green-600":_.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[_.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(_.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:_.comboScore.toFixed(1)})]},A))})]})}),P&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",P.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(P.finishDistribution).map(([_,A])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:_}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:A}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",P.totalMatches>0?(A/P.wins*100).toFixed(0):0,"%)"]})]})]},_))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(P.pointsPerFinish).map(([_,A])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:_}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[A," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",P.finishDistribution[_]>0?(A/P.finishDistribution[_]).toFixed(1):"0.0",")"]})]})]},_))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((_,A)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.date?new Date(_.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:_.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${_.winRate>=60?"text-green-600":_.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[_.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:_.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.avgPointsPerMatch.toFixed(2)})]},A))})]})})]}),s.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:x&&t?`${t}'s MVP Combo`:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:s[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:s[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:s[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:s[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function Jee(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return Math.round((s-a)/i*1e3)/1e3}function Qee(e,t,r){let n=e;const i=QM(n,r.bits);if(!i)return null;n=n.slice(0,n.length-i.bitName.length).trim();const s=ZM(n,r.ratchets);if(!s)return null;n=n.slice(0,n.length-s.ratchetName.length).trim();const a=eD(n,r.blades.filter(c=>c.Line===t));return a?{isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function Zee(e,t){let r=e;const n=ete(e,t.lockchips);if(!n)return null;r=e.slice(n.lockchipName.length);const i=QM(r,t.bits);if(!i)return null;r=r.slice(0,r.length-i.bitName.length).trim();const s=ZM(r,t.ratchets);if(!s)return null;r=r.slice(0,r.length-s.ratchetName.length).trim();const a=tte(r,t.assistBlades);if(!a)return null;r=r.slice(0,r.length-a.assistBladeName.length).trim();const l=eD(r,t.blades.filter(u=>u.Line==="Custom"));return l?{isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function QM(e,t){const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return{bit:n,bitName:n.Shortcut||i}}return null}function ZM(e,t){const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return{ratchet:n,ratchetName:i}}return null}function eD(e,t){for(const r of t){const n=r.Blades;if(n&&e===n)return{blade:r,bladeName:n}}return null}function ete(e,t){const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return{lockchip:n,lockchipName:i}}return null}function tte(e,t){const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return{assistBlade:n,assistBladeName:i}}return null}function n_(e,t,r){if(!e||!e.trim())return{isCustom:!1};const n=["Basic","Unique","X-Over","Custom"];for(const i of n)if(i==="Custom"){const s=Zee(e,r);if(s)return s}else{const s=Qee(e,i,r);if(s)return s}return{isCustom:!1}}const rte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},nte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function ite({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=g.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function ste({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Used"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome})]},s)),n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome})]},`p2-${s}`))]})]})})]})}):null}function ate({tournamentId:e,loading:t=!1}){const[r,n]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=g.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!0),[h,m]=g.useState(""),[p,b]=g.useState(""),[w,y]=g.useState([]),[v,x]=g.useState({key:"comboScore",direction:"desc"}),[N,j]=g.useState({isOpen:!1,title:"",data:[],columns:[]}),[S,P]=g.useState({isOpen:!1,title:"",matches:[]});g.useEffect(()=>{e&&_()},[e]),g.useEffect(()=>{e&&r.blades.length>0&&A()},[e,r]);const _=async()=>{try{const[k,F,Q,D,Z]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:F.data||[],bits:Q.data||[],lockchips:D.data||[],assistBlades:Z.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},A=async()=>{try{const{data:k,error:F}=await J.from("match_results").select("*").eq("tournament_id",e);if(F)throw F;if(!k||k.length===0){f(!1);return}const Q=[],D={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},Z={};k.forEach(T=>{var oe;if(!T.winner_name||!T.player1_name||!T.player2_name)return;const H=n_(T.player1_beyblade,T.player1_blade_line,r),R=n_(T.player2_beyblade,T.player2_blade_line,r),W=((oe=T.outcome)==null?void 0:oe.split(" (")[0])||"Unknown",M=T.points_awarded||rte[W]||0,X=T.normalized_player1_name||T.player1_name.toLowerCase(),ee=T.normalized_player2_name||T.player2_name.toLowerCase(),$=T.normalized_winner_name||T.winner_name.toLowerCase(),G={player:T.player1_name,opponent:T.player2_name,beyblade:T.player1_beyblade,opponentBeyblade:T.player2_beyblade,isWin:$===X,outcome:W,parsedParts:H,bladeLine:T.player1_blade_line||"Unknown"},te={player:T.player2_name,opponent:T.player1_name,beyblade:T.player2_beyblade,opponentBeyblade:T.player1_beyblade,isWin:$===ee,outcome:W,parsedParts:R,bladeLine:T.player2_blade_line||"Unknown"};Q.push(G,te),[G,te].forEach(me=>{const pe=`${me.beyblade}_${me.player}`;Z[pe]||(Z[pe]={combo:me.beyblade,player:me.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:me.bladeLine,allMatches:[]});const Ce=Z[pe];Ce.totalMatches++,Ce.finishDistribution[W]=(Ce.finishDistribution[W]||0)+1,Ce.allMatches.push(T),me.isWin?(Ce.wins++,Ce.totalPoints+=M):Ce.losses++});const ae=(me,pe)=>{Object.entries(me).forEach(([Ce,yr])=>{if(Ce==="isCustom"||!yr)return;D[Ce][yr]||(D[Ce][yr]={name:yr,usage:0,wins:0,losses:0,winRate:0,wilson:0});const vn=D[Ce][yr];vn.usage++,pe?vn.wins++:vn.losses++})};ae(H,G.isWin),ae(R,te.isWin)}),Object.keys(D).forEach(T=>{Object.values(D[T]).forEach(H=>{const R=H.wins+H.losses;H.winRate=R>0?H.wins/R*100:0,H.wilson=Jee(H.wins,R)})});const q=Object.values(Z).map(T=>(T.winRate=T.totalMatches>0?T.wins/T.totalMatches*100:0,T.weightedWinRate=T.totalMatches>0?T.wins/T.totalMatches*(T.totalMatches/(T.totalMatches+10)):0,T.avgPointsPerMatch=T.totalMatches>0?T.totalPoints/T.totalMatches:0,T.comboScore=T.weightedWinRate*(T.avgPointsPerMatch/3)*100,T));s(D),l(q),u(Q),h&&p&&C()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},C=()=>{if(!h||!p)return;const k=a.filter(F=>c.filter(D=>D.beyblade===F.combo&&D.player===F.player).some(D=>D.parsedParts[h]===p));y(k.sort((F,Q)=>Q.comboScore-F.comboScore))};mi.useEffect(()=>{h&&p&&a.length>0?C():y([])},[h,p,a]);const O=k=>{let F="asc";v.key===k&&v.direction==="asc"&&(F="desc"),x({key:k,direction:F})},U=(k,F)=>{const D=c.filter(Z=>Z.parsedParts[F]===k).map(Z=>{var T;const q=((T=Z.allMatches)==null?void 0:T[0])||{};return{combo_used:Z.beyblade,combo_against:Z.opponentBeyblade,player1_name:Z.player,player2_name:Z.opponent,winner_name:q.winner_name,outcome:Z.outcome,player1_beyblade:Z.beyblade,player2_beyblade:Z.opponentBeyblade}});P({isOpen:!0,title:`All Matches using ${k}`,matches:D})},L=k=>{const F=Object.values(i[k]||{}).filter(Q=>Q.usage>0).sort((Q,D)=>D.wilson-Q.wilson).map(Q=>({...Q,allMatches:c.filter(D=>D.parsedParts[k]===Q.name)}));j({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:F,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:Q=>{j(D=>({...D,isOpen:!1})),setTimeout(()=>{U(Q.name,k)},100)}})},K=()=>{j({isOpen:!0,title:"All Combo Performance Rankings",data:I,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),j(F=>({...F,isOpen:!1}))}})},I=[...a].sort((k,F)=>{const Q=k[v.key],D=F[v.key];if(typeof Q=="number"&&typeof D=="number")return v.direction==="asc"?Q-D:D-Q;const Z=String(Q),q=String(D);return v.direction==="asc"?Z.localeCompare(q):q.localeCompare(Z)}),E=({children:k,sortKey:F})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O(F),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),v.key===F&&(v.direction==="asc"?o.jsx(tI,{size:12}):o.jsx(ZL,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Xr,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const V=I.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),B=Object.entries(c.reduce((k,F)=>(F.isWin&&(k[F.outcome]=(k[F.outcome]||0)+1),k),{})).map(([k,F])=>({name:k,value:F,color:nte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(Ms,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(ks,{width:"100%",height:300,children:o.jsxs(ub,{data:V,margin:{bottom:60},children:[o.jsx(Ih,{strokeDasharray:"3 3"}),o.jsx(Rc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx($c,{}),o.jsx(Ja,{formatter:(k,F)=>[typeof k=="number"?k.toFixed(2):k,F==="score"?"Combo Score":F==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Lh,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(ks,{width:"100%",height:300,children:o.jsxs(db,{children:[o.jsx($h,{data:B,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:F})=>`${k} ${(F*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:B.map((k,F)=>o.jsx(Is,{fill:k.color},`cell-${F}`))}),o.jsx(Ja,{})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(Ts,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),b("")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:p,onChange:k=>b(k.target.value),disabled:!h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,F)=>F.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&p&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",p," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,F)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},F))})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:K,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(un,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(E,{sortKey:"combo",children:"Combo"}),o.jsx(E,{sortKey:"player",children:"Player"}),o.jsx(E,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(E,{sortKey:"totalMatches",children:"Matches"}),o.jsx(E,{sortKey:"winRate",children:"Win Rate"}),o.jsx(E,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(E,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(E,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.slice(0,20).map((k,F)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},F))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>L(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(un,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Xr,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(F=>F.usage>0).sort((F,Q)=>Q.wilson-F.wilson).slice(0,8).map((F,Q)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:F.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:F.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${F.winRate>=60?"text-green-600":F.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[F.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:F.wilson.toFixed(3)})]},Q))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>L(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(un,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Xr,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(F=>F.usage>0).sort((F,Q)=>Q.wilson-F.wilson).slice(0,8).map((F,Q)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:F.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:F.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${F.winRate>=60?"text-green-600":F.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[F.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:F.wilson.toFixed(3)})]},Q))})]})})]},k))})]}),o.jsx(ite,{isOpen:N.isOpen,onClose:()=>j(k=>({...k,isOpen:!1})),title:N.title,data:N.data,columns:N.columns,onRowClick:N.onRowClick}),o.jsx(ste,{isOpen:S.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:S.title,matches:S.matches})]})}const i_={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Su=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function ote({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=g.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(It,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4 relative",children:[o.jsx(Ts,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function lte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(It,{size:24})})]}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Finish Type"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:`hover:bg-gray-50 ${i.winner_name===i.player1_name?"bg-blue-50":i.winner_name===i.player2_name?"bg-red-50":""}`,children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium",children:["Match ",s+1]}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${i.winner_name===i.player1_name?"text-blue-700":"text-gray-600"}`,children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${i.winner_name===i.player2_name?"text-red-700":"text-gray-600"}`,children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 text-sm",children:i.outcome})]},s))})]})})]})}):null}function cte({tournamentId:e,loading:t=!1}){const[r,n]=g.useState({}),[i,s]=g.useState(""),[a,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState({isOpen:!1,title:"",data:[],columns:[],onRowClick:void 0}),[h,m]=g.useState({isOpen:!1,title:"",matches:[]});g.useEffect(()=>{e&&b()},[e]);const p=(j,S)=>S===0?0:j/S*(S/(S+10)),b=async()=>{try{const{data:j,error:S}=await J.from("match_results").select("*").eq("tournament_id",e);if(S)throw S;const P=j||[];if(P.length===0){u(!1);return}const _={},A={};P.forEach(O=>{var q;if(!O.winner_name||!O.player1_name||!O.player2_name)return;const U=((q=O.outcome)==null?void 0:q.split(" (")[0])||"Unknown",L=O.points_awarded||i_[U]||0,K=O.phase_number||1,I=O.normalized_player1_name||O.player1_name.toLowerCase(),E=O.normalized_player2_name||O.player2_name.toLowerCase(),V=O.normalized_winner_name||O.winner_name.toLowerCase();[I,E].forEach((T,H)=>{const R=H===0?O.player1_name:O.player2_name;_[R]||(_[R]={name:R,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),_[O.player1_name]&&_[O.player1_name].allMatches.push(O),_[O.player2_name]&&_[O.player2_name].allMatches.push(O);const B=_[O.winner_name],k=V===I?O.player2_name:O.player1_name,F=_[k],Q=O.winner_name===O.player1_name?O.player1_beyblade:O.player2_beyblade,D=O.winner_name===O.player1_name?O.player2_beyblade:O.player1_beyblade;if(!B||!F)return;B.matches++,B.wins++,B.totalPoints+=L,B.finishDistribution[U]=(B.finishDistribution[U]||0)+1,B.winsByFinish[Q]||(B.winsByFinish[Q]={}),B.winsByFinish[Q][U]=(B.winsByFinish[Q][U]||0)+1,B.pointsGainedByBey[Q]=(B.pointsGainedByBey[Q]||0)+L,B.phasePerformance[K]||(B.phasePerformance[K]={wins:0,matches:0,points:0}),B.phasePerformance[K].wins++,B.phasePerformance[K].matches++,B.phasePerformance[K].points+=L,F.matches++,F.losses++,F.finishDistribution[U]=(F.finishDistribution[U]||0)+1,F.lossesByFinish[D]||(F.lossesByFinish[D]={}),F.lossesByFinish[D][U]=(F.lossesByFinish[D][U]||0)+1,F.pointsGivenByBey[D]=(F.pointsGivenByBey[D]||0)+L,F.phasePerformance[K]||(F.phasePerformance[K]={wins:0,matches:0,points:0}),F.phasePerformance[K].matches++;const Z=[O.player1_name,O.player2_name].sort().join("_vs_");A[Z]||(A[Z]={player1:O.player1_name,player2:O.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),A[Z].totalMatches++,O.winner_name===O.player1_name?A[Z].p1Wins++:A[Z].p2Wins++}),Object.values(_).forEach(O=>{if(O.winRate=O.matches>0?O.wins/O.matches*100:0,O.weightedWinRate=p(O.wins,O.matches),O.avgPointsPerMatch=O.matches>0?O.totalPoints/O.matches:0,Object.keys(O.pointsGainedByBey).length>0){const[L,K]=Object.entries(O.pointsGainedByBey).reduce((I,E)=>I[1]>E[1]?I:E);O.mvpCombo=L,O.mvpComboScore=K}const U=Object.entries(O.finishDistribution);O.mostCommonWinFinish=U.length>0?U.reduce((L,K)=>L[1]>K[1]?L:K)[0]:"N/A",O.mostCommonLoseFinish=O.mostCommonWinFinish}),Object.values(A).forEach(O=>{O.p1WinRate=O.totalMatches>0?O.p1Wins/O.totalMatches*100:0}),n(_),l(Object.values(A).filter(O=>O.totalMatches>0));const C=Object.keys(_);C.length>0&&!i&&s(C[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=Object.keys(r),y=i?r[i]:void 0,v=()=>{const j=Object.values(r).map(S=>({Player:S.name,Matches:S.matches,Wins:S.wins,Losses:S.losses,"Win Rate (%)":Number(S.winRate.toFixed(1)),"Weighted Win Rate (%)":Number((S.weightedWinRate*100).toFixed(1)),"Total Points":S.totalPoints,"Avg Pts/Match":Number(S.avgPointsPerMatch.toFixed(2)),"MVP Beyblade":S.mvpCombo||"—","MVP Points":S.mvpComboScore||0}));f({isOpen:!0,title:"All Players (Sortable/Filterable)",data:j,columns:[{key:"Player",label:"Player"},{key:"Matches",label:"Matches"},{key:"Wins",label:"Wins"},{key:"Losses",label:"Losses"},{key:"Win Rate (%)",label:"Win Rate (%)"},{key:"Weighted Win Rate (%)",label:"Weighted Win Rate (%)"},{key:"Total Points",label:"Total Points"},{key:"Avg Pts/Match",label:"Avg Pts/Match"},{key:"MVP Beyblade",label:"MVP Beyblade"},{key:"MVP Points",label:"MVP Points"}],onRowClick:S=>{s(S.Player),f(P=>({...P,isOpen:!1}))}})},x=()=>{const j=a.map(S=>({Matchup:`${S.player1} vs ${S.player2}`,"Total Matches":S.totalMatches,"Player 1 Wins":S.p1Wins,"Player 2 Wins":S.p2Wins,"P1 Win Rate (%)":Number(S.p1WinRate.toFixed(1))}));f({isOpen:!0,title:"All Head-to-Head Matchups",data:j,columns:[{key:"Matchup",label:"Matchup"},{key:"Total Matches",label:"Total Matches"},{key:"Player 1 Wins",label:"Player 1 Wins"},{key:"Player 2 Wins",label:"Player 2 Wins"},{key:"P1 Win Rate (%)",label:"P1 Win Rate (%)"}]})},N=j=>{const S=r[j];S&&m({isOpen:!0,title:`${j} — Match Details`,matches:S.allMatches||[]})};return c||t?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})}):w.length===0?o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:o.jsx("p",{className:"text-gray-600",children:"No match data found for this tournament yet."})})}):o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Je,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),w.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),y&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[o.jsx(tt,{size:20,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:v,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(un,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,S)=>S.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,S)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:S+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-center",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 text-sm",children:j.mostCommonWinFinish})]},j.name))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(Ms,{size:24,className:"mr-2 text-blue-600"}),y.name," — Detailed Performance"]}),o.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 underline",onClick:()=>N(y.name),children:"View Match Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:y.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[y.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:y.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:y.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-indigo-600",children:y.mvpCombo||"N/A"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Most Valuable Beyblade"}),y.mvpCombo&&o.jsxs("div",{className:"text-lg font-bold text-indigo-700 mt-1",children:[y.mvpComboScore," pts"]})]})]})]})]}),y&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Su.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(y.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Su.map(S=>{var P;return o.jsx("td",{className:"px-6 py-4 text-sm text-center font-medium text-green-600",children:((P=y.winsByFinish[j])==null?void 0:P[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 text-sm text-center font-bold text-green-700",children:y.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Su.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(y.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Su.map(S=>{var P;return o.jsx("td",{className:"px-6 py-4 text-sm text-center font-medium text-red-600",children:((P=y.lossesByFinish[j])==null?void 0:P[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 text-sm text-center font-bold text-red-700",children:y.pointsGivenByBey[j]||0})]},j))})]})})]})]}),y&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Points per Finish Type"}),o.jsx(ks,{width:"100%",height:400,children:o.jsxs(Vee,{data:Object.entries(y.finishDistribution).map(([j,S])=>({finish:j,points:S*(i_[j]||0),count:S})),children:[o.jsx(nM,{}),o.jsx(Rh,{dataKey:"finish"}),o.jsx(Mh,{}),o.jsx(nb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]}),Object.keys(y.phasePerformance).length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(y.phasePerformance).sort(([j],[S])=>parseInt(j)-parseInt(S)).map(([j,S])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:S.matches}),o.jsx("td",{className:"px-6 py-4 text-sm text-green-600 text-center font-medium",children:S.wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.matches>0&&S.wins/S.matches*100>=50?"text-green-600":"text-red-600"}`,children:[S.matches>0?(S.wins/S.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:S.matches>0?(S.points/S.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[o.jsx(ao,{size:20,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(un,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,S)=>S.totalMatches-j.totalMatches).slice(0,10).map((j,S)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},S))})]})})]}),o.jsx(ote,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(lte,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function ute(){const[e,t]=g.useState("meta"),[r,n]=g.useState([]),[i,s]=g.useState(""),[a,l]=g.useState(!0),[c,u]=g.useState(!1);g.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await J.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const p=h==null?void 0:h.find(b=>b.status==="completed");p&&s(p.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(En,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Xr,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Je,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx(ate,{tournamentId:i}),e==="player"&&o.jsx(cte,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(En,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function dte(){return o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Xr,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-green-900 mb-4",children:"Community Analytics"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-green-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will be able to track engagement, growth, and tournament participation. Gain insights, compare statistics, and help your community thrive."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ao,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Growth Metrics"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Track new member growth and community activity trends"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Ms,{size:24,className:"text-emerald-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Engagement Insights"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Analyze posts, discussions, and tournament participation"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Je,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Community Comparison"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Compare stats across different communities for insights and growth opportunities"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-green-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-green-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Community growth tracking"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Engagement analytics and trends"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Community comparison and insights"]})]})]}),o.jsx("div",{className:"mt-8 text-green-600 text-sm",children:"Community analytics is coming soon — empowering every community to grow stronger!"})]})})})})}function fte(){er();const[e,t]=g.useState("overview"),[r,n]=g.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Xr,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament, player, and community statistics"})]}),o.jsxs("div",{className:"filter-tabs flex gap-2",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(tt,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(yd,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(En,{size:16,className:"mr-2"}),"Tournament Analysis"]}),o.jsxs("button",{onClick:()=>i("community"),className:`filter-tab ${e==="community"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Je,{size:16,className:"mr-2"}),"Community Analytics"]})]})]})}),e==="overview"&&o.jsx(qee,{}),e==="personal"&&o.jsx(Xee,{}),e==="tournament"&&o.jsx(ute,{}),e==="community"&&o.jsx(dte,{})]})})}function hte(){const{user:e}=er(),{confirm:t,alert:r}=Cs(),[n,i]=g.useState([]),[s,a]=g.useState([]),[l,c]=g.useState(""),[u,d]=g.useState("tournaments"),[f,h]=g.useState(!0),[m,p]=g.useState(!1),[b,w]=g.useState(null),[y,v]=g.useState(!1),[x,N]=g.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:""}),j=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";g.useEffect(()=>{j&&S()},[j]),g.useEffect(()=>{l&&u==="registrations"&&P()},[l,u]);const S=async()=>{h(!0);try{const{data:E,error:V}=await J.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(V)throw V;i(E||[])}catch(E){console.error("Error fetching tournaments:",E),i([])}finally{h(!1)}},P=async()=>{if(l)try{const{data:E,error:V}=await J.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(V)throw V;const B={};E==null||E.forEach(k=>{B[k.registration_id]||(B[k.registration_id]={id:k.registration_id,tournament_id:k.tournament_id,player_name:k.player_name,payment_mode:k.payment_mode,registered_at:k.registered_at,status:k.status,payment_status:k.payment_status||"confirmed",beyblades:[]}),k.beyblade_id&&(B[k.registration_id].beyblades.find(Q=>Q.beyblade_id===k.beyblade_id)||B[k.registration_id].beyblades.push({beyblade_id:k.beyblade_id,beyblade_name:k.beyblade_name,blade_line:k.blade_line}))}),a(Object.values(B))}catch(E){console.error("Error fetching registrations:",E)}},_=()=>{p(!0),N({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})},A=E=>{w(E.id),N({name:E.name,description:E.description||"",tournament_date:E.tournament_date,location:E.location,max_participants:E.max_participants,registration_deadline:E.registration_deadline,prize_pool:E.prize_pool||"",beyblades_per_player:E.beyblades_per_player,players_per_team:E.players_per_team,entry_fee:E.entry_fee,is_free:E.is_free,tournament_type:E.tournament_type,password:E.password||""})},C=async()=>{if(!x.name.trim()){await r("Missing Information","Please enter a tournament name.");return}if(!x.password.trim()){await r("Missing Information","Please enter a tournament password.");return}if(!x.tournament_date){await r("Missing Information","Please select a tournament date.");return}if(!x.location.trim()){await r("Missing Information","Please enter a tournament location.");return}if(!x.registration_deadline){await r("Missing Information","Please select a registration deadline.");return}try{const E={name:x.name.trim(),description:x.description.trim()||null,tournament_date:x.tournament_date,location:x.location.trim(),max_participants:x.max_participants,registration_deadline:x.registration_deadline,prize_pool:x.prize_pool.trim()||null,beyblades_per_player:x.beyblades_per_player,players_per_team:x.players_per_team,entry_fee:x.entry_fee,is_free:x.is_free,tournament_type:x.tournament_type,is_practice:x.is_practice,registration_open:x.registration_open,password:x.password.trim()};if(m){const{error:V}=await J.from("tournaments").insert([E]);if(V)throw V}else if(b){const{error:V}=await J.from("tournaments").update(E).eq("id",b);if(V)throw V}await S(),I(),await r("Success","Tournament saved successfully!")}catch(E){console.error("Error saving tournament:",E),await r("Error","Failed to save tournament. Please try again.")}},O=async(E,V)=>{try{const{error:B}=await J.from("tournaments").update({status:V}).eq("id",E);if(B)throw B;await S(),await r("Success",`Tournament status updated to ${V}!`)}catch(B){console.error("Error updating tournament status:",B),await r("Error","Failed to update tournament status. Please try again.")}},U=async(E,V)=>{try{const{error:B}=await J.from("tournaments").update({registration_open:!V}).eq("id",E);if(B)throw B;await S(),await r("Success",`Registration ${V?"closed":"opened"} successfully!`)}catch(B){console.error("Error toggling registration:",B),await r("Error","Failed to toggle registration. Please try again.")}},L=async E=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{await J.from("tournament_beyblade_parts").delete().eq("beyblade_id",`(SELECT id FROM tournament_beyblades WHERE registration_id IN (SELECT id FROM tournament_registrations WHERE tournament_id = '${E}'))`),await J.from("tournament_beyblades").delete().eq("registration_id",`(SELECT id FROM tournament_registrations WHERE tournament_id = '${E}')`),await J.from("tournament_registrations").delete().eq("tournament_id",E),await J.from("match_results").delete().eq("tournament_id",E);const{error:B}=await J.from("tournaments").delete().eq("id",E);if(B)throw B;await S(),await r("Success","Tournament deleted successfully!")}catch(B){console.error("Error deleting tournament:",B),await r("Error","Failed to delete tournament. Please try again.")}},K=async E=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:B}=await J.from("tournament_registrations").delete().eq("id",E);if(B)throw B;await P(),await r("Success","Registration deleted successfully!")}catch(B){console.error("Error deleting registration:",B),await r("Error","Failed to delete registration. Please try again.")}},I=()=>{p(!1),w(null),N({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})};return j?f?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper max-w-6xl mx-auto",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(tt,{size:28,className:"mr-3 text-yellow-600"}),"Tournament Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage tournaments"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>d("tournaments"),className:`filter-tab ${u==="tournaments"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(tt,{size:16,className:"mr-2"}),"Tournaments"]}),o.jsxs("button",{onClick:()=>d("registrations"),className:`filter-tab ${u==="registrations"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Je,{size:16,className:"mr-2"}),"Registrations"]})]})]})}),u==="tournaments"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs("button",{onClick:_,className:"primary-button flex items-center space-x-2",children:[o.jsx(Sa,{size:20}),o.jsx("span",{children:"Create Tournament"})]})}),(m||b)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentName",className:"form-label",children:"Tournament Name *"}),o.jsx("input",{id:"tournamentName",type:"text",required:!0,value:x.name,onChange:E=>N({...x,name:E.target.value}),className:"input-field w-full",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentDate",className:"form-label",children:"Tournament Date *"}),o.jsx("input",{id:"tournamentDate",type:"date",required:!0,value:x.tournament_date,onChange:E=>N({...x,tournament_date:E.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentLocation",className:"form-label",children:"Location *"}),o.jsx("input",{id:"tournamentLocation",type:"text",required:!0,value:x.location,onChange:E=>N({...x,location:E.target.value}),className:"input-field w-full",placeholder:"Enter tournament location"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"registrationDeadline",className:"form-label",children:"Registration Deadline *"}),o.jsx("input",{id:"registrationDeadline",type:"date",required:!0,value:x.registration_deadline,onChange:E=>N({...x,registration_deadline:E.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"maxParticipants",className:"form-label",children:"Max Participants"}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("input",{id:"maxParticipants",type:"number",min:"1",disabled:x.unlimited_participants,value:x.unlimited_participants?"":x.max_participants??"",onChange:E=>N({...x,max_participants:E.target.value===""?void 0:parseInt(E.target.value)}),className:"input-field w-full"})}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[o.jsx("input",{id:"unlimitedParticipants",type:"checkbox",checked:x.unlimited_participants||!1,onChange:E=>N({...x,unlimited_participants:E.target.checked,max_participants:E.target.checked?999999:x.max_participants??void 0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"unlimitedParticipants",className:"text-sm text-gray-700",children:"Unlimited Participants"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"beybladesPerPlayer",className:"form-label",children:"Beyblades per Player"}),o.jsx("input",{id:"beybladesPerPlayer",type:"number",min:"1",max:"5",required:!0,value:x.beyblades_per_player??"",onChange:E=>N({...x,beyblades_per_player:E.target.value===""?void 0:parseInt(E.target.value)}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentType",className:"form-label",children:"Tournament Type"}),o.jsxs("select",{id:"tournamentType",value:x.tournament_type,onChange:E=>N({...x,tournament_type:E.target.value}),className:"select-field w-full",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Mode"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{id:"practiceMode",type:"checkbox",checked:x.is_practice,onChange:E=>N({...x,is_practice:E.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"practiceMode",className:"text-sm text-gray-700",children:"Practice Tournament"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Practice tournaments don't contribute to global or personal stats"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Entry Fee"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{id:"freeTournament",type:"checkbox",checked:x.is_free,onChange:E=>N({...x,is_free:E.target.checked,entry_fee:E.target.checked?0:x.entry_fee??0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"freeTournament",className:"text-sm text-gray-700",children:"Free Tournament"})]}),!x.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:x.entry_fee??"",onChange:E=>N({...x,entry_fee:E.target.value===""?void 0:parseFloat(E.target.value)}),className:"input-field w-full mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"tournamentPassword",className:"form-label",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"tournamentPassword",type:y?"text":"password",required:!0,value:x.password,onChange:E=>N({...x,password:E.target.value}),className:"input-field w-full pr-10",placeholder:"Enter tournament password"}),o.jsx("button",{type:"button",onClick:E=>{E.preventDefault(),v(!y)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:y?o.jsx(gd,{size:20}):o.jsx(un,{size:20})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"tournamentDescription",className:"form-label",children:"Description"}),o.jsx("textarea",{id:"tournamentDescription",value:x.description,onChange:E=>N({...x,description:E.target.value}),className:"input-field w-full",rows:3,placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"prizePool",className:"form-label",children:"Prize Pool"}),o.jsx("input",{id:"prizePool",type:"text",value:x.prize_pool,onChange:E=>N({...x,prize_pool:E.target.value}),className:"input-field w-full",placeholder:"e.g., ₱500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{type:"button",onClick:I,className:"secondary-button flex items-center space-x-2",children:[o.jsx(It,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{type:"button",onClick:C,className:"primary-button flex items-center space-x-2",children:[o.jsx(Cf,{size:16}),o.jsx("span",{children:"Save Tournament"})]})]})]}),n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(tt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No tournaments created yet"}),o.jsx("button",{onClick:_,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(E=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:E.name}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium capitalize ${E.status==="upcoming"?"bg-blue-100 text-blue-800":E.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.status})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>A(E),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(La,{size:14})}),o.jsx("button",{onClick:()=>L(E.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(Ln,{size:14})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ns,{size:14,className:"mr-2"}),new Date(E.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(qk,{size:14,className:"mr-2"}),E.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Je,{size:14,className:"mr-2"}),E.max_participants===999999?`${E.current_participants} participants (unlimited)`:`${E.current_participants}/${E.max_participants} participants`]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{children:"Code:"}),o.jsxs("span",{className:"font-mono font-bold text-blue-600",children:['"',E.tournament_code,'"']})]}),E.password&&o.jsx("div",{className:"flex items-center text-orange-600",children:o.jsx("span",{className:"text-xs",children:"🔒 Password protected"})}),E.is_practice&&o.jsx("div",{className:"flex items-center text-purple-600",children:o.jsx("span",{className:"text-xs",children:"🎯 Practice Mode"})}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:`text-xs ${E.registration_open?"text-green-600":"text-red-600"}`,children:E.registration_open?"✅ Registration Open":"❌ Registration Closed"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Status:"}),o.jsxs("select",{value:E.status,onChange:V=>O(E.id,V.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsx("button",{onClick:()=>U(E.id,E.registration_open),className:`text-xs px-3 py-1 rounded-full font-medium transition-colors ${E.registration_open?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:E.registration_open?"Close Registration":"Open Registration"})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Created: ",new Date(E.created_at).toLocaleDateString()]})]},E.id))})]}),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"form-label",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:E=>c(E.target.value),className:"select-field max-w-md",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(E=>o.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l&&o.jsx("div",{className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Je,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):s.map(E=>{var V;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:E.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:E.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(E.registered_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((V=E.payment_mode)==null?void 0:V.replace("_"," "))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-1 ${E.status==="confirmed"?"bg-green-100 text-green-800":E.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:E.status})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>K(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Registration",children:o.jsx(Ln,{size:16})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[E.beyblades.length," registered"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:E.beyblades.length>0?E.beyblades.map((B,k)=>o.jsx("span",{className:"inline-block bg-white px-2 py-1 rounded-full text-xs font-medium text-gray-700 border",children:B.beyblade_name},k)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},E.id)})})]})]})}):o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"🔒"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You need admin or developer permissions to access tournament management."})]})})})}function mte(){const{user:e}=er(),{confirm:t,alert:r}=Cs(),[n,i]=g.useState([]),[s,a]=g.useState("all"),[l,c]=g.useState("all"),[u,d]=g.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";mi.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:v,error:x}=await J.from("profiles").select("*").order("created_at",{ascending:!1});if(x)throw x;const N=(v||[]).map(j=>({id:j.id,username:j.username,email:j.email||"",role:j.role,joinedDate:j.created_at,status:"active",lastLogin:null}));i(N)}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const x=s==="all"||v.status===s,N=l==="all"||v.role===l;return x&&N}),p=async(v,x)=>{try{const{error:N}=await J.from("profiles").update(x).eq("id",v);if(N){const j=N.code==="42501"||N.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${N.message}`;await r("Update Failed",j);return}await h()}catch(N){console.error("Error updating user:",N),await r("Update Failed",`Failed to update user: ${N instanceof Error?N.message:"Unknown error"}`)}},b=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:N,error:j}=await J.rpc("delete_user_completely",{user_id_to_delete:v});if(j){console.error("Delete error:",j),j.code==="42501"||j.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):j.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${j.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(N){console.error("Error deleting user:",N),await r("Delete Failed",`Failed to delete user: ${N instanceof Error?N.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},y=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(Je,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(ds,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(ds,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(ds,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(oI,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:x=>p(v.id,{role:x.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${y(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ns,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(La,{size:16})}),o.jsx("button",{onClick:()=>b(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(Ln,{size:16})})]})})})]},v.id))})]})})})]})}function pte(){var M,X,ee;const{user:e}=er(),{confirm:t,alert:r}=Cs(),[n,i]=g.useState("tournaments"),[s,a]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState([]),[f,h]=g.useState(!1),[m,p]=g.useState(null),[b,w]=g.useState([]),[y,v]=g.useState(null),[x,N]=g.useState({}),[j,S]=g.useState(null),[P,_]=g.useState([]),[A,C]=g.useState(""),[O,U]=g.useState(1),[L]=g.useState(10);mi.useEffect(()=>{a(null),S(null),v(null),N({}),C(""),U(1)},[n]);const K=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",I=async()=>{try{const[$,G,te,ae]=await Promise.all([J.from("profiles").select("*",{count:"exact",head:!0}),J.from("tournaments").select("*",{count:"exact",head:!0}),J.from("match_results").select("*",{count:"exact",head:!0}),J.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:$.count||0,icon:o.jsx(Je,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:G.count||0,icon:o.jsx(tt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:te.count||0,icon:o.jsx(Ns,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:ae.count||0,icon:o.jsx(cI,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:oe}=await J.from("tournaments").select("id, name").order("name");_(oe||[])}catch($){console.error("Error fetching table counts:",$)}},E=async($,G)=>{h(!0),p(null);try{let te=[];if($==="registrations"&&G){const{data:ae,error:oe}=await J.from("tournament_registration_details").select("*").eq("tournament_id",G).order("registered_at",{ascending:!1});if(oe)throw oe;const me={};ae==null||ae.forEach(pe=>{var Ce;me[pe.registration_id]||(me[pe.registration_id]={registration_id:pe.registration_id,tournament_id:pe.tournament_id,tournament_name:((Ce=P.find(yr=>yr.id===pe.tournament_id))==null?void 0:Ce.name)||"Unknown Tournament",player_name:pe.player_name,payment_mode:pe.payment_mode,registered_at:pe.registered_at,status:pe.status,beyblades:[]}),pe.beyblade_id&&(me[pe.registration_id].beyblades.find(vn=>vn.beyblade_id===pe.beyblade_id)||me[pe.registration_id].beyblades.push({beyblade_id:pe.beyblade_id,beyblade_name:pe.beyblade_name,blade_line:pe.blade_line,parts:pe.beyblade_parts||[]}))}),te=Object.values(me)}else if($==="registrations"&&!G)te=P;else{let ae=$;$==="registrations"?ae="tournament_registrations":$==="users"?ae="profiles":$==="matches"&&(ae="match_results");const{data:oe,error:me}=await J.from(ae).select("*").order($==="tournaments"?"tournament_date":$==="matches"?"submitted_at":"created_at",{ascending:!1});if(me)throw console.error(`❌ DATABASE: Error fetching ${$}:`,me),me;te=oe||[]}($!=="registrations"||G)&&te.sort((ae,oe)=>{const me=Object.values(ae).find(Ce=>typeof Ce=="string")||"",pe=Object.values(oe).find(Ce=>typeof Ce=="string")||"";return me.localeCompare(pe)}),d(te)}catch(te){console.error("Error fetching table data:",te),p(`Failed to load ${$} data. Please try again.`)}finally{h(!1)}},V=async()=>{c(!0),await Promise.all([I(),E(n,s||void 0)]),c(!1)},B=$=>{const G=JSON.stringify(u,null,2),te=new Blob([G],{type:"application/json"}),ae=URL.createObjectURL(te),oe=document.createElement("a");oe.href=ae,oe.download=`${$}_export_${new Date().toISOString().split("T")[0]}.json`,oe.click(),URL.revokeObjectURL(ae)},k=$=>{v($.id||$.registration_id||$.tournament_id),N({...$})},F=async()=>{if(!(!y||!K))try{let $=n;n==="registrations"?$="tournament_registrations":n==="users"?$="profiles":n==="matches"&&($="match_results");const{error:G}=await J.from($).update(x).eq("id",y);if(G){console.error("Update error:",G),G.code==="42501"||G.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${G.message}`);return}v(null),N({}),await E(n)}catch($){console.error("Error updating row:",$),await r("Update Failed",`Failed to update record: ${$ instanceof Error?$.message:"Unknown error"}. Please try again.`)}},Q=async $=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let te=n;n==="registrations"?te="tournament_registrations":n==="users"?te="profiles":n==="matches"&&(te="match_results");const{error:ae}=await J.from(te).delete().eq("id",$);if(ae){console.error("Delete error:",ae),ae.code==="42501"||ae.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${ae.message}`);return}await Promise.all([I(),E(n,s||void 0)])}catch(te){console.error("Error deleting row:",te),await r("Delete Failed",`Failed to delete record: ${te instanceof Error?te.message:"Unknown error"}. Please try again.`)}},D=$=>{a($),E("registrations",$)},Z=()=>{a(null),E("registrations")},q=$=>{S($)};g.useEffect(()=>{I()},[]),g.useEffect(()=>{n==="registrations"&&a(null),E(n)},[n]);const T=u.filter($=>A?Object.values($).filter(te=>typeof te=="string").join(" ").toLowerCase().includes(A.toLowerCase()):!0),H=Math.ceil(T.length/L),R=T.slice((O-1)*L,O*L),W=()=>{var $;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>E(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(En,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(tt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(G=>o.jsxs("button",{onClick:()=>D(G.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:G.name}),o.jsx(eI,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:G.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(G.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${G.status==="upcoming"?"bg-blue-100 text-blue-800":G.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:G.status})})]},G.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:Z,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(jy,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[(($=P.find(G=>G.id===s))==null?void 0:$.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(G=>{var te;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:G.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:G.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:G.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(G.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((te=G.payment_mode)==null?void 0:te.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${G.status==="confirmed"?"bg-green-100 text-green-800":G.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:G.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>q(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(un,{size:16})}),K&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>k(G),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(La,{size:16})}),o.jsx("button",{onClick:()=>Q(G.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(Ln,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[G.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:G.beyblades.length>0?G.beyblades.map((ae,oe)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:ae.beyblade_name},oe)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},G.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:A,onChange:G=>{C(G.target.value),U(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",R.length," of ",T.length," records"]}),H>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>U(Math.max(1,O-1)),disabled:O===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",O," of ",H]}),o.jsx("button",{onClick:()=>U(Math.min(H,O+1)),disabled:O===H,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[R.length>0&&R[0]&&Object.keys(R[0]).map(G=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:G.replace(/_/g," ")},G)),K&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:R.map((G,te)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(G).map(([ae,oe],me)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:y===(G.id||G.registration_id||G.tournament_id)&&K?o.jsx("input",{type:"text",value:x[ae]||"",onChange:pe=>N({...x,[ae]:pe.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof oe=="object"&&oe!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(oe).length>50?JSON.stringify(oe).substring(0,50)+"...":JSON.stringify(oe)}):oe instanceof Date?oe.toLocaleString():o.jsx("span",{className:ae.includes("email")?"font-mono text-blue-600":"",children:String(oe||"")})})},me)),K&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:y===(G.id||G.registration_id||G.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:F,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(Cf,{size:16})}),o.jsx("button",{onClick:()=>{v(null),N({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(It,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>k(G),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(La,{size:16})}),o.jsx("button",{onClick:()=>Q(G.id||G.registration_id||G.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(Ln,{size:16})})]})})})]},G.id||te))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(En,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:V,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(Gk,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>B(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(rI,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(En,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:b.map($=>o.jsxs("button",{onClick:()=>i($.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===$.name?"bg-gradient-to-r "+$.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===$.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:mi.cloneElement($.icon,{className:n===$.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===$.name?"text-white":"text-gray-900"}`,children:$.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===$.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:$.records})]}),o.jsx("p",{className:`text-xs ${n===$.name?"text-white/80":"text-gray-600"}`,children:$.description})]},$.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Xr,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:b.reduce(($,G)=>$+G.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:b.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((M=b.find($=>$.name===n))==null?void 0:M.icon)&&mi.cloneElement(b.find($=>$.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((X=P.find($=>$.id===s))==null?void 0:X.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(ee=b.find($=>$.name===n))==null?void 0:ee.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${T.length} records`})})]})}),W()]})})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:j.player_name})]}),o.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:j.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:j.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:j.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${j.status==="confirmed"?"bg-green-100 text-green-800":j.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ns,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(j.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(tt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.beyblades.length," Beyblades"]})]}),j.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(tt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.beyblades.map(($,G)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:$.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[$.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:G+1})})]}),$.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:$.parts.map((te,ae)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:te.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:te.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:ae+1})})]},ae))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},$.beyblade_id))})]})]})]})})]})})}function gte({showHeader:e=!0}){const{user:t}=er(),{confirm:r,alert:n}=Cs();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Na,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=g.useState([]),[a,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[h,m]=g.useState(null),[p,b]=g.useState(!0),[w,y]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,x]=g.useState(""),[N,j]=g.useState(""),[S,P]=g.useState(3),[_,A]=g.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);g.useEffect(()=>{C(),p&&U(),O()},[t]);const C=async()=>{try{const{data:R,error:W}=await J.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(W)throw W;s(R||[])}catch(R){console.error("Error fetching presets:",R)}finally{u(!1)}};g.useEffect(()=>{p||O()},[p]);const O=async()=>{try{const[R,W,M,X,ee]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);y({blades:R.data||[],ratchets:W.data||[],bits:M.data||[],lockchips:X.data||[],assistBlades:ee.data||[]})}catch(R){console.error("Error fetching parts data:",R)}},U=async()=>{try{const{data:R,error:W}=await J.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(W)throw W;l(R||[])}catch(R){console.error("Error fetching inventory:",R)}},L=R=>{switch(R){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},K=R=>{if(!p)switch(R==="Main Blade"?"Blade":R){case"Blade":return w.blades.map(M=>({id:`db-${M.Blades}`,part_type:"Blade",part_name:M.Blades,part_data:M,quantity:999}));case"Ratchet":return w.ratchets.map(M=>({id:`db-${M.Ratchet}`,part_type:"Ratchet",part_name:M.Ratchet,part_data:M,quantity:999}));case"Bit":return w.bits.map(M=>({id:`db-${M.Bit}`,part_type:"Bit",part_name:`${M.Bit} (${M.Shortcut})`,part_data:M,quantity:999}));case"Lockchip":return w.lockchips.map(M=>({id:`db-${M.Lockchip}`,part_type:"Lockchip",part_name:M.Lockchip,part_data:M,quantity:999}));case"Assist Blade":return w.assistBlades.map(M=>({id:`db-${M["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${M["Assist Blade Name"]} (${M["Assist Blade"]})`,part_data:M,quantity:999}));default:return[]}return R==="Blade"||R==="Main Blade"?a.filter(M=>M.part_type.startsWith("Blade (")&&M.part_type===`Blade (${R==="Main Blade"?"Custom":"Basic"})`):a.filter(M=>M.part_type===R)},I=(R,W)=>{var ee,$,G,te,ae,oe,me,pe;if(!R||!L(R).every(Ce=>W[Ce]))return"";if(R==="Custom"){const Ce=((ee=W.Lockchip)==null?void 0:ee.Lockchip)||"",yr=(($=W["Main Blade"])==null?void 0:$.Blades)||"",vn=((G=W["Assist Blade"])==null?void 0:G["Assist Blade"])||"",tD=((te=W.Ratchet)==null?void 0:te.Ratchet)||"",rD=((ae=W.Bit)==null?void 0:ae.Shortcut)||"";return`${Ce}${yr} ${vn}${tD}${rD}`}else{const Ce=((oe=W.Blade)==null?void 0:oe.Blades)||"",yr=((me=W.Ratchet)==null?void 0:me.Ratchet)||"",vn=((pe=W.Bit)==null?void 0:pe.Shortcut)||"";return`${Ce} ${yr}${vn}`}},E=R=>{let W={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(R).forEach(M=>{M&&(W.attack+=M.Attack||0,W.defense+=M.Defense||0,W.stamina+=M.Stamina||0,W.dash+=M.Dash||0,W.burstRes+=M["Burst Res"]||0)}),W},V=()=>{f(!0),x(""),j(""),P(3),A([{id:"1",name:"",blade_line:"Basic",parts:{}}])},B=R=>{m(R.id),x(R.name),j(R.description||""),P(R.beyblades.length),A(R.beyblades)},k=()=>{_.length<S&&A([..._,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},F=R=>{_.length>1&&A(_.filter(W=>W.id!==R))},Q=(R,W,M)=>{A(_.map(X=>{if(X.id===R){const ee={...X,[W]:M,parts:{}};return ee.name=I(M,{}),ee}return X}))},D=(R,W,M)=>{A(_.map(X=>{if(X.id===R){const ee={...X.parts,[W]:M},$=I(X.blade_line,ee);return{...X,parts:ee,name:$}}return X}))},Z=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const R=_.filter(W=>{const M=L(W.blade_line);return W.blade_line&&M.every(X=>W.parts[X])});if(R.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const W={user_id:t.id,name:v.trim(),description:N.trim()||null,beyblades:R};if(d){const{error:M}=await J.from("deck_presets").insert([W]);if(M)throw M}else if(h){const{error:M}=await J.from("deck_presets").update({...W,updated_at:new Date().toISOString()}).eq("id",h);if(M)throw M}await C(),T(),await n("Success","Deck preset saved successfully!")}catch(W){console.error("Error saving preset:",W),await n("Error","Failed to save deck preset. Please try again.")}},q=async R=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:M}=await J.from("deck_presets").delete().eq("id",R);if(M)throw M;await C()}catch(M){console.error("Error deleting preset:",M),await n("Error","Failed to delete deck preset. Please try again.")}},T=()=>{f(!1),m(null),x(""),j(""),P(3),A([{id:"1",name:"",blade_line:"Basic",parts:{}}])},H=R=>{switch(R){case"attack":return o.jsx(hc,{size:12,className:"text-red-500"});case"defense":return o.jsx(ds,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Ny,{size:12,className:"text-green-500"});case"dash":return o.jsx($a,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(Sy,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>b(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>b(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Sa,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>b(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>b(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Sa,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:R=>x(R.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:N,onChange:R=>j(R.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:_.map((R,W)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",W+1]}),_.length>1&&o.jsx("button",{onClick:()=>F(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(Ln,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:R.blade_line,onChange:M=>Q(R.id,"blade_line",M.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:R.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:L(R.blade_line).map(M=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M}),o.jsxs("select",{value:R.parts[M]?JSON.stringify(R.parts[M]):"",onChange:X=>{if(X.target.value){const ee=JSON.parse(X.target.value);D(R.id,M,ee)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",M]}),K(M).filter(X=>{var ee;return!p&&(M==="Blade"||M==="Main Blade")&&((ee=X.part_data)!=null&&ee.Line)?X.part_data.Line===(M==="Main Blade"?"Custom":R.blade_line):!0}).map(X=>o.jsxs("option",{value:JSON.stringify(X.part_data),children:[X.part_name," ",p?`(Qty: ${X.quantity})`:""]},X.id))]})]},M))}),Object.keys(R.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx($a,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(E(R.parts)).map(([M,X])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:H(M)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:M==="burstRes"?"Burst Res":M}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:X})]},M))})]})]},R.id))}),_.length<5&&o.jsxs("button",{onClick:k,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Sa,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",_.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:T,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(It,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:Z,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Cf,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Na,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:V,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(R=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.name}),R.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>B(R),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(La,{size:16})}),o.jsx("button",{onClick:()=>q(R.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(Ln,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:R.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[R.beyblades.slice(0,3).map((W,M)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:W.name||`Beyblade ${M+1}`},M)),R.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",R.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(R.updated_at).toLocaleDateString()]})]},R.id))})]})}function yte(){const{user:e}=er(),{confirm:t,alert:r}=Cs(),[n,i]=g.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(Zo,{size:64,className:"text-gray-400"}),o.jsx(Na,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState(!1),[f,h]=g.useState(null),[m,p]=g.useState(""),[b,w]=g.useState("all"),[y,v]=g.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[x,N]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});g.useEffect(()=>{j(),S()},[e]);const j=async()=>{try{const{data:I,error:E}=await J.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(E)throw E;a(I||[])}catch(I){console.error("Error fetching inventory:",I)}finally{c(!1)}},S=async()=>{try{const[I,E,V,B,k]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]);N({blades:I.data||[],ratchets:E.data||[],bits:V.data||[],lockchips:B.data||[],assistBlades:k.data||[]})}catch(I){console.error("Error fetching parts data:",I)}},P=I=>{let E=[];if(I.startsWith("Blade (")){const V=I.replace("Blade (","").replace(")","");E=x.blades.filter(B=>B.Line===V)}else I==="Ratchet"?E=x.ratchets:I==="Bit"?E=x.bits:I==="Lockchip"?E=x.lockchips:I==="Assist Blade"&&(E=x.assistBlades);return I==="Blade"?E=x.blades.filter(V=>V.Line!=="Custom"):I==="Blade (Custom)"?E=x.blades.filter(V=>V.Line==="Custom"):I==="Ratchet"?E=x.ratchets:I==="Bit"?E=x.bits:I==="Lockchip"?E=x.lockchips:I==="Assist Blade"&&(E=x.assistBlades),E},_=(I,E)=>{if(E.startsWith("Blade ("))return I.Blades;switch(E){case"Ratchet":return I.Ratchet;case"Bit":return`${I.Bit} (${I.Shortcut})`;case"Lockchip":return I.Lockchip;case"Assist Blade":return`${I["Assist Blade Name"]} (${I["Assist Blade"]})`;default:return""}},A=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},C=I=>{h(I.id),v({part_type:I.part_type,part_name:I.part_name,part_data:I.part_data,quantity:I.quantity,notes:I.notes||""})},O=async()=>{if(!y.part_name||!y.part_data){await r("Missing Information","Please select a part before saving.");return}try{const I={user_id:e.id,part_type:y.part_type,part_name:y.part_name,part_data:y.part_data,quantity:y.quantity,notes:y.notes||null};if(u){const{error:E}=await J.from("user_inventory").insert([I]);if(E)throw E}else if(f){const{error:E}=await J.from("user_inventory").update(I).eq("id",f);if(E)throw E}await j()}catch(I){console.error("Error saving inventory item:",I),await r("Error","Failed to save inventory item. Please try again.")}},U=async I=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:V}=await J.from("user_inventory").delete().eq("id",I);if(V)throw V;await j()}catch(V){console.error("Error deleting inventory item:",V),await r("Error","Failed to delete inventory item. Please try again.")}},L=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},K=s.filter(I=>{var B;const E=I.part_name.toLowerCase().includes(m.toLowerCase())||I.notes&&I.notes.toLowerCase().includes(m.toLowerCase());let V=!1;if(b==="all")V=!0;else if(b.startsWith("Blade (")){const k=b.replace("Blade (","").replace(")","");V=I.part_type==="Blade"&&((B=I.part_data)==null?void 0:B.Line)===k}else V=I.part_type===b;return E&&V});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Zo,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Na,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(gte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Zo,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Na,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Sa,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:I=>p(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(nI,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:b,onChange:I=>w(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:y.part_type,onChange:I=>v({...y,part_type:I.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:y.part_data?JSON.stringify(y.part_data):"",onChange:I=>{if(I.target.value){const E=JSON.parse(I.target.value);v({...y,part_name:_(E,y.part_type),part_data:E})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(y.part_type).map((I,E)=>o.jsx("option",{value:JSON.stringify(I),children:_(I,y.part_type)},E))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:y.quantity,onChange:I=>v({...y,quantity:parseInt(I.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:y.notes,onChange:I=>v({...y,notes:I.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:L,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(It,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Cf,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),K.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Zo,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:A,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map(I=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:I.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>C(I),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(La,{size:16})}),o.jsx("button",{onClick:()=>U(I.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(Ln,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:I.quantity})]}),I.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:I.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(I.created_at).toLocaleDateString()]})]}),I.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(I.part_data).map(([E,V])=>typeof V=="number"&&V>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(E)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[E,":"]}),o.jsx("span",{className:"font-medium",children:V})]},E):null)})})]},I.id))})]})}function vte(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[i,s]=g.useState(""),[a,l]=g.useState("name"),[c,u]=g.useState("asc"),[d,f]=g.useState("grid"),[h,m]=g.useState(null),[p,b]=g.useState("lockchips"),[w,y]=g.useState(""),[v,x]=g.useState(""),N=["lockchips","blades (custom)","blades","ratchets","bits"];g.useEffect(()=>{j()},[]);const j=async()=>{n(!0);try{const[L,K,I,E,V]=await Promise.all([J.from("beypart_blade").select("*"),J.from("beypart_ratchet").select("*"),J.from("beypart_bit").select("*"),J.from("beypart_lockchip").select("*"),J.from("beypart_assistblade").select("*")]),B=[];(L.data||[]).forEach(k=>{B.push({id:`blade-${k.Blades}`,name:k.Blades,category:"Blade",role:k.Type,line:k.Line,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(K.data||[]).forEach(k=>{B.push({id:`ratchet-${k.Ratchet}`,name:k.Ratchet,category:"Ratchet",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(I.data||[]).forEach(k=>{B.push({id:`bit-${k.Bit}`,name:`${k.Bit} (${k.Shortcut})`,category:"Bit",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:k.Dash||0,burstRes:k["Burst Res"]||0},data:k})}),(E.data||[]).forEach(k=>{B.push({id:`lockchip-${k.Lockchip}`,name:k.Lockchip,category:"Lockchip",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(V.data||[]).forEach(k=>{B.push({id:`assistblade-${k["Assist Blade"]}`,name:`${k["Assist Blade Name"]} (${k["Assist Blade"]})`,category:"Assist Blade",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),t(B)}catch(L){console.error("Error fetching parts:",L)}finally{n(!1)}},S=L=>{switch(L){case"attack":return o.jsx(hc,{size:16,className:"text-red-500"});case"defense":return o.jsx(ds,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Ny,{size:16,className:"text-green-500"});case"dash":return o.jsx($a,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(Sy,{size:16,className:"text-purple-500"});default:return null}},A=e.filter(L=>L.name.toLowerCase().includes(i.toLowerCase())).sort((L,K)=>{let I,E;return a==="name"?(I=L.name,E=K.name):a==="role"?(I=L.role||"",E=K.role||""):(I=L.stats[a],E=K.stats[a]),typeof I=="string"&&typeof E=="string"?c==="asc"?I.localeCompare(E):E.localeCompare(I):c==="asc"?I-E:E-I}).filter(L=>{var K,I,E;return p==="blades (custom)"?L.category==="Blade"&&((K=L.line)==null?void 0:K.toLowerCase())==="custom":p==="blades"?v?L.category==="Blade"&&((E=L.line)==null?void 0:E.toLowerCase())===v.toLowerCase():L.category==="Blade"&&["basic","unique","x-over"].includes(((I=L.line)==null?void 0:I.toLowerCase())||""):p==="lockchips"?L.category==="Lockchip":p==="ratchets"?L.category==="Ratchet":p==="bits"?L.category==="Bit":!0}).filter(L=>w?(L.role||"").toLowerCase()===w:!0),C={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},O=L=>{switch(L){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},U=L=>{const K=C[L.category]||"",I=O(L.category),E=encodeURIComponent(L.data[I]),V=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${K}/${E}.png`;return o.jsxs("div",{onClick:()=>m(L),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:V,alt:L.name,width:128,height:128,loading:"lazy",onError:B=>{const k=B.target,F=document.createElement("div");F.textContent="Picture Not Available",F.className="text-gray-400 text-xs text-center",k.replaceWith(F)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:L.name}),L.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:L.role})]}),L.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:L.line})]},L.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(iI,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(aI,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ts,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:L=>s(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:L=>y(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:N.map(L=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${p===L?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b(L),children:L},L))}),p==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:L=>x(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),A.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(En,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:A.map(U)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(p==="bits"?["dash","burstRes"]:[]).map(L=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${L==="name"?"text-left":"text-center"}`,onClick:()=>{l(L),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:L}),o.jsx("span",{className:"w-4 inline-block",children:a===L&&(c==="asc"?"▲":"▼")})]})},L)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:L.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.stamina}),p==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},L.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([L])=>h.category==="Bit"?!0:!["dash","burstRes"].includes(L)).map(([L,K])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:S(L)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:L}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:K})]},L))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${C[h.category]}/${encodeURIComponent(h.data[O(h.category)])}.png`,alt:h.name,onError:L=>{const K=L.target,I=document.createElement("div");I.textContent="Picture Not Available",I.className="text-gray-400 text-sm text-center",K.replaceWith(I)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function xte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Je,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Build your team and compete together"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Je,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Compete not just as players, but as teams. The Team Manager will bring team-based tournaments, performance analytics, and name tag customization so every blader can proudly represent their squad."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ds,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and battle in team vs team competitions"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Xr,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Analytics"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Track your team’s performance and stats"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(uI,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Name Tags"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Show off your team name on your profile"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team vs team tournaments"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Name tag integration for players"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Team play is coming soon — get ready to represent your squad!"})]})})]})})}function bte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Fw,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Give every community its own space to grow and connect"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Fw,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, the Community Manager will let any Beyblade community build their own hub within the app — not just Ormoc. Each community will be able to host tournaments, track stats, and celebrate milestones while staying connected to the larger network. Perfect for growing local groups and strengthening bonds between bladers everywhere."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Je,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Local Hubs"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Communities can set up their own space in the app"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Ns,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Tournaments"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Run and track events within each community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Xk,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Spotlight achievements and community milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ao,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Stats"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track growth, matches, and engagement"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Create and manage your own community hub"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community-specific tournaments and leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Local community stats and growth analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Recognition for members and organizers"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Tools to welcome and onboard new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"This feature is in active development."})]})})]})})}function wte(){var x;const[e,t]=g.useState("tournament"),[r,n]=g.useState([]),[i,s]=g.useState(""),[a,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1);g.useEffect(()=>{h()},[]),g.useEffect(()=>{i&&e==="tournament"?m():e==="global"&&p()},[i,e]);const h=async()=>{try{const{data:N,error:j}=await J.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(j)throw j;n(N||[]),N&&N.length>0&&s(N[0].id)}catch(N){console.error("Error fetching tournaments:",N)}finally{u(!1)}},m=async()=>{if(i)try{const{data:N,error:j}=await J.from("match_sessions").select("*").eq("tournament_id",i);if(j)throw j;if(!N||N.length===0){l([]);return}const S={};N.forEach(A=>{const{player1_name:C,player2_name:O,winner_name:U,player1_final_score:L,player2_final_score:K}=A;S[C]||(S[C]={wins:0,losses:0,score:0,pointsFor:0,pointsAgainst:0,opponents:[],winsAgainst:{}}),S[O]||(S[O]={wins:0,losses:0,score:0,pointsFor:0,pointsAgainst:0,opponents:[],winsAgainst:{}}),U===C?(S[C].wins++,S[C].score+=1,S[O].losses++,S[C].winsAgainst[O]=(S[C].winsAgainst[O]||0)+1):U===O&&(S[O].wins++,S[O].score+=1,S[C].losses++,S[O].winsAgainst[C]=(S[O].winsAgainst[C]||0)+1),S[C].pointsFor+=L||0,S[C].pointsAgainst+=K||0,S[O].pointsFor+=K||0,S[O].pointsAgainst+=L||0,S[C].opponents.includes(O)||S[C].opponents.push(O),S[O].opponents.includes(C)||S[O].opponents.push(C)}),Object.keys(S).forEach(A=>{const C=S[A].opponents,O=[];C.forEach(L=>{S[L]&&O.push(S[L].score)}),O.length>2&&(O.sort((L,K)=>L-K),O.shift(),O.pop());const U=O.reduce((L,K)=>L+K,0);S[A].buchholz=U});const P={};Object.keys(S).forEach(A=>{const C=S[A].score;P[C]||(P[C]=[]),P[C].push(A)}),Object.values(P).forEach(A=>{A.length>1?A.forEach(C=>{let O=0;A.forEach(U=>{U!==C&&(O+=S[C].winsAgainst[U]||0)}),S[C].tb=O}):S[A[0]].tb=0});const _=Object.entries(S).map(([A,C])=>{const O=C.wins+C.losses,U=O>0?C.wins/O*100:0,L=C.pointsFor-C.pointsAgainst,K=C.buchholz||0,I=C.tb||0;return{participant:A,matchWins:C.wins,matchLosses:C.losses,score:C.score,tb:I,buchholz:K,ptsDiff:L,totalMatches:O,winRate:U,rank:0}});_.sort((A,C)=>C.score!==A.score?C.score-A.score:C.tb!==A.tb?C.tb-A.tb:C.buchholz!==A.buchholz?C.buchholz-A.buchholz:C.ptsDiff!==A.ptsDiff?C.ptsDiff-A.ptsDiff:0),_.forEach((A,C)=>{A.rank=C+1}),l(_)}catch(N){console.error("Error fetching tournament leaderboard:",N),l([])}},p=async()=>{try{const{data:N,error:j}=await J.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(j)throw j;const S=(N||[]).filter(A=>{var C;return!((C=A.tournaments)!=null&&C.is_practice)});if(S.length===0){l([]);return}const P={};S.forEach(A=>{const{player1_name:C,player2_name:O,winner_name:U,points_awarded:L,tournament_id:K}=A;P[C]||(P[C]={wins:0,losses:0,totalPoints:0,pointsAgainst:0,tournaments:new Set}),P[O]||(P[O]={wins:0,losses:0,totalPoints:0,pointsAgainst:0,tournaments:new Set}),P[C].tournaments.add(K),P[O].tournaments.add(K);const I=L||0;U===C?(P[C].wins++,P[C].totalPoints+=I,P[O].losses++,P[O].pointsAgainst+=I):U===O&&(P[O].wins++,P[O].totalPoints+=I,P[C].losses++,P[C].pointsAgainst+=I)});const _=Object.entries(P).map(([A,C])=>{const O=C.wins+C.losses,U=O>0?C.wins/O*100:0,L=C.totalPoints-C.pointsAgainst;return{participant:A,matchWins:C.wins,matchLosses:C.losses,score:C.totalPoints,tb:C.wins,buchholz:C.tournaments.size,ptsDiff:L,totalMatches:O,winRate:U,rank:0}});_.sort((A,C)=>C.score!==A.score?C.score-A.score:C.tb!==A.tb?C.tb-A.tb:C.buchholz!==A.buchholz?C.buchholz-A.buchholz:C.ptsDiff-A.ptsDiff),_.forEach((A,C)=>{A.rank=C+1}),l(_)}catch(N){console.error("Error fetching global leaderboard:",N),l([])}},b=async()=>{f(!0),e==="tournament"&&i?await m():e==="global"&&await p(),f(!1)},w=N=>{t(N),l([])},y=N=>{switch(N){case 1:return"text-yellow-600 font-bold";case 2:return"text-gray-500 font-bold";case 3:return"text-orange-600 font-bold";default:return"text-gray-900"}},v=N=>{switch(N){case 1:return o.jsx(zl,{size:20,className:"text-yellow-500"});case 2:return o.jsx(zw,{size:20,className:"text-gray-400"});case 3:return o.jsx(zw,{size:20,className:"text-orange-500"});default:return o.jsxs("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-bold text-gray-600",children:["#",N]})}};return c?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading leaderboards..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(zl,{size:32,className:"mr-3 text-yellow-600"}),"Leaderboards"]}),o.jsx("p",{className:"page-subtitle",children:"Tournament rankings and player standings"})]}),o.jsxs("button",{onClick:b,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(Gk,{size:16,className:d?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-8",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>w("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(tt,{size:16,className:"mr-1"})," Tournament"]}),o.jsxs("button",{onClick:()=>w("global"),className:`filter-tab ${e==="global"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Ms,{size:16,className:"mr-1"})," Global"]}),o.jsxs("button",{onClick:()=>w("community"),className:`filter-tab ${e==="community"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Je,{size:16,className:"mr-1"})," Community"]})]}),e==="tournament"&&o.jsxs("div",{className:"flex items-center gap-2 w-full justify-end md:ml-auto",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Tournament:"}),o.jsxs("select",{value:i,onChange:N=>s(N.target.value),className:"border border-gray-300 rounded-lg px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(N=>o.jsxs("option",{value:N.id,children:[N.name," (",N.status,") - ",new Date(N.tournament_date).toLocaleDateString()]},N.id))]})]})]})}),e==="community"&&o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Je,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-4",children:"Community Leaderboards"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-blue-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will have their own leaderboards to track local champions and rising stars. Compare performance within your community and see who's dominating the local meta."}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-blue-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Community-specific rankings"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Local tournament leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Community comparison tools"]})]})]})]})}),(e==="tournament"||e==="global")&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(ao,{size:24,className:"mr-2 text-gray-700"}),e==="tournament"?`${((x=r.find(N=>N.id===i))==null?void 0:x.name)||"Tournament"} Leaderboard`:"Global Leaderboard"]}),o.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[a.length," participants"]})]})}),a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Xr,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsx("p",{className:"text-gray-500",children:e==="tournament"&&!i?"Please select a tournament to view its leaderboard":"No match results found for leaderboard calculation"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participant"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match W-L"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TB"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buchholz"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pts Diff"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(N=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[v(N.rank),o.jsx("span",{className:`font-bold ${y(N.rank)}`,children:N.rank<=3?"":`#${N.rank}`})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:N.participant.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.participant}),o.jsxs("div",{className:"text-sm text-gray-500",children:[N.winRate.toFixed(1),"% win rate"]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-green-600 font-medium",children:N.matchWins}),o.jsx("span",{className:"text-gray-400 mx-1",children:"-"}),o.jsx("span",{className:"text-red-600 font-medium",children:N.matchLosses})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[N.totalMatches," total"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-lg font-bold text-blue-600",children:N.score})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.tb})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:N.buchholz})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsxs("div",{className:`text-sm font-medium ${N.ptsDiff>0?"text-green-600":N.ptsDiff<0?"text-red-600":"text-gray-600"}`,children:[N.ptsDiff>0?"+":"",N.ptsDiff]})})]},N.participant))})]})})]})]})})}function jte(){const[e,t]=g.useState("dashboard"),[r,n]=g.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(cj,{onViewChange:t});case"tournaments":return o.jsx(jF,{});case"inventory":return o.jsx(yte,{});case"analytics":return o.jsx(fte,{});case"parts-database":return o.jsx(vte,{});case"team-manager":return o.jsx(xte,{});case"community-manager":return o.jsx(bte,{});case"leaderboards":return o.jsx(wte,{});case"tournament-manager":return o.jsx(hte,{});case"user-management":return o.jsx(mte,{});case"database":return o.jsx(pte,{});default:return o.jsx(cj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(lI,{size:24})}),o.jsx(mI,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function Nte(){return o.jsx(YL,{children:o.jsx(XL,{children:o.jsx(jte,{})})})}vk(document.getElementById("root")).render(o.jsx(g.StrictMode,{children:o.jsx(Nte,{})}));
