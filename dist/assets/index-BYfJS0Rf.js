var eM=Object.defineProperty;var tM=(e,t,r)=>t in e?eM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rh=(e,t,r)=>tM(e,typeof t!="symbol"?t+"":t,r);function rM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function nM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var rS={exports:{}},nf={},nS={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tc=Symbol.for("react.element"),iM=Symbol.for("react.portal"),sM=Symbol.for("react.fragment"),aM=Symbol.for("react.strict_mode"),oM=Symbol.for("react.profiler"),lM=Symbol.for("react.provider"),cM=Symbol.for("react.context"),uM=Symbol.for("react.forward_ref"),dM=Symbol.for("react.suspense"),fM=Symbol.for("react.memo"),hM=Symbol.for("react.lazy"),lb=Symbol.iterator;function mM(e){return e===null||typeof e!="object"?null:(e=lb&&e[lb]||e["@@iterator"],typeof e=="function"?e:null)}var iS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sS=Object.assign,aS={};function Za(e,t,r){this.props=e,this.context=t,this.refs=aS,this.updater=r||iS}Za.prototype.isReactComponent={};Za.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Za.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function oS(){}oS.prototype=Za.prototype;function bg(e,t,r){this.props=e,this.context=t,this.refs=aS,this.updater=r||iS}var wg=bg.prototype=new oS;wg.constructor=bg;sS(wg,Za.prototype);wg.isPureReactComponent=!0;var cb=Array.isArray,lS=Object.prototype.hasOwnProperty,jg={current:null},cS={key:!0,ref:!0,__self:!0,__source:!0};function uS(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)lS.call(t,n)&&!cS.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:tc,type:e,key:s,ref:a,props:i,_owner:jg.current}}function pM(e,t){return{$$typeof:tc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _g(e){return typeof e=="object"&&e!==null&&e.$$typeof===tc}function gM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ub=/\/+/g;function $h(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gM(""+e.key):t.toString(36)}function bu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case tc:case iM:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+$h(a,0):n,cb(i)?(r="",e!=null&&(r=e.replace(ub,"$&/")+"/"),bu(i,t,r,"",function(u){return u})):i!=null&&(_g(i)&&(i=pM(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ub,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",cb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+$h(s,l);a+=bu(s,t,r,c,i)}else if(c=mM(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+$h(s,l++),a+=bu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Dc(e,t,r){if(e==null)return e;var n=[],i=0;return bu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function yM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},wu={transition:null},vM={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:wu,ReactCurrentOwner:jg};function dS(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:Dc,forEach:function(e,t,r){Dc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Dc(e,function(){t++}),t},toArray:function(e){return Dc(e,function(t){return t})||[]},only:function(e){if(!_g(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=Za;he.Fragment=sM;he.Profiler=oM;he.PureComponent=bg;he.StrictMode=aM;he.Suspense=dM;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vM;he.act=dS;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=sS({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=jg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)lS.call(t,c)&&!cS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:tc,type:e.type,key:i,ref:s,props:n,_owner:a}};he.createContext=function(e){return e={$$typeof:cM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:lM,_context:e},e.Consumer=e};he.createElement=uS;he.createFactory=function(e){var t=uS.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:uM,render:e}};he.isValidElement=_g;he.lazy=function(e){return{$$typeof:hM,_payload:{_status:-1,_result:e},_init:yM}};he.memo=function(e,t){return{$$typeof:fM,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=wu.transition;wu.transition={};try{e()}finally{wu.transition=t}};he.unstable_act=dS;he.useCallback=function(e,t){return Bt.current.useCallback(e,t)};he.useContext=function(e){return Bt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Bt.current.useEffect(e,t)};he.useId=function(){return Bt.current.useId()};he.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Bt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};he.useRef=function(e){return Bt.current.useRef(e)};he.useState=function(e){return Bt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return Bt.current.useTransition()};he.version="18.3.1";nS.exports=he;var y=nS.exports;const hi=Mr(y),xM=rM({__proto__:null,default:hi},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bM=y,wM=Symbol.for("react.element"),jM=Symbol.for("react.fragment"),_M=Object.prototype.hasOwnProperty,NM=bM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,SM={key:!0,ref:!0,__self:!0,__source:!0};function fS(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)_M.call(t,n)&&!SM.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:wM,type:e,key:s,ref:a,props:i,_owner:NM.current}}nf.Fragment=jM;nf.jsx=fS;nf.jsxs=fS;rS.exports=nf;var o=rS.exports,hS={exports:{}},mr={},mS={exports:{}},pS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,k){var B=D.length;D.push(k);e:for(;0<B;){var G=B-1>>>1,$=D[G];if(0<i($,k))D[G]=k,D[B]=$,B=G;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var k=D[0],B=D.pop();if(B!==k){D[0]=B;e:for(var G=0,$=D.length,Y=$>>>1;G<Y;){var le=2*(G+1)-1,X=D[le],se=le+1,R=D[se];if(0>i(X,B))se<$&&0>i(R,X)?(D[G]=R,D[se]=B,G=se):(D[G]=X,D[le]=B,G=le);else if(se<$&&0>i(R,B))D[G]=R,D[se]=B,G=se;else break e}}return k}function i(D,k){var B=D.sortIndex-k.sortIndex;return B!==0?B:D.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,g=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=D)n(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(u)}}function _(D){if(x=!1,b(D),!g)if(r(c)!==null)g=!0,K(j);else{var k=r(u);k!==null&&z(_,k.startTime-D)}}function j(D,k){g=!1,x&&(x=!1,p(S),S=-1),m=!0;var B=h;try{for(b(k),f=r(c);f!==null&&(!(f.expirationTime>k)||D&&!O());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var $=G(f.expirationTime<=k);k=e.unstable_now(),typeof $=="function"?f.callback=$:f===r(c)&&n(c),b(k)}else n(c);f=r(c)}if(f!==null)var Y=!0;else{var le=r(u);le!==null&&z(_,le.startTime-k),Y=!1}return Y}finally{f=null,h=B,m=!1}}var N=!1,P=null,S=-1,A=5,C=-1;function O(){return!(e.unstable_now()-C<A)}function U(){if(P!==null){var D=e.unstable_now();C=D;var k=!0;try{k=P(!0,D)}finally{k?L():(N=!1,P=null)}}else N=!1}var L;if(typeof v=="function")L=function(){v(U)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,I=q.port2;q.port1.onmessage=U,L=function(){I.postMessage(null)}}else L=function(){w(U,0)};function K(D){P=D,N||(N=!0,L())}function z(D,k){S=w(function(){D(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){g||m||(g=!0,K(j))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var B=h;h=k;try{return D()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,k){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var B=h;h=D;try{return k()}finally{h=B}},e.unstable_scheduleCallback=function(D,k,B){var G=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?G+B:G):B=G,D){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=B+$,D={id:d++,callback:k,priorityLevel:D,startTime:B,expirationTime:$,sortIndex:-1},B>G?(D.sortIndex=B,t(u,D),r(c)===null&&D===r(u)&&(x?(p(S),S=-1):x=!0,z(_,B-G))):(D.sortIndex=$,t(c,D),g||m||(g=!0,K(j))),D},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(D){var k=h;return function(){var B=h;h=k;try{return D.apply(this,arguments)}finally{h=B}}}})(pS);mS.exports=pS;var PM=mS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kM=y,cr=PM;function J(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gS=new Set,bl={};function Ps(e,t){Pa(e,t),Pa(e+"Capture",t)}function Pa(e,t){for(bl[e]=t,e=0;e<t.length;e++)gS.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ip=Object.prototype.hasOwnProperty,AM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,db={},fb={};function EM(e){return ip.call(fb,e)?!0:ip.call(db,e)?!1:AM.test(e)?fb[e]=!0:(db[e]=!0,!1)}function OM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function CM(e,t,r,n){if(t===null||typeof t>"u"||OM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ng=/[\-:]([a-z])/g;function Sg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ng,Sg);xt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ng,Sg);xt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ng,Sg);xt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Pg(e,t,r,n){var i=xt.hasOwnProperty(t)?xt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(CM(t,r,i,n)&&(r=null),n||i===null?EM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=kM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),Hs=Symbol.for("react.portal"),qs=Symbol.for("react.fragment"),kg=Symbol.for("react.strict_mode"),sp=Symbol.for("react.profiler"),yS=Symbol.for("react.provider"),vS=Symbol.for("react.context"),Ag=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),Eg=Symbol.for("react.memo"),ii=Symbol.for("react.lazy"),xS=Symbol.for("react.offscreen"),hb=Symbol.iterator;function Po(e){return e===null||typeof e!="object"?null:(e=hb&&e[hb]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Lh;function Ko(e){if(Lh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lh=t&&t[1]||""}return`
`+Lh+e}var Ih=!1;function Bh(e,t){if(!e||Ih)return"";Ih=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ih=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ko(e):""}function TM(e){switch(e.tag){case 5:return Ko(e.type);case 16:return Ko("Lazy");case 13:return Ko("Suspense");case 19:return Ko("SuspenseList");case 0:case 2:case 15:return e=Bh(e.type,!1),e;case 11:return e=Bh(e.type.render,!1),e;case 1:return e=Bh(e.type,!0),e;default:return""}}function lp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qs:return"Fragment";case Hs:return"Portal";case sp:return"Profiler";case kg:return"StrictMode";case ap:return"Suspense";case op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vS:return(e.displayName||"Context")+".Consumer";case yS:return(e._context.displayName||"Context")+".Provider";case Ag:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eg:return t=e.displayName||null,t!==null?t:lp(e.type)||"Memo";case ii:t=e._payload,e=e._init;try{return lp(e(t))}catch{}}return null}function MM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(t);case 8:return t===kg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ni(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function DM(e){var t=bS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $c(e){e._valueTracker||(e._valueTracker=DM(e))}function wS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=bS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Bu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cp(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function mb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ni(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jS(e,t){t=t.checked,t!=null&&Pg(e,"checked",t,!1)}function up(e,t){jS(e,t);var r=Ni(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&dp(e,t.type,Ni(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dp(e,t,r){(t!=="number"||Bu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ho=Array.isArray;function ma(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ni(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(J(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(J(92));if(Ho(r)){if(1<r.length)throw Error(J(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ni(r)}}function _S(e,t){var r=Ni(t.value),n=Ni(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function yb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function NS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?NS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lc,SS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lc=Lc||document.createElement("div"),Lc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var el={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RM=["Webkit","ms","Moz","O"];Object.keys(el).forEach(function(e){RM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),el[t]=el[e]})});function PS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||el.hasOwnProperty(e)&&el[e]?(""+t).trim():t+"px"}function kS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=PS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var $M=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(e,t){if(t){if($M[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(J(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(J(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(J(61))}if(t.style!=null&&typeof t.style!="object")throw Error(J(62))}}function pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function Og(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,pa=null,ga=null;function vb(e){if(e=ic(e)){if(typeof yp!="function")throw Error(J(280));var t=e.stateNode;t&&(t=cf(t),yp(e.stateNode,e.type,t))}}function AS(e){pa?ga?ga.push(e):ga=[e]:pa=e}function ES(){if(pa){var e=pa,t=ga;if(ga=pa=null,vb(e),t)for(e=0;e<t.length;e++)vb(t[e])}}function OS(e,t){return e(t)}function CS(){}var Fh=!1;function TS(e,t,r){if(Fh)return e(t,r);Fh=!0;try{return OS(e,t,r)}finally{Fh=!1,(pa!==null||ga!==null)&&(CS(),ES())}}function jl(e,t){var r=e.stateNode;if(r===null)return null;var n=cf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(J(231,t,typeof r));return r}var vp=!1;if(Tn)try{var ko={};Object.defineProperty(ko,"passive",{get:function(){vp=!0}}),window.addEventListener("test",ko,ko),window.removeEventListener("test",ko,ko)}catch{vp=!1}function LM(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var tl=!1,Fu=null,zu=!1,xp=null,IM={onError:function(e){tl=!0,Fu=e}};function BM(e,t,r,n,i,s,a,l,c){tl=!1,Fu=null,LM.apply(IM,arguments)}function FM(e,t,r,n,i,s,a,l,c){if(BM.apply(this,arguments),tl){if(tl){var u=Fu;tl=!1,Fu=null}else throw Error(J(198));zu||(zu=!0,xp=u)}}function ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function MS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xb(e){if(ks(e)!==e)throw Error(J(188))}function zM(e){var t=e.alternate;if(!t){if(t=ks(e),t===null)throw Error(J(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return xb(i),e;if(s===n)return xb(i),t;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?e:t}function DS(e){return e=zM(e),e!==null?RS(e):null}function RS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=RS(e);if(t!==null)return t;e=e.sibling}return null}var $S=cr.unstable_scheduleCallback,bb=cr.unstable_cancelCallback,UM=cr.unstable_shouldYield,WM=cr.unstable_requestPaint,Ye=cr.unstable_now,VM=cr.unstable_getCurrentPriorityLevel,Cg=cr.unstable_ImmediatePriority,LS=cr.unstable_UserBlockingPriority,Uu=cr.unstable_NormalPriority,KM=cr.unstable_LowPriority,IS=cr.unstable_IdlePriority,sf=null,an=null;function HM(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(sf,e,void 0,(e.current.flags&128)===128)}catch{}}var qr=Math.clz32?Math.clz32:YM,qM=Math.log,GM=Math.LN2;function YM(e){return e>>>=0,e===0?32:31-(qM(e)/GM|0)|0}var Ic=64,Bc=4194304;function qo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Wu(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=qo(l):(s&=a,s!==0&&(n=qo(s)))}else a=r&~i,a!==0?n=qo(a):s!==0&&(n=qo(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-qr(t),i=1<<r,n|=e[r],t&=~i;return n}function XM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function JM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-qr(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=XM(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function bp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function BS(){var e=Ic;return Ic<<=1,!(Ic&4194240)&&(Ic=64),e}function zh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function rc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-qr(t),e[t]=r}function QM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-qr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Tg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-qr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var _e=0;function FS(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zS,Mg,US,WS,VS,wp=!1,Fc=[],mi=null,pi=null,gi=null,_l=new Map,Nl=new Map,oi=[],ZM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wb(e,t){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":_l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nl.delete(t.pointerId)}}function Ao(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=ic(t),t!==null&&Mg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function e5(e,t,r,n,i){switch(t){case"focusin":return mi=Ao(mi,e,t,r,n,i),!0;case"dragenter":return pi=Ao(pi,e,t,r,n,i),!0;case"mouseover":return gi=Ao(gi,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,Ao(_l.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nl.set(s,Ao(Nl.get(s)||null,e,t,r,n,i)),!0}return!1}function KS(e){var t=Zi(e.target);if(t!==null){var r=ks(t);if(r!==null){if(t=r.tag,t===13){if(t=MS(r),t!==null){e.blockedOn=t,VS(e.priority,function(){US(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ju(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gp=n,r.target.dispatchEvent(n),gp=null}else return t=ic(r),t!==null&&Mg(t),e.blockedOn=r,!1;t.shift()}return!0}function jb(e,t,r){ju(e)&&r.delete(t)}function t5(){wp=!1,mi!==null&&ju(mi)&&(mi=null),pi!==null&&ju(pi)&&(pi=null),gi!==null&&ju(gi)&&(gi=null),_l.forEach(jb),Nl.forEach(jb)}function Eo(e,t){e.blockedOn===t&&(e.blockedOn=null,wp||(wp=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,t5)))}function Sl(e){function t(i){return Eo(i,e)}if(0<Fc.length){Eo(Fc[0],e);for(var r=1;r<Fc.length;r++){var n=Fc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(mi!==null&&Eo(mi,e),pi!==null&&Eo(pi,e),gi!==null&&Eo(gi,e),_l.forEach(t),Nl.forEach(t),r=0;r<oi.length;r++)n=oi[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<oi.length&&(r=oi[0],r.blockedOn===null);)KS(r),r.blockedOn===null&&oi.shift()}var ya=Kn.ReactCurrentBatchConfig,Vu=!0;function r5(e,t,r,n){var i=_e,s=ya.transition;ya.transition=null;try{_e=1,Dg(e,t,r,n)}finally{_e=i,ya.transition=s}}function n5(e,t,r,n){var i=_e,s=ya.transition;ya.transition=null;try{_e=4,Dg(e,t,r,n)}finally{_e=i,ya.transition=s}}function Dg(e,t,r,n){if(Vu){var i=jp(e,t,r,n);if(i===null)Jh(e,t,n,Ku,r),wb(e,n);else if(e5(i,e,t,r,n))n.stopPropagation();else if(wb(e,n),t&4&&-1<ZM.indexOf(e)){for(;i!==null;){var s=ic(i);if(s!==null&&zS(s),s=jp(e,t,r,n),s===null&&Jh(e,t,n,Ku,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Jh(e,t,n,null,r)}}var Ku=null;function jp(e,t,r,n){if(Ku=null,e=Og(n),e=Zi(e),e!==null)if(t=ks(e),t===null)e=null;else if(r=t.tag,r===13){if(e=MS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ku=e,null}function HS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VM()){case Cg:return 1;case LS:return 4;case Uu:case KM:return 16;case IS:return 536870912;default:return 16}default:return 16}}var di=null,Rg=null,_u=null;function qS(){if(_u)return _u;var e,t=Rg,r=t.length,n,i="value"in di?di.value:di.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return _u=i.slice(e,1<n?1-n:void 0)}function Nu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function zc(){return!0}function _b(){return!1}function pr(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?zc:_b,this.isPropagationStopped=_b,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zc)},persist:function(){},isPersistent:zc}),t}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$g=pr(eo),nc=Fe({},eo,{view:0,detail:0}),i5=pr(nc),Uh,Wh,Oo,af=Fe({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Oo&&(Oo&&e.type==="mousemove"?(Uh=e.screenX-Oo.screenX,Wh=e.screenY-Oo.screenY):Wh=Uh=0,Oo=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:Wh}}),Nb=pr(af),s5=Fe({},af,{dataTransfer:0}),a5=pr(s5),o5=Fe({},nc,{relatedTarget:0}),Vh=pr(o5),l5=Fe({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),c5=pr(l5),u5=Fe({},eo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),d5=pr(u5),f5=Fe({},eo,{data:0}),Sb=pr(f5),h5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},m5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},p5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=p5[e])?!!t[e]:!1}function Lg(){return g5}var y5=Fe({},nc,{key:function(e){if(e.key){var t=h5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Nu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?m5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lg,charCode:function(e){return e.type==="keypress"?Nu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Nu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),v5=pr(y5),x5=Fe({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pb=pr(x5),b5=Fe({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lg}),w5=pr(b5),j5=Fe({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),_5=pr(j5),N5=Fe({},af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S5=pr(N5),P5=[9,13,27,32],Ig=Tn&&"CompositionEvent"in window,rl=null;Tn&&"documentMode"in document&&(rl=document.documentMode);var k5=Tn&&"TextEvent"in window&&!rl,GS=Tn&&(!Ig||rl&&8<rl&&11>=rl),kb=" ",Ab=!1;function YS(e,t){switch(e){case"keyup":return P5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gs=!1;function A5(e,t){switch(e){case"compositionend":return XS(t);case"keypress":return t.which!==32?null:(Ab=!0,kb);case"textInput":return e=t.data,e===kb&&Ab?null:e;default:return null}}function E5(e,t){if(Gs)return e==="compositionend"||!Ig&&YS(e,t)?(e=qS(),_u=Rg=di=null,Gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return GS&&t.locale!=="ko"?null:t.data;default:return null}}var O5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!O5[e.type]:t==="textarea"}function JS(e,t,r,n){AS(n),t=Hu(t,"onChange"),0<t.length&&(r=new $g("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var nl=null,Pl=null;function C5(e){lP(e,0)}function of(e){var t=Js(e);if(wS(t))return e}function T5(e,t){if(e==="change")return t}var QS=!1;if(Tn){var Kh;if(Tn){var Hh="oninput"in document;if(!Hh){var Ob=document.createElement("div");Ob.setAttribute("oninput","return;"),Hh=typeof Ob.oninput=="function"}Kh=Hh}else Kh=!1;QS=Kh&&(!document.documentMode||9<document.documentMode)}function Cb(){nl&&(nl.detachEvent("onpropertychange",ZS),Pl=nl=null)}function ZS(e){if(e.propertyName==="value"&&of(Pl)){var t=[];JS(t,Pl,e,Og(e)),TS(C5,t)}}function M5(e,t,r){e==="focusin"?(Cb(),nl=t,Pl=r,nl.attachEvent("onpropertychange",ZS)):e==="focusout"&&Cb()}function D5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return of(Pl)}function R5(e,t){if(e==="click")return of(t)}function $5(e,t){if(e==="input"||e==="change")return of(t)}function L5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:L5;function kl(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!ip.call(t,i)||!Yr(e[i],t[i]))return!1}return!0}function Tb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mb(e,t){var r=Tb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tb(r)}}function eP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tP(){for(var e=window,t=Bu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Bu(e.document)}return t}function Bg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function I5(e){var t=tP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&eP(r.ownerDocument.documentElement,r)){if(n!==null&&Bg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Mb(r,s);var a=Mb(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var B5=Tn&&"documentMode"in document&&11>=document.documentMode,Ys=null,_p=null,il=null,Np=!1;function Db(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Np||Ys==null||Ys!==Bu(n)||(n=Ys,"selectionStart"in n&&Bg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),il&&kl(il,n)||(il=n,n=Hu(_p,"onSelect"),0<n.length&&(t=new $g("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ys)))}function Uc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Xs={animationend:Uc("Animation","AnimationEnd"),animationiteration:Uc("Animation","AnimationIteration"),animationstart:Uc("Animation","AnimationStart"),transitionend:Uc("Transition","TransitionEnd")},qh={},rP={};Tn&&(rP=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function lf(e){if(qh[e])return qh[e];if(!Xs[e])return e;var t=Xs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in rP)return qh[e]=t[r];return e}var nP=lf("animationend"),iP=lf("animationiteration"),sP=lf("animationstart"),aP=lf("transitionend"),oP=new Map,Rb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ei(e,t){oP.set(e,t),Ps(t,[e])}for(var Gh=0;Gh<Rb.length;Gh++){var Yh=Rb[Gh],F5=Yh.toLowerCase(),z5=Yh[0].toUpperCase()+Yh.slice(1);Ei(F5,"on"+z5)}Ei(nP,"onAnimationEnd");Ei(iP,"onAnimationIteration");Ei(sP,"onAnimationStart");Ei("dblclick","onDoubleClick");Ei("focusin","onFocus");Ei("focusout","onBlur");Ei(aP,"onTransitionEnd");Pa("onMouseEnter",["mouseout","mouseover"]);Pa("onMouseLeave",["mouseout","mouseover"]);Pa("onPointerEnter",["pointerout","pointerover"]);Pa("onPointerLeave",["pointerout","pointerover"]);Ps("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ps("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ps("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ps("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ps("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Go="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Go));function $b(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,FM(n,t,void 0,e),e.currentTarget=null}function lP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;$b(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;$b(i,l,u),s=c}}}if(zu)throw e=xp,zu=!1,xp=null,e}function Te(e,t){var r=t[Ep];r===void 0&&(r=t[Ep]=new Set);var n=e+"__bubble";r.has(n)||(cP(t,e,2,!1),r.add(n))}function Xh(e,t,r){var n=0;t&&(n|=4),cP(r,e,n,t)}var Wc="_reactListening"+Math.random().toString(36).slice(2);function Al(e){if(!e[Wc]){e[Wc]=!0,gS.forEach(function(r){r!=="selectionchange"&&(U5.has(r)||Xh(r,!1,e),Xh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wc]||(t[Wc]=!0,Xh("selectionchange",!1,t))}}function cP(e,t,r,n){switch(HS(t)){case 1:var i=r5;break;case 4:i=n5;break;default:i=Dg}r=i.bind(null,t,r,e),i=void 0,!vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Jh(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=Zi(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}TS(function(){var u=s,d=Og(r),f=[];e:{var h=oP.get(e);if(h!==void 0){var m=$g,g=e;switch(e){case"keypress":if(Nu(r)===0)break e;case"keydown":case"keyup":m=v5;break;case"focusin":g="focus",m=Vh;break;case"focusout":g="blur",m=Vh;break;case"beforeblur":case"afterblur":m=Vh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Nb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=a5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=w5;break;case nP:case iP:case sP:m=c5;break;case aP:m=_5;break;case"scroll":m=i5;break;case"wheel":m=S5;break;case"copy":case"cut":case"paste":m=d5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Pb}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,p!==null&&(_=jl(v,p),_!=null&&x.push(El(v,_,b)))),w)break;v=v.return}0<x.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==gp&&(g=r.relatedTarget||r.fromElement)&&(Zi(g)||g[Mn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?Zi(g):null,g!==null&&(w=ks(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(x=Nb,_="onMouseLeave",p="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Pb,_="onPointerLeave",p="onPointerEnter",v="pointer"),w=m==null?h:Js(m),b=g==null?h:Js(g),h=new x(_,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,_=null,Zi(d)===u&&(x=new x(p,v+"enter",g,r,d),x.target=b,x.relatedTarget=w,_=x),w=_,m&&g)t:{for(x=m,p=g,v=0,b=x;b;b=Rs(b))v++;for(b=0,_=p;_;_=Rs(_))b++;for(;0<v-b;)x=Rs(x),v--;for(;0<b-v;)p=Rs(p),b--;for(;v--;){if(x===p||p!==null&&x===p.alternate)break t;x=Rs(x),p=Rs(p)}x=null}else x=null;m!==null&&Lb(f,h,m,x,!1),g!==null&&w!==null&&Lb(f,w,g,x,!0)}}e:{if(h=u?Js(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=T5;else if(Eb(h))if(QS)j=$5;else{j=D5;var N=M5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=R5);if(j&&(j=j(e,u))){JS(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&dp(h,"number",h.value)}switch(N=u?Js(u):window,e){case"focusin":(Eb(N)||N.contentEditable==="true")&&(Ys=N,_p=u,il=null);break;case"focusout":il=_p=Ys=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,Db(f,r,d);break;case"selectionchange":if(B5)break;case"keydown":case"keyup":Db(f,r,d)}var P;if(Ig)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Gs?YS(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(GS&&r.locale!=="ko"&&(Gs||S!=="onCompositionStart"?S==="onCompositionEnd"&&Gs&&(P=qS()):(di=d,Rg="value"in di?di.value:di.textContent,Gs=!0)),N=Hu(u,S),0<N.length&&(S=new Sb(S,e,null,r,d),f.push({event:S,listeners:N}),P?S.data=P:(P=XS(r),P!==null&&(S.data=P)))),(P=k5?A5(e,r):E5(e,r))&&(u=Hu(u,"onBeforeInput"),0<u.length&&(d=new Sb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}lP(f,t)})}function El(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Hu(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jl(e,r),s!=null&&n.unshift(El(e,s,i)),s=jl(e,t),s!=null&&n.push(El(e,s,i))),e=e.return}return n}function Rs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lb(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=jl(r,s),c!=null&&a.unshift(El(r,c,l))):i||(c=jl(r,s),c!=null&&a.push(El(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var W5=/\r\n?/g,V5=/\u0000|\uFFFD/g;function Ib(e){return(typeof e=="string"?e:""+e).replace(W5,`
`).replace(V5,"")}function Vc(e,t,r){if(t=Ib(t),Ib(e)!==t&&r)throw Error(J(425))}function qu(){}var Sp=null,Pp=null;function kp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,K5=typeof clearTimeout=="function"?clearTimeout:void 0,Bb=typeof Promise=="function"?Promise:void 0,H5=typeof queueMicrotask=="function"?queueMicrotask:typeof Bb<"u"?function(e){return Bb.resolve(null).then(e).catch(q5)}:Ap;function q5(e){setTimeout(function(){throw e})}function Qh(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Sl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Sl(t)}function yi(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Fb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var to=Math.random().toString(36).slice(2),en="__reactFiber$"+to,Ol="__reactProps$"+to,Mn="__reactContainer$"+to,Ep="__reactEvents$"+to,G5="__reactListeners$"+to,Y5="__reactHandles$"+to;function Zi(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mn]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Fb(e);e!==null;){if(r=e[en])return r;e=Fb(e)}return t}e=r,r=e.parentNode}return null}function ic(e){return e=e[en]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Js(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(J(33))}function cf(e){return e[Ol]||null}var Op=[],Qs=-1;function Oi(e){return{current:e}}function De(e){0>Qs||(e.current=Op[Qs],Op[Qs]=null,Qs--)}function Oe(e,t){Qs++,Op[Qs]=e.current,e.current=t}var Si={},Et=Oi(Si),Xt=Oi(!1),ys=Si;function ka(e,t){var r=e.type.contextTypes;if(!r)return Si;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Jt(e){return e=e.childContextTypes,e!=null}function Gu(){De(Xt),De(Et)}function zb(e,t,r){if(Et.current!==Si)throw Error(J(168));Oe(Et,t),Oe(Xt,r)}function uP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(J(108,MM(e)||"Unknown",i));return Fe({},r,n)}function Yu(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,ys=Et.current,Oe(Et,e),Oe(Xt,Xt.current),!0}function Ub(e,t,r){var n=e.stateNode;if(!n)throw Error(J(169));r?(e=uP(e,t,ys),n.__reactInternalMemoizedMergedChildContext=e,De(Xt),De(Et),Oe(Et,e)):De(Xt),Oe(Xt,r)}var jn=null,uf=!1,Zh=!1;function dP(e){jn===null?jn=[e]:jn.push(e)}function X5(e){uf=!0,dP(e)}function Ci(){if(!Zh&&jn!==null){Zh=!0;var e=0,t=_e;try{var r=jn;for(_e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}jn=null,uf=!1}catch(i){throw jn!==null&&(jn=jn.slice(e+1)),$S(Cg,Ci),i}finally{_e=t,Zh=!1}}return null}var Zs=[],ea=0,Xu=null,Ju=0,jr=[],_r=0,vs=null,Nn=1,Sn="";function Ki(e,t){Zs[ea++]=Ju,Zs[ea++]=Xu,Xu=e,Ju=t}function fP(e,t,r){jr[_r++]=Nn,jr[_r++]=Sn,jr[_r++]=vs,vs=e;var n=Nn;e=Sn;var i=32-qr(n)-1;n&=~(1<<i),r+=1;var s=32-qr(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Nn=1<<32-qr(t)+i|r<<i|n,Sn=s+e}else Nn=1<<s|r<<i|n,Sn=e}function Fg(e){e.return!==null&&(Ki(e,1),fP(e,1,0))}function zg(e){for(;e===Xu;)Xu=Zs[--ea],Zs[ea]=null,Ju=Zs[--ea],Zs[ea]=null;for(;e===vs;)vs=jr[--_r],jr[_r]=null,Sn=jr[--_r],jr[_r]=null,Nn=jr[--_r],jr[_r]=null}var or=null,ar=null,Re=!1,Wr=null;function hP(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=yi(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=vs!==null?{id:Nn,overflow:Sn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Cp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tp(e){if(Re){var t=ar;if(t){var r=t;if(!Wb(e,t)){if(Cp(e))throw Error(J(418));t=yi(r.nextSibling);var n=or;t&&Wb(e,t)?hP(n,r):(e.flags=e.flags&-4097|2,Re=!1,or=e)}}else{if(Cp(e))throw Error(J(418));e.flags=e.flags&-4097|2,Re=!1,or=e}}}function Vb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Kc(e){if(e!==or)return!1;if(!Re)return Vb(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kp(e.type,e.memoizedProps)),t&&(t=ar)){if(Cp(e))throw mP(),Error(J(418));for(;t;)hP(e,t),t=yi(t.nextSibling)}if(Vb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(J(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=yi(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?yi(e.stateNode.nextSibling):null;return!0}function mP(){for(var e=ar;e;)e=yi(e.nextSibling)}function Aa(){ar=or=null,Re=!1}function Ug(e){Wr===null?Wr=[e]:Wr.push(e)}var J5=Kn.ReactCurrentBatchConfig;function Co(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,e))}return e}function Hc(e,t){throw e=Object.prototype.toString.call(t),Error(J(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Kb(e){var t=e._init;return t(e._payload)}function pP(e){function t(p,v){if(e){var b=p.deletions;b===null?(p.deletions=[v],p.flags|=16):b.push(v)}}function r(p,v){if(!e)return null;for(;v!==null;)t(p,v),v=v.sibling;return null}function n(p,v){for(p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function i(p,v){return p=wi(p,v),p.index=0,p.sibling=null,p}function s(p,v,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<v?(p.flags|=2,v):b):(p.flags|=2,v)):(p.flags|=1048576,v)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function l(p,v,b,_){return v===null||v.tag!==6?(v=am(b,p.mode,_),v.return=p,v):(v=i(v,b),v.return=p,v)}function c(p,v,b,_){var j=b.type;return j===qs?d(p,v,b.props.children,_,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ii&&Kb(j)===v.type)?(_=i(v,b.props),_.ref=Co(p,v,b),_.return=p,_):(_=Cu(b.type,b.key,b.props,null,p.mode,_),_.ref=Co(p,v,b),_.return=p,_)}function u(p,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=om(b,p.mode,_),v.return=p,v):(v=i(v,b.children||[]),v.return=p,v)}function d(p,v,b,_,j){return v===null||v.tag!==7?(v=us(b,p.mode,_,j),v.return=p,v):(v=i(v,b),v.return=p,v)}function f(p,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=am(""+v,p.mode,b),v.return=p,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Rc:return b=Cu(v.type,v.key,v.props,null,p.mode,b),b.ref=Co(p,null,v),b.return=p,b;case Hs:return v=om(v,p.mode,b),v.return=p,v;case ii:var _=v._init;return f(p,_(v._payload),b)}if(Ho(v)||Po(v))return v=us(v,p.mode,b,null),v.return=p,v;Hc(p,v)}return null}function h(p,v,b,_){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(p,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Rc:return b.key===j?c(p,v,b,_):null;case Hs:return b.key===j?u(p,v,b,_):null;case ii:return j=b._init,h(p,v,j(b._payload),_)}if(Ho(b)||Po(b))return j!==null?null:d(p,v,b,_,null);Hc(p,b)}return null}function m(p,v,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(b)||null,l(v,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Rc:return p=p.get(_.key===null?b:_.key)||null,c(v,p,_,j);case Hs:return p=p.get(_.key===null?b:_.key)||null,u(v,p,_,j);case ii:var N=_._init;return m(p,v,b,N(_._payload),j)}if(Ho(_)||Po(_))return p=p.get(b)||null,d(v,p,_,j,null);Hc(v,_)}return null}function g(p,v,b,_){for(var j=null,N=null,P=v,S=v=0,A=null;P!==null&&S<b.length;S++){P.index>S?(A=P,P=null):A=P.sibling;var C=h(p,P,b[S],_);if(C===null){P===null&&(P=A);break}e&&P&&C.alternate===null&&t(p,P),v=s(C,v,S),N===null?j=C:N.sibling=C,N=C,P=A}if(S===b.length)return r(p,P),Re&&Ki(p,S),j;if(P===null){for(;S<b.length;S++)P=f(p,b[S],_),P!==null&&(v=s(P,v,S),N===null?j=P:N.sibling=P,N=P);return Re&&Ki(p,S),j}for(P=n(p,P);S<b.length;S++)A=m(P,p,S,b[S],_),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?S:A.key),v=s(A,v,S),N===null?j=A:N.sibling=A,N=A);return e&&P.forEach(function(O){return t(p,O)}),Re&&Ki(p,S),j}function x(p,v,b,_){var j=Po(b);if(typeof j!="function")throw Error(J(150));if(b=j.call(b),b==null)throw Error(J(151));for(var N=j=null,P=v,S=v=0,A=null,C=b.next();P!==null&&!C.done;S++,C=b.next()){P.index>S?(A=P,P=null):A=P.sibling;var O=h(p,P,C.value,_);if(O===null){P===null&&(P=A);break}e&&P&&O.alternate===null&&t(p,P),v=s(O,v,S),N===null?j=O:N.sibling=O,N=O,P=A}if(C.done)return r(p,P),Re&&Ki(p,S),j;if(P===null){for(;!C.done;S++,C=b.next())C=f(p,C.value,_),C!==null&&(v=s(C,v,S),N===null?j=C:N.sibling=C,N=C);return Re&&Ki(p,S),j}for(P=n(p,P);!C.done;S++,C=b.next())C=m(P,p,S,C.value,_),C!==null&&(e&&C.alternate!==null&&P.delete(C.key===null?S:C.key),v=s(C,v,S),N===null?j=C:N.sibling=C,N=C);return e&&P.forEach(function(U){return t(p,U)}),Re&&Ki(p,S),j}function w(p,v,b,_){if(typeof b=="object"&&b!==null&&b.type===qs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Rc:e:{for(var j=b.key,N=v;N!==null;){if(N.key===j){if(j=b.type,j===qs){if(N.tag===7){r(p,N.sibling),v=i(N,b.props.children),v.return=p,p=v;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ii&&Kb(j)===N.type){r(p,N.sibling),v=i(N,b.props),v.ref=Co(p,N,b),v.return=p,p=v;break e}r(p,N);break}else t(p,N);N=N.sibling}b.type===qs?(v=us(b.props.children,p.mode,_,b.key),v.return=p,p=v):(_=Cu(b.type,b.key,b.props,null,p.mode,_),_.ref=Co(p,v,b),_.return=p,p=_)}return a(p);case Hs:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(p,v.sibling),v=i(v,b.children||[]),v.return=p,p=v;break e}else{r(p,v);break}else t(p,v);v=v.sibling}v=om(b,p.mode,_),v.return=p,p=v}return a(p);case ii:return N=b._init,w(p,v,N(b._payload),_)}if(Ho(b))return g(p,v,b,_);if(Po(b))return x(p,v,b,_);Hc(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(p,v.sibling),v=i(v,b),v.return=p,p=v):(r(p,v),v=am(b,p.mode,_),v.return=p,p=v),a(p)):r(p,v)}return w}var Ea=pP(!0),gP=pP(!1),Qu=Oi(null),Zu=null,ta=null,Wg=null;function Vg(){Wg=ta=Zu=null}function Kg(e){var t=Qu.current;De(Qu),e._currentValue=t}function Mp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function va(e,t){Zu=e,Wg=ta=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qt=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Wg!==e)if(e={context:e,memoizedValue:t,next:null},ta===null){if(Zu===null)throw Error(J(308));ta=e,Zu.dependencies={lanes:0,firstContext:e}}else ta=ta.next=e;return t}var es=null;function Hg(e){es===null?es=[e]:es.push(e)}function yP(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Hg(t)):(r.next=i.next,i.next=r),t.interleaved=r,Dn(e,n)}function Dn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var si=!1;function qg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function An(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Dn(e,r)}return i=n.interleaved,i===null?(t.next=t,Hg(n)):(t.next=i.next,i.next=t),n.interleaved=t,Dn(e,r)}function Su(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tg(e,r)}}function Hb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ed(e,t,r,n){var i=e.updateQueue;si=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var g=e,x=l;switch(h=t,m=r,x.tag){case 1:if(g=x.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Fe({},f,h);break e;case 2:si=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);bs|=a,e.lanes=a,e.memoizedState=f}}function qb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var sc={},on=Oi(sc),Cl=Oi(sc),Tl=Oi(sc);function ts(e){if(e===sc)throw Error(J(174));return e}function Gg(e,t){switch(Oe(Tl,t),Oe(Cl,e),Oe(on,sc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hp(t,e)}De(on),Oe(on,t)}function Oa(){De(on),De(Cl),De(Tl)}function xP(e){ts(Tl.current);var t=ts(on.current),r=hp(t,e.type);t!==r&&(Oe(Cl,e),Oe(on,r))}function Yg(e){Cl.current===e&&(De(on),De(Cl))}var Le=Oi(0);function td(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var em=[];function Xg(){for(var e=0;e<em.length;e++)em[e]._workInProgressVersionPrimary=null;em.length=0}var Pu=Kn.ReactCurrentDispatcher,tm=Kn.ReactCurrentBatchConfig,xs=0,Be=null,tt=null,dt=null,rd=!1,sl=!1,Ml=0,Q5=0;function bt(){throw Error(J(321))}function Jg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function Qg(e,t,r,n,i,s){if(xs=s,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Pu.current=e===null||e.memoizedState===null?rD:nD,e=r(n,i),sl){s=0;do{if(sl=!1,Ml=0,25<=s)throw Error(J(301));s+=1,dt=tt=null,t.updateQueue=null,Pu.current=iD,e=r(n,i)}while(sl)}if(Pu.current=nd,t=tt!==null&&tt.next!==null,xs=0,dt=tt=Be=null,rd=!1,t)throw Error(J(300));return e}function Zg(){var e=Ml!==0;return Ml=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Be.memoizedState=dt=e:dt=dt.next=e,dt}function Or(){if(tt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=dt===null?Be.memoizedState:dt.next;if(t!==null)dt=t,tt=e;else{if(e===null)throw Error(J(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},dt===null?Be.memoizedState=dt=e:dt=dt.next=e}return dt}function Dl(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=Or(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=tt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((xs&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Be.lanes|=d,bs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,Yr(n,t.memoizedState)||(qt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,Be.lanes|=s,bs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nm(e){var t=Or(),r=t.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Yr(s,t.memoizedState)||(qt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function bP(){}function wP(e,t){var r=Be,n=Or(),i=t(),s=!Yr(n.memoizedState,i);if(s&&(n.memoizedState=i,qt=!0),n=n.queue,ey(NP.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,Rl(9,_P.bind(null,r,n,i,t),void 0,null),ht===null)throw Error(J(349));xs&30||jP(r,t,i)}return i}function jP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function _P(e,t,r,n){t.value=r,t.getSnapshot=n,SP(t)&&PP(e)}function NP(e,t,r){return r(function(){SP(t)&&PP(e)})}function SP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function PP(e){var t=Dn(e,1);t!==null&&Gr(t,e,1,-1)}function Gb(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:e},t.queue=e,e=e.dispatch=tD.bind(null,Be,e),[t.memoizedState,e]}function Rl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function kP(){return Or().memoizedState}function ku(e,t,r,n){var i=Zr();Be.flags|=e,i.memoizedState=Rl(1|t,r,void 0,n===void 0?null:n)}function df(e,t,r,n){var i=Or();n=n===void 0?null:n;var s=void 0;if(tt!==null){var a=tt.memoizedState;if(s=a.destroy,n!==null&&Jg(n,a.deps)){i.memoizedState=Rl(t,r,s,n);return}}Be.flags|=e,i.memoizedState=Rl(1|t,r,s,n)}function Yb(e,t){return ku(8390656,8,e,t)}function ey(e,t){return df(2048,8,e,t)}function AP(e,t){return df(4,2,e,t)}function EP(e,t){return df(4,4,e,t)}function OP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function CP(e,t,r){return r=r!=null?r.concat([e]):null,df(4,4,OP.bind(null,t,e),r)}function ty(){}function TP(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function MP(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Jg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function DP(e,t,r){return xs&21?(Yr(r,t)||(r=BS(),Be.lanes|=r,bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qt=!0),e.memoizedState=r)}function Z5(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var n=tm.transition;tm.transition={};try{e(!1),t()}finally{_e=r,tm.transition=n}}function RP(){return Or().memoizedState}function eD(e,t,r){var n=bi(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$P(e))LP(t,r);else if(r=yP(e,t,r,n),r!==null){var i=$t();Gr(r,e,n,i),IP(r,t,n)}}function tD(e,t,r){var n=bi(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($P(e))LP(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Yr(l,a)){var c=t.interleaved;c===null?(i.next=i,Hg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=yP(e,t,i,n),r!==null&&(i=$t(),Gr(r,e,n,i),IP(r,t,n))}}function $P(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function LP(e,t){sl=rd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function IP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tg(e,r)}}var nd={readContext:Er,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},rD={readContext:Er,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:Yb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ku(4194308,4,OP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ku(4194308,4,e,t)},useInsertionEffect:function(e,t){return ku(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=eD.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:Gb,useDebugValue:ty,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=Gb(!1),t=e[0];return e=Z5.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,i=Zr();if(Re){if(r===void 0)throw Error(J(407));r=r()}else{if(r=t(),ht===null)throw Error(J(349));xs&30||jP(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Yb(NP.bind(null,n,s,e),[e]),n.flags|=2048,Rl(9,_P.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Zr(),t=ht.identifierPrefix;if(Re){var r=Sn,n=Nn;r=(n&~(1<<32-qr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ml++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Q5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},nD={readContext:Er,useCallback:TP,useContext:Er,useEffect:ey,useImperativeHandle:CP,useInsertionEffect:AP,useLayoutEffect:EP,useMemo:MP,useReducer:rm,useRef:kP,useState:function(){return rm(Dl)},useDebugValue:ty,useDeferredValue:function(e){var t=Or();return DP(t,tt.memoizedState,e)},useTransition:function(){var e=rm(Dl)[0],t=Or().memoizedState;return[e,t]},useMutableSource:bP,useSyncExternalStore:wP,useId:RP,unstable_isNewReconciler:!1},iD={readContext:Er,useCallback:TP,useContext:Er,useEffect:ey,useImperativeHandle:CP,useInsertionEffect:AP,useLayoutEffect:EP,useMemo:MP,useReducer:nm,useRef:kP,useState:function(){return nm(Dl)},useDebugValue:ty,useDeferredValue:function(e){var t=Or();return tt===null?t.memoizedState=e:DP(t,tt.memoizedState,e)},useTransition:function(){var e=nm(Dl)[0],t=Or().memoizedState;return[e,t]},useMutableSource:bP,useSyncExternalStore:wP,useId:RP,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var ff={isMounted:function(e){return(e=e._reactInternals)?ks(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=$t(),i=bi(e),s=An(n,i);s.payload=t,r!=null&&(s.callback=r),t=vi(e,s,i),t!==null&&(Gr(t,e,i,n),Su(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=$t(),i=bi(e),s=An(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=vi(e,s,i),t!==null&&(Gr(t,e,i,n),Su(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=$t(),n=bi(e),i=An(r,n);i.tag=2,t!=null&&(i.callback=t),t=vi(e,i,n),t!==null&&(Gr(t,e,n,r),Su(t,e,n))}};function Xb(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!kl(r,n)||!kl(i,s):!0}function BP(e,t,r){var n=!1,i=Si,s=t.contextType;return typeof s=="object"&&s!==null?s=Er(s):(i=Jt(t)?ys:Et.current,n=t.contextTypes,s=(n=n!=null)?ka(e,i):Si),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ff,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Jb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ff.enqueueReplaceState(t,t.state,null)}function Rp(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},qg(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Er(s):(s=Jt(t)?ys:Et.current,i.context=ka(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Dp(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ff.enqueueReplaceState(i,i.state,null),ed(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ca(e,t){try{var r="",n=t;do r+=TM(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function im(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $p(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var sD=typeof WeakMap=="function"?WeakMap:Map;function FP(e,t,r){r=An(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){sd||(sd=!0,Hp=n),$p(e,t)},r}function zP(e,t,r){r=An(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){$p(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){$p(e,t),typeof n!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Qb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new sD;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=xD.bind(null,e,t,r),t.then(e,e))}function Zb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ew(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=An(-1,1),t.tag=2,vi(r,t,1))),r.lanes|=1),e)}var aD=Kn.ReactCurrentOwner,qt=!1;function Tt(e,t,r,n){t.child=e===null?gP(t,null,r,n):Ea(t,e.child,r,n)}function tw(e,t,r,n,i){r=r.render;var s=t.ref;return va(t,i),n=Qg(e,t,r,n,s,i),r=Zg(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rn(e,t,i)):(Re&&r&&Fg(t),t.flags|=1,Tt(e,t,n,i),t.child)}function rw(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!cy(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,UP(e,t,s,n,i)):(e=Cu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(a,n)&&e.ref===t.ref)return Rn(e,t,i)}return t.flags|=1,e=wi(s,n),e.ref=t.ref,e.return=t,t.child=e}function UP(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(kl(s,n)&&e.ref===t.ref)if(qt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(qt=!0);else return t.lanes=e.lanes,Rn(e,t,i)}return Lp(e,t,r,n,i)}function WP(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(na,ir),ir|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(na,ir),ir|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Oe(na,ir),ir|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Oe(na,ir),ir|=n;return Tt(e,t,i,r),t.child}function VP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lp(e,t,r,n,i){var s=Jt(r)?ys:Et.current;return s=ka(t,s),va(t,i),r=Qg(e,t,r,n,s,i),n=Zg(),e!==null&&!qt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Rn(e,t,i)):(Re&&n&&Fg(t),t.flags|=1,Tt(e,t,r,i),t.child)}function nw(e,t,r,n,i){if(Jt(r)){var s=!0;Yu(t)}else s=!1;if(va(t,i),t.stateNode===null)Au(e,t),BP(t,r,n),Rp(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Jt(r)?ys:Et.current,u=ka(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Jb(t,a,n,u),si=!1;var h=t.memoizedState;a.state=h,ed(t,n,a,i),c=t.memoizedState,l!==n||h!==c||Xt.current||si?(typeof d=="function"&&(Dp(t,r,d,n),c=t.memoizedState),(l=si||Xb(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,vP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Jt(r)?ys:Et.current,c=ka(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Jb(t,a,n,c),si=!1,h=t.memoizedState,a.state=h,ed(t,n,a,i);var g=t.memoizedState;l!==f||h!==g||Xt.current||si?(typeof m=="function"&&(Dp(t,r,m,n),g=t.memoizedState),(u=si||Xb(t,r,u,n,h,g,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,g,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,g,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),a.props=n,a.state=g,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ip(e,t,r,n,s,i)}function Ip(e,t,r,n,i,s){VP(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Ub(t,r,!1),Rn(e,t,s);n=t.stateNode,aD.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ea(t,e.child,null,s),t.child=Ea(t,null,l,s)):Tt(e,t,l,s),t.memoizedState=n.state,i&&Ub(t,r,!0),t.child}function KP(e){var t=e.stateNode;t.pendingContext?zb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&zb(e,t.context,!1),Gg(e,t.containerInfo)}function iw(e,t,r,n,i){return Aa(),Ug(i),t.flags|=256,Tt(e,t,r,n),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function HP(e,t,r){var n=t.pendingProps,i=Le.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Oe(Le,i&1),e===null)return Tp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=pf(a,n,0,null),e=us(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Fp(r),t.memoizedState=Bp,e):ry(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return oD(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=wi(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=wi(l,s):(s=us(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?Fp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=Bp,n}return s=e.child,e=s.sibling,n=wi(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function ry(e,t){return t=pf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function qc(e,t,r,n){return n!==null&&Ug(n),Ea(t,e.child,null,r),e=ry(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oD(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=im(Error(J(422))),qc(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=pf({mode:"visible",children:n.children},i,0,null),s=us(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ea(t,e.child,null,a),t.child.memoizedState=Fp(a),t.memoizedState=Bp,s);if(!(t.mode&1))return qc(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(J(419)),n=im(s,n,void 0),qc(e,t,a,n)}if(l=(a&e.childLanes)!==0,qt||l){if(n=ht,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Dn(e,i),Gr(n,e,i,-1))}return ly(),n=im(Error(J(421))),qc(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=bD.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ar=yi(i.nextSibling),or=t,Re=!0,Wr=null,e!==null&&(jr[_r++]=Nn,jr[_r++]=Sn,jr[_r++]=vs,Nn=e.id,Sn=e.overflow,vs=t),t=ry(t,n.children),t.flags|=4096,t)}function sw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mp(e.return,t,r)}function sm(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function qP(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Tt(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sw(e,r,t);else if(e.tag===19)sw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Le,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&td(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),sm(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&td(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}sm(t,!0,r,null,s);break;case"together":sm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Au(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(J(153));if(t.child!==null){for(e=t.child,r=wi(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=wi(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function lD(e,t,r){switch(t.tag){case 3:KP(t),Aa();break;case 5:xP(t);break;case 1:Jt(t.type)&&Yu(t);break;case 4:Gg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Oe(Qu,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?HP(e,t,r):(Oe(Le,Le.current&1),e=Rn(e,t,r),e!==null?e.sibling:null);Oe(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return qP(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Oe(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,WP(e,t,r)}return Rn(e,t,r)}var GP,zp,YP,XP;GP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zp=function(){};YP=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ts(on.current);var s=null;switch(r){case"input":i=cp(e,i),n=cp(e,n),s=[];break;case"select":i=Fe({},i,{value:void 0}),n=Fe({},n,{value:void 0}),s=[];break;case"textarea":i=fp(e,i),n=fp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=qu)}mp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bl.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Te("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};XP=function(e,t,r,n){r!==n&&(t.flags|=4)};function To(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function cD(e,t,r){var n=t.pendingProps;switch(zg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Jt(t.type)&&Gu(),wt(t),null;case 3:return n=t.stateNode,Oa(),De(Xt),De(Et),Xg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Kc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Yp(Wr),Wr=null))),zp(e,t),wt(t),null;case 5:Yg(t);var i=ts(Tl.current);if(r=t.type,e!==null&&t.stateNode!=null)YP(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(J(166));return wt(t),null}if(e=ts(on.current),Kc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[en]=t,n[Ol]=s,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(i=0;i<Go.length;i++)Te(Go[i],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":mb(n,s),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Te("invalid",n);break;case"textarea":gb(n,s),Te("invalid",n)}mp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&Vc(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&Vc(n.textContent,l,e),i=["children",""+l]):bl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Te("scroll",n)}switch(r){case"input":$c(n),pb(n,s,!0);break;case"textarea":$c(n),yb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=qu)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=NS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[en]=t,e[Ol]=n,GP(e,t,!1,!1),t.stateNode=e;e:{switch(a=pp(r,n),r){case"dialog":Te("cancel",e),Te("close",e),i=n;break;case"iframe":case"object":case"embed":Te("load",e),i=n;break;case"video":case"audio":for(i=0;i<Go.length;i++)Te(Go[i],e);i=n;break;case"source":Te("error",e),i=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),i=n;break;case"details":Te("toggle",e),i=n;break;case"input":mb(e,n),i=cp(e,n),Te("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Fe({},n,{value:void 0}),Te("invalid",e);break;case"textarea":gb(e,n),i=fp(e,n),Te("invalid",e);break;default:i=n}mp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?kS(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&SS(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wl(e,c):typeof c=="number"&&wl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Te("scroll",e):c!=null&&Pg(e,s,c,a))}switch(r){case"input":$c(e),pb(e,n,!1);break;case"textarea":$c(e),yb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ni(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?ma(e,!!n.multiple,s,!1):n.defaultValue!=null&&ma(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=qu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)XP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(J(166));if(r=ts(Tl.current),ts(on.current),Kc(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(s=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:Vc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Vc(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return wt(t),null;case 13:if(De(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&ar!==null&&t.mode&1&&!(t.flags&128))mP(),Aa(),t.flags|=98560,s=!1;else if(s=Kc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(J(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[en]=t}else Aa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),s=!1}else Wr!==null&&(Yp(Wr),Wr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?rt===0&&(rt=3):ly())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Oa(),zp(e,t),e===null&&Al(t.stateNode.containerInfo),wt(t),null;case 10:return Kg(t.type._context),wt(t),null;case 17:return Jt(t.type)&&Gu(),wt(t),null;case 19:if(De(Le),s=t.memoizedState,s===null)return wt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)To(s,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=td(e),a!==null){for(t.flags|=128,To(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Le,Le.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ye()>Ta&&(t.flags|=128,n=!0,To(s,!1),t.lanes=4194304)}else{if(!n)if(e=td(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),To(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Re)return wt(t),null}else 2*Ye()-s.renderingStartTime>Ta&&r!==1073741824&&(t.flags|=128,n=!0,To(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,r=Le.current,Oe(Le,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return oy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ir&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(J(156,t.tag))}function uD(e,t){switch(zg(t),t.tag){case 1:return Jt(t.type)&&Gu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Oa(),De(Xt),De(Et),Xg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yg(t),null;case 13:if(De(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(J(340));Aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Le),null;case 4:return Oa(),null;case 10:return Kg(t.type._context),null;case 22:case 23:return oy(),null;case 24:return null;default:return null}}var Gc=!1,Nt=!1,dD=typeof WeakSet=="function"?WeakSet:Set,re=null;function ra(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ke(e,t,n)}else r.current=null}function Up(e,t,r){try{r()}catch(n){Ke(e,t,n)}}var aw=!1;function fD(e,t){if(Sp=Vu,e=tP(),Bg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pp={focusedElem:e,selectionRange:r},Vu=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,w=g.memoizedState,p=t.stateNode,v=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Fr(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(_){Ke(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return g=aw,aw=!1,g}function al(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Up(t,r,s)}i=i.next}while(i!==n)}}function hf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function JP(e){var t=e.alternate;t!==null&&(e.alternate=null,JP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Ol],delete t[Ep],delete t[G5],delete t[Y5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QP(e){return e.tag===5||e.tag===3||e.tag===4}function ow(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QP(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=qu));else if(n!==4&&(e=e.child,e!==null))for(Vp(e,t,r),e=e.sibling;e!==null;)Vp(e,t,r),e=e.sibling}function Kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kp(e,t,r),e=e.sibling;e!==null;)Kp(e,t,r),e=e.sibling}var gt=null,zr=!1;function Jn(e,t,r){for(r=r.child;r!==null;)ZP(e,t,r),r=r.sibling}function ZP(e,t,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(sf,r)}catch{}switch(r.tag){case 5:Nt||ra(r,t);case 6:var n=gt,i=zr;gt=null,Jn(e,t,r),gt=n,zr=i,gt!==null&&(zr?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(zr?(e=gt,r=r.stateNode,e.nodeType===8?Qh(e.parentNode,r):e.nodeType===1&&Qh(e,r),Sl(e)):Qh(gt,r.stateNode));break;case 4:n=gt,i=zr,gt=r.stateNode.containerInfo,zr=!0,Jn(e,t,r),gt=n,zr=i;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Up(r,t,a),i=i.next}while(i!==n)}Jn(e,t,r);break;case 1:if(!Nt&&(ra(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ke(r,t,l)}Jn(e,t,r);break;case 21:Jn(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,Jn(e,t,r),Nt=n):Jn(e,t,r);break;default:Jn(e,t,r)}}function lw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new dD),t.forEach(function(n){var i=wD.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,zr=!1;break e;case 3:gt=l.stateNode.containerInfo,zr=!0;break e;case 4:gt=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(gt===null)throw Error(J(160));ZP(s,a,i),gt=null,zr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ke(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ek(t,e),t=t.sibling}function ek(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),Qr(e),n&4){try{al(3,e,e.return),hf(3,e)}catch(x){Ke(e,e.return,x)}try{al(5,e,e.return)}catch(x){Ke(e,e.return,x)}}break;case 1:Lr(t,e),Qr(e),n&512&&r!==null&&ra(r,r.return);break;case 5:if(Lr(t,e),Qr(e),n&512&&r!==null&&ra(r,r.return),e.flags&32){var i=e.stateNode;try{wl(i,"")}catch(x){Ke(e,e.return,x)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&jS(i,s),pp(l,a);var u=pp(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?kS(i,f):d==="dangerouslySetInnerHTML"?SS(i,f):d==="children"?wl(i,f):Pg(i,d,f,u)}switch(l){case"input":up(i,s);break;case"textarea":_S(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?ma(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?ma(i,!!s.multiple,s.defaultValue,!0):ma(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ol]=s}catch(x){Ke(e,e.return,x)}}break;case 6:if(Lr(t,e),Qr(e),n&4){if(e.stateNode===null)throw Error(J(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(x){Ke(e,e.return,x)}}break;case 3:if(Lr(t,e),Qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(x){Ke(e,e.return,x)}break;case 4:Lr(t,e),Qr(e);break;case 13:Lr(t,e),Qr(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sy=Ye())),n&4&&lw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||d,Lr(t,e),Nt=u):Lr(t,e),Qr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(h=re,m=h.child,h.tag){case 0:case 11:case 14:case 15:al(4,h,h.return);break;case 1:ra(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(x){Ke(n,r,x)}}break;case 5:ra(h,h.return);break;case 22:if(h.memoizedState!==null){uw(f);continue}}m!==null?(m.return=h,re=m):uw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=PS("display",a))}catch(x){Ke(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lr(t,e),Qr(e),n&4&&lw(e);break;case 21:break;default:Lr(t,e),Qr(e)}}function Qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(QP(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wl(i,""),n.flags&=-33);var s=ow(e);Kp(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=ow(e);Vp(e,l,a);break;default:throw Error(J(161))}}catch(c){Ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hD(e,t,r){re=e,tk(e)}function tk(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Gc;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=Gc;var u=Nt;if(Gc=a,(Nt=c)&&!u)for(re=i;re!==null;)a=re,c=a.child,a.tag===22&&a.memoizedState!==null?dw(i):c!==null?(c.return=a,re=c):dw(i);for(;s!==null;)re=s,tk(s),s=s.sibling;re=i,Gc=l,Nt=u}cw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):cw(e)}}function cw(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||hf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Fr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&qb(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}qb(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Sl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}Nt||t.flags&512&&Wp(t)}catch(h){Ke(t,t.return,h)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function uw(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function dw(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hf(4,t)}catch(c){Ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ke(t,i,c)}}var s=t.return;try{Wp(t)}catch(c){Ke(t,s,c)}break;case 5:var a=t.return;try{Wp(t)}catch(c){Ke(t,a,c)}}}catch(c){Ke(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var mD=Math.ceil,id=Kn.ReactCurrentDispatcher,ny=Kn.ReactCurrentOwner,kr=Kn.ReactCurrentBatchConfig,ye=0,ht=null,Qe=null,vt=0,ir=0,na=Oi(0),rt=0,$l=null,bs=0,mf=0,iy=0,ol=null,Vt=null,sy=0,Ta=1/0,xn=null,sd=!1,Hp=null,xi=null,Yc=!1,fi=null,ad=0,ll=0,qp=null,Eu=-1,Ou=0;function $t(){return ye&6?Ye():Eu!==-1?Eu:Eu=Ye()}function bi(e){return e.mode&1?ye&2&&vt!==0?vt&-vt:J5.transition!==null?(Ou===0&&(Ou=BS()),Ou):(e=_e,e!==0||(e=window.event,e=e===void 0?16:HS(e.type)),e):1}function Gr(e,t,r,n){if(50<ll)throw ll=0,qp=null,Error(J(185));rc(e,r,n),(!(ye&2)||e!==ht)&&(e===ht&&(!(ye&2)&&(mf|=r),rt===4&&li(e,vt)),Qt(e,n),r===1&&ye===0&&!(t.mode&1)&&(Ta=Ye()+500,uf&&Ci()))}function Qt(e,t){var r=e.callbackNode;JM(e,t);var n=Wu(e,e===ht?vt:0);if(n===0)r!==null&&bb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bb(r),t===1)e.tag===0?X5(fw.bind(null,e)):dP(fw.bind(null,e)),H5(function(){!(ye&6)&&Ci()}),r=null;else{switch(FS(n)){case 1:r=Cg;break;case 4:r=LS;break;case 16:r=Uu;break;case 536870912:r=IS;break;default:r=Uu}r=ck(r,rk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function rk(e,t){if(Eu=-1,Ou=0,ye&6)throw Error(J(327));var r=e.callbackNode;if(xa()&&e.callbackNode!==r)return null;var n=Wu(e,e===ht?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=od(e,n);else{t=n;var i=ye;ye|=2;var s=ik();(ht!==e||vt!==t)&&(xn=null,Ta=Ye()+500,cs(e,t));do try{yD();break}catch(l){nk(e,l)}while(!0);Vg(),id.current=s,ye=i,Qe!==null?t=0:(ht=null,vt=0,t=rt)}if(t!==0){if(t===2&&(i=bp(e),i!==0&&(n=i,t=Gp(e,i))),t===1)throw r=$l,cs(e,0),li(e,n),Qt(e,Ye()),r;if(t===6)li(e,n);else{if(i=e.current.alternate,!(n&30)&&!pD(i)&&(t=od(e,n),t===2&&(s=bp(e),s!==0&&(n=s,t=Gp(e,s))),t===1))throw r=$l,cs(e,0),li(e,n),Qt(e,Ye()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(J(345));case 2:Hi(e,Vt,xn);break;case 3:if(li(e,n),(n&130023424)===n&&(t=sy+500-Ye(),10<t)){if(Wu(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){$t(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ap(Hi.bind(null,e,Vt,xn),t);break}Hi(e,Vt,xn);break;case 4:if(li(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-qr(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mD(n/1960))-n,10<n){e.timeoutHandle=Ap(Hi.bind(null,e,Vt,xn),n);break}Hi(e,Vt,xn);break;case 5:Hi(e,Vt,xn);break;default:throw Error(J(329))}}}return Qt(e,Ye()),e.callbackNode===r?rk.bind(null,e):null}function Gp(e,t){var r=ol;return e.current.memoizedState.isDehydrated&&(cs(e,t).flags|=256),e=od(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&Yp(t)),e}function Yp(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function pD(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Yr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function li(e,t){for(t&=~iy,t&=~mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-qr(t),n=1<<r;e[r]=-1,t&=~n}}function fw(e){if(ye&6)throw Error(J(327));xa();var t=Wu(e,0);if(!(t&1))return Qt(e,Ye()),null;var r=od(e,t);if(e.tag!==0&&r===2){var n=bp(e);n!==0&&(t=n,r=Gp(e,n))}if(r===1)throw r=$l,cs(e,0),li(e,t),Qt(e,Ye()),r;if(r===6)throw Error(J(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hi(e,Vt,xn),Qt(e,Ye()),null}function ay(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Ta=Ye()+500,uf&&Ci())}}function ws(e){fi!==null&&fi.tag===0&&!(ye&6)&&xa();var t=ye;ye|=1;var r=kr.transition,n=_e;try{if(kr.transition=null,_e=1,e)return e()}finally{_e=n,kr.transition=r,ye=t,!(ye&6)&&Ci()}}function oy(){ir=na.current,De(na)}function cs(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,K5(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(zg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gu();break;case 3:Oa(),De(Xt),De(Et),Xg();break;case 5:Yg(n);break;case 4:Oa();break;case 13:De(Le);break;case 19:De(Le);break;case 10:Kg(n.type._context);break;case 22:case 23:oy()}r=r.return}if(ht=e,Qe=e=wi(e.current,null),vt=ir=t,rt=0,$l=null,iy=mf=bs=0,Vt=ol=null,es!==null){for(t=0;t<es.length;t++)if(r=es[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}es=null}return e}function nk(e,t){do{var r=Qe;try{if(Vg(),Pu.current=nd,rd){for(var n=Be.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rd=!1}if(xs=0,dt=tt=Be=null,sl=!1,Ml=0,ny.current=null,r===null||r.return===null){rt=1,$l=t,Qe=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Zb(a);if(m!==null){m.flags&=-257,ew(m,a,l,s,t),m.mode&1&&Qb(s,u,t),t=m,c=u;var g=t.updateQueue;if(g===null){var x=new Set;x.add(c),t.updateQueue=x}else g.add(c);break e}else{if(!(t&1)){Qb(s,u,t),ly();break e}c=Error(J(426))}}else if(Re&&l.mode&1){var w=Zb(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),ew(w,a,l,s,t),Ug(Ca(c,l));break e}}s=c=Ca(c,l),rt!==4&&(rt=2),ol===null?ol=[s]:ol.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=FP(s,c,t);Hb(s,p);break e;case 1:l=c;var v=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(xi===null||!xi.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var _=zP(s,l,t);Hb(s,_);break e}}s=s.return}while(s!==null)}ak(r)}catch(j){t=j,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function ik(){var e=id.current;return id.current=nd,e===null?nd:e}function ly(){(rt===0||rt===3||rt===2)&&(rt=4),ht===null||!(bs&268435455)&&!(mf&268435455)||li(ht,vt)}function od(e,t){var r=ye;ye|=2;var n=ik();(ht!==e||vt!==t)&&(xn=null,cs(e,t));do try{gD();break}catch(i){nk(e,i)}while(!0);if(Vg(),ye=r,id.current=n,Qe!==null)throw Error(J(261));return ht=null,vt=0,rt}function gD(){for(;Qe!==null;)sk(Qe)}function yD(){for(;Qe!==null&&!UM();)sk(Qe)}function sk(e){var t=lk(e.alternate,e,ir);e.memoizedProps=e.pendingProps,t===null?ak(e):Qe=t,ny.current=null}function ak(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=uD(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Qe=null;return}}else if(r=cD(r,t,ir),r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);rt===0&&(rt=5)}function Hi(e,t,r){var n=_e,i=kr.transition;try{kr.transition=null,_e=1,vD(e,t,r,n)}finally{kr.transition=i,_e=n}return null}function vD(e,t,r,n){do xa();while(fi!==null);if(ye&6)throw Error(J(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(J(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(QM(e,s),e===ht&&(Qe=ht=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yc||(Yc=!0,ck(Uu,function(){return xa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=kr.transition,kr.transition=null;var a=_e;_e=1;var l=ye;ye|=4,ny.current=null,fD(e,r),ek(r,e),I5(Pp),Vu=!!Sp,Pp=Sp=null,e.current=r,hD(r),WM(),ye=l,_e=a,kr.transition=s}else e.current=r;if(Yc&&(Yc=!1,fi=e,ad=i),s=e.pendingLanes,s===0&&(xi=null),HM(r.stateNode),Qt(e,Ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sd)throw sd=!1,e=Hp,Hp=null,e;return ad&1&&e.tag!==0&&xa(),s=e.pendingLanes,s&1?e===qp?ll++:(ll=0,qp=e):ll=0,Ci(),null}function xa(){if(fi!==null){var e=FS(ad),t=kr.transition,r=_e;try{if(kr.transition=null,_e=16>e?16:e,fi===null)var n=!1;else{if(e=fi,fi=null,ad=0,ye&6)throw Error(J(331));var i=ye;for(ye|=4,re=e.current;re!==null;){var s=re,a=s.child;if(re.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:al(8,d,s)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var h=d.sibling,m=d.return;if(JP(d),d===u){re=null;break}if(h!==null){h.return=m,re=h;break}re=m}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}re=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,re=a;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:al(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,re=p;break e}re=s.return}}var v=e.current;for(re=v;re!==null;){a=re;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,re=b;else e:for(a=v;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hf(9,l)}}catch(j){Ke(l,l.return,j)}if(l===a){re=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,re=_;break e}re=l.return}}if(ye=i,Ci(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(sf,e)}catch{}n=!0}return n}finally{_e=r,kr.transition=t}}return!1}function hw(e,t,r){t=Ca(r,t),t=FP(e,t,1),e=vi(e,t,1),t=$t(),e!==null&&(rc(e,1,t),Qt(e,t))}function Ke(e,t,r){if(e.tag===3)hw(e,e,r);else for(;t!==null;){if(t.tag===3){hw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xi===null||!xi.has(n))){e=Ca(r,e),e=zP(t,e,1),t=vi(t,e,1),e=$t(),t!==null&&(rc(t,1,e),Qt(t,e));break}}t=t.return}}function xD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=$t(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(vt&r)===r&&(rt===4||rt===3&&(vt&130023424)===vt&&500>Ye()-sy?cs(e,0):iy|=r),Qt(e,t)}function ok(e,t){t===0&&(e.mode&1?(t=Bc,Bc<<=1,!(Bc&130023424)&&(Bc=4194304)):t=1);var r=$t();e=Dn(e,t),e!==null&&(rc(e,t,r),Qt(e,r))}function bD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ok(e,r)}function wD(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(t),ok(e,r)}var lk;lk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)qt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return qt=!1,lD(e,t,r);qt=!!(e.flags&131072)}else qt=!1,Re&&t.flags&1048576&&fP(t,Ju,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Au(e,t),e=t.pendingProps;var i=ka(t,Et.current);va(t,r),i=Qg(null,t,n,e,i,r);var s=Zg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Jt(n)?(s=!0,Yu(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qg(t),i.updater=ff,t.stateNode=i,i._reactInternals=t,Rp(t,n,e,r),t=Ip(null,t,n,!0,s,r)):(t.tag=0,Re&&s&&Fg(t),Tt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Au(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=_D(n),e=Fr(n,e),i){case 0:t=Lp(null,t,n,e,r);break e;case 1:t=nw(null,t,n,e,r);break e;case 11:t=tw(null,t,n,e,r);break e;case 14:t=rw(null,t,n,Fr(n.type,e),r);break e}throw Error(J(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fr(n,i),Lp(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fr(n,i),nw(e,t,n,i,r);case 3:e:{if(KP(t),e===null)throw Error(J(387));n=t.pendingProps,s=t.memoizedState,i=s.element,vP(e,t),ed(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ca(Error(J(423)),t),t=iw(e,t,n,r,i);break e}else if(n!==i){i=Ca(Error(J(424)),t),t=iw(e,t,n,r,i);break e}else for(ar=yi(t.stateNode.containerInfo.firstChild),or=t,Re=!0,Wr=null,r=gP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Aa(),n===i){t=Rn(e,t,r);break e}Tt(e,t,n,r)}t=t.child}return t;case 5:return xP(t),e===null&&Tp(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,kp(n,i)?a=null:s!==null&&kp(n,s)&&(t.flags|=32),VP(e,t),Tt(e,t,a,r),t.child;case 6:return e===null&&Tp(t),null;case 13:return HP(e,t,r);case 4:return Gg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ea(t,null,n,r):Tt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fr(n,i),tw(e,t,n,i,r);case 7:return Tt(e,t,t.pendingProps,r),t.child;case 8:return Tt(e,t,t.pendingProps.children,r),t.child;case 12:return Tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Oe(Qu,n._currentValue),n._currentValue=a,s!==null)if(Yr(s.value,a)){if(s.children===i.children&&!Xt.current){t=Rn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=An(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Mp(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(J(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Mp(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Tt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,va(t,r),i=Er(i),n=n(i),t.flags|=1,Tt(e,t,n,r),t.child;case 14:return n=t.type,i=Fr(n,t.pendingProps),i=Fr(n.type,i),rw(e,t,n,i,r);case 15:return UP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Fr(n,i),Au(e,t),t.tag=1,Jt(n)?(e=!0,Yu(t)):e=!1,va(t,r),BP(t,n,i),Rp(t,n,i,r),Ip(null,t,n,!0,e,r);case 19:return qP(e,t,r);case 22:return WP(e,t,r)}throw Error(J(156,t.tag))};function ck(e,t){return $S(e,t)}function jD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new jD(e,t,r,n)}function cy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _D(e){if(typeof e=="function")return cy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ag)return 11;if(e===Eg)return 14}return 2}function wi(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Cu(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")cy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case qs:return us(r.children,i,s,t);case kg:a=8,i|=8;break;case sp:return e=Sr(12,r,t,i|2),e.elementType=sp,e.lanes=s,e;case ap:return e=Sr(13,r,t,i),e.elementType=ap,e.lanes=s,e;case op:return e=Sr(19,r,t,i),e.elementType=op,e.lanes=s,e;case xS:return pf(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case yS:a=10;break e;case vS:a=9;break e;case Ag:a=11;break e;case Eg:a=14;break e;case ii:a=16,n=null;break e}throw Error(J(130,e==null?e:typeof e,""))}return t=Sr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function us(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function pf(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=xS,e.lanes=r,e.stateNode={isHidden:!1},e}function am(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function om(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ND(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function uy(e,t,r,n,i,s,a,l,c){return e=new ND(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Sr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qg(s),e}function SD(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Hs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function uk(e){if(!e)return Si;e=e._reactInternals;e:{if(ks(e)!==e||e.tag!==1)throw Error(J(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Jt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(J(171))}if(e.tag===1){var r=e.type;if(Jt(r))return uP(e,r,t)}return t}function dk(e,t,r,n,i,s,a,l,c){return e=uy(r,n,!0,e,i,s,a,l,c),e.context=uk(null),r=e.current,n=$t(),i=bi(r),s=An(n,i),s.callback=t??null,vi(r,s,i),e.current.lanes=i,rc(e,i,n),Qt(e,n),e}function gf(e,t,r,n){var i=t.current,s=$t(),a=bi(i);return r=uk(r),t.context===null?t.context=r:t.pendingContext=r,t=An(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=vi(i,t,a),e!==null&&(Gr(e,i,a,s),Su(e,i,a)),a}function ld(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function mw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function dy(e,t){mw(e,t),(e=e.alternate)&&mw(e,t)}function PD(){return null}var fk=typeof reportError=="function"?reportError:function(e){console.error(e)};function fy(e){this._internalRoot=e}yf.prototype.render=fy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(J(409));gf(e,t,null,null)};yf.prototype.unmount=fy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ws(function(){gf(null,e,null,null)}),t[Mn]=null}};function yf(e){this._internalRoot=e}yf.prototype.unstable_scheduleHydration=function(e){if(e){var t=WS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<oi.length&&t!==0&&t<oi[r].priority;r++);oi.splice(r,0,e),r===0&&KS(e)}};function hy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pw(){}function kD(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=ld(a);s.call(u)}}var a=dk(t,n,e,0,null,!1,!1,"",pw);return e._reactRootContainer=a,e[Mn]=a.current,Al(e.nodeType===8?e.parentNode:e),ws(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=ld(c);l.call(u)}}var c=uy(e,0,!1,null,null,!1,!1,"",pw);return e._reactRootContainer=c,e[Mn]=c.current,Al(e.nodeType===8?e.parentNode:e),ws(function(){gf(t,c,r,n)}),c}function xf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=ld(a);l.call(c)}}gf(t,a,e,i)}else a=kD(r,t,e,i,n);return ld(a)}zS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=qo(t.pendingLanes);r!==0&&(Tg(t,r|1),Qt(t,Ye()),!(ye&6)&&(Ta=Ye()+500,Ci()))}break;case 13:ws(function(){var n=Dn(e,1);if(n!==null){var i=$t();Gr(n,e,1,i)}}),dy(e,1)}};Mg=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var r=$t();Gr(t,e,134217728,r)}dy(e,134217728)}};US=function(e){if(e.tag===13){var t=bi(e),r=Dn(e,t);if(r!==null){var n=$t();Gr(r,e,t,n)}dy(e,t)}};WS=function(){return _e};VS=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};yp=function(e,t,r){switch(t){case"input":if(up(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=cf(n);if(!i)throw Error(J(90));wS(n),up(n,i)}}}break;case"textarea":_S(e,r);break;case"select":t=r.value,t!=null&&ma(e,!!r.multiple,t,!1)}};OS=ay;CS=ws;var AD={usingClientEntryPoint:!1,Events:[ic,Js,cf,AS,ES,ay]},Mo={findFiberByHostInstance:Zi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ED={bundleType:Mo.bundleType,version:Mo.version,rendererPackageName:Mo.rendererPackageName,rendererConfig:Mo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=DS(e),e===null?null:e.stateNode},findFiberByHostInstance:Mo.findFiberByHostInstance||PD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{sf=Xc.inject(ED),an=Xc}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AD;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hy(t))throw Error(J(200));return SD(e,t,null,r)};mr.createRoot=function(e,t){if(!hy(e))throw Error(J(299));var r=!1,n="",i=fk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=uy(e,1,!1,null,null,r,!1,n,i),e[Mn]=t.current,Al(e.nodeType===8?e.parentNode:e),new fy(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(J(188)):(e=Object.keys(e).join(","),Error(J(268,e)));return e=DS(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return ws(e)};mr.hydrate=function(e,t,r){if(!vf(t))throw Error(J(200));return xf(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!hy(e))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=fk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=dk(t,null,e,1,r??null,i,!1,s,a),e[Mn]=t.current,Al(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new yf(t)};mr.render=function(e,t,r){if(!vf(t))throw Error(J(200));return xf(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!vf(e))throw Error(J(40));return e._reactRootContainer?(ws(function(){xf(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1};mr.unstable_batchedUpdates=ay;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!vf(r))throw Error(J(200));if(e==null||e._reactInternals===void 0)throw Error(J(38));return xf(e,t,r,!1,n)};mr.version="18.3.1-next-f1338f8080-20240426";function hk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hk)}catch(e){console.error(e)}}hk(),hS.exports=mr;var mk=hS.exports,pk,gw=mk;pk=gw.createRoot,gw.hydrateRoot;const OD="modulepreload",CD=function(e){return"/"+e},yw={},ac=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=CD(c),c in yw)return;yw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":OD,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},TD=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ac(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class my extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class MD extends my{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vw extends my{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class xw extends my{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xp||(Xp={}));var DD=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class RD{constructor(t,{headers:r={},customFetch:n,region:i=Xp.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=TD(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return DD(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new MD(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new vw(f);if(!f.ok)throw new xw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return m==="application/json"?g=yield f.json():m==="application/octet-stream"?g=yield f.blob():m==="text/event-stream"?g=f:m==="multipart/form-data"?g=yield f.formData():g=yield f.text(),{data:g,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof xw||i instanceof vw?i.context:void 0}}})}}var Kt={},py={},bf={},oc={},wf={},jf={},$D=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ma=$D();const LD=Ma.fetch,gk=Ma.fetch.bind(Ma),yk=Ma.Headers,ID=Ma.Request,BD=Ma.Response,ro=Object.freeze(Object.defineProperty({__proto__:null,Headers:yk,Request:ID,Response:BD,default:gk,fetch:LD},Symbol.toStringTag,{value:"Module"})),FD=nM(ro);var _f={};Object.defineProperty(_f,"__esModule",{value:!0});let zD=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};_f.default=zD;var vk=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jf,"__esModule",{value:!0});const UD=vk(FD),WD=vk(_f);let VD=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=UD.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const p=await s.text();p===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=p:d=JSON.parse(p))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await s.text();try{u=JSON.parse(x),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&x===""?(h=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new WD.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};jf.default=VD;var KD=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wf,"__esModule",{value:!0});const HD=KD(jf);let qD=class extends HD.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};wf.default=qD;var GD=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oc,"__esModule",{value:!0});const YD=GD(wf);let XD=class extends YD.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};oc.default=XD;var JD=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bf,"__esModule",{value:!0});const Do=JD(oc);let QD=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Do.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Do.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Do.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Do.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Do.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};bf.default=QD;var Nf={},Sf={};Object.defineProperty(Sf,"__esModule",{value:!0});Sf.version=void 0;Sf.version="0.0.0-automated";Object.defineProperty(Nf,"__esModule",{value:!0});Nf.DEFAULT_HEADERS=void 0;const ZD=Sf;Nf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZD.version}`};var xk=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(py,"__esModule",{value:!0});const e3=xk(bf),t3=xk(oc),r3=Nf;let n3=class bk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},r3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new e3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new bk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new t3.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};py.default=n3;var no=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.PostgrestError=Kt.PostgrestBuilder=Kt.PostgrestTransformBuilder=Kt.PostgrestFilterBuilder=Kt.PostgrestQueryBuilder=Kt.PostgrestClient=void 0;const wk=no(py);Kt.PostgrestClient=wk.default;const jk=no(bf);Kt.PostgrestQueryBuilder=jk.default;const _k=no(oc);Kt.PostgrestFilterBuilder=_k.default;const Nk=no(wf);Kt.PostgrestTransformBuilder=Nk.default;const Sk=no(jf);Kt.PostgrestBuilder=Sk.default;const Pk=no(_f);Kt.PostgrestError=Pk.default;var i3=Kt.default={PostgrestClient:wk.default,PostgrestQueryBuilder:jk.default,PostgrestFilterBuilder:_k.default,PostgrestTransformBuilder:Nk.default,PostgrestBuilder:Sk.default,PostgrestError:Pk.default};const{PostgrestClient:s3,PostgrestQueryBuilder:Ete,PostgrestFilterBuilder:Ote,PostgrestTransformBuilder:Cte,PostgrestBuilder:Tte,PostgrestError:Mte}=i3;function a3(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const o3=a3(),l3="2.11.15",c3=`realtime-js/${l3}`,u3="1.0.0",kk=1e4,d3=1e3;var cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(cl||(cl={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var Ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ur||(Ur={}));var Jp;(function(e){e.websocket="websocket"})(Jp||(Jp={}));var Qi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qi||(Qi={}));class f3{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class Ak{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const bw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=h3(a,e,t,i),s),{})},h3=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?Ek(s,a):Qp(a)},Ek=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return y3(t,r)}switch(e){case Ae.bool:return m3(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return p3(t);case Ae.json:case Ae.jsonb:return g3(t);case Ae.timestamp:return v3(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return Qp(t);default:return Qp(t)}},Qp=e=>e,m3=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},p3=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},g3=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},y3=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>Ek(t,l))}return e},v3=e=>typeof e=="string"?e.replace(" ","T"):e,Ok=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lm{constructor(t,r,n={},i=kk){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ww;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ww||(ww={}));class ul{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ul.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=ul.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=ul.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),g=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);g.length>0&&(l[u]=g),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var jw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(jw||(jw={}));var _w;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_w||(_w={}));var bn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(bn||(bn={}));class gy{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lm(this,Ur.join,this.params,this.timeout),this.rejoinTimer=new Ak(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ur.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new ul(this),this.broadcastEndpointURL=Ok(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(bn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(bn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(bn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,g=[];for(let x=0;x<m;x++){const w=h[x],{filter:{event:p,schema:v,table:b,filter:_}}=w,j=d&&d[x];if(j&&j.event===p&&j.schema===v&&j.table===b&&j.filter===_)g.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=jt.errored,t==null||t(bn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(bn.SUBSCRIBED);return}}).receive("error",d=>{this.state=jt.errored,t==null||t(bn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(bn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ur.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new lm(this,Ur.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new lm(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ur;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var g,x,w;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var g,x,w,p,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(v=(p=m==null?void 0:m.filter)===null||p===void 0?void 0:p.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:x,table:w,commit_timestamp:p,type:v,errors:b}=g;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&gy.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ur.close,{},t)}_onError(t){this._on(Ur.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=bw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=bw(t.columns,t.old_record)),r}}const Nw=()=>{},x3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class b3{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Nw,this.ref=0,this.logger=Nw,this.conn=null,this.sendBuffer=[],this.serializer=new f3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>ac(async()=>{const{default:c}=await Promise.resolve().then(()=>ro);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Jp.websocket}`,this.httpEndpoint=Ok(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ak(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=o3),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:u3}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case cl.connecting:return Qi.Connecting;case cl.open:return Qi.Open;case cl.closing:return Qi.Closing;default:return Qi.Closed}}isConnected(){return this.connectionState()===Qi.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new gy(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:c3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ur.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(d3,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ur.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([x3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class yy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class w3 extends yy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zp extends yy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var j3=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ck=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ac(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},_3=()=>j3(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ac(()=>Promise.resolve().then(()=>ro),void 0)).Response:Response}),e0=e=>{if(Array.isArray(e))return e.map(r=>e0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=e0(n)}),t},N3=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var As=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),S3=(e,t,r)=>As(void 0,void 0,void 0,function*(){const n=yield _3();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new w3(cm(i),s,a))}).catch(i=>{t(new Zp(cm(i),i))}):t(new Zp(cm(e),e))}),P3=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(N3(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function lc(e,t,r,n,i,s){return As(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,P3(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>S3(c,l,n))})})}function cd(e,t,r,n){return As(this,void 0,void 0,function*(){return lc(e,"GET",t,r,n)})}function wn(e,t,r,n,i){return As(this,void 0,void 0,function*(){return lc(e,"POST",t,n,i,r)})}function t0(e,t,r,n,i){return As(this,void 0,void 0,function*(){return lc(e,"PUT",t,n,i,r)})}function k3(e,t,r,n){return As(this,void 0,void 0,function*(){return lc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Tk(e,t,r,n,i){return As(this,void 0,void 0,function*(){return lc(e,"DELETE",t,n,i,r)})}var zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const A3={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class E3{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ck(i)}uploadOrUpdate(t,r,n,i){return zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Sw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?t0:wn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Sw.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield t0(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield wn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new yy("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield wn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield wn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return zt(this,void 0,void 0,function*(){try{const i=yield wn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}download(t,r){return zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield cd(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}info(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield cd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:e0(n),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}exists(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield k3(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(lt(n)&&n instanceof Zp){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return zt(this,void 0,void 0,function*(){try{return{data:yield Tk(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},A3),r),{prefix:t||""});return{data:yield wn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const O3="2.10.4",C3={"X-Client-Info":`storage-js/${O3}`};var $s=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class T3{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},C3),r),this.fetch=Ck(n)}listBuckets(){return $s(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield cd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return $s(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return $s(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield wn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return $s(this,void 0,void 0,function*(){try{return{data:yield Tk(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}}class M3 extends T3{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new E3(this.url,this.headers,t,this.fetch)}}const D3="2.53.0";let Yo="";typeof Deno<"u"?Yo="deno":typeof document<"u"?Yo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yo="react-native":Yo="node";const R3={"X-Client-Info":`supabase-js-${Yo}/${D3}`},$3={headers:R3},L3={schema:"public"},I3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},B3={};var F3=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const z3=e=>{let t;return e?t=e:typeof fetch>"u"?t=gk:t=fetch,(...r)=>t(...r)},U3=()=>typeof Headers>"u"?yk:Headers,W3=(e,t,r)=>{const n=z3(r),i=U3();return(s,a)=>F3(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var V3=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function K3(e){return e.endsWith("/")?e:e+"/"}function H3(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>V3(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Mk="2.71.1",Vs=30*1e3,r0=3,um=r0*Vs,q3="http://localhost:9999",G3="supabase.auth.token",Y3={"X-Client-Info":`gotrue-js/${Mk}`},n0="X-Supabase-Api-Version",Dk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},X3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,J3=10*60*1e3;class vy extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Q3 extends vy{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Z3(e){return ue(e)&&e.name==="AuthApiError"}class Rk extends vy{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ti extends vy{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class ti extends Ti{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function eR(e){return ue(e)&&e.name==="AuthSessionMissingError"}class Jc extends Ti{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Qc extends Ti{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zc extends Ti{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function tR(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Pw extends Ti{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class i0 extends Ti{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dm(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class kw extends Ti{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class s0 extends Ti{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Aw=` 	
\r=`.split(""),rR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Aw.length;t+=1)e[Aw[t].charCodeAt(0)]=-2;for(let t=0;t<ud.length;t+=1)e[ud[t].charCodeAt(0)]=t;return e})();function Ew(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ud[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ud[n]),t.queuedBits-=6}}function $k(e,t,r){const n=rR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ow(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{sR(a,n,r)};for(let a=0;a<e.length;a+=1)$k(e.charCodeAt(a),i,s);return t.join("")}function nR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function iR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}nR(n,t)}}function sR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function aR(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)$k(e.charCodeAt(i),r,n);return new Uint8Array(t)}function oR(e){const t=[];return iR(e,r=>t.push(r)),new Uint8Array(t)}function lR(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Ew(i,r,n)),Ew(null,r,n),t.join("")}function cR(e){return Math.round(Date.now()/1e3)+e}function uR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",Ui={tested:!1,writable:!1},Lk=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ui.tested)return Ui.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ui.tested=!0,Ui.writable=!0}catch{Ui.tested=!0,Ui.writable=!1}return Ui.writable};function dR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Ik=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ac(async()=>{const{default:n}=await Promise.resolve().then(()=>ro);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ks=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Wi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qn=async(e,t)=>{await e.removeItem(t)};class Pf{constructor(){this.promise=new Pf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Pf.promiseConstructor=Promise;function fm(e){const t=e.split(".");if(t.length!==3)throw new s0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!X3.test(t[n]))throw new s0("JWT not in base64url format");return{header:JSON.parse(Ow(t[0])),payload:JSON.parse(Ow(t[1])),signature:aR(t[2]),raw:{header:t[0],payload:t[1]}}}async function hR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function mR(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function pR(e){return("0"+e.toString(16)).substr(-2)}function gR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,pR).join("")}async function yR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function vR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await yR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ls(e,t,r=!1){const n=gR();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Ks(e,`${t}-code-verifier`,i);const s=await vR(n);return[s,n===s?"plain":"s256"]}const xR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bR(e){const t=e.headers.get(n0);if(!t||!t.match(xR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function wR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function jR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _R=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(e){if(!_R.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cw(e){return JSON.parse(JSON.stringify(e))}var NR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const qi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),SR=[502,503,504];async function Tw(e){var t;if(!fR(e))throw new i0(qi(e),0);if(SR.includes(e.status))throw new i0(qi(e),e.status);let r;try{r=await e.json()}catch(s){throw new Rk(qi(s),s)}let n;const i=bR(e);if(i&&i.getTime()>=Dk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new kw(qi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ti}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new kw(qi(r),e.status,r.weak_password.reasons);throw new Q3(qi(r),e.status||500,n)}const PR=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function fe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[n0]||(s[n0]=Dk["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await kR(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function kR(e,t,r,n,i,s){const a=PR(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new i0(qi(c),0)}if(l.ok||await Tw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Tw(c)}}function vn(e){var t;let r=null;CR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=cR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Mw(e){const t=vn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ci(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function AR(e){return{data:e,error:null}}function ER(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=NR(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function OR(e){return e}function CR(e){return e.access_token&&e.refresh_token&&e.expires_in}const mm=["global","local","others"];var TR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class MR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Ik(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=mm[0]){if(mm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mm.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ci})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=TR(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:ER,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ci})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:OR});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(g=>{const x=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(g.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Is(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ci})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Is(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ci})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Is(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ci})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Is(t.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Is(t.userId),Is(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Dw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function DR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Bs={debug:!!(globalThis&&Lk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Bk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RR extends Bk{}async function $R(e,t,r){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Bs.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Bs.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}DR();const LR={url:q3,storageKey:G3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Y3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rw(e,t,r){return await r()}const Fs={};class Ll{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ll.nextInstanceID,Ll.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},LR),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new MR({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Ik(i.fetch),this.lock=i.lock||Rw,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=$R:this.lock=Rw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Lk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Dw(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Fs[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Fs[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fs[this.storageKey]=Object.assign(Object.assign({},Fs[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Mk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=dR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ir()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),tR(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new Rk("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:vn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Ls(this.storage,this.storageKey)),s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:vn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vn})}else throw new Qc("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mw})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mw})}else throw new Qc("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Jc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let g,x;if("message"in t)g=t.message,x=t.signature;else{const{chain:w,wallet:p,statement:v,options:b}=t;let _;if(Ir())if(typeof p=="object")_=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)g=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),x=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b==null?void 0:b.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:p}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:lR(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:vn});if(p)throw p;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Jc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:p})}catch(w){if(ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:vn});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new Jc}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(ue(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:vn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Jc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ls(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Qc("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:vn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await Ls(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:AR})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ti;const{error:i}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Qc("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<um:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Wi(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=hm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ci}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ti}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ci})})}catch(r){if(ue(r))return eR(r)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new ti;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ls(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:ci});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ti;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=fm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ti;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ir())throw new Zc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Pw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zc("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Pw("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new Zc("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=Vs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const p={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:p,redirectType:t.type},error:null}}catch(n){if(ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Z3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=uR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Ls(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(ue(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ue(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mR(async i=>(i>0&&await hR(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:vn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&dm(s)&&Date.now()+a-n<Vs})}catch(n){if(this._debug(r,"error",n),ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ir()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Wi(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Wi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Ks(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:hm()}else if(i&&!i.user&&!i.user){const a=await Wi(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Qn(this.storage,this.storageKey+"-user"),await Ks(this.storage,this.storageKey,i)):i.user=hm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<um;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${um}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),dm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Pf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new ti;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),ue(s)){const a={session:null,error:s};return dm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ks(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Cw(i);await Ks(this.storage,this.storageKey,s)}else{const i=Cw(r);await Ks(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Vs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Vs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Vs}ms, refresh threshold is ${r0} ticks`),i<=r0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Bk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Ls(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=fm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+J3>i)return n;const{data:s,error:a}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=fm(n);r!=null&&r.allowExpired||wR(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=jR(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,oR(`${l}.${c}`)))throw new s0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}Ll.nextInstanceID=0;const IR=Ll;class BR extends IR{constructor(t){super(t)}}var FR=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zR{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=K3(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:L3,realtime:B3,auth:Object.assign(Object.assign({},I3),{storageKey:u}),global:$3},f=H3(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=W3(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new s3(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new M3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new RD(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return FR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BR({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new b3(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UR=(e,t,r)=>new zR(e,t,r);function WR(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}WR()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const VR="https://eymxpphofhhfeuvaqfad.supabase.co",KR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",Q=UR(VR,KR),Fk=y.createContext(void 0);function HR({children:e}){const[t,r]=y.useState(null),[n,i]=y.useState(!1);y.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await Q.auth.getSession();if(u!=null&&u.user){const{data:d}=await Q.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await Q.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:g}=await Q.auth.signInWithPassword({email:h.email,password:u});return g?(console.error("❌ SUPABASE AUTH ERROR:",g.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,g,x;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await Q.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:p,error:v}=await Q.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error("❌ SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=p.user)==null?void 0:h.id,email:(m=p.user)==null?void 0:m.email,email_confirmed:(g=p.user)==null?void 0:g.email_confirmed_at,user_metadata:(x=p.user)==null?void 0:x.user_metadata}),p.user){const{error:b}=await Q.from("profiles").insert({id:p.user.id,username:c,email:u,role:f});b?console.error("❌ PROFILE CREATION ERROR:",b.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await Q.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),setTimeout(()=>window.location.reload(),500)}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),setTimeout(()=>window.location.reload(),500)}};return o.jsx(Fk.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function er(){const e=y.useContext(Fk);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const zk=y.createContext(void 0);function qR({children:e}){const[t,r]=y.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(zk.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Es(){const e=y.useContext(zk);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var GR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ce=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...GR,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${YR(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=ce("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=ce("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=ce("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ce("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=ce("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=ce("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=ce("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=ce("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=ce("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=ce("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=ce("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=ce("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ce("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=ce("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=ce("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=ce("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=ce("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ce("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=ce("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=ce("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=ce("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=ce("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=ce("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=ce("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=ce("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=ce("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ce("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=ce("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ce("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ce("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=ce("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=ce("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=ce("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ce("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=ce("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=ce("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=ce("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=ce("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ce("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=ce("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=ce("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=ce("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=ce("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=ce("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ce("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const by=ce("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function d$({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=y.useState(""),[i,s]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[g,x]=y.useState(""),[w,p]=y.useState(!1),[v,b]=y.useState(!1),{signup:_}=er(),j=async N=>{if(N.preventDefault(),p(!0),x(""),b(!1),a!==c){x("Passwords do not match."),p(!1);return}if(a.length<6){x("Password must be at least 6 characters long."),p(!1);return}if(r.trim().length<3){x("Username must be at least 3 characters long."),p(!1);return}if(!i.trim()||!i.includes("@")){x("Please enter a valid email address."),p(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){x("Username can only contain letters, numbers, hyphens, and underscores."),p(!1);return}await _(r.trim(),i.trim(),a,"user")?b(!0):x("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),p(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(16,185,129,0.5)]",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Account Created!"}),o.jsx("p",{className:"text-slate-400 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium px-6 py-3 rounded-lg hover:from-green-400 hover:to-emerald-500 transition-all duration-200 shadow-[0_0_20px_rgba(16,185,129,0.3)]",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-800 rounded-full transition-colors mr-3 text-cyan-400 hover:text-white",children:o.jsx(xy,{size:20})}),o.jsx("div",{children:o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Account"})})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:N=>n(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:N=>s(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:N=>l(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 pr-10 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-cyan-400 transition-colors",children:d?o.jsx(fd,{size:20}):o.jsx(cn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:N=>u(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 pr-10 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-cyan-400 transition-colors",children:h?o.jsx(fd,{size:20}):o.jsx(cn,{size:20})})]})]}),g&&o.jsx("div",{className:"text-red-400 text-sm bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:g}),o.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium px-6 py-3 rounded-lg hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 disabled:opacity-50 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-slate-500",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"w-full bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 hover:text-white font-medium px-6 py-3 rounded-lg transition-all duration-200",children:"Back to Login"})})]})}function Gk({onLoginSuccess:e}){const[t,r]=y.useState(""),[n,i]=y.useState(""),[s,a]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState("login"),[m,g]=y.useState(!1),[x,w]=y.useState(""),[p,v]=y.useState(!1),[b,_]=y.useState(""),{login:j}=er(),N=async S=>{S.preventDefault(),d(!0),c(""),await j(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async S=>{S.preventDefault(),v(!0),_("");try{const{error:A}=await Q.auth.resetPasswordForEmail(x,{redirectTo:"https://obcportal.netlify.app/reset-password"});if(A)throw A;_("Password reset email sent! Check your inbox for further instructions.")}catch(A){_(`Error: ${A.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(d$,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>g(!1),className:"p-2 hover:bg-slate-800 rounded-full transition-colors mr-3 text-cyan-400 hover:text-white",children:o.jsx(xy,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),o.jsx("p",{className:"text-slate-400",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:x,onChange:S=>w(S.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your email address"})]}),b&&o.jsx("div",{className:`text-sm text-center p-3 rounded-md border ${b.includes("Error")?"text-red-400 bg-red-500/10 border-red-500/30":"text-green-400 bg-green-500/10 border-green-500/30"}`,children:b}),o.jsx("button",{type:"submit",disabled:p,className:"w-full bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium px-6 py-3 rounded-lg hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 disabled:opacity-50 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:p?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>g(!1),className:"w-full bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 hover:text-white font-medium px-6 py-3 rounded-lg transition-all duration-200",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(0,200,255,0.5)]",children:o.jsx("span",{className:"text-white text-2xl font-bold",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"OBC Portal"}),o.jsx("p",{className:"text-slate-400 mt-2",children:"Ormoc Beyblade Club"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:S=>r(S.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:S=>i(S.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 pr-10 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your password"}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-cyan-400 transition-colors",children:s?o.jsx(fd,{size:20}):o.jsx(cn,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-400 text-sm bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium px-6 py-3 rounded-lg hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 disabled:opacity-50 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:u?"Accessing...":"Access Portal"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-700"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-slate-950 text-slate-500",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"w-full bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 hover:text-white font-medium px-6 py-3 rounded-lg transition-all duration-200",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-slate-500",children:"Create an account to participate in tournaments and access all features."})})]})}const f$=[{id:"dashboard",label:"Dashboard",icon:o.jsx(r$,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(kt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"leaderboards",label:"Leaderboards",icon:o.jsx(dd,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(ln,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(En,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(Xo,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(nt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(nt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(a$,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(nt,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(En,{size:20}),roles:["developer"]}];function h$({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=er(),[a,l]=hi.useState(!1),c=f$.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return y.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>300&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),y.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-slate-950 border-r border-cyan-500/30 w-64 shadow-[0_0_30px_rgba(0,200,255,0.2)]`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950 border-b border-slate-800",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:"/favicon.png",alt:"OBC Logo",className:"w-8 h-8 object-contain"}),e&&o.jsx("h1",{className:"text-lg font-bold text-white",children:"OBC Portal"})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-cyan-500/20 rounded transition-colors text-cyan-400 hover:text-white",children:o.jsx(It,{size:20})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-8",children:[o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Overview"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["dashboard","tournaments","analytics"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]}),o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Database"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["parts-database","inventory"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.6)]":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]}),o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Management"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["team-manager","community-manager","tournament-manager","user-management"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.6)]":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]}),o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Developer"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["database"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.6)]":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]})]}),o.jsx("div",{className:"px-4 py-4 bg-slate-950 border-t border-slate-800",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"w-full flex items-center px-3 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all duration-200",children:[o.jsx(Vk,{size:20}),e&&o.jsx("span",{className:"ml-3 font-medium",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center px-3 py-3 text-cyan-400 hover:text-white hover:bg-cyan-500/20 transition-all duration-200",children:[o.jsx(Wk,{size:20}),e&&o.jsx("span",{className:"ml-3 font-medium",children:"Login"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60]",onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-[60]",children:o.jsxs("div",{className:"relative pointer-events-auto bg-slate-950 border border-cyan-500/30 rounded-xl shadow-[0_0_40px_rgba(0,200,255,0.3)] max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(Gk,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-slate-800 hover:bg-slate-700 border border-cyan-500/30 rounded-full flex items-center justify-center text-cyan-400 hover:text-white transition-colors",children:o.jsx(It,{size:16})})]})})]})]})}const wy=y.createContext({});function so(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const jy=typeof window<"u",Af=jy?y.useLayoutEffect:y.useEffect,Ef=y.createContext(null);function _y(e,t){e.indexOf(t)===-1&&e.push(t)}function Ny(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const mn=(e,t,r)=>r>t?t:r<e?e:r;let $a=()=>{};const Ln={},Yk=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Xk(e){return typeof e=="object"&&e!==null}const Jk=e=>/^0[^.\s]+$/u.test(e);function Sy(e){let t;return()=>(t===void 0&&(t=e()),t)}const Zt=e=>e,m$=(e,t)=>r=>t(e(r)),uc=(...e)=>e.reduce(m$),La=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Py{constructor(){this.subscriptions=[]}add(t){return _y(this.subscriptions,t),()=>Ny(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const un=e=>e*1e3,dn=e=>e/1e3;function ky(e,t){return t?e*(1e3/t):0}const Qk=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,p$=1e-7,g$=12;function y$(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=Qk(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>p$&&++l<g$);return a}function dc(e,t,r,n){if(e===t&&r===n)return Zt;const i=s=>y$(s,0,1,e,r);return s=>s===0||s===1?s:Qk(i(s),t,n)}const Zk=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,e2=e=>t=>1-e(1-t),t2=dc(.33,1.53,.69,.99),Ay=e2(t2),r2=Zk(Ay),n2=e=>(e*=2)<1?.5*Ay(e):.5*(2-Math.pow(2,-10*(e-1))),Ey=e=>1-Math.sin(Math.acos(e)),i2=e2(Ey),s2=Zk(Ey),v$=dc(.42,0,1,1),x$=dc(0,0,.58,1),a2=dc(.42,0,.58,1),b$=e=>Array.isArray(e)&&typeof e[0]!="number",o2=e=>Array.isArray(e)&&typeof e[0]=="number",Iw={linear:Zt,easeIn:v$,easeInOut:a2,easeOut:x$,circIn:Ey,circInOut:s2,circOut:i2,backIn:Ay,backInOut:r2,backOut:t2,anticipate:n2},w$=e=>typeof e=="string",Bw=e=>{if(o2(e)){$a(e.length===4);const[t,r,n,i]=e;return dc(t,r,n,i)}else if(w$(e))return $a(Iw[e]!==void 0),Iw[e];return e},eu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Fw={value:null,addProjectionMetrics:null};function j$(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const x=m&&i?r:n;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&Fw.value&&Fw.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const _$=40;function l2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=eu.reduce((b,_)=>(b[_]=j$(s,t?_:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:g}=a,x=()=>{const b=Ln.useManualTiming?i.timestamp:performance.now();r=!1,Ln.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(b-i.timestamp,_$),1)),i.timestamp=b,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,i.isProcessing||e(x)};return{schedule:eu.reduce((b,_)=>{const j=a[_];return b[_]=(N,P=!1,S=!1)=>(r||w(),j.schedule(N,P,S)),b},{}),cancel:b=>{for(let _=0;_<eu.length;_++)a[eu[_]].cancel(b)},state:i,steps:a}}const{schedule:je,cancel:Xr,state:ct,steps:pm}=l2(typeof requestAnimationFrame<"u"?requestAnimationFrame:Zt,!0);let Tu;function N$(){Tu=void 0}const Gt={now:()=>(Tu===void 0&&Gt.set(ct.isProcessing||Ln.useManualTiming?ct.timestamp:performance.now()),Tu),set:e=>{Tu=e,queueMicrotask(N$)}},c2=e=>t=>typeof t=="string"&&t.startsWith(e),Oy=c2("--"),S$=c2("var(--"),Cy=e=>S$(e)?P$.test(e.split("/*")[0].trim()):!1,P$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ao={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Il={...ao,transform:e=>mn(0,1,e)},tu={...ao,default:1},dl=e=>Math.round(e*1e5)/1e5,Ty=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k$(e){return e==null}const A$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,My=(e,t)=>r=>!!(typeof r=="string"&&A$.test(r)&&r.startsWith(e)||t&&!k$(r)&&Object.prototype.hasOwnProperty.call(r,t)),u2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(Ty);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},E$=e=>mn(0,255,e),gm={...ao,transform:e=>Math.round(E$(e))},rs={test:My("rgb","red"),parse:u2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+gm.transform(e)+", "+gm.transform(t)+", "+gm.transform(r)+", "+dl(Il.transform(n))+")"};function O$(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const o0={test:My("#"),parse:O$,transform:rs.transform},fc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ri=fc("deg"),fn=fc("%"),oe=fc("px"),C$=fc("vh"),T$=fc("vw"),zw={...fn,parse:e=>fn.parse(e)/100,transform:e=>fn.transform(e*100)},ia={test:My("hsl","hue"),parse:u2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+fn.transform(dl(t))+", "+fn.transform(dl(r))+", "+dl(Il.transform(n))+")"},Je={test:e=>rs.test(e)||o0.test(e)||ia.test(e),parse:e=>rs.test(e)?rs.parse(e):ia.test(e)?ia.parse(e):o0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?rs.transform(e):ia.transform(e),getAnimatableNone:e=>{const t=Je.parse(e);return t.alpha=0,Je.transform(t)}},M$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D$(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ty))==null?void 0:t.length)||0)+(((r=e.match(M$))==null?void 0:r.length)||0)>0}const d2="number",f2="color",R$="var",$$="var(",Uw="${}",L$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Bl(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(L$,c=>(Je.test(c)?(n.color.push(s),i.push(f2),r.push(Je.parse(c))):c.startsWith($$)?(n.var.push(s),i.push(R$),r.push(c)):(n.number.push(s),i.push(d2),r.push(parseFloat(c))),++s,Uw)).split(Uw);return{values:r,split:l,indexes:n,types:i}}function h2(e){return Bl(e).values}function m2(e){const{split:t,types:r}=Bl(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===d2?s+=dl(i[a]):l===f2?s+=Je.transform(i[a]):s+=i[a]}return s}}const I$=e=>typeof e=="number"?0:Je.test(e)?Je.getAnimatableNone(e):e;function B$(e){const t=h2(e);return m2(e)(t.map(I$))}const Pi={test:D$,parse:h2,createTransformer:m2,getAnimatableNone:B$};function ym(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function F$({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=ym(c,l,e+1/3),s=ym(c,l,e),a=ym(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function md(e,t){return r=>r>0?t:e}const Ie=(e,t,r)=>e+(t-e)*r,vm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},z$=[o0,rs,ia],U$=e=>z$.find(t=>t.test(e));function Ww(e){const t=U$(e);if(!t)return!1;let r=t.parse(e);return t===ia&&(r=F$(r)),r}const Vw=(e,t)=>{const r=Ww(e),n=Ww(t);if(!r||!n)return md(e,t);const i={...r};return s=>(i.red=vm(r.red,n.red,s),i.green=vm(r.green,n.green,s),i.blue=vm(r.blue,n.blue,s),i.alpha=Ie(r.alpha,n.alpha,s),rs.transform(i))},l0=new Set(["none","hidden"]);function W$(e,t){return l0.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function V$(e,t){return r=>Ie(e,t,r)}function Dy(e){return typeof e=="number"?V$:typeof e=="string"?Cy(e)?md:Je.test(e)?Vw:q$:Array.isArray(e)?p2:typeof e=="object"?Je.test(e)?Vw:K$:md}function p2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>Dy(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function K$(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=Dy(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function H$(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const q$=(e,t)=>{const r=Pi.createTransformer(t),n=Bl(e),i=Bl(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?l0.has(e)&&!i.values.length||l0.has(t)&&!n.values.length?W$(e,t):uc(p2(H$(n,i),i.values),r):md(e,t)};function g2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ie(e,t,r):Dy(e)(e,t)}const G$=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>je.update(t,r),stop:()=>Xr(t),now:()=>ct.isProcessing?ct.timestamp:Gt.now()}},y2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},pd=2e4;function Ry(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<pd;)t+=r,n=e.next(t);return t>=pd?1/0:t}function Y$(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(Ry(n),pd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:dn(i)}}const X$=5;function v2(e,t,r){const n=Math.max(t-X$,0);return ky(r-e(n),t-n)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function J$({duration:e=Ve.duration,bounce:t=Ve.bounce,velocity:r=Ve.velocity,mass:n=Ve.mass}){let i,s,a=1-t;a=mn(Ve.minDamping,Ve.maxDamping,a),e=mn(Ve.minDuration,Ve.maxDuration,dn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=c0(u,a),g=Math.exp(-f);return xm-h/m*g},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,g=Math.exp(-f),x=c0(Math.pow(u,2),a);return(-i(u)+xm>0?-1:1)*((h-m)*g)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-xm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Z$(i,s,l);if(e=un(e),isNaN(c))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const Q$=12;function Z$(e,t,r){let n=r;for(let i=1;i<Q$;i++)n=n-e(n)/t(n);return n}function c0(e,t){return e*Math.sqrt(1-t*t)}const eL=["duration","bounce"],tL=["stiffness","damping","mass"];function Kw(e,t){return t.some(r=>e[r]!==void 0)}function rL(e){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...e};if(!Kw(e,tL)&&Kw(e,eL))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*mn(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Ve.mass,stiffness:i,damping:s}}else{const r=J$(e);t={...t,...r,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function gd(e=Ve.visualDuration,t=Ve.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=rL({...r,velocity:-dn(r.velocity||0)}),g=h||0,x=u/(2*Math.sqrt(c*d)),w=a-s,p=dn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Ve.restSpeed.granular:Ve.restSpeed.default),i||(i=v?Ve.restDelta.granular:Ve.restDelta.default);let b;if(x<1){const j=c0(p,x);b=N=>{const P=Math.exp(-x*p*N);return a-P*((g+x*p*w)/j*Math.sin(j*N)+w*Math.cos(j*N))}}else if(x===1)b=j=>a-Math.exp(-p*j)*(w+(g+p*w)*j);else{const j=p*Math.sqrt(x*x-1);b=N=>{const P=Math.exp(-x*p*N),S=Math.min(j*N,300);return a-P*((g+x*p*w)*Math.sinh(S)+j*w*Math.cosh(S))/j}}const _={calculatedDuration:m&&f||null,next:j=>{const N=b(j);if(m)l.done=j>=f;else{let P=j===0?g:0;x<1&&(P=j===0?un(g):v2(b,j,N));const S=Math.abs(P)<=n,A=Math.abs(a-N)<=i;l.done=S&&A}return l.value=l.done?a:N,l},toString:()=>{const j=Math.min(Ry(_),pd),N=y2(P=>_.next(j*P).value,j,30);return j+"ms "+N},toTransition:()=>{}};return _}gd.applyToOptions=e=>{const t=Y$(e,100,gd);return e.ease=t.ease,e.duration=un(t.duration),e.type="keyframes",e};function u0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=S=>l!==void 0&&S<l||c!==void 0&&S>c,g=S=>l===void 0?c:c===void 0||Math.abs(l-S)<Math.abs(c-S)?l:c;let x=r*t;const w=f+x,p=a===void 0?w:a(w);p!==w&&(x=p-f);const v=S=>-x*Math.exp(-S/n),b=S=>p+v(S),_=S=>{const A=v(S),C=b(S);h.done=Math.abs(A)<=u,h.value=h.done?p:C};let j,N;const P=S=>{m(h.value)&&(j=S,N=gd({keyframes:[h.value,g(h.value)],velocity:v2(b,S,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:S=>{let A=!1;return!N&&j===void 0&&(A=!0,_(S),P(S)),j!==void 0&&S>=j?N.next(S-j):(!A&&_(S),h)}}}function nL(e,t,r){const n=[],i=r||Ln.mix||g2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||Zt:t;l=uc(c,l)}n.push(l)}return n}function $y(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if($a(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=nL(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=La(e[f],e[f+1],d);return l[f](h)};return r?d=>u(mn(e[0],e[s-1],d)):u}function iL(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=La(0,t,n);e.push(Ie(r,1,i))}}function x2(e){const t=[0];return iL(t,e.length-1),t}function sL(e,t){return e.map(r=>r*t)}function aL(e,t){return e.map(()=>t||a2).splice(0,e.length-1)}function fl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=b$(n)?n.map(Bw):Bw(n),s={done:!1,value:t[0]},a=sL(r&&r.length===t.length?r:x2(t),e),l=$y(a,t,{ease:Array.isArray(i)?i:aL(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const oL=e=>e!==null;function Ly(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(oL),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const lL={decay:u0,inertia:u0,tween:fl,keyframes:fl,spring:gd};function b2(e){typeof e.type=="string"&&(e.type=lL[e.type])}class Iy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const cL=e=>e/100;class By extends Iy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==Gt.now()&&this.tick(Gt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;b2(t);const{type:r=fl,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||fl;c!==fl&&typeof l[0]!="number"&&(this.mixKeyframes=uc(cL,g2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Ry(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:g,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const p=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?p<0:p>i;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let b=this.currentTime,_=n;if(f){const S=Math.min(this.currentTime,i)/l;let A=Math.floor(S),C=S%1;!C&&S>=1&&(C=1),C===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(C=1-C,m&&(C-=m/l)):h==="mirror"&&(_=a)),b=mn(0,1,C)*l}const j=v?{done:!1,value:d[0]}:_.next(b);s&&(j.value=s(j.value));let{done:N}=j;!v&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return P&&g!==u0&&(j.value=Ly(d,this.options,w,this.speed)),x&&x(j.value),P&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return dn(this.calculatedDuration)}get time(){return dn(this.currentTime)}set time(t){var r;t=un(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Gt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=dn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=G$,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function uL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ns=e=>e*180/Math.PI,d0=e=>{const t=ns(Math.atan2(e[1],e[0]));return f0(t)},dL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:d0,rotateZ:d0,skewX:e=>ns(Math.atan(e[1])),skewY:e=>ns(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},f0=e=>(e=e%360,e<0&&(e+=360),e),Hw=d0,qw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Gw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:qw,scaleY:Gw,scale:e=>(qw(e)+Gw(e))/2,rotateX:e=>f0(ns(Math.atan2(e[6],e[5]))),rotateY:e=>f0(ns(Math.atan2(-e[2],e[0]))),rotateZ:Hw,rotate:Hw,skewX:e=>ns(Math.atan(e[4])),skewY:e=>ns(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function h0(e){return e.includes("scale")?1:0}function m0(e,t){if(!e||e==="none")return h0(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=fL,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dL,i=l}if(!i)return h0(t);const s=n[t],a=i[1].split(",").map(mL);return typeof s=="function"?s(a):a[s]}const hL=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return m0(r,t)};function mL(e){return parseFloat(e.trim())}const oo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lo=new Set(oo),Yw=e=>e===ao||e===oe,pL=new Set(["x","y","z"]),gL=oo.filter(e=>!pL.has(e));function yL(e){const t=[];return gL.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const ds={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>m0(t,"x"),y:(e,{transform:t})=>m0(t,"y")};ds.translateX=ds.x;ds.translateY=ds.y;const fs=new Set;let p0=!1,g0=!1,y0=!1;function w2(){if(g0){const e=Array.from(fs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=yL(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}g0=!1,p0=!1,fs.forEach(e=>e.complete(y0)),fs.clear()}function j2(){fs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(g0=!0)})}function vL(){y0=!0,j2(),w2(),y0=!1}class Fy{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(fs.add(this),p0||(p0=!0,je.read(j2),je.resolveKeyframes(w2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}uL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),fs.delete(this)}cancel(){this.state==="scheduled"&&(fs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xL=e=>e.startsWith("--");function bL(e,t,r){xL(t)?e.style.setProperty(t,r):e.style[t]=r}const _2=Sy(()=>window.ScrollTimeline!==void 0),wL={};function jL(e,t){const r=Sy(e);return()=>wL[t]??r()}const N2=jL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Jo=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Xw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Jo([0,.65,.55,1]),circOut:Jo([.55,0,1,.45]),backIn:Jo([.31,.01,.66,-.59]),backOut:Jo([.33,1.53,.69,.99])};function S2(e,t){if(e)return typeof e=="function"?N2()?y2(e,t):"ease-out":o2(e)?Jo(e):Array.isArray(e)?e.map(r=>S2(r,t)||Xw.easeOut):Xw[e]}function _L(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=S2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function P2(e){return typeof e=="function"&&"applyToOptions"in e}function NL({type:e,...t}){return P2(e)&&N2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class SL extends Iy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,$a(typeof t.type!="string");const u=NL(t);this.animation=_L(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=Ly(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):bL(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return dn(Number(t))}get time(){return dn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=un(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&_2()?(this.animation.timeline=t,Zt):r(this)}}const k2={anticipate:n2,backInOut:r2,circInOut:s2};function PL(e){return e in k2}function kL(e){typeof e.ease=="string"&&PL(e.ease)&&(e.ease=k2[e.ease])}const Jw=10;class AL extends SL{constructor(t){kL(t),b2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new By({...a,autoplay:!1}),c=un(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Jw).value,l.sample(c).value,Jw),l.stop()}}const Qw=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Pi.test(e)||e==="0")&&!e.startsWith("url("));function EL(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function OL(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=Qw(i,t),l=Qw(s,t);return!a||!l?!1:EL(e)||(r==="spring"||P2(r))&&n}function v0(e){e.duration=0,e.type}const CL=new Set(["opacity","clipPath","filter","transform"]),TL=Sy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ML(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return TL()&&r&&CL.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const DL=40;class RL extends Iy{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var g;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Gt.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||Fy;this.keyframeResolver=new m(l,(x,w,p)=>this.onKeyframesResolved(x,w,h,!p),c,u,d),(g=this.keyframeResolver)==null||g.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Gt.now(),OL(t,s,a,l)||((Ln.instantAnimations||!c)&&(d==null||d(Ly(t,n,r))),t[0]=t[t.length-1],v0(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>DL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&ML(h)?new AL({...h,element:h.motionValue.owner.current}):new By(h);m.finished.then(()=>this.notifyFinished()).catch(Zt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),vL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const $L=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LL(e){const t=$L.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function A2(e,t,r=1){const[n,i]=LL(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return Yk(a)?parseFloat(a):a}return Cy(i)?A2(i,t,r+1):i}function zy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const E2=new Set(["width","height","top","left","right","bottom",...oo]),IL={test:e=>e==="auto",parse:e=>e},O2=e=>t=>t.test(e),C2=[ao,oe,fn,ri,T$,C$,IL],Zw=e=>C2.find(O2(e));function BL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Jk(e):!0}const FL=new Set(["brightness","contrast","saturate","opacity"]);function zL(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ty)||[];if(!n)return e;const i=r.replace(n,"");let s=FL.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const UL=/\b([a-z-]*)\(.*?\)/gu,x0={...Pi,getAnimatableNone:e=>{const t=e.match(UL);return t?t.map(zL).join(" "):e}},e1={...ao,transform:Math.round},WL={rotate:ri,rotateX:ri,rotateY:ri,rotateZ:ri,scale:tu,scaleX:tu,scaleY:tu,scaleZ:tu,skew:ri,skewX:ri,skewY:ri,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Il,originX:zw,originY:zw,originZ:oe},Uy={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...WL,zIndex:e1,fillOpacity:Il,strokeOpacity:Il,numOctaves:e1},VL={...Uy,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:x0,WebkitFilter:x0},T2=e=>VL[e];function M2(e,t){let r=T2(e);return r!==x0&&(r=Pi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const KL=new Set(["auto","none","0"]);function HL(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!KL.has(s)&&Bl(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=M2(r,i)}class qL extends Fy{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Cy(u))){const d=A2(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!E2.has(n)||t.length!==2)return;const[i,s]=t,a=Zw(i),l=Zw(s);if(a!==l)if(Yw(a)&&Yw(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else ds[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||BL(t[i]))&&n.push(i);n.length&&HL(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ds[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=ds[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function D2(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const R2=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function Wy(e){return Xk(e)&&"offsetHeight"in e}const t1=30,GL=e=>!isNaN(parseFloat(e)),hl={current:void 0};class YL{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=Gt.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Gt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Py);const n=this.events[t].add(r);return t==="change"?()=>{n(),je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return hl.current&&hl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Gt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>t1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,t1);return ky(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hr(e,t){return new YL(e,t)}const{schedule:Vy,cancel:Dte}=l2(queueMicrotask,!1),Br={x:!1,y:!1};function $2(){return Br.x||Br.y}function XL(e){return e==="x"||e==="y"?Br[e]?null:(Br[e]=!0,()=>{Br[e]=!1}):Br.x||Br.y?null:(Br.x=Br.y=!0,()=>{Br.x=Br.y=!1})}function L2(e,t){const r=D2(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function r1(e){return!(e.pointerType==="touch"||$2())}function JL(e,t,r={}){const[n,i,s]=L2(e,r),a=l=>{if(!r1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{r1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const I2=(e,t)=>t?e===t?!0:I2(e,t.parentElement):!1,Ky=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZL(e){return QL.has(e.tagName)||e.tabIndex!==-1}const Mu=new WeakSet;function n1(e){return t=>{t.key==="Enter"&&e(t)}}function bm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const e6=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=n1(()=>{if(Mu.has(r))return;bm(r,"down");const i=n1(()=>{bm(r,"up")}),s=()=>bm(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function i1(e){return Ky(e)&&!$2()}function t6(e,t,r={}){const[n,i,s]=L2(e,r),a=l=>{const c=l.currentTarget;if(!i1(l))return;Mu.add(c);const u=t(c,l),d=(m,g)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Mu.has(c)&&Mu.delete(c),i1(m)&&typeof u=="function"&&u(m,{success:g})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||I2(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),Wy(l)&&(l.addEventListener("focus",u=>e6(u,i)),!ZL(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function Hy(e){return Xk(e)&&"ownerSVGElement"in e}const Du=new WeakMap;let ni;const B2=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:Hy(n)&&"getBBox"in n?n.getBBox()[t]:n[r],r6=B2("inline","width","offsetWidth"),n6=B2("block","height","offsetHeight");function i6({target:e,borderBoxSize:t}){var r;(r=Du.get(e))==null||r.forEach(n=>{n(e,{get width(){return r6(e,t)},get height(){return n6(e,t)}})})}function s6(e){e.forEach(i6)}function a6(){typeof ResizeObserver>"u"||(ni=new ResizeObserver(s6))}function o6(e,t){ni||a6();const r=D2(e);return r.forEach(n=>{let i=Du.get(n);i||(i=new Set,Du.set(n,i)),i.add(t),ni==null||ni.observe(n)}),()=>{r.forEach(n=>{const i=Du.get(n);i==null||i.delete(t),i!=null&&i.size||ni==null||ni.unobserve(n)})}}const Ru=new Set;let sa;function l6(){sa=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Ru.forEach(t=>t(e))},window.addEventListener("resize",sa)}function c6(e){return Ru.add(e),sa||l6(),()=>{Ru.delete(e),!Ru.size&&typeof sa=="function"&&(window.removeEventListener("resize",sa),sa=void 0)}}function u6(e,t){return typeof e=="function"?c6(e):o6(e,t)}function F2(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return je.preUpdate(n,!0),()=>Xr(n)}function d6(e){return Hy(e)&&e.tagName==="svg"}function f6(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=$y(i,s,a);return t?l(n):l}const At=e=>!!(e&&e.getVelocity),h6=[...C2,Je,Pi],m6=e=>h6.find(O2(e)),Of=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class p6 extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=Wy(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g6({children:e,isPresent:t,anchorX:r,root:n}){const i=y.useId(),s=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(Of);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const g=document.createElement("style");l&&(g.nonce=l);const x=n??document.head;return x.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(g)&&x.removeChild(g)}},[t]),o.jsx(p6,{isPresent:t,childRef:s,sizeRef:a,children:y.cloneElement(e,{ref:s})})}const y6=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=so(v6),d=y.useId();let f=!0,h=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const g of u.values())if(!g)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),y.useMemo(()=>{u.forEach((m,g)=>u.set(g,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(g6,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Ef.Provider,{value:h,children:e})};function v6(){return new Map}function z2(e=!0){const t=y.useContext(Ef);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=y.useId();y.useEffect(()=>{if(e)return i(s)},[e]);const a=y.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const ru=e=>e.key||"";function s1(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const a1=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=z2(a),f=y.useMemo(()=>s1(e),[e]),h=a&&!u?[]:f.map(ru),m=y.useRef(!0),g=y.useRef(f),x=so(()=>new Map),[w,p]=y.useState(f),[v,b]=y.useState(f);Af(()=>{m.current=!1,g.current=f;for(let N=0;N<v.length;N++){const P=ru(v[N]);h.includes(P)?x.delete(P):x.get(P)!==!0&&x.set(P,!1)}},[v,h.length,h.join("-")]);const _=[];if(f!==w){let N=[...f];for(let P=0;P<v.length;P++){const S=v[P],A=ru(S);h.includes(A)||(N.splice(P,0,S),_.push(S))}return s==="wait"&&_.length&&(N=_),b(s1(N)),p(f),null}const{forceRender:j}=y.useContext(wy);return o.jsx(o.Fragment,{children:v.map(N=>{const P=ru(N),S=a&&!u?!1:f===v||h.includes(P),A=()=>{if(x.has(P))x.set(P,!0);else return;let C=!0;x.forEach(O=>{O||(C=!1)}),C&&(j==null||j(),b(g.current),a&&(d==null||d()),n&&n())};return o.jsx(y6,{isPresent:S,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:S?void 0:A,anchorX:l,children:N},P)})})},U2=y.createContext({strict:!1}),o1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ia={};for(const e in o1)Ia[e]={isEnabled:t=>o1[e].some(r=>!!t[r])};function x6(e){for(const t in e)Ia[t]={...Ia[t],...e[t]}}const b6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||b6.has(e)}let W2=e=>!yd(e);function w6(e){typeof e=="function"&&(W2=t=>t.startsWith("on")?!yd(t):e(t))}try{w6(require("@emotion/is-prop-valid").default)}catch{}function j6(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(W2(i)||r===!0&&yd(i)||!t&&!yd(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Cf=y.createContext({});function Tf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fl(e){return typeof e=="string"||Array.isArray(e)}const qy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gy=["initial",...qy];function Mf(e){return Tf(e.animate)||Gy.some(t=>Fl(e[t]))}function V2(e){return!!(Mf(e)||e.variants)}function _6(e,t){if(Mf(e)){const{initial:r,animate:n}=e;return{initial:r===!1||Fl(r)?r:void 0,animate:Fl(n)?n:void 0}}return e.inherit!==!1?t:{}}function N6(e){const{initial:t,animate:r}=_6(e,y.useContext(Cf));return y.useMemo(()=>({initial:t,animate:r}),[l1(t),l1(r)])}function l1(e){return Array.isArray(e)?e.join(" "):e}const zl={};function S6(e){for(const t in e)zl[t]=e[t],Oy(t)&&(zl[t].isCSSVariable=!0)}function K2(e,{layout:t,layoutId:r}){return lo.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!zl[e]||e==="opacity")}const P6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k6=oo.length;function A6(e,t,r){let n="",i=!0;for(let s=0;s<k6;s++){const a=oo[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=R2(l,Uy[a]);if(!c){i=!1;const d=P6[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Yy(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(lo.has(c)){a=!0;continue}else if(Oy(c)){i[c]=u;continue}else{const d=R2(u,Uy[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=A6(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const Xy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function H2(e,t,r){for(const n in t)!At(t[n])&&!K2(n,r)&&(e[n]=t[n])}function E6({transformTemplate:e},t){return y.useMemo(()=>{const r=Xy();return Yy(r,t,e),Object.assign({},r.vars,r.style)},[t])}function O6(e,t){const r=e.style||{},n={};return H2(n,r,e),Object.assign(n,E6(e,t)),n}function C6(e,t){const r={},n=O6(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const T6={offset:"stroke-dashoffset",array:"stroke-dasharray"},M6={offset:"strokeDashoffset",array:"strokeDasharray"};function D6(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?T6:M6;e[s.offset]=oe.transform(-n);const a=oe.transform(t),l=oe.transform(r);e[s.array]=`${a} ${l}`}function q2(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(Yy(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&D6(f,i,s,a,!1)}const G2=()=>({...Xy(),attrs:{}}),Y2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function R6(e,t,r,n){const i=y.useMemo(()=>{const s=G2();return q2(s,t,Y2(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};H2(s,e.style,e),i.style={...s,...i.style}}return i}const $6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Jy(e){return typeof e!="string"||e.includes("-")?!1:!!($6.indexOf(e)>-1||/[A-Z]/u.test(e))}function L6(e,t,r,{latestValues:n},i,s=!1){const l=(Jy(e)?R6:C6)(t,n,i,e),c=j6(t,typeof e=="string",s),u=e!==y.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=y.useMemo(()=>At(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function c1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function Qy(e,t,r,n){if(typeof t=="function"){const[i,s]=c1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=c1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function $u(e){return At(e)?e.get():e}function I6({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:B6(r,n,i,e),renderState:t()}}function B6(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=$u(s[h]);let{initial:a,animate:l}=e;const c=Mf(e),u=V2(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Tf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const g=Qy(e,h[m]);if(g){const{transitionEnd:x,transition:w,...p}=g;for(const v in p){let b=p[v];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(i[v]=b)}for(const v in x)i[v]=x[v]}}}return i}const X2=e=>(t,r)=>{const n=y.useContext(Cf),i=y.useContext(Ef),s=()=>I6(e,t,n,i);return r?s():so(s)};function Zy(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(At(n[a])||t.style&&At(t.style[a])||K2(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const F6=X2({scrapeMotionValuesFromProps:Zy,createRenderState:Xy});function J2(e,t,r){const n=Zy(e,t,r);for(const i in e)if(At(e[i])||At(t[i])){const s=oo.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const z6=X2({scrapeMotionValuesFromProps:J2,createRenderState:G2}),U6=Symbol.for("motionComponentSymbol");function aa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function W6(e,t,r){return y.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):aa(r)&&(r.current=n))},[t])}const ev=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V6="framerAppearId",Q2="data-"+ev(V6),Z2=y.createContext({});function K6(e,t,r,n,i){var x,w;const{visualElement:s}=y.useContext(Cf),a=y.useContext(U2),l=y.useContext(Ef),c=y.useContext(Of).reducedMotion,u=y.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=y.useContext(Z2);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&H6(u.current,r,i,f);const h=y.useRef(!1);y.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[Q2],g=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Af(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),g.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!g.current&&d.animationState&&d.animationState.animateChanges(),g.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)==null||p.call(window,m)}),g.current=!1),d.enteringChildren=void 0)}),d}function H6(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:eA(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&aa(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function eA(e){if(e)return e.options.allowProjection!==!1?e.projection:eA(e.parent)}function wm(e,{forwardMotionProps:t=!1}={},r,n){r&&x6(r);const i=Jy(e)?z6:F6;function s(l,c){let u;const d={...y.useContext(Of),...l,layoutId:q6(l)},{isStatic:f}=d,h=N6(l),m=i(l,f);if(!f&&jy){G6();const g=Y6(d);u=g.MeasureLayout,h.visualElement=K6(e,m,d,n,g.ProjectionNode)}return o.jsxs(Cf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,L6(e,l,W6(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=y.forwardRef(s);return a[U6]=e,a}function q6({layoutId:e}){const t=y.useContext(wy).id;return t&&e!==void 0?t+"-"+e:e}function G6(e,t){y.useContext(U2).strict}function Y6(e){const{drag:t,layout:r}=Ia;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function X6(e,t){if(typeof Proxy>"u")return wm;const r=new Map,n=(s,a)=>wm(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,wm(a,void 0,e,t)),r.get(a))})}function tA({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function J6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q6(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function jm(e){return e===void 0||e===1}function b0({scale:e,scaleX:t,scaleY:r}){return!jm(e)||!jm(t)||!jm(r)}function Gi(e){return b0(e)||rA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function rA(e){return u1(e.x)||u1(e.y)}function u1(e){return e&&e!=="0%"}function vd(e,t,r){const n=e-r,i=t*n;return r+i}function d1(e,t,r,n,i){return i!==void 0&&(e=vd(e,i,n)),vd(e,r,n)+t}function w0(e,t=0,r=1,n,i){e.min=d1(e.min,t,r,n,i),e.max=d1(e.max,t,r,n,i)}function nA(e,{x:t,y:r}){w0(e.x,t.translate,t.scale,t.originPoint),w0(e.y,r.translate,r.scale,r.originPoint)}const f1=.999999999999,h1=1.0000000000001;function Z6(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&la(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,nA(e,a)),n&&Gi(s.latestValues)&&la(e,s.latestValues))}t.x<h1&&t.x>f1&&(t.x=1),t.y<h1&&t.y>f1&&(t.y=1)}function oa(e,t){e.min=e.min+t,e.max=e.max+t}function m1(e,t,r,n,i=.5){const s=Ie(e.min,e.max,i);w0(e,t,r,s,n)}function la(e,t){m1(e.x,t.x,t.scaleX,t.scale,t.originX),m1(e.y,t.y,t.scaleY,t.scale,t.originY)}function iA(e,t){return tA(Q6(e.getBoundingClientRect(),t))}function eI(e,t,r){const n=iA(e,r),{scroll:i}=t;return i&&(oa(n.x,i.offset.x),oa(n.y,i.offset.y)),n}const p1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ca=()=>({x:p1(),y:p1()}),g1=()=>({min:0,max:0}),Ge=()=>({x:g1(),y:g1()}),j0={current:null},sA={current:!1};function tI(){if(sA.current=!0,!!jy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>j0.current=e.matches;e.addEventListener("change",t),t()}else j0.current=!1}const rI=new WeakMap;function nI(e,t,r){for(const n in t){const i=t[n],s=r[n];if(At(i))e.addValue(n,i);else if(At(s))e.addValue(n,Hr(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,Hr(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const y1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class iI{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Fy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,je.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Mf(r),this.isVariantNode=V2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&At(m)&&m.set(c[h])}}mount(t){var r;this.current=t,rI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),sA.current||tI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:j0.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=lo.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ia){const r=Ia[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<y1.length;n++){const i=y1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=nI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Hr(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(Yk(n)||Jk(n))?n=parseFloat(n):!m6(n)&&Pi.test(r)&&(n=M2(t,r)),this.setBaseTarget(t,At(n)?n.get():n)),At(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=Qy(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!At(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Py),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Vy.render(this.render)}}class aA extends iI{constructor(){super(...arguments),this.KeyframeResolver=qL}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;At(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function oA(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function sI(e){return window.getComputedStyle(e)}class aI extends aA{constructor(){super(...arguments),this.type="html",this.renderInstance=oA}readValueFromInstance(t,r){var n;if(lo.has(r))return(n=this.projection)!=null&&n.isProjecting?h0(r):hL(t,r);{const i=sI(t),s=(Oy(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return iA(t,r)}build(t,r,n){Yy(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return Zy(t,r,n)}}const lA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oI(e,t,r,n){oA(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(lA.has(i)?i:ev(i),t.attrs[i])}class lI extends aA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(lo.has(r)){const n=T2(r);return n&&n.default||0}return r=lA.has(r)?r:ev(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return J2(t,r,n)}build(t,r,n){q2(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){oI(t,r,n,i)}mount(t){this.isSVGTag=Y2(t.tagName),super.mount(t)}}const cI=(e,t)=>Jy(e)?new lI(t):new aI(t,{allowProjection:e!==y.Fragment});function _a(e,t,r){const n=e.getProps();return Qy(n,t,r!==void 0?r:n.custom,e)}const _0=e=>Array.isArray(e);function uI(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Hr(r))}function dI(e){return _0(e)?e[e.length-1]||0:e}function fI(e,t){const r=_a(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=dI(s[a]);uI(e,a,l)}}function hI(e){return!!(At(e)&&e.add)}function N0(e,t){const r=e.getValue("willChange");if(hI(r))return r.add(t);if(!r&&Ln.WillChange){const n=new Ln.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function cA(e){return e.props[Q2]}const mI=e=>e!==null;function pI(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(mI),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const gI={type:"spring",stiffness:500,damping:25,restSpeed:10},yI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vI={type:"keyframes",duration:.8},xI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bI=(e,{keyframes:t})=>t.length>2?vI:lo.has(e)?e.startsWith("scale")?yI(t[1]):gI:xI;function wI({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const tv=(e,t,r,n={},i,s)=>a=>{const l=zy(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-un(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};wI(l)||Object.assign(d,bI(e,d)),d.duration&&(d.duration=un(d.duration)),d.repeatDelay&&(d.repeatDelay=un(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(v0(d),d.delay===0&&(f=!0)),(Ln.instantAnimations||Ln.skipAnimations)&&(f=!0,v0(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=pI(d.keyframes,l);if(h!==void 0){je.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new By(d):new RL(d)};function jI({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function uA(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&jI(u,d))continue;const m={delay:r,...zy(s||{},d)},g=f.get();if(g!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===g&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const p=cA(e);if(p){const v=window.MotionHandoffAnimation(p,d,je);v!==null&&(m.startTime=v,x=!0)}}N0(e,d),f.start(tv(d,f,h,e.shouldReduceMotion&&E2.has(d)?{type:!1}:m,e,x));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{je.update(()=>{a&&fI(e,a)})}),c}function dA(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function S0(e,t,r={}){var c;const n=_a(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(uA(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return _I(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function _I(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(S0(c,t,{...a,delay:r+(typeof n=="function"?0:n)+dA(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function NI(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>S0(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=S0(e,t,r);else{const i=typeof t=="function"?_a(e,t,r.custom):t;n=Promise.all(uA(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function fA(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const SI=Gy.length;function hA(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?hA(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<SI;r++){const n=Gy[r],i=e.props[n];(Fl(i)||i===!1)&&(t[n]=i)}return t}const PI=[...qy].reverse(),kI=qy.length;function AI(e){return t=>Promise.all(t.map(({animation:r,options:n})=>NI(e,r,n)))}function EI(e){let t=AI(e),r=v1(),n=!0;const i=c=>(u,d)=>{var h;const f=_a(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:g,...x}=f;u={...u,...x,...g}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=hA(e.parent)||{},f=[],h=new Set;let m={},g=1/0;for(let w=0;w<kI;w++){const p=PI[w],v=r[p],b=u[p]!==void 0?u[p]:d[p],_=Fl(b),j=p===c?v.isActive:null;j===!1&&(g=w);let N=b===d[p]&&b!==u[p]&&_;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...m},!v.isActive&&j===null||!b&&!v.prevProp||Tf(b)||typeof b=="boolean")continue;const P=OI(v.prevProp,b);let S=P||p===c&&v.isActive&&!N&&_||w>g&&_,A=!1;const C=Array.isArray(b)?b:[b];let O=C.reduce(i(p),{});j===!1&&(O={});const{prevResolvedValues:U={}}=v,L={...U,...O},q=z=>{S=!0,h.has(z)&&(A=!0,h.delete(z)),v.needsAnimating[z]=!0;const D=e.getValue(z);D&&(D.liveStyle=!1)};for(const z in L){const D=O[z],k=U[z];if(m.hasOwnProperty(z))continue;let B=!1;_0(D)&&_0(k)?B=!fA(D,k):B=D!==k,B?D!=null?q(z):h.add(z):D!==void 0&&h.has(z)?q(z):v.protectedKeys[z]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(S=!1);const I=N&&P;S&&(!I||A)&&f.push(...C.map(z=>{const D={type:p};if(typeof z=="string"&&n&&!I&&e.manuallyAnimateOnMount&&e.parent){const{parent:k}=e,B=_a(k,z);if(k.enteringChildren&&B){const{delayChildren:G}=B.transition||{};D.delay=dA(k.enteringChildren,e,G)}}return{animation:z,options:D}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const p=_a(e,Array.isArray(u.initial)?u.initial[0]:u.initial);p&&p.transition&&(w.transition=p.transition)}h.forEach(p=>{const v=e.getBaseTarget(p),b=e.getValue(p);b&&(b.liveStyle=!0),w[p]=v??null}),f.push({animation:w})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=v1(),n=!0}}}function OI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!fA(t,e):!1}function Vi(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function v1(){return{animate:Vi(!0),whileInView:Vi(),whileHover:Vi(),whileTap:Vi(),whileDrag:Vi(),whileFocus:Vi(),exit:Vi()}}class Di{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CI extends Di{constructor(t){super(t),t.animationState||(t.animationState=EI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TI=0;class MI extends Di{constructor(){super(...arguments),this.id=TI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DI={animation:{Feature:CI},exit:{Feature:MI}};function Ul(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function hc(e){return{point:{x:e.pageX,y:e.pageY}}}const RI=e=>t=>Ky(t)&&e(t,hc(t));function ml(e,t,r,n){return Ul(e,t,RI(r),n)}const mA=1e-4,$I=1-mA,LI=1+mA,pA=.01,II=0-pA,BI=0+pA;function Mt(e){return e.max-e.min}function FI(e,t,r){return Math.abs(e-t)<=r}function x1(e,t,r,n=.5){e.origin=n,e.originPoint=Ie(t.min,t.max,e.origin),e.scale=Mt(r)/Mt(t),e.translate=Ie(r.min,r.max,e.origin)-e.originPoint,(e.scale>=$I&&e.scale<=LI||isNaN(e.scale))&&(e.scale=1),(e.translate>=II&&e.translate<=BI||isNaN(e.translate))&&(e.translate=0)}function pl(e,t,r,n){x1(e.x,t.x,r.x,n?n.originX:void 0),x1(e.y,t.y,r.y,n?n.originY:void 0)}function b1(e,t,r){e.min=r.min+t.min,e.max=e.min+Mt(t)}function zI(e,t,r){b1(e.x,t.x,r.x),b1(e.y,t.y,r.y)}function w1(e,t,r){e.min=t.min-r.min,e.max=e.min+Mt(t)}function gl(e,t,r){w1(e.x,t.x,r.x),w1(e.y,t.y,r.y)}function wr(e){return[e("x"),e("y")]}const gA=({current:e})=>e?e.ownerDocument.defaultView:null,j1=(e,t)=>Math.abs(e-t);function UI(e,t){const r=j1(e.x,t.x),n=j1(e.y,t.y);return Math.sqrt(r**2+n**2)}class yA{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Nm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=UI(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!g)return;const{point:x}=h,{timestamp:w}=ct;this.history.push({...x,timestamp:w});const{onStart:p,onMove:v}=this.handlers;m||(p&&p(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_m(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:g,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=Nm(h.type==="pointercancel"?this.lastMoveEventInfo:_m(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(h,p),x&&x(h,p)},!Ky(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=hc(t),c=_m(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=ct;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Nm(c,this.history)),this.removeListeners=uc(ml(this.contextWindow,"pointermove",this.handlePointerMove),ml(this.contextWindow,"pointerup",this.handlePointerUp),ml(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function _m(e,t){return t?{point:t(e.point)}:e}function _1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Nm({point:e},t){return{point:e,delta:_1(e,vA(t)),offset:_1(e,WI(t)),velocity:VI(t,.1)}}function WI(e){return e[0]}function vA(e){return e[e.length-1]}function VI(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=vA(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>un(t)));)r--;if(!n)return{x:0,y:0};const s=dn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function KI(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ie(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ie(r,e,n.max):Math.min(e,r)),e}function N1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function HI(e,{top:t,left:r,bottom:n,right:i}){return{x:N1(e.x,r,i),y:N1(e.y,t,n)}}function S1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function qI(e,t){return{x:S1(e.x,t.x),y:S1(e.y,t.y)}}function GI(e,t){let r=.5;const n=Mt(e),i=Mt(t);return i>n?r=La(t.min,t.max-n,e.min):n>i&&(r=La(e.min,e.max-i,t.min)),mn(0,1,r)}function YI(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const P0=.35;function XI(e=P0){return e===!1?e=0:e===!0&&(e=P0),{x:P1(e,"left","right"),y:P1(e,"top","bottom")}}function P1(e,t,r){return{min:k1(e,t),max:k1(e,r)}}function k1(e,t){return typeof e=="number"?e:e[t]||0}const JI=new WeakMap;class QI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(hc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:g,onDragStart:x}=this.getProps();if(m&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XL(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(p=>{let v=this.getAxisMotionValue(p).get()||0;if(fn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[p];_&&(v=Mt(_)*(parseFloat(v)/100))}}this.originPoint[p]=v}),x&&je.postRender(()=>x(f,h)),N0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:p}=h;if(g&&this.currentDirection===null){this.currentDirection=ZI(p),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,p),this.updateAxis("y",h.point,p),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>wr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new yA(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:gA(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&je.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!nu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=KI(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&aa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=HI(n.layoutBox,t):this.constraints=!1,this.elastic=XI(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&wr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=YI(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!aa(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=eI(n,i.root,this.visualElement.getTransformPagePoint());let a=qI(i.layout.layoutBox,s);if(r){const l=r(J6(a));this.hasMutatedConstraints=!!l,l&&(a=tA(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=wr(d=>{if(!nu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,g={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,g)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return N0(this.visualElement,t),n.start(tv(t,n,0,r,this.visualElement,!1))}stopAnimation(){wr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wr(r=>{const{drag:n}=this.getProps();if(!nu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-Ie(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!aa(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};wr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=GI({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wr(a=>{if(!nu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ie(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;JI.set(this.visualElement,this);const t=this.visualElement.current,r=ml(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();aa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),je.read(n);const a=Ul(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(wr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=P0,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function nu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ZI(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class eB extends Di{constructor(t){super(t),this.removeGroupControls=Zt,this.removeListeners=Zt,this.controls=new QI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Zt}unmount(){this.removeGroupControls(),this.removeListeners()}}const A1=e=>(t,r)=>{e&&je.postRender(()=>e(t,r))};class tB extends Di{constructor(){super(...arguments),this.removePointerDownListener=Zt}onPointerDown(t){this.session=new yA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:gA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:A1(t),onStart:A1(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&je.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=ml(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function E1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ro={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const r=E1(e,t.target.x),n=E1(e,t.target.y);return`${r}% ${n}%`}},rB={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Pi.parse(e);if(i.length>5)return n;const s=Pi.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=Ie(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Sm=!1;class nB extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;S6(iB),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Sm&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Lu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Sm=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||je.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Vy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Sm=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function xA(e){const[t,r]=z2(),n=y.useContext(wy);return o.jsx(nB,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(Z2),isPresent:t,safeToRemove:r})}const iB={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:rB};function sB(e,t,r){const n=At(e)?e:Hr(e);return n.start(tv("",n,t,r)),n.animation}const aB=(e,t)=>e.depth-t.depth;class oB{constructor(){this.children=[],this.isDirty=!1}add(t){_y(this.children,t),this.isDirty=!0}remove(t){Ny(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aB),this.isDirty=!1,this.children.forEach(t)}}function lB(e,t){const r=Gt.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(Xr(n),e(s-t))};return je.setup(n,!0),()=>Xr(n)}const bA=["TopLeft","TopRight","BottomLeft","BottomRight"],cB=bA.length,O1=e=>typeof e=="string"?parseFloat(e):e,C1=e=>typeof e=="number"||oe.test(e);function uB(e,t,r,n,i,s){i?(e.opacity=Ie(0,r.opacity??1,dB(n)),e.opacityExit=Ie(t.opacity??1,0,fB(n))):s&&(e.opacity=Ie(t.opacity??1,r.opacity??1,n));for(let a=0;a<cB;a++){const l=`border${bA[a]}Radius`;let c=T1(t,l),u=T1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||C1(c)===C1(u)?(e[l]=Math.max(Ie(O1(c),O1(u),n),0),(fn.test(u)||fn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ie(t.rotate||0,r.rotate||0,n))}function T1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dB=wA(0,.5,i2),fB=wA(.5,.95,Zt);function wA(e,t,r){return n=>n<e?0:n>t?1:r(La(e,t,n))}function M1(e,t){e.min=t.min,e.max=t.max}function yr(e,t){M1(e.x,t.x),M1(e.y,t.y)}function D1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function R1(e,t,r,n,i){return e-=t,e=vd(e,1/r,n),i!==void 0&&(e=vd(e,1/i,n)),e}function hB(e,t=0,r=1,n=.5,i,s=e,a=e){if(fn.test(t)&&(t=parseFloat(t),t=Ie(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ie(s.min,s.max,n);e===s&&(l-=t),e.min=R1(e.min,t,r,l,i),e.max=R1(e.max,t,r,l,i)}function $1(e,t,[r,n,i],s,a){hB(e,t[r],t[n],t[i],t.scale,s,a)}const mB=["x","scaleX","originX"],pB=["y","scaleY","originY"];function L1(e,t,r,n){$1(e.x,t,mB,r?r.x:void 0,n?n.x:void 0),$1(e.y,t,pB,r?r.y:void 0,n?n.y:void 0)}function I1(e){return e.translate===0&&e.scale===1}function jA(e){return I1(e.x)&&I1(e.y)}function B1(e,t){return e.min===t.min&&e.max===t.max}function gB(e,t){return B1(e.x,t.x)&&B1(e.y,t.y)}function F1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function _A(e,t){return F1(e.x,t.x)&&F1(e.y,t.y)}function z1(e){return Mt(e.x)/Mt(e.y)}function U1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yB{constructor(){this.members=[]}add(t){_y(this.members,t),t.scheduleRender()}remove(t){if(Ny(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vB(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:g}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),g&&(n+=`skewY(${g}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Pm=["","X","Y","Z"],xB=1e3;let bB=0;function km(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function NA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=cA(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",je,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&NA(n)}function SA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=bB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_B),this.nodes.forEach(kB),this.nodes.forEach(AB),this.nodes.forEach(NB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new oB)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Py),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Hy(a)&&!d6(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;je.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=lB(h,250),Lu.hasAnimatedSinceResize&&(Lu.hasAnimatedSinceResize=!1,this.nodes.forEach(K1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||MB,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=u.getProps(),p=!this.targetLayout||!_A(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...zy(g,"layout"),onPlay:x,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||K1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EB),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&NA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(V1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PB),this.nodes.forEach(wB),this.nodes.forEach(jB)):this.nodes.forEach(V1),this.clearAllSnapshots();const l=Gt.now();ct.delta=mn(0,1e3/60,l-ct.timestamp),ct.timestamp=l,ct.isProcessing=!0,pm.update.process(ct),pm.preRender.process(ct),pm.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Vy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SB),this.sharedNodes.forEach(OB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!jA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Gi(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),DB(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Ge();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(RB))){const{scroll:d}=this.root;d&&(oa(l.x,d.offset.x),oa(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ge();if(yr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&yr(l,a),oa(l.x,f.offset.x),oa(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Ge();yr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&la(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Gi(d.latestValues)&&la(c,d.latestValues)}return Gi(this.latestValues)&&la(c,this.latestValues),c}removeTransform(a){const l=Ge();yr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Gi(u.latestValues))continue;b0(u.latestValues)&&u.updateSnapshot();const d=Ge(),f=u.measurePageBox();yr(d,f),L1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Gi(this.latestValues)&&L1(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),gl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),nA(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),gl(this.relativeTargetOrigin,this.target,m.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||b0(this.parent.latestValues)||rA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var g;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;yr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Z6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ge());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D1(this.prevProjectionDelta.x,this.projectionDelta.x),D1(this.prevProjectionDelta.y,this.projectionDelta.y)),pl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!U1(this.projectionDelta.x,this.prevProjectionDelta.x)||!U1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ca(),this.projectionDelta=ca(),this.projectionDeltaWithTransform=ca()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ca();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),m=c?c.source:void 0,g=this.layout?this.layout.source:void 0,x=m!==g,w=this.getStack(),p=!w||w.members.length<=1,v=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some(TB));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const j=_/1e3;H1(f.x,a.x,j),H1(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(gl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CB(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&gB(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ge()),yr(b,this.relativeTarget)),x&&(this.animationValues=d,uB(d,u,this.latestValues,j,v,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Lu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Hr(0)),this.currentAnimation=sB(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&PA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const f=Mt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Mt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}yr(l,c),la(l,d),pl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new yB),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&km("z",a,u,this.animationValues);for(let d=0;d<Pm.length;d++)km(`rotate${Pm[d]}`,a,u,this.animationValues),km(`skew${Pm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=$u(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=$u(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Gi(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=vB(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const g in zl){if(d[g]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:p}=zl[g],v=f==="none"?d[g]:x(d[g],u);if(w){const b=w.length;for(let _=0;_<b;_++)a[w[_]]=v}else p?this.options.visualElement.renderState.vars[g]=v:a[g]=v}this.options.layoutId&&(a.pointerEvents=u===this?$u(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(W1),this.root.sharedNodes.clear()}}}function wB(e){e.updateLayout()}function jB(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?wr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Mt(h);h.min=n[f].min,h.max=h.min+m}):PA(s,t.layoutBox,n)&&wr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Mt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ca();pl(l,n,t.layoutBox);const c=ca();a?pl(c,e.applyTransform(i,!0),t.measuredBox):pl(c,n,t.layoutBox);const u=!jA(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const g=Ge();gl(g,t.layoutBox,h.layoutBox);const x=Ge();gl(x,n,m.layoutBox),_A(g,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=g,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _B(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SB(e){e.clearSnapshot()}function W1(e){e.clearMeasurements()}function V1(e){e.isLayoutDirty=!1}function PB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function K1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kB(e){e.resolveTargetDelta()}function AB(e){e.calcProjection()}function EB(e){e.resetSkewAndRotation()}function OB(e){e.removeLeadSnapshot()}function H1(e,t,r){e.translate=Ie(t.translate,0,r),e.scale=Ie(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function q1(e,t,r,n){e.min=Ie(t.min,r.min,n),e.max=Ie(t.max,r.max,n)}function CB(e,t,r,n){q1(e.x,t.x,r.x,n),q1(e.y,t.y,r.y,n)}function TB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MB={duration:.45,ease:[.4,0,.1,1]},G1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Y1=G1("applewebkit/")&&!G1("chrome/")?Math.round:Zt;function X1(e){e.min=Y1(e.min),e.max=Y1(e.max)}function DB(e){X1(e.x),X1(e.y)}function PA(e,t,r){return e==="position"||e==="preserve-aspect"&&!FI(z1(t),z1(r),.2)}function RB(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const $B=SA({attachResizeListener:(e,t)=>Ul(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Am={current:void 0},kA=SA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Am.current){const e=new $B({});e.mount(window),e.setOptions({layoutScroll:!0}),Am.current=e}return Am.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LB={pan:{Feature:tB},drag:{Feature:eB,ProjectionNode:kA,MeasureLayout:xA}};function J1(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&je.postRender(()=>s(t,hc(t)))}class IB extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=JL(t,(r,n)=>(J1(this.node,n,"Start"),i=>J1(this.node,i,"End"))))}unmount(){}}class BB extends Di{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=uc(Ul(this.node.current,"focus",()=>this.onFocus()),Ul(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Q1(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&je.postRender(()=>s(t,hc(t)))}class FB extends Di{mount(){const{current:t}=this.node;t&&(this.unmount=t6(t,(r,n)=>(Q1(this.node,n,"Start"),(i,{success:s})=>Q1(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const k0=new WeakMap,Em=new WeakMap,zB=e=>{const t=k0.get(e.target);t&&t(e)},UB=e=>{e.forEach(zB)};function WB({root:e,...t}){const r=e||document;Em.has(r)||Em.set(r,{});const n=Em.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(UB,{root:e,...t})),n[i]}function VB(e,t,r){const n=WB(t);return k0.set(e,r),n.observe(e),()=>{k0.delete(e),n.unobserve(e)}}const KB={some:0,all:1};class HB extends Di{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:KB[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return VB(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(qB(t,r))&&this.startObserver()}unmount(){}}function qB({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const GB={inView:{Feature:HB},tap:{Feature:FB},focus:{Feature:BB},hover:{Feature:IB}},YB={layout:{ProjectionNode:kA,MeasureLayout:xA}},XB={...DI,...GB,...LB,...YB},zs=X6(XB,cI),JB=50,Z1=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),QB=()=>({time:0,x:Z1(),y:Z1()}),ZB={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function ej(e,t,r,n){const i=r[t],{length:s,position:a}=ZB[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=La(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>JB?0:ky(i.current-l,u)}function eF(e,t,r){ej(e,"x",t,r),ej(e,"y",t,r),t.time=r}function tF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(Wy(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const A0={start:0,center:.5,end:1};function tj(e,t,r=0){let n=0;if(e in A0&&(e=A0[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const rF=[0,0];function nF(e,t,r,n){let i=Array.isArray(e)?e:rF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,A0[e]?e:"0"]),s=tj(i[0],r,n),a=tj(i[1],t),s-a}const iF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},sF={x:0,y:0};function aF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function oF(e,t,r){const{offset:n=iF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?tF(i,e):sF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:aF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=nF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=$y(t[s].offset,x2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=mn(0,1,t[s].interpolate(t[s].current))}function lF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function cF(e,t,r,n={}){return{measure:i=>{lF(e,n.target,r),eF(e,r,i),(n.offset||n.target)&&oF(e,r,n)},notify:()=>t(r)}}const $o=new WeakMap,rj=new WeakMap,Om=new WeakMap,nj=e=>e===document.scrollingElement?window:e;function AA(e,{container:t=document.scrollingElement,...r}={}){if(!t)return Zt;let n=Om.get(t);n||(n=new Set,Om.set(t,n));const i=QB(),s=cF(t,e,i,r);if(n.add(s),!$o.has(t)){const l=()=>{for(const f of n)f.measure(ct.timestamp);je.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>je.read(l);$o.set(t,u);const d=nj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&rj.set(t,u6(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=$o.get(t);return je.read(a,!1,!0),()=>{var u;Xr(a);const l=Om.get(t);if(!l||(l.delete(s),l.size))return;const c=$o.get(t);$o.delete(t),c&&(nj(t).removeEventListener("scroll",c),(u=rj.get(t))==null||u(),window.removeEventListener("resize",c))}}const ij=new Map;function uF(e){const t={value:0},r=AA(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function EA({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=ij.get(t)??new Map;ij.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&_2()?new ScrollTimeline({source:t,axis:n}):uF({container:t,...r})),a[l]}function dF(e,t){const r=EA(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),F2(i=>{n.time=n.duration*i},r))})}function fF(e){return e.length===2}function hF(e,t){return fF(e)?AA(r=>{e(r[t.axis].progress,r)},t):F2(e,EA(t))}function mF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return Zt;const i={axis:t,container:r,...n};return typeof e=="function"?hF(e,i):dF(e,i)}const pF=()=>({scrollX:Hr(0),scrollY:Hr(0),scrollXProgress:Hr(0),scrollYProgress:Hr(0)}),iu=e=>e?!e.current:!1;function gF({container:e,target:t,...r}={}){const n=so(pF),i=y.useRef(null),s=y.useRef(!1),a=y.useCallback(()=>(i.current=mF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Af(()=>{if(s.current=!1,iu(e)||iu(t)){s.current=!0;return}else return a()},[a]),y.useEffect(()=>{if(s.current)return $a(!iu(e)),$a(!iu(t)),a()},[a]),n}function yF(e){const t=so(()=>Hr(e)),{isStatic:r}=y.useContext(Of);if(r){const[,n]=y.useState(e);y.useEffect(()=>t.on("change",n),[])}return t}function OA(e,t){const r=yF(t()),n=()=>r.set(t());return n(),Af(()=>{const i=()=>je.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),Xr(n)}}),r}function vF(e){hl.current=[],e();const t=OA(hl.current,e);return hl.current=void 0,t}function Cm(e,t,r,n){if(typeof e=="function")return vF(e);const i=typeof t=="function"?t:f6(t,r,n);return Array.isArray(e)?sj(e,i):sj([e],([s])=>i(s))}function sj(e,t){const r=so(()=>[]);return OA(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function aj({onViewChange:e}){var L,q,I,K,z;const{user:t,logout:r}=er();y.useState(!1);const[n,i]=y.useState(!1),[s,a]=y.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState(0),[x,w]=y.useState([]),[p,v]=y.useState("all"),[b,_]=y.useState(!0),j=y.useRef(null),{scrollYProgress:N}=gF(j.current?{target:j,offset:["start start","end start"],layoutEffect:!1}:void 0),P=Cm(N,[0,1],[0,-200]),S=Cm(N,[0,.5],[1,0]),A=Cm(N,[0,1],[0,-100]),C=async()=>{try{const{data:D}=await Q.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!D)return;const k={};D.forEach(G=>{const{player1_name:$,player2_name:Y,winner_name:le}=G;k[$]||(k[$]={wins:0,total:0,tournaments:new Set}),k[Y]||(k[Y]={wins:0,total:0,tournaments:new Set}),k[$].total++,k[Y].total++,le===$?k[$].wins++:le===Y&&k[Y].wins++});const B=Object.entries(k).map(([G,$])=>({name:G,wins:$.wins,tournaments:$.tournaments.size,winRate:$.total>0?Math.round($.wins/$.total*100):0})).filter(G=>G.wins>0).sort((G,$)=>$.wins!==G.wins?$.wins-G.wins:$.winRate-G.winRate).slice(0,5);h(B)}catch(D){console.error("Error fetching top players:",D)}},O=async()=>{try{const{data:D}=await Q.from("tournaments").select("*"),{data:k}=await Q.from("match_results").select("*"),B=new Set;k==null||k.forEach(Y=>{Y.player1_name&&B.add(Y.player1_name),Y.player2_name&&B.add(Y.player2_name)});const G=new Date,$=(D==null?void 0:D.filter(Y=>new Date(Y.tournament_date)>G&&Y.status!=="completed"))||[];a({totalTournaments:(D==null?void 0:D.length)||0,activePlayers:B.size,upcomingEvents:$.length,completedMatches:(k==null?void 0:k.length)||0}),c($.slice(0,3)),d(D||[])}catch(D){console.error("Error fetching stats:",D)}},U=async()=>{try{let D=Q.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});p!=="all"&&(D=D.eq("tournament_id",p));const{data:k}=await D.limit(20);w(k||[])}catch(D){console.error("Error fetching matches:",D)}};return y.useEffect(()=>{(async()=>{_(!0),await Promise.all([O(),C(),U()]),_(!1)})()},[t]),y.useEffect(()=>{U()},[p]),y.useEffect(()=>{if(f.length>1){const D=setInterval(()=>{g(k=>(k+1)%f.length)},5e3);return()=>clearInterval(D)}},[f]),b?o.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:o.jsx("p",{className:"text-white text-lg font-semibold animate-pulse",children:"Loading Portal..."})}):o.jsxs("div",{className:"min-h-screen bg-slate-950 text-white overflow-hidden relative",children:[o.jsx("div",{className:"fixed top-6 right-6 z-[1000]",children:t?o.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 rounded-md text-sm font-medium text-white shadow-lg",children:[o.jsx(Vk,{className:"w-4 h-4"}),"Logout"]}):o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-2 bg-cyan-600 hover:bg-cyan-500 rounded-md text-sm font-medium text-white shadow-lg",children:[o.jsx(Wk,{className:"w-4 h-4"}),"Login"]})}),o.jsxs(zs.section,{ref:j,style:{opacity:S},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover fixed inset-0"}),o.jsx("div",{className:"absolute inset-0 bg-black/60"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[length:60px_60px] opacity-20"})]}),o.jsxs(zs.div,{className:"relative z-10 text-center px-6 max-w-5xl mx-auto",style:{y:P},children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-exo2 uppercase tracking-wide",style:{fontWeight:800},children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"mt-4 text-lg md:text-xl text-slate-200 font-exo2 font-medium",children:"Fight. Conquer. Win."}),o.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row gap-6 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"relative px-10 py-4 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-bold uppercase tracking-wider hover:shadow-[0_0_20px_rgba(0,200,255,0.7)] transition overflow-hidden group",children:["Join Tournament",o.jsx("span",{className:"absolute inset-0 bg-[linear-gradient(120deg,transparent,rgba(255,255,255,0.2),transparent)] translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]}),o.jsx("button",{onClick:()=>e==null?void 0:e("analytics"),className:"px-10 py-4 border border-slate-600 text-white font-bold uppercase tracking-wider hover:bg-slate-800 transition",children:"View Analytics"})]})]})]}),o.jsxs(zs.div,{style:{y:A},className:"relative z-20 -mt-20",children:[o.jsx("section",{className:"mt-20 border-y border-slate-800 bg-slate-950",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 divide-x divide-slate-800",children:[{label:"Tournaments",value:s.totalTournaments},{label:"Active Players",value:s.activePlayers},{label:"Upcoming",value:s.upcomingEvents},{label:"Matches",value:s.completedMatches}].map(D=>o.jsxs("div",{className:"py-14 text-center",children:[o.jsx("div",{className:"text-5xl font-extrabold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:D.value}),o.jsx("div",{className:"mt-2 text-sm uppercase tracking-wide text-slate-400",children:D.label})]},D.label))})}),o.jsx("section",{className:"py-24 bg-slate-900/90 backdrop-blur-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-10",children:[{title:"Tournament Hub",desc:"Register and track upcoming tournaments.",color:"from-cyan-500 to-purple-500",action:()=>e==null?void 0:e("tournaments")},{title:"Analytics",desc:"View stats and performance trends.",color:"from-purple-500 to-pink-500",action:()=>e==null?void 0:e("analytics")},{title:"Deck Builder",desc:"Build and save your best Beyblade combinations.",color:"from-orange-500 to-red-500",action:()=>e==null?void 0:e("inventory")}].map(D=>o.jsxs("div",{onClick:D.action,className:"p-12 bg-slate-950 border border-slate-800 hover:shadow-[0_0_30px_rgba(0,200,255,0.2)] cursor-pointer transition relative group",children:[o.jsx("h3",{className:"text-2xl font-bold mb-3",children:D.title}),o.jsx("p",{className:"text-slate-400 mb-6",children:D.desc}),o.jsx("span",{className:`uppercase font-semibold bg-gradient-to-r ${D.color} bg-clip-text text-transparent`,children:"Explore →"}),o.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-0 bg-gradient-to-r ${D.color} group-hover:w-full transition-all duration-500`})]},D.title))})}),o.jsx("section",{className:"py-24 relative overflow-hidden",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-6 relative z-10",children:[o.jsx("h2",{className:"text-5xl font-extrabold text-center mb-16 uppercase tracking-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Community Champions"})}),f.length>0&&o.jsx(a1,{mode:"wait",children:o.jsxs(zs.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-center border border-cyan-500/30 bg-slate-950/70 backdrop-blur-xl rounded-md p-12 shadow-[0_0_40px_rgba(0,200,255,0.15)]",children:[o.jsx("div",{className:"flex items-center justify-center mb-10",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-r from-cyan-500 to-purple-600 flex items-center justify-center text-6xl font-bold text-white shadow-[0_0_30px_rgba(0,200,255,0.6)] animate-pulse",children:(L=f[m])==null?void 0:L.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-400/40 animate-spin-slow"})]})}),o.jsx("h3",{className:"text-3xl font-bold mb-3 text-white",children:(q=f[m])==null?void 0:q.name}),o.jsx("p",{className:"text-cyan-400 font-semibold uppercase tracking-wide mb-10",children:"Champion Blader"}),o.jsxs("div",{className:"grid grid-cols-3 gap-10 max-w-xl mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:(I=f[m])==null?void 0:I.wins}),o.jsx("div",{className:"text-slate-400 mt-2 text-sm uppercase",children:"Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:(K=f[m])==null?void 0:K.tournaments}),o.jsx("div",{className:"text-slate-400 mt-2 text-sm uppercase",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-cyan-400 bg-clip-text text-transparent",children:[(z=f[m])==null?void 0:z.winRate,"%"]}),o.jsx("div",{className:"text-slate-400 mt-2 text-sm uppercase",children:"Win Rate"})]})]})]},m)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-10",children:f.map((D,k)=>o.jsx("button",{onClick:()=>g(k),className:`w-3 h-3 rounded-full transition-all duration-300 ${k===m?"bg-cyan-400 scale-125 shadow-[0_0_10px_rgba(0,200,255,0.8)]":"bg-slate-600 hover:bg-slate-500"}`},k))})]})})]}),o.jsx("section",{className:"py-24 bg-slate-900/80 backdrop-blur-sm relative",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-12",children:[o.jsx("h2",{className:"text-4xl font-extrabold uppercase tracking-tight mb-6 md:mb-0",children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Live Match Feed"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("select",{value:p,onChange:D=>v(D.target.value),className:"bg-slate-950/80 border border-slate-700 text-white px-4 py-2 text-sm rounded-md focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),u.map(D=>o.jsx("option",{value:D.id,children:D.name},D.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),x.length>0?o.jsx("div",{className:"overflow-x-auto border border-slate-800 rounded-md",children:o.jsxs("table",{className:"w-full text-left text-sm text-slate-300",children:[o.jsx("thead",{className:"bg-slate-950/80 border-b border-slate-800 text-slate-400 uppercase text-xs",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Tournament"}),o.jsx("th",{className:"px-4 py-3",children:"Player 1"}),o.jsx("th",{className:"px-4 py-3",children:"Player 1 Beyblade"}),o.jsx("th",{className:"px-4 py-3",children:"Player 2"}),o.jsx("th",{className:"px-4 py-3",children:"Player 2 Beyblade"}),o.jsx("th",{className:"px-4 py-3",children:"Winner"}),o.jsx("th",{className:"px-4 py-3",children:"Finish"})]})}),o.jsx("tbody",{children:x.map(D=>{var k,B;return o.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-900/60 transition",children:[o.jsx("td",{className:"px-4 py-3",children:new Date(D.submitted_at).toLocaleString()}),o.jsx("td",{className:"px-4 py-3",children:(k=D.tournaments)==null?void 0:k.name}),o.jsx("td",{className:`px-4 py-3 ${D.winner_name===D.player1_name?"text-cyan-400 font-semibold":""}`,children:D.player1_name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-400",children:D.player1_beyblade||"Unknown"}),o.jsx("td",{className:`px-4 py-3 ${D.winner_name===D.player2_name?"text-cyan-400 font-semibold":""}`,children:D.player2_name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-400",children:D.player2_beyblade||"Unknown"}),o.jsx("td",{className:"px-4 py-3 text-cyan-300 font-bold",children:D.winner_name}),o.jsx("td",{className:"px-4 py-3 text-slate-300",children:((B=D.outcome)==null?void 0:B.split(" (")[0])||"—"})]},D.id)})})]})}):o.jsx("p",{className:"text-slate-400",children:"No matches available yet."})]})}),o.jsx("footer",{className:"py-12 border-t border-slate-800 bg-slate-950 text-center text-slate-500 text-sm",children:o.jsxs("p",{children:["© ",new Date().getFullYear()," Ormoc Beyblade Club. All rights reserved."]})}),o.jsx(a1,{children:n&&o.jsxs(o.Fragment,{children:[o.jsx(zs.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>i(!1)}),o.jsx(zs.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(Gk,{onLoginSuccess:()=>i(!1)}),o.jsx("button",{onClick:()=>i(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(It,{size:16})})]})})]})})]})}function xF({stats:e}){const t=[{key:"attack",label:"Attack",gradient:"from-red-500 via-pink-500 to-fuchsia-500",max:200},{key:"defense",label:"Defense",gradient:"from-cyan-400 via-blue-500 to-indigo-500",max:200},{key:"stamina",label:"Stamina",gradient:"from-green-400 via-emerald-500 to-teal-500",max:200},{key:"dash",label:"Dash",gradient:"from-yellow-400 via-orange-500 to-red-500",max:50},{key:"burstRes",label:"Burst Res",gradient:"from-purple-400 via-fuchsia-500 to-pink-600",max:80}];return o.jsxs("div",{className:"bg-slate-950/80 border border-cyan-500/30 rounded-none p-4 shadow-[0_0_25px_rgba(0,200,255,0.2)]",children:[o.jsx("h5",{className:"text-xs uppercase font-exo2 tracking-wider text-cyan-400 mb-4",children:"Combined Stats"}),o.jsx("div",{className:"space-y-4",children:t.map(({key:r,label:n,gradient:i,max:s})=>{const a=e[r],l=Math.min(a/s*100,100);return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex justify-between mb-0.5",children:[o.jsx("span",{className:"text-[10px] font-exo2 uppercase tracking-wide text-slate-400",children:n}),o.jsx("span",{className:"text-[11px] font-exo2 font-bold text-cyan-300",children:a})]}),o.jsxs("div",{className:"relative h-3 w-full bg-slate-800/70 overflow-hidden rounded-none",children:[o.jsx("div",{className:`absolute top-0 left-0 h-full bg-gradient-to-r ${i} transition-all duration-700`,style:{width:`${l}%`,clipPath:"polygon(0 0, 100% 0, 95% 100%, 0% 100%)"}}),o.jsx("div",{className:`absolute top-0 left-0 h-full bg-gradient-to-r ${i} opacity-30 blur-sm`,style:{width:`${l}%`}})]})]},r)})})]})}function bF({tournament:e,onClose:t}){var le,X,se;const{user:r}=er(),{alert:n}=Es(),[i,s]=y.useState(""),[a,l]=y.useState(e.is_free?"free":"cash"),[c,u]=y.useState([{id:"1",isCustomLine:!1,parts:{}}]),[d,f]=y.useState([]),[h,m]=y.useState(""),[g,x]=y.useState(!1),[w,p]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(!1),[_,j]=y.useState(null),[N,P]=y.useState([]);y.useEffect(()=>{g&&r&&!r.id.startsWith("guest-")?s(r.username):g||s("")},[g,r]),y.useEffect(()=>{S(),A(),C()},[]);const S=async()=>{b(!0),j(null);try{const[R,V,M,E,H]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);if(R.error)throw R.error;if(V.error)throw V.error;if(M.error)throw M.error;if(E.error)throw E.error;if(H.error)throw H.error;p({blades:R.data||[],ratchets:V.data||[],bits:M.data||[],lockchips:E.data||[],assistBlades:H.data||[]})}catch(R){console.error(R),j("Failed to load Beyblade parts. Please try again.")}finally{b(!1)}},A=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:R,error:V}=await Q.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(V)throw V;f(R||[])}catch(R){console.error(R)}},C=async()=>{try{const{data:R,error:V}=await Q.from("tournament_registrations").select("player_name").eq("tournament_id",e.id).eq("status","confirmed");if(V)throw V;P((R||[]).map(M=>M.player_name.toLowerCase().trim()))}catch(R){console.error("Error fetching player names",R)}},O=R=>R==="Custom"?["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"]:["Blade","Ratchet","Bit"],U=R=>{let V=[];switch(R){case"Blade":V=w.blades.filter(M=>M.Line!=="Custom");break;case"Main Blade":V=w.blades.filter(M=>M.Line==="Custom");break;case"Ratchet":V=w.ratchets;break;case"Bit":V=w.bits;break;case"Lockchip":V=w.lockchips;break;case"Assist Blade":V=w.assistBlades;break}return V.sort((M,E)=>L(M,R).localeCompare(L(E,R)))},L=(R,V)=>{switch(V){case"Blade":case"Main Blade":return R.Blades;case"Ratchet":return R.Ratchet;case"Bit":return`${R.Bit} (${R.Shortcut})`;case"Lockchip":return R.Lockchip;case"Assist Blade":return`${R["Assist Blade Name"]} (${R["Assist Blade"]})`;default:return""}},q=R=>{if(!O(R.isCustomLine?"Custom":"Basic").every(M=>R.parts[M]))return"";if(R.isCustomLine){const{Lockchip:M,"Main Blade":E,"Assist Blade":H,Ratchet:T,Bit:W}=R.parts;return`${(M==null?void 0:M.Lockchip)||""}${(E==null?void 0:E.Blades)||""} ${(H==null?void 0:H["Assist Blade"])||""}${(T==null?void 0:T.Ratchet)||""}${(W==null?void 0:W.Shortcut)||""}`}else{const{Blade:M,Ratchet:E,Bit:H}=R.parts;return`${(M==null?void 0:M.Blades)||""} ${(E==null?void 0:E.Ratchet)||""}${(H==null?void 0:H.Shortcut)||""}`}},I=R=>Object.values(R).reduce((V,M)=>(M&&(V.attack+=M.Attack||0,V.defense+=M.Defense||0,V.stamina+=M.Stamina||0,V.dash+=M.Dash||0,V.burstRes+=M["Burst Res"]||0),V),{attack:0,defense:0,stamina:0,dash:0,burstRes:0}),K=(R,V,M)=>{u(c.map(E=>E.id===R?{...E,[V]:M,parts:{}}:E))},z=(R,V,M)=>{u(c.map(E=>{if(E.id===R){const H={...E.parts,[V]:M};return{...E,parts:H}}return E}))},D=R=>{c.length>1&&u(c.filter(V=>V.id!==R))},k=R=>{const V=d.find(T=>T.id===R);if(!V)return;const M=V.beyblades[0],E=M&&(M.parts.Lockchip||M.parts["Main Blade"]||M.parts["Assist Blade"]),H=V.beyblades.slice(0,e.beyblades_per_player).map((T,W)=>({id:(W+1).toString(),isCustomLine:E,parts:T.parts}));u(H),m("")},B=()=>{if(!i.trim())return!1;const R=i.toLowerCase().trim();return N.includes(R)?!1:c.every(V=>O(V.isCustomLine?"Custom":"Basic").every(E=>V.parts[E]))},G=async()=>{var R;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const M=(R=(await Q.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&R.is_free?"confirmed":"unpaid",{data:E,error:H}=await Q.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:M}).select().single();if(H)throw H;for(const T of c){const W=q(T),Z=T.isCustomLine?"Custom":"Basic",{data:ie,error:ae}=await Q.from("tournament_beyblades").insert({registration_id:E.id,beyblade_name:W,blade_line:Z}).select().single();if(ae)throw ae;const ge=Object.entries(T.parts).map(([Ne,Ct])=>({beyblade_id:ie.id,part_type:Ne,part_name:L(Ct,Ne),part_data:Ct})),{error:me}=await Q.from("tournament_beyblade_parts").insert(ge);if(me)throw me}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(V){console.error(V),await n("Registration Failed",V.message||"Unknown error occurred.")}},$=R=>{u(V=>V.map(M=>{if(M.id!==R)return M;const E=O(M.isCustomLine?"Custom":"Basic"),H={};return E.forEach(T=>{const W=U(T);if(W.length>0){const Z=Math.floor(Math.random()*W.length);H[T]=W[Z]}}),{...M,parts:H}}))},Y=()=>{c.forEach(R=>$(R.id))};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-slate-950 border border-cyan-500/30 rounded-lg shadow-[0_0_40px_rgba(0,200,255,0.3)] w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] flex flex-col overflow-hidden relative",children:[v&&o.jsx("div",{className:"absolute inset-0 bg-slate-950/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-lg animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-cyan-500 to-purple-500 px-4 sm:px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Tournament Registration"}),o.jsx("p",{className:"text-cyan-100",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors text-white",children:o.jsx(It,{size:24})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-6",children:[_&&o.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-400 text-sm",children:_}),o.jsx("button",{onClick:S,className:"text-sm underline text-red-400 hover:text-red-300",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-lg p-4 backdrop-blur-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-slate-300",children:e.description})]}),o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-lg p-4 sm:p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(hd,{className:"text-cyan-400 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Player Information"})]}),(!r||r.id.startsWith("guest-"))&&o.jsx("div",{className:"mb-4 p-3 bg-yellow-500/10 rounded-lg border border-yellow-500/30",children:o.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"Register your account to see personal stats across multiple tournaments. Tournament entry player name should be the same as account username to view personal stats."})}),r&&!r.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-slate-900/50 rounded-lg border border-cyan-500/20",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:g,onChange:R=>x(R.target.checked),className:"w-4 h-4 text-cyan-600 border-cyan-500/30 rounded focus:ring-cyan-500 bg-slate-800"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(u$,{size:16,className:"text-cyan-400"}),o.jsxs("span",{className:"text-sm font-medium text-cyan-400",children:["Register for self? Player name entry should be same as your account username to view your own personal stats. (",r.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-cyan-400 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:i,onChange:R=>s(R.target.value),disabled:g,placeholder:"Enter your player name",className:`w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white placeholder-slate-500 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 ${g?"bg-slate-800 cursor-not-allowed opacity-50":""}`}),i.trim()&&N.includes(i.toLowerCase().trim())&&o.jsx("div",{className:"mt-1 text-xs text-red-400",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-cyan-400 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:a,onChange:R=>l(R.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[e.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),!(r!=null&&r.id.startsWith("guest-"))&&d.length>0&&o.jsxs("div",{className:"bg-slate-800/50 border border-purple-500/20 rounded-lg p-4 sm:p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ba,{className:"text-purple-400 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-purple-400",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-purple-400 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:h,onChange:R=>m(R.target.value),className:"w-full bg-slate-900 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),d.map(R=>o.jsxs("option",{value:R.id,children:[R.name," (",R.beyblades.length," Beyblades)"]},R.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>h&&k(h),disabled:!h,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-purple-400 hover:to-purple-500 transition-colors disabled:opacity-50 text-sm shadow-[0_0_15px_rgba(147,51,234,0.3)]",children:"Load Preset"})})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-slate-900/50 rounded-lg border border-purple-500/20",children:o.jsxs("div",{className:"text-sm text-purple-300",children:[o.jsx("strong",{children:"Preview:"}),(le=d.find(R=>R.id===h))==null?void 0:le.beyblades.slice(0,3).map((R,V)=>o.jsxs("div",{className:"font-mono text-xs mt-1 text-slate-400",children:["• ",R.name||`Beyblade ${V+1}`]},V)),((X=d.find(R=>R.id===h))==null?void 0:X.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-purple-400",children:["+",((se=d.find(R=>R.id===h))==null?void 0:se.beyblades.length)-3," more..."]})]})})]}),c.map((R,V)=>o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/20 rounded-lg p-4 sm:p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Beyblade #",V+1]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`text-xs font-medium ${R.isCustomLine?"text-slate-400":"text-cyan-400"}`,children:"Standard Line"}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:R.isCustomLine,onChange:M=>K(R.id,"isCustomLine",M.target.checked),className:"sr-only"}),o.jsx("div",{className:`w-8 h-4 rounded-full transition-colors ${R.isCustomLine?"bg-purple-500":"bg-slate-600"}`,children:o.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow transform transition-transform ${R.isCustomLine?"translate-x-4":"translate-x-0"} mt-0.5 ml-0.5`})})]}),o.jsx("span",{className:`text-xs font-medium ${R.isCustomLine?"text-purple-400":"text-slate-400"}`,children:"Custom Line"})]}),c.length>1&&o.jsx("button",{onClick:()=>D(R.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-1",children:"Generated Name"}),o.jsx("div",{className:"bg-slate-800 border border-cyan-500/30 rounded-lg px-3 py-2 text-sm font-mono text-slate-300",children:q(R)||"Select all parts to generate name"})]}),o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:O(R.isCustomLine?"Custom":"Basic").map(M=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-cyan-400 mb-1",children:[M," *"]}),o.jsxs("select",{value:R.parts[M]?JSON.stringify(R.parts[M]):"",onChange:E=>E.target.value&&z(R.id,M,JSON.parse(E.target.value)),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsxs("option",{value:"",children:["Select ",M]}),U(M).map((E,H)=>o.jsx("option",{value:JSON.stringify(E),children:L(E,M)},H))]})]},M))})}),Object.keys(R.parts).length>0&&o.jsx(xF,{stats:I(R.parts)})]},R.id)),c.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>u([...c,{id:Date.now().toString(),isCustomLine:!1,parts:{}}]),className:"w-full border-2 border-dashed border-cyan-500/30 rounded-lg p-4 text-slate-400 hover:border-cyan-400 hover:text-cyan-400 flex items-center justify-center space-x-2 transition-colors",children:[o.jsx(wa,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-cyan-500/20",children:[(r==null?void 0:r.role)==="developer"&&o.jsx("button",{onClick:Y,className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-orange-500 text-white rounded-lg hover:from-pink-400 hover:to-orange-400 transition-all duration-200 shadow-[0_0_15px_rgba(255,100,100,0.3)]",children:"Randomizer"}),o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-800 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-700 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:G,disabled:!B()||v,className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white rounded-lg hover:from-cyan-400 hover:to-purple-500 disabled:opacity-50 transition-all duration-200 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:o.jsx("span",{children:"Register"})})]})]})]})})}function wF(){er();const{alert:e}=Es(),[t,r]=y.useState("all"),[n,i]=y.useState(!1),[s,a]=y.useState(""),[l,c]=y.useState(null),[u,d]=y.useState([]),[f,h]=y.useState({}),[m,g]=y.useState(!0);hi.useEffect(()=>{(async()=>{try{const{data:v,error:b}=await Q.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(b)throw b;if(d(v||[]),v&&v.length>0){const _={};for(const j of v){const{count:N}=await Q.from("tournament_registrations").select("*",{count:"exact",head:!0}).eq("tournament_id",j.id).eq("status","confirmed");_[j.id]=N||0}h(_)}}catch(v){console.error("Error fetching tournaments:",v),d([])}finally{g(!1)}})()},[]);const x=u.filter(p=>{const v=t==="all"||p.status===t,b=n||!p.is_practice,_=p.name.toLowerCase().includes(s.toLowerCase())||p.location.toLowerCase().includes(s.toLowerCase());return v&&b&&_}),w=(p,v)=>{e("Registration Complete",`Successfully registered ${p} with ${v.length} Beyblades for the tournament!`),c(null)};return o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(kt,{size:40,className:"mr-4 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Tournament Arena"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Join the ultimate Beyblade battles and prove your worth"})]}),o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between border-b border-slate-700 pb-2 mb-8",children:[o.jsx("div",{className:"flex items-center space-x-6",children:["upcoming","active","completed","all"].map(p=>o.jsxs("button",{onClick:()=>r(p),className:`relative pb-2 text-sm font-medium capitalize transition-colors group ${t===p?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[p,o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${t===p?"w-full":"w-0 group-hover:w-full"}`})]},p))}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx(Mi,{size:16,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search tournaments...",value:s,onChange:p=>a(p.target.value),className:"w-full pl-8 pr-2 py-2 bg-transparent border-b border-slate-700 text-sm focus:outline-none focus:border-cyan-500 transition"})]}),o.jsxs("label",{className:"flex items-center cursor-pointer space-x-2",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:()=>i(!n),className:"sr-only"}),o.jsx("div",{className:"relative w-10 h-5 bg-slate-700 rounded-full",children:o.jsx("div",{className:`absolute top-0.5 left-0.5 h-4 w-4 bg-white rounded-full transform transition-transform duration-300 ${n?"translate-x-5 bg-cyan-400":""}`})}),o.jsx("span",{className:"text-sm text-slate-300",children:"Practice"})]})]})]}),m?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"Loading tournaments..."}):x.length===0?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"No tournaments found"}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(p=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 w-0 transition-all duration-500 group-hover:w-full"}),o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("h3",{className:"text-xl font-bold leading-tight break-words max-w-[65%]",children:p.name}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-sm
                    ${p.status==="active"?"text-green-400 bg-green-400/10":p.status==="completed"?"text-purple-400 bg-purple-400/10":"text-cyan-400 bg-cyan-400/10"}`,children:p.status.toUpperCase()}),p.is_practice&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-yellow-400 bg-yellow-400/10 rounded-sm",children:"Practice"})]})]}),o.jsx("p",{className:"text-slate-400 text-sm mb-3 mt-2",children:p.description}),o.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-2",children:[o.jsx(Da,{size:14,className:"mr-2 text-cyan-400"}),new Date(p.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-2",children:[o.jsx(Kk,{size:14,className:"mr-2 text-cyan-400"}),p.location]}),o.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-4",children:[o.jsx(nt,{size:14,className:"mr-2 text-cyan-400"}),p.max_participants===999999?o.jsxs(o.Fragment,{children:[f[p.id]||0," players"]}):o.jsxs(o.Fragment,{children:[f[p.id]||0," / ",p.max_participants," players"]})]}),p.max_participants!==999999&&o.jsx("div",{className:"w-full h-2 bg-slate-800 mb-4 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-700",style:{width:`${(f[p.id]||0)/p.max_participants*100}%`}})}),o.jsx("div",{className:"mt-4",children:p.status==="upcoming"?o.jsxs("button",{onClick:()=>c(p.id),className:`w-full relative px-4 py-2 text-sm font-semibold text-white 
                             bg-gradient-to-r from-cyan-500 to-purple-500 overflow-hidden 
                             transition-all duration-300 group-hover:shadow-[0_0_12px_rgba(34,211,238,0.6)]`,children:[o.jsx("span",{className:"relative z-10",children:"Register"}),o.jsx("span",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent 
                                   translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700`})]}):o.jsx("button",{disabled:!0,className:"w-full px-4 py-2 text-sm font-semibold text-slate-500 bg-slate-800 cursor-not-allowed",children:"Registration Closed"})})]},p.id))}),l&&o.jsx(bF,{tournament:x.find(p=>p.id===l),onClose:()=>c(null),onSubmit:w})]})})}function CA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=CA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function de(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=CA(e))&&(n&&(n+=" "),n+=t);return n}var Df={},TA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(TA);var rv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(rv);var nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(nv);var Rf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(Rf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TA,r=rv,n=nv,i=Rf;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(Df);var jF=Df.get;const ki=Mr(jF);var MA={exports:{}},Pe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=Symbol.for("react.transitional.element"),sv=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Bf=Symbol.for("react.consumer"),Ff=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),Kf=Symbol.for("react.lazy"),_F=Symbol.for("react.view_transition"),NF=Symbol.for("react.client.reference");function Dr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case iv:switch(e=e.type,e){case $f:case If:case Lf:case Uf:case Wf:case _F:return e;default:switch(e=e&&e.$$typeof,e){case Ff:case zf:case Kf:case Vf:return e;case Bf:return e;default:return t}}case sv:return t}}}Pe.ContextConsumer=Bf;Pe.ContextProvider=Ff;Pe.Element=iv;Pe.ForwardRef=zf;Pe.Fragment=$f;Pe.Lazy=Kf;Pe.Memo=Vf;Pe.Portal=sv;Pe.Profiler=If;Pe.StrictMode=Lf;Pe.Suspense=Uf;Pe.SuspenseList=Wf;Pe.isContextConsumer=function(e){return Dr(e)===Bf};Pe.isContextProvider=function(e){return Dr(e)===Ff};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===iv};Pe.isForwardRef=function(e){return Dr(e)===zf};Pe.isFragment=function(e){return Dr(e)===$f};Pe.isLazy=function(e){return Dr(e)===Kf};Pe.isMemo=function(e){return Dr(e)===Vf};Pe.isPortal=function(e){return Dr(e)===sv};Pe.isProfiler=function(e){return Dr(e)===If};Pe.isStrictMode=function(e){return Dr(e)===Lf};Pe.isSuspense=function(e){return Dr(e)===Uf};Pe.isSuspenseList=function(e){return Dr(e)===Wf};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$f||e===If||e===Lf||e===Uf||e===Wf||typeof e=="object"&&e!==null&&(e.$$typeof===Kf||e.$$typeof===Vf||e.$$typeof===Ff||e.$$typeof===Bf||e.$$typeof===zf||e.$$typeof===NF||e.getModuleId!==void 0)};Pe.typeOf=Dr;MA.exports=Pe;var SF=MA.exports,ft=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,is=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,te=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),pn=e=>te(e)||typeof e=="string",PF=0,Wl=e=>{var t=++PF;return"".concat(e||"").concat(t)},Lt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(t)&&typeof t!="string")return n;var s;if(is(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return ur(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},DA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},ua=(e,t)=>te(e)&&te(t)?r=>e+r*(t-e):()=>t;function Us(e,t,r){return te(e)&&te(t)?e+r*(t-e):t}function kF(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):ki(n,t))===r)}var qe=e=>e===null||typeof e>"u",mc=e=>qe(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),AF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function av(e){if(typeof e!="string")return!1;var t=AF;return t.includes(e)}var EF=["viewBox","children"],oj=["points","pathLength"],Tm={svg:EF,polygon:oj,polyline:oj},ov=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{av(i)&&(n[i]=s=>r[i](r,s))}),n},OF=(e,t,r)=>n=>(e(t,r,n),null),co=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];av(i)&&typeof s=="function"&&(n||(n={}),n[i]=OF(s,t,r))}),n},CF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function RA(e){if(typeof e!="string")return!1;var t=CF;return t.includes(e)}function Ot(e){var t=Object.entries(e).filter(r=>{var[n]=r;return RA(n)});return Object.fromEntries(t)}var lj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",cj=null,Mm=null,$A=e=>{if(e===cj&&Array.isArray(Mm))return Mm;var t=[];return y.Children.forEach(e,r=>{qe(r)||(SF.isFragment(r)?t=t.concat($A(r.props.children)):t.push(r))}),Mm=t,cj=e,t};function pc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>lj(i)):n=[lj(t)],$A(e).forEach(i=>{var s=ki(i,"type.displayName")||ki(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var TF=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(Tm==null?void 0:Tm[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||RA(t)),c=!!r&&av(t);return a||l||c},ve=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;TF((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},MF=["children","width","height","viewBox","className","style","title","desc"];function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(null,arguments)}function DF(e,t){if(e==null)return{};var r,n,i=RF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LA=y.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=DF(e,MF),f=s||{width:n,height:i,x:0,y:0},h=de("recharts-surface",a);return y.createElement("svg",E0({},ve(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),$F=["children","className"];function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(null,arguments)}function LF(e,t){if(e==null)return{};var r,n,i=IF(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ze=y.forwardRef((e,t)=>{var{children:r,className:n}=e,i=LF(e,$F),s=de("recharts-layer",n);return y.createElement("g",O0({className:s},ve(i,!0),{ref:t}),r)}),BF=y.createContext(null);function Ee(e){return function(){return e}}const IA=Math.cos,xd=Math.sin,Jr=Math.sqrt,bd=Math.PI,Hf=2*bd,C0=Math.PI,T0=2*C0,Yi=1e-6,FF=T0-Yi;function BA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function zF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class UF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BA:zF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Yi)if(!(Math.abs(f*c-u*d)>Yi)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,g=i-l,x=c*c+u*u,w=m*m+g*g,p=Math.sqrt(x),v=Math.sqrt(h),b=s*Math.tan((C0-Math.acos((x+h-w)/(2*p*v)))/2),_=b/v,j=b/p;Math.abs(_-1)>Yi&&this._append`L${t+_*d},${r+_*f}`,this._append`A${s},${s},0,0,${+(f*m>d*g)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Yi||Math.abs(this._y1-d)>Yi)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%T0+T0),h>FF?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Yi&&this._append`A${n},${n},0,${+(h>=C0)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function lv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new UF(t)}function cv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function FA(e){this._context=e}FA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function qf(e){return new FA(e)}function zA(e){return e[0]}function UA(e){return e[1]}function WA(e,t){var r=Ee(!0),n=null,i=qf,s=null,a=lv(l);e=typeof e=="function"?e:e===void 0?zA:Ee(e),t=typeof t=="function"?t:t===void 0?UA:Ee(t);function l(c){var u,d=(c=cv(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ee(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ee(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ee(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function su(e,t,r){var n=null,i=Ee(!0),s=null,a=qf,l=null,c=lv(u);e=typeof e=="function"?e:e===void 0?zA:Ee(+e),t=typeof t=="function"?t:Ee(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?UA:Ee(+r);function u(f){var h,m,g,x=(f=cv(f)).length,w,p=!1,v,b=new Array(x),_=new Array(x);for(s==null&&(l=a(v=c())),h=0;h<=x;++h){if(!(h<x&&i(w=f[h],h,f))===p)if(p=!p)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(b[g],_[g]);l.lineEnd(),l.areaEnd()}p&&(b[h]=+e(w,h,f),_[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return WA().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ee(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ee(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ee(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class VA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function WF(e){return new VA(e,!0)}function VF(e){return new VA(e,!1)}const uv={draw(e,t){const r=Jr(t/bd);e.moveTo(r,0),e.arc(0,0,r,0,Hf)}},KF={draw(e,t){const r=Jr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},KA=Jr(1/3),HF=KA*2,qF={draw(e,t){const r=Jr(t/HF),n=r*KA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},GF={draw(e,t){const r=Jr(t),n=-r/2;e.rect(n,n,r,r)}},YF=.8908130915292852,HA=xd(bd/10)/xd(7*bd/10),XF=xd(Hf/10)*HA,JF=-IA(Hf/10)*HA,QF={draw(e,t){const r=Jr(t*YF),n=XF*r,i=JF*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=Hf*s/5,l=IA(a),c=xd(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},Dm=Jr(3),ZF={draw(e,t){const r=-Jr(t/(Dm*3));e.moveTo(0,r*2),e.lineTo(-Dm*r,-r),e.lineTo(Dm*r,-r),e.closePath()}},vr=-.5,xr=Jr(3)/2,M0=1/Jr(12),ez=(M0/2+1)*3,tz={draw(e,t){const r=Jr(t/ez),n=r/2,i=r*M0,s=n,a=r*M0+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(vr*n-xr*i,xr*n+vr*i),e.lineTo(vr*s-xr*a,xr*s+vr*a),e.lineTo(vr*l-xr*c,xr*l+vr*c),e.lineTo(vr*n+xr*i,vr*i-xr*n),e.lineTo(vr*s+xr*a,vr*a-xr*s),e.lineTo(vr*l+xr*c,vr*c-xr*l),e.closePath()}};function rz(e,t){let r=null,n=lv(i);e=typeof e=="function"?e:Ee(e||uv),t=typeof t=="function"?t:Ee(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Ee(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Ee(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function wd(){}function jd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qA(e){this._context=e}qA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nz(e){return new qA(e)}function GA(e){this._context=e}GA.prototype={areaStart:wd,areaEnd:wd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function iz(e){return new GA(e)}function YA(e){this._context=e}YA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:jd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sz(e){return new YA(e)}function XA(e){this._context=e}XA.prototype={areaStart:wd,areaEnd:wd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function az(e){return new XA(e)}function uj(e){return e<0?-1:1}function dj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(uj(s)+uj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function fj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rm(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function _d(e){this._context=e}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rm(this,this._t0,fj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rm(this,fj(this,r=dj(this,e,t)),r);break;default:Rm(this,this._t0,r=dj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function JA(e){this._context=new QA(e)}(JA.prototype=Object.create(_d.prototype)).point=function(e,t){_d.prototype.point.call(this,t,e)};function QA(e){this._context=e}QA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function oz(e){return new _d(e)}function lz(e){return new JA(e)}function ZA(e){this._context=e}ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=hj(e),i=hj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function hj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function cz(e){return new ZA(e)}function Gf(e,t){this._context=e,this._t=t}Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uz(e){return new Gf(e,.5)}function dz(e){return new Gf(e,0)}function fz(e){return new Gf(e,1)}function Ba(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function D0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hz(e,t){return e[t]}function mz(e){const t=[];return t.key=e,t}function pz(){var e=Ee([]),t=D0,r=Ba,n=hz;function i(s){var a=Array.from(e.apply(this,arguments),mz),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=cv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Ee(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ee(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?D0:typeof s=="function"?s:Ee(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??Ba,i):r},i}function gz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}Ba(e,t)}}function yz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}Ba(e,t)}}function vz(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var x=e[t[g]],w=x[n][1]||0,p=x[n-1][1]||0;m+=w-p}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,Ba(e,t)}}var xz=["type","size","sizeType"];function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}function mj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mj(Object(r),!0).forEach(function(n){bz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bz(e,t,r){return(t=wz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wz(e){var t=jz(e,"string");return typeof t=="symbol"?t:t+""}function jz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _z(e,t){if(e==null)return{};var r,n,i=Nz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Nz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eE={symbolCircle:uv,symbolCross:KF,symbolDiamond:qF,symbolSquare:GF,symbolStar:QF,symbolTriangle:ZF,symbolWye:tz},Sz=Math.PI/180,Pz=e=>{var t="symbol".concat(mc(e));return eE[t]||uv},kz=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*Sz;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Az=(e,t)=>{eE["symbol".concat(mc(e))]=t},tE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=_z(e,xz),s=pj(pj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=Pz(t),h=rz().type(f).size(kz(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=ve(s,!0);return c===+c&&u===+u&&r===+r?y.createElement("path",R0({},d,{className:de("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};tE.registerSymbol=Az;var rE={},nE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(nE);var gc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(gc);var iE={},Yf={},sE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Yf);var aE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(aE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yf,r=aE;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(iE);var Xf={},oE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Df;function r(n){return function(i){return t.get(i,n)}}e.property=r})(oE);var lE={},$m={},Lm={},dv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(dv);var fv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(fv);var Jf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Jf);var gj;function Ez(){return gj||(gj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hv(),r=dv,n=fv,i=Jf;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function g(x,w,p,v,b,_){const j=m(x,w,p,v,b,_);return j!==void 0?!!j:a(x,w,g,_)},new Map)}function a(f,h,m,g){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,g);case"function":return Object.keys(h).length>0?a(f,{...h},m,g):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,g){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,g);if(h instanceof Map)return c(f,h,m,g);if(h instanceof Set)return d(f,h,m,g);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(g&&g.has(h))return g.get(h)===f;g&&g.set(h,f);try{for(let w=0;w<x.length;w++){const p=x[w];if(!n.isPrimitive(f)&&!(p in f)||h[p]===void 0&&f[p]!==void 0||h[p]===null&&f[p]!==null||!m(f[p],h[p],p,f,h,g))return!1}return!0}finally{g&&g.delete(h)}}function c(f,h,m,g){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const p=f.get(x);if(m(p,w,x,f,h,g)===!1)return!1}return!0}function u(f,h,m,g){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const p=h[w];let v=!1;for(let b=0;b<f.length;b++){if(x.has(b))continue;const _=f[b];let j=!1;if(m(_,p,w,f,h,g)&&(j=!0),j){x.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,g){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,g):!1}e.isMatchWith=s,e.isSetMatch=d}(Lm)),Lm}var yj;function hv(){return yj||(yj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ez();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}($m)),$m}var cE={},mv={},pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pv);var Qf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qf);var Zf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",x="[object DataView]",w="[object Uint8Array]",p="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",S="[object BigInt64Array]",A="[object Float32Array]",C="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=S,e.bigUint64ArrayTag=_,e.booleanTag=i,e.dataViewTag=x,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=C,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=p})(Zf);var uE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(uE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pv,r=Qf,n=Zf,i=fv,s=uE;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const x=g==null?void 0:g(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let p=0;p<d.length;p++)w[p]=l(d[p],p,h,m,g);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[p,v]of d)w.set(p,l(v,p,h,m,g));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const p of d)w.add(l(p,void 0,h,m,g));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let p=0;p<d.length;p++)w[p]=l(d[p],p,h,m,g);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,g),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,g),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,g),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,g),w}return d}function c(d,f,h=d,m,g){const x=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<x.length;w++){const p=x[w],v=Object.getOwnPropertyDescriptor(d,p);(v==null||v.writable)&&(d[p]=l(f[p],p,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(mv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(cE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hv(),r=cE;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(lE);var dE={},fE={},hE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mv,r=Zf;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(hE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(fE);var mE={},gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(gv);var pE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(pE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rv,r=gv,n=pE,i=Rf;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(mE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hv(),r=nv,n=fE,i=Df,s=mE;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(dE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gc,r=oE,n=lE,i=dE;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(Xf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nE,r=gc,n=iE,i=Xf;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(rE);var Oz=rE.uniqBy;const vj=Mr(Oz);function Cz(e,t,r){return t===!0?vj(e,r):typeof t=="function"?vj(e,t):e}var gE={exports:{}},yE={},vE={exports:{}},xE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fa=y;function Tz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mz=typeof Object.is=="function"?Object.is:Tz,Dz=Fa.useState,Rz=Fa.useEffect,$z=Fa.useLayoutEffect,Lz=Fa.useDebugValue;function Iz(e,t){var r=t(),n=Dz({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return $z(function(){i.value=r,i.getSnapshot=t,Im(i)&&s({inst:i})},[e,r,t]),Rz(function(){return Im(i)&&s({inst:i}),e(function(){Im(i)&&s({inst:i})})},[e]),Lz(r),r}function Im(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Mz(e,r)}catch{return!0}}function Bz(e,t){return t()}var Fz=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Bz:Iz;xE.useSyncExternalStore=Fa.useSyncExternalStore!==void 0?Fa.useSyncExternalStore:Fz;vE.exports=xE;var zz=vE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=y,Uz=zz;function Wz(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vz=typeof Object.is=="function"?Object.is:Wz,Kz=Uz.useSyncExternalStore,Hz=eh.useRef,qz=eh.useEffect,Gz=eh.useMemo,Yz=eh.useDebugValue;yE.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=Hz(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=Gz(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,Vz(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=Kz(e,s[0],s[1]);return qz(function(){a.hasValue=!0,a.value=l},[l]),Yz(l),l};gE.exports=yE;var Xz=gE.exports,yv=y.createContext(null),Jz=e=>e,Ue=()=>{var e=y.useContext(yv);return e?e.store.dispatch:Jz},Iu=()=>{},Qz=()=>Iu,Zz=(e,t)=>e===t;function ee(e){var t=y.useContext(yv);return Xz.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:Qz,t?t.store.getState:Iu,t?t.store.getState:Iu,t?e:Iu,Zz)}function e8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function t8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function r8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var xj=e=>Array.isArray(e)?e:[e];function n8(e){const t=Array.isArray(e[0])?e[0]:e;return r8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function i8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var s8=class{constructor(e){this.value=e}deref(){return this.value}},a8=typeof WeakRef<"u"?WeakRef:s8,o8=0,bj=1;function au(){return{s:o8,v:void 0,o:null,p:null}}function bE(e,t={}){let r=au();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(g);w===void 0?(l=au(),x.set(g,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(g);w===void 0?(l=au(),x.set(g,l)):l=w}}const u=l;let d;if(l.s===bj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new a8(d):d}return u.s=bj,u.v=d,d}return a.clearCache=()=>{r=au(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function l8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),e8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=bE,argsMemoizeOptions:g=[],devModeChecks:x={}}=d,w=xj(h),p=xj(g),v=n8(i),b=f(function(){return s++,u.apply(null,arguments)},...w),_=m(function(){a++;const N=i8(v,arguments);return l=b.apply(null,N),l},...p);return Object.assign(_,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var F=l8(bE),c8=Object.assign((e,t=F)=>{t8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>c8}),wE={},jE={},_E={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(_E);var NE={},vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(vv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(NE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_E,r=NE,n=Rf;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let x=m;for(let w=0;w<g.length&&x!=null;++w)x=x[g[w]];return x},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let x=0;x<f.length;x++){const w=t.compareValues(m.criteria[x],g.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(jE);var SE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(SE);var xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv,r=Yf,n=dv,i=Jf;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(xv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE,r=SE,n=xv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(wE);var u8=wE.sortBy;const th=Mr(u8);var PE=e=>e.legend.settings,d8=e=>e.legend.size,f8=e=>e.legend.payload;F([f8,PE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?th(n,r):n});var ou=1;function h8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>ou||Math.abs(a.left-t.left)>ou||Math.abs(a.top-t.top)>ou||Math.abs(a.width-t.width)>ou)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var m8=typeof Symbol=="function"&&Symbol.observable||"@@observable",wj=m8,Bm=()=>Math.random().toString(36).substring(7).split("").join("."),p8={INIT:`@@redux/INIT${Bm()}`,REPLACE:`@@redux/REPLACE${Bm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bm()}`},Nd=p8;function bv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function kE(e,t,r){if(typeof e!="function")throw new Error(pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pt(1));return r(kE)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,p)=>{a.set(p,w)}))}function d(){if(c)throw new Error(pt(3));return i}function f(w){if(typeof w!="function")throw new Error(pt(4));if(c)throw new Error(pt(5));let p=!0;u();const v=l++;return a.set(v,w),function(){if(p){if(c)throw new Error(pt(6));p=!1,u(),a.delete(v),s=null}}}function h(w){if(!bv(w))throw new Error(pt(7));if(typeof w.type>"u")throw new Error(pt(8));if(typeof w.type!="string")throw new Error(pt(17));if(c)throw new Error(pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(pt(10));n=w,h({type:Nd.REPLACE})}function g(){const w=f;return{subscribe(p){if(typeof p!="object"||p===null)throw new Error(pt(11));function v(){const _=p;_.next&&_.next(d())}return v(),{unsubscribe:w(v)}},[wj](){return this}}}return h({type:Nd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[wj]:g}}function g8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Nd.INIT})>"u")throw new Error(pt(12));if(typeof r(void 0,{type:Nd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function AE(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{g8(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(pt(14));u[f]=g,c=c||g!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Sd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function y8(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Sd(...l)(i.dispatch),{...i,dispatch:s}}}function EE(e){return bv(e)&&"type"in e&&typeof e.type=="string"}var OE=Symbol.for("immer-nothing"),jj=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var za=Object.getPrototypeOf;function js(e){return!!e&&!!e[dr]}function In(e){var t;return e?CE(e)||Array.isArray(e)||!!e[jj]||!!((t=e.constructor)!=null&&t[jj])||nh(e)||ih(e):!1}var v8=Object.prototype.constructor.toString();function CE(e){if(!e||typeof e!="object")return!1;const t=za(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===v8}function Pd(e,t){rh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function rh(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:nh(e)?2:ih(e)?3:0}function $0(e,t){return rh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function TE(e,t,r){const n=rh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function x8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nh(e){return e instanceof Map}function ih(e){return e instanceof Set}function Xi(e){return e.copy_||e.base_}function L0(e,t){if(nh(e))return new Map(e);if(ih(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=CE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[dr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(za(e),n)}else{const n=za(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function wv(e,t=!1){return sh(e)||js(e)||!In(e)||(rh(e)>1&&(e.set=e.add=e.clear=e.delete=b8),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>wv(n,!0))),e}function b8(){Vr(2)}function sh(e){return Object.isFrozen(e)}var w8={};function _s(e){const t=w8[e];return t||Vr(0,e),t}var Vl;function ME(){return Vl}function j8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function _j(e,t){t&&(_s("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function I0(e){B0(e),e.drafts_.forEach(_8),e.drafts_=null}function B0(e){e===Vl&&(Vl=e.parent_)}function Nj(e){return Vl=j8(Vl,e)}function _8(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Sj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[dr].modified_&&(I0(t),Vr(4)),In(e)&&(e=kd(t,e),t.parent_||Ad(t,e)),t.patches_&&_s("Patches").generateReplacementPatches_(r[dr].base_,e,t.patches_,t.inversePatches_)):e=kd(t,r,[]),I0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==OE?e:void 0}function kd(e,t,r){if(sh(t))return t;const n=t[dr];if(!n)return Pd(t,(i,s)=>Pj(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ad(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Pd(s,(l,c)=>Pj(e,n,i,l,c,r,a)),Ad(e,i,!1),r&&e.patches_&&_s("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Pj(e,t,r,n,i,s,a){if(js(i)){const l=s&&t&&t.type_!==3&&!$0(t.assigned_,n)?s.concat(n):void 0,c=kd(e,i,l);if(TE(r,n,c),js(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(In(i)&&!sh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;kd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ad(e,i)}}function Ad(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&wv(t,r)}function N8(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:ME(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=jv;r&&(i=[n],s=Kl);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var jv={get(e,t){if(t===dr)return e;const r=Xi(e);if(!$0(r,t))return S8(e,r,t);const n=r[t];return e.finalized_||!In(n)?n:n===Fm(e.base_,t)?(zm(e),e.copy_[t]=z0(n,e)):n},has(e,t){return t in Xi(e)},ownKeys(e){return Reflect.ownKeys(Xi(e))},set(e,t,r){const n=DE(Xi(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=Fm(Xi(e),t),s=i==null?void 0:i[dr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(x8(r,i)&&(r!==void 0||$0(e.base_,t)))return!0;zm(e),F0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Fm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zm(e),F0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Xi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return za(e.base_)},setPrototypeOf(){Vr(12)}},Kl={};Pd(jv,(e,t)=>{Kl[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Kl.deleteProperty=function(e,t){return Kl.set.call(this,e,t,void 0)};Kl.set=function(e,t,r){return jv.set.call(this,e[0],t,r,e[0])};function Fm(e,t){const r=e[dr];return(r?Xi(r):e)[t]}function S8(e,t,r){var i;const n=DE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function DE(e,t){if(!(t in e))return;let r=za(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=za(r)}}function F0(e){e.modified_||(e.modified_=!0,e.parent_&&F0(e.parent_))}function zm(e){e.copy_||(e.copy_=L0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var P8=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let i;if(In(t)){const s=Nj(this),a=z0(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?I0(s):B0(s)}return _j(s,n),Sj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===OE&&(i=void 0),this.autoFreeze_&&wv(i,!0),n){const s=[],a=[];_s("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){In(e)||Vr(8),js(e)&&(e=On(e));const t=Nj(this),r=z0(e,void 0);return r[dr].isManual_=!0,B0(t),r}finishDraft(e,t){const r=e&&e[dr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return _j(n,t),Sj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=_s("Patches").applyPatches_;return js(e)?n(e,t):this.produce(e,i=>n(i,t))}};function z0(e,t){const r=nh(e)?_s("MapSet").proxyMap_(e,t):ih(e)?_s("MapSet").proxySet_(e,t):N8(e,t);return(t?t.scope_:ME()).drafts_.push(r),r}function On(e){return js(e)||Vr(10,e),RE(e)}function RE(e){if(!In(e)||sh(e))return e;const t=e[dr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=L0(e,t.scope_.immer_.useStrictShallowCopy_)}else r=L0(e,!0);return Pd(r,(n,i)=>{TE(r,n,RE(i))}),t&&(t.finalized_=!1),r}var fr=new P8,$E=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function LE(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var k8=LE(),A8=LE,E8=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sd:Sd.apply(null,arguments)};function Cr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(lr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>EE(n)&&n.type===e,r}var IE=class Qo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qo.prototype)}static get[Symbol.species](){return Qo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qo(...t[0].concat(this)):new Qo(...t.concat(this))}};function kj(e){return In(e)?$E(e,()=>{}):e}function lu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function O8(e){return typeof e=="boolean"}var C8=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new IE;return r&&(O8(r)?a.push(k8):a.push(A8(r.extraArgument))),a},T8="RTK_autoBatch",Aj=e=>t=>{setTimeout(t,e)},M8=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Aj(10):e.type==="callback"?e.queueNotification:Aj(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[T8]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},D8=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new IE(e);return n&&i.push(M8(typeof n=="object"?n:void 0)),i};function R8(e){const t=C8(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(bv(r))c=AE(r);else throw new Error(lr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Sd;i&&(d=E8({trace:!1,...typeof i=="object"&&i}));const f=y8(...u),h=D8(f);let m=typeof l=="function"?l(h):h();const g=d(...m);return kE(c,a,g)}function BE(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(lr(28));if(l in t)throw new Error(lr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function $8(e){return typeof e=="function"}function L8(e,t){let[r,n,i]=BE(t),s;if($8(e))s=()=>kj(e());else{const l=kj(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(js(d)){const m=f(d,c);return m===void 0?d:m}else{if(In(d))return $E(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var I8="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",B8=(e=21)=>{let t="",r=e;for(;r--;)t+=I8[Math.random()*64|0];return t},F8=Symbol.for("rtk-slice-createasyncthunk");function z8(e,t){return`${e}/${t}`}function U8({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[F8];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(lr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(V8()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const N=typeof _=="string"?_:_.type;if(!N)throw new Error(lr(12));if(N in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[N]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=l[_],N={reducerName:_,type:z8(s,_),createNotation:typeof i.reducers=="function"};H8(j)?G8(N,j,d,t):K8(N,j,d)});function f(){const[_={},j=[],N=void 0]=typeof i.extraReducers=="function"?BE(i.extraReducers):[i.extraReducers],P={..._,...u.sliceCaseReducersByType};return L8(i.initialState,S=>{for(let A in P)S.addCase(A,P[A]);for(let A of u.sliceMatchers)S.addMatcher(A.matcher,A.reducer);for(let A of j)S.addMatcher(A.matcher,A.reducer);N&&S.addDefaultCase(N)})}const h=_=>_,m=new Map,g=new WeakMap;let x;function w(_,j){return x||(x=f()),x(_,j)}function p(){return x||(x=f()),x.getInitialState()}function v(_,j=!1){function N(S){let A=S[_];return typeof A>"u"&&j&&(A=lu(g,N,p)),A}function P(S=h){const A=lu(m,j,()=>new WeakMap);return lu(A,S,()=>{const C={};for(const[O,U]of Object.entries(i.selectors??{}))C[O]=W8(U,S,()=>lu(g,S,p),j);return C})}return{reducerPath:_,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const b={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:p,...v(a),injectInto(_,{reducerPath:j,...N}={}){const P=j??a;return _.inject({reducerPath:P,reducer:w},N),{...b,...v(P,!0)}}};return b}}function W8(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var gr=U8();function V8(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function K8({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!q8(n))throw new Error(lr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Cr(e,a):Cr(e))}function H8(e){return e._reducerDefinitionType==="asyncThunk"}function q8(e){return e._reducerDefinitionType==="reducerWithPrepare"}function G8({type:e,reducerName:t},r,n,i){if(!i)throw new Error(lr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||cu,pending:l||cu,rejected:c||cu,settled:u||cu})}function cu(){}var Y8="task",FE="listener",zE="completed",_v="cancelled",X8=`task-${_v}`,J8=`task-${zE}`,U0=`${FE}-${_v}`,Q8=`${FE}-${zE}`,ah=class{constructor(e){Rh(this,"name","TaskAbortError");Rh(this,"message");this.code=e,this.message=`${Y8} ${_v} (reason: ${e})`}},Nv=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},Ed=()=>{},UE=(e,t=Ed)=>(e.catch(t),e),WE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),hs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ms=e=>{if(e.aborted){const{reason:t}=e;throw new ah(t)}};function VE(e,t){let r=Ed;return new Promise((n,i)=>{const s=()=>i(new ah(e.reason));if(e.aborted){s();return}r=WE(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Ed})}var Z8=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ah?"cancelled":"rejected",error:r}}finally{t==null||t()}},Od=e=>t=>UE(VE(e,t).then(r=>(ms(e),r))),KE=e=>{const t=Od(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Na}=Object,Ej={},oh="listenerMiddleware",eU=(e,t)=>{const r=n=>WE(e,()=>hs(n,e.reason));return(n,i)=>{Nv(n);const s=new AbortController;r(s);const a=Z8(async()=>{ms(e),ms(s.signal);const l=await n({pause:Od(s.signal),delay:KE(s.signal),signal:s.signal});return ms(s.signal),l},()=>hs(s,J8));return i!=null&&i.autoJoin&&t.push(a.catch(Ed)),{result:Od(e)(a),cancel(){hs(s,X8)}}}},tU=(e,t)=>{const r=async(n,i)=>{ms(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await VE(t,Promise.race(l));return ms(t),c}finally{s()}};return(n,i)=>UE(r(n,i))},HE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Cr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(lr(21));return Nv(s),{predicate:i,type:t,effect:s}},qE=Na(e=>{const{type:t,predicate:r,effect:n}=HE(e);return{id:B8(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>qE}),Oj=(e,t)=>{const{type:r,effect:n,predicate:i}=HE(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},W0=e=>{e.pending.forEach(t=>{hs(t,U0)})},rU=e=>()=>{e.forEach(W0),e.clear()},Cj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},GE=Na(Cr(`${oh}/add`),{withTypes:()=>GE}),nU=Cr(`${oh}/removeAll`),YE=Na(Cr(`${oh}/remove`),{withTypes:()=>YE}),iU=(...e)=>{console.error(`${oh}/error`,...e)},yc=(e={})=>{const t=new Map,{extra:r,onError:n=iU}=e;Nv(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&W0(d)}),s=d=>{const f=Oj(t,d)??qE(d);return i(f)};Na(s,{withTypes:()=>s});const a=d=>{const f=Oj(t,d);return f&&(f.unsubscribe(),d.cancelActive&&W0(f)),!!f};Na(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const g=new AbortController,x=tU(s,g.signal),w=[];try{d.pending.add(g),await Promise.resolve(d.effect(f,Na({},h,{getOriginalState:m,condition:(p,v)=>x(p,v).then(Boolean),take:x,delay:KE(g.signal),pause:Od(g.signal),extra:r,signal:g.signal,fork:eU(g.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((p,v,b)=>{p!==g&&(hs(p,U0),b.delete(p))})},cancel:()=>{hs(g,U0),d.pending.delete(g)},throwIfCancelled:()=>{ms(g.signal)}})))}catch(p){p instanceof ah||Cj(n,p,{raisedBy:"effect"})}finally{await Promise.all(w),hs(g,Q8),d.pending.delete(g)}},c=rU(t);return{middleware:d=>f=>h=>{if(!EE(h))return f(h);if(GE.match(h))return s(h.payload);if(nU.match(h)){c();return}if(YE.match(h))return a(h.payload);let m=d.getState();const g=()=>{if(m===Ej)throw new Error(lr(23));return m};let x;try{if(x=f(h),t.size>0){const w=d.getState(),p=Array.from(t.values());for(const v of p){let b=!1;try{b=v.predicate(h,w,m)}catch(_){b=!1,Cj(n,_,{raisedBy:"predicate"})}b&&l(v,h,d,g)}}}finally{m=Ej}return x},startListening:s,stopListening:a,clearListeners:c}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var sU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},XE=gr({name:"chartLayout",initialState:sU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:aU,setLayout:oU,setChartSize:lU,setScale:cU}=XE.actions,uU=XE.reducer;function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){dU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dU(e,t,r){return(t=fU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fU(e){var t=hU(e,"string");return typeof t=="symbol"?t:t+""}function hU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cd=Math.PI/180,mU=e=>e*180/Math.PI,be=(e,t,r,n)=>({x:e+Math.cos(-Cd*n)*r,y:t+Math.sin(-Cd*n)*r}),JE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},pU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},gU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=pU({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:mU(c),angleInRadian:c}},yU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},vU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},xU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=gU({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=yU(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Mj(Mj({},t),{},{radius:i,angle:vU(d,t)}):null},QE=e=>!y.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function ZE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){bU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bU(e,t,r){return(t=wU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ce(e,t,r){return qe(e)||qe(t)?r:pn(t)?ki(e,t,r):typeof t=="function"?t(e):r}var _U=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(ft(d-u)!==ft(f-d)){var m=[];if(ft(f-d)===ft(i[1]-i[0])){h=f;var g=d+i[1]-i[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var x=f+i[1]-i[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var p=Math.min(u,f),v=Math.max(u,f);if(e>(p+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},NU=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&te(e[s]))return Nr(Nr({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&te(e[a]))return Nr(Nr({},e),{},{[a]:e[a]+(i||0)})}return e},Ri=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",eO=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},tO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var g=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=i==="category"&&a.bandwidth?a.bandwidth()/g:0;if(x=m==="angleAxis"&&s&&s.length>=2?ft(s[0]-s[1])*2*x:x,f||h){var w=(f||h||[]).map((p,v)=>{var b=n?n.indexOf(p):p;return{coordinate:a(b)+x,value:p,offset:x,index:v}});return w.filter(p=>!ur(p.coordinate))}return c&&u?u.map((p,v)=>({coordinate:a(p)+x,value:p,index:v,offset:x})):a.ticks&&!r&&d!=null?a.ticks(d).map((p,v)=>({coordinate:a(p)+x,value:p,offset:x,index:v})):a.domain().map((p,v)=>({coordinate:a(p)+x,value:n?n[p]:p,index:v,offset:x}))},Rj=1e-4,SU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-Rj,s=Math.max(n[0],n[1])+Rj,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},PU=(e,t)=>{if(!t||t.length!==2||!te(t[0])||!te(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(i[0]=r),(!te(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},kU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=ur(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},AU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=ur(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},EU={sign:kU,expand:gz,none:Ba,silhouette:yz,wiggle:vz,positive:AU},OU=(e,t,r)=>{var n=EU[r],i=pz().keys(t).value((s,a)=>+Ce(s,a,0)).order(D0).offset(n);return i(e)};function CU(e){return e==null?void 0:String(e)}var $j=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=Ce(s,t.dataKey,t.scale.domain()[a]);return qe(l)?null:t.scale(l)-i/2+n},TU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},MU=e=>{var t=e.flat(2).filter(te);return[Math.min(...t),Math.max(...t)]},DU=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],RU=(e,t,r)=>{if(e!=null)return DU(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=ZE(u,t,r),f=MU(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Lj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Ij=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=th(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function Bj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Nr(Nr({},t),{},{dataKey:r,payload:n,value:i,name:s})}function uo(e,t){if(e)return String(e);if(typeof t=="string")return t}function $U(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?xU({x:e,y:t},n):null}var LU=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return Nr(Nr(Nr({},n),be(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return Nr(Nr(Nr({},n),be(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},IU=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Hn=e=>e.layout.width,qn=e=>e.layout.height,BU=e=>e.layout.scale,rO=e=>e.layout.margin,Sv=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Pv=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),nO="data-recharts-item-index",iO="data-recharts-item-data-key",lh=60;function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return(t=zU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zU(e){var t=UU(e,"string");return typeof t=="symbol"?t:t+""}function UU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var WU=e=>e.brush.height,it=F([Hn,qn,rO,WU,Sv,Pv,PE,d8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((g,x)=>{var{orientation:w}=x;if(!x.mirror&&!x.hide){var p=typeof x.width=="number"?x.width:lh;return Zn(Zn({},g),{},{[w]:g[w]+p})}return g},{left:r.left||0,right:r.right||0}),u=i.reduce((g,x)=>{var{orientation:w}=x;return!x.mirror&&!x.hide?Zn(Zn({},g),{},{[w]:ki(g,"".concat(w))+x.height}):g},{top:r.top||0,bottom:r.bottom||0}),d=Zn(Zn({},u),c),f=d.bottom;d.bottom+=n,d=NU(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return Zn(Zn({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),VU=F(it,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sO=F(Hn,qn,(e,t)=>({x:0,y:0,width:e,height:t})),KU=y.createContext(null),tr=()=>y.useContext(KU)!=null,ch=e=>e.brush,uh=F([ch,it,rO],(e,t,r)=>({height:e.height,x:te(e.x)?e.x:t.left,y:te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:te(e.width)?e.width:t.width})),kv=()=>{var e,t=tr(),r=ee(VU),n=ee(uh),i=(e=ee(ch))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},HU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},aO=()=>{var e;return(e=ee(it))!==null&&e!==void 0?e:HU},oO=()=>ee(Hn),lO=()=>ee(qn),pe=e=>e.layout.layoutType,Av=()=>ee(pe),qU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},cO=gr({name:"legend",initialState:qU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=On(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:$te,setLegendSettings:Lte,addLegendPayload:uO,removeLegendPayload:dO}=cO.actions,GU=cO.reducer;function V0(){return V0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},V0.apply(null,arguments)}function zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zj(Object(r),!0).forEach(function(n){YU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YU(e,t,r){return(t=XU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XU(e){var t=JU(e,"string");return typeof t=="symbol"?t:t+""}function JU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QU(e){return Array.isArray(e)&&pn(e[0])&&pn(e[1])?e.join(" ~ "):e}var ZU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},N=(l?th(s,l):s).map((P,S)=>{if(P.type==="none")return null;var A=P.formatter||a||QU,{value:C,name:O}=P,U=C,L=O;if(A){var q=A(C,O,P,S,s);if(Array.isArray(q))[U,L]=q;else if(q!=null)U=q;else return null}var I=Um({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(S),style:I},pn(L)?y.createElement("span",{className:"recharts-tooltip-item-name"},L):null,pn(L)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},U),y.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},g=Um({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Um({margin:0},i),w=!qe(d),p=w?d:"",v=de("recharts-default-tooltip",c),b=de("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(p=f(d,s));var _=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",V0({className:v,style:g},_),y.createElement("p",{className:b,style:x},y.isValidElement(p)?p:"".concat(p)),m())},Lo="recharts-tooltip-wrapper",e9={visibility:"hidden"};function t9(e){var{coordinate:t,translateX:r,translateY:n}=e;return de(Lo,{["".concat(Lo,"-right")]:te(r)&&t&&te(t.x)&&r>=t.x,["".concat(Lo,"-left")]:te(r)&&t&&te(t.x)&&r<t.x,["".concat(Lo,"-bottom")]:te(n)&&t&&te(t.y)&&n>=t.y,["".concat(Lo,"-top")]:te(n)&&t&&te(t.y)&&n<t.y})}function Uj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&te(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function r9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function n9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=Uj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=Uj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=r9({translateX:d,translateY:f,useTranslate3d:l})):u=e9,{cssProperties:u,cssClasses:t9({translateX:d,translateY:f,coordinate:r})}}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){K0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K0(e,t,r){return(t=i9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i9(e){var t=s9(e,"string");return typeof t=="symbol"?t:t+""}function s9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class a9 extends y.PureComponent{constructor(){super(...arguments),K0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),K0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:x,innerRef:w,hasPortalFromProps:p}=this.props,{cssClasses:v,cssProperties:b}=n9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),_=p?{}:uu(uu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=uu(uu({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:w},s)}}var o9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Os={isSsr:o9()},fO=()=>ee(e=>e.rootProps.accessibilityLayer);function hr(e){return Number.isFinite(e)}function Ua(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(null,arguments)}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Kj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){l9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l9(e,t,r){return(t=c9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c9(e){var t=u9(e,"string");return typeof t=="symbol"?t:t+""}function u9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hj={curveBasisClosed:iz,curveBasisOpen:sz,curveBasis:nz,curveBumpX:WF,curveBumpY:VF,curveLinearClosed:az,curveLinear:qf,curveMonotoneX:oz,curveMonotoneY:lz,curveNatural:cz,curveStep:uz,curveStepAfter:fz,curveStepBefore:dz},du=e=>hr(e.x)&&hr(e.y),Io=e=>e.x,Bo=e=>e.y,d9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(mc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Hj["".concat(r).concat(t==="vertical"?"Y":"X")]:Hj[r]||qf},f9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=d9(t,i),l=s?r.filter(du):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>du(f)):n,d=l.map((f,h)=>Kj(Kj({},f),{},{base:u[h]}));return i==="vertical"?c=su().y(Bo).x1(Io).x0(f=>f.base.x):c=su().x(Io).y1(Bo).y0(f=>f.base.y),c.defined(du).curve(a),c(d)}return i==="vertical"&&te(n)?c=su().y(Bo).x1(Io).x0(n):te(n)?c=su().x(Io).y1(Bo).y0(n):c=WA().x(Io).y(Bo),c.defined(du).curve(a),c(l)},hO=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?f9(e):n;return y.createElement("path",H0({},Ot(e),ov(e),{className:de("recharts-curve",t),d:s===null?void 0:s,ref:i}))},h9=["x","y","top","left","width","height","className"];function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(null,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function m9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){p9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function p9(e,t,r){return(t=g9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g9(e){var t=y9(e,"string");return typeof t=="symbol"?t:t+""}function y9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v9(e,t){if(e==null)return{};var r,n,i=x9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function x9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var b9=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),w9=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=v9(e,h9),u=m9({x:t,y:r,top:n,left:i,width:s,height:a},c);return!te(t)||!te(r)||!te(s)||!te(a)||!te(n)||!te(i)?null:y.createElement("path",q0({},ve(u,!0),{className:de("recharts-cross",l),d:b9(t,r,s,a,n,i)}))};function j9(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){N9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N9(e,t,r){return(t=S9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S9(e){var t=P9(e,"string");return typeof t=="symbol"?t:t+""}function P9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t){var r=_9({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var mO={},pO={},gO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gO,r=pv,n=Qf,i=Zf,s=Jf;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,g,x){const w=x(u,d,f,h,m,g);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,g,x)}return c(u,d,g,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),g=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),g===i.argumentsTag&&(g=i.objectTag),m!==g)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const p=u.valueOf(),v=d.valueOf();return s.eq(p,v)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const x=f.get(u),w=f.get(d);if(x!=null&&w!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[p,v]of u.entries())if(!d.has(p)||!l(v,d.get(p),p,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const p=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<p.length;b++){const _=p[b],j=v.findIndex(N=>l(_,N,void 0,u,d,f,h));if(j===-1)return!1;v.splice(j,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let p=0;p<u.length;p++)if(!l(u[p],d[p],p,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let _=0;_<v.length;_++){const j=v[_],N=u[j];if(!Object.hasOwn(d,j))return!1;const P=d[j];if(!l(N,P,j,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(pO);var yO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(yO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO,r=yO;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(mO);var k9=mO.isEqual;const A9=Mr(k9);var Td=1e-4,vO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],xO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Yj=(e,t)=>r=>{var n=vO(e,t);return xO(n,r)},E9=(e,t)=>r=>{var n=vO(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return xO(i,r)},Xj=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(g=>parseFloat(g)))}}else a.length===4&&([t,n,r,i]=a);var u=Yj(t,r),d=Yj(n,i),f=E9(t,r),h=g=>g>1?1:g<0?0:g,m=g=>{for(var x=g>1?1:g,w=x,p=0;p<8;++p){var v=u(w)-x,b=f(w);if(Math.abs(v-x)<Td||b<Td)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},O9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Td&&Math.abs(f)<Td?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},bO=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Xj(e);case"spring":return O9();default:if(e.split("(")[0]==="cubic-bezier")return Xj(e)}return typeof e=="function"?e:null};function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=T9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9(e){var t=M9(e,"string");return typeof t=="symbol"?t:t+""}function M9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var D9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),R9=(e,t,r)=>e.map(n=>"".concat(D9(n)," ").concat(t,"ms ").concat(r)).join(","),$9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),ql=(e,t)=>Object.keys(t).reduce((r,n)=>Qj(Qj({},r),{},{[n]:e(n,t[n])}),{});function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){L9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function L9(e,t,r){return(t=I9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I9(e){var t=B9(e,"string");return typeof t=="symbol"?t:t+""}function B9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Md=(e,t,r)=>e+(t-e)*r,G0=e=>{var{from:t,to:r}=e;return t!==r},wO=(e,t,r)=>{var n=ql((i,s)=>{if(G0(s)){var[a,l]=e(s.from,s.to,s.velocity);return yt(yt({},s),{},{from:a,velocity:l})}return s},t);return r<1?ql((i,s)=>G0(s)?yt(yt({},s),{},{velocity:Md(s.velocity,n[i].velocity,r),from:Md(s.from,n[i].from,r)}):s,t):wO(e,n,r-1)};function F9(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>yt(yt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>ql((h,m)=>m.from,l),u=()=>!Object.values(l).filter(G0).length,d=null,f=h=>{a||(a=h);var m=h-a,g=m/r.dt;l=wO(r,l,g),i(yt(yt(yt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function z9(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>yt(yt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=ql((x,w)=>Md(...w,r(h)),c);if(s(yt(yt(yt({},e),t),m)),h<1)l=a.setTimeout(d);else{var g=ql((x,w)=>Md(...w,r(1)),c);s(yt(yt(yt({},e),t),g))}};return()=>(l=a.setTimeout(d),()=>{l()})}const jO=(e,t,r,n,i,s)=>{var a=$9(e,t);return r.isStepper===!0?F9(e,t,r,a,i,s):z9(e,t,r,n,a,i,s)};function U9(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class W9{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function V9(){return U9(new W9)}var K9=y.createContext(V9);function _O(e,t){var r=y.useContext(K9);return y.useMemo(()=>t??r(e),[e,t,r])}var H9=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function q9(e,t){if(e==null)return{};var r,n,i=G9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function G9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ei(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e_(Object(r),!0).forEach(function(n){ss(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ss(e,t,r){return(t=Y9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y9(e){var t=X9(e,"string");return typeof t=="symbol"?t:t+""}function X9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Ev extends y.PureComponent{constructor(t,r){super(t,r),ss(this,"mounted",!1),ss(this,"manager",void 0),ss(this,"stopJSAnimation",null),ss(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(A9(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(ei(ei({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=jO(r,n,bO(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=R9(Object.keys(d),n,a);this.manager.start([l,r,ei(ei({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:g}=t,x=q9(t,H9),w=y.Children.count(r),p=this.state.style;if(typeof r=="function")return r(p);if(!l||w===0||i<=0)return r;var v=b=>{var{style:_={},className:j}=b.props,N=y.cloneElement(b,ei(ei({},x),{},{style:ei(ei({},_),p),className:j}));return N};return w===1?v(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,b=>v(b)))}}ss(Ev,"displayName","Animate");ss(Ev,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Dd(e){var t,r=_O((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return y.createElement(Ev,Y0({},e,{animationManager:r}))}function Rd(){return Rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rd.apply(null,arguments)}var t_=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},J9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NO=e=>{var t=Rr(e,J9),r=y.useRef(null),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var p=r.current.getTotalLength();p&&i(p)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:x}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=de("recharts-rectangle",d);return x?y.createElement(Dd,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:x},p=>{var{width:v,height:b,x:_,y:j}=p;return y.createElement(Dd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:g,easing:f},y.createElement("path",Rd({},ve(t,!0),{className:w,d:t_(_,j,v,b,u),ref:r})))}):y.createElement("path",Rd({},ve(t,!0),{className:w,d:t_(s,a,l,c,u)}))};function SO(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=be(t,r,n,i),l=be(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(null,arguments)}var Q9=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Cd,f=c?i:i+s*d,h=be(t,r,u,f),m=be(t,r,n,f),g=c?i-s*d:i,x=be(t,r,u*Math.cos(d*Cd),g);return{center:h,circleTangency:m,lineTangency:x,theta:d}},PO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=Q9(s,a),c=s+l,u=be(t,r,i,s),d=be(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=be(t,r,n,s),m=be(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},Z9=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ft(u-c),{circleTangency:f,lineTangency:h,theta:m}=fu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:g,lineTangency:x,theta:w}=fu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),p=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(p<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):PO({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(p>180),",").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=fu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:P,theta:S}=fu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-j-S;if(A<0&&s===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},eW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kO=e=>{var t=Rr(e,eW),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=de("recharts-sector",f),m=s-i,g=Lt(a,m,0,!0),x;return g>0&&Math.abs(u-d)<360?x=Z9({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=PO({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),y.createElement("path",X0({},ve(t,!0),{className:h,d:x}))};function tW(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=be(l,c,u,f),m=be(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return SO(t);return[{x:n,y:i},{x:s,y:a}]}var AO={},EO={},OO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(OO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(EO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xv,r=EO;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(AO);var rW=AO.range;const CO=Mr(rW);function ji(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ov(e){let t,r,n;e.length!==2?(t=ji,r=(l,c)=>ji(e(l),c),n=(l,c)=>e(l)-c):(t=e===ji||e===nW?e:iW,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function iW(){return 0}function TO(e){return e===null?NaN:+e}function*sW(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const aW=Ov(ji),vc=aW.right;Ov(TO).center;class r_ extends Map{constructor(t,r=cW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(n_(this,t))}has(t){return super.has(n_(this,t))}set(t,r){return super.set(oW(this,t),r)}delete(t){return super.delete(lW(this,t))}}function n_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function oW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function lW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function cW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function uW(e=ji){if(e===ji)return MO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function MO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dW=Math.sqrt(50),fW=Math.sqrt(10),hW=Math.sqrt(2);function $d(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=dW?10:s>=fW?5:s>=hW?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?$d(e,t,r*2):[l,c,u]}function J0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?$d(t,e,r):$d(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function Q0(e,t,r){return t=+t,e=+e,r=+r,$d(e,t,r)[2]}function Z0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Q0(t,e,r):Q0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function i_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function s_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DO(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?MO:uW(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),g=Math.min(n,Math.floor(t+(c-u)*f/c+h));DO(e,t,m,g,i)}const s=e[t];let a=r,l=n;for(Fo(e,r,t),i(e[n],s)>0&&Fo(e,r,n);a<l;){for(Fo(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?Fo(e,r,l):(++l,Fo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Fo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function mW(e,t,r){if(e=Float64Array.from(sW(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return s_(e);if(t>=1)return i_(e);var n,i=(n-1)*t,s=Math.floor(i),a=i_(DO(e,s).subarray(0,s+1)),l=s_(e.subarray(s+1));return a+(l-a)*(i-s)}}function pW(e,t,r=TO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function gW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const eg=Symbol("implicit");function Cv(){var e=new r_,t=[],r=[],n=eg;function i(s){let a=e.get(s);if(a===void 0){if(n!==eg)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new r_;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Cv(t,r).unknown(n)},$r.apply(i,arguments),i}function Tv(){var e=Cv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,g=m?i:n,x=m?n:i;s=(x-g)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),g+=(x-g-s*(h-c))*d,a=s*(1-c),l&&(g=Math.round(g),a=Math.round(a));var w=gW(h).map(function(p){return g+s*p});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Tv(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},$r.apply(f(),arguments)}function RO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return RO(t())},e}function yW(){return RO(Tv.apply(null,arguments).paddingInner(1))}function Mv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $O(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function xc(){}var Gl=.7,Ld=1/Gl,Sa="\\s*([+-]?\\d+)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vW=/^#([0-9a-f]{3,8})$/,xW=new RegExp(`^rgb\\(${Sa},${Sa},${Sa}\\)$`),bW=new RegExp(`^rgb\\(${hn},${hn},${hn}\\)$`),wW=new RegExp(`^rgba\\(${Sa},${Sa},${Sa},${Yl}\\)$`),jW=new RegExp(`^rgba\\(${hn},${hn},${hn},${Yl}\\)$`),_W=new RegExp(`^hsl\\(${Yl},${hn},${hn}\\)$`),NW=new RegExp(`^hsla\\(${Yl},${hn},${hn},${Yl}\\)$`),a_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mv(xc,Xl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:o_,formatHex:o_,formatHex8:SW,formatHsl:PW,formatRgb:l_,toString:l_});function o_(){return this.rgb().formatHex()}function SW(){return this.rgb().formatHex8()}function PW(){return LO(this).formatHsl()}function l_(){return this.rgb().formatRgb()}function Xl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=vW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?c_(t):r===3?new Yt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xW.exec(e))?new Yt(t[1],t[2],t[3],1):(t=bW.exec(e))?new Yt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wW.exec(e))?hu(t[1],t[2],t[3],t[4]):(t=jW.exec(e))?hu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=_W.exec(e))?f_(t[1],t[2]/100,t[3]/100,1):(t=NW.exec(e))?f_(t[1],t[2]/100,t[3]/100,t[4]):a_.hasOwnProperty(e)?c_(a_[e]):e==="transparent"?new Yt(NaN,NaN,NaN,0):null}function c_(e){return new Yt(e>>16&255,e>>8&255,e&255,1)}function hu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Yt(e,t,r,n)}function kW(e){return e instanceof xc||(e=Xl(e)),e?(e=e.rgb(),new Yt(e.r,e.g,e.b,e.opacity)):new Yt}function tg(e,t,r,n){return arguments.length===1?kW(e):new Yt(e,t,r,n??1)}function Yt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Mv(Yt,tg,$O(xc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Gl:Math.pow(Gl,e),new Yt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Yt(ps(this.r),ps(this.g),ps(this.b),Id(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:u_,formatHex:u_,formatHex8:AW,formatRgb:d_,toString:d_}));function u_(){return`#${as(this.r)}${as(this.g)}${as(this.b)}`}function AW(){return`#${as(this.r)}${as(this.g)}${as(this.b)}${as((isNaN(this.opacity)?1:this.opacity)*255)}`}function d_(){const e=Id(this.opacity);return`${e===1?"rgb(":"rgba("}${ps(this.r)}, ${ps(this.g)}, ${ps(this.b)}${e===1?")":`, ${e})`}`}function Id(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ps(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function as(e){return e=ps(e),(e<16?"0":"")+e.toString(16)}function f_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function LO(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof xc||(e=Xl(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new Kr(a,l,c,e.opacity)}function EW(e,t,r,n){return arguments.length===1?LO(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Mv(Kr,EW,$O(xc,{brighter(e){return e=e==null?Ld:Math.pow(Ld,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Gl:Math.pow(Gl,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Yt(Wm(e>=240?e-240:e+120,i,n),Wm(e,i,n),Wm(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Kr(h_(this.h),mu(this.s),mu(this.l),Id(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Id(this.opacity);return`${e===1?"hsl(":"hsla("}${h_(this.h)}, ${mu(this.s)*100}%, ${mu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h_(e){return e=(e||0)%360,e<0?e+360:e}function mu(e){return Math.max(0,Math.min(1,e||0))}function Wm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Dv=e=>()=>e;function OW(e,t){return function(r){return e+r*t}}function CW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function TW(e){return(e=+e)==1?IO:function(t,r){return r-t?CW(t,r,e):Dv(isNaN(t)?r:t)}}function IO(e,t){var r=t-e;return r?OW(e,r):Dv(isNaN(e)?t:e)}const m_=function e(t){var r=TW(t);function n(i,s){var a=r((i=tg(i)).r,(s=tg(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=IO(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function MW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function DW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function RW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=fo(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function $W(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Bd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LW(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=fo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var rg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vm=new RegExp(rg.source,"g");function IW(e){return function(){return e}}function BW(e){return function(t){return e(t)+""}}function FW(e,t){var r=rg.lastIndex=Vm.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=rg.exec(e))&&(i=Vm.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:Bd(n,i)})),r=Vm.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?BW(c[0].x):IW(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function fo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Dv(t):(r==="number"?Bd:r==="string"?(n=Xl(t))?(t=n,m_):FW:t instanceof Xl?m_:t instanceof Date?$W:DW(t)?MW:Array.isArray(t)?RW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LW:Bd)(e,t)}function Rv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function zW(e,t){t===void 0&&(t=e,e=fo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function UW(e){return function(){return e}}function Fd(e){return+e}var p_=[0,1];function Dt(e){return e}function ng(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:UW(isNaN(t)?NaN:.5)}function WW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function VW(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=ng(i,n),s=r(a,s)):(n=ng(n,i),s=r(s,a)),function(l){return s(n(l))}}function KW(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=ng(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=vc(e,l,1,n)-1;return s[c](i[c](l))}}function bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=p_,t=p_,r=fo,n,i,s,a=Dt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Dt&&(a=WW(e[0],e[h-1])),l=h>2?KW:VW,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),Bd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Fd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Rv,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Dt,d()):a!==Dt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function $v(){return dh()(Dt,Dt)}function HW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function zd(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Wa(e){return e=zd(Math.abs(e)),e?e[1]:NaN}function qW(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function GW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var YW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Jl(e){if(!(t=YW.exec(e)))throw new Error("invalid format: "+e);var t;return new Lv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Jl.prototype=Lv.prototype;function Lv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Lv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function XW(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var BO;function JW(e,t){var r=zd(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(BO=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+zd(e,Math.max(0,t+s-1))[0]}function g_(e,t){var r=zd(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const y_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:HW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g_(e*100,t),r:g_,s:JW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function v_(e){return e}var x_=Array.prototype.map,b_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function QW(e){var t=e.grouping===void 0||e.thousands===void 0?v_:qW(x_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?v_:GW(x_.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Jl(f);var h=f.fill,m=f.align,g=f.sign,x=f.symbol,w=f.zero,p=f.width,v=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(v=!0,j="g"):y_[j]||(b===void 0&&(b=12),_=!0,j="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=x==="$"?n:/[%p]/.test(j)?a:"",S=y_[j],A=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(O){var U=N,L=P,q,I,K;if(j==="c")L=S(O)+L,O="";else{O=+O;var z=O<0||1/O<0;if(O=isNaN(O)?c:S(Math.abs(O),b),_&&(O=XW(O)),z&&+O==0&&g!=="+"&&(z=!1),U=(z?g==="("?g:l:g==="-"||g==="("?"":g)+U,L=(j==="s"?b_[8+BO/3]:"")+L+(z&&g==="("?")":""),A){for(q=-1,I=O.length;++q<I;)if(K=O.charCodeAt(q),48>K||K>57){L=(K===46?i+O.slice(q+1):O.slice(q))+L,O=O.slice(0,q);break}}}v&&!w&&(O=t(O,1/0));var D=U.length+O.length+L.length,k=D<p?new Array(p-D+1).join(h):"";switch(v&&w&&(O=t(k+O,k.length?p-L.length:1/0),k=""),m){case"<":O=U+O+L+k;break;case"=":O=U+k+O+L;break;case"^":O=k.slice(0,D=k.length>>1)+U+O+L+k.slice(D);break;default:O=k+U+O+L;break}return s(O)}return C.toString=function(){return f+""},C}function d(f,h){var m=u((f=Jl(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(Wa(h)/3)))*3,x=Math.pow(10,-g),w=b_[8+g/3];return function(p){return m(x*p)+w}}return{format:u,formatPrefix:d}}var pu,Iv,FO;ZW({thousands:",",grouping:[3],currency:["$",""]});function ZW(e){return pu=QW(e),Iv=pu.format,FO=pu.formatPrefix,pu}function e7(e){return Math.max(0,-Wa(Math.abs(e)))}function t7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Wa(t)/3)))*3-Wa(Math.abs(e)))}function r7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Wa(t)-Wa(e))+1}function zO(e,t,r,n){var i=Z0(e,t,r),s;switch(n=Jl(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=t7(i,a))&&(n.precision=s),FO(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=r7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=e7(i))&&(n.precision=s-(n.type==="%")*2);break}}return Iv(n)}function $i(e){var t=e.domain;return e.ticks=function(r){var n=t();return J0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return zO(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Q0(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function UO(){var e=$v();return e.copy=function(){return bc(e,UO())},$r.apply(e,arguments),$i(e)}function WO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Fd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return WO(e).unknown(t)},e=arguments.length?Array.from(e,Fd):[0,1],$i(r)}function VO(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function w_(e){return Math.log(e)}function j_(e){return Math.exp(e)}function n7(e){return-Math.log(-e)}function i7(e){return-Math.exp(-e)}function s7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function a7(e){return e===10?s7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function o7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function __(e){return(t,r)=>-e(-t,r)}function Bv(e){const t=e(w_,j_),r=t.domain;let n=10,i,s;function a(){return i=o7(n),s=a7(n),r()[0]<0?(i=__(i),s=__(s),e(n7,i7)):e(w_,j_),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),g,x;const w=l==null?10:+l;let p=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(x=h<0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(x=h>0?g/s(-h):g*s(h),!(x<u)){if(x>d)break;p.push(x)}p.length*2<w&&(p=J0(u,d,w))}else p=J0(h,m,Math.min(m-h,w)).map(s);return f?p.reverse():p},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Jl(c)).precision==null&&(c.trim=!0),c=Iv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(VO(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function KO(){const e=Bv(dh()).domain([1,10]);return e.copy=()=>bc(e,KO()).base(e.base()),$r.apply(e,arguments),e}function N_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function S_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Fv(e){var t=1,r=e(N_(t),S_(t));return r.constant=function(n){return arguments.length?e(N_(t=+n),S_(t)):t},$i(r)}function HO(){var e=Fv(dh());return e.copy=function(){return bc(e,HO()).constant(e.constant())},$r.apply(e,arguments)}function P_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function l7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function c7(e){return e<0?-e*e:e*e}function zv(e){var t=e(Dt,Dt),r=1;function n(){return r===1?e(Dt,Dt):r===.5?e(l7,c7):e(P_(r),P_(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},$i(t)}function Uv(){var e=zv(dh());return e.copy=function(){return bc(e,Uv()).exponent(e.exponent())},$r.apply(e,arguments),e}function u7(){return Uv.apply(null,arguments).exponent(.5)}function k_(e){return Math.sign(e)*e*e}function d7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qO(){var e=$v(),t=[0,1],r=!1,n;function i(s){var a=d7(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(k_(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Fd)).map(k_)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return qO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$r.apply(i,arguments),$i(i)}function GO(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=pW(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[vc(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(ji),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return GO().domain(e).range(t).unknown(n)},$r.apply(s,arguments)}function YO(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[vc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return YO().domain([e,t]).range(i).unknown(s)},$r.apply($i(a),arguments)}function XO(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[vc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XO().domain(e).range(t).unknown(r)},$r.apply(i,arguments)}const Km=new Date,Hm=new Date;function st(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>st(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(Km.setTime(+s),Hm.setTime(+a),e(Km),e(Hm),Math.floor(r(Km,Hm))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Ud=st(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ud.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?st(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Ud);Ud.range;const Pn=1e3,Pr=Pn*60,kn=Pr*60,Bn=kn*24,Wv=Bn*7,A_=Bn*30,qm=Bn*365,os=st(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pn)},(e,t)=>(t-e)/Pn,e=>e.getUTCSeconds());os.range;const Vv=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pn)},(e,t)=>{e.setTime(+e+t*Pr)},(e,t)=>(t-e)/Pr,e=>e.getMinutes());Vv.range;const Kv=st(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pr)},(e,t)=>(t-e)/Pr,e=>e.getUTCMinutes());Kv.range;const Hv=st(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pn-e.getMinutes()*Pr)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getHours());Hv.range;const qv=st(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCHours());qv.range;const wc=st(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pr)/Bn,e=>e.getDate()-1);wc.range;const fh=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bn,e=>e.getUTCDate()-1);fh.range;const JO=st(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bn,e=>Math.floor(e/Bn));JO.range;function Cs(e){return st(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pr)/Wv)}const hh=Cs(0),Wd=Cs(1),f7=Cs(2),h7=Cs(3),Va=Cs(4),m7=Cs(5),p7=Cs(6);hh.range;Wd.range;f7.range;h7.range;Va.range;m7.range;p7.range;function Ts(e){return st(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Wv)}const mh=Ts(0),Vd=Ts(1),g7=Ts(2),y7=Ts(3),Ka=Ts(4),v7=Ts(5),x7=Ts(6);mh.range;Vd.range;g7.range;y7.range;Ka.range;v7.range;x7.range;const Gv=st(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Gv.range;const Yv=st(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Yv.range;const Fn=st(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fn.range;const zn=st(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:st(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zn.range;function QO(e,t,r,n,i,s){const a=[[os,1,Pn],[os,5,5*Pn],[os,15,15*Pn],[os,30,30*Pn],[s,1,Pr],[s,5,5*Pr],[s,15,15*Pr],[s,30,30*Pr],[i,1,kn],[i,3,3*kn],[i,6,6*kn],[i,12,12*kn],[n,1,Bn],[n,2,2*Bn],[r,1,Wv],[t,1,A_],[t,3,3*A_],[e,1,qm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function c(u,d,f){const h=Math.abs(d-u)/f,m=Ov(([,,w])=>w).right(a,h);if(m===a.length)return e.every(Z0(u/qm,d/qm,f));if(m===0)return Ud.every(Math.max(Z0(u,d,f),1));const[g,x]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return g.every(x)}return[l,c]}const[b7,w7]=QO(zn,Yv,mh,JO,qv,Kv),[j7,_7]=QO(Fn,Gv,hh,wc,Hv,Vv);function Gm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ym(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function N7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=Uo(i),d=Wo(i),f=Uo(s),h=Wo(s),m=Uo(a),g=Wo(a),x=Uo(l),w=Wo(l),p=Uo(c),v=Wo(c),b={a:z,A:D,b:k,B,c:null,d:D_,e:D_,f:q7,g:nV,G:sV,H:V7,I:K7,j:H7,L:ZO,m:G7,M:Y7,p:G,q:$,Q:L_,s:I_,S:X7,u:J7,U:Q7,V:Z7,w:eV,W:tV,x:null,X:null,y:rV,Y:iV,Z:aV,"%":$_},_={a:Y,A:le,b:X,B:se,c:null,d:R_,e:R_,f:uV,g:bV,G:jV,H:oV,I:lV,j:cV,L:tC,m:dV,M:fV,p:R,q:V,Q:L_,s:I_,S:hV,u:mV,U:pV,V:gV,w:yV,W:vV,x:null,X:null,y:xV,Y:wV,Z:_V,"%":$_},j={a:C,A:O,b:U,B:L,c:q,d:T_,e:T_,f:F7,g:C_,G:O_,H:M_,I:M_,j:$7,L:B7,m:R7,M:L7,p:A,q:D7,Q:U7,s:W7,S:I7,u:E7,U:O7,V:C7,w:A7,W:T7,x:I,X:K,y:C_,Y:O_,Z:M7,"%":z7};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(M,E){return function(H){var T=[],W=-1,Z=0,ie=M.length,ae,ge,me;for(H instanceof Date||(H=new Date(+H));++W<ie;)M.charCodeAt(W)===37&&(T.push(M.slice(Z,W)),(ge=E_[ae=M.charAt(++W)])!=null?ae=M.charAt(++W):ge=ae==="e"?" ":"0",(me=E[ae])&&(ae=me(H,ge)),T.push(ae),Z=W+1);return T.push(M.slice(Z,W)),T.join("")}}function P(M,E){return function(H){var T=zo(1900,void 0,1),W=S(T,M,H+="",0),Z,ie;if(W!=H.length)return null;if("Q"in T)return new Date(T.Q);if("s"in T)return new Date(T.s*1e3+("L"in T?T.L:0));if(E&&!("Z"in T)&&(T.Z=0),"p"in T&&(T.H=T.H%12+T.p*12),T.m===void 0&&(T.m="q"in T?T.q:0),"V"in T){if(T.V<1||T.V>53)return null;"w"in T||(T.w=1),"Z"in T?(Z=Ym(zo(T.y,0,1)),ie=Z.getUTCDay(),Z=ie>4||ie===0?Vd.ceil(Z):Vd(Z),Z=fh.offset(Z,(T.V-1)*7),T.y=Z.getUTCFullYear(),T.m=Z.getUTCMonth(),T.d=Z.getUTCDate()+(T.w+6)%7):(Z=Gm(zo(T.y,0,1)),ie=Z.getDay(),Z=ie>4||ie===0?Wd.ceil(Z):Wd(Z),Z=wc.offset(Z,(T.V-1)*7),T.y=Z.getFullYear(),T.m=Z.getMonth(),T.d=Z.getDate()+(T.w+6)%7)}else("W"in T||"U"in T)&&("w"in T||(T.w="u"in T?T.u%7:"W"in T?1:0),ie="Z"in T?Ym(zo(T.y,0,1)).getUTCDay():Gm(zo(T.y,0,1)).getDay(),T.m=0,T.d="W"in T?(T.w+6)%7+T.W*7-(ie+5)%7:T.w+T.U*7-(ie+6)%7);return"Z"in T?(T.H+=T.Z/100|0,T.M+=T.Z%100,Ym(T)):Gm(T)}}function S(M,E,H,T){for(var W=0,Z=E.length,ie=H.length,ae,ge;W<Z;){if(T>=ie)return-1;if(ae=E.charCodeAt(W++),ae===37){if(ae=E.charAt(W++),ge=j[ae in E_?E.charAt(W++):ae],!ge||(T=ge(M,H,T))<0)return-1}else if(ae!=H.charCodeAt(T++))return-1}return T}function A(M,E,H){var T=u.exec(E.slice(H));return T?(M.p=d.get(T[0].toLowerCase()),H+T[0].length):-1}function C(M,E,H){var T=m.exec(E.slice(H));return T?(M.w=g.get(T[0].toLowerCase()),H+T[0].length):-1}function O(M,E,H){var T=f.exec(E.slice(H));return T?(M.w=h.get(T[0].toLowerCase()),H+T[0].length):-1}function U(M,E,H){var T=p.exec(E.slice(H));return T?(M.m=v.get(T[0].toLowerCase()),H+T[0].length):-1}function L(M,E,H){var T=x.exec(E.slice(H));return T?(M.m=w.get(T[0].toLowerCase()),H+T[0].length):-1}function q(M,E,H){return S(M,t,E,H)}function I(M,E,H){return S(M,r,E,H)}function K(M,E,H){return S(M,n,E,H)}function z(M){return a[M.getDay()]}function D(M){return s[M.getDay()]}function k(M){return c[M.getMonth()]}function B(M){return l[M.getMonth()]}function G(M){return i[+(M.getHours()>=12)]}function $(M){return 1+~~(M.getMonth()/3)}function Y(M){return a[M.getUTCDay()]}function le(M){return s[M.getUTCDay()]}function X(M){return c[M.getUTCMonth()]}function se(M){return l[M.getUTCMonth()]}function R(M){return i[+(M.getUTCHours()>=12)]}function V(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var E=N(M+="",b);return E.toString=function(){return M},E},parse:function(M){var E=P(M+="",!1);return E.toString=function(){return M},E},utcFormat:function(M){var E=N(M+="",_);return E.toString=function(){return M},E},utcParse:function(M){var E=P(M+="",!0);return E.toString=function(){return M},E}}}var E_={"-":"",_:" ",0:"0"},mt=/^\s*\d+/,S7=/^%/,P7=/[\\^$*+?|[\]().{}]/g;function xe(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function k7(e){return e.replace(P7,"\\$&")}function Uo(e){return new RegExp("^(?:"+e.map(k7).join("|")+")","i")}function Wo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function A7(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function E7(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function O7(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function C7(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function T7(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function O_(e,t,r){var n=mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function C_(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function M7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function D7(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function R7(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function T_(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function $7(e,t,r){var n=mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function M_(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function L7(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function I7(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function B7(e,t,r){var n=mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function F7(e,t,r){var n=mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function z7(e,t,r){var n=S7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function U7(e,t,r){var n=mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function W7(e,t,r){var n=mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function D_(e,t){return xe(e.getDate(),t,2)}function V7(e,t){return xe(e.getHours(),t,2)}function K7(e,t){return xe(e.getHours()%12||12,t,2)}function H7(e,t){return xe(1+wc.count(Fn(e),e),t,3)}function ZO(e,t){return xe(e.getMilliseconds(),t,3)}function q7(e,t){return ZO(e,t)+"000"}function G7(e,t){return xe(e.getMonth()+1,t,2)}function Y7(e,t){return xe(e.getMinutes(),t,2)}function X7(e,t){return xe(e.getSeconds(),t,2)}function J7(e){var t=e.getDay();return t===0?7:t}function Q7(e,t){return xe(hh.count(Fn(e)-1,e),t,2)}function eC(e){var t=e.getDay();return t>=4||t===0?Va(e):Va.ceil(e)}function Z7(e,t){return e=eC(e),xe(Va.count(Fn(e),e)+(Fn(e).getDay()===4),t,2)}function eV(e){return e.getDay()}function tV(e,t){return xe(Wd.count(Fn(e)-1,e),t,2)}function rV(e,t){return xe(e.getFullYear()%100,t,2)}function nV(e,t){return e=eC(e),xe(e.getFullYear()%100,t,2)}function iV(e,t){return xe(e.getFullYear()%1e4,t,4)}function sV(e,t){var r=e.getDay();return e=r>=4||r===0?Va(e):Va.ceil(e),xe(e.getFullYear()%1e4,t,4)}function aV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xe(t/60|0,"0",2)+xe(t%60,"0",2)}function R_(e,t){return xe(e.getUTCDate(),t,2)}function oV(e,t){return xe(e.getUTCHours(),t,2)}function lV(e,t){return xe(e.getUTCHours()%12||12,t,2)}function cV(e,t){return xe(1+fh.count(zn(e),e),t,3)}function tC(e,t){return xe(e.getUTCMilliseconds(),t,3)}function uV(e,t){return tC(e,t)+"000"}function dV(e,t){return xe(e.getUTCMonth()+1,t,2)}function fV(e,t){return xe(e.getUTCMinutes(),t,2)}function hV(e,t){return xe(e.getUTCSeconds(),t,2)}function mV(e){var t=e.getUTCDay();return t===0?7:t}function pV(e,t){return xe(mh.count(zn(e)-1,e),t,2)}function rC(e){var t=e.getUTCDay();return t>=4||t===0?Ka(e):Ka.ceil(e)}function gV(e,t){return e=rC(e),xe(Ka.count(zn(e),e)+(zn(e).getUTCDay()===4),t,2)}function yV(e){return e.getUTCDay()}function vV(e,t){return xe(Vd.count(zn(e)-1,e),t,2)}function xV(e,t){return xe(e.getUTCFullYear()%100,t,2)}function bV(e,t){return e=rC(e),xe(e.getUTCFullYear()%100,t,2)}function wV(e,t){return xe(e.getUTCFullYear()%1e4,t,4)}function jV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Ka(e):Ka.ceil(e),xe(e.getUTCFullYear()%1e4,t,4)}function _V(){return"+0000"}function $_(){return"%"}function L_(e){return+e}function I_(e){return Math.floor(+e/1e3)}var Ws,nC,iC;NV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function NV(e){return Ws=N7(e),nC=Ws.format,Ws.parse,iC=Ws.utcFormat,Ws.utcParse,Ws}function SV(e){return new Date(e)}function PV(e){return e instanceof Date?+e:+new Date(+e)}function Xv(e,t,r,n,i,s,a,l,c,u){var d=$v(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),x=u("%I:%M"),w=u("%I %p"),p=u("%a %d"),v=u("%b %d"),b=u("%B"),_=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?g:a(N)<N?x:s(N)<N?w:n(N)<N?i(N)<N?p:v:r(N)<N?b:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,PV)):h().map(SV)},d.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?j:u(P)},d.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(VO(P,N)):d},d.copy=function(){return bc(d,Xv(e,t,r,n,i,s,a,l,c,u))},d}function kV(){return $r.apply(Xv(j7,_7,Fn,Gv,hh,wc,Hv,Vv,os,nC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AV(){return $r.apply(Xv(b7,w7,zn,Yv,mh,fh,qv,Kv,os,iC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ph(){var e=0,t=1,r,n,i,s,a=Dt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,a=f(m,g),u):[a(0),a(1)]}}return u.range=d(fo),u.rangeRound=d(Rv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Li(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sC(){var e=$i(ph()(Dt));return e.copy=function(){return Li(e,sC())},Gn.apply(e,arguments)}function aC(){var e=Bv(ph()).domain([1,10]);return e.copy=function(){return Li(e,aC()).base(e.base())},Gn.apply(e,arguments)}function oC(){var e=Fv(ph());return e.copy=function(){return Li(e,oC()).constant(e.constant())},Gn.apply(e,arguments)}function Jv(){var e=zv(ph());return e.copy=function(){return Li(e,Jv()).exponent(e.exponent())},Gn.apply(e,arguments)}function EV(){return Jv.apply(null,arguments).exponent(.5)}function lC(){var e=[],t=Dt;function r(n){if(n!=null&&!isNaN(n=+n))return t((vc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(ji),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>mW(e,s/n))},r.copy=function(){return lC(t).domain(e)},Gn.apply(r,arguments)}function gh(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Dt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(w){var p,v,b;return arguments.length?([p,v,b]=w,u=zW(x,[p,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=g(fo),m.rangeRound=g(Rv),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),s=x(t),a=x(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function cC(){var e=$i(gh()(Dt));return e.copy=function(){return Li(e,cC())},Gn.apply(e,arguments)}function uC(){var e=Bv(gh()).domain([.1,1,10]);return e.copy=function(){return Li(e,uC()).base(e.base())},Gn.apply(e,arguments)}function dC(){var e=Fv(gh());return e.copy=function(){return Li(e,dC()).constant(e.constant())},Gn.apply(e,arguments)}function Qv(){var e=zv(gh());return e.copy=function(){return Li(e,Qv()).exponent(e.exponent())},Gn.apply(e,arguments)}function OV(){return Qv.apply(null,arguments).exponent(.5)}const Zo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Tv,scaleDiverging:cC,scaleDivergingLog:uC,scaleDivergingPow:Qv,scaleDivergingSqrt:OV,scaleDivergingSymlog:dC,scaleIdentity:WO,scaleImplicit:eg,scaleLinear:UO,scaleLog:KO,scaleOrdinal:Cv,scalePoint:yW,scalePow:Uv,scaleQuantile:GO,scaleQuantize:YO,scaleRadial:qO,scaleSequential:sC,scaleSequentialLog:aC,scaleSequentialPow:Jv,scaleSequentialQuantile:lC,scaleSequentialSqrt:EV,scaleSequentialSymlog:oC,scaleSqrt:u7,scaleSymlog:HO,scaleThreshold:XO,scaleTime:kV,scaleUtc:AV,tickFormat:zO},Symbol.toStringTag,{value:"Module"}));var Ii=e=>e.chartData,yh=F([Ii],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Zv=(e,t,r,n)=>n?yh(e):Ii(e);function Ha(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(hr(t)&&hr(r))return!0}return!1}function B_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function CV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(hr(r))i=r;else if(typeof r=="function")return;if(hr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(Ha(a))return a}}function TV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ha(n))return B_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(te(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&Lj.test(i)){var c=Lj.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(te(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&Ij.test(s)){var d=Ij.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(Ha(h))return t==null?h:B_(h,t,r)}}}var ho=1e9,MV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},tx,$e=!0,Tr="[DecimalError] ",gs=Tr+"Invalid argument: ",ex=Tr+"Exponent out of range: ",mo=Math.floor,Ji=Math.pow,DV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sr,ut=1e7,Me=7,fC=9007199254740991,Kd=mo(fC/Me),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Me;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return Cn(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return Se(Cn(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return Ze(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(sr))throw Error(Tr+"NaN");if(r.s<1)throw Error(Tr+(r.s?"NaN":"-Infinity"));return r.eq(sr)?new n(0):($e=!1,t=Cn(Ql(r,s),Ql(e,s),s),$e=!0,Se(t,i))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pC(t,e):hC(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Tr+"NaN");return r.s?($e=!1,t=Cn(r,e,0,1).times(e),$e=!0,r.minus(t)):Se(new n(r),i)};ne.naturalExponential=ne.exp=function(){return mC(this)};ne.naturalLogarithm=ne.ln=function(){return Ql(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hC(t,e):pC(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(gs+e);if(t=Ze(i)+1,n=i.d.length-1,r=n*Me+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(e=Ze(l),$e=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=nn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=mo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Cn(l,s,a+2)).times(.5),nn(s.d).slice(0,a)===(t=nn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Se(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return $e=!0,Se(n,r)};ne.times=ne.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%ut|0,t=l/ut|0;s[i]=(s[i]+t)%ut|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,$e?Se(e,f.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(gn(e,0,ho),t===void 0?t=n.rounding:gn(t,0,8),Se(r,e+Ze(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ns(n,!0):(gn(e,0,ho),t===void 0?t=i.rounding:gn(t,0,8),n=Se(new i(n),e+1,t),r=Ns(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ns(i):(gn(e,0,ho),t===void 0?t=s.rounding:gn(t,0,8),n=Se(new s(i),e+Ze(i)+1,t),r=Ns(n.abs(),!1,e+Ze(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Se(new t(e),Ze(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(sr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(sr))return l;if(n=c.precision,e.eq(sr))return Se(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=fC){for(i=new c(sr),t=Math.ceil(n/Me+4),$e=!1;r%2&&(i=i.times(l),z_(i.d,t)),r=mo(r/2),r!==0;)l=l.times(l),z_(l.d,t);return $e=!0,e.s<0?new c(sr).div(i):Se(i,n)}}else if(s<0)throw Error(Tr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,$e=!1,i=e.times(Ql(l,n+u)),$e=!0,i=mC(i),i.s=s,i};ne.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=Ze(i),n=Ns(i,r<=s.toExpNeg||r>=s.toExpPos)):(gn(e,1,ho),t===void 0?t=s.rounding:gn(t,0,8),i=Se(new s(i),e,t),r=Ze(i),n=Ns(i,e<=r||r<=s.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(gn(e,1,ho),t===void 0?t=n.rounding:gn(t,0,8)),Se(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ze(e),r=e.constructor;return Ns(e,t<=r.toExpNeg||t>=r.toExpPos)};function hC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),$e?Se(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/Me),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/ut|0,c[s]%=ut;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,$e?Se(t,f):t}function gn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(gs+e)}function nn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Me-n.length,r&&(s+=ai(r)),s+=n;a=e[t],n=a+"",r=Me-n.length,r&&(s+=ai(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Cn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%ut|0,a=s/ut|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*ut+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,g,x,w,p,v,b,_,j,N,P,S,A=n.constructor,C=n.s==i.s?1:-1,O=n.d,U=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(Tr+"Division by zero");for(c=n.e-i.e,P=U.length,j=O.length,m=new A(C),g=m.d=[],u=0;U[u]==(O[u]||0);)++u;if(U[u]>(O[u]||0)&&--c,s==null?v=s=A.precision:a?v=s+(Ze(n)-Ze(i))+1:v=s,v<0)return new A(0);if(v=v/Me+2|0,u=0,P==1)for(d=0,U=U[0],v++;(u<j||d)&&v--;u++)b=d*ut+(O[u]||0),g[u]=b/U|0,d=b%U|0;else{for(d=ut/(U[0]+1)|0,d>1&&(U=e(U,d),O=e(O,d),P=U.length,j=O.length),_=P,x=O.slice(0,P),w=x.length;w<P;)x[w++]=0;S=U.slice(),S.unshift(0),N=U[0],U[1]>=ut/2&&++N;do d=0,l=t(U,x,P,w),l<0?(p=x[0],P!=w&&(p=p*ut+(x[1]||0)),d=p/N|0,d>1?(d>=ut&&(d=ut-1),f=e(U,d),h=f.length,w=x.length,l=t(f,x,h,w),l==1&&(d--,r(f,P<h?S:U,h))):(d==0&&(l=d=1),f=U.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=t(U,x,P,w),l<1&&(d++,r(x,P<w?S:U,w))),w=x.length):l===0&&(d++,x=[0]),g[u++]=d,l&&x[0]?x[w++]=O[_]||0:(x=[O[_]],w=1);while((_++<j||x[0]!==void 0)&&v--)}return g[0]||g.shift(),m.e=c,Se(m,a?s+Ze(m)+1:s)}}();function mC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ze(e)>16)throw Error(ex+Ze(e));if(!e.s)return new d(sr);for(t==null?($e=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(Ji(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(sr),d.precision=l;;){if(i=Se(i.times(e),l),r=r.times(++c),a=s.plus(Cn(i,r,l)),nn(a.d).slice(0,l)===nn(s.d).slice(0,l)){for(;u--;)s=Se(s.times(s),l);return d.precision=f,t==null?($e=!0,Se(s,f)):s}s=a}}function Ze(e){for(var t=e.e*Me,r=e.d[0];r>=10;r/=10)t++;return t}function Xm(e,t,r){if(t>e.LN10.sd())throw $e=!0,r&&(e.precision=r),Error(Tr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function ai(e){for(var t="";e--;)t+="0";return t}function Ql(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,g=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Tr+(m.s?"NaN":"-Infinity"));if(m.eq(sr))return new x(0);if(t==null?($e=!1,u=w):u=t,m.eq(10))return t==null&&($e=!0),Xm(x,u);if(u+=h,x.precision=u,r=nn(g),n=r.charAt(0),s=Ze(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=nn(m.d),n=r.charAt(0),f++;s=Ze(m),n>1?(m=new x("0."+r),s++):m=new x(n+"."+r.slice(1))}else return c=Xm(x,u+2,w).times(s+""),m=Ql(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,t==null?($e=!0,Se(m,w)):m;for(l=a=m=Cn(m.minus(sr),m.plus(sr),u),d=Se(m.times(m),u),i=3;;){if(a=Se(a.times(d),u),c=l.plus(Cn(a,new x(i),u)),nn(c.d).slice(0,u)===nn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(Xm(x,u+2,w).times(s+""))),l=Cn(l,new x(f),u),x.precision=w,t==null?($e=!0,Se(l,w)):l;l=c,i+=2}}function F_(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=mo(r/Me),e.d=[],n=(r+1)%Me,r<0&&(n+=Me),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Me;n<i;)e.d.push(+t.slice(n,n+=Me));t=t.slice(n),n=Me-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),$e&&(e.e>Kd||e.e<-Kd))throw Error(ex+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Me,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Me),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Me,i=n-Me+a}if(r!==void 0&&(s=Ji(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Ji(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=Ze(e),f.length=1,t=t-s-1,f[0]=Ji(10,(Me-t%Me)%Me),e.e=mo(-t/Me)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=Ji(10,Me-n),f[d]=i>0?(u/Ji(10,a-i)%Ji(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==ut&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=ut)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if($e&&(e.e>Kd||e.e<-Kd))throw Error(ex+Ze(e));return e}function pC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?Se(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Me),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=ut-1;--c[s],c[i]+=ut}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,$e?Se(t,m):t):new h(0)}function Ns(e,t,r){var n,i=Ze(e),s=nn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+ai(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+ai(-i-1)+s,r&&(n=r-a)>0&&(s+=ai(n))):i>=a?(s+=ai(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+ai(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=ai(n))),e.s<0?"-"+s:s}function z_(e,t){if(e.length>t)return e.length=t,!0}function gC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(gs+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return F_(a,s.toString())}else if(typeof s!="string")throw Error(gs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,DV.test(s))F_(a,s);else throw Error(gs+s)}if(i.prototype=ne,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gC,i.config=i.set=RV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function RV(e){if(!e||typeof e!="object")throw Error(Tr+"Object expected");var t,r,n,i=["precision",1,ho,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(mo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(gs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(gs+r+": "+n);return this}var tx=gC(MV);sr=new tx(1);const we=tx;var $V=e=>e,yC={"@@functional/placeholder":!0},vC=e=>e===yC,U_=e=>function t(){return arguments.length===0||arguments.length===1&&vC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},xC=(e,t)=>e===1?t:U_(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==yC).length;return s>=e?t(...n):xC(e-s,U_(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>vC(d)?l.shift():d);return t(...u,...l)}))}),vh=e=>xC(e.length,e),ig=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},LV=vh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),IV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return $V;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},sg=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),bC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function wC(e){var t;return e===0?t=1:t=Math.floor(new we(e).abs().log(10).toNumber())+1,t}function jC(e,t,r){for(var n=new we(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}vh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});vh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});vh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var _C=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},NC=(e,t,r)=>{if(e.lte(0))return new we(0);var n=wC(e.toNumber()),i=new we(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new we(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new we(c.toNumber()):new we(Math.ceil(c.toNumber()))},BV=(e,t,r)=>{var n=new we(1),i=new we(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new we(10).pow(wC(e)-1),i=new we(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new we(Math.floor(e)))}else e===0?i=new we(Math.floor((t-1)/2)):r||(i=new we(Math.floor(e)));var a=Math.floor((t-1)/2),l=IV(LV(c=>i.add(new we(c-a).mul(n)).toNumber()),ig);return l(0,t)},SC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new we(0),tickMin:new we(0),tickMax:new we(0)};var a=NC(new we(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new we(0):(l=new we(t).add(r).div(2),l=l.sub(new we(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new we(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?SC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new we(c).mul(a)),tickMax:l.add(new we(u).mul(a))})};function FV(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=_C([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...ig(0,n-1).map(()=>1/0)]:[...ig(0,n-1).map(()=>-1/0),l];return t>r?sg(c):c}if(a===l)return BV(a,n,i);var{step:u,tickMin:d,tickMax:f}=SC(a,l,s,i,0),h=jC(d,f.add(new we(.1).mul(u)),u);return t>r?sg(h):h}function zV(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=_C([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=NC(new we(a).sub(s).div(l-1),i,0),u=[...jC(new we(s),new we(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?sg(u):u}var UV=bC(FV),WV=bC(zV),PC=e=>e.rootProps.maxBarSize,VV=e=>e.rootProps.barGap,kC=e=>e.rootProps.barCategoryGap,KV=e=>e.rootProps.barSize,jc=e=>e.rootProps.stackOffset,rx=e=>e.options.chartName,nx=e=>e.rootProps.syncId,AC=e=>e.rootProps.syncMethod,ix=e=>e.options.eventEmitter,tn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Wt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},xh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},HV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tn.angleAxisId,includeHidden:!1,name:void 0,reversed:tn.reversed,scale:tn.scale,tick:tn.tick,tickCount:void 0,ticks:void 0,type:tn.type,unit:void 0},qV={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,ticks:void 0,type:Wt.type,unit:void 0},GV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},YV={allowDataOverflow:Wt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Wt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wt.scale,tick:Wt.tick,tickCount:Wt.tickCount,ticks:void 0,type:"category",unit:void 0},po=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?GV:HV,_c=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?YV:qV,bh=e=>e.polarOptions,sx=F([Hn,qn,it],JE),EC=F([bh,sx],(e,t)=>{if(e!=null)return Lt(e.innerRadius,t,0)}),OC=F([bh,sx],(e,t)=>{if(e!=null)return Lt(e.outerRadius,t,t*.8)}),XV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},CC=F([bh],XV),JV=F([po,CC],xh),TC=F([sx,EC,OC],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),QV=F([_c,TC],xh),go=F([pe,bh,EC,OC,Hn,qn],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Lt(a,i,i/2),cy:Lt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ke=(e,t)=>t,Nc=(e,t,r)=>r;function ax(e){return e==null?void 0:e.id}var at=e=>{var t=pe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},yo=e=>e.tooltip.settings.axisId,ot=e=>{var t=at(e),r=yo(e);return vo(e,t,r)};function MC(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=ax(a);c.forEach((d,f)=>{var h=i==null?f:String(Ce(d,i,null)),m=Ce(d,a.dataKey,0),g;s.has(h)?g=s.get(h):g={},Object.assign(g,{[u]:m}),s.set(h,g)})}}),Array.from(s.values())}function wh(e){return e.stackId!=null&&e.dataKey!=null}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){ZV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZV(e,t,r){return(t=eK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eK(e){var t=tK(e,"string");return typeof t=="symbol"?t:t+""}function tK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ag=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Yn=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??rr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:ag,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lh},Bi=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??nr},rK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ox=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??rK},Xe=(e,t,r)=>{switch(t){case"xAxis":return Yn(e,r);case"yAxis":return Bi(e,r);case"zAxis":return ox(e,r);case"angleAxis":return po(e,r);case"radiusAxis":return _c(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nK=(e,t,r)=>{switch(t){case"xAxis":return Yn(e,r);case"yAxis":return Bi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vo=(e,t,r)=>{switch(t){case"xAxis":return Yn(e,r);case"yAxis":return Bi(e,r);case"angleAxis":return po(e,r);case"radiusAxis":return _c(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DC=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function lx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var cx=e=>e.graphicalItems.cartesianItems,iK=F([ke,Nc],lx),ux=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Sc=F([cx,Xe,iK],ux),RC=F([Sc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wh)),$C=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),LC=F([Sc],$C),dx=e=>e.map(t=>t.data).filter(Boolean).flat(1),sK=F([Sc],dx),fx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},hx=F([sK,Zv],fx),mx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ce(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ce(i,n)}))):e.map(n=>({value:n})),jh=F([hx,Xe,Sc],mx);function IC(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ms(e){return e.filter(t=>pn(t)||t instanceof Date).map(Number).filter(t=>ur(t)===!1)}function aK(e,t,r){return!r||typeof t!="number"||ur(t)?[]:r.length?Ms(r.flatMap(n=>{var i=Ce(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!hr(s)||!hr(a)))return[t-s,t+a]})):[]}var oK=F([RC,Zv,ot],MC),BC=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(ax);return[a,{stackedData:OU(e,c,r),graphicalItems:l}]}))},og=F([oK,RC,jc],BC),FC=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=RU(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},lK=F([og,Ii,ke],FC),zC=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>IC(i,f)),d=Ce(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:aK(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Ce(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),_h=e=>e.errorBars,UC=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>IC(r,n));F([LC,_h,ke],UC);var cK=F([hx,Xe,LC,_h,ke],zC);function uK(e){var{value:t}=e;if(pn(t)||t instanceof Date)return t}var V_=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Ms(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},dK=(e,t,r)=>{var n=e.map(uK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&DA(n))?CO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},px=e=>{var t;if(e==null||!("domain"in e))return ag;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Ms(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:ag},qd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},WC=e=>e.referenceElements.dots,xo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),fK=F([WC,ke,Nc],xo),VC=e=>e.referenceElements.areas,hK=F([VC,ke,Nc],xo),KC=e=>e.referenceElements.lines,mK=F([KC,ke,Nc],xo),HC=(e,t)=>{var r=Ms(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},pK=F(fK,ke,HC),qC=(e,t)=>{var r=Ms(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},gK=F([hK,ke],qC),GC=(e,t)=>{var r=Ms(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yK=F(mK,ke,GC),vK=F(pK,yK,gK,(e,t,r)=>qd(e,r,t)),YC=F([Xe],px),gx=(e,t,r,n,i,s,a)=>{var l=CV(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?qd(r,i,V_(n)):qd(i,V_(n));return TV(t,u,e.allowDataOverflow)},xK=F([Xe,YC,lK,cK,vK,pe,ke],gx),bK=[0,1],yx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ri(t,s);return u&&l==null?CO(0,r.length):c==="category"?dK(n,e,u):i==="expand"?bK:a}},vx=F([Xe,pe,hx,jh,jc,ke,xK],yx),XC=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(mc(s));return l in Zo?l:"point"}}},Fi=F([Xe,pe,DC,rx,ke],XC);function wK(e){if(e!=null){if(e in Zo)return Zo[e]();var t="scale".concat(mc(e));if(t in Zo)return Zo[t]()}}function Nh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=wK(t);if(i!=null){var s=i.domain(r).range(n);return SU(s),s}}}var xx=(e,t,r)=>{var n=px(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ha(e))return UV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ha(e))return WV(e,t.tickCount,t.allowDecimals)}},bx=F([vx,vo,Fi],xx),wx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ha(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},jK=F([Xe,vx,bx,ke],wx),_K=F(jh,Xe,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Ms(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),JC=F(_K,pe,kC,it,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!hr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Lt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),NK=(e,t)=>{var r=Yn(e,t);return r==null||typeof r.padding!="string"?0:JC(e,"xAxis",t,r.padding)},SK=(e,t)=>{var r=Bi(e,t);return r==null||typeof r.padding!="string"?0:JC(e,"yAxis",t,r.padding)},PK=F(Yn,NK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),kK=F(Bi,SK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),AK=F([it,PK,uh,ch,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),EK=F([it,pe,kK,uh,ch,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Pc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return AK(e,r,n);case"yAxis":return EK(e,r,n);case"zAxis":return(i=ox(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return CC(e);case"radiusAxis":return TC(e,r);default:return}},QC=F([Xe,Pc],xh),bo=F([Xe,Fi,jK,QC],Nh);F([Sc,_h,ke],UC);function ZC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sh=(e,t)=>t,Ph=(e,t,r)=>r,OK=F(Sv,Sh,Ph,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ZC)),CK=F(Pv,Sh,Ph,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(ZC)),eT=(e,t)=>({width:e.width,height:t.height}),TK=(e,t)=>{var r=typeof t.width=="number"?t.width:lh;return{width:r,height:e.height}},tT=F(it,Yn,eT),MK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},DK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},RK=F(qn,it,OK,Sh,Ph,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=eT(t,l);a==null&&(a=MK(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),$K=F(Hn,it,CK,Sh,Ph,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=TK(t,l);a==null&&(a=DK(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),LK=(e,t)=>{var r=it(e),n=Yn(e,t);if(n!=null){var i=RK(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},IK=(e,t)=>{var r=it(e),n=Bi(e,t);if(n!=null){var i=$K(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},rT=F(it,Bi,(e,t)=>{var r=typeof t.width=="number"?t.width:lh;return{width:r,height:e.height}}),K_=(e,t,r)=>{switch(t){case"xAxis":return tT(e,r).width;case"yAxis":return rT(e,r).height;default:return}},nT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ri(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&DA(c))return c}},kc=F([pe,jh,Xe,ke],nT),jx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ri(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},_x=F([pe,jh,vo,ke],jx),H_=F([pe,nK,Fi,bo,kc,_x,Pc,bx,ke],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ri(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),iT=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ri(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=c==="angleAxis"&&s!=null&&s.length>=2?ft(s[0]-s[1])*2*g:g;var x=f||i;if(x){var w=x.map((p,v)=>{var b=a?a.indexOf(p):p;return{index:v,coordinate:n(b)+g,value:p,offset:g}});return w.filter(p=>!ur(p.coordinate))}return u&&l?l.map((p,v)=>({coordinate:n(p)+g,value:p,index:v,offset:g})):n.ticks?n.ticks(h).map(p=>({coordinate:n(p)+g,value:p,offset:g})):n.domain().map((p,v)=>({coordinate:n(p)+g,value:a?a[p]:p,index:v,offset:g}))}},sT=F([pe,vo,Fi,bo,bx,Pc,kc,_x,ke],iT),aT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ri(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?ft(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},qa=F([pe,vo,bo,Pc,kc,_x,ke],aT),Ga=F(Xe,bo,(e,t)=>{if(!(e==null||t==null))return Hd(Hd({},e),{},{scale:t})}),BK=F([Xe,Fi,vx,QC],Nh);F((e,t,r)=>ox(e,r),BK,(e,t)=>{if(!(e==null||t==null))return Hd(Hd({},e),{},{scale:t})});var FK=F([pe,Sv,Pv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),oT=e=>e.options.defaultTooltipEventType,lT=e=>e.options.validateTooltipEventTypes;function cT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Nx(e,t){var r=oT(e),n=lT(e);return cT(t,r,n)}function zK(e){return ee(t=>Nx(t,e))}var uT=(e,t)=>{var r,n=Number(t);if(!(ur(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},UK=e=>e.tooltip.settings,ui={active:!1,index:null,dataKey:void 0,coordinate:void 0},WK={itemInteraction:{click:ui,hover:ui},axisInteraction:{click:ui,hover:ui},keyboardInteraction:ui,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},dT=gr({name:"tooltip",initialState:WK,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=On(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:VK,removeTooltipEntrySettings:KK,setTooltipSettingsState:HK,setActiveMouseOverItemIndex:fT,mouseLeaveItem:qK,mouseLeaveChart:hT,setActiveClickItemIndex:GK,setMouseOverAxisIndex:mT,setMouseClickAxisIndex:YK,setSyncInteraction:lg,setKeyboardInteraction:cg}=dT.actions,XK=dT.reducer;function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){JK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JK(e,t,r){return(t=QK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function tH(e){return e.index!=null}var pT=(e,t,r,n)=>{if(t==null)return ui;var i=eH(e,t,r);if(i==null)return ui;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(tH(i)){if(s)return gu(gu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return gu(gu({},ui),{},{coordinate:i.coordinate})},Sx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!hr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},gT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},yT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Ac=e=>e.options.tooltipPayloadSearcher,wo=e=>e.tooltip;function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return(t=nH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=iH(e,"string");return typeof t=="symbol"?t:t+""}function iH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return e??t}var vT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:x,settings:w}=m,p=sH(x,l),v=Array.isArray(p)?ZE(p,u,d):p,b=(g=w==null?void 0:w.dataKey)!==null&&g!==void 0?g:n==null?void 0:n.dataKey,_=w==null?void 0:w.nameKey,j;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?j=kF(v,n.dataKey,i):j=s(v,t,c,_),Array.isArray(j))j.forEach(P=>{var S=Y_(Y_({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(Bj({tooltipEntrySettings:S,dataKey:P.dataKey,payload:P.payload,value:Ce(P.payload,P.dataKey),name:P.name}))});else{var N;h.push(Bj({tooltipEntrySettings:w,dataKey:b,payload:j,value:Ce(j,b),name:(N=Ce(j,_))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},Px=F([ot,pe,DC,rx,at],XC),aH=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),oH=F([at,yo],lx),Ec=F([aH,ot,oH],ux),lH=F([Ec],e=>e.filter(wh)),cH=F([Ec],dx),jo=F([cH,Ii],fx),uH=F([lH,Ii,ot],MC),kx=F([jo,ot,Ec],mx),dH=F([ot],px),fH=F([Ec],e=>e.filter(wh)),hH=F([uH,fH,jc],BC),mH=F([hH,Ii,at],FC),pH=F([Ec],$C),gH=F([jo,ot,pH,_h,at],zC),yH=F([WC,at,yo],xo),vH=F([yH,at],HC),xH=F([VC,at,yo],xo),bH=F([xH,at],qC),wH=F([KC,at,yo],xo),jH=F([wH,at],GC),_H=F([vH,jH,bH],qd),NH=F([ot,dH,mH,gH,_H,pe,at],gx),xT=F([ot,pe,jo,kx,jc,at,NH],yx),SH=F([xT,ot,Px],xx),PH=F([ot,xT,SH,at],wx),bT=e=>{var t=at(e),r=yo(e),n=!1;return Pc(e,t,r,n)},wT=F([ot,bT],xh),jT=F([ot,Px,PH,wT],Nh),kH=F([pe,kx,ot,at],nT),AH=F([pe,kx,ot,at],jx),EH=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ri(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?ft(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},Xn=F([pe,ot,Px,jT,bT,kH,AH,at],EH),Ax=F([oT,lT,UK],(e,t,r)=>cT(r.shared,e,t)),_T=e=>e.tooltip.settings.trigger,Ex=e=>e.tooltip.settings.defaultIndex,kh=F([wo,Ax,_T,Ex],pT),Ai=F([kh,jo],Sx),NT=F([Xn,Ai],uT),ST=F([kh],e=>{if(e)return e.dataKey}),PT=F([wo,Ax,_T,Ex],yT),OH=F([Hn,qn,pe,it,Xn,Ex,PT,Ac],gT),CH=F([kh,OH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),TH=F([kh],e=>e.active),MH=F([PT,Ai,Ii,ot,NT,Ac,Ax],vT),DH=F([MH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){RH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RH(e,t,r){return(t=$H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $H(e){var t=LH(e,"string");return typeof t=="symbol"?t:t+""}function LH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IH=()=>ee(ot),BH=()=>{var e=IH(),t=ee(Xn),r=ee(jT);return Hl(J_(J_({},e),{},{scale:r}),t)},FH=()=>ee(rx),Ox=(e,t)=>t,kT=(e,t,r)=>r,Cx=(e,t,r,n)=>n,zH=F(Xn,e=>th(e,t=>t.coordinate)),Tx=F([wo,Ox,kT,Cx],pT),AT=F([Tx,jo],Sx),UH=(e,t,r)=>{if(t!=null){var n=wo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},ET=F([wo,Ox,kT,Cx],yT),Gd=F([Hn,qn,pe,it,Xn,Cx,ET,Ac],gT),WH=F([Tx,Gd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),OT=F(Xn,AT,uT),VH=F([ET,AT,Ii,ot,OT,Ac,Ox],vT),KH=F([Tx],e=>({isActive:e.active,activeIndex:e.index})),HH=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=$U(e.chartX,e.chartY,t,r,l);if(c){var u=IU(c,t),d=_U(u,a,s,n,i),f=LU(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function ug(){return ug=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ug.apply(null,arguments)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){qH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qH(e,t,r){return(t=GH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GH(e){var t=YH(e,"string");return typeof t=="symbol"?t:t+""}function YH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XH(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,g;if(u==="ScatterChart")m=d,g=w9;else if(u==="BarChart")m=j9(a,d,i,s),g=NO;else if(a==="radial"){var{cx:x,cy:w,radius:p,startAngle:v,endAngle:b}=SO(d);m={cx:x,cy:w,startAngle:v,endAngle:b,innerRadius:p,outerRadius:p},g=kO}else m={points:tW(a,d,i)},g=hO;var _=typeof l=="object"&&"className"in l?l.className:void 0,j=yu(yu(yu(yu({stroke:"#ccc",pointerEvents:"none"},i),m),ve(l,!1)),{},{payload:f,payloadIndex:h,className:de("recharts-tooltip-cursor",_)});return y.isValidElement(l)?y.cloneElement(l,j):y.createElement(g,j)}function JH(e){var t=BH(),r=aO(),n=Av(),i=FH();return y.createElement(XH,ug({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var CT=y.createContext(null),QH=()=>y.useContext(CT),TT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),g=r?r+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],m]:c._events[g].push(m):(c._events[g]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],p=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),p){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,g),!0}for(b=1,v=new Array(p-1);b<p;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var _=w.length,j;for(b=0;b<_;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),p){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(p-1);j<p;j++)v[j-1]=arguments[j];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&a(this,m);else{for(var x=0,w=[],p=g.length;x<p;x++)(g[x].fn!==d||h&&!g[x].once||f&&g[x].context!==f)&&w.push(g[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(TT);var ZH=TT.exports;const eq=Mr(ZH);var Zl=new eq,dg="recharts.syncEvent.tooltip",Z_="recharts.syncEvent.brush";function Mx(e,t){if(t){var r=Number.parseInt(t,10);if(!ur(r))return e==null?void 0:e[r]}}var tq={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},MT=gr({name:"options",initialState:tq,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),rq=MT.reducer,{createEventEmitter:nq}=MT.actions;function iq(e){return e.tooltip.syncInteraction}var sq={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},DT=gr({name:"chartData",initialState:sq,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:eN,setDataStartEndIndexes:aq,setComputedData:Ite}=DT.actions,oq=DT.reducer,RT=()=>{};function lq(){var e=ee(nx),t=ee(ix),r=Ue(),n=ee(AC),i=ee(Xn),s=Av(),a=kv(),l=ee(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return RT;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},g=n(i,m);h=i[g]}else n==="value"&&(h=i.find(N=>String(N.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||a==null){r(lg({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:p}=x,v=Math.min(w,a.x+a.width),b=Math.min(p,a.y+a.height),_={x:s==="horizontal"?h.coordinate:v,y:s==="horizontal"?b:h.coordinate},j=lg({active:d.payload.active,coordinate:_,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(j)}}};return Zl.on(dg,c),()=>{Zl.off(dg,c)}},[l,r,t,e,n,i,s,a])}function cq(){var e=ee(nx),t=ee(ix),r=Ue();y.useEffect(()=>{if(e==null)return RT;var n=(i,s,a)=>{t!==a&&e===i&&r(aq(s))};return Zl.on(Z_,n),()=>{Zl.off(Z_,n)}},[r,t,e])}function uq(){var e=Ue();y.useEffect(()=>{e(nq())},[e]),lq(),cq()}function dq(e,t,r,n,i,s){var a=ee(h=>UH(h,e,t)),l=ee(ix),c=ee(nx),u=ee(AC),d=ee(iq),f=d==null?void 0:d.active;y.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=lg({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});Zl.emit(dg,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pq(e){return e.dataKey}function gq(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(ZU,t)}var nN=[],yq={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Os.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ya(e){var t=Rr(e,yq),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:g,cursor:x,shared:w,trigger:p,defaultIndex:v,portal:b,axisId:_}=t,j=Ue(),N=typeof v=="number"?String(v):v;y.useEffect(()=>{j(HK({shared:w,trigger:p,axisId:_,active:r,defaultIndex:N}))},[j,w,p,_,r,N]);var P=kv(),S=fO(),A=zK(w),{activeIndex:C,isActive:O}=ee(X=>KH(X,A,p,N)),U=ee(X=>VH(X,A,p,N)),L=ee(X=>OT(X,A,p,N)),q=ee(X=>WH(X,A,p,N)),I=U,K=QH(),z=r??O,[D,k]=h8([I,z]),B=A==="axis"?L:void 0;dq(A,p,q,B,C,z);var G=b??K;if(G==null)return null;var $=I??nN;z||($=nN),l&&$.length&&($=Cz(I.filter(X=>X.value!=null&&(X.hide!==!0||t.includeHidden)),d,pq));var Y=$.length>0,le=y.createElement(a9,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:z,coordinate:q,hasPayload:Y,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:g,lastBoundingBox:D,innerRef:k,hasPortalFromProps:!!b},gq(a,rN(rN({},t),{},{payload:$,label:B,active:z,coordinate:q,accessibilityLayer:S})));return y.createElement(y.Fragment,null,mk.createPortal(le,G),z&&y.createElement(JH,{cursor:x,tooltipEventType:A,coordinate:q,payload:I,index:C}))}var $T={},LT={},IT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{g(),a=void 0,l=null},w=()=>{d()},p=function(...v){if(i!=null&&i.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return p.schedule=m,p.cancel=x,p.flush=w,i==null||i.addEventListener("abort",x,{once:!0}),p}e.debounce=t})(IT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IT;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},i,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})($T);var vq=$T.throttle;const xq=Mr(vq);var yl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){bq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bq(e,t,r){return(t=wq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wq(e){var t=jq(e,"string");return typeof t=="symbol"?t:t+""}function jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ss=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,x=y.useRef(null),w=y.useRef();w.current=m,y.useImperativeHandle(t,()=>x.current);var[p,v]=y.useState({containerWidth:n.width,containerHeight:n.height}),b=y.useCallback((j,N)=>{v(P=>{var S=Math.round(j),A=Math.round(N);return P.containerWidth===S&&P.containerHeight===A?P:{containerWidth:S,containerHeight:A}})},[]);y.useEffect(()=>{var j=A=>{var C,{width:O,height:U}=A[0].contentRect;b(O,U),(C=w.current)===null||C===void 0||C.call(w,O,U)};d>0&&(j=xq(j,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(j),{width:P,height:S}=x.current.getBoundingClientRect();return b(P,S),N.observe(x.current),()=>{N.disconnect()}},[b,d]);var _=y.useMemo(()=>{var{containerWidth:j,containerHeight:N}=p;if(j<0||N<0)return null;yl(is(i)||is(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),yl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=is(i)?j:i,S=is(s)?N:s;return r&&r>0&&(P?S=P/r:S&&(P=S*r),c&&S>c&&(S=c)),yl(P>0||S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,S,i,s,a,l,r),y.Children.map(u,A=>y.cloneElement(A,{width:P,height:S,style:Jm({width:P,height:S},A.props.style)}))},[r,u,s,c,l,a,p,i]);return y.createElement("div",{id:f?"".concat(f):void 0,className:de("recharts-responsive-container",h),style:Jm(Jm({},g),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Ds=e=>null;Ds.displayName="Cell";function _q(e,t,r){return(t=Nq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Nq(e){var t=Sq(e,"string");return typeof t=="symbol"?t:t+""}function Sq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Pq{constructor(t){_q(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=Eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eq(e){var t=Oq(e,"string");return typeof t=="symbol"?t:t+""}function Oq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cq={cacheSize:2e3,enableCache:!0},BT=kq({},Cq),aN=new Pq(BT.cacheSize),Tq={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},oN="recharts_measurement_span";function Mq(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var lN=(e,t)=>{try{var r=document.getElementById(oN);r||(r=document.createElement("span"),r.setAttribute("id",oN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,Tq,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},vl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Os.isSsr)return{width:0,height:0};if(!BT.enableCache)return lN(t,r);var n=Mq(t,r),i=aN.get(n);if(i)return i;var s=lN(t,r);return aN.set(n,s),s},cN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Dq=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rq=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},$q=Object.keys(FT),da="NaN";function Lq(e,t){return e*FT[t]}class Ut{static parse(t){var r,[,n,i]=(r=Rq.exec(t))!==null&&r!==void 0?r:[];return new Ut(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ur(t)&&(this.unit=""),r!==""&&!Dq.test(r)&&(this.num=NaN,this.unit=""),$q.includes(r)&&(this.num=Lq(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ut(NaN,""):new Ut(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function zT(e){if(e.includes(da))return da;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=cN.exec(t))!==null&&r!==void 0?r:[],a=Ut.parse(n??""),l=Ut.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return da;t=t.replace(cN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=uN.exec(t))!==null&&u!==void 0?u:[],m=Ut.parse(d??""),g=Ut.parse(h??""),x=f==="+"?m.add(g):m.subtract(g);if(x.isNaN())return da;t=t.replace(uN,x.toString())}return t}var dN=/\(([^()]*)\)/;function Iq(e){for(var t=e,r;(r=dN.exec(t))!=null;){var[,n]=r;t=t.replace(dN,zT(n))}return t}function Bq(e){var t=e.replace(/\s+/g,"");return t=Iq(t),t=zT(t),t}function Fq(e){try{return Bq(e)}catch{return da}}function Qm(e){var t=Fq(e.slice(5,-1));return t===da?"":t}var zq=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Uq=["dx","dy","angle","className","breakAll"];function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(null,arguments)}function fN(e,t){if(e==null)return{};var r,n,i=Wq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UT=/[ \f\n\r\t\v\u2028\u2029]+/,WT=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];qe(t)||(r?i=t.toString().split(""):i=t.toString().split(UT));var s=i.map(l=>({word:l,width:vl(l,n).width})),a=r?0:vl(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},Vq=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=te(s),d=a,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((U,L)=>{var{word:q,width:I}=L,K=U[U.length-1];if(K&&(n==null||i||K.width+I+r<Number(n)))K.words.push(q),K.width+=I+r;else{var z={words:[q],width:I};U.push(z)}return U},[])},h=f(t),m=C=>C.reduce((O,U)=>O.width>U.width?O:U);if(!u||i)return h;var g=h.length>s||m(h).width>Number(n);if(!g)return h;for(var x="…",w=C=>{var O=d.slice(0,C),U=WT({breakAll:c,style:l,children:O+x}).wordsWithComputedWidth,L=f(U),q=L.length>s||m(L).width>Number(n);return[q,L]},p=0,v=d.length-1,b=0,_;p<=v&&b<=d.length-1;){var j=Math.floor((p+v)/2),N=j-1,[P,S]=w(N),[A]=w(j);if(!P&&!A&&(p=j+1),P&&A&&(v=j-1),!P&&A){_=S;break}b++}return _||h},hN=e=>{var t=qe(e)?[]:e.toString().split(UT);return[{words:t}]},Kq=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Os.isSsr){var l,c,u=WT({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return hN(n);return Vq({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return hN(n)},mN="#808080",_o=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=mN}=e,d=fN(e,zq),f=y.useMemo(()=>Kq({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:g,className:x,breakAll:w}=d,p=fN(d,Uq);if(!pn(r)||!pn(n))return null;var v=r+(te(h)?h:0),b=n+(te(m)?m:0),_;switch(c){case"start":_=Qm("calc(".concat(s,")"));break;case"middle":_=Qm("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:_=Qm("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(a){var N=f[0].width,{width:P}=d;j.push("scale(".concat(te(P)?P/N:1,")"))}return g&&j.push("rotate(".concat(g,", ").concat(v,", ").concat(b,")")),j.length&&(p.transform=j.join(" ")),y.createElement("text",fg({},ve(p,!0),{ref:t,x:v,y:b,className:de("recharts-text",x),textAnchor:l,fill:u.includes("url")?mN:u}),f.map((S,A)=>{var C=S.words.join(w?"":" ");return y.createElement("tspan",{x:v,dy:A===0?_:i,key:"".concat(C,"-").concat(A)},C)}))});_o.displayName="Text";var Hq=["offset"],qq=["labelRef"];function pN(e,t){if(e==null)return{};var r,n,i=Gq(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Gq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){Yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yq(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _n(){return _n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_n.apply(null,arguments)}var Qq=e=>{var{value:t,formatter:r}=e,n=qe(e.children)?t:e.children;return typeof r=="function"?r(n):n},Dx=e=>e!=null&&typeof e=="function",Zq=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,g=(u+d)/2,x=Zq(f,h),w=x>=0?1:-1,p,v;i==="insideStart"?(p=f+w*s,v=m):i==="insideEnd"?(p=h-w*s,v=!m):i==="end"&&(p=h+w*s,v=m),v=x<=0?v:!v;var b=be(l,c,g,p),_=be(l,c,g,p+(v?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(v?0:1,`,
    `).concat(_.x,",").concat(_.y),N=qe(e.id)?Wl("recharts-radial-line-"):e.id;return y.createElement("text",_n({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",a)}),y.createElement("defs",null,y.createElement("path",{id:N,d:j})),y.createElement("textPath",{xlinkHref:"#".concat(N)},t))},tG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=be(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:g}=be(n,i,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},rG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,g=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var p={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return We(We({},p),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var v={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return We(We({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var b={x:s-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"};return We(We({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(i==="right"){var _={x:s+l+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return We(We({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:c}:{})}var j=r?{width:l,height:c}:{};return i==="insideLeft"?We({x:s+g,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},j):i==="insideRight"?We({x:s+l-g,y:a+c/2,textAnchor:x,verticalAnchor:"middle"},j):i==="insideTop"?We({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},j):i==="insideBottom"?We({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},j):i==="insideTopLeft"?We({x:s+g,y:a+d,textAnchor:w,verticalAnchor:h},j):i==="insideTopRight"?We({x:s+l-g,y:a+d,textAnchor:x,verticalAnchor:h},j):i==="insideBottomLeft"?We({x:s+g,y:a+c-d,textAnchor:w,verticalAnchor:f},j):i==="insideBottomRight"?We({x:s+l-g,y:a+c-d,textAnchor:x,verticalAnchor:f},j):i&&typeof i=="object"&&(te(i.x)||is(i.x))&&(te(i.y)||is(i.y))?We({x:s+Lt(i.x,l),y:a+Lt(i.y,c),textAnchor:"end",verticalAnchor:"end"},j):We({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},nG=e=>"cx"in e&&te(e.cx);function Ht(e){var{offset:t=5}=e,r=pN(e,Hq),n=We({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=ee(go),m=kv(),g=s==="center"?m:h??m,x=i||g;if(!x||qe(a)&&qe(l)&&!y.isValidElement(c)&&typeof c!="function")return null;var w=We(We({},n),{},{viewBox:x});if(y.isValidElement(c)){var p=pN(w,qq);return y.cloneElement(c,p)}var v;if(typeof c=="function"){if(v=y.createElement(c,w),y.isValidElement(v))return v}else v=Qq(n);var b=nG(x),_=ve(n,!0);if(b&&(s==="insideStart"||s==="insideEnd"||s==="end"))return eG(n,v,_,x);var j=b?tG(x,n.offset,n.position):rG(n,x);return y.createElement(_o,_n({ref:f,className:de("recharts-label",u)},_,j,{breakAll:d}),v)}Ht.displayName="Label";var VT=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:g,height:x,clockWise:w,labelViewBox:p}=e;if(p)return p;if(te(g)&&te(x)){if(te(d)&&te(f))return{x:d,y:f,width:g,height:x};if(te(h)&&te(m))return{x:h,y:m,width:g,height:x}}if(te(d)&&te(f))return{x:d,y:f,width:0,height:0};if(te(t)&&te(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},iG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Ht,_n({key:"label-implicit"},n)):pn(e)?y.createElement(Ht,_n({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Ht?y.cloneElement(e,We({key:"label-implicit"},n)):y.createElement(Ht,_n({key:"label-implicit",content:e},n)):Dx(e)?y.createElement(Ht,_n({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Ht,_n({},e,{key:"label-implicit"},n)):null},sG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=VT(t),l=pc(i,Ht).map((u,d)=>y.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=iG(t.label,r||a,s);return[c,...l]};Ht.parseViewBox=VT;Ht.renderCallByParent=sG;var KT={},HT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(HT);var qT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HT,r=qT,n=Yf;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(KT);var aG=KT.last;const GT=Mr(aG);var oG=["valueAccessor"],lG=["data","dataKey","clockWise","id","textBreakAll"];function Yd(){return Yd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yd.apply(null,arguments)}function yN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yN(Object(r),!0).forEach(function(n){cG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cG(e,t,r){return(t=uG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uG(e){var t=dG(e,"string");return typeof t=="symbol"?t:t+""}function dG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xN(e,t){if(e==null)return{};var r,n,i=fG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hG=e=>Array.isArray(e.value)?GT(e.value):e.value;function _i(e){var{valueAccessor:t=hG}=e,r=xN(e,oG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=xN(r,lG);return!n||!n.length?null:y.createElement(ze,{className:"recharts-label-list"},n.map((u,d)=>{var f=qe(i)?t(u,d):Ce(u&&u.payload,i),h=qe(a)?{}:{id:"".concat(a,"-").concat(d)};return y.createElement(Ht,Yd({},ve(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Ht.parseViewBox(qe(s)?u:vN(vN({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}_i.displayName="LabelList";function mG(e,t){return e?e===!0?y.createElement(_i,{key:"labelList-implicit",data:t}):y.isValidElement(e)||Dx(e)?y.createElement(_i,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(_i,Yd({data:t},e,{key:"labelList-implicit"})):null:null}function pG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=pc(n,_i).map((a,l)=>y.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=mG(e.label,t);return[s,...i]}_i.renderCallByParent=pG;var gG=["points","className","baseLinePoints","connectNulls"];function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(null,arguments)}function yG(e,t){if(e==null)return{};var r,n,i=vG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var bN=e=>e&&e.x===+e.x&&e.y===+e.y,xG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{bN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),bN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},xl=(e,t)=>{var r=xG(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},bG=(e,t,r)=>{var n=xl(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(xl(t.reverse(),r).slice(1))},YT=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=yG(e,gG);if(!t||!t.length)return null;var a=de("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=bG(t,n,i);return y.createElement("g",{className:a},y.createElement("path",fa({},ve(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?y.createElement("path",fa({},ve(s,!0),{fill:"none",d:xl(t,i)})):null,l?y.createElement("path",fa({},ve(s,!0),{fill:"none",d:xl(n,i)})):null)}var u=xl(t,i);return y.createElement("path",fa({},ve(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function hg(){return hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hg.apply(null,arguments)}var Rx=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=de("recharts-dot",i);return t===+t&&r===+r&&n===+n?y.createElement("circle",hg({},Ot(e),ov(e),{className:s,cx:t,cy:r,r:n})):null},$x=e=>e.graphicalItems.polarItems,wG=F([ke,Nc],lx),Lx=F([$x,Xe,wG],ux),jG=F([Lx],dx),Ix=F([jG,yh],fx),XT=F([Ix,Xe,Lx],mx),_G=F([Ix,Xe,Lx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=Ce(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ce(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),wN=()=>{},NG=F([Xe,YC,wN,_G,wN,pe,ke],gx),JT=F([Xe,pe,Ix,XT,jc,ke,NG],yx),QT=F([JT,Xe,Fi],xx),SG=F([Xe,JT,QT,ke],wx),Bx=(e,t,r)=>{switch(t){case"angleAxis":return po(e,r);case"radiusAxis":return _c(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fx=(e,t,r)=>{switch(t){case"angleAxis":return JV(e,r);case"radiusAxis":return QV(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},No=F([Bx,Fi,SG,Fx],Nh),ZT=F([pe,XT,vo,ke],jx),So=F([pe,Bx,Fi,No,QT,Fx,kc,ZT,ke],iT);F([pe,Bx,No,Fx,kc,ZT,ke],aT);var PG=(e,t)=>So(e,"angleAxis",t,!1),kG=F([PG],e=>{if(e)return e.map(t=>t.coordinate)}),AG=(e,t)=>So(e,"radiusAxis",t,!1),EG=F([AG],e=>{if(e)return e.map(t=>t.coordinate)}),OG=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function CG(e,t){if(e==null)return{};var r,n,i=TG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(null,arguments)}function jN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jN(Object(r),!0).forEach(function(n){MG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=RG(e,"string");return typeof t=="symbol"?t:t+""}function RG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $G=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=be(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},LG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=Xa({stroke:"#ccc"},Ot(e));return y.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=be(t,r,n,c),d=be(t,r,i,c);return y.createElement("line",Un({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},IG=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=Xa(Xa({stroke:"#ccc"},Ot(e)),{},{fill:"none"});return y.createElement("circle",Un({},s,{className:de("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},BG=e=>{var{radius:t,index:r}=e,n=Xa(Xa({stroke:"#ccc"},Ot(e)),{},{fill:"none"});return y.createElement("path",Un({},n,{className:de("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:$G(t,e.cx,e.cy,e.polarAngles)}))},FG=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:y.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?y.createElement(IG,Un({key:s},e,{radius:n,index:i})):y.createElement(BG,Un({key:s},e,{radius:n,index:i}))}))},e4=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:g,innerRadius:x,outerRadius:w}=e,p=CG(e,OG),v=ee(go),b=Xa({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=v==null?void 0:v.cy)!==null&&i!==void 0?i:g)!==null&&n!==void 0?n:0,innerRadius:(s=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:x)!==null&&s!==void 0?s:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},p),{polarAngles:_,polarRadius:j,cx:N,cy:P,innerRadius:S,outerRadius:A}=b,C=ee(q=>kG(q,f)),O=ee(q=>EG(q,h)),U=Array.isArray(_)?_:C,L=Array.isArray(j)?j:O;return A<=0||U==null||L==null?null:y.createElement("g",{className:"recharts-polar-grid"},y.createElement(LG,Un({cx:N,cy:P,innerRadius:S,outerRadius:A,gridType:u,radialLines:d},b,{polarAngles:U,polarRadius:L})),y.createElement(FG,Un({cx:N,cy:P,innerRadius:S,outerRadius:A,gridType:u,radialLines:d},b,{polarAngles:U,polarRadius:L})))};e4.displayName="PolarGrid";var t4={},r4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(r4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=r4,r=gc,n=Xf;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(t4);var zG=t4.maxBy;const UG=Mr(zG);var n4={},i4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(i4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i4,r=gc,n=Xf;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(n4);var WG=n4.minBy;const VG=Mr(WG);var KG={radiusAxis:{},angleAxis:{}},s4=gr({name:"polarAxis",initialState:KG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:HG,removeRadiusAxis:qG,addAngleAxis:GG,removeAngleAxis:YG}=s4.actions,XG=s4.reducer,JG=["cx","cy","angle","axisLine"],QG=["angle","tickFormatter","stroke","tick"];function ec(){return ec=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ec.apply(null,arguments)}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ah(e,t,r){return(t=ZG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZG(e){var t=eY(e,"string");return typeof t=="symbol"?t:t+""}function eY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a4(e,t){if(e==null)return{};var r,n,i=tY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var o4="radiusAxis";function rY(e){var t=Ue();return y.useEffect(()=>(t(HG(e)),()=>{t(qG(e))})),null}var nY=(e,t,r,n)=>{var{coordinate:i}=e;return be(r,n,i,t)},iY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},sY=(e,t,r,n)=>{var i=UG(n,a=>a.coordinate||0),s=VG(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},aY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=a4(e,JG),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=be(r,n,l[0],i),u=be(r,n,l[1],i),d=sn(sn(sn({},Ot(a)),{},{fill:"none"},ve(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return y.createElement("line",ec({className:"recharts-polar-radius-axis-line"},d))},oY=(e,t,r)=>{var n;return y.isValidElement(e)?n=y.cloneElement(e,t):typeof e=="function"?n=e(t):n=y.createElement(_o,ec({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},lY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=a4(e,QG),l=iY(e.orientation),c=Ot(a),u=ve(s,!1),d=t.map((f,h)=>{var m=nY(f,e.angle,e.cx,e.cy),g=sn(sn(sn(sn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return y.createElement(ze,ec({className:de("recharts-polar-radius-axis-tick",QE(s)),key:"tick-".concat(f.coordinate)},co(e,f,h)),oY(s,g,n?n(f.value,h):f.value))});return y.createElement(ze,{className:"recharts-polar-radius-axis-ticks"},d)},cY=e=>{var{radiusAxisId:t}=e,r=ee(go),n=ee(c=>No(c,"radiusAxis",t)),i=ee(c=>So(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=sn(sn(sn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return y.createElement(ze,{className:de("recharts-polar-radius-axis",o4,s.className)},l&&aY(s,i),a&&lY(s,i),Ht.renderCallByParent(s,sY(s.angle,s.cx,s.cy,i)))};class Eh extends y.PureComponent{render(){return y.createElement(y.Fragment,null,y.createElement(rY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),y.createElement(cY,this.props))}}Ah(Eh,"displayName","PolarRadiusAxis");Ah(Eh,"axisType",o4);Ah(Eh,"defaultProps",Wt);var uY=["children"];function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oh(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hY(e,t){if(e==null)return{};var r,n,i=mY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function mY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pY=Math.PI/180,SN=1e-5,l4="angleAxis";function gY(e){var t=Ue(),r=y.useMemo(()=>{var s=hY(e,uY);return s},[e]),n=ee(s=>po(s,r.id)),i=r===n;return y.useEffect(()=>(t(GG(r)),()=>{t(YG(r))}),[t,r]),i?e.children:null}var yY=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=be(r,n,i,e.coordinate),u=be(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},vY=(e,t)=>{var r=Math.cos(-e.coordinate*pY);return r>SN?t==="outer"?"start":"end":r<-SN?t==="outer"?"end":"start":"middle"},xY=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=rn(rn({},Ot(e)),{},{fill:"none"},ve(s,!1));if(i==="circle")return y.createElement(Rx,Wn({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>be(t,r,n,u.coordinate));return y.createElement(YT,Wn({className:"recharts-polar-angle-axis-line"},l,{points:c}))},bY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?y.isValidElement(t)?y.cloneElement(t,r):typeof t=="function"?t(r):y.createElement(_o,Wn({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},wY=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=Ot(e),l=ve(t,!1),c=rn(rn({},a),{},{fill:"none"},ve(r,!1)),u=s.map((d,f)=>{var h=yY(d,e),m=vY(d,e.orientation),g=rn(rn(rn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return y.createElement(ze,Wn({className:de("recharts-polar-angle-axis-tick",QE(t)),key:"tick-".concat(d.coordinate)},co(e,d,f)),r&&y.createElement("line",Wn({className:"recharts-polar-angle-axis-tick-line"},c,h)),y.createElement(bY,{tick:t,tickProps:g,value:n?n(d.value,f):d.value}))});return y.createElement(ze,{className:"recharts-polar-angle-axis-ticks"},u)},jY=e=>{var{angleAxisId:t}=e,r=ee(go),n=ee(l=>No(l,"angleAxis",t)),i=tr(),s=ee(l=>So(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=rn(rn(rn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return y.createElement(ze,{className:de("recharts-polar-angle-axis",l4,a.className)},y.createElement(xY,Wn({},a,{ticks:s})),y.createElement(wY,Wn({},a,{ticks:s})))};class Ch extends y.PureComponent{render(){return this.props.radius<=0?null:y.createElement(gY,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},y.createElement(jY,this.props))}}Oh(Ch,"displayName","PolarAngleAxis");Oh(Ch,"axisType",l4);Oh(Ch,"defaultProps",tn);function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=NY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=SY(e,"string");return typeof t=="symbol"?t:t+""}function SY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PY=(e,t)=>t,zx=F([$x,PY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),kY=[],Ux=(e,t,r)=>(r==null?void 0:r.length)===0?kY:r,c4=F([yh,zx,Ux],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>kN(kN({},t.presentationProps),s.props))),i!=null)return i}}),AY=F([c4,zx,Ux],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=Ce(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:uo(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),EY=F([c4,zx,Ux,it],(e,t,r,n)=>{if(!(t==null||e==null))return bX({offset:n,pieSettings:t,displayedData:e,cells:r})}),u4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(u4);var OY=u4.isPlainObject;const CY=Mr(OY);function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(null,arguments)}var AN=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},TY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},MY=e=>{var t=Rr(e,TY),r=y.useRef(),[n,i]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:g}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var x=de("recharts-trapezoid",d);return g?y.createElement(Dd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:g},w=>{var{upperWidth:p,lowerWidth:v,height:b,x:_,y:j}=w;return y.createElement(Dd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},y.createElement("path",Xd({},ve(t,!0),{className:x,d:AN(_,j,p,v,b),ref:r})))}):y.createElement("g",null,y.createElement("path",Xd({},ve(t,!0),{className:x,d:AN(s,a,l,c,u)})))},DY=["option","shapeType","propTransformer","activeClassName","isActive"];function RY(e,t){if(e==null)return{};var r,n,i=$Y(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function EN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EN(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return(t=IY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FY(e,t){return Jd(Jd({},t),e)}function zY(e,t){return e==="symbols"}function ON(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(NO,r);case"trapezoid":return y.createElement(MY,r);case"sector":return y.createElement(kO,r);case"symbols":if(zY(t))return y.createElement(tE,r);break;default:return null}}function UY(e){return y.isValidElement(e)?e.props:e}function d4(e){var{option:t,shapeType:r,propTransformer:n=FY,activeClassName:i="recharts-active-shape",isActive:s}=e,a=RY(e,DY),l;if(y.isValidElement(t))l=y.cloneElement(t,Jd(Jd({},a),UY(t)));else if(typeof t=="function")l=t(a);else if(CY(t)&&typeof t!="boolean"){var c=n(t,a);l=y.createElement(ON,{shapeType:r,elementProps:c})}else{var u=a;l=y.createElement(ON,{shapeType:r,elementProps:u})}return s?y.createElement(ze,{className:i},l):l}var Wx=(e,t)=>{var r=Ue();return(n,i)=>s=>{e==null||e(n,i,s),r(fT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Vx=e=>{var t=Ue();return(r,n)=>i=>{e==null||e(r,n,i),t(qK())}},Kx=(e,t)=>{var r=Ue();return(n,i)=>s=>{e==null||e(n,i,s),r(GK({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Hx(e){var{fn:t,args:r}=e,n=Ue(),i=tr();return y.useEffect(()=>{if(!i){var s=t(r);return n(VK(s)),()=>{n(KK(s))}}},[t,r,n,i]),null}var f4=()=>{};function WY(e){var{legendPayload:t}=e,r=Ue(),n=tr();return y.useEffect(()=>n?f4:(r(uO(t)),()=>{r(dO(t))}),[r,n,t]),null}function h4(e){var{legendPayload:t}=e,r=Ue(),n=ee(pe);return y.useEffect(()=>n!=="centric"&&n!=="radial"?f4:(r(uO(t)),()=>{r(dO(t))}),[r,n,t]),null}function qx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Wl(t)),n=y.useRef(e);return n.current!==e&&(r.current=Wl(t),n.current=e),r.current}var Zm,VY=()=>{var[e]=y.useState(()=>Wl("uid-"));return e},KY=(Zm=xM.useId)!==null&&Zm!==void 0?Zm:VY;function HY(e,t){var r=KY();return t||(e?"".concat(e,"-").concat(r):r)}var qY=y.createContext(void 0),Gx=e=>{var{id:t,type:r,children:n}=e,i=HY("recharts-".concat(r),t);return y.createElement(qY.Provider,{value:i},n(i))},GY={cartesianItems:[],polarItems:[]},m4=gr({name:"graphicalItems",initialState:GY,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=On(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=On(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=On(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:YY,replaceCartesianGraphicalItem:XY,removeCartesianGraphicalItem:JY,addPolarGraphicalItem:QY,removePolarGraphicalItem:ZY}=m4.actions,eX=m4.reducer;function tX(e){var t=Ue(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(YY(e)):r.current!==e&&t(XY({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(JY(r.current)),r.current=null)},[t]),null}function p4(e){var t=Ue();return y.useEffect(()=>(t(QY(e)),()=>{t(ZY(e))}),[t,e]),null}function rX(){}var nX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},CN={t:0},ep={t:1};function Yx(e){var t=Rr(e,nX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=_O("JavascriptAnimate",t.animationManager),[f,h]=y.useState(r?CN:ep),m=y.useRef(null);return y.useEffect(()=>{r||h(ep)},[r]),y.useEffect(()=>{if(!r||!n)return rX;var g=jO(CN,ep,bO(s),i,h,d.getTimeoutController()),x=()=>{m.current=g()};return d.start([c,a,x,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var iX=["onMouseEnter","onClick","onMouseLeave"],sX=["id"],aX=["id"];function Xx(e,t){if(e==null)return{};var r,n,i=oX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function oX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function He(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){lX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lX(e,t,r){return(t=cX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cX(e){var t=uX(e,"string");return typeof t=="symbol"?t:t+""}function uX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vn.apply(null,arguments)}function dX(e){var t=y.useMemo(()=>pc(e.children,Ds),[e.children]),r=ee(n=>AY(n,e.id,t));return r==null?null:y.createElement(h4,{legendPayload:r})}function fX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:uo(l,t),hide:c,type:u,color:a,unit:""}}}var hX=(e,t)=>e>t?"start":e<t?"end":"middle",mX=(e,t,r)=>typeof t=="function"?t(e):Lt(t,r,r*.8),pX=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=JE(s,a),c=i+Lt(e.cx,s,s/2),u=n+Lt(e.cy,a,a/2),d=Lt(e.innerRadius,l,0),f=mX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},gX=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},yX=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=de("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(hO,Vn({},t,{type:"linear",className:r}))},vX=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var i=de("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(_o,Vn({},t,{alignmentBaseline:"middle",className:i}),n)};function xX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=Ot(r),c=ve(i,!1),u=ve(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var g=(h.startAngle+h.endAngle)/2,x=be(h.cx,h.cy,h.outerRadius+d,g),w=He(He(He(He({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:hX(x.x,h.cx)},x),p=He(He(He(He({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[be(h.cx,h.cy,h.outerRadius,g),x],key:"line"});return y.createElement(ze,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&yX(s,p),vX(i,w,Ce(h,a)))});return y.createElement(ze,{className:"recharts-pie-labels"},f)}function g4(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=ee(Ai),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=Xx(i,iX),f=Wx(l,i.dataKey),h=Vx(u),m=Kx(c,i.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((g,x)=>{if((g==null?void 0:g.startAngle)===0&&(g==null?void 0:g.endAngle)===0&&t.length!==1)return null;var w=r&&String(x)===a,p=a?n:null,v=w?r:p,b=He(He({},g),{},{stroke:g.stroke,tabIndex:-1,[nO]:x,[iO]:i.dataKey});return y.createElement(ze,Vn({tabIndex:-1,className:"recharts-pie-sector"},co(d,g,x),{onMouseEnter:f(g,x),onMouseLeave:h(g,x),onClick:m(g,x),key:"sector-".concat(g==null?void 0:g.startAngle,"-").concat(g==null?void 0:g.endAngle,"-").concat(g.midAngle,"-").concat(x)}),y.createElement(d4,Vn({option:v,isActive:w,shapeType:"sector"},b)))}),y.createElement(xX,{sectors:t,props:i,showLabels:s}))}function bX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=gX(l,c),g=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(N=>Ce(N,u,0)!==0).length,p=(g>=360?w:w-1)*x,v=g-w*h-p,b=n.reduce((N,P)=>{var S=Ce(P,u,0);return N+(te(S)?S:0)},0),_;if(b>0){var j;_=n.map((N,P)=>{var S=Ce(N,u,0),A=Ce(N,d,P),C=pX(r,s,N),O=(te(S)?S:0)/b,U,L=He(He({},N),i&&i[P]&&i[P].props);P?U=j.endAngle+ft(m)*x*(S!==0?1:0):U=l;var q=U+ft(m)*((S!==0?h:0)+O*v),I=(U+q)/2,K=(C.innerRadius+C.outerRadius)/2,z=[{name:A,value:S,payload:L,dataKey:u,type:f}],D=be(C.cx,C.cy,K,I);return j=He(He(He(He({},r.presentationProps),{},{percent:O,cornerRadius:a,name:A,tooltipPayload:z,midAngle:I,middleRadius:K,tooltipPosition:D},L),C),{},{value:Ce(N,u),startAngle:U,endAngle:q,payload:L,paddingAngle:ft(m)*x}),j})}return _}function wX(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=qx(t,"recharts-pie-"),m=r.current,[g,x]=y.useState(!0),w=y.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),p=y.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return y.createElement(Yx,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:p,onAnimationEnd:w,key:h},v=>{var b=[],_=n&&n[0],j=_.startAngle;return n.forEach((N,P)=>{var S=m&&m[P],A=P>0?ki(N,"paddingAngle",0):0;if(S){var C=ua(S.endAngle-S.startAngle,N.endAngle-N.startAngle),O=He(He({},N),{},{startAngle:j+A,endAngle:j+C(v)+A});b.push(O),j=O.endAngle}else{var{endAngle:U,startAngle:L}=N,q=ua(0,U-L),I=q(v),K=He(He({},N),{},{startAngle:j+A,endAngle:j+I+A});b.push(K),j=K.endAngle}}),r.current=b,y.createElement(ze,null,y.createElement(g4,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!g}))})}function jX(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=y.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?y.createElement(wX,{props:e,previousSectorsRef:s}):y.createElement(g4,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function _X(e){var{hide:t,className:r,rootTabIndex:n}=e,i=de("recharts-pie",r);return t?null:y.createElement(ze,{tabIndex:n,className:i},y.createElement(jX,e))}var NX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Os.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function SX(e){var{id:t}=e,r=Xx(e,sX),n=y.useMemo(()=>pc(e.children,Ds),[e.children]),i=ee(s=>EY(s,t,n));return y.createElement(y.Fragment,null,y.createElement(Hx,{fn:fX,args:He(He({},e),{},{sectors:i})}),y.createElement(_X,Vn({},r,{sectors:i})))}function Th(e){var t=Rr(e,NX),{id:r}=t,n=Xx(t,aX),i=Ot(n);return y.createElement(Gx,{id:r,type:"pie"},s=>y.createElement(y.Fragment,null,y.createElement(p4,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),y.createElement(dX,Vn({},n,{id:s})),y.createElement(SX,Vn({},n,{id:s})),n.children))}Th.displayName="Pie";var PX=F([it],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),kX=F([PX,Hn,qn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),y4=()=>ee(kX),AX=()=>ee(DH);function MN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function DN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MN(Object(r),!0).forEach(function(n){EX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EX(e,t,r){return(t=OX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=DN(DN({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ve(i,!1)),ov(i)),l;return y.isValidElement(i)?l=y.cloneElement(i,a):typeof i=="function"?l=i(a):l=y.createElement(Rx,a),y.createElement(ze,{className:"recharts-active-dot"},l)};function MX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=ee(Ai),a=AX();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return qe(l)?null:TX({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){DX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=$X(e,"string");return typeof t=="symbol"?t:t+""}function $X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v4=(e,t)=>No(e,"radiusAxis",t),LX=F([v4],e=>{if(e!=null)return{scale:e}}),IX=F([_c,v4],(e,t)=>{if(!(e==null||t==null))return Qd(Qd({},e),{},{scale:t})}),BX=(e,t,r,n)=>So(e,"radiusAxis",t,n),x4=(e,t,r)=>po(e,r),b4=(e,t,r)=>No(e,"angleAxis",r),FX=F([x4,b4],(e,t)=>{if(!(e==null||t==null))return Qd(Qd({},e),{},{scale:t})}),zX=(e,t,r,n)=>So(e,"angleAxis",r,n),UX=F([x4,b4,go],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),WX=(e,t,r,n,i)=>i,VX=F([pe,IX,BX,FX,zX],(e,t,r,n,i)=>Ri(e,"radiusAxis")?Hl(t,r,!1):Hl(n,i,!1)),KX=F([$x,WX],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),HX=F([LX,UX,yh,KX,VX],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return tJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),qX=["id"];function GX(e,t){if(e==null)return{};var r,n,i=YX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){Jx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jx(e,t,r){return(t=XX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XX(e){var t=JX(e,"string");return typeof t=="symbol"?t:t+""}function JX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ja(){return Ja=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ja.apply(null,arguments)}function Qx(e,t){return e&&e!=="none"?e:t}var QX=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:Qx(n,i),value:uo(r,t),payload:e}]};function ZX(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:uo(s,t),hide:a,type:l,color:Qx(r,i),unit:""}}}function eJ(e,t){var r;return y.isValidElement(e)?r=y.cloneElement(e,t):typeof e=="function"?r=e(t):r=y.createElement(Rx,Ja({},t,{className:de("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function tJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var g=Ce(h,r.dataKey,m),x=Ce(h,i),w=r.scale(g)+d,p=Array.isArray(x)?GT(x):x,v=qe(p)?void 0:t.scale(p);Array.isArray(x)&&x.length>=2&&(c=!0),u.push(Rt(Rt({},be(a,l,v,w)),{},{name:g,value:x,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],g=qe(m)?void 0:t.scale(m);f.push(Rt(Rt({},h),{},{radius:g},be(a,l,g,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function rJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=GX(r,qX),a=Ot(s),l=ve(n,!0),c=t.map((u,d)=>{var f=Rt(Rt(Rt({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return eJ(n,f)});return y.createElement(ze,{className:"recharts-radar-dots"},c)}function w4(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return y.isValidElement(i)?d=y.cloneElement(i,Rt(Rt({},r),{},{points:t})):typeof i=="function"?d=i(Rt(Rt({},r),{},{points:t})):d=y.createElement(YT,Ja({},ve(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),y.createElement(ze,{className:"recharts-radar-polygon"},d,y.createElement(rJ,{props:r,points:t}),n&&_i.renderCallByParent(r,t))}function nJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=qx(t,"recharts-radar-"),[h,m]=y.useState(!0),g=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=y.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return y.createElement(Yx,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:g,onAnimationStart:x},w=>{var p=d&&d.length/n.length,v=w===1?n:n.map((b,_)=>{var j=d&&d[Math.floor(_*p)];if(j){var N=ua(j.x,b.x),P=ua(j.y,b.y);return Rt(Rt({},b),{},{x:N(w),y:P(w)})}var S=ua(b.cx,b.x),A=ua(b.cy,b.y);return Rt(Rt({},b),{},{x:S(w),y:A(w)})});return w>0&&(r.current=v),y.createElement(w4,{points:v,props:t,showLabels:!h})})}function iJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=y.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?y.createElement(nJ,{props:e,previousPointsRef:i}):y.createElement(w4,{points:t,props:e,showLabels:!0})}var sJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Os.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class aJ extends y.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=de("recharts-radar",r);return y.createElement(y.Fragment,null,y.createElement(ze,{className:i},y.createElement(iJ,this.props)),y.createElement(MX,{points:n,mainColor:Qx(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function oJ(e){var t=tr(),r=ee(n=>HX(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return y.createElement(aJ,Ja({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class Zx extends y.PureComponent{render(){return y.createElement(Gx,{id:this.props.id,type:"radar"},t=>y.createElement(y.Fragment,null,y.createElement(p4,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),y.createElement(h4,{legendPayload:QX(this.props)}),y.createElement(Hx,{fn:ZX,args:this.props}),y.createElement(oJ,Ja({},this.props,{id:t}))))}}Jx(Zx,"displayName","Radar");Jx(Zx,"defaultProps",sJ);var lJ="Invariant failed";function cJ(e,t){throw new Error(lJ)}var uJ=["x","y"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(null,arguments)}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Vo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){dJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mJ(e,t){if(e==null)return{};var r,n,i=pJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gJ(e,t){var{x:r,y:n}=e,i=mJ(e,uJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return Vo(Vo(Vo(Vo(Vo({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function j4(e){return y.createElement(d4,mg({shapeType:"rectangle",propTransformer:gJ,activeClassName:"recharts-active-bar"},e))}var yJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(te(t))return t;var s=te(n)||qe(n);return s?t(n,i):(s||cJ(),r)}},vJ={},xJ=gr({name:"errorBars",initialState:vJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),bJ=xJ.reducer,wJ=["children"];function jJ(e,t){if(e==null)return{};var r,n,i=_J(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _J(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},SJ=y.createContext(NJ);function PJ(e){var{children:t}=e,r=jJ(e,wJ);return y.createElement(SJ.Provider,{value:r},t)}function _4(e,t){var r,n,i=ee(u=>Yn(u,e)),s=ee(u=>Bi(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function kJ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=y4(),{needClipX:s,needClipY:a,needClip:l}=_4(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var AJ=["onMouseEnter","onMouseLeave","onClick"],EJ=["value","background","tooltipPosition"],OJ=["id"],CJ=["onMouseEnter","onClick","onMouseLeave"];function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(null,arguments)}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){TJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TJ(e,t,r){return(t=MJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MJ(e){var t=DJ(e,"string");return typeof t=="symbol"?t:t+""}function DJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zd(e,t){if(e==null)return{};var r,n,i=RJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function RJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $J=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:uo(r,t),payload:e}]};function LJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:uo(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function IJ(e){var t=ee(Ai),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=Zd(s,AJ),d=Wx(a,n),f=Vx(l),h=Kx(c,n);if(!i||r==null)return null;var m=ve(i,!1);return y.createElement(y.Fragment,null,r.map((g,x)=>{var{value:w,background:p,tooltipPosition:v}=g,b=Zd(g,EJ);if(!p)return null;var _=d(g,x),j=f(g,x),N=h(g,x),P=St(St(St(St(St({option:i,isActive:String(x)===t},b),{},{fill:"#eee"},p),m),co(u,g,x)),{},{onMouseEnter:_,onMouseLeave:j,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(j4,Qa({key:"background-bar-".concat(x)},P))}))}function N4(e){var{data:t,props:r,showLabels:n}=e,i=Ot(r),s=Zd(i,OJ),{shape:a,dataKey:l,activeBar:c}=r,u=ee(Ai),d=ee(ST),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,g=Zd(r,CJ),x=Wx(f,l),w=Vx(m),p=Kx(h,l);return t?y.createElement(y.Fragment,null,t.map((v,b)=>{var _=c&&String(b)===u&&(d==null||l===d),j=_?c:a,N=St(St(St({},s),v),{},{isActive:_,option:j,index:b,dataKey:l});return y.createElement(ze,Qa({className:"recharts-bar-rectangle"},co(g,v,b),{onMouseEnter:x(v,b),onMouseLeave:w(v,b),onClick:p(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),y.createElement(j4,N))}),n&&_i.renderCallByParent(r,t)):null}function BJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=qx(t,"recharts-bar-"),[m,g]=y.useState(!1),x=y.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),w=y.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return y.createElement(Yx,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:x,onAnimationStart:w,key:h},p=>{var v=p===1?n:n==null?void 0:n.map((b,_)=>{var j=f&&f[_];if(j)return St(St({},b),{},{x:Us(j.x,b.x,p),y:Us(j.y,b.y,p),width:Us(j.width,b.width,p),height:Us(j.height,b.height,p)});if(i==="horizontal"){var N=Us(0,b.height,p);return St(St({},b),{},{y:b.y+b.height-N,height:N})}var P=Us(0,b.width,p);return St(St({},b),{},{width:P})});return p>0&&(r.current=v??null),v==null?null:y.createElement(ze,null,y.createElement(N4,{props:t,data:v,showLabels:!m}))})}function FJ(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(BJ,{previousRectanglesRef:n,props:e}):y.createElement(N4,{props:e,data:t,showLabels:!0})}var S4=0,zJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ce(e,t)}};class UJ extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=de("recharts-bar",i),f=u;return y.createElement(ze,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(kJ,{clipPathId:f,xAxisId:s,yAxisId:a})),y.createElement(ze,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(IJ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(FJ,this.props)),this.props.children)}}var WJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Os.isSsr,legendType:"rect",minPointSize:S4,xAxisId:0,yAxisId:0};function VJ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=_4(t,r),h=Av(),m=tr(),g=pc(e.children,Ds),x=ee(v=>yQ(v,t,r,m,e.id,g));if(h!=="vertical"&&h!=="horizontal")return null;var w,p=x==null?void 0:x[0];return p==null||p.height==null||p.width==null?w=0:w=h==="vertical"?p.height/2:p.width/2,y.createElement(PJ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:zJ,errorBarOffset:w},y.createElement(UJ,Qa({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function KJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,g=t==="horizontal"?l:a,x=d?g.scale.domain():null,w=TU({numericAxis:g});return f.map((p,v)=>{var b,_,j,N,P,S;d?b=PU(d[v],x):(b=Ce(p,r),Array.isArray(b)||(b=[w,b]));var A=yJ(n,S4)(b[1],v);if(t==="horizontal"){var C,[O,U]=[l.scale(b[0]),l.scale(b[1])];_=$j({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:p,index:v}),j=(C=U??O)!==null&&C!==void 0?C:void 0,N=i.size;var L=O-U;if(P=ur(L)?0:L,S={x:_,y:h.top,width:N,height:h.height},Math.abs(A)>0&&Math.abs(P)<Math.abs(A)){var q=ft(P||A)*(Math.abs(A)-Math.abs(P));j-=q,P+=q}}else{var[I,K]=[a.scale(b[0]),a.scale(b[1])];if(_=I,j=$j({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:p,index:v}),N=K-I,P=i.size,S={x:h.left,y:j,width:h.width,height:P},Math.abs(A)>0&&Math.abs(N)<Math.abs(A)){var z=ft(N||A)*(Math.abs(A)-Math.abs(N));N+=z}}if(_==null||j==null||N==null||P==null)return null;var D=St(St({},p),{},{x:_,y:j,width:N,height:P,value:d?b:b[1],payload:p,background:S,tooltipPosition:{x:_+N/2,y:j+P/2}},m&&m[v]&&m[v].props);return D}).filter(Boolean)}function Mh(e){var t=Rr(e,WJ),r=tr();return y.createElement(Gx,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(WY,{legendPayload:$J(t)}),y.createElement(Hx,{fn:LJ,args:t}),y.createElement(tX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:CU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(VJ,Qa({},t,{id:n}))))}Mh.displayName="Bar";function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){HJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HJ(e,t,r){return(t=qJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qJ(e){var t=GJ(e,"string");return typeof t=="symbol"?t:t+""}function GJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YJ=(e,t)=>t,XJ=(e,t,r)=>r,JJ=(e,t,r,n)=>n,QJ=(e,t,r,n,i)=>i,Oc=F([cx,QJ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),ZJ=F([Oc],e=>e==null?void 0:e.maxBarSize),eQ=(e,t,r,n,i,s)=>s,FN=(e,t,r)=>{var n=r??e;if(!qe(n))return Lt(n,t,0)},tQ=F([pe,cx,YJ,XJ,JJ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),rQ=(e,t,r,n)=>{var i=pe(e);return i==="horizontal"?og(e,"yAxis",r,n):og(e,"xAxis",t,n)},nQ=(e,t,r)=>{var n=pe(e);return n==="horizontal"?K_(e,"xAxis",t):K_(e,"yAxis",r)},iQ=(e,t,r)=>{var n={},i=e.filter(wh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=FN(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=FN(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},sQ=F([tQ,KV,nQ],iQ),aQ=(e,t,r,n,i)=>{var s,a,l=Oc(e,t,r,n,i);if(l!=null){var c=pe(e),u=PC(e),{maxBarSize:d}=l,f=qe(d)?u:d,h,m;return c==="horizontal"?(h=Ga(e,"xAxis",t,n),m=qa(e,"xAxis",t,n)):(h=Ga(e,"yAxis",r,n),m=qa(e,"yAxis",r,n)),(s=(a=Hl(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},P4=(e,t,r,n)=>{var i=pe(e),s,a;return i==="horizontal"?(s=Ga(e,"xAxis",t,n),a=qa(e,"xAxis",t,n)):(s=Ga(e,"yAxis",r,n),a=qa(e,"yAxis",r,n)),Hl(s,a)};function oQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Lt(e,r,0,!0),l,c=[];if(hr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((p,v)=>p+(v.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((p,v)=>{var b,_={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},j=[...p,_];return m=j[j.length-1].position,j},c)}else{var g=Lt(t,r,0,!0);r-2*g-(s-1)*a<=0&&(a=0);var x=(r-2*g-(s-1)*a)/s;x>1&&(x>>=0);var w=hr(i)?Math.min(x,i):x;l=n.reduce((p,v,b)=>[...p,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:g+(x+a)*b+(x-w)/2,size:w}}],c)}return l}}var lQ=(e,t,r,n,i,s,a)=>{var l=qe(a)?t:a,c=oQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>vu(vu({},u),{},{position:vu(vu({},u.position),{},{offset:u.position.offset-i/2})}))),c},cQ=F([sQ,PC,VV,kC,aQ,P4,ZJ],lQ),uQ=(e,t,r,n)=>Ga(e,"xAxis",t,n),dQ=(e,t,r,n)=>Ga(e,"yAxis",r,n),fQ=(e,t,r,n)=>qa(e,"xAxis",t,n),hQ=(e,t,r,n)=>qa(e,"yAxis",r,n),mQ=F([cQ,Oc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),pQ=(e,t)=>{var r=ax(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},gQ=F([rQ,Oc],pQ),yQ=F([it,uQ,dQ,fQ,hQ,mQ,pe,Zv,P4,gQ,Oc,eQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:x}=d,w;if(x!=null&&x.length>0?w=x:w=h==null?void 0:h.slice(m,g+1),w!=null)return KJ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),k4=e=>{var{chartData:t}=e,r=Ue(),n=tr();return y.useEffect(()=>n?()=>{}:(r(eN(t)),()=>{r(eN(void 0))}),[t,r,n]),null},zN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},vQ=gr({name:"brush",initialState:zN,reducers:{setBrushSettings(e,t){return t.payload==null?zN:t.payload}}}),xQ=vQ.reducer;function bQ(e,t,r){return(t=wQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wQ(e){var t=jQ(e,"string");return typeof t=="symbol"?t:t+""}function jQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class eb{static create(t){return new eb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}bQ(eb,"EPS",1e-4);function _Q(e){return(e%180+180)%180}var NQ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=_Q(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},SQ={dots:[],areas:[],lines:[]},PQ=gr({name:"referenceElements",initialState:SQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=On(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=On(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=On(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),kQ=PQ.reducer,AQ=y.createContext(void 0),EQ=e=>{var{children:t}=e,[r]=y.useState("".concat(Wl("recharts"),"-clip")),n=y4();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return y.createElement(AQ.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function tp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function A4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function OQ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return NQ(n,r)}function CQ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function ef(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function TQ(e,t){return A4(e,t+1)}function MQ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var g=n==null?void 0:n[c];if(g===void 0)return{v:A4(n,u)};var x=c,w,p=()=>(w===void 0&&(w=r(g,x)),w),v=g.coordinate,b=c===0||ef(e,v,p,d,l);b||(c=0,d=a,u+=1),b&&(d=v+e*(p()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function UN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?UN(Object(r),!0).forEach(function(n){DQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DQ(e,t,r){return(t=RQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RQ(e){var t=$Q(e,"string");return typeof t=="symbol"?t:t+""}function $Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LQ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],g,x=()=>(g===void 0&&(g=r(m,h)),g);if(h===a-1){var w=e*(m.coordinate+e*x()/2-c);s[h]=m=_t(_t({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=_t(_t({},m),{},{tickCoord:m.coordinate});var p=ef(e,m.tickCoord,x,l,c);p&&(c=m.tickCoord-e*(x()/2+i),s[h]=_t(_t({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function IQ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=_t(_t({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=ef(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=_t(_t({},d),{},{isShow:!0}))}for(var g=s?l-1:l,x=function(v){var b=a[v],_,j=()=>(_===void 0&&(_=r(b,v)),_);if(v===0){var N=e*(b.coordinate-e*j()/2-c);a[v]=b=_t(_t({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else a[v]=b=_t(_t({},b),{},{tickCoord:b.coordinate});var P=ef(e,b.tickCoord,j,c,u);P&&(c=b.tickCoord+e*(j()/2+i),a[v]=_t(_t({},b),{},{isShow:!0}))},w=0;w<g;w++)x(w);return a}function tb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(te(c)||Os.isSsr){var h;return(h=TQ(i,te(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",x=d&&g==="width"?vl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,_)=>{var j=typeof u=="function"?u(b.value,_):b.value;return g==="width"?OQ(vl(j,{fontSize:t,letterSpacing:r}),x,f):vl(j,{fontSize:t,letterSpacing:r})[g]},p=i.length>=2?ft(i[1].coordinate-i[0].coordinate):1,v=CQ(s,p,g);return c==="equidistantPreserveStart"?MQ(p,v,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=IQ(p,v,w,i,a,c==="preserveStartEnd"):m=LQ(p,v,w,i,a),m.filter(b=>b.isShow))}var BQ=["viewBox"],FQ=["viewBox"];function ha(){return ha=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ha.apply(null,arguments)}function WN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WN(Object(r),!0).forEach(function(n){rb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function VN(e,t){if(e==null)return{};var r,n,i=zQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function zQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rb(e,t,r){return(t=UQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UQ(e){var t=WQ(e,"string");return typeof t=="symbol"?t:t+""}function WQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class zi extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=VN(t,BQ),s=this.props,{viewBox:a}=s,l=VN(s,FQ);return!tp(n,a)||!tp(i,l)||!tp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,g,x,w=c?-1:1,p=t.tickSize||l,v=te(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*p,x=h-w*u,g=v;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*p,g=d-w*u,x=v;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*p,g=d+w*u,x=v;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*p,x=h+w*u,g=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:g,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=et(et(et({},ve(this.props,!1)),ve(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=et(et({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=et(et({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return y.createElement("line",ha({},c,{className:de("recharts-cartesian-axis-line",ki(l,"className"))}))}static renderTickItem(t,r,n){var i,s=de(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))i=y.cloneElement(t,et(et({},r),{},{className:s}));else if(typeof t=="function")i=t(et(et({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=de(a,t.className)),i=y.createElement(_o,ha({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=tb(et(et({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ot(this.props),g=ve(a,!1),x=et(et({},m),{},{fill:"none"},ve(i,!1)),w=d.map((p,v)=>{var{line:b,tick:_}=this.getTickLineCoord(p),j=et(et(et(et({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},g),_),{},{index:v,payload:p,visibleTicksCount:d.length,tickFormatter:l,padding:u});return y.createElement(ze,ha({className:"recharts-cartesian-axis-tick",key:"tick-".concat(p.value,"-").concat(p.coordinate,"-").concat(p.tickCoord)},co(this.props,p,v)),i&&y.createElement("line",ha({},x,b,{className:de("recharts-cartesian-axis-tick-line",ki(i,"className"))})),a&&zi.renderTickItem(a,j,"".concat(typeof l=="function"?l(p.value,v):p.value).concat(c||"")))});return w.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(ze,{className:de("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Ht.renderCallByParent(this.props))}}rb(zi,"displayName","CartesianAxis");rb(zi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var VQ=["x1","y1","x2","y2","key"],KQ=["offset"],HQ=["xAxisId","yAxisId"],qQ=["xAxisId","yAxisId"];function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ls(){return ls=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ls.apply(null,arguments)}function tf(e,t){if(e==null)return{};var r,n,i=JQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var QQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return y.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function E4(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=tf(t,VQ),u=Ot(c),d=tf(u,KQ);r=y.createElement("line",ls({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function ZQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=tf(e,HQ),a=i.map((l,c)=>{var u=Pt(Pt({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return E4(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function eZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=tf(e,qQ),a=i.map((l,c)=>{var u=Pt(Pt({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return E4(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function tZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:s,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function rZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:g,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var nZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return eO(tb(Pt(Pt(Pt({},zi.defaultProps),r),{},{ticks:tO(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},iZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return eO(tb(Pt(Pt(Pt({},zi.defaultProps),r),{},{ticks:tO(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},sZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Dh(e){var t=oO(),r=lO(),n=aO(),i=Pt(Pt({},Rr(e,sZ)),{},{x:te(e.x)?e.x:n.left,y:te(e.y)?e.y:n.top,width:te(e.width)?e.width:n.width,height:te(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,g=tr(),x=ee(A=>H_(A,"xAxis",s,g)),w=ee(A=>H_(A,"yAxis",a,g));if(!te(u)||u<=0||!te(d)||d<=0||!te(l)||l!==+l||!te(c)||c!==+c)return null;var p=i.verticalCoordinatesGenerator||nZ,v=i.horizontalCoordinatesGenerator||iZ,{horizontalPoints:b,verticalPoints:_}=i;if((!b||!b.length)&&typeof v=="function"){var j=h&&h.length,N=v({yAxis:w?Pt(Pt({},w),{},{ticks:j?h:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);yl(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!_||!_.length)&&typeof p=="function"){var P=m&&m.length,S=p({xAxis:x?Pt(Pt({},x),{},{ticks:P?m:x.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);yl(Array.isArray(S),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(_=S)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(QQ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),y.createElement(tZ,ls({},i,{horizontalPoints:b})),y.createElement(rZ,ls({},i,{verticalPoints:_})),y.createElement(ZQ,ls({},i,{offset:n,horizontalPoints:b,xAxis:x,yAxis:w})),y.createElement(eZ,ls({},i,{offset:n,verticalPoints:_,xAxis:x,yAxis:w})))}Dh.displayName="CartesianGrid";function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ={xAxis:{},yAxis:{},zAxis:{}},O4=gr({name:"cartesianAxis",initialState:cZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=qN(qN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:uZ,removeXAxis:dZ,addYAxis:fZ,removeYAxis:hZ,addZAxis:Bte,removeZAxis:Fte,updateYAxisWidth:mZ}=O4.actions,pZ=O4.reducer,gZ=["children"],yZ=["dangerouslySetInnerHTML","ticks"];function C4(e,t,r){return(t=vZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vZ(e){var t=xZ(e,"string");return typeof t=="symbol"?t:t+""}function xZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}function T4(e,t){if(e==null)return{};var r,n,i=bZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wZ(e){var t=Ue(),r=y.useMemo(()=>{var s=T4(e,gZ);return s},[e]),n=ee(s=>Yn(s,r.id)),i=r===n;return y.useEffect(()=>(t(uZ(r)),()=>{t(dZ(r))}),[r,t]),i?e.children:null}var jZ=e=>{var{xAxisId:t,className:r}=e,n=ee(sO),i=tr(),s="xAxis",a=ee(f=>bo(f,s,t,i)),l=ee(f=>sT(f,s,t,i)),c=ee(f=>tT(f,t)),u=ee(f=>LK(f,t));if(c==null||u==null)return null;var d=T4(e,yZ);return y.createElement(zi,pg({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:de("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},_Z=e=>{var t,r,n,i,s;return y.createElement(wZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},y.createElement(jZ,e))};class Cc extends y.Component{render(){return y.createElement(_Z,this.props)}}C4(Cc,"displayName","XAxis");C4(Cc,"defaultProps",{allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,height:rr.height,hide:!1,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tickCount:rr.tickCount,type:rr.type,xAxisId:0});var NZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},SZ=["dangerouslySetInnerHTML","ticks"];function M4(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(null,arguments)}function AZ(e,t){if(e==null)return{};var r,n,i=EZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OZ(e){var t=Ue();return y.useEffect(()=>(t(fZ(e)),()=>{t(hZ(e))}),[e,t]),null}var CZ=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=y.useRef(null),l=y.useRef(null),c=ee(sO),u=tr(),d=Ue(),f="yAxis",h=ee(p=>bo(p,f,r,u)),m=ee(p=>rT(p,r)),g=ee(p=>IK(p,r)),x=ee(p=>sT(p,f,r,u));if(y.useLayoutEffect(()=>{var p;if(!(i!=="auto"||!m||Dx(s)||y.isValidElement(s))){var v=a.current,b=v==null||(p=v.tickRefs)===null||p===void 0?void 0:p.current,{tickSize:_,tickMargin:j}=v.props,N=NZ({ticks:b,label:l.current,labelGapWithTick:5,tickSize:_,tickMargin:j});Math.round(m.width)!==Math.round(N)&&d(mZ({id:r,width:N}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||g==null)return null;var w=AZ(e,SZ);return y.createElement(zi,gg({},w,{ref:a,labelRef:l,scale:h,x:g.x,y:g.y,width:m.width,height:m.height,className:de("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},TZ=e=>{var t,r,n,i,s;return y.createElement(y.Fragment,null,y.createElement(OZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),y.createElement(CZ,e))},MZ={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,hide:!1,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tickCount:nr.tickCount,type:nr.type,width:nr.width,yAxisId:0};class Tc extends y.Component{render(){return y.createElement(TZ,this.props)}}M4(Tc,"displayName","YAxis");M4(Tc,"defaultProps",MZ);var DZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=y;function RZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $Z=typeof Object.is=="function"?Object.is:RZ,LZ=Mc.useSyncExternalStore,IZ=Mc.useRef,BZ=Mc.useEffect,FZ=Mc.useMemo,zZ=Mc.useDebugValue;DZ.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=IZ(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=FZ(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var g=a.value;if(i(g,m))return f=g}return f=m}if(g=f,$Z(d,m))return g;var x=n(m);return i!==void 0&&i(g,x)?(d=m,g):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=LZ(e,s[0],s[1]);return BZ(function(){a.hasValue=!0,a.value=l},[l]),zZ(l),l};function UZ(e){e()}function WZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var GN={notify(){},get:()=>[]};function VZ(e,t){let r,n=GN,i=0,s=!1;function a(x){d();const w=n.subscribe(x);let p=!1;return()=>{p||(p=!0,w(),f())}}function l(){n.notify()}function c(){g.onStateChange&&g.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=WZ())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=GN)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const g={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var KZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",HZ=KZ(),qZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",GZ=qZ(),YZ=()=>HZ||GZ?y.useLayoutEffect:y.useEffect,XZ=YZ(),rp=Symbol.for("react-redux-context"),np=typeof globalThis<"u"?globalThis:{};function JZ(){if(!y.createContext)return{};const e=np[rp]??(np[rp]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var QZ=JZ();function ZZ(e){const{children:t,context:r,serverState:n,store:i}=e,s=y.useMemo(()=>{const c=VZ(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=y.useMemo(()=>i.getState(),[i]);XZ(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||QZ;return y.createElement(l.Provider,{value:s},t)}var eee=ZZ,tee=(e,t)=>t,nb=F([tee,pe,go,at,wT,Xn,zH,it],HH),ib=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},D4=Cr("mouseClick"),R4=yc();R4.startListening({actionCreator:D4,effect:(e,t)=>{var r=e.payload,n=nb(t.getState(),ib(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(YK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var yg=Cr("mouseMove"),$4=yc();$4.startListening({actionCreator:yg,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Nx(n,n.tooltip.settings.shared),s=nb(n,ib(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(mT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(hT()))}});function ree(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var YN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},L4=gr({name:"rootProps",initialState:YN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:YN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),nee=L4.reducer,{updateOptions:iee}=L4.actions,I4=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:see}=I4.actions,aee=I4.reducer,B4=Cr("keyDown"),F4=Cr("focus"),sb=yc();sb.startListening({actionCreator:B4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(Sx(i,jo(r))),l=Xn(r);if(s==="Enter"){var c=Gd(r,"axis","hover",String(i.index));t.dispatch(cg({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=FK(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=Gd(r,"axis","hover",String(h));t.dispatch(cg({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});sb.startListening({actionCreator:F4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=Gd(r,"axis","hover",String(s));t.dispatch(cg({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var br=Cr("externalEvent"),z4=yc();z4.startListening({actionCreator:br,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:CH(r),activeDataKey:ST(r),activeIndex:Ai(r),activeLabel:NT(r),activeTooltipIndex:Ai(r),isTooltipActive:TH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var oee=F([wo],e=>e.tooltipItemPayloads),lee=F([oee,Ac,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),U4=Cr("touchMove"),W4=yc();W4.startListening({actionCreator:U4,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Nx(n,n.tooltip.settings.shared);if(i==="axis"){var s=nb(n,ib({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(mT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(nO),d=(a=c.getAttribute(iO))!==null&&a!==void 0?a:void 0,f=lee(t.getState(),u,d);t.dispatch(fT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var cee=AE({brush:xQ,cartesianAxis:pZ,chartData:oq,errorBars:bJ,graphicalItems:eX,layout:uU,legend:GU,options:rq,polarAxis:XG,polarOptions:aee,referenceElements:kQ,rootProps:nee,tooltip:XK}),uee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return R8({reducer:cee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([R4.middleware,$4.middleware,sb.middleware,z4.middleware,W4.middleware]),devTools:{serialize:{replacer:ree},name:"recharts-".concat(r)}})};function V4(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=tr(),s=y.useRef(null);if(i)return r;s.current==null&&(s.current=uee(t,n));var a=yv;return y.createElement(eee,{context:a,store:s.current},r)}function K4(e){var{layout:t,width:r,height:n,margin:i}=e,s=Ue(),a=tr();return y.useEffect(()=>{a||(s(oU(t)),s(lU({width:r,height:n})),s(aU(i)))},[s,a,t,r,n,i]),null}function H4(e){var t=Ue();return y.useEffect(()=>{t(iee(e))},[t,e]),null}var dee=["children"];function fee(e,t){if(e==null)return{};var r,n,i=hee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}var mee={width:"100%",height:"100%"},pee=y.forwardRef((e,t)=>{var r=oO(),n=lO(),i=fO();if(!Ua(r)||!Ua(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,y.createElement(LA,rf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:mee,ref:t}),s)}),gee=e=>{var{children:t}=e,r=ee(uh);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return y.createElement(LA,{width:n,height:i,x:a,y:s},t)},XN=y.forwardRef((e,t)=>{var{children:r}=e,n=fee(e,dee),i=tr();return i?y.createElement(gee,null,r):y.createElement(pee,rf({ref:t},n),r)});function yee(){var e=Ue(),[t,r]=y.useState(null),n=ee(BU);return y.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;hr(s)&&s!==n&&e(cU(s))}},[t,e,n]),r}function JN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JN(Object(r),!0).forEach(function(n){xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xee(e,t,r){return(t=bee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=wee(e,"string");return typeof t=="symbol"?t:t+""}function wee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jee=y.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:x,style:w,width:p}=e,v=Ue(),[b,_]=y.useState(null),[j,N]=y.useState(null);uq();var P=yee(),S=y.useCallback($=>{P($),typeof t=="function"&&t($),_($),N($)},[P,t,_,N]),A=y.useCallback($=>{v(D4($)),v(br({handler:s,reactEvent:$}))},[v,s]),C=y.useCallback($=>{v(yg($)),v(br({handler:u,reactEvent:$}))},[v,u]),O=y.useCallback($=>{v(hT()),v(br({handler:d,reactEvent:$}))},[v,d]),U=y.useCallback($=>{v(yg($)),v(br({handler:f,reactEvent:$}))},[v,f]),L=y.useCallback(()=>{v(F4())},[v]),q=y.useCallback($=>{v(B4($.key))},[v]),I=y.useCallback($=>{v(br({handler:a,reactEvent:$}))},[v,a]),K=y.useCallback($=>{v(br({handler:l,reactEvent:$}))},[v,l]),z=y.useCallback($=>{v(br({handler:c,reactEvent:$}))},[v,c]),D=y.useCallback($=>{v(br({handler:h,reactEvent:$}))},[v,h]),k=y.useCallback($=>{v(br({handler:x,reactEvent:$}))},[v,x]),B=y.useCallback($=>{v(U4($)),v(br({handler:g,reactEvent:$}))},[v,g]),G=y.useCallback($=>{v(br({handler:m,reactEvent:$}))},[v,m]);return y.createElement(CT.Provider,{value:b},y.createElement(BF.Provider,{value:j},y.createElement("div",{className:de("recharts-wrapper",n),style:vee({position:"relative",cursor:"default",width:p,height:i},w),onClick:A,onContextMenu:I,onDoubleClick:K,onFocus:L,onKeyDown:q,onMouseDown:z,onMouseEnter:C,onMouseLeave:O,onMouseMove:U,onMouseUp:D,onTouchEnd:G,onTouchMove:B,onTouchStart:k,ref:S},r)))}),_ee=["children","className","width","height","style","compact","title","desc"];function Nee(e,t){if(e==null)return{};var r,n,i=See(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function See(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q4=y.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=Nee(e,_ee),f=Ot(d);return l?y.createElement(XN,{otherAttributes:f,title:c,desc:u},r):y.createElement(jee,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(XN,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(EQ,null,r)))}),Pee=["width","height"];function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(null,arguments)}function kee(e,t){if(e==null)return{};var r,n,i=Aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Eee={top:5,right:5,bottom:5,left:5},Oee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Eee,reverseStackOrder:!1,syncMethod:"index"},Cee=y.forwardRef(function(t,r){var n,i=Rr(t.categoricalChartProps,Oee),{width:s,height:a}=i,l=kee(i,Pee);if(!Ua(s)||!Ua(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(V4,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(k4,{chartData:h.data}),y.createElement(K4,{width:s,height:a,layout:i.layout,margin:i.margin}),y.createElement(H4,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(q4,vg({},l,{width:s,height:a,ref:r})))}),Tee=["axis","item"],ab=y.forwardRef((e,t)=>y.createElement(Cee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Tee,tooltipPayloadSearcher:Mx,categoricalChartProps:e,ref:t}));function Mee(e){var t=Ue();return y.useEffect(()=>{t(see(e))},[t,e]),null}var Dee=["width","height","layout"];function xg(){return xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xg.apply(null,arguments)}function Ree(e,t){if(e==null)return{};var r,n,i=$ee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function $ee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Lee={top:5,right:5,bottom:5,left:5},Iee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Lee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},G4=y.forwardRef(function(t,r){var n,i=Rr(t.categoricalChartProps,Iee),{width:s,height:a,layout:l}=i,c=Ree(i,Dee);if(!Ua(s)||!Ua(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return y.createElement(V4,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},y.createElement(k4,{chartData:i.data}),y.createElement(K4,{width:s,height:a,layout:l,margin:i.margin}),y.createElement(H4,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),y.createElement(Mee,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),y.createElement(q4,xg({width:s,height:a},c,{ref:r})))}),Bee=["item"],Fee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ob=y.forwardRef((e,t)=>{var r=Rr(e,Fee);return y.createElement(G4,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Bee,tooltipPayloadSearcher:Mx,categoricalChartProps:r,ref:t})}),zee=["axis"],Uee={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Wee=y.forwardRef((e,t)=>{var r=Rr(e,Uee);return y.createElement(G4,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:zee,tooltipPayloadSearcher:Mx,categoricalChartProps:r,ref:t})});function Vee({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-slate-950 border border-cyan-500/30 rounded-2xl shadow-[0_0_40px_rgba(0,200,255,0.3)] max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Mi,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-cyan-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-900 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-slate-950 divide-y divide-slate-800",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-slate-800/50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}const QN={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Kee={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Hee(){var b,_,j,N;const{user:e}=er(),[t,r]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[n,i]=y.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[s,a]=y.useState([]),[l,c]=y.useState(null),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState({}),[x,w]=y.useState(!0);y.useEffect(()=>{p(),e&&!e.id.startsWith("guest-")&&v()},[e]);const p=async()=>{var P;try{let{data:S,error:A}=await Q.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(A)throw A;const C=(S||[]).filter(k=>{var B;return!((B=k.tournaments)!=null&&B.is_practice)});if(C.length===0){w(!1);return}const O={},U={},L={};let q=0;C.forEach(k=>{var se;if(!k.winner_name||!k.player1_name||!k.player2_name)return;const B=((se=k.outcome)==null?void 0:se.split(" (")[0])||"Unknown",G=k.points_awarded||QN[B]||0;q+=G,L[B]=(L[B]||0)+1;const $=k.normalized_player1_name||k.player1_name.toLowerCase(),Y=k.normalized_player2_name||k.player2_name.toLowerCase(),le=k.normalized_winner_name||k.winner_name.toLowerCase();[$,Y].forEach((R,V)=>{const M=V===0?k.player1_name:k.player2_name;O[M]||(O[M]={wins:0,matches:0,points:0}),O[M].matches++,le===R&&(O[M].wins++,O[M].points+=G)});const X=(R,V,M,E)=>{const H=`${V}_${R}`;U[H]||(U[H]={combo:V,player:R,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:M||"Unknown"});const T=U[H];T.totalMatches++,E?(T.wins++,T.totalPoints+=G):T.losses++};X(k.player1_name,k.player1_beyblade,k.player1_blade_line||"Unknown",k.winner_name===k.player1_name),X(k.player2_name,k.player2_beyblade,k.player2_blade_line||"Unknown",k.winner_name===k.player2_name)}),Object.values(U).forEach(k=>{k.winRate=k.totalMatches>0?k.wins/k.totalMatches*100:0,k.weightedWinRate=k.totalMatches>0?k.wins/k.totalMatches*(k.totalMatches/(k.totalMatches+10)):0,k.avgPointsPerMatch=k.totalMatches>0?k.totalPoints/k.totalMatches:0,k.comboScore=k.weightedWinRate*(k.avgPointsPerMatch/3)*100});const I=Object.entries(O).filter(([k,B])=>B.matches>=5).sort((k,B)=>{const G=k[1].wins/k[1].matches;return B[1].wins/B[1].matches-G})[0],K=((P=Object.entries(L).sort((k,B)=>B[1]-k[1])[0])==null?void 0:P[0])||"Unknown",{count:z}=await Q.from("tournaments").select("*",{count:"exact",head:!0});i({totalMatches:C.length,totalPlayers:Object.keys(O).length,totalTournaments:z||0,avgPointsPerMatch:C.length>0?q/C.length:0,mostCommonFinish:K,topPlayer:(I==null?void 0:I[0])||"N/A",topPlayerWinRate:I?I[1].wins/I[1].matches*100:0}),a(Object.values(U).sort((k,B)=>B.comboScore-k.comboScore)),g(O);const D=Object.entries(L).map(([k,B])=>({name:k,value:B,color:Kee[k]||"#6B7280"}));h(D)}catch(S){console.error("Error fetching global data:",S)}finally{w(!1)}},v=async()=>{var P;if(!(!e||e.id.startsWith("guest-")))try{let{data:S,error:A}=await Q.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `).or(`normalized_player1_name.eq.${e.username.toLowerCase()},normalized_player2_name.eq.${e.username.toLowerCase()}`);if(A)throw A;const C=(S||[]).filter($=>{var Y;return!((Y=$.tournaments)!=null&&Y.is_practice)});if(C.length===0){c(null);return}let O=0,U=0;const L={},q={},I={},K=new Set;C.forEach($=>{var M;if(!$.winner_name)return;const Y=$.player1_name===e.username,le=$.winner_name===e.username,X=Y?$.player1_beyblade:$.player2_beyblade,se=Y?$.player2_name:$.player1_name,R=((M=$.outcome)==null?void 0:M.split(" (")[0])||"Unknown",V=$.points_awarded||QN[R]||0;K.add($.tournament_id),le&&(O++,U+=V,q[R]=(q[R]||0)+1),L[X]||(L[X]={wins:0,matches:0,points:0}),L[X].matches++,le&&(L[X].wins++,L[X].points+=V),I[se]||(I[se]={opponent:se,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),I[se].totalMatches++,le?(I[se].wins++,I[se].pointsFor+=V):(I[se].losses++,I[se].pointsAgainst+=V)}),Object.values(I).forEach($=>{$.winRate=$.totalMatches>0?$.wins/$.totalMatches*100:0});const z=Object.entries(L).map(([$,Y])=>{const le=Y.matches>0?Y.wins/Y.matches:0,X=Y.matches>0?le*(Y.matches/(Y.matches+10)):0,se=Y.matches>0?Y.points/Y.matches:0,R=X*(se/3)*100;return{combo:$,comboScore:R}}).sort(($,Y)=>Y.comboScore-$.comboScore)[0],D=((P=Object.entries(q).sort(($,Y)=>Y[1]-$[1])[0])==null?void 0:P[0])||"N/A",k=C.length,B=k>0?O/k*100:0,G=k>0?O/k*(k/(k+10)):0;c({totalMatches:k,wins:O,losses:k-O,winRate:B,weightedWinRate:G*100,totalPoints:U,avgPointsPerMatch:k>0?U/k:0,mvpCombo:(z==null?void 0:z.combo)||"N/A",mvpComboScore:(z==null?void 0:z.comboScore)||0,favoriteFinish:D,tournamentsPlayed:K.size}),d(Object.values(I).sort(($,Y)=>Y.winRate-$.winRate))}catch(S){console.error("Error fetching personal data:",S)}};return x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:n.totalMatches.toLocaleString()}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:o.jsx(io,{size:24,className:"text-cyan-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-green-400 mb-1",children:n.totalPlayers}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:o.jsx(nt,{size:24,className:"text-green-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:n.totalTournaments}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:o.jsx(kt,{size:24,className:"text-purple-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-1",children:n.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:o.jsx(cc,{size:24,className:"text-orange-400"})})]})]})]}),l&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[o.jsx(nt,{size:24,className:"mr-2 text-cyan-400"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-cyan-500/10 border border-cyan-500/20 rounded-none",children:[o.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:l.totalMatches}),o.jsx("div",{className:"text-sm text-slate-400",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-500/10 border border-green-500/20 rounded-none",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[l.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-500/10 border border-purple-500/20 rounded-none",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[l.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-500/10 border border-orange-500/20 rounded-none",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-400",children:l.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-none p-4",children:[o.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-white",children:l.mvpCombo}),o.jsxs("p",{className:"text-sm text-slate-400",children:["Score: ",l.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-none p-4",children:[o.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-white",children:l.favoriteFinish}),o.jsxs("p",{className:"text-sm text-slate-400",children:["Tournaments: ",l.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Global Finish Distribution"}),o.jsx(Ss,{width:"100%",height:300,children:o.jsxs(ob,{children:[o.jsx(Th,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:S})=>`${P} ${(S*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((P,S)=>o.jsx(Ds,{fill:P.color},`cell-${S}`))}),o.jsx(Ya,{})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Top Global Combos by Score"}),o.jsx(Ss,{width:"100%",height:300,children:o.jsxs(ab,{data:s.slice(0,8).map(P=>({name:P.combo,score:P.comboScore,winRate:P.winRate,matches:P.totalMatches})),margin:{bottom:80},children:[o.jsx(Dh,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Cc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10,stroke:"#94a3b8"}),o.jsx(Tc,{stroke:"#94a3b8"}),o.jsx(Ya,{formatter:(P,S)=>[typeof P=="number"?P.toFixed(2):P,S==="score"?"Combo Score":S==="winRate"?"Win Rate (%)":"Matches"],contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"8px"},labelStyle:{color:"#06b6d4"}}),o.jsx(Mh,{dataKey:"score",fill:"#06b6d4"})]})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"text-lg font-bold text-white",children:"Global Combo Rankings"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Users"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Global Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:(()=>{const P={};return s.forEach(S=>{P[S.combo]||(P[S.combo]={combo:S.combo,players:[],totalMatches:0,totalWins:0,totalPoints:0,winRate:0,avgPoints:0,playerData:[]});const A=P[S.combo];A.players.push(S.player),A.totalMatches+=S.totalMatches,A.totalWins+=S.wins,A.totalPoints+=S.totalPoints,A.playerData.push(S)}),Object.values(P).forEach(S=>{S.winRate=S.totalMatches>0?S.totalWins/S.totalMatches*100:0,S.avgPoints=S.totalMatches>0?S.totalPoints/S.totalMatches:0}),Object.values(P).sort((S,A)=>A.winRate-S.winRate).slice(0,20)})().map((P,S)=>o.jsxs("tr",{className:"hover:bg-slate-800/50 cursor-pointer",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-white",children:["#",S+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:P.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.players.length}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-400":P.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-white",children:P.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{const A=P.playerData.map(C=>({player:C.player,matches:C.totalMatches,wins:C.wins,winRate:C.winRate,avgPoints:C.avgPointsPerMatch,bladeLine:C.bladeLine}));r({isOpen:!0,title:`Players using ${P.combo}`,data:A,columns:[{key:"player",label:"Player"},{key:"matches",label:"Matches"},{key:"wins",label:"Wins"},{key:"winRate",label:"Win Rate (%)"},{key:"avgPoints",label:"Avg Points"},{key:"bladeLine",label:"Blade Line"}]})},className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"View Players"})})]},S))})]})})]}),l&&u.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:u.map((P,S)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:P.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400 text-center font-medium",children:P.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-400 text-center font-medium",children:P.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-400":P.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.pointsAgainst})]},S))})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h3",{className:"text-lg font-bold text-white",children:"Global Player Rankings"})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Tournaments"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.entries(m||{}).filter(([P,S])=>S.matches>=3).sort((P,S)=>{const A=P[1].wins/P[1].matches,C=S[1].wins/S[1].matches;return C!==A?C-A:S[1].wins-P[1].wins}).slice(0,10).map(([P,S],A)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-white",children:o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-black text-xs font-bold mr-3 shadow-lg ${A===0?"bg-gradient-to-r from-yellow-400 to-orange-500":A===1?"bg-gradient-to-r from-gray-300 to-gray-400":A===2?"bg-gradient-to-r from-orange-500 to-red-500":"bg-gradient-to-r from-cyan-500 to-purple-500"}`,children:A+1})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:P}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:S.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400 text-center font-medium",children:S.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.wins/S.matches*100>=60?"text-green-400":S.wins/S.matches*100>=40?"text-yellow-400":"text-red-400"}`,children:[(S.wins/S.matches*100).toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:Math.ceil(S.matches/10)})]},P))})]})})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                           transition-all duration-300 hover:border-cyan-400/70 
                           hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm text-center`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(251,191,36,0.5)]",children:o.jsx(kt,{size:40,className:"text-white"})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-[0_0_15px_rgba(251,191,36,0.5)]",children:o.jsx(dd,{size:16,className:"text-black"})}),o.jsx("h4",{className:"text-xl font-bold text-yellow-400 mb-2",children:"Global Champion"}),o.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:n.topPlayer}),o.jsxs("p",{className:"text-yellow-300 text-sm mb-4",children:["Win Rate: ",n.topPlayerWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-4 border border-yellow-400/30",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-400",children:((_=(b=Object.entries(m||{}).find(([P])=>P===n.topPlayer))==null?void 0:b[1])==null?void 0:_.wins)||0}),o.jsx("div",{className:"text-xs text-yellow-300",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-400",children:((N=(j=Object.entries(m||{}).find(([P])=>P===n.topPlayer))==null?void 0:j[1])==null?void 0:N.matches)||0}),o.jsx("div",{className:"text-xs text-yellow-300",children:"Total Matches"})]})]})})]})})]})]}),o.jsx(Vee,{isOpen:t.isOpen,onClose:()=>r(P=>({...P,isOpen:!1})),title:t.title,data:t.data,columns:t.columns,onRowClick:t.onRowClick})]})}function ZN({selectedPlayer:e,onPlayerChange:t,availablePlayers:r}){return o.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"D"})}),o.jsx("h3",{className:"text-lg font-bold text-red-900",children:"Developer Mode"})]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-red-800 mb-2",children:"View Personal Stats for Player:"}),o.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"w-full border border-red-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),r.map(n=>o.jsx("option",{value:n,children:n},n))]})]})]})}const qee={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Gee={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Yee(){const{user:e}=er(),[t,r]=y.useState(""),[n,i]=y.useState([]),[s,a]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,g]=y.useState([]),[x,w]=y.useState(!0),[p,v]=y.useState(""),b=(e==null?void 0:e.role)==="developer",_=b&&t?t:e==null?void 0:e.username;y.useEffect(()=>{b&&j(),_?N(_):w(!1)},[e,t]);const j=async()=>{try{const{data:S}=await Q.from("match_results").select("player1_name, player2_name"),A=new Set;S==null||S.forEach(C=>{C.player1_name&&A.add(C.player1_name),C.player2_name&&A.add(C.player2_name)}),i(Array.from(A).sort())}catch(S){console.error("Error fetching available players:",S)}},N=async S=>{if(!S){w(!1);return}try{const{data:A,error:C}=await Q.from("match_results").select("*").or(`normalized_player1_name.eq.${S.toLowerCase()},normalized_player2_name.eq.${S.toLowerCase()}`);if(C)throw C;const O=A||[];if(O.length===0){w(!1);return}const U=[...new Set(O.map($=>$.tournament_id))],{data:L}=await Q.from("tournaments").select("id, name, tournament_date").in("id",U),q=(L||[]).reduce(($,Y)=>($[Y.id]={name:Y.name,date:Y.tournament_date},$),{}),I={},K={},z={},D={},k={};O.forEach($=>{var Z,ie,ae;if(!$.winner_name)return;const Y=$.player1_name===S,le=$.winner_name===S,X=Y?$.player1_beyblade:$.player2_beyblade,se=Y?$.player1_blade_line:$.player2_blade_line,R=((Z=$.outcome)==null?void 0:Z.split(" (")[0])||"Unknown",V=$.points_awarded||qee[R]||0;le&&(D[R]=(D[R]||0)+1,k[R]=(k[R]||0)+V),K[X]||(K[X]={combo:X,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:se||"Unknown",finishDistribution:{},pointsPerFinish:{}});const M=K[X];M.totalMatches++,le?(M.wins++,M.totalPoints+=V,M.finishDistribution[R]=(M.finishDistribution[R]||0)+1,M.pointsPerFinish[R]=(M.pointsPerFinish[R]||0)+V):M.losses++;const E=se||"Unknown";z[E]||(z[E]={bladeLine:E,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const H=z[E];H.matches++,le&&(H.wins++,H.avgPoints=(H.avgPoints*(H.wins-1)+V)/H.wins);const T=$.tournament_id;I[T]||(I[T]={tournamentName:((ie=q[T])==null?void 0:ie.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((ae=q[T])==null?void 0:ae.date)||""});const W=I[T];W.matches++,le&&(W.wins++,W.points+=V)}),Object.values(K).forEach($=>{$.winRate=$.totalMatches>0?$.wins/$.totalMatches*100:0,$.weightedWinRate=$.totalMatches>0?$.wins/$.totalMatches*($.totalMatches/($.totalMatches+10)):0,$.avgPointsPerMatch=$.totalMatches>0?$.totalPoints/$.totalMatches:0,$.comboScore=$.weightedWinRate*($.avgPointsPerMatch/3)*100}),Object.values(z).forEach($=>{$.winRate=$.matches>0?$.wins/$.matches*100:0,$.riskReward=Math.random()*100}),Object.values(I).forEach($=>{$.winRate=$.matches>0?$.wins/$.matches*100:0,$.avgPointsPerMatch=$.matches>0?$.points/$.matches:0}),a(Object.values(K).sort(($,Y)=>Y.comboScore-$.comboScore)),c(Object.values(z)),d(Object.values(I).sort(($,Y)=>new Date(Y.date).getTime()-new Date($.date).getTime()));const B=Object.entries(D).map(([$,Y])=>({name:$,value:Y,color:Gee[$]||"#6B7280"}));h(B);const G=Object.entries(k).map(([$,Y])=>({finish:$,points:Y,avgPoints:D[$]>0?Y/D[$]:0}));g(G)}catch(A){console.error("Error fetching personal stats:",A)}finally{w(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-8 text-center m-6",children:[o.jsx("div",{className:"w-16 h-16 bg-cyan-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(hd,{size:32,className:"text-cyan-400"})}),o.jsx("h3",{className:"text-xl font-bold text-cyan-400 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-slate-300",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(x)return o.jsxs("div",{className:"text-center py-12 m-6",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading personal stats..."})]});if(!_||s.length===0)return o.jsxs("div",{className:"space-y-6",children:[b&&o.jsx(ZN,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-lg p-8 text-center m-6",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kt,{size:32,className:"text-slate-400"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Match History"}),o.jsx("p",{className:"text-slate-400",children:b&&t?`${t} hasn't participated in any recorded matches yet.`:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]})]});const P=p?s.find(S=>S.combo===p):null;return o.jsxs("div",{className:"space-y-8 p-6",children:[b&&o.jsx(ZN,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:s.reduce((S,A)=>S+A.totalMatches,0)}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:o.jsx(io,{size:24,className:"text-cyan-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-1",children:[s.length>0?(s.reduce((S,A)=>S+A.wins,0)/s.reduce((S,A)=>S+A.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:o.jsx(kt,{size:24,className:"text-green-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:s.reduce((S,A)=>S+A.totalPoints,0)}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:o.jsx(by,{size:24,className:"text-purple-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-1",children:u.length}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:o.jsx(hd,{size:24,className:"text-orange-400"})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Finish Distribution"}),o.jsx(Ss,{width:"100%",height:300,children:o.jsxs(ob,{children:[o.jsx(Th,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:A})=>`${S} ${(A*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((S,A)=>o.jsx(Ds,{fill:S.color},`cell-${A}`))}),o.jsx(Ya,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"8px"},labelStyle:{color:"#06b6d4"}})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Points Per Finish Type"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Ss,{width:"100%",height:300,children:o.jsxs(ab,{data:m,children:[o.jsx(Dh,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Cc,{dataKey:"finish",stroke:"#94a3b8"}),o.jsx(Tc,{stroke:"#94a3b8"}),o.jsx(Ya,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"8px"},labelStyle:{color:"#06b6d4"}}),o.jsx(Mh,{dataKey:"points",fill:"#06b6d4"})]})}),o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-none p-4",children:[o.jsx("h4",{className:"font-semibold text-cyan-400 mb-4",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-3",children:m.map(S=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[S.finish,":"]}),o.jsx("span",{className:"text-lg font-bold text-cyan-400",children:S.points})]},S.finish))})]})]})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:p,onChange:S=>v(S.target.value),className:"bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),s.map(S=>o.jsxs("option",{value:S.combo,children:[S.combo," (",S.totalMatches," matches)"]},S.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:s.map((S,A)=>o.jsxs("tr",{className:`hover:bg-slate-800/50 cursor-pointer ${p===S.combo?"bg-cyan-500/10":""}`,onClick:()=>v(S.combo===p?"":S.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:S.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.bladeLine==="Basic"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":S.bladeLine==="Unique"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":S.bladeLine==="Custom"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":S.bladeLine==="X-Over"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:S.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:S.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.winRate>=60?"text-green-400":S.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[S.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-cyan-400 text-center",children:[(S.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:S.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-400 text-center",children:S.comboScore.toFixed(1)})]},A))})]})}),P&&o.jsxs("div",{className:"mt-6 bg-cyan-500/10 border border-cyan-500/30 rounded-none p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-cyan-400 mb-4",children:["Detailed Analysis: ",P.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-white mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(P.finishDistribution).map(([S,A])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-300",children:S}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-white",children:A}),o.jsxs("span",{className:"text-xs text-slate-400",children:["(",P.totalMatches>0?(A/P.wins*100).toFixed(0):0,"%)"]})]})]},S))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-white mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(P.pointsPerFinish).map(([S,A])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-300",children:S}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium text-white",children:[A," pts"]}),o.jsxs("span",{className:"text-xs text-slate-400",children:["(avg: ",P.finishDistribution[S]>0?(A/P.finishDistribution[S]).toFixed(1):"0.0",")"]})]})]},S))})]})]})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:u.map((S,A)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:S.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:S.date?new Date(S.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:S.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400 text-center font-medium",children:S.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.winRate>=60?"text-green-400":S.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[S.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center font-medium",children:S.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:S.avgPointsPerMatch.toFixed(2)})]},A))})]})})]}),s.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:b&&t?`${t}'s MVP Combo`:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(251,191,36,0.5)]",children:o.jsx(kt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-white mb-2",children:s[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-cyan-400",children:s[0].totalMatches}),o.jsx("div",{className:"text-sm text-slate-400",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-400",children:[s[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-400",children:s[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-400",children:s[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Combo Score"})]})]})]})]})]})}function Xee(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return Math.round((s-a)/i*1e3)/1e3}function Jee(e,t,r){let n=e;const i=Y4(n,r.bits);if(!i)return null;n=n.slice(0,n.length-i.bitName.length).trim();const s=X4(n,r.ratchets);if(!s)return null;n=n.slice(0,n.length-s.ratchetName.length).trim();const a=J4(n,r.blades.filter(c=>c.Line===t));return a?{isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function Qee(e,t){let r=e;const n=Zee(e,t.lockchips);if(!n)return null;r=e.slice(n.lockchipName.length);const i=Y4(r,t.bits);if(!i)return null;r=r.slice(0,r.length-i.bitName.length).trim();const s=X4(r,t.ratchets);if(!s)return null;r=r.slice(0,r.length-s.ratchetName.length).trim();const a=ete(r,t.assistBlades);if(!a)return null;r=r.slice(0,r.length-a.assistBladeName.length).trim();const l=J4(r,t.blades.filter(u=>u.Line==="Custom"));return l?{isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function Y4(e,t){const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return{bit:n,bitName:n.Shortcut||i}}return null}function X4(e,t){const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return{ratchet:n,ratchetName:i}}return null}function J4(e,t){for(const r of t){const n=r.Blades;if(n&&e===n)return{blade:r,bladeName:n}}return null}function Zee(e,t){const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return{lockchip:n,lockchipName:i}}return null}function ete(e,t){const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return{assistBlade:n,assistBladeName:i}}return null}function eS(e,t,r){if(!e||!e.trim())return{isCustom:!1};const n=["Basic","Unique","X-Over","Custom"];for(const i of n)if(i==="Custom"){const s=Qee(e,r);if(s)return s}else{const s=Jee(e,i,r);if(s)return s}return{isCustom:!1}}const tte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},rte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function nte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Mi,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function ite({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Used"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome})]},s)),n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome})]},`p2-${s}`))]})]})})]})}):null}function ste({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=y.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(""),[g,x]=y.useState(""),[w,p]=y.useState([]),[v,b]=y.useState({key:"comboScore",direction:"desc"}),[_,j]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[N,P]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&S()},[e]),y.useEffect(()=>{e&&r.blades.length>0&&A()},[e,r]);const S=async()=>{try{const[k,B,G,$,Y]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:B.data||[],bits:G.data||[],lockchips:$.data||[],assistBlades:Y.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},A=async()=>{try{const{data:k,error:B}=await Q.from("match_results").select("*").eq("tournament_id",e);if(B)throw B;if(!k||k.length===0){f(!1);return}const G=[],$={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},Y={};k.forEach(X=>{var ae;if(!X.winner_name||!X.player1_name||!X.player2_name)return;const se=eS(X.player1_beyblade,X.player1_blade_line,r),R=eS(X.player2_beyblade,X.player2_blade_line,r),V=((ae=X.outcome)==null?void 0:ae.split(" (")[0])||"Unknown",M=X.points_awarded||tte[V]||0,E=X.normalized_player1_name||X.player1_name.toLowerCase(),H=X.normalized_player2_name||X.player2_name.toLowerCase(),T=X.normalized_winner_name||X.winner_name.toLowerCase(),W={player:X.player1_name,opponent:X.player2_name,beyblade:X.player1_beyblade,opponentBeyblade:X.player2_beyblade,isWin:T===E,outcome:V,parsedParts:se,bladeLine:X.player1_blade_line||"Unknown"},Z={player:X.player2_name,opponent:X.player1_name,beyblade:X.player2_beyblade,opponentBeyblade:X.player1_beyblade,isWin:T===H,outcome:V,parsedParts:R,bladeLine:X.player2_blade_line||"Unknown"};G.push(W,Z),[W,Z].forEach(ge=>{const me=`${ge.beyblade}_${ge.player}`;Y[me]||(Y[me]={combo:ge.beyblade,player:ge.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:ge.bladeLine,allMatches:[]});const Ne=Y[me];Ne.totalMatches++,Ne.finishDistribution[V]=(Ne.finishDistribution[V]||0)+1,Ne.allMatches.push(X),ge.isWin?(Ne.wins++,Ne.totalPoints+=M):Ne.losses++});const ie=(ge,me)=>{Object.entries(ge).forEach(([Ne,Ct])=>{if(Ne==="isCustom"||!Ct)return;$[Ne][Ct]||($[Ne][Ct]={name:Ct,usage:0,wins:0,losses:0,winRate:0,wilson:0});const yn=$[Ne][Ct];yn.usage++,me?yn.wins++:yn.losses++})};ie(se,W.isWin),ie(R,Z.isWin)}),Object.keys($).forEach(X=>{Object.values($[X]).forEach(se=>{const R=se.wins+se.losses;se.winRate=R>0?se.wins/R*100:0,se.wilson=Xee(se.wins,R)})});const le=Object.values(Y).map(X=>(X.winRate=X.totalMatches>0?X.wins/X.totalMatches*100:0,X.weightedWinRate=X.totalMatches>0?X.wins/X.totalMatches*(X.totalMatches/(X.totalMatches+10)):0,X.avgPointsPerMatch=X.totalMatches>0?X.totalPoints/X.totalMatches:0,X.comboScore=X.weightedWinRate*(X.avgPointsPerMatch/3)*100,X));s($),l(le),u(G),h&&g&&C()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},C=()=>{if(!h||!g)return;const k=a.filter(B=>c.filter($=>$.beyblade===B.combo&&$.player===B.player).some($=>$.parsedParts[h]===g));p(k.sort((B,G)=>G.comboScore-B.comboScore))};hi.useEffect(()=>{h&&g&&a.length>0?C():p([])},[h,g,a]);const O=k=>{let B="asc";v.key===k&&v.direction==="asc"&&(B="desc"),b({key:k,direction:B})},U=(k,B)=>{const $=c.filter(Y=>Y.parsedParts[B]===k).map(Y=>{var X;const le=((X=Y.allMatches)==null?void 0:X[0])||{};return{combo_used:Y.beyblade,combo_against:Y.opponentBeyblade,player1_name:Y.player,player2_name:Y.opponent,winner_name:le.winner_name,outcome:Y.outcome,player1_beyblade:Y.beyblade,player2_beyblade:Y.opponentBeyblade}});P({isOpen:!0,title:`All Matches using ${k}`,matches:$})},L=k=>{const B=Object.values(i[k]||{}).filter(G=>G.usage>0).sort((G,$)=>$.wilson-G.wilson).map(G=>({...G,allMatches:c.filter($=>$.parsedParts[k]===G.name)}));j({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:B,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:G=>{j($=>({...$,isOpen:!1})),setTimeout(()=>{U(G.name,k)},100)}})},q=()=>{j({isOpen:!0,title:"All Combo Performance Rankings",data:I,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),j(B=>({...B,isOpen:!1}))}})},I=[...a].sort((k,B)=>{const G=k[v.key],$=B[v.key];if(typeof G=="number"&&typeof $=="number")return v.direction==="asc"?G-$:$-G;const Y=String(G),le=String($);return v.direction==="asc"?Y.localeCompare(le):le.localeCompare(Y)}),K=({children:k,sortKey:B})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O(B),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),v.key===B&&(v.direction==="asc"?o.jsx(QR,{size:12}):o.jsx(XR,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ln,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const z=I.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),D=Object.entries(c.reduce((k,B)=>(B.isWin&&(k[B.outcome]=(k[B.outcome]||0)+1),k),{})).map(([k,B])=>({name:k,value:B,color:rte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[o.jsx(io,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Ss,{width:"100%",height:300,children:o.jsxs(ab,{data:z,margin:{bottom:60},children:[o.jsx(Dh,{strokeDasharray:"3 3"}),o.jsx(Cc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Tc,{}),o.jsx(Ya,{formatter:(k,B)=>[typeof k=="number"?k.toFixed(2):k,B==="score"?"Combo Score":B==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Mh,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Finish Type Distribution"}),o.jsx(Ss,{width:"100%",height:300,children:o.jsxs(ob,{children:[o.jsx(Th,{data:D,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:B})=>`${k} ${(B*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:D.map((k,B)=>o.jsx(Ds,{fill:k.color},`cell-${B}`))}),o.jsx(Ya,{})]})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[o.jsx(Mi,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),x("")},className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:g,onChange:k=>x(k.target.value),disabled:!h,className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:bg-slate-700",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,B)=>B.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&g&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",g," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,B)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},B))})]})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:q,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-4 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 shadow-[0_0_15px_rgba(0,200,255,0.3)]",children:[o.jsx(cn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(K,{sortKey:"combo",children:"Combo"}),o.jsx(K,{sortKey:"player",children:"Player"}),o.jsx(K,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(K,{sortKey:"totalMatches",children:"Matches"}),o.jsx(K,{sortKey:"winRate",children:"Win Rate"}),o.jsx(K,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(K,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(K,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:I.slice(0,20).map((k,B)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},B))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                               transition-all duration-300 hover:border-cyan-400/70 
                               hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-white capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>L(k),className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-3 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 text-sm shadow-[0_0_12px_rgba(0,200,255,0.25)]",children:[o.jsx(cn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(ln,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(B=>B.usage>0).sort((B,G)=>G.wilson-B.wilson).slice(0,8).map((B,G)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:B.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${B.winRate>=60?"text-green-600":B.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[B.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.wilson.toFixed(3)})]},G))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                               transition-all duration-300 hover:border-cyan-400/70 
                               hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-white capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>L(k),className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-3 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 text-sm shadow-[0_0_12px_rgba(0,200,255,0.25)]",children:[o.jsx(cn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(ln,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(B=>B.usage>0).sort((B,G)=>G.wilson-B.wilson).slice(0,8).map((B,G)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:B.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${B.winRate>=60?"text-green-600":B.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[B.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.wilson.toFixed(3)})]},G))})]})})]},k))})]}),o.jsx(nte,{isOpen:_.isOpen,onClose:()=>j(k=>({...k,isOpen:!1})),title:_.title,data:_.data,columns:_.columns,onRowClick:_.onRowClick}),o.jsx(ite,{isOpen:N.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:N.title,matches:N.matches})]})}const tS={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},xu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function ate({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=y.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(It,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4 relative",children:[o.jsx(Mi,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function ote({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(It,{size:24})})]}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Finish Type"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:`hover:bg-gray-50 ${i.winner_name===i.player1_name?"bg-blue-50":i.winner_name===i.player2_name?"bg-red-50":""}`,children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium",children:["Match ",s+1]}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${i.winner_name===i.player1_name?"text-blue-700":"text-gray-600"}`,children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${i.winner_name===i.player2_name?"text-red-700":"text-gray-600"}`,children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 text-sm",children:i.outcome})]},s))})]})})]})}):null}function lte({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({}),[i,s]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState({isOpen:!1,title:"",data:[],columns:[],onRowClick:void 0}),[h,m]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&x()},[e]);const g=(j,N)=>N===0?0:j/N*(N/(N+10)),x=async()=>{try{const{data:j,error:N}=await Q.from("match_results").select("*").eq("tournament_id",e);if(N)throw N;const P=j||[];if(P.length===0){u(!1);return}const S={},A={};P.forEach(O=>{var le;if(!O.winner_name||!O.player1_name||!O.player2_name)return;const U=((le=O.outcome)==null?void 0:le.split(" (")[0])||"Unknown",L=O.points_awarded||tS[U]||0,q=O.phase_number||1,I=O.normalized_player1_name||O.player1_name.toLowerCase(),K=O.normalized_player2_name||O.player2_name.toLowerCase(),z=O.normalized_winner_name||O.winner_name.toLowerCase();[I,K].forEach((X,se)=>{const R=se===0?O.player1_name:O.player2_name;S[R]||(S[R]={name:R,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),S[O.player1_name]&&S[O.player1_name].allMatches.push(O),S[O.player2_name]&&S[O.player2_name].allMatches.push(O);const D=S[O.winner_name],k=z===I?O.player2_name:O.player1_name,B=S[k],G=O.winner_name===O.player1_name?O.player1_beyblade:O.player2_beyblade,$=O.winner_name===O.player1_name?O.player2_beyblade:O.player1_beyblade;if(!D||!B)return;D.matches++,D.wins++,D.totalPoints+=L,D.finishDistribution[U]=(D.finishDistribution[U]||0)+1,D.winsByFinish[G]||(D.winsByFinish[G]={}),D.winsByFinish[G][U]=(D.winsByFinish[G][U]||0)+1,D.pointsGainedByBey[G]=(D.pointsGainedByBey[G]||0)+L,D.phasePerformance[q]||(D.phasePerformance[q]={wins:0,matches:0,points:0}),D.phasePerformance[q].wins++,D.phasePerformance[q].matches++,D.phasePerformance[q].points+=L,B.matches++,B.losses++,B.finishDistribution[U]=(B.finishDistribution[U]||0)+1,B.lossesByFinish[$]||(B.lossesByFinish[$]={}),B.lossesByFinish[$][U]=(B.lossesByFinish[$][U]||0)+1,B.pointsGivenByBey[$]=(B.pointsGivenByBey[$]||0)+L,B.phasePerformance[q]||(B.phasePerformance[q]={wins:0,matches:0,points:0}),B.phasePerformance[q].matches++;const Y=[O.player1_name,O.player2_name].sort().join("_vs_");A[Y]||(A[Y]={player1:O.player1_name,player2:O.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),A[Y].totalMatches++,O.winner_name===O.player1_name?A[Y].p1Wins++:A[Y].p2Wins++}),Object.values(S).forEach(O=>{if(O.winRate=O.matches>0?O.wins/O.matches*100:0,O.weightedWinRate=g(O.wins,O.matches),O.avgPointsPerMatch=O.matches>0?O.totalPoints/O.matches:0,Object.keys(O.pointsGainedByBey).length>0){const[L,q]=Object.entries(O.pointsGainedByBey).reduce((I,K)=>I[1]>K[1]?I:K);O.mvpCombo=L,O.mvpComboScore=q}const U=Object.entries(O.finishDistribution);O.mostCommonWinFinish=U.length>0?U.reduce((L,q)=>L[1]>q[1]?L:q)[0]:"N/A",O.mostCommonLoseFinish=O.mostCommonWinFinish}),Object.values(A).forEach(O=>{O.p1WinRate=O.totalMatches>0?O.p1Wins/O.totalMatches*100:0}),n(S),l(Object.values(A).filter(O=>O.totalMatches>0));const C=Object.keys(S);C.length>0&&!i&&s(C[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=Object.keys(r),p=i?r[i]:void 0,v=()=>{const j=Object.values(r).map(N=>({Player:N.name,Matches:N.matches,Wins:N.wins,Losses:N.losses,"Win Rate (%)":Number(N.winRate.toFixed(1)),"Weighted Win Rate (%)":Number((N.weightedWinRate*100).toFixed(1)),"Total Points":N.totalPoints,"Avg Pts/Match":Number(N.avgPointsPerMatch.toFixed(2)),"MVP Beyblade":N.mvpCombo||"—","MVP Points":N.mvpComboScore||0}));f({isOpen:!0,title:"All Players (Sortable/Filterable)",data:j,columns:[{key:"Player",label:"Player"},{key:"Matches",label:"Matches"},{key:"Wins",label:"Wins"},{key:"Losses",label:"Losses"},{key:"Win Rate (%)",label:"Win Rate (%)"},{key:"Weighted Win Rate (%)",label:"Weighted Win Rate (%)"},{key:"Total Points",label:"Total Points"},{key:"Avg Pts/Match",label:"Avg Pts/Match"},{key:"MVP Beyblade",label:"MVP Beyblade"},{key:"MVP Points",label:"MVP Points"}],onRowClick:N=>{s(N.Player),f(P=>({...P,isOpen:!1}))}})},b=()=>{const j=a.map(N=>({Matchup:`${N.player1} vs ${N.player2}`,"Total Matches":N.totalMatches,"Player 1 Wins":N.p1Wins,"Player 2 Wins":N.p2Wins,"P1 Win Rate (%)":Number(N.p1WinRate.toFixed(1))}));f({isOpen:!0,title:"All Head-to-Head Matchups",data:j,columns:[{key:"Matchup",label:"Matchup"},{key:"Total Matches",label:"Total Matches"},{key:"Player 1 Wins",label:"Player 1 Wins"},{key:"Player 2 Wins",label:"Player 2 Wins"},{key:"P1 Win Rate (%)",label:"P1 Win Rate (%)"}]})},_=j=>{const N=r[j];N&&m({isOpen:!0,title:`${j} — Match Details`,matches:N.allMatches||[]})};return c||t?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})}):w.length===0?o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:o.jsx("p",{className:"text-gray-600",children:"No match data found for this tournament yet."})})}):o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[o.jsx(nt,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),w.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),p&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] mb-6`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold text-white flex items-center",children:[o.jsx(kt,{size:20,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:v,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-4 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 shadow-[0_0_15px_rgba(0,200,255,0.3)]",children:[o.jsx(cn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.values(r).sort((j,N)=>N.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,N)=>o.jsxs("tr",{className:`hover:bg-slate-800/50 cursor-pointer ${i===j.name?"bg-cyan-500/10":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:N+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-white text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-400":j.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-cyan-400 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-white text-center",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 text-sm text-white text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 text-sm text-white",children:j.mostCommonWinFinish})]},j.name))})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-white flex items-center",children:[o.jsx(io,{size:24,className:"mr-2 text-blue-600"}),p.name," — Detailed Performance"]}),o.jsx("button",{className:"text-sm text-cyan-400 hover:text-cyan-300 underline",onClick:()=>_(p.name),children:"View Match Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400",children:p.matches}),o.jsx("div",{className:"text-sm text-slate-400",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-400",children:[p.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-400",children:p.totalPoints}),o.jsx("div",{className:"text-sm text-slate-400",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-400",children:p.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Avg Points/Match"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-indigo-400",children:p.mvpCombo||"N/A"}),o.jsx("div",{className:"text-sm text-slate-400",children:"Most Valuable Beyblade"}),p.mvpCombo&&o.jsxs("div",{className:"text-lg font-bold text-indigo-300 mt-1",children:[p.mvpComboScore," pts"]})]})]})]})]}),p&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Beyblade"}),xu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.keys(p.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:j}),xu.map(N=>{var P;return o.jsx("td",{className:"px-6 py-4 text-sm text-center font-medium text-green-400",children:((P=p.winsByFinish[j])==null?void 0:P[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 text-sm text-center font-bold text-green-300",children:p.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Beyblade"}),xu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.keys(p.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:j}),xu.map(N=>{var P;return o.jsx("td",{className:"px-6 py-4 text-sm text-center font-medium text-red-400",children:((P=p.lossesByFinish[j])==null?void 0:P[N])||0},N)}),o.jsx("td",{className:"px-6 py-4 text-sm text-center font-bold text-red-300",children:p.pointsGivenByBey[j]||0})]},j))})]})})]})]}),p&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Points per Finish Type"}),o.jsx(Ss,{width:"100%",height:400,children:o.jsxs(Wee,{data:Object.entries(p.finishDistribution).map(([j,N])=>({finish:j,points:N*(tS[j]||0),count:N})),children:[o.jsx(e4,{}),o.jsx(Ch,{dataKey:"finish"}),o.jsx(Eh,{}),o.jsx(Zx,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]}),Object.keys(p.phasePerformance).length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                           transition-all duration-300 hover:border-cyan-400/70 
                           hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-cyan-400 uppercase",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.entries(p.phasePerformance).sort(([j],[N])=>parseInt(j)-parseInt(N)).map(([j,N])=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-white text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 text-sm text-white text-center",children:N.matches}),o.jsx("td",{className:"px-6 py-4 text-sm text-green-400 text-center font-medium",children:N.wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${N.matches>0&&N.wins/N.matches*100>=50?"text-green-400":"text-red-400"}`,children:[N.matches>0?(N.wins/N.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-white text-center",children:N.matches>0?(N.points/N.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold text-white flex items-center",children:[o.jsx(cc,{size:20,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:b,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-4 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 shadow-[0_0_15px_rgba(0,200,255,0.3)]",children:[o.jsx(cn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:a.sort((j,N)=>N.totalMatches-j.totalMatches).slice(0,10).map((j,N)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-white",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 text-sm text-white text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 text-sm text-green-400 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-red-400 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-400":"text-red-400"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},N))})]})})]}),o.jsx(ate,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(ote,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function cte(){const[e,t]=y.useState("meta"),[r,n]=y.useState([]),[i,s]=y.useState(""),[a,l]=y.useState(!0),[c,u]=y.useState(!1);y.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await Q.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const g=h==null?void 0:h.find(x=>x.status==="completed");g&&s(g.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12 m-6",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12 m-6",children:o.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[o.jsx(En,{size:24,className:"mr-2 text-cyan-400"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center space-x-6 border-b border-slate-700 pb-2",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="meta"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(ln,{size:16,className:"mr-2"}),"Meta Analysis",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="meta"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>f("player"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="player"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(nt,{size:16,className:"mr-2"}),"Player Analytics",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="player"?"w-full":"w-0 group-hover:w-full"}`})]})]})]}),e==="meta"&&o.jsx(ste,{tournamentId:i}),e==="player"&&o.jsx(lte,{tournamentId:i})]}),!i&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-8 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] text-center m-6`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(En,{size:32,className:"text-slate-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-slate-400",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function ute(){return o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-12 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] text-center`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_30px_rgba(16,185,129,0.5)]",children:o.jsx(ln,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-green-400 mb-4",children:"Community Analytics"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-none font-bold text-lg mb-6 shadow-[0_0_20px_rgba(16,185,129,0.3)]",children:"COMING SOON"}),o.jsx("p",{className:"text-green-300 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will be able to track engagement, growth, and tournament participation. Gain insights, compare statistics, and help your community thrive."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-6 border border-green-400/30",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(cc,{size:24,className:"text-green-400"})}),o.jsx("h3",{className:"font-bold text-green-400 mb-2",children:"Growth Metrics"}),o.jsx("p",{className:"text-green-300 text-sm",children:"Track new member growth and community activity trends"})]}),o.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-6 border border-green-400/30",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(io,{size:24,className:"text-emerald-400"})}),o.jsx("h3",{className:"font-bold text-green-400 mb-2",children:"Engagement Insights"}),o.jsx("p",{className:"text-green-300 text-sm",children:"Analyze posts, discussions, and tournament participation"})]}),o.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-6 border border-green-400/30",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(nt,{size:24,className:"text-green-400"})}),o.jsx("h3",{className:"font-bold text-green-400 mb-2",children:"Community Comparison"}),o.jsx("p",{className:"text-green-300 text-sm",children:"Compare stats across different communities for insights and growth opportunities"})]})]}),o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-green-400/30 rounded-none p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-green-400 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-green-300 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Community growth tracking"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Engagement analytics and trends"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Community comparison and insights"]})]})]}),o.jsx("div",{className:"mt-8 text-green-400 text-sm",children:"Community analytics is coming soon — empowering every community to grow stronger!"})]})})})})}function dte(){er();const[e,t]=y.useState("overview"),[r,n]=y.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Processing analytics..."})]})})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(ln,{size:40,className:"mr-4 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Tournament Analytics"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Analysis of tournament data and player performance"})]}),o.jsxs("div",{className:"flex items-center space-x-6 border-b border-slate-700 pb-2",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="overview"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(kt,{size:16,className:"mr-2"}),"Overview",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="overview"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>i("personal"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="personal"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(hd,{size:16,className:"mr-2"}),"Personal Stats",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="personal"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="tournament"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(En,{size:16,className:"mr-2"}),"Tournament Analysis",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="tournament"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>i("community"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="community"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(nt,{size:16,className:"mr-2"}),"Community Analytics",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="community"?"w-full":"w-0 group-hover:w-full"}`})]})]})]})}),o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-none backdrop-blur-sm",children:[e==="overview"&&o.jsx(Hee,{}),e==="personal"&&o.jsx(Yee,{}),e==="tournament"&&o.jsx(cte,{}),e==="community"&&o.jsx(ute,{})]})]})})}function fte(){const{user:e}=er(),{confirm:t,alert:r}=Es(),[n,i]=y.useState([]),[s,a]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState("tournaments"),[f,h]=y.useState(!0),[m,g]=y.useState(!1),[x,w]=y.useState(null),[p,v]=y.useState(!1),[b,_]=y.useState(""),[j,N]=y.useState(""),[P,S]=y.useState("asc"),[A,C]=y.useState(1),O=10,U=E=>{j===E?S(P==="asc"?"desc":"asc"):(N(E),S("asc"))},L=s.filter(E=>E.player_name.toLowerCase().includes(b.toLowerCase())||E.beyblades.some(H=>H.beyblade_name.toLowerCase().includes(b.toLowerCase()))),q=[...L].sort((E,H)=>{let T,W;switch(j){case"player":T=E.player_name,W=H.player_name;break;case"date":T=new Date(E.registered_at).getTime(),W=new Date(H.registered_at).getTime();break;case"payment":T=E.payment_mode,W=H.payment_mode;break;case"status":T=E.status,W=H.status;break;default:return 0}return T<W?P==="asc"?-1:1:T>W?P==="asc"?1:-1:0}),I=Math.ceil(q.length/O),K=q.slice((A-1)*O,A*O),[z,D]=y.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:"",unlimited_participants:!1}),k=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";y.useEffect(()=>{k&&B()},[k]),y.useEffect(()=>{l&&u==="registrations"&&G()},[l,u]);const B=async()=>{h(!0);try{const{data:E,error:H}=await Q.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(H)throw H;i(E||[])}catch(E){console.error("Error fetching tournaments:",E),i([])}finally{h(!1)}},G=async()=>{if(l)try{const{data:E,error:H}=await Q.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(H)throw H;const T={};E==null||E.forEach(W=>{T[W.registration_id]||(T[W.registration_id]={id:W.registration_id,tournament_id:W.tournament_id,player_name:W.player_name,payment_mode:W.payment_mode,registered_at:W.registered_at,status:W.status,payment_status:W.payment_status||"confirmed",beyblades:[]}),W.beyblade_id&&(T[W.registration_id].beyblades.some(ie=>ie.beyblade_id===W.beyblade_id)||T[W.registration_id].beyblades.push({beyblade_id:W.beyblade_id,beyblade_name:W.beyblade_name,blade_line:W.blade_line}))}),a(Object.values(T))}catch(E){console.error("Error fetching registrations:",E)}},$=()=>{g(!0),w(null),D({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:"",unlimited_participants:!1})},Y=E=>{w(E.id),g(!1),D({name:E.name,description:E.description||"",tournament_date:E.tournament_date,location:E.location,max_participants:E.max_participants,registration_deadline:E.registration_deadline,prize_pool:E.prize_pool||"",beyblades_per_player:E.beyblades_per_player,players_per_team:E.players_per_team,entry_fee:E.entry_fee,is_free:E.is_free,tournament_type:E.tournament_type,is_practice:E.is_practice,registration_open:E.registration_open,password:E.password||"",unlimited_participants:E.max_participants===999999})},le=()=>{g(!1),w(null),D({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:"",unlimited_participants:!1})},X=async()=>{if(!z.name.trim())return r("Missing Information","Please enter a tournament name.");if(!z.password.trim())return r("Missing Information","Please enter a tournament password.");if(!z.tournament_date)return r("Missing Information","Please select a tournament date.");if(!z.location.trim())return r("Missing Information","Please enter a tournament location.");if(!z.registration_deadline)return r("Missing Information","Please select a registration deadline.");try{const E={name:z.name.trim(),description:z.description.trim()||null,tournament_date:z.tournament_date,location:z.location.trim(),max_participants:z.unlimited_participants?999999:z.max_participants??16,registration_deadline:z.registration_deadline,prize_pool:z.prize_pool.trim()||null,beyblades_per_player:z.beyblades_per_player??3,players_per_team:z.players_per_team??1,entry_fee:z.is_free?0:z.entry_fee??0,is_free:z.is_free,tournament_type:z.tournament_type,is_practice:z.is_practice,registration_open:z.registration_open,password:z.password.trim()};if(m){const{error:H}=await Q.from("tournaments").insert([E]);if(H)throw H}else if(x){const{error:H}=await Q.from("tournaments").update(E).eq("id",x);if(H)throw H}await B(),le(),await r("Success","Tournament saved successfully!")}catch(E){console.error("Error saving tournament:",E),await r("Error","Failed to save tournament. Please try again.")}},se=async(E,H)=>{try{const{error:T}=await Q.from("tournaments").update({status:H}).eq("id",E);if(T)throw T;await B(),await r("Success",`Tournament status updated to ${H}!`)}catch(T){console.error("Error updating status:",T),await r("Error","Failed to update tournament status. Please try again.")}},R=async(E,H)=>{try{const{error:T}=await Q.from("tournaments").update({registration_open:!H}).eq("id",E);if(T)throw T;await B(),await r("Success",`Registration ${H?"closed":"opened"} successfully!`)}catch(T){console.error("Error toggling registration:",T),await r("Error","Failed to toggle registration. Please try again.")}},V=async E=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{await Q.from("tournament_beyblade_parts").delete().eq("beyblade_id",`(SELECT id FROM tournament_beyblades WHERE registration_id IN (SELECT id FROM tournament_registrations WHERE tournament_id = '${E}'))`),await Q.from("tournament_beyblades").delete().eq("registration_id",`(SELECT id FROM tournament_registrations WHERE tournament_id = '${E}')`),await Q.from("tournament_registrations").delete().eq("tournament_id",E),await Q.from("match_results").delete().eq("tournament_id",E);const{error:T}=await Q.from("tournaments").delete().eq("id",E);if(T)throw T;await B(),await r("Success","Tournament deleted successfully!")}catch(T){console.error("Error deleting tournament:",T),await r("Error","Failed to delete tournament. Please try again.")}},M=async E=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:T}=await Q.from("tournament_registrations").delete().eq("id",E);if(T)throw T;await G(),await r("Success","Registration deleted successfully!")}catch(T){console.error("Error deleting registration:",T),await r("Error","Failed to delete registration. Please try again.")}};return k?f?o.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center px-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading tournaments..."})]})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold flex items-center",children:[o.jsx(kt,{size:36,className:"mr-3 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Tournament Manager"})]}),o.jsx("p",{className:"text-slate-400 mt-1",children:"Create and manage tournaments"})]}),o.jsx("div",{className:"flex space-x-6 border-b border-slate-700",children:["tournaments","registrations"].map(E=>o.jsxs("button",{onClick:()=>d(E),className:`relative pb-2 text-sm font-medium capitalize transition-colors group ${u===E?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[E,o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                      ${u===E?"w-full":"w-0 group-hover:w-full"}`})]},E))})]})}),u==="tournaments"&&o.jsx("div",{className:"flex justify-end mb-6",children:o.jsx("button",{onClick:$,className:`px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium
                         hover:from-cyan-400 hover:to-purple-500 transition-all duration-200
                         shadow-[0_0_18px_rgba(0,200,255,0.25)]`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(wa,{size:18}),o.jsx("span",{children:"Create Tournament"})]})})}),u==="tournaments"&&(m||x)&&o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Name *"}),o.jsx("input",{type:"text",value:z.name,onChange:E=>D({...z,name:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Date *"}),o.jsx("input",{type:"date",value:z.tournament_date,onChange:E=>D({...z,tournament_date:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Location *"}),o.jsx("input",{type:"text",value:z.location,onChange:E=>D({...z,location:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Enter tournament location"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Registration Deadline *"}),o.jsx("input",{type:"date",value:z.registration_deadline,onChange:E=>D({...z,registration_deadline:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Max Participants"}),o.jsx("input",{type:"number",min:1,disabled:z.unlimited_participants,value:z.unlimited_participants?"":z.max_participants??"",onChange:E=>D({...z,max_participants:E.target.value===""?void 0:parseInt(E.target.value,10)}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"}),o.jsxs("label",{className:"mt-2 inline-flex items-center space-x-2 text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:z.unlimited_participants,onChange:E=>D({...z,unlimited_participants:E.target.checked,max_participants:E.target.checked?999999:z.max_participants??16}),className:"w-4 h-4"}),o.jsx("span",{children:"Unlimited Participants"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:1,max:5,value:z.beyblades_per_player??3,onChange:E=>D({...z,beyblades_per_player:E.target.value===""?void 0:parseInt(E.target.value,10)}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Type"}),o.jsxs("select",{value:z.tournament_type,onChange:E=>D({...z,tournament_type:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Mode"}),o.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:z.is_practice,onChange:E=>D({...z,is_practice:E.target.checked}),className:"w-4 h-4"}),o.jsx("span",{children:"Practice Tournament"})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Practice tournaments don't contribute to global or personal stats"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Entry Fee"}),o.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:z.is_free,onChange:E=>D({...z,is_free:E.target.checked,entry_fee:E.target.checked?0:z.entry_fee??0}),className:"w-4 h-4"}),o.jsx("span",{children:"Free Tournament"})]}),!z.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:z.entry_fee??0,onChange:E=>D({...z,entry_fee:E.target.value===""?0:parseFloat(E.target.value)}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500 mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:p?"text":"password",value:z.password,onChange:E=>D({...z,password:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 pr-10 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Enter tournament password"}),o.jsx("button",{type:"button",onClick:E=>{E.preventDefault(),v(!p)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-200",children:p?o.jsx(fd,{size:18}):o.jsx(cn,{size:18})})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Description"}),o.jsx("textarea",{rows:3,value:z.description,onChange:E=>D({...z,description:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Prize Pool"}),o.jsx("input",{type:"text",value:z.prize_pool,onChange:E=>D({...z,prize_pool:E.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"e.g., ₱500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:le,className:"px-4 py-2 text-slate-300 border border-slate-600 hover:bg-slate-800 transition",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(It,{size:16}),o.jsx("span",{children:"Cancel"})]})}),o.jsx("button",{type:"button",onClick:X,className:`px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium
                           hover:from-cyan-400 hover:to-purple-500 transition-all duration-200
                           shadow-[0_0_18px_rgba(0,200,255,0.25)]`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(kf,{size:16}),o.jsx("span",{children:"Save Tournament"})]})})]})]}),u==="tournaments"&&(n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(kt,{size:48,className:"mx-auto text-slate-500 mb-4"}),o.jsx("p",{className:"text-slate-400",children:"No tournaments created yet"}),o.jsx("button",{onClick:$,className:"mt-4 text-cyan-400 hover:text-white transition",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(E=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/50 p-5 rounded-none
                             transition-all duration-300 hover:border-cyan-400/70
                             hover:shadow-[0_0_18px_rgba(34,211,238,0.35)]`,children:[o.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500 group-hover:w-full"}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"min-w-0",children:o.jsx("h3",{className:"text-lg font-semibold text-white break-words pr-28",children:E.name})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-none
                          ${E.status==="active"?"text-green-400 bg-green-400/10":E.status==="completed"?"text-purple-400 bg-purple-400/10":"text-cyan-400 bg-cyan-400/10"}`,children:E.status.toUpperCase()}),E.is_practice&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-yellow-400 bg-yellow-400/10 rounded-none",children:"PRACTICE"}),o.jsx("button",{onClick:()=>Y(E),className:"p-1.5 text-cyan-400 hover:text-white hover:bg-cyan-500/20 transition",title:"Edit",children:o.jsx(Ra,{size:16})}),o.jsx("button",{onClick:()=>V(E.id),className:"p-1.5 text-red-400 hover:text-white hover:bg-red-500/20 transition",title:"Delete",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Da,{size:14,className:"mr-2 text-cyan-400"}),new Date(E.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Kk,{size:14,className:"mr-2 text-cyan-400"}),E.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(nt,{size:14,className:"mr-2 text-cyan-400"}),E.max_participants===999999?`${E.current_participants} players`:`${E.current_participants}/${E.max_participants} players`]}),E.tournament_code&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-slate-400 mr-2",children:"Code:"}),o.jsxs("span",{className:"font-mono font-semibold text-cyan-300",children:['"',E.tournament_code,'"']})]}),E.password&&o.jsx("div",{className:"text-xs text-orange-300",children:"🔒 Password protected"}),o.jsx("div",{className:"text-xs",children:o.jsx("span",{className:`${E.registration_open?"text-green-300":"text-red-300"}`,children:E.registration_open?"✅ Registration Open":"❌ Registration Closed"})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-4 pt-4 border-t border-slate-800",children:[o.jsx("label",{className:"text-xs text-slate-400",children:"Status:"}),o.jsxs("select",{value:E.status,onChange:H=>se(E.id,H.target.value),className:"text-xs bg-slate-950/60 border border-slate-700 px-2 py-1 focus:outline-none focus:border-cyan-500",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]}),o.jsx("button",{onClick:()=>R(E.id,E.registration_open),className:`text-xs px-3 py-1 border transition
                        ${E.registration_open?"border-red-500/40 text-red-300 hover:bg-red-500/10":"border-green-500/40 text-green-300 hover:bg-green-500/10"}`,children:E.registration_open?"Close Registration":"Open Registration"})]}),o.jsxs("div",{className:"text-xs text-slate-500 pt-3 border-t border-slate-800 mt-3",children:["Created: ",new Date(E.created_at).toLocaleDateString()]})]},E.id))})),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:E=>{c(E.target.value),C(1)},className:"bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500 max-w-md w-full",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(E=>o.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l&&o.jsx("input",{type:"text",placeholder:"Search players or Beyblades...",value:b,onChange:E=>{_(E.target.value),C(1)},className:"bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500 w-full sm:w-64"}),s.length>0&&o.jsx("button",{onClick:()=>{const E=L.map(H=>H.player_name).join(`
`);navigator.clipboard.writeText(E),r("Copied","All player names copied to clipboard for Challonge!")},className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white text-sm font-medium hover:from-cyan-400 hover:to-purple-500 transition shadow-[0_0_12px_rgba(0,200,255,0.25)]",children:"Copy Player List"})]}),l&&o.jsxs(o.Fragment,{children:[L.length===0?o.jsxs("div",{className:"text-center py-10 text-slate-400",children:[o.jsx(nt,{size:48,className:"mx-auto text-slate-600 mb-4"}),"No registrations found for this tournament"]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse text-sm",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-slate-900/70 text-slate-300 text-left",children:["Player","Date","Payment","Status","Beyblades","Actions"].map((E,H)=>o.jsxs("th",{onClick:()=>U(E.toLowerCase()),className:"px-3 py-2 border-b border-slate-700 cursor-pointer select-none",children:[E,j===E.toLowerCase()&&o.jsx("span",{className:"ml-1",children:P==="asc"?"▲":"▼"})]},H))})}),o.jsx("tbody",{children:K.map(E=>{var H;return o.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30 transition",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-white",children:E.player_name}),o.jsx("td",{className:"px-3 py-2 text-slate-400",children:new Date(E.registered_at).toLocaleDateString()}),o.jsx("td",{className:"px-3 py-2 text-slate-400",children:((H=E.payment_mode)==null?void 0:H.replace("_"," "))||"N/A"}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`px-2 py-0.5 text-[11px] rounded-sm
                          ${E.status==="confirmed"?"text-green-300 bg-green-300/10":E.status==="cancelled"?"text-red-300 bg-red-300/10":"text-yellow-300 bg-yellow-300/10"}`,children:E.status})}),o.jsx("td",{className:"px-3 py-2",children:E.beyblades.length>0?o.jsx("div",{className:"flex flex-wrap gap-1",children:E.beyblades.map((T,W)=>o.jsx("span",{className:"inline-block border border-slate-700 bg-slate-900 px-2 py-0.5 text-[11px] text-slate-200",children:T.beyblade_name},W))}):o.jsx("span",{className:"text-xs text-slate-500 italic",children:"No Beyblades"})}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("button",{onClick:()=>M(E.id),className:"p-1.5 text-red-400 hover:text-white hover:bg-red-500/20 transition rounded-sm",title:"Delete Registration",children:o.jsx($n,{size:14})})})]},E.id)})})]})}),o.jsxs("div",{className:"flex justify-end items-center gap-2 mt-3",children:[o.jsx("button",{disabled:A===1,onClick:()=>C(A-1),className:"px-3 py-1 bg-slate-800 text-slate-300 text-xs disabled:opacity-50",children:"Prev"}),o.jsxs("span",{className:"text-slate-400 text-xs",children:["Page ",A," of ",I]}),o.jsx("button",{disabled:A===I,onClick:()=>C(A+1),className:"px-3 py-1 bg-slate-800 text-slate-300 text-xs disabled:opacity-50",children:"Next"})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center px-6",children:o.jsxs("div",{className:"bg-slate-900/60 border border-red-500/30 p-8 max-w-lg w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-500/10 border border-red-500/30 mx-auto mb-4 flex items-center justify-center",children:"🔒"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-slate-400",children:"You need admin or developer permissions to access tournament management."})]})})}function hte(){const{user:e}=er(),{confirm:t,alert:r}=Es(),[n,i]=y.useState([]),[s,a]=y.useState("all"),[l,c]=y.useState("all"),[u,d]=y.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";hi.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:v,error:b}=await Q.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw b;const _=(v||[]).map(j=>({id:j.id,username:j.username,email:j.email||"",role:j.role,joinedDate:j.created_at,status:"active",lastLogin:null}));i(_)}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const b=s==="all"||v.status===s,_=l==="all"||v.role===l;return b&&_}),g=async(v,b)=>{try{const{error:_}=await Q.from("profiles").update(b).eq("id",v);if(_){const j=_.code==="42501"||_.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${_.message}`;await r("Update Failed",j);return}await h()}catch(_){console.error("Error updating user:",_),await r("Update Failed",`Failed to update user: ${_ instanceof Error?_.message:"Unknown error"}`)}},x=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:_,error:j}=await Q.rpc("delete_user_completely",{user_id_to_delete:v});if(j){console.error("Delete error:",j),j.code==="42501"||j.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):j.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${j.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(_){console.error("Error deleting user:",_),await r("Delete Failed",`Failed to delete user: ${_ instanceof Error?_.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(nt,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(ja,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(ja,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(ja,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(i$,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:b=>g(v.id,{role:b.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${p(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Da,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(Ra,{size:16})}),o.jsx("button",{onClick:()=>x(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx($n,{size:16})})]})})})]},v.id))})]})})})]})}function mte(){var M,E,H;const{user:e}=er(),{confirm:t,alert:r}=Es(),[n,i]=y.useState("tournaments"),[s,a]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState([]),[f,h]=y.useState(!1),[m,g]=y.useState(null),[x,w]=y.useState([]),[p,v]=y.useState(null),[b,_]=y.useState({}),[j,N]=y.useState(null),[P,S]=y.useState([]),[A,C]=y.useState(""),[O,U]=y.useState(1),[L]=y.useState(10);hi.useEffect(()=>{a(null),N(null),v(null),_({}),C(""),U(1)},[n]);const q=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",I=async()=>{try{const[T,W,Z,ie]=await Promise.all([Q.from("profiles").select("*",{count:"exact",head:!0}),Q.from("tournaments").select("*",{count:"exact",head:!0}),Q.from("match_results").select("*",{count:"exact",head:!0}),Q.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:T.count||0,icon:o.jsx(nt,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:W.count||0,icon:o.jsx(kt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:Z.count||0,icon:o.jsx(Da,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:ie.count||0,icon:o.jsx(l$,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ae}=await Q.from("tournaments").select("id, name").order("name");S(ae||[])}catch(T){console.error("Error fetching table counts:",T)}},K=async(T,W)=>{h(!0),g(null);try{let Z=[];if(T==="registrations"&&W){const{data:ie,error:ae}=await Q.from("tournament_registration_details").select("*").eq("tournament_id",W).order("registered_at",{ascending:!1});if(ae)throw ae;const ge={};ie==null||ie.forEach(me=>{var Ne;ge[me.registration_id]||(ge[me.registration_id]={registration_id:me.registration_id,tournament_id:me.tournament_id,tournament_name:((Ne=P.find(Ct=>Ct.id===me.tournament_id))==null?void 0:Ne.name)||"Unknown Tournament",player_name:me.player_name,payment_mode:me.payment_mode,registered_at:me.registered_at,status:me.status,beyblades:[]}),me.beyblade_id&&(ge[me.registration_id].beyblades.find(yn=>yn.beyblade_id===me.beyblade_id)||ge[me.registration_id].beyblades.push({beyblade_id:me.beyblade_id,beyblade_name:me.beyblade_name,blade_line:me.blade_line,parts:me.beyblade_parts||[]}))}),Z=Object.values(ge)}else if(T==="registrations"&&!W)Z=P;else{let ie=T;T==="registrations"?ie="tournament_registrations":T==="users"?ie="profiles":T==="matches"&&(ie="match_results");const{data:ae,error:ge}=await Q.from(ie).select("*").order(T==="tournaments"?"tournament_date":T==="matches"?"submitted_at":"created_at",{ascending:!1});if(ge)throw console.error(`❌ DATABASE: Error fetching ${T}:`,ge),ge;Z=ae||[]}(T!=="registrations"||W)&&Z.sort((ie,ae)=>{const ge=Object.values(ie).find(Ne=>typeof Ne=="string")||"",me=Object.values(ae).find(Ne=>typeof Ne=="string")||"";return ge.localeCompare(me)}),d(Z)}catch(Z){console.error("Error fetching table data:",Z),g(`Failed to load ${T} data. Please try again.`)}finally{h(!1)}},z=async()=>{c(!0),await Promise.all([I(),K(n,s||void 0)]),c(!1)},D=T=>{const W=JSON.stringify(u,null,2),Z=new Blob([W],{type:"application/json"}),ie=URL.createObjectURL(Z),ae=document.createElement("a");ae.href=ie,ae.download=`${T}_export_${new Date().toISOString().split("T")[0]}.json`,ae.click(),URL.revokeObjectURL(ie)},k=T=>{v(T.id||T.registration_id||T.tournament_id),_({...T})},B=async()=>{if(!(!p||!q))try{let T=n;n==="registrations"?T="tournament_registrations":n==="users"?T="profiles":n==="matches"&&(T="match_results");const{error:W}=await Q.from(T).update(b).eq("id",p);if(W){console.error("Update error:",W),W.code==="42501"||W.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${W.message}`);return}v(null),_({}),await K(n)}catch(T){console.error("Error updating row:",T),await r("Update Failed",`Failed to update record: ${T instanceof Error?T.message:"Unknown error"}. Please try again.`)}},G=async T=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let Z=n;n==="registrations"?Z="tournament_registrations":n==="users"?Z="profiles":n==="matches"&&(Z="match_results");const{error:ie}=await Q.from(Z).delete().eq("id",T);if(ie){console.error("Delete error:",ie),ie.code==="42501"||ie.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${ie.message}`);return}await Promise.all([I(),K(n,s||void 0)])}catch(Z){console.error("Error deleting row:",Z),await r("Delete Failed",`Failed to delete record: ${Z instanceof Error?Z.message:"Unknown error"}. Please try again.`)}},$=T=>{a(T),K("registrations",T)},Y=()=>{a(null),K("registrations")},le=T=>{N(T)};y.useEffect(()=>{I()},[]),y.useEffect(()=>{n==="registrations"&&a(null),K(n)},[n]);const X=u.filter(T=>A?Object.values(T).filter(Z=>typeof Z=="string").join(" ").toLowerCase().includes(A.toLowerCase()):!0),se=Math.ceil(X.length/L),R=X.slice((O-1)*L,O*L),V=()=>{var T;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>K(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(En,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(W=>o.jsxs("button",{onClick:()=>$(W.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:W.name}),o.jsx(JR,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:W.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(W.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${W.status==="upcoming"?"bg-blue-100 text-blue-800":W.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:W.status})})]},W.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:Y,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(xy,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((T=P.find(W=>W.id===s))==null?void 0:T.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(W=>{var Z;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:W.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:W.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:W.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(W.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((Z=W.payment_mode)==null?void 0:Z.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${W.status==="confirmed"?"bg-green-100 text-green-800":W.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:W.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>le(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(cn,{size:16})}),q&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>k(W),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(Ra,{size:16})}),o.jsx("button",{onClick:()=>G(W.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx($n,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[W.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:W.beyblades.length>0?W.beyblades.map((ie,ae)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:ie.beyblade_name},ae)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},W.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Mi,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:A,onChange:W=>{C(W.target.value),U(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",R.length," of ",X.length," records"]}),se>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>U(Math.max(1,O-1)),disabled:O===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",O," of ",se]}),o.jsx("button",{onClick:()=>U(Math.min(se,O+1)),disabled:O===se,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[R.length>0&&R[0]&&Object.keys(R[0]).map(W=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:W.replace(/_/g," ")},W)),q&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:R.map((W,Z)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(W).map(([ie,ae],ge)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:p===(W.id||W.registration_id||W.tournament_id)&&q?o.jsx("input",{type:"text",value:b[ie]||"",onChange:me=>_({...b,[ie]:me.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ae=="object"&&ae!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ae).length>50?JSON.stringify(ae).substring(0,50)+"...":JSON.stringify(ae)}):ae instanceof Date?ae.toLocaleString():o.jsx("span",{className:ie.includes("email")?"font-mono text-blue-600":"",children:String(ae||"")})})},ge)),q&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:p===(W.id||W.registration_id||W.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:B,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(kf,{size:16})}),o.jsx("button",{onClick:()=>{v(null),_({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(It,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>k(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(Ra,{size:16})}),o.jsx("button",{onClick:()=>G(W.id||W.registration_id||W.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx($n,{size:16})})]})})})]},W.id||Z))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(En,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:z,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(Hk,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>D(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(ZR,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(En,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:x.map(T=>o.jsxs("button",{onClick:()=>i(T.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===T.name?"bg-gradient-to-r "+T.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===T.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:hi.cloneElement(T.icon,{className:n===T.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===T.name?"text-white":"text-gray-900"}`,children:T.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===T.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:T.records})]}),o.jsx("p",{className:`text-xs ${n===T.name?"text-white/80":"text-gray-600"}`,children:T.description})]},T.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(ln,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.reduce((T,W)=>T+W.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((M=x.find(T=>T.name===n))==null?void 0:M.icon)&&hi.cloneElement(x.find(T=>T.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((E=P.find(T=>T.id===s))==null?void 0:E.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(H=x.find(T=>T.name===n))==null?void 0:H.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${X.length} records`})})]})}),V()]})})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:j.player_name})]}),o.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:j.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:j.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:j.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${j.status==="confirmed"?"bg-green-100 text-green-800":j.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Da,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(j.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(kt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.beyblades.length," Beyblades"]})]}),j.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(kt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.beyblades.map((T,W)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:T.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[T.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:W+1})})]}),T.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:T.parts.map((Z,ie)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:Z.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:Z.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:ie+1})})]},ie))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},T.beyblade_id))})]})]})]})})]})})}function pte({showHeader:e=!0}){const{user:t}=er(),{confirm:r,alert:n}=Es();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ba,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(null),[g,x]=y.useState(!0),[w,p]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(""),[_,j]=y.useState(""),[N,P]=y.useState(3),[S,A]=y.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);y.useEffect(()=>{C(),g&&U(),O()},[t]);const C=async()=>{try{const{data:R,error:V}=await Q.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(V)throw V;s(R||[])}catch(R){console.error("Error fetching presets:",R)}finally{u(!1)}};y.useEffect(()=>{g||O()},[g]);const O=async()=>{try{const[R,V,M,E,H]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);p({blades:R.data||[],ratchets:V.data||[],bits:M.data||[],lockchips:E.data||[],assistBlades:H.data||[]})}catch(R){console.error("Error fetching parts data:",R)}},U=async()=>{try{const{data:R,error:V}=await Q.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(V)throw V;l(R||[])}catch(R){console.error("Error fetching inventory:",R)}},L=R=>{switch(R){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},q=R=>{if(!g)switch(R==="Main Blade"?"Blade":R){case"Blade":return w.blades.map(M=>({id:`db-${M.Blades}`,part_type:"Blade",part_name:M.Blades,part_data:M,quantity:999}));case"Ratchet":return w.ratchets.map(M=>({id:`db-${M.Ratchet}`,part_type:"Ratchet",part_name:M.Ratchet,part_data:M,quantity:999}));case"Bit":return w.bits.map(M=>({id:`db-${M.Bit}`,part_type:"Bit",part_name:`${M.Bit} (${M.Shortcut})`,part_data:M,quantity:999}));case"Lockchip":return w.lockchips.map(M=>({id:`db-${M.Lockchip}`,part_type:"Lockchip",part_name:M.Lockchip,part_data:M,quantity:999}));case"Assist Blade":return w.assistBlades.map(M=>({id:`db-${M["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${M["Assist Blade Name"]} (${M["Assist Blade"]})`,part_data:M,quantity:999}));default:return[]}return R==="Blade"||R==="Main Blade"?a.filter(M=>M.part_type.startsWith("Blade (")&&M.part_type===`Blade (${R==="Main Blade"?"Custom":"Basic"})`):a.filter(M=>M.part_type===R)},I=(R,V)=>{var H,T,W,Z,ie,ae,ge,me;if(!R||!L(R).every(Ne=>V[Ne]))return"";if(R==="Custom"){const Ne=((H=V.Lockchip)==null?void 0:H.Lockchip)||"",Ct=((T=V["Main Blade"])==null?void 0:T.Blades)||"",yn=((W=V["Assist Blade"])==null?void 0:W["Assist Blade"])||"",Q4=((Z=V.Ratchet)==null?void 0:Z.Ratchet)||"",Z4=((ie=V.Bit)==null?void 0:ie.Shortcut)||"";return`${Ne}${Ct} ${yn}${Q4}${Z4}`}else{const Ne=((ae=V.Blade)==null?void 0:ae.Blades)||"",Ct=((ge=V.Ratchet)==null?void 0:ge.Ratchet)||"",yn=((me=V.Bit)==null?void 0:me.Shortcut)||"";return`${Ne} ${Ct}${yn}`}},K=R=>{let V={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(R).forEach(M=>{M&&(V.attack+=M.Attack||0,V.defense+=M.Defense||0,V.stamina+=M.Stamina||0,V.dash+=M.Dash||0,V.burstRes+=M["Burst Res"]||0)}),V},z=()=>{f(!0),b(""),j(""),P(3),A([{id:"1",name:"",blade_line:"Basic",parts:{}}])},D=R=>{m(R.id),b(R.name),j(R.description||""),P(R.beyblades.length),A(R.beyblades)},k=()=>{S.length<N&&A([...S,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},B=R=>{S.length>1&&A(S.filter(V=>V.id!==R))},G=(R,V,M)=>{A(S.map(E=>{if(E.id===R){const H={...E,[V]:M,parts:{}};return H.name=I(M,{}),H}return E}))},$=(R,V,M)=>{A(S.map(E=>{if(E.id===R){const H={...E.parts,[V]:M},T=I(E.blade_line,H);return{...E,parts:H,name:T}}return E}))},Y=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const R=S.filter(V=>{const M=L(V.blade_line);return V.blade_line&&M.every(E=>V.parts[E])});if(R.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const V={user_id:t.id,name:v.trim(),description:_.trim()||null,beyblades:R};if(d){const{error:M}=await Q.from("deck_presets").insert([V]);if(M)throw M}else if(h){const{error:M}=await Q.from("deck_presets").update({...V,updated_at:new Date().toISOString()}).eq("id",h);if(M)throw M}await C(),X(),await n("Success","Deck preset saved successfully!")}catch(V){console.error("Error saving preset:",V),await n("Error","Failed to save deck preset. Please try again.")}},le=async R=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:M}=await Q.from("deck_presets").delete().eq("id",R);if(M)throw M;await C()}catch(M){console.error("Error deleting preset:",M),await n("Error","Failed to delete deck preset. Please try again.")}},X=()=>{f(!1),m(null),b(""),j(""),P(3),A([{id:"1",name:"",blade_line:"Basic",parts:{}}])},se=R=>{switch(R){case"attack":return o.jsx(by,{size:12,className:"text-red-500"});case"defense":return o.jsx(ja,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Uk,{size:12,className:"text-green-500"});case"dash":return o.jsx(a0,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(qk,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(wa,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${g?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(wa,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:R=>b(R.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:_,onChange:R=>j(R.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:S.map((R,V)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",V+1]}),S.length>1&&o.jsx("button",{onClick:()=>B(R.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx($n,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:R.blade_line,onChange:M=>G(R.id,"blade_line",M.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:R.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:L(R.blade_line).map(M=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:M}),o.jsxs("select",{value:R.parts[M]?JSON.stringify(R.parts[M]):"",onChange:E=>{if(E.target.value){const H=JSON.parse(E.target.value);$(R.id,M,H)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",M]}),q(M).filter(E=>{var H;return!g&&(M==="Blade"||M==="Main Blade")&&((H=E.part_data)!=null&&H.Line)?E.part_data.Line===(M==="Main Blade"?"Custom":R.blade_line):!0}).map(E=>o.jsxs("option",{value:JSON.stringify(E.part_data),children:[E.part_name," ",g?`(Qty: ${E.quantity})`:""]},E.id))]})]},M))}),Object.keys(R.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(a0,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(K(R.parts)).map(([M,E])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:se(M)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:M==="burstRes"?"Burst Res":M}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:E})]},M))})]})]},R.id))}),S.length<5&&o.jsxs("button",{onClick:k,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(wa,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",S.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:X,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(It,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:Y,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(kf,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ba,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:z,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(R=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:R.name}),R.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:R.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>D(R),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ra,{size:16})}),o.jsx("button",{onClick:()=>le(R.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:R.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[R.beyblades.slice(0,3).map((V,M)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:V.name||`Beyblade ${M+1}`},M)),R.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",R.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(R.updated_at).toLocaleDateString()]})]},R.id))})]})}function gte(){const{user:e}=er(),{confirm:t,alert:r}=Es(),[n,i]=y.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(Xo,{size:64,className:"text-gray-400"}),o.jsx(ba,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,g]=y.useState(""),[x,w]=y.useState("all"),[p,v]=y.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[b,_]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});y.useEffect(()=>{j(),N()},[e]);const j=async()=>{try{const{data:I,error:K}=await Q.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(K)throw K;a(I||[])}catch(I){console.error("Error fetching inventory:",I)}finally{c(!1)}},N=async()=>{try{const[I,K,z,D,k]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);_({blades:I.data||[],ratchets:K.data||[],bits:z.data||[],lockchips:D.data||[],assistBlades:k.data||[]})}catch(I){console.error("Error fetching parts data:",I)}},P=I=>{let K=[];if(I.startsWith("Blade (")){const z=I.replace("Blade (","").replace(")","");K=b.blades.filter(D=>D.Line===z)}else I==="Ratchet"?K=b.ratchets:I==="Bit"?K=b.bits:I==="Lockchip"?K=b.lockchips:I==="Assist Blade"&&(K=b.assistBlades);return I==="Blade"?K=b.blades.filter(z=>z.Line!=="Custom"):I==="Blade (Custom)"?K=b.blades.filter(z=>z.Line==="Custom"):I==="Ratchet"?K=b.ratchets:I==="Bit"?K=b.bits:I==="Lockchip"?K=b.lockchips:I==="Assist Blade"&&(K=b.assistBlades),K},S=(I,K)=>{if(K.startsWith("Blade ("))return I.Blades;switch(K){case"Ratchet":return I.Ratchet;case"Bit":return`${I.Bit} (${I.Shortcut})`;case"Lockchip":return I.Lockchip;case"Assist Blade":return`${I["Assist Blade Name"]} (${I["Assist Blade"]})`;default:return""}},A=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},C=I=>{h(I.id),v({part_type:I.part_type,part_name:I.part_name,part_data:I.part_data,quantity:I.quantity,notes:I.notes||""})},O=async()=>{if(!p.part_name||!p.part_data){await r("Missing Information","Please select a part before saving.");return}try{const I={user_id:e.id,part_type:p.part_type,part_name:p.part_name,part_data:p.part_data,quantity:p.quantity,notes:p.notes||null};if(u){const{error:K}=await Q.from("user_inventory").insert([I]);if(K)throw K}else if(f){const{error:K}=await Q.from("user_inventory").update(I).eq("id",f);if(K)throw K}await j()}catch(I){console.error("Error saving inventory item:",I),await r("Error","Failed to save inventory item. Please try again.")}},U=async I=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:z}=await Q.from("user_inventory").delete().eq("id",I);if(z)throw z;await j()}catch(z){console.error("Error deleting inventory item:",z),await r("Error","Failed to delete inventory item. Please try again.")}},L=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},q=s.filter(I=>{var D;const K=I.part_name.toLowerCase().includes(m.toLowerCase())||I.notes&&I.notes.toLowerCase().includes(m.toLowerCase());let z=!1;if(x==="all")z=!0;else if(x.startsWith("Blade (")){const k=x.replace("Blade (","").replace(")","");z=I.part_type==="Blade"&&((D=I.part_data)==null?void 0:D.Line)===k}else z=I.part_type===x;return K&&z});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Xo,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ba,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(pte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Xo,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ba,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(wa,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Mi,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:I=>g(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(e$,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:x,onChange:I=>w(I.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:p.part_type,onChange:I=>v({...p,part_type:I.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:p.part_data?JSON.stringify(p.part_data):"",onChange:I=>{if(I.target.value){const K=JSON.parse(I.target.value);v({...p,part_name:S(K,p.part_type),part_data:K})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(p.part_type).map((I,K)=>o.jsx("option",{value:JSON.stringify(I),children:S(I,p.part_type)},K))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:p.quantity,onChange:I=>v({...p,quantity:parseInt(I.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:p.notes,onChange:I=>v({...p,notes:I.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:L,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(It,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(kf,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),q.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Xo,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:A,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:q.map(I=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:I.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:I.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>C(I),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ra,{size:16})}),o.jsx("button",{onClick:()=>U(I.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:I.quantity})]}),I.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:I.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(I.created_at).toLocaleDateString()]})]}),I.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(I.part_data).map(([K,z])=>typeof z=="number"&&z>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(K)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[K,":"]}),o.jsx("span",{className:"font-medium",children:z})]},K):null)})})]},I.id))})]})}function yte(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[i,s]=y.useState(""),[a,l]=y.useState("name"),[c,u]=y.useState("asc"),[d,f]=y.useState("grid"),[h,m]=y.useState(null),[g,x]=y.useState("lockchips"),[w,p]=y.useState(""),[v,b]=y.useState(""),_=["lockchips","blades (custom)","blades","ratchets","bits"];y.useEffect(()=>{j()},[]);const j=async()=>{n(!0);try{const[L,q,I,K,z]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]),D=[];(L.data||[]).forEach(k=>{D.push({id:`blade-${k.Blades}`,name:k.Blades,category:"Blade",role:k.Type,line:k.Line,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(q.data||[]).forEach(k=>{D.push({id:`ratchet-${k.Ratchet}`,name:k.Ratchet,category:"Ratchet",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(I.data||[]).forEach(k=>{D.push({id:`bit-${k.Bit}`,name:`${k.Bit} (${k.Shortcut})`,category:"Bit",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:k.Dash||0,burstRes:k["Burst Res"]||0},data:k})}),(K.data||[]).forEach(k=>{D.push({id:`lockchip-${k.Lockchip}`,name:k.Lockchip,category:"Lockchip",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(z.data||[]).forEach(k=>{D.push({id:`assistblade-${k["Assist Blade"]}`,name:`${k["Assist Blade Name"]} (${k["Assist Blade"]})`,category:"Assist Blade",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),t(D)}catch(L){console.error("Error fetching parts:",L)}finally{n(!1)}},N=L=>{switch(L){case"attack":return o.jsx(by,{size:16,className:"text-red-500"});case"defense":return o.jsx(ja,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Uk,{size:16,className:"text-green-500"});case"dash":return o.jsx(a0,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(qk,{size:16,className:"text-purple-500"});default:return null}},A=e.filter(L=>L.name.toLowerCase().includes(i.toLowerCase())).sort((L,q)=>{let I,K;return a==="name"?(I=L.name,K=q.name):a==="role"?(I=L.role||"",K=q.role||""):(I=L.stats[a],K=q.stats[a]),typeof I=="string"&&typeof K=="string"?c==="asc"?I.localeCompare(K):K.localeCompare(I):c==="asc"?I-K:K-I}).filter(L=>{var q,I,K;return g==="blades (custom)"?L.category==="Blade"&&((q=L.line)==null?void 0:q.toLowerCase())==="custom":g==="blades"?v?L.category==="Blade"&&((K=L.line)==null?void 0:K.toLowerCase())===v.toLowerCase():L.category==="Blade"&&["basic","unique","x-over"].includes(((I=L.line)==null?void 0:I.toLowerCase())||""):g==="lockchips"?L.category==="Lockchip":g==="ratchets"?L.category==="Ratchet":g==="bits"?L.category==="Bit":!0}).filter(L=>w?(L.role||"").toLowerCase()===w:!0),C={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},O=L=>{switch(L){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},U=L=>{const q=C[L.category]||"",I=O(L.category),K=encodeURIComponent(L.data[I]),z=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${q}/${K}.png`;return o.jsxs("div",{onClick:()=>m(L),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:z,alt:L.name,width:128,height:128,loading:"lazy",onError:D=>{const k=D.target,B=document.createElement("div");B.textContent="Picture Not Available",B.className="text-gray-400 text-xs text-center",k.replaceWith(B)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:L.name}),L.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:L.role})]}),L.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:L.line})]},L.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(t$,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(n$,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Mi,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:L=>s(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:L=>p(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:_.map(L=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${g===L?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>x(L),children:L},L))}),g==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:L=>b(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),A.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(En,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:A.map(U)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(g==="bits"?["dash","burstRes"]:[]).map(L=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${L==="name"?"text-left":"text-center"}`,onClick:()=>{l(L),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:L}),o.jsx("span",{className:"w-4 inline-block",children:a===L&&(c==="asc"?"▲":"▼")})]})},L)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:L.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.stamina}),g==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},L.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(It,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([L])=>h.category==="Bit"?!0:!["dash","burstRes"].includes(L)).map(([L,q])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:N(L)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:L}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:q})]},L))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${C[h.category]}/${encodeURIComponent(h.data[O(h.category)])}.png`,alt:h.name,onError:L=>{const q=L.target,I=document.createElement("div");I.textContent="Picture Not Available",I.className="text-gray-400 text-sm text-center",q.replaceWith(I)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function vte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(nt,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Build your team and compete together"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(nt,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Compete not just as players, but as teams. The Team Manager will bring team-based tournaments, performance analytics, and name tag customization so every blader can proudly represent their squad."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ja,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and battle in team vs team competitions"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ln,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Analytics"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Track your team’s performance and stats"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(c$,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Name Tags"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Show off your team name on your profile"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team vs team tournaments"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Name tag integration for players"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Team play is coming soon — get ready to represent your squad!"})]})})]})})}function xte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx($w,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Give every community its own space to grow and connect"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx($w,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, the Community Manager will let any Beyblade community build their own hub within the app — not just Ormoc. Each community will be able to host tournaments, track stats, and celebrate milestones while staying connected to the larger network. Perfect for growing local groups and strengthening bonds between bladers everywhere."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(nt,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Local Hubs"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Communities can set up their own space in the app"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Da,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Tournaments"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Run and track events within each community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(o$,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Spotlight achievements and community milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(cc,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Stats"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track growth, matches, and engagement"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Create and manage your own community hub"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community-specific tournaments and leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Local community stats and growth analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Recognition for members and organizers"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Tools to welcome and onboard new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"This feature is in active development."})]})})]})})}function bte(){var b;const[e,t]=y.useState("tournament"),[r,n]=y.useState([]),[i,s]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1);y.useEffect(()=>{h()},[]),y.useEffect(()=>{i&&e==="tournament"?m():e==="global"&&g()},[i,e]);const h=async()=>{try{const{data:_,error:j}=await Q.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(j)throw j;n(_||[]),_&&_.length>0&&s(_[0].id)}catch(_){console.error("Error fetching tournaments:",_)}finally{u(!1)}},m=async()=>{if(i)try{const{data:_,error:j}=await Q.from("match_sessions").select("*").eq("tournament_id",i);if(j)throw j;if(!_||_.length===0){l([]);return}const N={};_.forEach(A=>{const{player1_name:C,player2_name:O,winner_name:U,player1_final_score:L,player2_final_score:q}=A;N[C]||(N[C]={wins:0,losses:0,score:0,pointsFor:0,pointsAgainst:0,opponents:[],winsAgainst:{}}),N[O]||(N[O]={wins:0,losses:0,score:0,pointsFor:0,pointsAgainst:0,opponents:[],winsAgainst:{}}),U===C?(N[C].wins++,N[C].score+=1,N[O].losses++,N[C].winsAgainst[O]=(N[C].winsAgainst[O]||0)+1):U===O&&(N[O].wins++,N[O].score+=1,N[C].losses++,N[O].winsAgainst[C]=(N[O].winsAgainst[C]||0)+1),N[C].pointsFor+=L||0,N[C].pointsAgainst+=q||0,N[O].pointsFor+=q||0,N[O].pointsAgainst+=L||0,N[C].opponents.includes(O)||N[C].opponents.push(O),N[O].opponents.includes(C)||N[O].opponents.push(C)}),Object.keys(N).forEach(A=>{const C=N[A].opponents,O=[];C.forEach(L=>{N[L]&&O.push(N[L].score)}),O.length>2&&(O.sort((L,q)=>L-q),O.shift(),O.pop());const U=O.reduce((L,q)=>L+q,0);N[A].buchholz=U});const P={};Object.keys(N).forEach(A=>{const C=N[A].score;P[C]||(P[C]=[]),P[C].push(A)}),Object.values(P).forEach(A=>{A.length>1?A.forEach(C=>{let O=0;A.forEach(U=>{U!==C&&(O+=N[C].winsAgainst[U]||0)}),N[C].tb=O}):N[A[0]].tb=0});const S=Object.entries(N).map(([A,C])=>{const O=C.wins+C.losses,U=O>0?C.wins/O*100:0,L=C.pointsFor-C.pointsAgainst,q=C.buchholz||0,I=C.tb||0;return{participant:A,matchWins:C.wins,matchLosses:C.losses,score:C.score,tb:I,buchholz:q,ptsDiff:L,totalMatches:O,winRate:U,rank:0}});S.sort((A,C)=>C.score!==A.score?C.score-A.score:C.tb!==A.tb?C.tb-A.tb:C.buchholz!==A.buchholz?C.buchholz-A.buchholz:C.ptsDiff!==A.ptsDiff?C.ptsDiff-A.ptsDiff:0),S.forEach((A,C)=>{A.rank=C+1}),l(S)}catch(_){console.error("Error fetching tournament leaderboard:",_),l([])}},g=async()=>{try{const{data:_,error:j}=await Q.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(j)throw j;const N=(_||[]).filter(A=>{var C;return!((C=A.tournaments)!=null&&C.is_practice)});if(N.length===0){l([]);return}const P={};N.forEach(A=>{const{player1_name:C,player2_name:O,winner_name:U,points_awarded:L,tournament_id:q}=A;P[C]||(P[C]={wins:0,losses:0,totalPoints:0,pointsAgainst:0,tournaments:new Set}),P[O]||(P[O]={wins:0,losses:0,totalPoints:0,pointsAgainst:0,tournaments:new Set}),P[C].tournaments.add(q),P[O].tournaments.add(q);const I=L||0;U===C?(P[C].wins++,P[C].totalPoints+=I,P[O].losses++,P[O].pointsAgainst+=I):U===O&&(P[O].wins++,P[O].totalPoints+=I,P[C].losses++,P[C].pointsAgainst+=I)});const S=Object.entries(P).map(([A,C])=>{const O=C.wins+C.losses,U=O>0?C.wins/O*100:0,L=C.totalPoints-C.pointsAgainst;return{participant:A,matchWins:C.wins,matchLosses:C.losses,score:C.totalPoints,tb:C.wins,buchholz:C.tournaments.size,ptsDiff:L,totalMatches:O,winRate:U,rank:0}});S.sort((A,C)=>C.score!==A.score?C.score-A.score:C.tb!==A.tb?C.tb-A.tb:C.buchholz!==A.buchholz?C.buchholz-A.buchholz:C.ptsDiff-A.ptsDiff),S.forEach((A,C)=>{A.rank=C+1}),l(S)}catch(_){console.error("Error fetching global leaderboard:",_),l([])}},x=async()=>{f(!0),e==="tournament"&&i?await m():e==="global"&&await g(),f(!1)},w=_=>{t(_),l([])},p=_=>{switch(_){case 1:return"text-yellow-600 font-bold";case 2:return"text-gray-500 font-bold";case 3:return"text-orange-600 font-bold";default:return"text-gray-900"}},v=_=>{switch(_){case 1:return o.jsx(dd,{size:20,className:"text-yellow-500"});case 2:return o.jsx(Lw,{size:20,className:"text-gray-400"});case 3:return o.jsx(Lw,{size:20,className:"text-orange-500"});default:return o.jsxs("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-bold text-gray-600",children:["#",_]})}};return c?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading leaderboards..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(dd,{size:32,className:"mr-3 text-yellow-600"}),"Leaderboards"]}),o.jsx("p",{className:"page-subtitle",children:"Tournament rankings and player standings"})]}),o.jsxs("button",{onClick:x,disabled:d,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(Hk,{size:16,className:d?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]})]})}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-8",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>w("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(kt,{size:16,className:"mr-1"})," Tournament"]}),o.jsxs("button",{onClick:()=>w("global"),className:`filter-tab ${e==="global"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(io,{size:16,className:"mr-1"})," Global"]}),o.jsxs("button",{onClick:()=>w("community"),className:`filter-tab ${e==="community"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(nt,{size:16,className:"mr-1"})," Community"]})]}),e==="tournament"&&o.jsxs("div",{className:"flex items-center gap-2 w-full justify-end md:ml-auto",children:[o.jsx("label",{className:"text-sm text-gray-600",children:"Tournament:"}),o.jsxs("select",{value:i,onChange:_=>s(_.target.value),className:"border border-gray-300 rounded-lg px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(_=>o.jsxs("option",{value:_.id,children:[_.name," (",_.status,") - ",new Date(_.tournament_date).toLocaleDateString()]},_.id))]})]})]})}),e==="community"&&o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-2 border-blue-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(nt,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-blue-900 mb-4",children:"Community Leaderboards"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-blue-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will have their own leaderboards to track local champions and rising stars. Compare performance within your community and see who's dominating the local meta."}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-blue-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-blue-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Community-specific rankings"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Local tournament leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-blue-500 rounded-full mr-3"}),"Community comparison tools"]})]})]})]})}),(e==="tournament"||e==="global")&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(cc,{size:24,className:"mr-2 text-gray-700"}),e==="tournament"?`${((b=r.find(_=>_.id===i))==null?void 0:b.name)||"Tournament"} Leaderboard`:"Global Leaderboard"]}),o.jsxs("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:[a.length," participants"]})]})}),a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ln,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsx("p",{className:"text-gray-500",children:e==="tournament"&&!i?"Please select a tournament to view its leaderboard":"No match results found for leaderboard calculation"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Participant"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match W-L"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"TB"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Buchholz"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pts Diff"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(_=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[v(_.rank),o.jsx("span",{className:`font-bold ${p(_.rank)}`,children:_.rank<=3?"":`#${_.rank}`})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:_.participant.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.participant}),o.jsxs("div",{className:"text-sm text-gray-500",children:[_.winRate.toFixed(1),"% win rate"]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-green-600 font-medium",children:_.matchWins}),o.jsx("span",{className:"text-gray-400 mx-1",children:"-"}),o.jsx("span",{className:"text-red-600 font-medium",children:_.matchLosses})]}),o.jsxs("div",{className:"text-xs text-gray-500",children:[_.totalMatches," total"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-lg font-bold text-blue-600",children:_.score})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.tb})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-sm font-medium text-gray-900",children:_.buchholz})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsxs("div",{className:`text-sm font-medium ${_.ptsDiff>0?"text-green-600":_.ptsDiff<0?"text-red-600":"text-gray-600"}`,children:[_.ptsDiff>0?"+":"",_.ptsDiff]})})]},_.participant))})]})})]})]})})}function wte(){const[e,t]=y.useState("dashboard"),[r,n]=y.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(aj,{onViewChange:t});case"tournaments":return o.jsx(wF,{});case"inventory":return o.jsx(gte,{});case"analytics":return o.jsx(dte,{});case"parts-database":return o.jsx(yte,{});case"team-manager":return o.jsx(vte,{});case"community-manager":return o.jsx(xte,{});case"leaderboards":return o.jsx(bte,{});case"tournament-manager":return o.jsx(fte,{});case"user-management":return o.jsx(hte,{});case"database":return o.jsx(mte,{});default:return o.jsx(aj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(s$,{size:24})}),o.jsx(h$,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function jte(){return o.jsx(HR,{children:o.jsx(qR,{children:o.jsx(wte,{})})})}pk(document.getElementById("root")).render(o.jsx(y.StrictMode,{children:o.jsx(jte,{})}));
