var WR=Object.defineProperty;var VR=(e,t,r)=>t in e?WR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var sm=(e,t,r)=>VR(e,typeof t!="symbol"?t+"":t,r);function KR(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function HR(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var VP={exports:{}},Pf={},KP={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bc=Symbol.for("react.element"),qR=Symbol.for("react.portal"),GR=Symbol.for("react.fragment"),YR=Symbol.for("react.strict_mode"),XR=Symbol.for("react.profiler"),JR=Symbol.for("react.provider"),QR=Symbol.for("react.context"),ZR=Symbol.for("react.forward_ref"),eD=Symbol.for("react.suspense"),tD=Symbol.for("react.memo"),rD=Symbol.for("react.lazy"),Gb=Symbol.iterator;function nD(e){return e===null||typeof e!="object"?null:(e=Gb&&e[Gb]||e["@@iterator"],typeof e=="function"?e:null)}var HP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qP=Object.assign,GP={};function vo(e,t,r){this.props=e,this.context=t,this.refs=GP,this.updater=r||HP}vo.prototype.isReactComponent={};vo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};vo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function YP(){}YP.prototype=vo.prototype;function Hy(e,t,r){this.props=e,this.context=t,this.refs=GP,this.updater=r||HP}var qy=Hy.prototype=new YP;qy.constructor=Hy;qP(qy,vo.prototype);qy.isPureReactComponent=!0;var Yb=Array.isArray,XP=Object.prototype.hasOwnProperty,Gy={current:null},JP={key:!0,ref:!0,__self:!0,__source:!0};function QP(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)XP.call(t,n)&&!JP.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:bc,type:e,key:s,ref:a,props:i,_owner:Gy.current}}function iD(e,t){return{$$typeof:bc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yy(e){return typeof e=="object"&&e!==null&&e.$$typeof===bc}function sD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xb=/\/+/g;function am(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sD(""+e.key):t.toString(36)}function Uu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case bc:case qR:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+am(a,0):n,Yb(i)?(r="",e!=null&&(r=e.replace(Xb,"$&/")+"/"),Uu(i,t,r,"",function(u){return u})):i!=null&&(Yy(i)&&(i=iD(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Xb,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Yb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+am(s,l);a+=Uu(s,t,r,c,i)}else if(c=nD(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+am(s,l++),a+=Uu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function tu(e,t,r){if(e==null)return e;var n=[],i=0;return Uu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function aD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},Wu={transition:null},oD={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:Wu,ReactCurrentOwner:Gy};function ZP(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:tu,forEach:function(e,t,r){tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return tu(e,function(){t++}),t},toArray:function(e){return tu(e,function(t){return t})||[]},only:function(e){if(!Yy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=vo;ge.Fragment=GR;ge.Profiler=XR;ge.PureComponent=Hy;ge.StrictMode=YR;ge.Suspense=eD;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oD;ge.act=ZP;ge.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=qP({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Gy.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)XP.call(t,c)&&!JP.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:bc,type:e.type,key:i,ref:s,props:n,_owner:a}};ge.createContext=function(e){return e={$$typeof:QR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:JR,_context:e},e.Consumer=e};ge.createElement=QP;ge.createFactory=function(e){var t=QP.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:ZR,render:e}};ge.isValidElement=Yy;ge.lazy=function(e){return{$$typeof:rD,_payload:{_status:-1,_result:e},_init:aD}};ge.memo=function(e,t){return{$$typeof:tD,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=Wu.transition;Wu.transition={};try{e()}finally{Wu.transition=t}};ge.unstable_act=ZP;ge.useCallback=function(e,t){return Xt.current.useCallback(e,t)};ge.useContext=function(e){return Xt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Xt.current.useEffect(e,t)};ge.useId=function(){return Xt.current.useId()};ge.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};ge.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Xt.current.useMemo(e,t)};ge.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};ge.useRef=function(e){return Xt.current.useRef(e)};ge.useState=function(e){return Xt.current.useState(e)};ge.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};ge.useTransition=function(){return Xt.current.useTransition()};ge.version="18.3.1";KP.exports=ge;var v=KP.exports;const bn=Hr(v),lD=KR({__proto__:null,default:bn},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cD=v,uD=Symbol.for("react.element"),dD=Symbol.for("react.fragment"),fD=Object.prototype.hasOwnProperty,hD=cD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,mD={key:!0,ref:!0,__self:!0,__source:!0};function e_(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)fD.call(t,n)&&!mD.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:uD,type:e,key:s,ref:a,props:i,_owner:hD.current}}Pf.Fragment=dD;Pf.jsx=e_;Pf.jsxs=e_;VP.exports=Pf;var o=VP.exports,t_={exports:{}},Pr={},r_={exports:{}},n_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(F,I){var H=F.length;F.push(I);e:for(;0<H;){var re=H-1>>>1,J=F[re];if(0<i(J,I))F[re]=I,F[H]=J,H=re;else break e}}function r(F){return F.length===0?null:F[0]}function n(F){if(F.length===0)return null;var I=F[0],H=F.pop();if(H!==I){F[0]=H;e:for(var re=0,J=F.length,ye=J>>>1;re<ye;){var G=2*(re+1)-1,ie=F[G],de=G+1,W=F[de];if(0>i(ie,H))de<J&&0>i(W,ie)?(F[re]=W,F[de]=H,re=de):(F[re]=ie,F[G]=H,re=G);else if(de<J&&0>i(W,H))F[re]=W,F[de]=H,re=de;else break e}}return I}function i(F,I){var H=F.sortIndex-I.sortIndex;return H!==0?H:F.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var I=r(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=F)n(u),I.sortIndex=I.expirationTime,t(c,I);else break;I=r(u)}}function j(F){if(y=!1,w(F),!p)if(r(c)!==null)p=!0,z(S);else{var I=r(u);I!==null&&L(j,I.startTime-F)}}function S(F,I){p=!1,y&&(y=!1,g(E),E=-1),m=!0;var H=h;try{for(w(I),f=r(c);f!==null&&(!(f.expirationTime>I)||F&&!_());){var re=f.callback;if(typeof re=="function"){f.callback=null,h=f.priorityLevel;var J=re(f.expirationTime<=I);I=e.unstable_now(),typeof J=="function"?f.callback=J:f===r(c)&&n(c),w(I)}else n(c);f=r(c)}if(f!==null)var ye=!0;else{var G=r(u);G!==null&&L(j,G.startTime-I),ye=!1}return ye}finally{f=null,h=H,m=!1}}var N=!1,P=null,E=-1,R=5,M=-1;function _(){return!(e.unstable_now()-M<R)}function D(){if(P!==null){var F=e.unstable_now();M=F;var I=!0;try{I=P(!0,F)}finally{I?T():(N=!1,P=null)}}else N=!1}var T;if(typeof x=="function")T=function(){x(D)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,A=O.port2;O.port1.onmessage=D,T=function(){A.postMessage(null)}}else T=function(){b(D,0)};function z(F){P=F,N||(N=!0,T())}function L(F,I){E=b(function(){F(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,z(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var H=h;h=I;try{return F()}finally{h=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,I){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var H=h;h=F;try{return I()}finally{h=H}},e.unstable_scheduleCallback=function(F,I,H){var re=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?re+H:re):H=re,F){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=H+J,F={id:d++,callback:I,priorityLevel:F,startTime:H,expirationTime:J,sortIndex:-1},H>re?(F.sortIndex=H,t(u,F),r(c)===null&&F===r(u)&&(y?(g(E),E=-1):y=!0,L(j,H-re))):(F.sortIndex=J,t(c,F),p||m||(p=!0,z(S))),F},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(F){var I=h;return function(){var H=h;h=I;try{return F.apply(this,arguments)}finally{h=H}}}})(n_);r_.exports=n_;var pD=r_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gD=v,br=pD;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,Ll={};function qs(e,t){Va(e,t),Va(e+"Capture",t)}function Va(e,t){for(Ll[e]=t,e=0;e<t.length;e++)i_.add(t[e])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=Object.prototype.hasOwnProperty,yD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jb={},Qb={};function vD(e){return Ap.call(Qb,e)?!0:Ap.call(Jb,e)?!1:yD.test(e)?Qb[e]=!0:(Jb[e]=!0,!1)}function xD(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function bD(e,t,r,n){if(t===null||typeof t>"u"||xD(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ot[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ot[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ot[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ot[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ot[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ot[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ot[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ot[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ot[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Xy=/[\-:]([a-z])/g;function Jy(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Xy,Jy);Ot[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Xy,Jy);Ot[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Xy,Jy);Ot[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ot[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ot[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qy(e,t,r,n){var i=Ot.hasOwnProperty(t)?Ot[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(bD(t,r,i,n)&&(r=null),n||i===null?vD(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ii=gD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ru=Symbol.for("react.element"),fa=Symbol.for("react.portal"),ha=Symbol.for("react.fragment"),Zy=Symbol.for("react.strict_mode"),Op=Symbol.for("react.profiler"),s_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),e0=Symbol.for("react.forward_ref"),Cp=Symbol.for("react.suspense"),Tp=Symbol.for("react.suspense_list"),t0=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),o_=Symbol.for("react.offscreen"),Zb=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Zb&&e[Zb]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,om;function cl(e){if(om===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);om=t&&t[1]||""}return`
`+om+e}var lm=!1;function cm(e,t){if(!e||lm)return"";lm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{lm=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cl(e):""}function wD(e){switch(e.tag){case 5:return cl(e.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return e=cm(e.type,!1),e;case 11:return e=cm(e.type.render,!1),e;case 1:return e=cm(e.type,!0),e;default:return""}}function Mp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ha:return"Fragment";case fa:return"Portal";case Op:return"Profiler";case Zy:return"StrictMode";case Cp:return"Suspense";case Tp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case a_:return(e.displayName||"Context")+".Consumer";case s_:return(e._context.displayName||"Context")+".Provider";case e0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case t0:return t=e.displayName||null,t!==null?t:Mp(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Mp(e(t))}catch{}}return null}function jD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mp(t);case 8:return t===Zy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Li(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function l_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function SD(e){var t=l_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function nu(e){e._valueTracker||(e._valueTracker=SD(e))}function c_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=l_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function od(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Rp(e,t){var r=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ew(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Li(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function u_(e,t){t=t.checked,t!=null&&Qy(e,"checked",t,!1)}function Dp(e,t){u_(e,t);var r=Li(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$p(e,t.type,r):t.hasOwnProperty("defaultValue")&&$p(e,t.type,Li(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function tw(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function $p(e,t,r){(t!=="number"||od(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ul=Array.isArray;function Ra(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Li(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ip(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function rw(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(q(92));if(ul(r)){if(1<r.length)throw Error(q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Li(r)}}function d_(e,t){var r=Li(t.value),n=Li(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function nw(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function f_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?f_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var iu,h_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(iu=iu||document.createElement("div"),iu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=iu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ND=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){ND.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function m_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function p_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=m_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var PD=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Bp(e,t){if(t){if(PD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Fp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zp=null;function r0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Up=null,Da=null,$a=null;function iw(e){if(e=Sc(e)){if(typeof Up!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Of(t),Up(e.stateNode,e.type,t))}}function g_(e){Da?$a?$a.push(e):$a=[e]:Da=e}function y_(){if(Da){var e=Da,t=$a;if($a=Da=null,iw(e),t)for(e=0;e<t.length;e++)iw(t[e])}}function v_(e,t){return e(t)}function x_(){}var um=!1;function b_(e,t,r){if(um)return e(t,r);um=!0;try{return v_(e,t,r)}finally{um=!1,(Da!==null||$a!==null)&&(x_(),y_())}}function Fl(e,t){var r=e.stateNode;if(r===null)return null;var n=Of(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var Wp=!1;if(Hn)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Wp=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Wp=!1}function _D(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xl=!1,ld=null,cd=!1,Vp=null,kD={onError:function(e){xl=!0,ld=e}};function ED(e,t,r,n,i,s,a,l,c){xl=!1,ld=null,_D.apply(kD,arguments)}function AD(e,t,r,n,i,s,a,l,c){if(ED.apply(this,arguments),xl){if(xl){var u=ld;xl=!1,ld=null}else throw Error(q(198));cd||(cd=!0,Vp=u)}}function Gs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function w_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sw(e){if(Gs(e)!==e)throw Error(q(188))}function OD(e){var t=e.alternate;if(!t){if(t=Gs(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return sw(i),e;if(s===n)return sw(i),t;s=s.sibling}throw Error(q(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function j_(e){return e=OD(e),e!==null?S_(e):null}function S_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=S_(e);if(t!==null)return t;e=e.sibling}return null}var N_=br.unstable_scheduleCallback,aw=br.unstable_cancelCallback,CD=br.unstable_shouldYield,TD=br.unstable_requestPaint,nt=br.unstable_now,MD=br.unstable_getCurrentPriorityLevel,n0=br.unstable_ImmediatePriority,P_=br.unstable_UserBlockingPriority,ud=br.unstable_NormalPriority,RD=br.unstable_LowPriority,__=br.unstable_IdlePriority,_f=null,wn=null;function DD(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(_f,e,void 0,(e.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:LD,$D=Math.log,ID=Math.LN2;function LD(e){return e>>>=0,e===0?32:31-($D(e)/ID|0)|0}var su=64,au=4194304;function dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=dl(l):(s&=a,s!==0&&(n=dl(s)))}else a=r&~i,a!==0?n=dl(a):s!==0&&(n=dl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ln(t),i=1<<r,n|=e[r],t&=~i;return n}function BD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FD(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ln(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=BD(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function Kp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function k_(){var e=su;return su<<=1,!(su&4194240)&&(su=64),e}function dm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function wc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ln(t),e[t]=r}function zD(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-ln(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function i0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ln(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ee=0;function E_(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var A_,s0,O_,C_,T_,Hp=!1,ou=[],Ei=null,Ai=null,Oi=null,zl=new Map,Ul=new Map,ji=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ow(e,t){switch(e){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Ko(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Sc(t),t!==null&&s0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function WD(e,t,r,n,i){switch(t){case"focusin":return Ei=Ko(Ei,e,t,r,n,i),!0;case"dragenter":return Ai=Ko(Ai,e,t,r,n,i),!0;case"mouseover":return Oi=Ko(Oi,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return zl.set(s,Ko(zl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Ko(Ul.get(s)||null,e,t,r,n,i)),!0}return!1}function M_(e){var t=ps(e.target);if(t!==null){var r=Gs(t);if(r!==null){if(t=r.tag,t===13){if(t=w_(r),t!==null){e.blockedOn=t,T_(e.priority,function(){O_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Vu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zp=n,r.target.dispatchEvent(n),zp=null}else return t=Sc(r),t!==null&&s0(t),e.blockedOn=r,!1;t.shift()}return!0}function lw(e,t,r){Vu(e)&&r.delete(t)}function VD(){Hp=!1,Ei!==null&&Vu(Ei)&&(Ei=null),Ai!==null&&Vu(Ai)&&(Ai=null),Oi!==null&&Vu(Oi)&&(Oi=null),zl.forEach(lw),Ul.forEach(lw)}function Ho(e,t){e.blockedOn===t&&(e.blockedOn=null,Hp||(Hp=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,VD)))}function Wl(e){function t(i){return Ho(i,e)}if(0<ou.length){Ho(ou[0],e);for(var r=1;r<ou.length;r++){var n=ou[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ei!==null&&Ho(Ei,e),Ai!==null&&Ho(Ai,e),Oi!==null&&Ho(Oi,e),zl.forEach(t),Ul.forEach(t),r=0;r<ji.length;r++)n=ji[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ji.length&&(r=ji[0],r.blockedOn===null);)M_(r),r.blockedOn===null&&ji.shift()}var Ia=ii.ReactCurrentBatchConfig,fd=!0;function KD(e,t,r,n){var i=Ee,s=Ia.transition;Ia.transition=null;try{Ee=1,a0(e,t,r,n)}finally{Ee=i,Ia.transition=s}}function HD(e,t,r,n){var i=Ee,s=Ia.transition;Ia.transition=null;try{Ee=4,a0(e,t,r,n)}finally{Ee=i,Ia.transition=s}}function a0(e,t,r,n){if(fd){var i=qp(e,t,r,n);if(i===null)wm(e,t,n,hd,r),ow(e,n);else if(WD(i,e,t,r,n))n.stopPropagation();else if(ow(e,n),t&4&&-1<UD.indexOf(e)){for(;i!==null;){var s=Sc(i);if(s!==null&&A_(s),s=qp(e,t,r,n),s===null&&wm(e,t,n,hd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else wm(e,t,n,null,r)}}var hd=null;function qp(e,t,r,n){if(hd=null,e=r0(n),e=ps(e),e!==null)if(t=Gs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=w_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return hd=e,null}function R_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(MD()){case n0:return 1;case P_:return 4;case ud:case RD:return 16;case __:return 536870912;default:return 16}default:return 16}}var _i=null,o0=null,Ku=null;function D_(){if(Ku)return Ku;var e,t=o0,r=t.length,n,i="value"in _i?_i.value:_i.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Ku=i.slice(e,1<n?1-n:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function lu(){return!0}function cw(){return!1}function _r(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?lu:cw,this.isPropagationStopped=cw,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=lu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=lu)},persist:function(){},isPersistent:lu}),t}var xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l0=_r(xo),jc=Ge({},xo,{view:0,detail:0}),qD=_r(jc),fm,hm,qo,kf=Ge({},jc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qo&&(qo&&e.type==="mousemove"?(fm=e.screenX-qo.screenX,hm=e.screenY-qo.screenY):hm=fm=0,qo=e),fm)},movementY:function(e){return"movementY"in e?e.movementY:hm}}),uw=_r(kf),GD=Ge({},kf,{dataTransfer:0}),YD=_r(GD),XD=Ge({},jc,{relatedTarget:0}),mm=_r(XD),JD=Ge({},xo,{animationName:0,elapsedTime:0,pseudoElement:0}),QD=_r(JD),ZD=Ge({},xo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),e$=_r(ZD),t$=Ge({},xo,{data:0}),dw=_r(t$),r$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},n$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i$[e])?!!t[e]:!1}function c0(){return s$}var a$=Ge({},jc,{key:function(e){if(e.key){var t=r$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?n$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c0,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),o$=_r(a$),l$=Ge({},kf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fw=_r(l$),c$=Ge({},jc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c0}),u$=_r(c$),d$=Ge({},xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),f$=_r(d$),h$=Ge({},kf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),m$=_r(h$),p$=[9,13,27,32],u0=Hn&&"CompositionEvent"in window,bl=null;Hn&&"documentMode"in document&&(bl=document.documentMode);var g$=Hn&&"TextEvent"in window&&!bl,$_=Hn&&(!u0||bl&&8<bl&&11>=bl),hw=" ",mw=!1;function I_(e,t){switch(e){case"keyup":return p$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L_(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function y$(e,t){switch(e){case"compositionend":return L_(t);case"keypress":return t.which!==32?null:(mw=!0,hw);case"textInput":return e=t.data,e===hw&&mw?null:e;default:return null}}function v$(e,t){if(ma)return e==="compositionend"||!u0&&I_(e,t)?(e=D_(),Ku=o0=_i=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $_&&t.locale!=="ko"?null:t.data;default:return null}}var x$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!x$[e.type]:t==="textarea"}function B_(e,t,r,n){g_(n),t=md(t,"onChange"),0<t.length&&(r=new l0("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wl=null,Vl=null;function b$(e){X_(e,0)}function Ef(e){var t=ya(e);if(c_(t))return e}function w$(e,t){if(e==="change")return t}var F_=!1;if(Hn){var pm;if(Hn){var gm="oninput"in document;if(!gm){var gw=document.createElement("div");gw.setAttribute("oninput","return;"),gm=typeof gw.oninput=="function"}pm=gm}else pm=!1;F_=pm&&(!document.documentMode||9<document.documentMode)}function yw(){wl&&(wl.detachEvent("onpropertychange",z_),Vl=wl=null)}function z_(e){if(e.propertyName==="value"&&Ef(Vl)){var t=[];B_(t,Vl,e,r0(e)),b_(b$,t)}}function j$(e,t,r){e==="focusin"?(yw(),wl=t,Vl=r,wl.attachEvent("onpropertychange",z_)):e==="focusout"&&yw()}function S$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ef(Vl)}function N$(e,t){if(e==="click")return Ef(t)}function P$(e,t){if(e==="input"||e==="change")return Ef(t)}function _$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var un=typeof Object.is=="function"?Object.is:_$;function Kl(e,t){if(un(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ap.call(t,i)||!un(e[i],t[i]))return!1}return!0}function vw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xw(e,t){var r=vw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=vw(r)}}function U_(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?U_(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function W_(){for(var e=window,t=od();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=od(e.document)}return t}function d0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function k$(e){var t=W_(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&U_(r.ownerDocument.documentElement,r)){if(n!==null&&d0(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=xw(r,s);var a=xw(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var E$=Hn&&"documentMode"in document&&11>=document.documentMode,pa=null,Gp=null,jl=null,Yp=!1;function bw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Yp||pa==null||pa!==od(n)||(n=pa,"selectionStart"in n&&d0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jl&&Kl(jl,n)||(jl=n,n=md(Gp,"onSelect"),0<n.length&&(t=new l0("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=pa)))}function cu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ga={animationend:cu("Animation","AnimationEnd"),animationiteration:cu("Animation","AnimationIteration"),animationstart:cu("Animation","AnimationStart"),transitionend:cu("Transition","TransitionEnd")},ym={},V_={};Hn&&(V_=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Af(e){if(ym[e])return ym[e];if(!ga[e])return e;var t=ga[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in V_)return ym[e]=t[r];return e}var K_=Af("animationend"),H_=Af("animationiteration"),q_=Af("animationstart"),G_=Af("transitionend"),Y_=new Map,ww="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(e,t){Y_.set(e,t),qs(t,[e])}for(var vm=0;vm<ww.length;vm++){var xm=ww[vm],A$=xm.toLowerCase(),O$=xm[0].toUpperCase()+xm.slice(1);Vi(A$,"on"+O$)}Vi(K_,"onAnimationEnd");Vi(H_,"onAnimationIteration");Vi(q_,"onAnimationStart");Vi("dblclick","onDoubleClick");Vi("focusin","onFocus");Vi("focusout","onBlur");Vi(G_,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),C$=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function jw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,AD(n,t,void 0,e),e.currentTarget=null}function X_(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;jw(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;jw(i,l,u),s=c}}}if(cd)throw e=Vp,cd=!1,Vp=null,e}function Be(e,t){var r=t[eg];r===void 0&&(r=t[eg]=new Set);var n=e+"__bubble";r.has(n)||(J_(t,e,2,!1),r.add(n))}function bm(e,t,r){var n=0;t&&(n|=4),J_(r,e,n,t)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Hl(e){if(!e[uu]){e[uu]=!0,i_.forEach(function(r){r!=="selectionchange"&&(C$.has(r)||bm(r,!1,e),bm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[uu]||(t[uu]=!0,bm("selectionchange",!1,t))}}function J_(e,t,r,n){switch(R_(t)){case 1:var i=KD;break;case 4:i=HD;break;default:i=a0}r=i.bind(null,t,r,e),i=void 0,!Wp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function wm(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=ps(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}b_(function(){var u=s,d=r0(r),f=[];e:{var h=Y_.get(e);if(h!==void 0){var m=l0,p=e;switch(e){case"keypress":if(Hu(r)===0)break e;case"keydown":case"keyup":m=o$;break;case"focusin":p="focus",m=mm;break;case"focusout":p="blur",m=mm;break;case"beforeblur":case"afterblur":m=mm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=uw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=YD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=u$;break;case K_:case H_:case q_:m=QD;break;case G_:m=f$;break;case"scroll":m=qD;break;case"wheel":m=m$;break;case"copy":case"cut":case"paste":m=e$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=fw}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?h!==null?h+"Capture":null:h;y=[];for(var x=u,w;x!==null;){w=x;var j=w.stateNode;if(w.tag===5&&j!==null&&(w=j,g!==null&&(j=Fl(x,g),j!=null&&y.push(ql(x,j,w)))),b)break;x=x.return}0<y.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==zp&&(p=r.relatedTarget||r.fromElement)&&(ps(p)||p[qn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?ps(p):null,p!==null&&(b=Gs(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(y=uw,j="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=fw,j="onPointerLeave",g="onPointerEnter",x="pointer"),b=m==null?h:ya(m),w=p==null?h:ya(p),h=new y(j,x+"leave",m,r,d),h.target=b,h.relatedTarget=w,j=null,ps(d)===u&&(y=new y(g,x+"enter",p,r,d),y.target=w,y.relatedTarget=b,j=y),b=j,m&&p)t:{for(y=m,g=p,x=0,w=y;w;w=ra(w))x++;for(w=0,j=g;j;j=ra(j))w++;for(;0<x-w;)y=ra(y),x--;for(;0<w-x;)g=ra(g),w--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=ra(y),g=ra(g)}y=null}else y=null;m!==null&&Sw(f,h,m,y,!1),p!==null&&b!==null&&Sw(f,b,p,y,!0)}}e:{if(h=u?ya(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=w$;else if(pw(h))if(F_)S=P$;else{S=S$;var N=j$}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=N$);if(S&&(S=S(e,u))){B_(f,S,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&$p(h,"number",h.value)}switch(N=u?ya(u):window,e){case"focusin":(pw(N)||N.contentEditable==="true")&&(pa=N,Gp=u,jl=null);break;case"focusout":jl=Gp=pa=null;break;case"mousedown":Yp=!0;break;case"contextmenu":case"mouseup":case"dragend":Yp=!1,bw(f,r,d);break;case"selectionchange":if(E$)break;case"keydown":case"keyup":bw(f,r,d)}var P;if(u0)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else ma?I_(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&($_&&r.locale!=="ko"&&(ma||E!=="onCompositionStart"?E==="onCompositionEnd"&&ma&&(P=D_()):(_i=d,o0="value"in _i?_i.value:_i.textContent,ma=!0)),N=md(u,E),0<N.length&&(E=new dw(E,e,null,r,d),f.push({event:E,listeners:N}),P?E.data=P:(P=L_(r),P!==null&&(E.data=P)))),(P=g$?y$(e,r):v$(e,r))&&(u=md(u,"onBeforeInput"),0<u.length&&(d=new dw("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}X_(f,t)})}function ql(e,t,r){return{instance:e,listener:t,currentTarget:r}}function md(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fl(e,r),s!=null&&n.unshift(ql(e,s,i)),s=Fl(e,t),s!=null&&n.push(ql(e,s,i))),e=e.return}return n}function ra(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sw(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Fl(r,s),c!=null&&a.unshift(ql(r,c,l))):i||(c=Fl(r,s),c!=null&&a.push(ql(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var T$=/\r\n?/g,M$=/\u0000|\uFFFD/g;function Nw(e){return(typeof e=="string"?e:""+e).replace(T$,`
`).replace(M$,"")}function du(e,t,r){if(t=Nw(t),Nw(e)!==t&&r)throw Error(q(425))}function pd(){}var Xp=null,Jp=null;function Qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,R$=typeof clearTimeout=="function"?clearTimeout:void 0,Pw=typeof Promise=="function"?Promise:void 0,D$=typeof queueMicrotask=="function"?queueMicrotask:typeof Pw<"u"?function(e){return Pw.resolve(null).then(e).catch($$)}:Zp;function $$(e){setTimeout(function(){throw e})}function jm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wl(t)}function Ci(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _w(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var bo=Math.random().toString(36).slice(2),pn="__reactFiber$"+bo,Gl="__reactProps$"+bo,qn="__reactContainer$"+bo,eg="__reactEvents$"+bo,I$="__reactListeners$"+bo,L$="__reactHandles$"+bo;function ps(e){var t=e[pn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[qn]||r[pn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=_w(e);e!==null;){if(r=e[pn])return r;e=_w(e)}return t}e=r,r=e.parentNode}return null}function Sc(e){return e=e[pn]||e[qn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ya(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Of(e){return e[Gl]||null}var tg=[],va=-1;function Ki(e){return{current:e}}function ze(e){0>va||(e.current=tg[va],tg[va]=null,va--)}function De(e,t){va++,tg[va]=e.current,e.current=t}var Bi={},Bt=Ki(Bi),lr=Ki(!1),Ds=Bi;function Ka(e,t){var r=e.type.contextTypes;if(!r)return Bi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cr(e){return e=e.childContextTypes,e!=null}function gd(){ze(lr),ze(Bt)}function kw(e,t,r){if(Bt.current!==Bi)throw Error(q(168));De(Bt,t),De(lr,r)}function Q_(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(q(108,jD(e)||"Unknown",i));return Ge({},r,n)}function yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Bi,Ds=Bt.current,De(Bt,e),De(lr,lr.current),!0}function Ew(e,t,r){var n=e.stateNode;if(!n)throw Error(q(169));r?(e=Q_(e,t,Ds),n.__reactInternalMemoizedMergedChildContext=e,ze(lr),ze(Bt),De(Bt,e)):ze(lr),De(lr,r)}var $n=null,Cf=!1,Sm=!1;function Z_(e){$n===null?$n=[e]:$n.push(e)}function B$(e){Cf=!0,Z_(e)}function Hi(){if(!Sm&&$n!==null){Sm=!0;var e=0,t=Ee;try{var r=$n;for(Ee=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}$n=null,Cf=!1}catch(i){throw $n!==null&&($n=$n.slice(e+1)),N_(n0,Hi),i}finally{Ee=t,Sm=!1}}return null}var xa=[],ba=0,vd=null,xd=0,Dr=[],$r=0,$s=null,Ln=1,Bn="";function os(e,t){xa[ba++]=xd,xa[ba++]=vd,vd=e,xd=t}function ek(e,t,r){Dr[$r++]=Ln,Dr[$r++]=Bn,Dr[$r++]=$s,$s=e;var n=Ln;e=Bn;var i=32-ln(n)-1;n&=~(1<<i),r+=1;var s=32-ln(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ln=1<<32-ln(t)+i|r<<i|n,Bn=s+e}else Ln=1<<s|r<<i|n,Bn=e}function f0(e){e.return!==null&&(os(e,1),ek(e,1,0))}function h0(e){for(;e===vd;)vd=xa[--ba],xa[ba]=null,xd=xa[--ba],xa[ba]=null;for(;e===$s;)$s=Dr[--$r],Dr[$r]=null,Bn=Dr[--$r],Dr[$r]=null,Ln=Dr[--$r],Dr[$r]=null}var vr=null,yr=null,We=!1,nn=null;function tk(e,t){var r=Lr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Aw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,vr=e,yr=Ci(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,vr=e,yr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=$s!==null?{id:Ln,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,vr=e,yr=null,!0):!1;default:return!1}}function rg(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ng(e){if(We){var t=yr;if(t){var r=t;if(!Aw(e,t)){if(rg(e))throw Error(q(418));t=Ci(r.nextSibling);var n=vr;t&&Aw(e,t)?tk(n,r):(e.flags=e.flags&-4097|2,We=!1,vr=e)}}else{if(rg(e))throw Error(q(418));e.flags=e.flags&-4097|2,We=!1,vr=e}}}function Ow(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;vr=e}function fu(e){if(e!==vr)return!1;if(!We)return Ow(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qp(e.type,e.memoizedProps)),t&&(t=yr)){if(rg(e))throw rk(),Error(q(418));for(;t;)tk(e,t),t=Ci(t.nextSibling)}if(Ow(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){yr=Ci(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}yr=null}}else yr=vr?Ci(e.stateNode.nextSibling):null;return!0}function rk(){for(var e=yr;e;)e=Ci(e.nextSibling)}function Ha(){yr=vr=null,We=!1}function m0(e){nn===null?nn=[e]:nn.push(e)}var F$=ii.ReactCurrentBatchConfig;function Go(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,e))}return e}function hu(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cw(e){var t=e._init;return t(e._payload)}function nk(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function r(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function n(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function i(g,x){return g=Di(g,x),g.index=0,g.sibling=null,g}function s(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,x,w,j){return x===null||x.tag!==6?(x=Om(w,g.mode,j),x.return=g,x):(x=i(x,w),x.return=g,x)}function c(g,x,w,j){var S=w.type;return S===ha?d(g,x,w.props.children,j,w.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xi&&Cw(S)===x.type)?(j=i(x,w.props),j.ref=Go(g,x,w),j.return=g,j):(j=Zu(w.type,w.key,w.props,null,g.mode,j),j.ref=Go(g,x,w),j.return=g,j)}function u(g,x,w,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=Cm(w,g.mode,j),x.return=g,x):(x=i(x,w.children||[]),x.return=g,x)}function d(g,x,w,j,S){return x===null||x.tag!==7?(x=_s(w,g.mode,j,S),x.return=g,x):(x=i(x,w),x.return=g,x)}function f(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Om(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ru:return w=Zu(x.type,x.key,x.props,null,g.mode,w),w.ref=Go(g,null,x),w.return=g,w;case fa:return x=Cm(x,g.mode,w),x.return=g,x;case xi:var j=x._init;return f(g,j(x._payload),w)}if(ul(x)||Wo(x))return x=_s(x,g.mode,w,null),x.return=g,x;hu(g,x)}return null}function h(g,x,w,j){var S=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:l(g,x,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ru:return w.key===S?c(g,x,w,j):null;case fa:return w.key===S?u(g,x,w,j):null;case xi:return S=w._init,h(g,x,S(w._payload),j)}if(ul(w)||Wo(w))return S!==null?null:d(g,x,w,j,null);hu(g,w)}return null}function m(g,x,w,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return g=g.get(w)||null,l(x,g,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ru:return g=g.get(j.key===null?w:j.key)||null,c(x,g,j,S);case fa:return g=g.get(j.key===null?w:j.key)||null,u(x,g,j,S);case xi:var N=j._init;return m(g,x,w,N(j._payload),S)}if(ul(j)||Wo(j))return g=g.get(w)||null,d(x,g,j,S,null);hu(x,j)}return null}function p(g,x,w,j){for(var S=null,N=null,P=x,E=x=0,R=null;P!==null&&E<w.length;E++){P.index>E?(R=P,P=null):R=P.sibling;var M=h(g,P,w[E],j);if(M===null){P===null&&(P=R);break}e&&P&&M.alternate===null&&t(g,P),x=s(M,x,E),N===null?S=M:N.sibling=M,N=M,P=R}if(E===w.length)return r(g,P),We&&os(g,E),S;if(P===null){for(;E<w.length;E++)P=f(g,w[E],j),P!==null&&(x=s(P,x,E),N===null?S=P:N.sibling=P,N=P);return We&&os(g,E),S}for(P=n(g,P);E<w.length;E++)R=m(P,g,E,w[E],j),R!==null&&(e&&R.alternate!==null&&P.delete(R.key===null?E:R.key),x=s(R,x,E),N===null?S=R:N.sibling=R,N=R);return e&&P.forEach(function(_){return t(g,_)}),We&&os(g,E),S}function y(g,x,w,j){var S=Wo(w);if(typeof S!="function")throw Error(q(150));if(w=S.call(w),w==null)throw Error(q(151));for(var N=S=null,P=x,E=x=0,R=null,M=w.next();P!==null&&!M.done;E++,M=w.next()){P.index>E?(R=P,P=null):R=P.sibling;var _=h(g,P,M.value,j);if(_===null){P===null&&(P=R);break}e&&P&&_.alternate===null&&t(g,P),x=s(_,x,E),N===null?S=_:N.sibling=_,N=_,P=R}if(M.done)return r(g,P),We&&os(g,E),S;if(P===null){for(;!M.done;E++,M=w.next())M=f(g,M.value,j),M!==null&&(x=s(M,x,E),N===null?S=M:N.sibling=M,N=M);return We&&os(g,E),S}for(P=n(g,P);!M.done;E++,M=w.next())M=m(P,g,E,M.value,j),M!==null&&(e&&M.alternate!==null&&P.delete(M.key===null?E:M.key),x=s(M,x,E),N===null?S=M:N.sibling=M,N=M);return e&&P.forEach(function(D){return t(g,D)}),We&&os(g,E),S}function b(g,x,w,j){if(typeof w=="object"&&w!==null&&w.type===ha&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ru:e:{for(var S=w.key,N=x;N!==null;){if(N.key===S){if(S=w.type,S===ha){if(N.tag===7){r(g,N.sibling),x=i(N,w.props.children),x.return=g,g=x;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===xi&&Cw(S)===N.type){r(g,N.sibling),x=i(N,w.props),x.ref=Go(g,N,w),x.return=g,g=x;break e}r(g,N);break}else t(g,N);N=N.sibling}w.type===ha?(x=_s(w.props.children,g.mode,j,w.key),x.return=g,g=x):(j=Zu(w.type,w.key,w.props,null,g.mode,j),j.ref=Go(g,x,w),j.return=g,g=j)}return a(g);case fa:e:{for(N=w.key;x!==null;){if(x.key===N)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){r(g,x.sibling),x=i(x,w.children||[]),x.return=g,g=x;break e}else{r(g,x);break}else t(g,x);x=x.sibling}x=Cm(w,g.mode,j),x.return=g,g=x}return a(g);case xi:return N=w._init,b(g,x,N(w._payload),j)}if(ul(w))return p(g,x,w,j);if(Wo(w))return y(g,x,w,j);hu(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(r(g,x.sibling),x=i(x,w),x.return=g,g=x):(r(g,x),x=Om(w,g.mode,j),x.return=g,g=x),a(g)):r(g,x)}return b}var qa=nk(!0),ik=nk(!1),bd=Ki(null),wd=null,wa=null,p0=null;function g0(){p0=wa=wd=null}function y0(e){var t=bd.current;ze(bd),e._currentValue=t}function ig(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function La(e,t){wd=e,p0=wa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function Ur(e){var t=e._currentValue;if(p0!==e)if(e={context:e,memoizedValue:t,next:null},wa===null){if(wd===null)throw Error(q(308));wa=e,wd.dependencies={lanes:0,firstContext:e}}else wa=wa.next=e;return t}var gs=null;function v0(e){gs===null?gs=[e]:gs.push(e)}function sk(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,v0(t)):(r.next=i.next,i.next=r),t.interleaved=r,Gn(e,n)}function Gn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bi=!1;function x0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ak(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Un(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ti(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,we&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Gn(e,r)}return i=n.interleaved,i===null?(t.next=t,v0(n)):(t.next=i.next,i.next=t),n.interleaved=t,Gn(e,r)}function qu(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i0(e,r)}}function Tw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function jd(e,t,r,n){var i=e.updateQueue;bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,y=l;switch(h=t,m=r,y.tag){case 1:if(p=y.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Ge({},f,h);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Ls|=a,e.lanes=a,e.memoizedState=f}}function Mw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(q(191,i));i.call(n)}}}var Nc={},jn=Ki(Nc),Yl=Ki(Nc),Xl=Ki(Nc);function ys(e){if(e===Nc)throw Error(q(174));return e}function b0(e,t){switch(De(Xl,t),De(Yl,e),De(jn,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lp(t,e)}ze(jn),De(jn,t)}function Ga(){ze(jn),ze(Yl),ze(Xl)}function ok(e){ys(Xl.current);var t=ys(jn.current),r=Lp(t,e.type);t!==r&&(De(Yl,e),De(jn,r))}function w0(e){Yl.current===e&&(ze(jn),ze(Yl))}var Ke=Ki(0);function Sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nm=[];function j0(){for(var e=0;e<Nm.length;e++)Nm[e]._workInProgressVersionPrimary=null;Nm.length=0}var Gu=ii.ReactCurrentDispatcher,Pm=ii.ReactCurrentBatchConfig,Is=0,qe=null,ut=null,xt=null,Nd=!1,Sl=!1,Jl=0,z$=0;function Ct(){throw Error(q(321))}function S0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!un(e[r],t[r]))return!1;return!0}function N0(e,t,r,n,i,s){if(Is=s,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gu.current=e===null||e.memoizedState===null?K$:H$,e=r(n,i),Sl){s=0;do{if(Sl=!1,Jl=0,25<=s)throw Error(q(301));s+=1,xt=ut=null,t.updateQueue=null,Gu.current=q$,e=r(n,i)}while(Sl)}if(Gu.current=Pd,t=ut!==null&&ut.next!==null,Is=0,xt=ut=qe=null,Nd=!1,t)throw Error(q(300));return e}function P0(){var e=Jl!==0;return Jl=0,e}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?qe.memoizedState=xt=e:xt=xt.next=e,xt}function Wr(){if(ut===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ut.next;var t=xt===null?qe.memoizedState:xt.next;if(t!==null)xt=t,ut=e;else{if(e===null)throw Error(q(310));ut=e,e={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},xt===null?qe.memoizedState=xt=e:xt=xt.next=e}return xt}function Ql(e,t){return typeof t=="function"?t(e):t}function _m(e){var t=Wr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Is&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,qe.lanes|=d,Ls|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,un(n,t.memoizedState)||(sr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,qe.lanes|=s,Ls|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function km(e){var t=Wr(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);un(s,t.memoizedState)||(sr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function lk(){}function ck(e,t){var r=qe,n=Wr(),i=t(),s=!un(n.memoizedState,i);if(s&&(n.memoizedState=i,sr=!0),n=n.queue,_0(fk.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Zl(9,dk.bind(null,r,n,i,t),void 0,null),St===null)throw Error(q(349));Is&30||uk(r,t,i)}return i}function uk(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function dk(e,t,r,n){t.value=r,t.getSnapshot=n,hk(t)&&mk(e)}function fk(e,t,r){return r(function(){hk(t)&&mk(e)})}function hk(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!un(e,r)}catch{return!0}}function mk(e){var t=Gn(e,1);t!==null&&cn(t,e,1,-1)}function Rw(e){var t=mn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:e},t.queue=e,e=e.dispatch=V$.bind(null,qe,e),[t.memoizedState,e]}function Zl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function pk(){return Wr().memoizedState}function Yu(e,t,r,n){var i=mn();qe.flags|=e,i.memoizedState=Zl(1|t,r,void 0,n===void 0?null:n)}function Tf(e,t,r,n){var i=Wr();n=n===void 0?null:n;var s=void 0;if(ut!==null){var a=ut.memoizedState;if(s=a.destroy,n!==null&&S0(n,a.deps)){i.memoizedState=Zl(t,r,s,n);return}}qe.flags|=e,i.memoizedState=Zl(1|t,r,s,n)}function Dw(e,t){return Yu(8390656,8,e,t)}function _0(e,t){return Tf(2048,8,e,t)}function gk(e,t){return Tf(4,2,e,t)}function yk(e,t){return Tf(4,4,e,t)}function vk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function xk(e,t,r){return r=r!=null?r.concat([e]):null,Tf(4,4,vk.bind(null,t,e),r)}function k0(){}function bk(e,t){var r=Wr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&S0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function wk(e,t){var r=Wr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&S0(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jk(e,t,r){return Is&21?(un(r,t)||(r=k_(),qe.lanes|=r,Ls|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=r)}function U$(e,t){var r=Ee;Ee=r!==0&&4>r?r:4,e(!0);var n=Pm.transition;Pm.transition={};try{e(!1),t()}finally{Ee=r,Pm.transition=n}}function Sk(){return Wr().memoizedState}function W$(e,t,r){var n=Ri(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Nk(e))Pk(t,r);else if(r=sk(e,t,r,n),r!==null){var i=Gt();cn(r,e,n,i),_k(r,t,n)}}function V$(e,t,r){var n=Ri(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Nk(e))Pk(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,un(l,a)){var c=t.interleaved;c===null?(i.next=i,v0(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=sk(e,t,i,n),r!==null&&(i=Gt(),cn(r,e,n,i),_k(r,t,n))}}function Nk(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Pk(e,t){Sl=Nd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _k(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,i0(e,r)}}var Pd={readContext:Ur,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},K$={readContext:Ur,useCallback:function(e,t){return mn().memoizedState=[e,t===void 0?null:t],e},useContext:Ur,useEffect:Dw,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Yu(4194308,4,vk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Yu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yu(4,2,e,t)},useMemo:function(e,t){var r=mn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=mn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=W$.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=mn();return e={current:e},t.memoizedState=e},useState:Rw,useDebugValue:k0,useDeferredValue:function(e){return mn().memoizedState=e},useTransition:function(){var e=Rw(!1),t=e[0];return e=U$.bind(null,e[1]),mn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,i=mn();if(We){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),St===null)throw Error(q(349));Is&30||uk(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Dw(fk.bind(null,n,s,e),[e]),n.flags|=2048,Zl(9,dk.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=mn(),t=St.identifierPrefix;if(We){var r=Bn,n=Ln;r=(n&~(1<<32-ln(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=z$++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},H$={readContext:Ur,useCallback:bk,useContext:Ur,useEffect:_0,useImperativeHandle:xk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:wk,useReducer:_m,useRef:pk,useState:function(){return _m(Ql)},useDebugValue:k0,useDeferredValue:function(e){var t=Wr();return jk(t,ut.memoizedState,e)},useTransition:function(){var e=_m(Ql)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:lk,useSyncExternalStore:ck,useId:Sk,unstable_isNewReconciler:!1},q$={readContext:Ur,useCallback:bk,useContext:Ur,useEffect:_0,useImperativeHandle:xk,useInsertionEffect:gk,useLayoutEffect:yk,useMemo:wk,useReducer:km,useRef:pk,useState:function(){return km(Ql)},useDebugValue:k0,useDeferredValue:function(e){var t=Wr();return ut===null?t.memoizedState=e:jk(t,ut.memoizedState,e)},useTransition:function(){var e=km(Ql)[0],t=Wr().memoizedState;return[e,t]},useMutableSource:lk,useSyncExternalStore:ck,useId:Sk,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function sg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Mf={isMounted:function(e){return(e=e._reactInternals)?Gs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Ri(e),s=Un(n,i);s.payload=t,r!=null&&(s.callback=r),t=Ti(e,s,i),t!==null&&(cn(t,e,i,n),qu(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Ri(e),s=Un(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Ti(e,s,i),t!==null&&(cn(t,e,i,n),qu(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gt(),n=Ri(e),i=Un(r,n);i.tag=2,t!=null&&(i.callback=t),t=Ti(e,i,n),t!==null&&(cn(t,e,n,r),qu(t,e,n))}};function $w(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kl(r,n)||!Kl(i,s):!0}function kk(e,t,r){var n=!1,i=Bi,s=t.contextType;return typeof s=="object"&&s!==null?s=Ur(s):(i=cr(t)?Ds:Bt.current,n=t.contextTypes,s=(n=n!=null)?Ka(e,i):Bi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Mf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Iw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Mf.enqueueReplaceState(t,t.state,null)}function ag(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},x0(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Ur(s):(s=cr(t)?Ds:Bt.current,i.context=Ka(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(sg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Mf.enqueueReplaceState(i,i.state,null),jd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ya(e,t){try{var r="",n=t;do r+=wD(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Em(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function og(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var G$=typeof WeakMap=="function"?WeakMap:Map;function Ek(e,t,r){r=Un(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){kd||(kd=!0,yg=n),og(e,t)},r}function Ak(e,t,r){r=Un(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){og(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){og(e,t),typeof n!="function"&&(Mi===null?Mi=new Set([this]):Mi.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Lw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new G$;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=l6.bind(null,e,t,r),t.then(e,e))}function Bw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Fw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Un(-1,1),t.tag=2,Ti(r,t,1))),r.lanes|=1),e)}var Y$=ii.ReactCurrentOwner,sr=!1;function Vt(e,t,r,n){t.child=e===null?ik(t,null,r,n):qa(t,e.child,r,n)}function zw(e,t,r,n,i){r=r.render;var s=t.ref;return La(t,i),n=N0(e,t,r,n,s,i),r=P0(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(We&&r&&f0(t),t.flags|=1,Vt(e,t,n,i),t.child)}function Uw(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!D0(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Ok(e,t,s,n,i)):(e=Zu(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(a,n)&&e.ref===t.ref)return Yn(e,t,i)}return t.flags|=1,e=Di(s,n),e.ref=t.ref,e.return=t,t.child=e}function Ok(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Kl(s,n)&&e.ref===t.ref)if(sr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Yn(e,t,i)}return lg(e,t,r,n,i)}function Ck(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(Sa,pr),pr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,De(Sa,pr),pr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,De(Sa,pr),pr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,De(Sa,pr),pr|=n;return Vt(e,t,i,r),t.child}function Tk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lg(e,t,r,n,i){var s=cr(r)?Ds:Bt.current;return s=Ka(t,s),La(t,i),r=N0(e,t,r,n,s,i),n=P0(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Yn(e,t,i)):(We&&n&&f0(t),t.flags|=1,Vt(e,t,r,i),t.child)}function Ww(e,t,r,n,i){if(cr(r)){var s=!0;yd(t)}else s=!1;if(La(t,i),t.stateNode===null)Xu(e,t),kk(t,r,n),ag(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ur(u):(u=cr(r)?Ds:Bt.current,u=Ka(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Iw(t,a,n,u),bi=!1;var h=t.memoizedState;a.state=h,jd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||lr.current||bi?(typeof d=="function"&&(sg(t,r,d,n),c=t.memoizedState),(l=bi||$w(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,ak(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:en(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ur(c):(c=cr(r)?Ds:Bt.current,c=Ka(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Iw(t,a,n,c),bi=!1,h=t.memoizedState,a.state=h,jd(t,n,a,i);var p=t.memoizedState;l!==f||h!==p||lr.current||bi?(typeof m=="function"&&(sg(t,r,m,n),p=t.memoizedState),(u=bi||$w(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return cg(e,t,r,n,s,i)}function cg(e,t,r,n,i,s){Tk(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&Ew(t,r,!1),Yn(e,t,s);n=t.stateNode,Y$.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=qa(t,e.child,null,s),t.child=qa(t,null,l,s)):Vt(e,t,l,s),t.memoizedState=n.state,i&&Ew(t,r,!0),t.child}function Mk(e){var t=e.stateNode;t.pendingContext?kw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&kw(e,t.context,!1),b0(e,t.containerInfo)}function Vw(e,t,r,n,i){return Ha(),m0(i),t.flags|=256,Vt(e,t,r,n),t.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function dg(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rk(e,t,r){var n=t.pendingProps,i=Ke.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),De(Ke,i&1),e===null)return ng(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=$f(a,n,0,null),e=_s(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=dg(r),t.memoizedState=ug,e):E0(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return X$(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Di(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Di(l,s):(s=_s(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?dg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=ug,n}return s=e.child,e=s.sibling,n=Di(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function E0(e,t){return t=$f({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function mu(e,t,r,n){return n!==null&&m0(n),qa(t,e.child,null,r),e=E0(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function X$(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Em(Error(q(422))),mu(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=$f({mode:"visible",children:n.children},i,0,null),s=_s(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&qa(t,e.child,null,a),t.child.memoizedState=dg(a),t.memoizedState=ug,s);if(!(t.mode&1))return mu(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(q(419)),n=Em(s,n,void 0),mu(e,t,a,n)}if(l=(a&e.childLanes)!==0,sr||l){if(n=St,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gn(e,i),cn(n,e,i,-1))}return R0(),n=Em(Error(q(421))),mu(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=c6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,yr=Ci(i.nextSibling),vr=t,We=!0,nn=null,e!==null&&(Dr[$r++]=Ln,Dr[$r++]=Bn,Dr[$r++]=$s,Ln=e.id,Bn=e.overflow,$s=t),t=E0(t,n.children),t.flags|=4096,t)}function Kw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ig(e.return,t,r)}function Am(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function Dk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Vt(e,t,n.children,r),n=Ke.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kw(e,r,t);else if(e.tag===19)Kw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(De(Ke,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Sd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Am(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Sd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Am(t,!0,r,null,s);break;case"together":Am(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ls|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Di(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Di(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function J$(e,t,r){switch(t.tag){case 3:Mk(t),Ha();break;case 5:ok(t);break;case 1:cr(t.type)&&yd(t);break;case 4:b0(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;De(bd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(De(Ke,Ke.current&1),t.flags|=128,null):r&t.child.childLanes?Rk(e,t,r):(De(Ke,Ke.current&1),e=Yn(e,t,r),e!==null?e.sibling:null);De(Ke,Ke.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Dk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),De(Ke,Ke.current),n)break;return null;case 22:case 23:return t.lanes=0,Ck(e,t,r)}return Yn(e,t,r)}var $k,fg,Ik,Lk;$k=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fg=function(){};Ik=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,ys(jn.current);var s=null;switch(r){case"input":i=Rp(e,i),n=Rp(e,n),s=[];break;case"select":i=Ge({},i,{value:void 0}),n=Ge({},n,{value:void 0}),s=[];break;case"textarea":i=Ip(e,i),n=Ip(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=pd)}Bp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Be("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};Lk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yo(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Q$(e,t,r){var n=t.pendingProps;switch(h0(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return cr(t.type)&&gd(),Tt(t),null;case 3:return n=t.stateNode,Ga(),ze(lr),ze(Bt),j0(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nn!==null&&(bg(nn),nn=null))),fg(e,t),Tt(t),null;case 5:w0(t);var i=ys(Xl.current);if(r=t.type,e!==null&&t.stateNode!=null)Ik(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(q(166));return Tt(t),null}if(e=ys(jn.current),fu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[pn]=t,n[Gl]=s,e=(t.mode&1)!==0,r){case"dialog":Be("cancel",n),Be("close",n);break;case"iframe":case"object":case"embed":Be("load",n);break;case"video":case"audio":for(i=0;i<fl.length;i++)Be(fl[i],n);break;case"source":Be("error",n);break;case"img":case"image":case"link":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"input":ew(n,s),Be("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Be("invalid",n);break;case"textarea":rw(n,s),Be("invalid",n)}Bp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&du(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&du(n.textContent,l,e),i=["children",""+l]):Ll.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Be("scroll",n)}switch(r){case"input":nu(n),tw(n,s,!0);break;case"textarea":nu(n),nw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=pd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=f_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[pn]=t,e[Gl]=n,$k(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fp(r,n),r){case"dialog":Be("cancel",e),Be("close",e),i=n;break;case"iframe":case"object":case"embed":Be("load",e),i=n;break;case"video":case"audio":for(i=0;i<fl.length;i++)Be(fl[i],e);i=n;break;case"source":Be("error",e),i=n;break;case"img":case"image":case"link":Be("error",e),Be("load",e),i=n;break;case"details":Be("toggle",e),i=n;break;case"input":ew(e,n),i=Rp(e,n),Be("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ge({},n,{value:void 0}),Be("invalid",e);break;case"textarea":rw(e,n),i=Ip(e,n),Be("invalid",e);break;default:i=n}Bp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?p_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&h_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ll.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Be("scroll",e):c!=null&&Qy(e,s,c,a))}switch(r){case"input":nu(e),tw(e,n,!1);break;case"textarea":nu(e),nw(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Li(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ra(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ra(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=pd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)Lk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(r=ys(Xl.current),ys(jn.current),fu(t)){if(n=t.stateNode,r=t.memoizedProps,n[pn]=t,(s=n.nodeValue!==r)&&(e=vr,e!==null))switch(e.tag){case 3:du(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&du(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pn]=t,t.stateNode=n}return Tt(t),null;case 13:if(ze(Ke),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&yr!==null&&t.mode&1&&!(t.flags&128))rk(),Ha(),t.flags|=98560,s=!1;else if(s=fu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[pn]=t}else Ha(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else nn!==null&&(bg(nn),nn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?dt===0&&(dt=3):R0())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return Ga(),fg(e,t),e===null&&Hl(t.stateNode.containerInfo),Tt(t),null;case 10:return y0(t.type._context),Tt(t),null;case 17:return cr(t.type)&&gd(),Tt(t),null;case 19:if(ze(Ke),s=t.memoizedState,s===null)return Tt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Yo(s,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Sd(e),a!==null){for(t.flags|=128,Yo(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return De(Ke,Ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&nt()>Xa&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304)}else{if(!n)if(e=Sd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!We)return Tt(t),null}else 2*nt()-s.renderingStartTime>Xa&&r!==1073741824&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=nt(),t.sibling=null,r=Ke.current,De(Ke,n?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return M0(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pr&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function Z$(e,t){switch(h0(t),t.tag){case 1:return cr(t.type)&&gd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ga(),ze(lr),ze(Bt),j0(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return w0(t),null;case 13:if(ze(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Ha()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ze(Ke),null;case 4:return Ga(),null;case 10:return y0(t.type._context),null;case 22:case 23:return M0(),null;case 24:return null;default:return null}}var pu=!1,Dt=!1,e6=typeof WeakSet=="function"?WeakSet:Set,se=null;function ja(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Qe(e,t,n)}else r.current=null}function hg(e,t,r){try{r()}catch(n){Qe(e,t,n)}}var Hw=!1;function t6(e,t){if(Xp=fd,e=W_(),d0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jp={focusedElem:e,selectionRange:r},fd=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,b=p.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:en(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(j){Qe(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return p=Hw,Hw=!1,p}function Nl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hg(t,r,s)}i=i.next}while(i!==n)}}function Rf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Bk(e){var t=e.alternate;t!==null&&(e.alternate=null,Bk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[pn],delete t[Gl],delete t[eg],delete t[I$],delete t[L$])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Fk(e){return e.tag===5||e.tag===3||e.tag===4}function qw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=pd));else if(n!==4&&(e=e.child,e!==null))for(pg(e,t,r),e=e.sibling;e!==null;)pg(e,t,r),e=e.sibling}function gg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gg(e,t,r),e=e.sibling;e!==null;)gg(e,t,r),e=e.sibling}var _t=null,tn=!1;function fi(e,t,r){for(r=r.child;r!==null;)zk(e,t,r),r=r.sibling}function zk(e,t,r){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(_f,r)}catch{}switch(r.tag){case 5:Dt||ja(r,t);case 6:var n=_t,i=tn;_t=null,fi(e,t,r),_t=n,tn=i,_t!==null&&(tn?(e=_t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):_t.removeChild(r.stateNode));break;case 18:_t!==null&&(tn?(e=_t,r=r.stateNode,e.nodeType===8?jm(e.parentNode,r):e.nodeType===1&&jm(e,r),Wl(e)):jm(_t,r.stateNode));break;case 4:n=_t,i=tn,_t=r.stateNode.containerInfo,tn=!0,fi(e,t,r),_t=n,tn=i;break;case 0:case 11:case 14:case 15:if(!Dt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hg(r,t,a),i=i.next}while(i!==n)}fi(e,t,r);break;case 1:if(!Dt&&(ja(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Qe(r,t,l)}fi(e,t,r);break;case 21:fi(e,t,r);break;case 22:r.mode&1?(Dt=(n=Dt)||r.memoizedState!==null,fi(e,t,r),Dt=n):fi(e,t,r);break;default:fi(e,t,r)}}function Gw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new e6),t.forEach(function(n){var i=u6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Jr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:_t=l.stateNode,tn=!1;break e;case 3:_t=l.stateNode.containerInfo,tn=!0;break e;case 4:_t=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if(_t===null)throw Error(q(160));zk(s,a,i),_t=null,tn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Qe(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uk(t,e),t=t.sibling}function Uk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Jr(t,e),hn(e),n&4){try{Nl(3,e,e.return),Rf(3,e)}catch(y){Qe(e,e.return,y)}try{Nl(5,e,e.return)}catch(y){Qe(e,e.return,y)}}break;case 1:Jr(t,e),hn(e),n&512&&r!==null&&ja(r,r.return);break;case 5:if(Jr(t,e),hn(e),n&512&&r!==null&&ja(r,r.return),e.flags&32){var i=e.stateNode;try{Bl(i,"")}catch(y){Qe(e,e.return,y)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&u_(i,s),Fp(l,a);var u=Fp(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?p_(i,f):d==="dangerouslySetInnerHTML"?h_(i,f):d==="children"?Bl(i,f):Qy(i,d,f,u)}switch(l){case"input":Dp(i,s);break;case"textarea":d_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ra(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ra(i,!!s.multiple,s.defaultValue,!0):Ra(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gl]=s}catch(y){Qe(e,e.return,y)}}break;case 6:if(Jr(t,e),hn(e),n&4){if(e.stateNode===null)throw Error(q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(y){Qe(e,e.return,y)}}break;case 3:if(Jr(t,e),hn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(y){Qe(e,e.return,y)}break;case 4:Jr(t,e),hn(e);break;case 13:Jr(t,e),hn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(C0=nt())),n&4&&Gw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Dt=(u=Dt)||d,Jr(t,e),Dt=u):Jr(t,e),hn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(se=e,d=e.child;d!==null;){for(f=se=d;se!==null;){switch(h=se,m=h.child,h.tag){case 0:case 11:case 14:case 15:Nl(4,h,h.return);break;case 1:ja(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(y){Qe(n,r,y)}}break;case 5:ja(h,h.return);break;case 22:if(h.memoizedState!==null){Xw(f);continue}}m!==null?(m.return=h,se=m):Xw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=m_("display",a))}catch(y){Qe(e,e.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Qe(e,e.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Jr(t,e),hn(e),n&4&&Gw(e);break;case 21:break;default:Jr(t,e),hn(e)}}function hn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Fk(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bl(i,""),n.flags&=-33);var s=qw(e);gg(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=qw(e);pg(e,l,a);break;default:throw Error(q(161))}}catch(c){Qe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function r6(e,t,r){se=e,Wk(e)}function Wk(e,t,r){for(var n=(e.mode&1)!==0;se!==null;){var i=se,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||pu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Dt;l=pu;var u=Dt;if(pu=a,(Dt=c)&&!u)for(se=i;se!==null;)a=se,c=a.child,a.tag===22&&a.memoizedState!==null?Jw(i):c!==null?(c.return=a,se=c):Jw(i);for(;s!==null;)se=s,Wk(s),s=s.sibling;se=i,pu=l,Dt=u}Yw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,se=s):Yw(e)}}function Yw(e){for(;se!==null;){var t=se;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Dt||Rf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Dt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:en(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Mw(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Mw(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Dt||t.flags&512&&mg(t)}catch(h){Qe(t,t.return,h)}}if(t===e){se=null;break}if(r=t.sibling,r!==null){r.return=t.return,se=r;break}se=t.return}}function Xw(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var r=t.sibling;if(r!==null){r.return=t.return,se=r;break}se=t.return}}function Jw(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Rf(4,t)}catch(c){Qe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Qe(t,i,c)}}var s=t.return;try{mg(t)}catch(c){Qe(t,s,c)}break;case 5:var a=t.return;try{mg(t)}catch(c){Qe(t,a,c)}}}catch(c){Qe(t,t.return,c)}if(t===e){se=null;break}var l=t.sibling;if(l!==null){l.return=t.return,se=l;break}se=t.return}}var n6=Math.ceil,_d=ii.ReactCurrentDispatcher,A0=ii.ReactCurrentOwner,Fr=ii.ReactCurrentBatchConfig,we=0,St=null,ot=null,Et=0,pr=0,Sa=Ki(0),dt=0,ec=null,Ls=0,Df=0,O0=0,Pl=null,rr=null,C0=0,Xa=1/0,Mn=null,kd=!1,yg=null,Mi=null,gu=!1,ki=null,Ed=0,_l=0,vg=null,Ju=-1,Qu=0;function Gt(){return we&6?nt():Ju!==-1?Ju:Ju=nt()}function Ri(e){return e.mode&1?we&2&&Et!==0?Et&-Et:F$.transition!==null?(Qu===0&&(Qu=k_()),Qu):(e=Ee,e!==0||(e=window.event,e=e===void 0?16:R_(e.type)),e):1}function cn(e,t,r,n){if(50<_l)throw _l=0,vg=null,Error(q(185));wc(e,r,n),(!(we&2)||e!==St)&&(e===St&&(!(we&2)&&(Df|=r),dt===4&&Si(e,Et)),ur(e,n),r===1&&we===0&&!(t.mode&1)&&(Xa=nt()+500,Cf&&Hi()))}function ur(e,t){var r=e.callbackNode;FD(e,t);var n=dd(e,e===St?Et:0);if(n===0)r!==null&&aw(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&aw(r),t===1)e.tag===0?B$(Qw.bind(null,e)):Z_(Qw.bind(null,e)),D$(function(){!(we&6)&&Hi()}),r=null;else{switch(E_(n)){case 1:r=n0;break;case 4:r=P_;break;case 16:r=ud;break;case 536870912:r=__;break;default:r=ud}r=Jk(r,Vk.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Vk(e,t){if(Ju=-1,Qu=0,we&6)throw Error(q(327));var r=e.callbackNode;if(Ba()&&e.callbackNode!==r)return null;var n=dd(e,e===St?Et:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Ad(e,n);else{t=n;var i=we;we|=2;var s=Hk();(St!==e||Et!==t)&&(Mn=null,Xa=nt()+500,Ps(e,t));do try{a6();break}catch(l){Kk(e,l)}while(!0);g0(),_d.current=s,we=i,ot!==null?t=0:(St=null,Et=0,t=dt)}if(t!==0){if(t===2&&(i=Kp(e),i!==0&&(n=i,t=xg(e,i))),t===1)throw r=ec,Ps(e,0),Si(e,n),ur(e,nt()),r;if(t===6)Si(e,n);else{if(i=e.current.alternate,!(n&30)&&!i6(i)&&(t=Ad(e,n),t===2&&(s=Kp(e),s!==0&&(n=s,t=xg(e,s))),t===1))throw r=ec,Ps(e,0),Si(e,n),ur(e,nt()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(q(345));case 2:ls(e,rr,Mn);break;case 3:if(Si(e,n),(n&130023424)===n&&(t=C0+500-nt(),10<t)){if(dd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zp(ls.bind(null,e,rr,Mn),t);break}ls(e,rr,Mn);break;case 4:if(Si(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-ln(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*n6(n/1960))-n,10<n){e.timeoutHandle=Zp(ls.bind(null,e,rr,Mn),n);break}ls(e,rr,Mn);break;case 5:ls(e,rr,Mn);break;default:throw Error(q(329))}}}return ur(e,nt()),e.callbackNode===r?Vk.bind(null,e):null}function xg(e,t){var r=Pl;return e.current.memoizedState.isDehydrated&&(Ps(e,t).flags|=256),e=Ad(e,t),e!==2&&(t=rr,rr=r,t!==null&&bg(t)),e}function bg(e){rr===null?rr=e:rr.push.apply(rr,e)}function i6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Si(e,t){for(t&=~O0,t&=~Df,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ln(t),n=1<<r;e[r]=-1,t&=~n}}function Qw(e){if(we&6)throw Error(q(327));Ba();var t=dd(e,0);if(!(t&1))return ur(e,nt()),null;var r=Ad(e,t);if(e.tag!==0&&r===2){var n=Kp(e);n!==0&&(t=n,r=xg(e,n))}if(r===1)throw r=ec,Ps(e,0),Si(e,t),ur(e,nt()),r;if(r===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ls(e,rr,Mn),ur(e,nt()),null}function T0(e,t){var r=we;we|=1;try{return e(t)}finally{we=r,we===0&&(Xa=nt()+500,Cf&&Hi())}}function Bs(e){ki!==null&&ki.tag===0&&!(we&6)&&Ba();var t=we;we|=1;var r=Fr.transition,n=Ee;try{if(Fr.transition=null,Ee=1,e)return e()}finally{Ee=n,Fr.transition=r,we=t,!(we&6)&&Hi()}}function M0(){pr=Sa.current,ze(Sa)}function Ps(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,R$(r)),ot!==null)for(r=ot.return;r!==null;){var n=r;switch(h0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gd();break;case 3:Ga(),ze(lr),ze(Bt),j0();break;case 5:w0(n);break;case 4:Ga();break;case 13:ze(Ke);break;case 19:ze(Ke);break;case 10:y0(n.type._context);break;case 22:case 23:M0()}r=r.return}if(St=e,ot=e=Di(e.current,null),Et=pr=t,dt=0,ec=null,O0=Df=Ls=0,rr=Pl=null,gs!==null){for(t=0;t<gs.length;t++)if(r=gs[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}gs=null}return e}function Kk(e,t){do{var r=ot;try{if(g0(),Gu.current=Pd,Nd){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Nd=!1}if(Is=0,xt=ut=qe=null,Sl=!1,Jl=0,A0.current=null,r===null||r.return===null){dt=1,ec=t,ot=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=Et,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Bw(a);if(m!==null){m.flags&=-257,Fw(m,a,l,s,t),m.mode&1&&Lw(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var y=new Set;y.add(c),t.updateQueue=y}else p.add(c);break e}else{if(!(t&1)){Lw(s,u,t),R0();break e}c=Error(q(426))}}else if(We&&l.mode&1){var b=Bw(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Fw(b,a,l,s,t),m0(Ya(c,l));break e}}s=c=Ya(c,l),dt!==4&&(dt=2),Pl===null?Pl=[s]:Pl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var g=Ek(s,c,t);Tw(s,g);break e;case 1:l=c;var x=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mi===null||!Mi.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=Ak(s,l,t);Tw(s,j);break e}}s=s.return}while(s!==null)}Gk(r)}catch(S){t=S,ot===r&&r!==null&&(ot=r=r.return);continue}break}while(!0)}function Hk(){var e=_d.current;return _d.current=Pd,e===null?Pd:e}function R0(){(dt===0||dt===3||dt===2)&&(dt=4),St===null||!(Ls&268435455)&&!(Df&268435455)||Si(St,Et)}function Ad(e,t){var r=we;we|=2;var n=Hk();(St!==e||Et!==t)&&(Mn=null,Ps(e,t));do try{s6();break}catch(i){Kk(e,i)}while(!0);if(g0(),we=r,_d.current=n,ot!==null)throw Error(q(261));return St=null,Et=0,dt}function s6(){for(;ot!==null;)qk(ot)}function a6(){for(;ot!==null&&!CD();)qk(ot)}function qk(e){var t=Xk(e.alternate,e,pr);e.memoizedProps=e.pendingProps,t===null?Gk(e):ot=t,A0.current=null}function Gk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Z$(r,t),r!==null){r.flags&=32767,ot=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ot=null;return}}else if(r=Q$(r,t,pr),r!==null){ot=r;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);dt===0&&(dt=5)}function ls(e,t,r){var n=Ee,i=Fr.transition;try{Fr.transition=null,Ee=1,o6(e,t,r,n)}finally{Fr.transition=i,Ee=n}return null}function o6(e,t,r,n){do Ba();while(ki!==null);if(we&6)throw Error(q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(zD(e,s),e===St&&(ot=St=null,Et=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||gu||(gu=!0,Jk(ud,function(){return Ba(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Fr.transition,Fr.transition=null;var a=Ee;Ee=1;var l=we;we|=4,A0.current=null,t6(e,r),Uk(r,e),k$(Jp),fd=!!Xp,Jp=Xp=null,e.current=r,r6(r),TD(),we=l,Ee=a,Fr.transition=s}else e.current=r;if(gu&&(gu=!1,ki=e,Ed=i),s=e.pendingLanes,s===0&&(Mi=null),DD(r.stateNode),ur(e,nt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(kd)throw kd=!1,e=yg,yg=null,e;return Ed&1&&e.tag!==0&&Ba(),s=e.pendingLanes,s&1?e===vg?_l++:(_l=0,vg=e):_l=0,Hi(),null}function Ba(){if(ki!==null){var e=E_(Ed),t=Fr.transition,r=Ee;try{if(Fr.transition=null,Ee=16>e?16:e,ki===null)var n=!1;else{if(e=ki,ki=null,Ed=0,we&6)throw Error(q(331));var i=we;for(we|=4,se=e.current;se!==null;){var s=se,a=s.child;if(se.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(se=u;se!==null;){var d=se;switch(d.tag){case 0:case 11:case 15:Nl(8,d,s)}var f=d.child;if(f!==null)f.return=d,se=f;else for(;se!==null;){d=se;var h=d.sibling,m=d.return;if(Bk(d),d===u){se=null;break}if(h!==null){h.return=m,se=h;break}se=m}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}se=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,se=a;else e:for(;se!==null;){if(s=se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nl(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,se=g;break e}se=s.return}}var x=e.current;for(se=x;se!==null;){a=se;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,se=w;else e:for(a=x;se!==null;){if(l=se,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rf(9,l)}}catch(S){Qe(l,l.return,S)}if(l===a){se=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,se=j;break e}se=l.return}}if(we=i,Hi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(_f,e)}catch{}n=!0}return n}finally{Ee=r,Fr.transition=t}}return!1}function Zw(e,t,r){t=Ya(r,t),t=Ek(e,t,1),e=Ti(e,t,1),t=Gt(),e!==null&&(wc(e,1,t),ur(e,t))}function Qe(e,t,r){if(e.tag===3)Zw(e,e,r);else for(;t!==null;){if(t.tag===3){Zw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Mi===null||!Mi.has(n))){e=Ya(r,e),e=Ak(t,e,1),t=Ti(t,e,1),e=Gt(),t!==null&&(wc(t,1,e),ur(t,e));break}}t=t.return}}function l6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&r,St===e&&(Et&r)===r&&(dt===4||dt===3&&(Et&130023424)===Et&&500>nt()-C0?Ps(e,0):O0|=r),ur(e,t)}function Yk(e,t){t===0&&(e.mode&1?(t=au,au<<=1,!(au&130023424)&&(au=4194304)):t=1);var r=Gt();e=Gn(e,t),e!==null&&(wc(e,t,r),ur(e,r))}function c6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Yk(e,r)}function u6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(t),Yk(e,r)}var Xk;Xk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sr=!1,J$(e,t,r);sr=!!(e.flags&131072)}else sr=!1,We&&t.flags&1048576&&ek(t,xd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Xu(e,t),e=t.pendingProps;var i=Ka(t,Bt.current);La(t,r),i=N0(null,t,n,e,i,r);var s=P0();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(n)?(s=!0,yd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,x0(t),i.updater=Mf,t.stateNode=i,i._reactInternals=t,ag(t,n,e,r),t=cg(null,t,n,!0,s,r)):(t.tag=0,We&&s&&f0(t),Vt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Xu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=f6(n),e=en(n,e),i){case 0:t=lg(null,t,n,e,r);break e;case 1:t=Ww(null,t,n,e,r);break e;case 11:t=zw(null,t,n,e,r);break e;case 14:t=Uw(null,t,n,en(n.type,e),r);break e}throw Error(q(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:en(n,i),lg(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:en(n,i),Ww(e,t,n,i,r);case 3:e:{if(Mk(t),e===null)throw Error(q(387));n=t.pendingProps,s=t.memoizedState,i=s.element,ak(e,t),jd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ya(Error(q(423)),t),t=Vw(e,t,n,r,i);break e}else if(n!==i){i=Ya(Error(q(424)),t),t=Vw(e,t,n,r,i);break e}else for(yr=Ci(t.stateNode.containerInfo.firstChild),vr=t,We=!0,nn=null,r=ik(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ha(),n===i){t=Yn(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return ok(t),e===null&&ng(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Qp(n,i)?a=null:s!==null&&Qp(n,s)&&(t.flags|=32),Tk(e,t),Vt(e,t,a,r),t.child;case 6:return e===null&&ng(t),null;case 13:return Rk(e,t,r);case 4:return b0(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=qa(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:en(n,i),zw(e,t,n,i,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,De(bd,n._currentValue),n._currentValue=a,s!==null)if(un(s.value,a)){if(s.children===i.children&&!lr.current){t=Yn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Un(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),ig(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(q(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),ig(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,La(t,r),i=Ur(i),n=n(i),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,i=en(n,t.pendingProps),i=en(n.type,i),Uw(e,t,n,i,r);case 15:return Ok(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:en(n,i),Xu(e,t),t.tag=1,cr(n)?(e=!0,yd(t)):e=!1,La(t,r),kk(t,n,i),ag(t,n,i,r),cg(null,t,n,!0,e,r);case 19:return Dk(e,t,r);case 22:return Ck(e,t,r)}throw Error(q(156,t.tag))};function Jk(e,t){return N_(e,t)}function d6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,r,n){return new d6(e,t,r,n)}function D0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function f6(e){if(typeof e=="function")return D0(e)?1:0;if(e!=null){if(e=e.$$typeof,e===e0)return 11;if(e===t0)return 14}return 2}function Di(e,t){var r=e.alternate;return r===null?(r=Lr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Zu(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")D0(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case ha:return _s(r.children,i,s,t);case Zy:a=8,i|=8;break;case Op:return e=Lr(12,r,t,i|2),e.elementType=Op,e.lanes=s,e;case Cp:return e=Lr(13,r,t,i),e.elementType=Cp,e.lanes=s,e;case Tp:return e=Lr(19,r,t,i),e.elementType=Tp,e.lanes=s,e;case o_:return $f(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case s_:a=10;break e;case a_:a=9;break e;case e0:a=11;break e;case t0:a=14;break e;case xi:a=16,n=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=Lr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function _s(e,t,r,n){return e=Lr(7,e,n,t),e.lanes=r,e}function $f(e,t,r,n){return e=Lr(22,e,n,t),e.elementType=o_,e.lanes=r,e.stateNode={isHidden:!1},e}function Om(e,t,r){return e=Lr(6,e,null,t),e.lanes=r,e}function Cm(e,t,r){return t=Lr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function h6(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dm(0),this.expirationTimes=dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function $0(e,t,r,n,i,s,a,l,c){return e=new h6(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Lr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},x0(s),e}function m6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fa,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Qk(e){if(!e)return Bi;e=e._reactInternals;e:{if(Gs(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var r=e.type;if(cr(r))return Q_(e,r,t)}return t}function Zk(e,t,r,n,i,s,a,l,c){return e=$0(r,n,!0,e,i,s,a,l,c),e.context=Qk(null),r=e.current,n=Gt(),i=Ri(r),s=Un(n,i),s.callback=t??null,Ti(r,s,i),e.current.lanes=i,wc(e,i,n),ur(e,n),e}function If(e,t,r,n){var i=t.current,s=Gt(),a=Ri(i);return r=Qk(r),t.context===null?t.context=r:t.pendingContext=r,t=Un(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Ti(i,t,a),e!==null&&(cn(e,i,a,s),qu(e,i,a)),a}function Od(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function e1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function I0(e,t){e1(e,t),(e=e.alternate)&&e1(e,t)}function p6(){return null}var e2=typeof reportError=="function"?reportError:function(e){console.error(e)};function L0(e){this._internalRoot=e}Lf.prototype.render=L0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));If(e,t,null,null)};Lf.prototype.unmount=L0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bs(function(){If(null,e,null,null)}),t[qn]=null}};function Lf(e){this._internalRoot=e}Lf.prototype.unstable_scheduleHydration=function(e){if(e){var t=C_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ji.length&&t!==0&&t<ji[r].priority;r++);ji.splice(r,0,e),r===0&&M_(e)}};function B0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function t1(){}function g6(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Od(a);s.call(u)}}var a=Zk(t,n,e,0,null,!1,!1,"",t1);return e._reactRootContainer=a,e[qn]=a.current,Hl(e.nodeType===8?e.parentNode:e),Bs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Od(c);l.call(u)}}var c=$0(e,0,!1,null,null,!1,!1,"",t1);return e._reactRootContainer=c,e[qn]=c.current,Hl(e.nodeType===8?e.parentNode:e),Bs(function(){If(t,c,r,n)}),c}function Ff(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Od(a);l.call(c)}}If(t,a,e,i)}else a=g6(r,t,e,i,n);return Od(a)}A_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dl(t.pendingLanes);r!==0&&(i0(t,r|1),ur(t,nt()),!(we&6)&&(Xa=nt()+500,Hi()))}break;case 13:Bs(function(){var n=Gn(e,1);if(n!==null){var i=Gt();cn(n,e,1,i)}}),I0(e,1)}};s0=function(e){if(e.tag===13){var t=Gn(e,134217728);if(t!==null){var r=Gt();cn(t,e,134217728,r)}I0(e,134217728)}};O_=function(e){if(e.tag===13){var t=Ri(e),r=Gn(e,t);if(r!==null){var n=Gt();cn(r,e,t,n)}I0(e,t)}};C_=function(){return Ee};T_=function(e,t){var r=Ee;try{return Ee=e,t()}finally{Ee=r}};Up=function(e,t,r){switch(t){case"input":if(Dp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Of(n);if(!i)throw Error(q(90));c_(n),Dp(n,i)}}}break;case"textarea":d_(e,r);break;case"select":t=r.value,t!=null&&Ra(e,!!r.multiple,t,!1)}};v_=T0;x_=Bs;var y6={usingClientEntryPoint:!1,Events:[Sc,ya,Of,g_,y_,T0]},Xo={findFiberByHostInstance:ps,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},v6={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ii.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=j_(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||p6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{_f=yu.inject(v6),wn=yu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y6;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!B0(t))throw Error(q(200));return m6(e,t,null,r)};Pr.createRoot=function(e,t){if(!B0(e))throw Error(q(299));var r=!1,n="",i=e2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=$0(e,1,!1,null,null,r,!1,n,i),e[qn]=t.current,Hl(e.nodeType===8?e.parentNode:e),new L0(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=j_(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Bs(e)};Pr.hydrate=function(e,t,r){if(!Bf(t))throw Error(q(200));return Ff(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!B0(e))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=e2;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Zk(t,null,e,1,r??null,i,!1,s,a),e[qn]=t.current,Hl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Lf(t)};Pr.render=function(e,t,r){if(!Bf(t))throw Error(q(200));return Ff(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!Bf(e))throw Error(q(40));return e._reactRootContainer?(Bs(function(){Ff(null,null,e,!1,function(){e._reactRootContainer=null,e[qn]=null})}),!0):!1};Pr.unstable_batchedUpdates=T0;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Bf(r))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Ff(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function t2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t2)}catch(e){console.error(e)}}t2(),t_.exports=Pr;var F0=t_.exports,r2,r1=F0;r2=r1.createRoot,r1.hydrateRoot;const x6="modulepreload",b6=function(e){return"/"+e},n1={},Pc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=b6(c),c in n1)return;n1[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":x6,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},w6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pc(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class z0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class j6 extends z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i1 extends z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s1 extends z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wg||(wg={}));var S6=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class N6{constructor(t,{headers:r={},customFetch:n,region:i=wg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=w6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return S6(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(y=>{throw new j6(y)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new i1(f);if(!f.ok)throw new s1(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof s1||i instanceof i1?i.context:void 0}}})}}var nr={},U0={},zf={},_c={},Uf={},Wf={},P6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ja=P6();const _6=Ja.fetch,n2=Ja.fetch.bind(Ja),i2=Ja.Headers,k6=Ja.Request,E6=Ja.Response,wo=Object.freeze(Object.defineProperty({__proto__:null,Headers:i2,Request:k6,Response:E6,default:n2,fetch:_6},Symbol.toStringTag,{value:"Module"})),A6=HR(wo);var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});let O6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vf.default=O6;var s2=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wf,"__esModule",{value:!0});const C6=s2(A6),T6=s2(Vf);let M6=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=C6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const g=await s.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),b=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");y&&b&&b.length>1&&(f=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const y=await s.text();try{u=JSON.parse(y),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&y===""?(h=204,m="No Content"):u={message:y}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new T6.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Wf.default=M6;var R6=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uf,"__esModule",{value:!0});const D6=R6(Wf);let $6=class extends D6.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Uf.default=$6;var I6=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const L6=I6(Uf);let B6=class extends L6.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};_c.default=B6;var F6=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const Jo=F6(_c);let z6=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};zf.default=z6;var Kf={},Hf={};Object.defineProperty(Hf,"__esModule",{value:!0});Hf.version=void 0;Hf.version="0.0.0-automated";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.DEFAULT_HEADERS=void 0;const U6=Hf;Kf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${U6.version}`};var a2=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(U0,"__esModule",{value:!0});const W6=a2(zf),V6=a2(_c),K6=Kf;let H6=class o2{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},K6.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new W6.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new o2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new V6.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};U0.default=H6;var jo=zr&&zr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const l2=jo(U0);nr.PostgrestClient=l2.default;const c2=jo(zf);nr.PostgrestQueryBuilder=c2.default;const u2=jo(_c);nr.PostgrestFilterBuilder=u2.default;const d2=jo(Uf);nr.PostgrestTransformBuilder=d2.default;const f2=jo(Wf);nr.PostgrestBuilder=f2.default;const h2=jo(Vf);nr.PostgrestError=h2.default;var q6=nr.default={PostgrestClient:l2.default,PostgrestQueryBuilder:c2.default,PostgrestFilterBuilder:u2.default,PostgrestTransformBuilder:d2.default,PostgrestBuilder:f2.default,PostgrestError:h2.default};const{PostgrestClient:G6,PostgrestQueryBuilder:zre,PostgrestFilterBuilder:Ure,PostgrestTransformBuilder:Wre,PostgrestBuilder:Vre,PostgrestError:Kre}=q6;function Y6(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const X6=Y6(),J6="2.11.15",Q6=`realtime-js/${J6}`,Z6="1.0.0",m2=1e4,eI=1e3;var kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(kl||(kl={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rn||(rn={}));var jg;(function(e){e.websocket="websocket"})(jg||(jg={}));var ms;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ms||(ms={}));class tI{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class p2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Me;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Me||(Me={}));const a1=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=rI(a,e,t,i),s),{})},rI=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?g2(s,a):Sg(a)},g2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return aI(t,r)}switch(e){case Me.bool:return nI(t);case Me.float4:case Me.float8:case Me.int2:case Me.int4:case Me.int8:case Me.numeric:case Me.oid:return iI(t);case Me.json:case Me.jsonb:return sI(t);case Me.timestamp:return oI(t);case Me.abstime:case Me.date:case Me.daterange:case Me.int4range:case Me.int8range:case Me.money:case Me.reltime:case Me.text:case Me.time:case Me.timestamptz:case Me.timetz:case Me.tsrange:case Me.tstzrange:return Sg(t);default:return Sg(t)}},Sg=e=>e,nI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iI=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},sI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aI=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>g2(t,l))}return e},oI=e=>typeof e=="string"?e.replace(" ","T"):e,y2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Tm{constructor(t,r,n={},i=m2){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var o1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(o1||(o1={}));class El{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=El.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=El.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=El.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),p=d.filter(b=>m.indexOf(b.presence_ref)<0),y=f.filter(b=>h.indexOf(b.presence_ref)<0);p.length>0&&(l[u]=p),y.length>0&&(c[u]=y)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var l1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(l1||(l1={}));var c1;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(c1||(c1={}));var Rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class W0{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Tm(this,rn.join,this.params,this.timeout),this.rejoinTimer=new p2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new El(this),this.broadcastEndpointURL=y2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Rn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Rn.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Rn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let y=0;y<m;y++){const b=h[y],{filter:{event:g,schema:x,table:w,filter:j}}=b,S=d&&d[y];if(S&&S.event===g&&S.schema===x&&S.table===w&&S.filter===j)p.push(Object.assign(Object.assign({},b),{id:S.id}));else{this.unsubscribe(),this.state=Mt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Rn.SUBSCRIBED);return}}).receive("error",d=>{this.state=Mt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Tm(this,rn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Tm(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=rn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,y,b;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((b=(y=m.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var p,y,b,g,x,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const j=m.id,S=(p=m.filter)===null||p===void 0?void 0:p.event;return j&&((y=r.ids)===null||y===void 0?void 0:y.includes(j))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const j=(x=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return j==="*"||j===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:y,table:b,commit_timestamp:g,type:x,errors:w}=p;h=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:g,eventType:x,new:{},old:{},errors:w}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&W0.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=a1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=a1(t.columns,t.old_record)),r}}const u1=()=>{},lI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cI{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=m2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=u1,this.ref=0,this.logger=u1,this.conn=null,this.sendBuffer=[],this.serializer=new tI,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Pc(async()=>{const{default:c}=await Promise.resolve().then(()=>wo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${jg.websocket}`,this.httpEndpoint=y2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new p2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=X6),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Z6}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kl.connecting:return ms.Connecting;case kl.open:return ms.Open;case kl.closing:return ms.Closing;default:return ms.Closed}}isConnected(){return this.connectionState()===ms.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new W0(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Q6};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(rn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(eI,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([lI],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class V0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class uI extends V0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ng extends V0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var dI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const v2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pc(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},fI=()=>dI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Pc(()=>Promise.resolve().then(()=>wo),void 0)).Response:Response}),Pg=e=>{if(Array.isArray(e))return e.map(r=>Pg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=Pg(n)}),t},hI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ys=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Mm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mI=(e,t,r)=>Ys(void 0,void 0,void 0,function*(){const n=yield fI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new uI(Mm(i),s,a))}).catch(i=>{t(new Ng(Mm(i),i))}):t(new Ng(Mm(e),e))}),pI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(hI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function kc(e,t,r,n,i,s){return Ys(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,pI(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>mI(c,l,n))})})}function Cd(e,t,r,n){return Ys(this,void 0,void 0,function*(){return kc(e,"GET",t,r,n)})}function Dn(e,t,r,n,i){return Ys(this,void 0,void 0,function*(){return kc(e,"POST",t,n,i,r)})}function _g(e,t,r,n,i){return Ys(this,void 0,void 0,function*(){return kc(e,"PUT",t,n,i,r)})}function gI(e,t,r,n){return Ys(this,void 0,void 0,function*(){return kc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function x2(e,t,r,n,i){return Ys(this,void 0,void 0,function*(){return kc(e,"DELETE",t,n,i,r)})}var Zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const yI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class vI{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=v2(i)}uploadOrUpdate(t,r,n,i){return Zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},d1),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?_g:Dn)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(gt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:d1.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield _g(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(gt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Dn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new V0("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Dn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Dn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=yield Dn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}download(t,r){return Zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Cd(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(gt(l))return{data:null,error:l};throw l}})}info(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Cd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pg(n),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}exists(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield gI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(gt(n)&&n instanceof Ng){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield x2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},yI),r),{prefix:t||""});return{data:yield Dn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(gt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const xI="2.10.4",bI={"X-Client-Info":`storage-js/${xI}`};var na=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class wI{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},bI),r),this.fetch=v2(n)}listBuckets(){return na(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(gt(t))return{data:null,error:t};throw t}})}getBucket(t){return na(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return na(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return na(this,void 0,void 0,function*(){try{return{data:yield _g(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return na(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return na(this,void 0,void 0,function*(){try{return{data:yield x2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(gt(r))return{data:null,error:r};throw r}})}}class jI extends wI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new vI(this.url,this.headers,t,this.fetch)}}const SI="2.53.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const NI={"X-Client-Info":`supabase-js-${hl}/${SI}`},PI={headers:NI},_I={schema:"public"},kI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},EI={};var AI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const OI=e=>{let t;return e?t=e:typeof fetch>"u"?t=n2:t=fetch,(...r)=>t(...r)},CI=()=>typeof Headers>"u"?i2:Headers,TI=(e,t,r)=>{const n=OI(r),i=CI();return(s,a)=>AI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var MI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function RI(e){return e.endsWith("/")?e:e+"/"}function DI(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>MI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const b2="2.71.1",ua=30*1e3,kg=3,Rm=kg*ua,$I="http://localhost:9999",II="supabase.auth.token",LI={"X-Client-Info":`gotrue-js/${b2}`},Eg="X-Supabase-Api-Version",w2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},BI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,FI=10*60*1e3;class K0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function fe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class zI extends K0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function UI(e){return fe(e)&&e.name==="AuthApiError"}class j2 extends K0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qi extends K0{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class gi extends qi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WI(e){return fe(e)&&e.name==="AuthSessionMissingError"}class vu extends qi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class xu extends qi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class bu extends qi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function VI(e){return fe(e)&&e.name==="AuthImplicitGrantRedirectError"}class f1 extends qi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ag extends qi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Dm(e){return fe(e)&&e.name==="AuthRetryableFetchError"}class h1 extends qi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Og extends qi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Td="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m1=` 	
\r=`.split(""),KI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<m1.length;t+=1)e[m1[t].charCodeAt(0)]=-2;for(let t=0;t<Td.length;t+=1)e[Td[t].charCodeAt(0)]=t;return e})();function p1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Td[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Td[n]),t.queuedBits-=6}}function S2(e,t,r){const n=KI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function g1(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{GI(a,n,r)};for(let a=0;a<e.length;a+=1)S2(e.charCodeAt(a),i,s);return t.join("")}function HI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}HI(n,t)}}function GI(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function YI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)S2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function XI(e){const t=[];return qI(e,r=>t.push(r)),new Uint8Array(t)}function JI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>p1(i,r,n)),p1(null,r,n),t.join("")}function QI(e){return Math.round(Date.now()/1e3)+e}function ZI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Qr=()=>typeof window<"u"&&typeof document<"u",is={tested:!1,writable:!1},N2=()=>{if(!Qr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(is.tested)return is.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),is.tested=!0,is.writable=!0}catch{is.tested=!0,is.writable=!1}return is.writable};function eL(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const P2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Pc(async()=>{const{default:n}=await Promise.resolve().then(()=>wo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},tL=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",da=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ss=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hi=async(e,t)=>{await e.removeItem(t)};class qf{constructor(){this.promise=new qf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}qf.promiseConstructor=Promise;function $m(e){const t=e.split(".");if(t.length!==3)throw new Og("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!BI.test(t[n]))throw new Og("JWT not in base64url format");return{header:JSON.parse(g1(t[0])),payload:JSON.parse(g1(t[1])),signature:YI(t[2]),raw:{header:t[0],payload:t[1]}}}async function rL(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function nL(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function iL(e){return("0"+e.toString(16)).substr(-2)}function sL(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,iL).join("")}async function aL(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function oL(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await aL(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ia(e,t,r=!1){const n=sL();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await da(e,`${t}-code-verifier`,i);const s=await oL(n);return[s,n===s?"plain":"s256"]}const lL=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function cL(e){const t=e.headers.get(Eg);if(!t||!t.match(lL))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function uL(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function dL(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const fL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function sa(e){if(!fL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Im(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function y1(e){return JSON.parse(JSON.stringify(e))}var hL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const cs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mL=[502,503,504];async function v1(e){var t;if(!tL(e))throw new Ag(cs(e),0);if(mL.includes(e.status))throw new Ag(cs(e),e.status);let r;try{r=await e.json()}catch(s){throw new j2(cs(s),s)}let n;const i=cL(e);if(i&&i.getTime()>=w2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new h1(cs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new h1(cs(r),e.status,r.weak_password.reasons);throw new zI(cs(r),e.status||500,n)}const pL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function pe(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Eg]||(s[Eg]=w2["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await gL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function gL(e,t,r,n,i,s){const a=pL(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new Ag(cs(c),0)}if(l.ok||await v1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await v1(c)}}function Tn(e){var t;let r=null;bL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=QI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function x1(e){const t=Tn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ni(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function yL(e){return{data:e,error:null}}function vL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=hL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function xL(e){return e}function bL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Lm=["global","local","others"];var wL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class jL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=P2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Lm[0]){if(Lm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Lm.join(", ")}`);try{return await pe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await pe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=wL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await pe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:vL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(fe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await pe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ni})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await pe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:xL});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const y=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(p.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(fe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){sa(t);try{return await pe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ni})}catch(r){if(fe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){sa(t);try{return await pe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){sa(t);try{return await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Ni})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){sa(t.userId);try{const{data:r,error:n}=await pe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){sa(t.userId),sa(t.id);try{return{data:await pe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}}function b1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function SL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const aa={debug:!!(globalThis&&N2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class NL extends _2{}async function PL(e,t,r){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new NL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(aa.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}SL();const _L={url:$I,storageKey:II,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function w1(e,t,r){return await r()}const oa={};class tc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&Qr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},_L),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new jL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=P2(i.fetch),this.lock=i.lock||w1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Qr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=PL:this.lock=w1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:N2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=b1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=b1(this.memoryStorage)),Qr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=oa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){oa[this.storageKey]=Object.assign(Object.assign({},oa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=oa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){oa[this.storageKey]=Object.assign(Object.assign({},oa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${b2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=eL(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Qr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),VI(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return fe(r)?{error:r}:{error:new j2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ia(this.storage,this.storageKey)),s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Tn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await pe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tn})}else throw new xu("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(fe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:x1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await pe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:x1})}else throw new xu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new vu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let p,y;if("message"in t)p=t.message,y=t.signature;else{const{chain:b,wallet:g,statement:x,options:w}=t;let j;if(Qr())if(typeof g=="object")j=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=g}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),x?{statement:x}:null));let P;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")P=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)P=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)p=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),y=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${S.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(i=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=N}}try{const{data:b,error:g}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:JI(y)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tn});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new vu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(fe(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await ss(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await pe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tn});if(await hi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new vu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(fe(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await pe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Tn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new vu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ia(this.storage,this.storageKey));const{error:f}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await pe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new xu("You must provide either an email or phone number.")}catch(l){if(fe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Tn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(fe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ia(this.storage,this.storageKey)),await pe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:yL})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gi;const{error:i}=await pe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(fe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await pe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new xu("You must provide either an email or phone number and a type")}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Rm:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await ss(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Im()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ni}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await pe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ni})})}catch(r){if(fe(r))return WI(r)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new gi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ia(this.storage,this.storageKey));const{data:u,error:d}=await pe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Ni});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(fe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=$m(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(fe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(fe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Qr())throw new bu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new bu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new f1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new bu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new f1("No code detected.");const{data:x,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new bu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:y,error:b}=await this._getUser(s);if(b)throw b;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(fe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ss(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(UI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ZI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ia(this.storage,this.storageKey,!0));try{return await pe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(fe(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await pe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Qr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(fe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await pe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await nL(async i=>(i>0&&await rL(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await pe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Dm(s)&&Date.now()+a-n<ua})}catch(n){if(this._debug(r,"error",n),fe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Qr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ss(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ss(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await da(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Im()}else if(i&&!i.user&&!i.user){const a=await ss(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await hi(this.storage,this.storageKey+"-user"),await da(this.storage,this.storageKey,i)):i.user=Im()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Rm;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Rm}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Dm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new qf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new gi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),fe(s)){const a={session:null,error:s};return Dm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await da(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=y1(i);await da(this.storage,this.storageKey,s)}else{const i=y1(r);await da(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await hi(this.storage,this.storageKey+"-code-verifier"),await hi(this.storage,this.storageKey+"-user"),this.userStorage&&await hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Qr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ua);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ua}ms, refresh threshold is ${kg} ticks`),i<=kg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof _2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Qr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ia(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await pe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await pe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(fe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await pe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(fe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=$m(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+FI>i)return n;const{data:s,error:a}=await pe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=$m(n);r!=null&&r.allowExpired||uL(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=dL(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,XI(`${l}.${c}`)))throw new Og("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}}}tc.nextInstanceID=0;const kL=tc;class EL extends kL{constructor(t){super(t)}}var AL=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class OL{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=RI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:_I,realtime:EI,auth:Object.assign(Object.assign({},kI),{storageKey:u}),global:PI},f=DI(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=TI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new G6(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new jI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new N6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return AL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new EL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new cI(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const CL=(e,t,r)=>new OL(e,t,r);function TL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}TL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const ML="https://eymxpphofhhfeuvaqfad.supabase.co",RL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",Y=CL(ML,RL),k2=v.createContext(void 0);function DL({children:e}){const[t,r]=v.useState(null),[n,i]=v.useState(!1);v.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await Y.auth.getSession();if(u!=null&&u.user){const{data:d}=await Y.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await Y.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:p}=await Y.auth.signInWithPassword({email:h.email,password:u});return p?(console.error("❌ SUPABASE AUTH ERROR:",p.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,p,y;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:b,error:g}=await Y.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(g)return console.error("❌ SUPABASE SIGNUP ERROR:",g.message,"Code:",g.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=b.user)==null?void 0:h.id,email:(m=b.user)==null?void 0:m.email,email_confirmed:(p=b.user)==null?void 0:p.email_confirmed_at,user_metadata:(y=b.user)==null?void 0:y.user_metadata}),b.user){const{error:x}=await Y.from("profiles").insert({id:b.user.id,username:c,email:u,role:f});x?console.error("❌ PROFILE CREATION ERROR:",x.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(b){return console.error("Signup error:",b),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await Y.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),console.log("✅ LOGOUT: User state cleared - Back to guest mode"),window.location.reload()}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),window.location.reload()}};return o.jsx(k2.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function Ft(){const e=v.useContext(k2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const E2=v.createContext(void 0);function $L({children:e}){const[t,r]=v.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(E2.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Gi(){const e=v.useContext(E2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=v.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>v.createElement("svg",{ref:d,...IL,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${LL(e)}`,l].join(" "),...u},[...t.map(([f,h])=>v.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=le("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gf=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=le("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WL=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=le("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HL=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C2=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qL=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GL=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YL=le("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XL=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JL=le("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QL=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=le("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZL=le("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Es=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=le("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e3=le("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t3=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r3=le("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function n3({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=v.useState(""),[i,s]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(""),[d,f]=v.useState(!1),[h,m]=v.useState(!1),{signup:p}=Ft(),y=async b=>{if(b.preventDefault(),f(!0),u(""),m(!1),i!==a){u("Passwords do not match."),f(!1);return}if(i.length<6){u("Password must be at least 6 characters long."),f(!1);return}if(r.trim().length<3){u("Username must be at least 3 characters long."),f(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){u("Username can only contain letters, numbers, hyphens, and underscores."),f(!1);return}const g=`user_${Date.now()}_${Math.random().toString(36).substring(2)}@obcportal.local`;await p(r.trim(),g,i,"user")?m(!0):u("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),f(!1)};return h?o.jsx("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md bg-white rounded-xl shadow-2xl p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3",children:o.jsx(H0,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Create Account"}),o.jsx("p",{className:"text-gray-600",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:y,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:b=>n(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),o.jsx("input",{type:"password",id:"password",value:i,onChange:b=>s(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6,placeholder:"At least 6 characters"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),o.jsx("input",{type:"password",id:"confirmPassword",value:a,onChange:b=>l(b.target.value),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0,minLength:6,placeholder:"Confirm your password"})]}),c&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md",children:c}),o.jsx("button",{type:"submit",disabled:d,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:d?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions. No email verification required."})})]})}function M2({onLoginSuccess:e}){const[t,r]=v.useState(""),[n,i]=v.useState(""),[s,a]=v.useState(""),[l,c]=v.useState(!1),[u,d]=v.useState("login"),{login:f}=Ft(),h=async m=>{m.preventDefault(),c(!0),a(""),await f(t,n)?(r(""),i(""),a(""),e==null||e()):a("Invalid username or password. Please check your credentials and try again."),c(!1)};return u==="signup"?o.jsx(n3,{onBackToLogin:()=>d("login"),onSignupSuccess:e}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:m=>r(m.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsx("input",{type:"password",id:"password",value:n,onChange:m=>i(m.target.value),className:"input-field w-full",required:!0})]}),s&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:s}),o.jsx("button",{type:"submit",disabled:l,className:"primary-button w-full disabled:opacity-50 text-center",children:l?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>d("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const i3=[{id:"dashboard",label:"Dashboard",icon:o.jsx(KL,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(bt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(Fs,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(Wn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(ml,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(At,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(At,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"match-tracker",label:"Match Tracker",icon:o.jsx(Fi,{size:20}),roles:["technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(T2,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(At,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(Wn,{size:20}),roles:["developer"]}];function s3({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=Ft(),[a,l]=bn.useState(!1),c=i3.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return v.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),v.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"}),o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Beyblade Community"})]})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(wt,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(C2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(O2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(M2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(wt,{size:16})})]})})]})]})}const Y0=v.createContext({});function So(e){const t=v.useRef(null);return t.current===null&&(t.current=e()),t.current}const X0=typeof window<"u",Xf=X0?v.useLayoutEffect:v.useEffect,Jf=v.createContext(null);function J0(e,t){e.indexOf(t)===-1&&e.push(t)}function Q0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const En=(e,t,r)=>r>t?t:r<e?e:r;let eo=()=>{};const Xn={},R2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function D2(e){return typeof e=="object"&&e!==null}const $2=e=>/^0[^.\s]+$/u.test(e);function Z0(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,a3=(e,t)=>r=>t(e(r)),Cc=(...e)=>e.reduce(a3),to=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class ev{constructor(){this.subscriptions=[]}add(t){return J0(this.subscriptions,t),()=>Q0(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Sn=e=>e*1e3,Nn=e=>e/1e3;function tv(e,t){return t?e*(1e3/t):0}const I2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,o3=1e-7,l3=12;function c3(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=I2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>o3&&++l<l3);return a}function Tc(e,t,r,n){if(e===t&&r===n)return dr;const i=s=>c3(s,0,1,e,r);return s=>s===0||s===1?s:I2(i(s),t,n)}const L2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,B2=e=>t=>1-e(1-t),F2=Tc(.33,1.53,.69,.99),rv=B2(F2),z2=L2(rv),U2=e=>(e*=2)<1?.5*rv(e):.5*(2-Math.pow(2,-10*(e-1))),nv=e=>1-Math.sin(Math.acos(e)),W2=B2(nv),V2=L2(nv),u3=Tc(.42,0,1,1),d3=Tc(0,0,.58,1),K2=Tc(.42,0,.58,1),f3=e=>Array.isArray(e)&&typeof e[0]!="number",H2=e=>Array.isArray(e)&&typeof e[0]=="number",P1={linear:dr,easeIn:u3,easeInOut:K2,easeOut:d3,circIn:nv,circInOut:V2,circOut:W2,backIn:rv,backInOut:z2,backOut:F2,anticipate:U2},h3=e=>typeof e=="string",_1=e=>{if(H2(e)){eo(e.length===4);const[t,r,n,i]=e;return Tc(t,r,n,i)}else if(h3(e))return eo(P1[e]!==void 0),P1[e];return e},wu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],k1={value:null,addProjectionMetrics:null};function m3(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const y=m&&i?r:n;return h&&a.add(f),y.has(f)||y.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&k1.value&&k1.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const p3=40;function q2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=wu.reduce((w,j)=>(w[j]=m3(s,t?j:void 0),w),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,y=()=>{const w=Xn.useManualTiming?i.timestamp:performance.now();r=!1,Xn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(w-i.timestamp,p3),1)),i.timestamp=w,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(y))},b=()=>{r=!0,n=!0,i.isProcessing||e(y)};return{schedule:wu.reduce((w,j)=>{const S=a[j];return w[j]=(N,P=!1,E=!1)=>(r||b(),S.schedule(N,P,E)),w},{}),cancel:w=>{for(let j=0;j<wu.length;j++)a[wu[j]].cancel(w)},state:i,steps:a}}const{schedule:ke,cancel:dn,state:yt,steps:Bm}=q2(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let ed;function g3(){ed=void 0}const ar={now:()=>(ed===void 0&&ar.set(yt.isProcessing||Xn.useManualTiming?yt.timestamp:performance.now()),ed),set:e=>{ed=e,queueMicrotask(g3)}},G2=e=>t=>typeof t=="string"&&t.startsWith(e),iv=G2("--"),y3=G2("var(--"),sv=e=>y3(e)?v3.test(e.split("/*")[0].trim()):!1,v3=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nc={...No,transform:e=>En(0,1,e)},ju={...No,default:1},Al=e=>Math.round(e*1e5)/1e5,av=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function x3(e){return e==null}const b3=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ov=(e,t)=>r=>!!(typeof r=="string"&&b3.test(r)&&r.startsWith(e)||t&&!x3(r)&&Object.prototype.hasOwnProperty.call(r,t)),Y2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(av);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},w3=e=>En(0,255,e),Fm={...No,transform:e=>Math.round(w3(e))},vs={test:ov("rgb","red"),parse:Y2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+Fm.transform(e)+", "+Fm.transform(t)+", "+Fm.transform(r)+", "+Al(nc.transform(n))+")"};function j3(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const Cg={test:ov("#"),parse:j3,transform:vs.transform},Mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yi=Mc("deg"),Pn=Mc("%"),ce=Mc("px"),S3=Mc("vh"),N3=Mc("vw"),E1={...Pn,parse:e=>Pn.parse(e)/100,transform:e=>Pn.transform(e*100)},Na={test:ov("hsl","hue"),parse:Y2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+Pn.transform(Al(t))+", "+Pn.transform(Al(r))+", "+Al(nc.transform(n))+")"},at={test:e=>vs.test(e)||Cg.test(e)||Na.test(e),parse:e=>vs.test(e)?vs.parse(e):Na.test(e)?Na.parse(e):Cg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?vs.transform(e):Na.transform(e),getAnimatableNone:e=>{const t=at.parse(e);return t.alpha=0,at.transform(t)}},P3=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _3(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(av))==null?void 0:t.length)||0)+(((r=e.match(P3))==null?void 0:r.length)||0)>0}const X2="number",J2="color",k3="var",E3="var(",A1="${}",A3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ic(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(A3,c=>(at.test(c)?(n.color.push(s),i.push(J2),r.push(at.parse(c))):c.startsWith(E3)?(n.var.push(s),i.push(k3),r.push(c)):(n.number.push(s),i.push(X2),r.push(parseFloat(c))),++s,A1)).split(A1);return{values:r,split:l,indexes:n,types:i}}function Q2(e){return ic(e).values}function Z2(e){const{split:t,types:r}=ic(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===X2?s+=Al(i[a]):l===J2?s+=at.transform(i[a]):s+=i[a]}return s}}const O3=e=>typeof e=="number"?0:at.test(e)?at.getAnimatableNone(e):e;function C3(e){const t=Q2(e);return Z2(e)(t.map(O3))}const zi={test:_3,parse:Q2,createTransformer:Z2,getAnimatableNone:C3};function zm(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function T3({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=zm(c,l,e+1/3),s=zm(c,l,e),a=zm(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Dd(e,t){return r=>r>0?t:e}const He=(e,t,r)=>e+(t-e)*r,Um=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},M3=[Cg,vs,Na],R3=e=>M3.find(t=>t.test(e));function O1(e){const t=R3(e);if(!t)return!1;let r=t.parse(e);return t===Na&&(r=T3(r)),r}const C1=(e,t)=>{const r=O1(e),n=O1(t);if(!r||!n)return Dd(e,t);const i={...r};return s=>(i.red=Um(r.red,n.red,s),i.green=Um(r.green,n.green,s),i.blue=Um(r.blue,n.blue,s),i.alpha=He(r.alpha,n.alpha,s),vs.transform(i))},Tg=new Set(["none","hidden"]);function D3(e,t){return Tg.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function $3(e,t){return r=>He(e,t,r)}function lv(e){return typeof e=="number"?$3:typeof e=="string"?sv(e)?Dd:at.test(e)?C1:B3:Array.isArray(e)?eE:typeof e=="object"?at.test(e)?C1:I3:Dd}function eE(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>lv(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function I3(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=lv(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function L3(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const B3=(e,t)=>{const r=zi.createTransformer(t),n=ic(e),i=ic(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Tg.has(e)&&!i.values.length||Tg.has(t)&&!n.values.length?D3(e,t):Cc(eE(L3(n,i),i.values),r):Dd(e,t)};function tE(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?He(e,t,r):lv(e)(e,t)}const F3=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ke.update(t,r),stop:()=>dn(t),now:()=>yt.isProcessing?yt.timestamp:ar.now()}},rE=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},$d=2e4;function cv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<$d;)t+=r,n=e.next(t);return t>=$d?1/0:t}function z3(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(cv(n),$d);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:Nn(i)}}const U3=5;function nE(e,t,r){const n=Math.max(t-U3,0);return tv(r-e(n),t-n)}const Je={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Wm=.001;function W3({duration:e=Je.duration,bounce:t=Je.bounce,velocity:r=Je.velocity,mass:n=Je.mass}){let i,s,a=1-t;a=En(Je.minDamping,Je.maxDamping,a),e=En(Je.minDuration,Je.maxDuration,Nn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=Mg(u,a),p=Math.exp(-f);return Wm-h/m*p},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),y=Mg(Math.pow(u,2),a);return(-i(u)+Wm>0?-1:1)*((h-m)*p)/y}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Wm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=K3(i,s,l);if(e=Sn(e),isNaN(c))return{stiffness:Je.stiffness,damping:Je.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const V3=12;function K3(e,t,r){let n=r;for(let i=1;i<V3;i++)n=n-e(n)/t(n);return n}function Mg(e,t){return e*Math.sqrt(1-t*t)}const H3=["duration","bounce"],q3=["stiffness","damping","mass"];function T1(e,t){return t.some(r=>e[r]!==void 0)}function G3(e){let t={velocity:Je.velocity,stiffness:Je.stiffness,damping:Je.damping,mass:Je.mass,isResolvedFromDuration:!1,...e};if(!T1(e,q3)&&T1(e,H3))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*En(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Je.mass,stiffness:i,damping:s}}else{const r=W3(e);t={...t,...r,mass:Je.mass},t.isResolvedFromDuration=!0}return t}function Id(e=Je.visualDuration,t=Je.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=G3({...r,velocity:-Nn(r.velocity||0)}),p=h||0,y=u/(2*Math.sqrt(c*d)),b=a-s,g=Nn(Math.sqrt(c/d)),x=Math.abs(b)<5;n||(n=x?Je.restSpeed.granular:Je.restSpeed.default),i||(i=x?Je.restDelta.granular:Je.restDelta.default);let w;if(y<1){const S=Mg(g,y);w=N=>{const P=Math.exp(-y*g*N);return a-P*((p+y*g*b)/S*Math.sin(S*N)+b*Math.cos(S*N))}}else if(y===1)w=S=>a-Math.exp(-g*S)*(b+(p+g*b)*S);else{const S=g*Math.sqrt(y*y-1);w=N=>{const P=Math.exp(-y*g*N),E=Math.min(S*N,300);return a-P*((p+y*g*b)*Math.sinh(E)+S*b*Math.cosh(E))/S}}const j={calculatedDuration:m&&f||null,next:S=>{const N=w(S);if(m)l.done=S>=f;else{let P=S===0?p:0;y<1&&(P=S===0?Sn(p):nE(w,S,N));const E=Math.abs(P)<=n,R=Math.abs(a-N)<=i;l.done=E&&R}return l.value=l.done?a:N,l},toString:()=>{const S=Math.min(cv(j),$d),N=rE(P=>j.next(S*P).value,S,30);return S+"ms "+N},toTransition:()=>{}};return j}Id.applyToOptions=e=>{const t=z3(e,100,Id);return e.ease=t.ease,e.duration=Sn(t.duration),e.type="keyframes",e};function Rg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>l!==void 0&&E<l||c!==void 0&&E>c,p=E=>l===void 0?c:c===void 0||Math.abs(l-E)<Math.abs(c-E)?l:c;let y=r*t;const b=f+y,g=a===void 0?b:a(b);g!==b&&(y=g-f);const x=E=>-y*Math.exp(-E/n),w=E=>g+x(E),j=E=>{const R=x(E),M=w(E);h.done=Math.abs(R)<=u,h.value=h.done?g:M};let S,N;const P=E=>{m(h.value)&&(S=E,N=Id({keyframes:[h.value,p(h.value)],velocity:nE(w,E,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:E=>{let R=!1;return!N&&S===void 0&&(R=!0,j(E),P(E)),S!==void 0&&E>=S?N.next(E-S):(!R&&j(E),h)}}}function Y3(e,t,r){const n=[],i=r||Xn.mix||tE,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||dr:t;l=Cc(c,l)}n.push(l)}return n}function uv(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(eo(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Y3(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=to(e[f],e[f+1],d);return l[f](h)};return r?d=>u(En(e[0],e[s-1],d)):u}function X3(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=to(0,t,n);e.push(He(r,1,i))}}function iE(e){const t=[0];return X3(t,e.length-1),t}function J3(e,t){return e.map(r=>r*t)}function Q3(e,t){return e.map(()=>t||K2).splice(0,e.length-1)}function Ol({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=f3(n)?n.map(_1):_1(n),s={done:!1,value:t[0]},a=J3(r&&r.length===t.length?r:iE(t),e),l=uv(a,t,{ease:Array.isArray(i)?i:Q3(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Z3=e=>e!==null;function dv(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(Z3),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const e4={decay:Rg,inertia:Rg,tween:Ol,keyframes:Ol,spring:Id};function sE(e){typeof e.type=="string"&&(e.type=e4[e.type])}class fv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const t4=e=>e/100;class hv extends fv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;sE(t);const{type:r=Ol,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||Ol;c!==Ol&&typeof l[0]!="number"&&(this.mixKeyframes=Cc(t4,tE(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=cv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:y,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let w=this.currentTime,j=n;if(f){const E=Math.min(this.currentTime,i)/l;let R=Math.floor(E),M=E%1;!M&&E>=1&&(M=1),M===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(h==="reverse"?(M=1-M,m&&(M-=m/l)):h==="mirror"&&(j=a)),w=En(0,1,M)*l}const S=x?{done:!1,value:d[0]}:j.next(w);s&&(S.value=s(S.value));let{done:N}=S;!x&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return P&&p!==Rg&&(S.value=dv(d,this.options,b,this.speed)),y&&y(S.value),P&&this.finish(),S}then(t,r){return this.finished.then(t,r)}get duration(){return Nn(this.calculatedDuration)}get time(){return Nn(this.currentTime)}set time(t){var r;t=Sn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ar.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Nn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=F3,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function r4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const xs=e=>e*180/Math.PI,Dg=e=>{const t=xs(Math.atan2(e[1],e[0]));return $g(t)},n4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Dg,rotateZ:Dg,skewX:e=>xs(Math.atan(e[1])),skewY:e=>xs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},$g=e=>(e=e%360,e<0&&(e+=360),e),M1=Dg,R1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),D1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),i4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:R1,scaleY:D1,scale:e=>(R1(e)+D1(e))/2,rotateX:e=>$g(xs(Math.atan2(e[6],e[5]))),rotateY:e=>$g(xs(Math.atan2(-e[2],e[0]))),rotateZ:M1,rotate:M1,skewX:e=>xs(Math.atan(e[4])),skewY:e=>xs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Ig(e){return e.includes("scale")?1:0}function Lg(e,t){if(!e||e==="none")return Ig(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=i4,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=n4,i=l}if(!i)return Ig(t);const s=n[t],a=i[1].split(",").map(a4);return typeof s=="function"?s(a):a[s]}const s4=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Lg(r,t)};function a4(e){return parseFloat(e.trim())}const Po=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_o=new Set(Po),$1=e=>e===No||e===ce,o4=new Set(["x","y","z"]),l4=Po.filter(e=>!o4.has(e));function c4(e){const t=[];return l4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const As={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Lg(t,"x"),y:(e,{transform:t})=>Lg(t,"y")};As.translateX=As.x;As.translateY=As.y;const Os=new Set;let Bg=!1,Fg=!1,zg=!1;function aE(){if(Fg){const e=Array.from(Os).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=c4(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Fg=!1,Bg=!1,Os.forEach(e=>e.complete(zg)),Os.clear()}function oE(){Os.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Fg=!0)})}function u4(){zg=!0,oE(),aE(),zg=!1}class mv{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Os.add(this),Bg||(Bg=!0,ke.read(oE),ke.resolveKeyframes(aE))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}r4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Os.delete(this)}cancel(){this.state==="scheduled"&&(Os.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const d4=e=>e.startsWith("--");function f4(e,t,r){d4(t)?e.style.setProperty(t,r):e.style[t]=r}const lE=Z0(()=>window.ScrollTimeline!==void 0),h4={};function m4(e,t){const r=Z0(e);return()=>h4[t]??r()}const cE=m4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,I1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function uE(e,t){if(e)return typeof e=="function"?cE()?rE(e,t):"ease-out":H2(e)?pl(e):Array.isArray(e)?e.map(r=>uE(r,t)||I1.easeOut):I1[e]}function p4(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=uE(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function dE(e){return typeof e=="function"&&"applyToOptions"in e}function g4({type:e,...t}){return dE(e)&&cE()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class y4 extends fv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,eo(typeof t.type!="string");const u=g4(t);this.animation=p4(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=dv(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):f4(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Nn(Number(t))}get time(){return Nn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Sn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&lE()?(this.animation.timeline=t,dr):r(this)}}const fE={anticipate:U2,backInOut:z2,circInOut:V2};function v4(e){return e in fE}function x4(e){typeof e.ease=="string"&&v4(e.ease)&&(e.ease=fE[e.ease])}const L1=10;class b4 extends y4{constructor(t){x4(t),sE(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new hv({...a,autoplay:!1}),c=Sn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-L1).value,l.sample(c).value,L1),l.stop()}}const B1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(zi.test(e)||e==="0")&&!e.startsWith("url("));function w4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function j4(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=B1(i,t),l=B1(s,t);return!a||!l?!1:w4(e)||(r==="spring"||dE(r))&&n}function Ug(e){e.duration=0,e.type}const S4=new Set(["opacity","clipPath","filter","transform"]),N4=Z0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function P4(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return N4()&&r&&S4.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const _4=40;class k4 extends fv{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var y,b;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ar.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||mv;this.keyframeResolver=new m(l,(y,b,g)=>this.onKeyframesResolved(y,b,h,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ar.now(),j4(t,s,a,l)||((Xn.instantAnimations||!c)&&(d==null||d(dv(t,n,r))),t[0]=t[t.length-1],Ug(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>_4?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&P4(h)?new b4({...h,element:h.motionValue.owner.current}):new hv(h);m.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),u4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const E4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function A4(e){const t=E4.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function hE(e,t,r=1){const[n,i]=A4(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return R2(a)?parseFloat(a):a}return sv(i)?hE(i,t,r+1):i}function pv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const mE=new Set(["width","height","top","left","right","bottom",...Po]),O4={test:e=>e==="auto",parse:e=>e},pE=e=>t=>t.test(e),gE=[No,ce,Pn,yi,N3,S3,O4],F1=e=>gE.find(pE(e));function C4(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||$2(e):!0}const T4=new Set(["brightness","contrast","saturate","opacity"]);function M4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(av)||[];if(!n)return e;const i=r.replace(n,"");let s=T4.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const R4=/\b([a-z-]*)\(.*?\)/gu,Wg={...zi,getAnimatableNone:e=>{const t=e.match(R4);return t?t.map(M4).join(" "):e}},z1={...No,transform:Math.round},D4={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:ju,scaleX:ju,scaleY:ju,scaleZ:ju,skew:yi,skewX:yi,skewY:yi,distance:ce,translateX:ce,translateY:ce,translateZ:ce,x:ce,y:ce,z:ce,perspective:ce,transformPerspective:ce,opacity:nc,originX:E1,originY:E1,originZ:ce},gv={borderWidth:ce,borderTopWidth:ce,borderRightWidth:ce,borderBottomWidth:ce,borderLeftWidth:ce,borderRadius:ce,radius:ce,borderTopLeftRadius:ce,borderTopRightRadius:ce,borderBottomRightRadius:ce,borderBottomLeftRadius:ce,width:ce,maxWidth:ce,height:ce,maxHeight:ce,top:ce,right:ce,bottom:ce,left:ce,padding:ce,paddingTop:ce,paddingRight:ce,paddingBottom:ce,paddingLeft:ce,margin:ce,marginTop:ce,marginRight:ce,marginBottom:ce,marginLeft:ce,backgroundPositionX:ce,backgroundPositionY:ce,...D4,zIndex:z1,fillOpacity:nc,strokeOpacity:nc,numOctaves:z1},$4={...gv,color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,filter:Wg,WebkitFilter:Wg},yE=e=>$4[e];function vE(e,t){let r=yE(e);return r!==Wg&&(r=zi),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const I4=new Set(["auto","none","0"]);function L4(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!I4.has(s)&&ic(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=vE(r,i)}class B4 extends mv{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),sv(u))){const d=hE(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!mE.has(n)||t.length!==2)return;const[i,s]=t,a=F1(i),l=F1(s);if(a!==l)if($1(a)&&$1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else As[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||C4(t[i]))&&n.push(i);n.length&&L4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=As[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=As[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function xE(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const bE=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yv(e){return D2(e)&&"offsetHeight"in e}const U1=30,F4=e=>!isNaN(parseFloat(e)),Cl={current:void 0};class z4{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=F4(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new ev);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Cl.current&&Cl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>U1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,U1);return tv(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function on(e,t){return new z4(e,t)}const{schedule:vv,cancel:Hre}=q2(queueMicrotask,!1),Zr={x:!1,y:!1};function wE(){return Zr.x||Zr.y}function U4(e){return e==="x"||e==="y"?Zr[e]?null:(Zr[e]=!0,()=>{Zr[e]=!1}):Zr.x||Zr.y?null:(Zr.x=Zr.y=!0,()=>{Zr.x=Zr.y=!1})}function jE(e,t){const r=xE(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function W1(e){return!(e.pointerType==="touch"||wE())}function W4(e,t,r={}){const[n,i,s]=jE(e,r),a=l=>{if(!W1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{W1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const SE=(e,t)=>t?e===t?!0:SE(e,t.parentElement):!1,xv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,V4=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function K4(e){return V4.has(e.tagName)||e.tabIndex!==-1}const td=new WeakSet;function V1(e){return t=>{t.key==="Enter"&&e(t)}}function Vm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const H4=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=V1(()=>{if(td.has(r))return;Vm(r,"down");const i=V1(()=>{Vm(r,"up")}),s=()=>Vm(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function K1(e){return xv(e)&&!wE()}function q4(e,t,r={}){const[n,i,s]=jE(e,r),a=l=>{const c=l.currentTarget;if(!K1(l))return;td.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),td.has(c)&&td.delete(c),K1(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||SE(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),yv(l)&&(l.addEventListener("focus",u=>H4(u,i)),!K4(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function bv(e){return D2(e)&&"ownerSVGElement"in e}const rd=new WeakMap;let vi;const NE=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:bv(n)&&"getBBox"in n?n.getBBox()[t]:n[r],G4=NE("inline","width","offsetWidth"),Y4=NE("block","height","offsetHeight");function X4({target:e,borderBoxSize:t}){var r;(r=rd.get(e))==null||r.forEach(n=>{n(e,{get width(){return G4(e,t)},get height(){return Y4(e,t)}})})}function J4(e){e.forEach(X4)}function Q4(){typeof ResizeObserver>"u"||(vi=new ResizeObserver(J4))}function Z4(e,t){vi||Q4();const r=xE(e);return r.forEach(n=>{let i=rd.get(n);i||(i=new Set,rd.set(n,i)),i.add(t),vi==null||vi.observe(n)}),()=>{r.forEach(n=>{const i=rd.get(n);i==null||i.delete(t),i!=null&&i.size||vi==null||vi.unobserve(n)})}}const nd=new Set;let Pa;function eB(){Pa=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};nd.forEach(t=>t(e))},window.addEventListener("resize",Pa)}function tB(e){return nd.add(e),Pa||eB(),()=>{nd.delete(e),!nd.size&&typeof Pa=="function"&&(window.removeEventListener("resize",Pa),Pa=void 0)}}function rB(e,t){return typeof e=="function"?tB(e):Z4(e,t)}function PE(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return ke.preUpdate(n,!0),()=>dn(n)}function nB(e){return bv(e)&&e.tagName==="svg"}function iB(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=uv(i,s,a);return t?l(n):l}const Lt=e=>!!(e&&e.getVelocity),sB=[...gE,at,zi],aB=e=>sB.find(pE(e)),Qf=v.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class oB extends v.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=yv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lB({children:e,isPresent:t,anchorX:r,root:n}){const i=v.useId(),s=v.useRef(null),a=v.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=v.useContext(Qf);return v.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");l&&(p.nonce=l);const y=n??document.head;return y.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.contains(p)&&y.removeChild(p)}},[t]),o.jsx(oB,{isPresent:t,childRef:s,sizeRef:a,children:v.cloneElement(e,{ref:s})})}const cB=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=So(uB),d=v.useId();let f=!0,h=v.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),v.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),v.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(lB,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Jf.Provider,{value:h,children:e})};function uB(){return new Map}function _E(e=!0){const t=v.useContext(Jf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=v.useId();v.useEffect(()=>{if(e)return i(s)},[e]);const a=v.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const Su=e=>e.key||"";function H1(e){const t=[];return v.Children.forEach(e,r=>{v.isValidElement(r)&&t.push(r)}),t}const Nu=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=_E(a),f=v.useMemo(()=>H1(e),[e]),h=a&&!u?[]:f.map(Su),m=v.useRef(!0),p=v.useRef(f),y=So(()=>new Map),[b,g]=v.useState(f),[x,w]=v.useState(f);Xf(()=>{m.current=!1,p.current=f;for(let N=0;N<x.length;N++){const P=Su(x[N]);h.includes(P)?y.delete(P):y.get(P)!==!0&&y.set(P,!1)}},[x,h.length,h.join("-")]);const j=[];if(f!==b){let N=[...f];for(let P=0;P<x.length;P++){const E=x[P],R=Su(E);h.includes(R)||(N.splice(P,0,E),j.push(E))}return s==="wait"&&j.length&&(N=j),w(H1(N)),g(f),null}const{forceRender:S}=v.useContext(Y0);return o.jsx(o.Fragment,{children:x.map(N=>{const P=Su(N),E=a&&!u?!1:f===x||h.includes(P),R=()=>{if(y.has(P))y.set(P,!0);else return;let M=!0;y.forEach(_=>{_||(M=!1)}),M&&(S==null||S(),w(p.current),a&&(d==null||d()),n&&n())};return o.jsx(cB,{isPresent:E,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:E?void 0:R,anchorX:l,children:N},P)})})},kE=v.createContext({strict:!1}),q1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ro={};for(const e in q1)ro[e]={isEnabled:t=>q1[e].some(r=>!!t[r])};function dB(e){for(const t in e)ro[t]={...ro[t],...e[t]}}const fB=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fB.has(e)}let EE=e=>!Ld(e);function hB(e){typeof e=="function"&&(EE=t=>t.startsWith("on")?!Ld(t):e(t))}try{hB(require("@emotion/is-prop-valid").default)}catch{}function mB(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(EE(i)||r===!0&&Ld(i)||!t&&!Ld(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Zf=v.createContext({});function eh(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function sc(e){return typeof e=="string"||Array.isArray(e)}const wv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jv=["initial",...wv];function th(e){return eh(e.animate)||jv.some(t=>sc(e[t]))}function AE(e){return!!(th(e)||e.variants)}function pB(e,t){if(th(e)){const{initial:r,animate:n}=e;return{initial:r===!1||sc(r)?r:void 0,animate:sc(n)?n:void 0}}return e.inherit!==!1?t:{}}function gB(e){const{initial:t,animate:r}=pB(e,v.useContext(Zf));return v.useMemo(()=>({initial:t,animate:r}),[G1(t),G1(r)])}function G1(e){return Array.isArray(e)?e.join(" "):e}const ac={};function yB(e){for(const t in e)ac[t]=e[t],iv(t)&&(ac[t].isCSSVariable=!0)}function OE(e,{layout:t,layoutId:r}){return _o.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!ac[e]||e==="opacity")}const vB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},xB=Po.length;function bB(e,t,r){let n="",i=!0;for(let s=0;s<xB;s++){const a=Po[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=bE(l,gv[a]);if(!c){i=!1;const d=vB[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function Sv(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(_o.has(c)){a=!0;continue}else if(iv(c)){i[c]=u;continue}else{const d=bE(u,gv[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=bB(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const Nv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CE(e,t,r){for(const n in t)!Lt(t[n])&&!OE(n,r)&&(e[n]=t[n])}function wB({transformTemplate:e},t){return v.useMemo(()=>{const r=Nv();return Sv(r,t,e),Object.assign({},r.vars,r.style)},[t])}function jB(e,t){const r=e.style||{},n={};return CE(n,r,e),Object.assign(n,wB(e,t)),n}function SB(e,t){const r={},n=jB(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const NB={offset:"stroke-dashoffset",array:"stroke-dasharray"},PB={offset:"strokeDashoffset",array:"strokeDasharray"};function _B(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?NB:PB;e[s.offset]=ce.transform(-n);const a=ce.transform(t),l=ce.transform(r);e[s.array]=`${a} ${l}`}function TE(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(Sv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&_B(f,i,s,a,!1)}const ME=()=>({...Nv(),attrs:{}}),RE=e=>typeof e=="string"&&e.toLowerCase()==="svg";function kB(e,t,r,n){const i=v.useMemo(()=>{const s=ME();return TE(s,t,RE(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};CE(s,e.style,e),i.style={...s,...i.style}}return i}const EB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Pv(e){return typeof e!="string"||e.includes("-")?!1:!!(EB.indexOf(e)>-1||/[A-Z]/u.test(e))}function AB(e,t,r,{latestValues:n},i,s=!1){const l=(Pv(e)?kB:SB)(t,n,i,e),c=mB(t,typeof e=="string",s),u=e!==v.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=v.useMemo(()=>Lt(d)?d.get():d,[d]);return v.createElement(e,{...u,children:f})}function Y1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function _v(e,t,r,n){if(typeof t=="function"){const[i,s]=Y1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=Y1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function id(e){return Lt(e)?e.get():e}function OB({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:CB(r,n,i,e),renderState:t()}}function CB(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=id(s[h]);let{initial:a,animate:l}=e;const c=th(e),u=AE(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!eh(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=_v(e,h[m]);if(p){const{transitionEnd:y,transition:b,...g}=p;for(const x in g){let w=g[x];if(Array.isArray(w)){const j=d?w.length-1:0;w=w[j]}w!==null&&(i[x]=w)}for(const x in y)i[x]=y[x]}}}return i}const DE=e=>(t,r)=>{const n=v.useContext(Zf),i=v.useContext(Jf),s=()=>OB(e,t,n,i);return r?s():So(s)};function kv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(Lt(n[a])||t.style&&Lt(t.style[a])||OE(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const TB=DE({scrapeMotionValuesFromProps:kv,createRenderState:Nv});function $E(e,t,r){const n=kv(e,t,r);for(const i in e)if(Lt(e[i])||Lt(t[i])){const s=Po.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const MB=DE({scrapeMotionValuesFromProps:$E,createRenderState:ME}),RB=Symbol.for("motionComponentSymbol");function _a(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function DB(e,t,r){return v.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_a(r)&&(r.current=n))},[t])}const Ev=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$B="framerAppearId",IE="data-"+Ev($B),LE=v.createContext({});function IB(e,t,r,n,i){var y,b;const{visualElement:s}=v.useContext(Zf),a=v.useContext(kE),l=v.useContext(Jf),c=v.useContext(Qf).reducedMotion,u=v.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=v.useContext(LE);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&LB(u.current,r,i,f);const h=v.useRef(!1);v.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[IE],p=v.useRef(!!m&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,m))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,m)));return Xf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),v.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function LB(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:BE(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&_a(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function BE(e){if(e)return e.options.allowProjection!==!1?e.projection:BE(e.parent)}function Km(e,{forwardMotionProps:t=!1}={},r,n){r&&dB(r);const i=Pv(e)?MB:TB;function s(l,c){let u;const d={...v.useContext(Qf),...l,layoutId:BB(l)},{isStatic:f}=d,h=gB(l),m=i(l,f);if(!f&&X0){FB();const p=zB(d);u=p.MeasureLayout,h.visualElement=IB(e,m,d,n,p.ProjectionNode)}return o.jsxs(Zf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,AB(e,l,DB(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=v.forwardRef(s);return a[RB]=e,a}function BB({layoutId:e}){const t=v.useContext(Y0).id;return t&&e!==void 0?t+"-"+e:e}function FB(e,t){v.useContext(kE).strict}function zB(e){const{drag:t,layout:r}=ro;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function UB(e,t){if(typeof Proxy>"u")return Km;const r=new Map,n=(s,a)=>Km(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,Km(a,void 0,e,t)),r.get(a))})}function FE({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function WB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function VB(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Hm(e){return e===void 0||e===1}function Vg({scale:e,scaleX:t,scaleY:r}){return!Hm(e)||!Hm(t)||!Hm(r)}function us(e){return Vg(e)||zE(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function zE(e){return X1(e.x)||X1(e.y)}function X1(e){return e&&e!=="0%"}function Bd(e,t,r){const n=e-r,i=t*n;return r+i}function J1(e,t,r,n,i){return i!==void 0&&(e=Bd(e,i,n)),Bd(e,r,n)+t}function Kg(e,t=0,r=1,n,i){e.min=J1(e.min,t,r,n,i),e.max=J1(e.max,t,r,n,i)}function UE(e,{x:t,y:r}){Kg(e.x,t.translate,t.scale,t.originPoint),Kg(e.y,r.translate,r.scale,r.originPoint)}const Q1=.999999999999,Z1=1.0000000000001;function KB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ea(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,UE(e,a)),n&&us(s.latestValues)&&Ea(e,s.latestValues))}t.x<Z1&&t.x>Q1&&(t.x=1),t.y<Z1&&t.y>Q1&&(t.y=1)}function ka(e,t){e.min=e.min+t,e.max=e.max+t}function ej(e,t,r,n,i=.5){const s=He(e.min,e.max,i);Kg(e,t,r,s,n)}function Ea(e,t){ej(e.x,t.x,t.scaleX,t.scale,t.originX),ej(e.y,t.y,t.scaleY,t.scale,t.originY)}function WE(e,t){return FE(VB(e.getBoundingClientRect(),t))}function HB(e,t,r){const n=WE(e,r),{scroll:i}=t;return i&&(ka(n.x,i.offset.x),ka(n.y,i.offset.y)),n}const tj=()=>({translate:0,scale:1,origin:0,originPoint:0}),Aa=()=>({x:tj(),y:tj()}),rj=()=>({min:0,max:0}),rt=()=>({x:rj(),y:rj()}),Hg={current:null},VE={current:!1};function qB(){if(VE.current=!0,!!X0)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Hg.current=e.matches;e.addEventListener("change",t),t()}else Hg.current=!1}const GB=new WeakMap;function YB(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Lt(i))e.addValue(n,i);else if(Lt(s))e.addValue(n,on(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,on(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const nj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class XB{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=mv,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ar.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ke.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=th(r),this.isVariantNode=AE(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Lt(m)&&m.set(c[h])}}mount(t){var r;this.current=t,GB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),VE.current||qB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Hg.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),dn(this.notifyUpdate),dn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=_o.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in ro){const r=ro[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<nj.length;n++){const i=nj[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=YB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=on(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(R2(n)||$2(n))?n=parseFloat(n):!aB(n)&&zi.test(r)&&(n=vE(t,r)),this.setBaseTarget(t,Lt(n)?n.get():n)),Lt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=_v(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Lt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new ev),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){vv.render(this.render)}}class KE extends XB{constructor(){super(...arguments),this.KeyframeResolver=B4}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function HE(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function JB(e){return window.getComputedStyle(e)}class QB extends KE{constructor(){super(...arguments),this.type="html",this.renderInstance=HE}readValueFromInstance(t,r){var n;if(_o.has(r))return(n=this.projection)!=null&&n.isProjecting?Ig(r):s4(t,r);{const i=JB(t),s=(iv(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return WE(t,r)}build(t,r,n){Sv(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return kv(t,r,n)}}const qE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ZB(e,t,r,n){HE(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(qE.has(i)?i:Ev(i),t.attrs[i])}class e5 extends KE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(_o.has(r)){const n=yE(r);return n&&n.default||0}return r=qE.has(r)?r:Ev(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return $E(t,r,n)}build(t,r,n){TE(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){ZB(t,r,n,i)}mount(t){this.isSVGTag=RE(t.tagName),super.mount(t)}}const t5=(e,t)=>Pv(e)?new e5(t):new QB(t,{allowProjection:e!==v.Fragment});function za(e,t,r){const n=e.getProps();return _v(n,t,r!==void 0?r:n.custom,e)}const qg=e=>Array.isArray(e);function r5(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,on(r))}function n5(e){return qg(e)?e[e.length-1]||0:e}function i5(e,t){const r=za(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=n5(s[a]);r5(e,a,l)}}function s5(e){return!!(Lt(e)&&e.add)}function Gg(e,t){const r=e.getValue("willChange");if(s5(r))return r.add(t);if(!r&&Xn.WillChange){const n=new Xn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function GE(e){return e.props[IE]}const a5=e=>e!==null;function o5(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(a5),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const l5={type:"spring",stiffness:500,damping:25,restSpeed:10},c5=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),u5={type:"keyframes",duration:.8},d5={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},f5=(e,{keyframes:t})=>t.length>2?u5:_o.has(e)?e.startsWith("scale")?c5(t[1]):l5:d5;function h5({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Av=(e,t,r,n={},i,s)=>a=>{const l=pv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Sn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};h5(l)||Object.assign(d,f5(e,d)),d.duration&&(d.duration=Sn(d.duration)),d.repeatDelay&&(d.repeatDelay=Sn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Ug(d),d.delay===0&&(f=!0)),(Xn.instantAnimations||Xn.skipAnimations)&&(f=!0,Ug(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=o5(d.keyframes,l);if(h!==void 0){ke.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new hv(d):new k4(d)};function m5({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function YE(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&m5(u,d))continue;const m={delay:r,...pv(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const g=GE(e);if(g){const x=window.MotionHandoffAnimation(g,d,ke);x!==null&&(m.startTime=x,y=!0)}}Gg(e,d),f.start(Av(d,f,h,e.shouldReduceMotion&&mE.has(d)?{type:!1}:m,e,y));const b=f.animation;b&&c.push(b)}return a&&Promise.all(c).then(()=>{ke.update(()=>{a&&i5(e,a)})}),c}function XE(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function Yg(e,t,r={}){var c;const n=za(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(YE(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return p5(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function p5(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Yg(c,t,{...a,delay:r+(typeof n=="function"?0:n)+XE(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function g5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Yg(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Yg(e,t,r);else{const i=typeof t=="function"?za(e,t,r.custom):t;n=Promise.all(YE(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function JE(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const y5=jv.length;function QE(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?QE(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<y5;r++){const n=jv[r],i=e.props[n];(sc(i)||i===!1)&&(t[n]=i)}return t}const v5=[...wv].reverse(),x5=wv.length;function b5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>g5(e,r,n)))}function w5(e){let t=b5(e),r=ij(),n=!0;const i=c=>(u,d)=>{var h;const f=za(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...y}=f;u={...u,...y,...p}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=QE(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let b=0;b<x5;b++){const g=v5[b],x=r[g],w=u[g]!==void 0?u[g]:d[g],j=sc(w),S=g===c?x.isActive:null;S===!1&&(p=b);let N=w===d[g]&&w!==u[g]&&j;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),x.protectedKeys={...m},!x.isActive&&S===null||!w&&!x.prevProp||eh(w)||typeof w=="boolean")continue;const P=j5(x.prevProp,w);let E=P||g===c&&x.isActive&&!N&&j||b>p&&j,R=!1;const M=Array.isArray(w)?w:[w];let _=M.reduce(i(g),{});S===!1&&(_={});const{prevResolvedValues:D={}}=x,T={...D,..._},O=L=>{E=!0,h.has(L)&&(R=!0,h.delete(L)),x.needsAnimating[L]=!0;const F=e.getValue(L);F&&(F.liveStyle=!1)};for(const L in T){const F=_[L],I=D[L];if(m.hasOwnProperty(L))continue;let H=!1;qg(F)&&qg(I)?H=!JE(F,I):H=F!==I,H?F!=null?O(L):h.add(L):F!==void 0&&h.has(L)?O(L):x.protectedKeys[L]=!0}x.prevProp=w,x.prevResolvedValues=_,x.isActive&&(m={...m,..._}),n&&e.blockInitialAnimation&&(E=!1);const A=N&&P;E&&(!A||R)&&f.push(...M.map(L=>{const F={type:g};if(typeof L=="string"&&n&&!A&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,H=za(I,L);if(I.enteringChildren&&H){const{delayChildren:re}=H.transition||{};F.delay=XE(I.enteringChildren,e,re)}}return{animation:L,options:F}}))}if(h.size){const b={};if(typeof u.initial!="boolean"){const g=za(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(b.transition=g.transition)}h.forEach(g=>{const x=e.getBaseTarget(g),w=e.getValue(g);w&&(w.liveStyle=!0),b[g]=x??null}),f.push({animation:b})}let y=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=ij(),n=!0}}}function j5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!JE(t,e):!1}function as(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function ij(){return{animate:as(!0),whileInView:as(),whileHover:as(),whileTap:as(),whileDrag:as(),whileFocus:as(),exit:as()}}class Yi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class S5 extends Yi{constructor(t){super(t),t.animationState||(t.animationState=w5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();eh(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let N5=0;class P5 extends Yi{constructor(){super(...arguments),this.id=N5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const _5={animation:{Feature:S5},exit:{Feature:P5}};function oc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Rc(e){return{point:{x:e.pageX,y:e.pageY}}}const k5=e=>t=>xv(t)&&e(t,Rc(t));function Tl(e,t,r,n){return oc(e,t,k5(r),n)}const ZE=1e-4,E5=1-ZE,A5=1+ZE,eA=.01,O5=0-eA,C5=0+eA;function Kt(e){return e.max-e.min}function T5(e,t,r){return Math.abs(e-t)<=r}function sj(e,t,r,n=.5){e.origin=n,e.originPoint=He(t.min,t.max,e.origin),e.scale=Kt(r)/Kt(t),e.translate=He(r.min,r.max,e.origin)-e.originPoint,(e.scale>=E5&&e.scale<=A5||isNaN(e.scale))&&(e.scale=1),(e.translate>=O5&&e.translate<=C5||isNaN(e.translate))&&(e.translate=0)}function Ml(e,t,r,n){sj(e.x,t.x,r.x,n?n.originX:void 0),sj(e.y,t.y,r.y,n?n.originY:void 0)}function aj(e,t,r){e.min=r.min+t.min,e.max=e.min+Kt(t)}function M5(e,t,r){aj(e.x,t.x,r.x),aj(e.y,t.y,r.y)}function oj(e,t,r){e.min=t.min-r.min,e.max=e.min+Kt(t)}function Rl(e,t,r){oj(e.x,t.x,r.x),oj(e.y,t.y,r.y)}function Rr(e){return[e("x"),e("y")]}const tA=({current:e})=>e?e.ownerDocument.defaultView:null,lj=(e,t)=>Math.abs(e-t);function R5(e,t){const r=lj(e.x,t.x),n=lj(e.y,t.y);return Math.sqrt(r**2+n**2)}class rA{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Gm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=R5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:y}=h,{timestamp:b}=yt;this.history.push({...y,timestamp:b});const{onStart:g,onMove:x}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=qm(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Gm(h.type==="pointercancel"?this.lastMoveEventInfo:qm(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),y&&y(h,g)},!xv(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Rc(t),c=qm(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=yt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Gm(c,this.history)),this.removeListeners=Cc(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),dn(this.updatePoint)}}function qm(e,t){return t?{point:t(e.point)}:e}function cj(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gm({point:e},t){return{point:e,delta:cj(e,nA(t)),offset:cj(e,D5(t)),velocity:$5(t,.1)}}function D5(e){return e[0]}function nA(e){return e[e.length-1]}function $5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=nA(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>Sn(t)));)r--;if(!n)return{x:0,y:0};const s=Nn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function I5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?He(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?He(r,e,n.max):Math.min(e,r)),e}function uj(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function L5(e,{top:t,left:r,bottom:n,right:i}){return{x:uj(e.x,r,i),y:uj(e.y,t,n)}}function dj(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function B5(e,t){return{x:dj(e.x,t.x),y:dj(e.y,t.y)}}function F5(e,t){let r=.5;const n=Kt(e),i=Kt(t);return i>n?r=to(t.min,t.max-n,e.min):n>i&&(r=to(e.min,e.max-i,t.min)),En(0,1,r)}function z5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Xg=.35;function U5(e=Xg){return e===!1?e=0:e===!0&&(e=Xg),{x:fj(e,"left","right"),y:fj(e,"top","bottom")}}function fj(e,t,r){return{min:hj(e,t),max:hj(e,r)}}function hj(e,t){return typeof e=="number"?e:e[t]||0}const W5=new WeakMap;class V5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Rc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:y}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=U4(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(g=>{let x=this.getAxisMotionValue(g).get()||0;if(Pn.test(x)){const{projection:w}=this.visualElement;if(w&&w.layout){const j=w.layout.layoutBox[g];j&&(x=Kt(j)*(parseFloat(x)/100))}}this.originPoint[g]=x}),y&&ke.postRender(()=>y(f,h)),Gg(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:y,onDrag:b}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=K5(g),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),b&&b(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Rr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new rA(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:tA(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ke.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Pu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=I5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&_a(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=L5(n.layoutBox,t):this.constraints=!1,this.elastic=U5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Rr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=z5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_a(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=HB(n,i.root,this.visualElement.getTransformPagePoint());let a=B5(i.layout.layoutBox,s);if(r){const l=r(WB(a));this.hasMutatedConstraints=!!l,l&&(a=FE(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Rr(d=>{if(!Pu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Gg(this.visualElement,t),n.start(Av(t,n,0,r,this.visualElement,!1))}stopAnimation(){Rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Rr(r=>{const{drag:n}=this.getProps();if(!Pu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-He(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_a(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=F5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rr(a=>{if(!Pu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(He(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;W5.set(this.visualElement,this);const t=this.visualElement.current,r=Tl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();_a(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ke.read(n);const a=oc(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=Xg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Pu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function K5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class H5 extends Yi{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new V5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const mj=e=>(t,r)=>{e&&ke.postRender(()=>e(t,r))};class q5 extends Yi{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new rA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:mj(t),onStart:mj(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ke.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ce.test(e))e=parseFloat(e);else return e;const r=pj(e,t.target.x),n=pj(e,t.target.y);return`${r}% ${n}%`}},G5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=zi.parse(e);if(i.length>5)return n;const s=zi.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=He(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Ym=!1;class Y5 extends v.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;yB(X5),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Ym&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Ym=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),vv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Ym=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function iA(e){const[t,r]=_E(),n=v.useContext(Y0);return o.jsx(Y5,{...e,layoutGroup:n,switchLayoutGroup:v.useContext(LE),isPresent:t,safeToRemove:r})}const X5={borderRadius:{...Zo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zo,borderTopRightRadius:Zo,borderBottomLeftRadius:Zo,borderBottomRightRadius:Zo,boxShadow:G5};function J5(e,t,r){const n=Lt(e)?e:on(e);return n.start(Av("",n,t,r)),n.animation}const Q5=(e,t)=>e.depth-t.depth;class Z5{constructor(){this.children=[],this.isDirty=!1}add(t){J0(this.children,t),this.isDirty=!0}remove(t){Q0(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Q5),this.isDirty=!1,this.children.forEach(t)}}function eF(e,t){const r=ar.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(dn(n),e(s-t))};return ke.setup(n,!0),()=>dn(n)}const sA=["TopLeft","TopRight","BottomLeft","BottomRight"],tF=sA.length,gj=e=>typeof e=="string"?parseFloat(e):e,yj=e=>typeof e=="number"||ce.test(e);function rF(e,t,r,n,i,s){i?(e.opacity=He(0,r.opacity??1,nF(n)),e.opacityExit=He(t.opacity??1,0,iF(n))):s&&(e.opacity=He(t.opacity??1,r.opacity??1,n));for(let a=0;a<tF;a++){const l=`border${sA[a]}Radius`;let c=vj(t,l),u=vj(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||yj(c)===yj(u)?(e[l]=Math.max(He(gj(c),gj(u),n),0),(Pn.test(u)||Pn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=He(t.rotate||0,r.rotate||0,n))}function vj(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const nF=aA(0,.5,W2),iF=aA(.5,.95,dr);function aA(e,t,r){return n=>n<e?0:n>t?1:r(to(e,t,n))}function xj(e,t){e.min=t.min,e.max=t.max}function Ar(e,t){xj(e.x,t.x),xj(e.y,t.y)}function bj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function wj(e,t,r,n,i){return e-=t,e=Bd(e,1/r,n),i!==void 0&&(e=Bd(e,1/i,n)),e}function sF(e,t=0,r=1,n=.5,i,s=e,a=e){if(Pn.test(t)&&(t=parseFloat(t),t=He(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=He(s.min,s.max,n);e===s&&(l-=t),e.min=wj(e.min,t,r,l,i),e.max=wj(e.max,t,r,l,i)}function jj(e,t,[r,n,i],s,a){sF(e,t[r],t[n],t[i],t.scale,s,a)}const aF=["x","scaleX","originX"],oF=["y","scaleY","originY"];function Sj(e,t,r,n){jj(e.x,t,aF,r?r.x:void 0,n?n.x:void 0),jj(e.y,t,oF,r?r.y:void 0,n?n.y:void 0)}function Nj(e){return e.translate===0&&e.scale===1}function oA(e){return Nj(e.x)&&Nj(e.y)}function Pj(e,t){return e.min===t.min&&e.max===t.max}function lF(e,t){return Pj(e.x,t.x)&&Pj(e.y,t.y)}function _j(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function lA(e,t){return _j(e.x,t.x)&&_j(e.y,t.y)}function kj(e){return Kt(e.x)/Kt(e.y)}function Ej(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class cF{constructor(){this.members=[]}add(t){J0(this.members,t),t.scheduleRender()}remove(t){if(Q0(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function uF(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Xm=["","X","Y","Z"],dF=1e3;let fF=0;function Jm(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function cA(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=GE(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ke,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&cA(n)}function uA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=fF++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pF),this.nodes.forEach(xF),this.nodes.forEach(bF),this.nodes.forEach(gF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Z5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new ev),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=bv(a)&&!nB(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=eF(h,250),sd.hasAnimatedSinceResize&&(sd.hasAnimatedSinceResize=!1,this.nodes.forEach(Cj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||PF,{onLayoutAnimationStart:y,onLayoutAnimationComplete:b}=u.getProps(),g=!this.targetLayout||!lA(this.targetLayout,m),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const w={...pv(p,"layout"),onPlay:y,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w),this.setAnimationOrigin(d,x)}else f||Cj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),dn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(wF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cA(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Aj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Oj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(vF),this.nodes.forEach(hF),this.nodes.forEach(mF)):this.nodes.forEach(Oj),this.clearAllSnapshots();const l=ar.now();yt.delta=En(0,1e3/60,l-yt.timestamp),yt.timestamp=l,yt.isProcessing=!0,Bm.update.process(yt),Bm.preRender.process(yt),Bm.render.process(yt),yt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(yF),this.sharedNodes.forEach(jF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!oA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||us(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),_F(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return rt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(kF))){const{scroll:d}=this.root;d&&(ka(l.x,d.offset.x),ka(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=rt();if(Ar(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Ar(l,a),ka(l.x,f.offset.x),ka(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=rt();Ar(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ea(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),us(d.latestValues)&&Ea(c,d.latestValues)}return us(this.latestValues)&&Ea(c,this.latestValues),c}removeTransform(a){const l=rt();Ar(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!us(u.latestValues))continue;Vg(u.latestValues)&&u.updateSnapshot();const d=rt(),f=u.measurePageBox();Ar(d,f),Sj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return us(this.latestValues)&&Sj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==yt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=yt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Rl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=rt(),this.targetWithTransforms=rt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),M5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ar(this.target,this.layout.layoutBox),UE(this.target,this.targetDelta)):Ar(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rt(),this.relativeTargetOrigin=rt(),Rl(this.relativeTargetOrigin,this.target,m.target),Ar(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Vg(this.parent.latestValues)||zE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===yt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Ar(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;KB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=rt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(bj(this.prevProjectionDelta.x,this.projectionDelta.x),bj(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!Ej(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ej(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Aa(),this.projectionDelta=Aa(),this.projectionDeltaWithTransform=Aa()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=rt(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,y=m!==p,b=this.getStack(),g=!b||b.members.length<=1,x=!!(y&&!g&&this.options.crossfade===!0&&!this.path.some(NF));this.animationProgress=0;let w;this.mixTargetDelta=j=>{const S=j/1e3;Tj(f.x,a.x,S),Tj(f.y,a.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),SF(this.relativeTarget,this.relativeTargetOrigin,h,S),w&&lF(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=rt()),Ar(w,this.relativeTarget)),y&&(this.animationValues=d,rF(d,u,this.latestValues,S,x,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(dn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{sd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=on(0)),this.currentAnimation=J5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(dF),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&dA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||rt();const f=Kt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Kt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Ar(l,c),Ea(l,d),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new cF),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Jm("z",a,u,this.animationValues);for(let d=0;d<Xm.length;d++)Jm(`rotate${Xm[d]}`,a,u,this.animationValues),Jm(`skew${Xm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=id(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=id(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!us(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=uF(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in ac){if(d[p]===void 0)continue;const{correct:y,applyTo:b,isCSSVariable:g}=ac[p],x=f==="none"?d[p]:y(d[p],u);if(b){const w=b.length;for(let j=0;j<w;j++)a[b[j]]=x}else g?this.options.visualElement.renderState.vars[p]=x:a[p]=x}this.options.layoutId&&(a.pointerEvents=u===this?id(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(Aj),this.root.sharedNodes.clear()}}}function hF(e){e.updateLayout()}function mF(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Rr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Kt(h);h.min=n[f].min,h.max=h.min+m}):dA(s,t.layoutBox,n)&&Rr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Kt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=Aa();Ml(l,n,t.layoutBox);const c=Aa();a?Ml(c,e.applyTransform(i,!0),t.measuredBox):Ml(c,n,t.layoutBox);const u=!oA(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=rt();Rl(p,t.layoutBox,h.layoutBox);const y=rt();Rl(y,n,m.layoutBox),lA(p,y)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function pF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function gF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yF(e){e.clearSnapshot()}function Aj(e){e.clearMeasurements()}function Oj(e){e.isLayoutDirty=!1}function vF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Cj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function xF(e){e.resolveTargetDelta()}function bF(e){e.calcProjection()}function wF(e){e.resetSkewAndRotation()}function jF(e){e.removeLeadSnapshot()}function Tj(e,t,r){e.translate=He(t.translate,0,r),e.scale=He(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Mj(e,t,r,n){e.min=He(t.min,r.min,n),e.max=He(t.max,r.max,n)}function SF(e,t,r,n){Mj(e.x,t.x,r.x,n),Mj(e.y,t.y,r.y,n)}function NF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const PF={duration:.45,ease:[.4,0,.1,1]},Rj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Dj=Rj("applewebkit/")&&!Rj("chrome/")?Math.round:dr;function $j(e){e.min=Dj(e.min),e.max=Dj(e.max)}function _F(e){$j(e.x),$j(e.y)}function dA(e,t,r){return e==="position"||e==="preserve-aspect"&&!T5(kj(t),kj(r),.2)}function kF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const EF=uA({attachResizeListener:(e,t)=>oc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qm={current:void 0},fA=uA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Qm.current){const e=new EF({});e.mount(window),e.setOptions({layoutScroll:!0}),Qm.current=e}return Qm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),AF={pan:{Feature:q5},drag:{Feature:H5,ProjectionNode:fA,MeasureLayout:iA}};function Ij(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ke.postRender(()=>s(t,Rc(t)))}class OF extends Yi{mount(){const{current:t}=this.node;t&&(this.unmount=W4(t,(r,n)=>(Ij(this.node,n,"Start"),i=>Ij(this.node,i,"End"))))}unmount(){}}class CF extends Yi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cc(oc(this.node.current,"focus",()=>this.onFocus()),oc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Lj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ke.postRender(()=>s(t,Rc(t)))}class TF extends Yi{mount(){const{current:t}=this.node;t&&(this.unmount=q4(t,(r,n)=>(Lj(this.node,n,"Start"),(i,{success:s})=>Lj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Jg=new WeakMap,Zm=new WeakMap,MF=e=>{const t=Jg.get(e.target);t&&t(e)},RF=e=>{e.forEach(MF)};function DF({root:e,...t}){const r=e||document;Zm.has(r)||Zm.set(r,{});const n=Zm.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(RF,{root:e,...t})),n[i]}function $F(e,t,r){const n=DF(t);return Jg.set(e,r),n.observe(e),()=>{Jg.delete(e),n.unobserve(e)}}const IF={some:0,all:1};class LF extends Yi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:IF[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return $F(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(BF(t,r))&&this.startObserver()}unmount(){}}function BF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const FF={inView:{Feature:LF},tap:{Feature:TF},focus:{Feature:CF},hover:{Feature:OF}},zF={layout:{ProjectionNode:fA,MeasureLayout:iA}},UF={..._5,...FF,...AF,...zF},Le=UB(UF,t5),WF=50,Bj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),VF=()=>({time:0,x:Bj(),y:Bj()}),KF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Fj(e,t,r,n){const i=r[t],{length:s,position:a}=KF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=to(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>WF?0:tv(i.current-l,u)}function HF(e,t,r){Fj(e,"x",t,r),Fj(e,"y",t,r),t.time=r}function qF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(yv(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Qg={start:0,center:.5,end:1};function zj(e,t,r=0){let n=0;if(e in Qg&&(e=Qg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const GF=[0,0];function YF(e,t,r,n){let i=Array.isArray(e)?e:GF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Qg[e]?e:"0"]),s=zj(i[0],r,n),a=zj(i[1],t),s-a}const XF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},JF={x:0,y:0};function QF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function ZF(e,t,r){const{offset:n=XF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?qF(i,e):JF,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:QF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=YF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=uv(t[s].offset,iE(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=En(0,1,t[s].interpolate(t[s].current))}function ez(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function tz(e,t,r,n={}){return{measure:i=>{ez(e,n.target,r),HF(e,r,i),(n.offset||n.target)&&ZF(e,r,n)},notify:()=>t(r)}}const el=new WeakMap,Uj=new WeakMap,ep=new WeakMap,Wj=e=>e===document.scrollingElement?window:e;function hA(e,{container:t=document.scrollingElement,...r}={}){if(!t)return dr;let n=ep.get(t);n||(n=new Set,ep.set(t,n));const i=VF(),s=tz(t,e,i,r);if(n.add(s),!el.has(t)){const l=()=>{for(const f of n)f.measure(yt.timestamp);ke.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>ke.read(l);el.set(t,u);const d=Wj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Uj.set(t,rB(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=el.get(t);return ke.read(a,!1,!0),()=>{var u;dn(a);const l=ep.get(t);if(!l||(l.delete(s),l.size))return;const c=el.get(t);el.delete(t),c&&(Wj(t).removeEventListener("scroll",c),(u=Uj.get(t))==null||u(),window.removeEventListener("resize",c))}}const Vj=new Map;function rz(e){const t={value:0},r=hA(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function mA({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Vj.get(t)??new Map;Vj.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&lE()?new ScrollTimeline({source:t,axis:n}):rz({container:t,...r})),a[l]}function nz(e,t){const r=mA(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),PE(i=>{n.time=n.duration*i},r))})}function iz(e){return e.length===2}function sz(e,t){return iz(e)?hA(r=>{e(r[t.axis].progress,r)},t):PE(e,mA(t))}function az(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return dr;const i={axis:t,container:r,...n};return typeof e=="function"?sz(e,i):nz(e,i)}const oz=()=>({scrollX:on(0),scrollY:on(0),scrollXProgress:on(0),scrollYProgress:on(0)}),_u=e=>e?!e.current:!1;function lz({container:e,target:t,...r}={}){const n=So(oz),i=v.useRef(null),s=v.useRef(!1),a=v.useCallback(()=>(i.current=az((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Xf(()=>{if(s.current=!1,_u(e)||_u(t)){s.current=!0;return}else return a()},[a]),v.useEffect(()=>{if(s.current)return eo(!_u(e)),eo(!_u(t)),a()},[a]),n}function cz(e){const t=So(()=>on(e)),{isStatic:r}=v.useContext(Qf);if(r){const[,n]=v.useState(e);v.useEffect(()=>t.on("change",n),[])}return t}function pA(e,t){const r=cz(t()),n=()=>r.set(t());return n(),Xf(()=>{const i=()=>ke.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),dn(n)}}),r}function uz(e){Cl.current=[],e();const t=pA(Cl.current,e);return Cl.current=void 0,t}function tp(e,t,r,n){if(typeof e=="function")return uz(e);const i=typeof t=="function"?t:iB(t,r,n);return Array.isArray(e)?Kj(e,i):Kj([e],([s])=>i(s))}function Kj(e,t){const r=So(()=>[]);return pA(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Hj({onViewChange:e}){var F,I,H,re,J,ye;const{user:t,logout:r}=Ft(),[n,i]=v.useState(!1),[s,a]=v.useState(!1),[l,c]=v.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=v.useState([]),[f,h]=v.useState([]),[m,p]=v.useState([]),[y,b]=v.useState([]),[g,x]=v.useState([]),[w,j]=v.useState(!0),[S,N]=v.useState("all"),[P,E]=v.useState(0),R=v.useRef(null),{scrollYProgress:M}=lz(R.current?{target:R,offset:["start start","end start"],layoutEffect:!1}:void 0),_=tp(M,[0,1],[0,-200]),D=tp(M,[0,.5],[1,0]),T=tp(M,[0,1],[0,-100]),O=async()=>{try{const{data:G}=await Y.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!G)return;const ie={};G.forEach(W=>{const{player1_name:K,player2_name:$,winner_name:X}=W;ie[K]||(ie[K]={wins:0,total:0,tournaments:new Set}),ie[$]||(ie[$]={wins:0,total:0,tournaments:new Set}),ie[K].total++,ie[$].total++,X===K?ie[K].wins++:X===$&&ie[$].wins++});const de=Object.entries(ie).map(([W,K])=>({name:W,wins:K.wins,tournaments:K.tournaments.size,winRate:K.total>0?Math.round(K.wins/K.total*100):0})).filter(W=>W.wins>0).sort((W,K)=>K.wins!==W.wins?K.wins-W.wins:K.winRate-W.winRate).slice(0,5);h(de)}catch(G){console.error("Error fetching top players:",G)}},A=async()=>{try{const{data:G}=await Y.from("tournaments").select("*"),{data:ie}=await Y.from("match_results").select("*"),de=new Set;ie==null||ie.forEach($=>{$.player1_name&&de.add($.player1_name),$.player2_name&&de.add($.player2_name)});const W=new Date,K=(G==null?void 0:G.filter($=>new Date($.tournament_date)>W&&$.status!=="completed"))||[];c({totalTournaments:(G==null?void 0:G.length)||0,activePlayers:de.size,upcomingEvents:K.length,completedMatches:(ie==null?void 0:ie.length)||0}),d(K.slice(0,3)),x(G||[])}catch(G){console.error("Error fetching dashboard stats:",G)}},z=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:G}=await Y.from("deck_presets").select("*").eq("user_id",t.id);p(G||[])}catch(G){console.error("Error fetching deck presets:",G)}},L=async()=>{try{let G=Y.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});S!=="all"&&(G=G.eq("tournament_id",S));const{data:ie}=await G.limit(20);b(ie||[])}catch(G){console.error("Error fetching recent matches:",G)}};return v.useEffect(()=>{(async()=>{j(!0),await Promise.all([A(),O(),z(),L()]),j(!1)})()},[t]),v.useEffect(()=>{L()},[S]),v.useEffect(()=>{if(f.length<=1)return;const G=setInterval(()=>{E(ie=>(ie+1)%f.length)},5e3);return()=>clearInterval(G)},[f.length]),w?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Le.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(Nu,{children:n&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(T2,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(C2,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Le.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(O2,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Le.section,{ref:R,style:{y:_,opacity:D},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Le.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Le.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(bt,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Qo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx(Fs,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Qo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Le.div,{style:{y:T},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:bt,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:At,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:Fi,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:Ac,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((G,ie)=>o.jsxs(Le.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:ie*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${G.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${G.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(G.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:G.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:G.label})]},G.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Jump into action with our most popular features"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(bt,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles and view tournament brackets"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString()," • ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-blue-200 text-sm",children:[u[0].current_participants,"/",u[0].max_participants," registered"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Yf,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed • Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Le.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Oc,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory • Save presets • Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Le.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(Nu,{mode:"wait",children:o.jsxs(Le.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(F=f[P])==null?void 0:F.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(A2,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(I=f[P])==null?void 0:I.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(G0,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(H=f[P])==null?void 0:H.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(re=f[P])==null?void 0:re.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(J=f[P])==null?void 0:J.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((G,ie)=>o.jsx("button",{onClick:()=>E(ie),className:`w-3 h-3 rounded-full transition-all duration-300 ${ie===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},ie))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Le.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:S,onChange:G=>N(G.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),g.map(G=>o.jsx("option",{value:G.id,children:G.name},G.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(Nu,{mode:"wait",children:y.length===0?o.jsxs(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Qa,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:S==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((ye=g.find(G=>G.id===S))==null?void 0:ye.name)||"this tournament"}`})]}):o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:y.slice(0,6).map((G,ie)=>{var de;return o.jsx(Le.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:ie*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:G.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",G.winner_name===G.player1_name?G.player2_name:G.player1_name]})]})]}),(G.player1_beyblade||G.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:G.winner_name===G.player1_name?`${G.player1_beyblade||"Unknown"} vs ${G.player2_beyblade||"Unknown"}`:`${G.player2_beyblade||"Unknown"} vs ${G.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((de=G.outcome)==null?void 0:de.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(G.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${G.tournament_id}-${G.submitted_at}-${ie}`)})})})]})})}),o.jsx(Le.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay • Powered by Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.4.0"})]})]})})})]}),o.jsx(Nu,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Le.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Le.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(M2,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(wt,{size:16})})]})})]})})]})}function dz(e,t){const{user:r}=Ft(),{alert:n}=Gi(),[i,s]=v.useState(""),[a,l]=v.useState(e.is_free?"free":"cash"),[c,u]=v.useState([{id:"1",bladeLine:"",parts:{}}]),[d,f]=v.useState([]),[h,m]=v.useState(""),[p,y]=v.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[b,g]=v.useState(!1),[x,w]=v.useState(null),j=async()=>{g(!0),w(null);try{const[_,D,T,O,A]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);if(_.error)throw _.error;if(D.error)throw D.error;if(T.error)throw T.error;if(O.error)throw O.error;if(A.error)throw A.error;y({blades:_.data||[],ratchets:D.data||[],bits:T.data||[],lockchips:O.data||[],assistBlades:A.data||[]})}catch(_){console.error(_),w("Failed to load Beyblade parts. Please try again.")}finally{g(!1)}},S=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:_,error:D}=await Y.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(D)throw D;f(_||[])}catch(_){console.error(_)}},N=_=>{const D=d.find(O=>O.id===_);if(!D)return;const T=D.beyblades.slice(0,e.beyblades_per_player).map((O,A)=>({id:(A+1).toString(),bladeLine:O.blade_line,parts:O.parts}));u(T),m("")},P=async()=>{var _;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const T=(_=(await Y.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&_.is_free?"confirmed":"unpaid",{data:O,error:A}=await Y.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:T}).select().single();if(A)throw A;for(const z of c){const L=R(z),{data:F,error:I}=await Y.from("tournament_beyblades").insert({registration_id:O.id,beyblade_name:L,blade_line:z.bladeLine}).select().single();if(I)throw I;const H=Object.entries(z.parts).map(([J,ye])=>({beyblade_id:F.id,part_type:J,part_name:E(ye,J),part_data:ye})),{error:re}=await Y.from("tournament_beyblade_parts").insert(H);if(re)throw re}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(D){console.error(D),await n("Registration Failed",D.message||"Unknown error occurred.")}},E=(_,D)=>{switch(D){case"Blade":case"Main Blade":return _.Blades;case"Ratchet":return _.Ratchet;case"Bit":return`${_.Bit} (${_.Shortcut})`;case"Lockchip":return _.Lockchip;case"Assist Blade":return`${_["Assist Blade Name"]} (${_["Assist Blade"]})`;default:return""}},R=_=>{if(!M(_.bladeLine).every(T=>_.parts[T]))return"";if(_.bladeLine==="Custom"){const{Lockchip:T,"Main Blade":O,"Assist Blade":A,Ratchet:z,Bit:L}=_.parts;return`${(T==null?void 0:T.Lockchip)||""}${(O==null?void 0:O.Blades)||""} ${(A==null?void 0:A["Assist Blade"])||""}${(z==null?void 0:z.Ratchet)||""}${(L==null?void 0:L.Shortcut)||""}`}else{const{Blade:T,Ratchet:O,Bit:A}=_.parts;return`${(T==null?void 0:T.Blades)||""} ${(O==null?void 0:O.Ratchet)||""}${(A==null?void 0:A.Shortcut)||""}`}},M=_=>{switch(_){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}};return v.useEffect(()=>{j(),S()},[]),{playerName:i,setPlayerName:s,paymentMode:a,setPaymentMode:l,beyblades:c,setBeyblades:u,deckPresets:d,selectedPreset:h,setSelectedPreset:m,loadPreset:N,partsData:p,isLoadingParts:b,partsError:x,fetchPartsData:j,handleSubmit:P}}function fz(e,t,r){const[n,i]=v.useState([]),[s,a]=v.useState({duplicateParts:[],duplicatePlayerName:!1}),l=async()=>{try{const{data:m,error:p}=await Y.from("tournament_registrations").select("player_name").eq("tournament_id",r.id).eq("status","confirmed");if(p)throw p;i((m||[]).map(y=>y.player_name.toLowerCase().trim()))}catch(m){console.error("Error fetching player names",m)}},c=m=>{const p=m.toLowerCase().trim(),y=n.includes(p);return a(b=>({...b,duplicatePlayerName:y})),!y},u=()=>{const m=[],p=new Map;return t.forEach((y,b)=>{d(y.bladeLine).forEach(x=>{const w=y.parts[x];if(!w)return;const j=f(w,x),S=`${x}:${j}`;if(p.has(S)){const N=p.get(S);m.push(`${j} (${x}) is used in both Beyblade ${N.beybladeIndex+1} and Beyblade ${b+1}`)}else p.set(S,{beybladeIndex:b,partType:x})})}),a(y=>({...y,duplicateParts:m})),m.length===0},d=m=>{switch(m){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},f=(m,p)=>{switch(p){case"Blade":case"Main Blade":return m.Blades;case"Ratchet":return m.Ratchet;case"Bit":return`${m.Bit} (${m.Shortcut})`;case"Lockchip":return m.Lockchip;case"Assist Blade":return`${m["Assist Blade Name"]} (${m["Assist Blade"]})`;default:return""}},h=()=>!e.trim()||s.duplicatePlayerName||s.duplicateParts.length>0?!1:t.every(m=>m.bladeLine?d(m.bladeLine).every(y=>m.parts[y]):!1);return v.useEffect(()=>{e.trim()?c(e):a(m=>({...m,duplicatePlayerName:!1}))},[e,n]),v.useEffect(()=>{u()},[t]),v.useEffect(()=>{l()},[r.id]),{validationErrors:s,isFormValid:h,validatePlayerName:c,validateBeybladeConfiguration:u}}function hz({playerName:e,setPlayerName:t,paymentMode:r,setPaymentMode:n,tournament:i,validationErrors:s}){const{user:a}=Ft(),[l,c]=bn.useState(!1);return bn.useEffect(()=>{l&&a&&!a.id.startsWith("guest-")?t(a.username):l||t("")},[l,a,t]),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Rd,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),a&&!a.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:l,onChange:u=>c(u.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(t3,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Registering for myself (",a.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:e,onChange:u=>t(u.target.value),disabled:l,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${l?"bg-gray-100 cursor-not-allowed":""}`}),s.duplicatePlayerName&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:r,onChange:u=>n(u.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]})}function mz({deckPresets:e,selectedPreset:t,setSelectedPreset:r,loadPreset:n}){var i,s,a;return o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Fa,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:t,onChange:l=>r(l.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),e.map(l=>o.jsxs("option",{value:l.id,children:[l.name," (",l.beyblades.length," Beyblades)"]},l.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>t&&n(t),disabled:!t,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),t&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(i=e.find(l=>l.id===t))==null?void 0:i.beyblades.slice(0,3).map((l,c)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:["• ",l.name||`Beyblade ${c+1}`]},c)),((s=e.find(l=>l.id===t))==null?void 0:s.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((a=e.find(l=>l.id===t))==null?void 0:a.beyblades.length)-3," more..."]})]})})]})}function pz({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(Oc,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(Es,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(Gf,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx(Qa,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(q0,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Qa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function gz({beyblade:e,index:t,beyblades:r,setBeyblades:n,partsData:i,validationErrors:s}){const a=p=>{switch(p){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},l=(p,y)=>{let b=[];switch(y){case"Blade":b=i.blades.filter(g=>g.Line===p);break;case"Main Blade":b=i.blades.filter(g=>g.Line==="Custom");break;case"Ratchet":b=i.ratchets;break;case"Bit":b=i.bits;break;case"Lockchip":b=i.lockchips;break;case"Assist Blade":b=i.assistBlades;break}return b.sort((g,x)=>c(g,y).localeCompare(c(x,y)))},c=(p,y)=>{switch(y){case"Blade":case"Main Blade":return p.Blades;case"Ratchet":return p.Ratchet;case"Bit":return`${p.Bit} (${p.Shortcut})`;case"Lockchip":return p.Lockchip;case"Assist Blade":return`${p["Assist Blade Name"]} (${p["Assist Blade"]})`;default:return""}},u=(p,y)=>{n(r.map(b=>b.id===e.id?{...b,bladeLine:y,parts:{}}:b))},d=(p,y)=>{n(r.map(b=>b.id===e.id?{...b,parts:{...b.parts,[p]:y}}:b))},f=()=>{r.length>1&&n(r.filter(p=>p.id!==e.id))},h=()=>{if(!a(e.bladeLine).every(y=>e.parts[y]))return"";if(e.bladeLine==="Custom"){const{Lockchip:y,"Main Blade":b,"Assist Blade":g,Ratchet:x,Bit:w}=e.parts;return`${(y==null?void 0:y.Lockchip)||""}${(b==null?void 0:b.Blades)||""} ${(g==null?void 0:g["Assist Blade"])||""}${(x==null?void 0:x.Ratchet)||""}${(w==null?void 0:w.Shortcut)||""}`}else{const{Blade:y,Ratchet:b,Bit:g}=e.parts;return`${(y==null?void 0:y.Blades)||""} ${(b==null?void 0:b.Ratchet)||""}${(g==null?void 0:g.Shortcut)||""}`}},m=()=>Object.values(e.parts).reduce((p,y)=>(y&&(p.attack+=y.Attack||0,p.defense+=y.Defense||0,p.stamina+=y.Stamina||0,p.dash+=y.Dash||0,p.burstRes+=y["Burst Res"]||0),p),{attack:0,defense:0,stamina:0,dash:0,burstRes:0});return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",t+1]}),r.length>1&&o.jsx("button",{onClick:f,className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Blade Line *"}),o.jsxs("select",{value:e.bladeLine,onChange:p=>u("bladeLine",p.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Blade Line"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),e.bladeLine&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:h()||"Select all parts to generate name"})]})]}),e.bladeLine&&o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:a(e.bladeLine).map(p=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[p," *"]}),o.jsxs("select",{value:e.parts[p]?JSON.stringify(e.parts[p]):"",onChange:y=>y.target.value&&d(p,JSON.parse(y.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",p]}),l(e.bladeLine,p).map((y,b)=>o.jsx("option",{value:JSON.stringify(y),children:c(y,p)},b))]}),e.parts[p]&&s.duplicateParts.some(y=>y.includes(c(e.parts[p],p)))&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This part is used in another Beyblade"})]},p))}),e.bladeLine&&Object.keys(e.parts).length>0&&o.jsx(pz,{stats:m()})]})}function yz({tournament:e,onClose:t}){const{user:r}=Ft();Gi();const{playerName:n,setPlayerName:i,paymentMode:s,setPaymentMode:a,beyblades:l,setBeyblades:c,deckPresets:u,selectedPreset:d,setSelectedPreset:f,loadPreset:h,partsData:m,isLoadingParts:p,partsError:y,fetchPartsData:b,handleSubmit:g}=dz(e,t),{validationErrors:x,isFormValid:w}=fz(n,l,e);return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[p&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[y&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:y}),o.jsx("button",{onClick:b,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsx(hz,{playerName:n,setPlayerName:i,paymentMode:s,setPaymentMode:a,tournament:e,validationErrors:x}),!(r!=null&&r.id.startsWith("guest-"))&&u.length>0&&o.jsx(mz,{deckPresets:u,selectedPreset:d,setSelectedPreset:f,loadPreset:h}),l.map((j,S)=>o.jsx(gz,{beyblade:j,index:S,beyblades:l,setBeyblades:c,partsData:m,validationErrors:x},j.id)),l.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>c([...l,{id:Date.now().toString(),bladeLine:"",parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:g,disabled:!w()||p,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function vz(){Ft();const{alert:e}=Gi(),[t,r]=v.useState("all"),[n,i]=v.useState(null),[s,a]=v.useState([]),[l,c]=v.useState(!0);bn.useEffect(()=>{(async()=>{try{const{data:m,error:p}=await Y.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(p)throw p;a(m||[])}catch(m){console.error("Error fetching tournaments:",m),a([])}finally{c(!1)}})()},[]);const u=s.filter(h=>t==="all"||h.status===t),d=(h,m)=>{console.log("Tournament registration:",{playerName:h,beyblades:m}),e("Registration Complete",`Successfully registered ${h} with ${m.length} Beyblades for the tournament!`),i(null)},f=h=>{switch(h){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade battles"})]}),o.jsx("div",{className:"mb-8",children:o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(h=>o.jsx("button",{onClick:()=>r(h),className:`filter-tab capitalize ${t===h?"filter-tab-active":"filter-tab-inactive"}`,children:h},h))})}),l?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):u.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(bt,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(h=>o.jsxs("div",{className:"card p-6 hover:shadow-lg transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsx("h3",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:h.name}),o.jsx("span",{className:`badge capitalize ${f(h.status)}`,children:h.status})]}),o.jsx("p",{className:"text-gray-600 mb-6 font-inter",children:h.description}),o.jsxs("div",{className:"space-y-3 mb-6",children:[o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Fi,{size:16,className:"mr-2"}),new Date(h.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(GL,{size:16,className:"mr-2"}),h.location]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(At,{size:16,className:"mr-2"}),h.max_participants===999999?`${h.current_participants} participants (no limit)`:`${h.current_participants}/${h.max_participants} participants`]}),h.prize_pool&&o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(bt,{size:16,className:"mr-2"}),"Prize Pool: ",h.prize_pool]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(Gf,{size:16,className:"mr-2"}),"Registration ends: ",new Date(h.registration_deadline).toLocaleDateString()]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-2",children:[o.jsx("span",{children:"Registration Progress"}),o.jsx("span",{children:h.max_participants===999999?`${h.current_participants} registered`:`${Math.round(h.current_participants/h.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:h.max_participants===999999?"100%":`${Math.min(h.current_participants/h.max_participants*100,100)}%`}})})]}),h.status==="upcoming"&&o.jsx("button",{onClick:()=>i(h.id),disabled:h.max_participants!==999999&&h.current_participants>=h.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed",children:h.max_participants!==999999&&h.current_participants>=h.max_participants?"Tournament Full":"Register for Tournament"})]},h.id))}),n&&o.jsx(yz,{tournament:u.find(h=>h.id===n),onClose:()=>i(null),onSubmit:d})]})})}function gA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=gA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=gA(e))&&(n&&(n+=" "),n+=t);return n}var rh={},yA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(yA);var Ov={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Ov);var Cv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Cv);var nh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(nh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yA,r=Ov,n=Cv,i=nh;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(rh);var xz=rh.get;const Ui=Hr(xz);var vA={exports:{}},Oe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=Symbol.for("react.transitional.element"),Mv=Symbol.for("react.portal"),ih=Symbol.for("react.fragment"),sh=Symbol.for("react.strict_mode"),ah=Symbol.for("react.profiler"),oh=Symbol.for("react.consumer"),lh=Symbol.for("react.context"),ch=Symbol.for("react.forward_ref"),uh=Symbol.for("react.suspense"),dh=Symbol.for("react.suspense_list"),fh=Symbol.for("react.memo"),hh=Symbol.for("react.lazy"),bz=Symbol.for("react.view_transition"),wz=Symbol.for("react.client.reference");function qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tv:switch(e=e.type,e){case ih:case ah:case sh:case uh:case dh:case bz:return e;default:switch(e=e&&e.$$typeof,e){case lh:case ch:case hh:case fh:return e;case oh:return e;default:return t}}case Mv:return t}}}Oe.ContextConsumer=oh;Oe.ContextProvider=lh;Oe.Element=Tv;Oe.ForwardRef=ch;Oe.Fragment=ih;Oe.Lazy=hh;Oe.Memo=fh;Oe.Portal=Mv;Oe.Profiler=ah;Oe.StrictMode=sh;Oe.Suspense=uh;Oe.SuspenseList=dh;Oe.isContextConsumer=function(e){return qr(e)===oh};Oe.isContextProvider=function(e){return qr(e)===lh};Oe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tv};Oe.isForwardRef=function(e){return qr(e)===ch};Oe.isFragment=function(e){return qr(e)===ih};Oe.isLazy=function(e){return qr(e)===hh};Oe.isMemo=function(e){return qr(e)===fh};Oe.isPortal=function(e){return qr(e)===Mv};Oe.isProfiler=function(e){return qr(e)===ah};Oe.isStrictMode=function(e){return qr(e)===sh};Oe.isSuspense=function(e){return qr(e)===uh};Oe.isSuspenseList=function(e){return qr(e)===dh};Oe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===ih||e===ah||e===sh||e===uh||e===dh||typeof e=="object"&&e!==null&&(e.$$typeof===hh||e.$$typeof===fh||e.$$typeof===lh||e.$$typeof===oh||e.$$typeof===ch||e.$$typeof===wz||e.getModuleId!==void 0)};Oe.typeOf=qr;vA.exports=Oe;var jz=vA.exports,jt=e=>e===0?0:e>0?1:-1,wr=e=>typeof e=="number"&&e!=+e,bs=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ne=e=>(typeof e=="number"||e instanceof Number)&&!wr(e),An=e=>ne(e)||typeof e=="string",Sz=0,lc=e=>{var t=++Sz;return"".concat(e||"").concat(t)},Yt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ne(t)&&typeof t!="string")return n;var s;if(bs(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return wr(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},xA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Oa=(e,t)=>ne(e)&&ne(t)?r=>e+r*(t-e):()=>t;function la(e,t,r){return ne(e)&&ne(t)?e+r*(t-e):t}function Nz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ui(n,t))===r)}var et=e=>e===null||typeof e>"u",Dc=e=>et(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Pz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Rv(e){if(typeof e!="string")return!1;var t=Pz;return t.includes(e)}var _z=["viewBox","children"],qj=["points","pathLength"],rp={svg:_z,polygon:qj,polyline:qj},Dv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(v.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Rv(i)&&(n[i]=s=>r[i](r,s))}),n},kz=(e,t,r)=>n=>(e(t,r,n),null),Xs=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];Rv(i)&&typeof s=="function"&&(n||(n={}),n[i]=kz(s,t,r))}),n},Ez=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function bA(e){if(typeof e!="string")return!1;var t=Ez;return t.includes(e)}function zt(e){var t=Object.entries(e).filter(r=>{var[n]=r;return bA(n)});return Object.fromEntries(t)}var Gj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Yj=null,np=null,wA=e=>{if(e===Yj&&Array.isArray(np))return np;var t=[];return v.Children.forEach(e,r=>{et(r)||(jz.isFragment(r)?t=t.concat(wA(r.props.children)):t.push(r))}),np=t,Yj=e,t};function $c(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Gj(i)):n=[Gj(t)],wA(e).forEach(i=>{var s=Ui(i,"type.displayName")||Ui(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var Az=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(rp==null?void 0:rp[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||bA(t)),c=!!r&&Rv(t);return a||l||c},je=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(v.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;Az((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},Oz=["children","width","height","viewBox","className","style","title","desc"];function Zg(){return Zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zg.apply(null,arguments)}function Cz(e,t){if(e==null)return{};var r,n,i=Tz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Tz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $v=v.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=Cz(e,Oz),f=s||{width:n,height:i,x:0,y:0},h=me("recharts-surface",a);return v.createElement("svg",Zg({},je(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),v.createElement("title",null,c),v.createElement("desc",null,u),r)}),Mz=["children","className"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function Rz(e,t){if(e==null)return{};var r,n,i=Dz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Dz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ye=v.forwardRef((e,t)=>{var{children:r,className:n}=e,i=Rz(e,Mz),s=me("recharts-layer",n);return v.createElement("g",ey({className:s},je(i,!0),{ref:t}),r)}),jA=v.createContext(null),$z=()=>v.useContext(jA);function Re(e){return function(){return e}}const SA=Math.cos,Fd=Math.sin,fn=Math.sqrt,zd=Math.PI,mh=2*zd,ty=Math.PI,ry=2*ty,ds=1e-6,Iz=ry-ds;function NA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function Lz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return NA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Bz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?NA:Lz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ds)if(!(Math.abs(f*c-u*d)>ds)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=i-l,y=c*c+u*u,b=m*m+p*p,g=Math.sqrt(y),x=Math.sqrt(h),w=s*Math.tan((ty-Math.acos((y+h-b)/(2*g*x)))/2),j=w/x,S=w/g;Math.abs(j-1)>ds&&this._append`L${t+j*d},${r+j*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ds||Math.abs(this._y1-d)>ds)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%ry+ry),h>Iz?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ds&&this._append`A${n},${n},0,${+(h>=ty)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Iv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new Bz(t)}function Lv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PA(e){this._context=e}PA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ph(e){return new PA(e)}function _A(e){return e[0]}function kA(e){return e[1]}function EA(e,t){var r=Re(!0),n=null,i=ph,s=null,a=Iv(l);e=typeof e=="function"?e:e===void 0?_A:Re(e),t=typeof t=="function"?t:t===void 0?kA:Re(t);function l(c){var u,d=(c=Lv(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function ku(e,t,r){var n=null,i=Re(!0),s=null,a=ph,l=null,c=Iv(u);e=typeof e=="function"?e:e===void 0?_A:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?kA:Re(+r);function u(f){var h,m,p,y=(f=Lv(f)).length,b,g=!1,x,w=new Array(y),j=new Array(y);for(s==null&&(l=a(x=c())),h=0;h<=y;++h){if(!(h<y&&i(b=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(w[p],j[p]);l.lineEnd(),l.areaEnd()}g&&(w[h]=+e(b,h,f),j[h]=+t(b,h,f),l.point(n?+n(b,h,f):w[h],r?+r(b,h,f):j[h]))}if(x)return l=null,x+""||null}function d(){return EA().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Re(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class AA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function Fz(e){return new AA(e,!0)}function zz(e){return new AA(e,!1)}const Bv={draw(e,t){const r=fn(t/zd);e.moveTo(r,0),e.arc(0,0,r,0,mh)}},Uz={draw(e,t){const r=fn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},OA=fn(1/3),Wz=OA*2,Vz={draw(e,t){const r=fn(t/Wz),n=r*OA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},Kz={draw(e,t){const r=fn(t),n=-r/2;e.rect(n,n,r,r)}},Hz=.8908130915292852,CA=Fd(zd/10)/Fd(7*zd/10),qz=Fd(mh/10)*CA,Gz=-SA(mh/10)*CA,Yz={draw(e,t){const r=fn(t*Hz),n=qz*r,i=Gz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=mh*s/5,l=SA(a),c=Fd(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},ip=fn(3),Xz={draw(e,t){const r=-fn(t/(ip*3));e.moveTo(0,r*2),e.lineTo(-ip*r,-r),e.lineTo(ip*r,-r),e.closePath()}},Or=-.5,Cr=fn(3)/2,ny=1/fn(12),Jz=(ny/2+1)*3,Qz={draw(e,t){const r=fn(t/Jz),n=r/2,i=r*ny,s=n,a=r*ny+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Or*n-Cr*i,Cr*n+Or*i),e.lineTo(Or*s-Cr*a,Cr*s+Or*a),e.lineTo(Or*l-Cr*c,Cr*l+Or*c),e.lineTo(Or*n+Cr*i,Or*i-Cr*n),e.lineTo(Or*s+Cr*a,Or*a-Cr*s),e.lineTo(Or*l+Cr*c,Or*c-Cr*l),e.closePath()}};function Zz(e,t){let r=null,n=Iv(i);e=typeof e=="function"?e:Re(e||Bv),t=typeof t=="function"?t:Re(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ud(){}function Wd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function TA(e){this._context=e}TA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Wd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e8(e){return new TA(e)}function MA(e){this._context=e}MA.prototype={areaStart:Ud,areaEnd:Ud,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t8(e){return new MA(e)}function RA(e){this._context=e}RA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r8(e){return new RA(e)}function DA(e){this._context=e}DA.prototype={areaStart:Ud,areaEnd:Ud,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function n8(e){return new DA(e)}function Xj(e){return e<0?-1:1}function Jj(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return(Xj(s)+Xj(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Qj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function sp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function Vd(e){this._context=e}Vd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:sp(this,this._t0,Qj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,sp(this,Qj(this,r=Jj(this,e,t)),r);break;default:sp(this,this._t0,r=Jj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function $A(e){this._context=new IA(e)}($A.prototype=Object.create(Vd.prototype)).point=function(e,t){Vd.prototype.point.call(this,t,e)};function IA(e){this._context=e}IA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function i8(e){return new Vd(e)}function s8(e){return new $A(e)}function LA(e){this._context=e}LA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Zj(e),i=Zj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Zj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function a8(e){return new LA(e)}function gh(e,t){this._context=e,this._t=t}gh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function o8(e){return new gh(e,.5)}function l8(e){return new gh(e,0)}function c8(e){return new gh(e,1)}function no(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function iy(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function u8(e,t){return e[t]}function d8(e){const t=[];return t.key=e,t}function f8(){var e=Re([]),t=iy,r=no,n=u8;function i(s){var a=Array.from(e.apply(this,arguments),d8),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Lv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?iy:typeof s=="function"?s:Re(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??no,i):r},i}function h8(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}no(e,t)}}function m8(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}no(e,t)}}function p8(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var y=e[t[p]],b=y[n][1]||0,g=y[n-1][1]||0;m+=b-g}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,no(e,t)}}var g8=["type","size","sizeType"];function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y8(e,t,r){return(t=v8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v8(e){var t=x8(e,"string");return typeof t=="symbol"?t:t+""}function x8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b8(e,t){if(e==null)return{};var r,n,i=w8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function w8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var BA={symbolCircle:Bv,symbolCross:Uz,symbolDiamond:Vz,symbolSquare:Kz,symbolStar:Yz,symbolTriangle:Xz,symbolWye:Qz},j8=Math.PI/180,S8=e=>{var t="symbol".concat(Dc(e));return BA[t]||Bv},N8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*j8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},P8=(e,t)=>{BA["symbol".concat(Dc(e))]=t},Fv=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=b8(e,g8),s=tS(tS({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=S8(t),h=Zz().type(f).size(N8(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=je(s,!0);return c===+c&&u===+u&&r===+r?v.createElement("path",sy({},d,{className:me("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};Fv.registerSymbol=P8;function ay(){return ay=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ay.apply(null,arguments)}function rS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function _8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?rS(Object(r),!0).forEach(function(n){zv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zv(e,t,r){return(t=k8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k8(e){var t=E8(e,"string");return typeof t=="symbol"?t:t+""}function E8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tr=32;class Uv extends v.PureComponent{renderIcon(t,r){var{inactiveColor:n}=this.props,i=Tr/2,s=Tr/6,a=Tr/3,l=t.inactive?n:t.color,c=r??t.type;if(c==="none")return null;if(c==="plainline")return v.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:t.payload.strokeDasharray,x1:0,y1:i,x2:Tr,y2:i,className:"recharts-legend-icon"});if(c==="line")return v.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Tr,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return v.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Tr/8,"h").concat(Tr,"v").concat(Tr*3/4,"h").concat(-Tr,"z"),className:"recharts-legend-icon"});if(v.isValidElement(t.legendIcon)){var u=_8({},t);return delete u.legendIcon,v.cloneElement(t.legendIcon,u)}return v.createElement(Fv,{fill:l,cx:i,cy:i,size:Tr,sizeType:"diameter",type:c})}renderItems(){var{payload:t,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=this.props,l={x:0,y:0,width:Tr,height:Tr},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=me({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?s:d.color,y=h?h(d.value,d,f):d.value;return v.createElement("li",ay({className:m,style:c,key:"legend-item-".concat(f)},Xs(this.props,d,f)),v.createElement($v,{width:r,height:r,viewBox:l,style:u,"aria-label":"".concat(y," legend icon")},this.renderIcon(d,a)),v.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}render(){var{payload:t,layout:r,align:n}=this.props;if(!t||!t.length)return null;var i={padding:0,margin:0,textAlign:r==="horizontal"?n:"left"};return v.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}zv(Uv,"displayName","Legend");zv(Uv,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var FA={},zA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(zA);var Ic={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Ic);var UA={},yh={},WA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(WA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=WA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(yh);var VA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(VA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yh,r=VA;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(UA);var vh={},KA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rh;function r(n){return function(i){return t.get(i,n)}}e.property=r})(KA);var HA={},ap={},op={},Wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Wv);var Vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Vv);var xh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(xh);var nS;function A8(){return nS||(nS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kv(),r=Wv,n=Vv,i=xh;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(y,b,g,x,w,j){const S=m(y,b,g,x,w,j);return S!==void 0?!!S:a(y,b,p,j)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const y=Object.keys(h);if(f==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let b=0;b<y.length;b++){const g=y[b];if(!n.isPrimitive(f)&&!(g in f)||h[g]===void 0&&f[g]!==void 0||h[g]===null&&f[g]!==null||!m(f[g],h[g],g,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[y,b]of h.entries()){const g=f.get(y);if(m(g,b,y,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const y=new Set;for(let b=0;b<h.length;b++){const g=h[b];let x=!1;for(let w=0;w<f.length;w++){if(y.has(w))continue;const j=f[w];let S=!1;if(m(j,g,b,f,h,p)&&(S=!0),S){y.add(w),x=!0;break}}if(!x)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=s,e.isSetMatch=d}(op)),op}var iS;function Kv(){return iS||(iS=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=A8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(ap)),ap}var qA={},Hv={},qv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(qv);var bh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(bh);var wh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",y="[object DataView]",b="[object Uint8Array]",g="[object Uint8ClampedArray]",x="[object Uint16Array]",w="[object Uint32Array]",j="[object BigUint64Array]",S="[object Int8Array]",N="[object Int16Array]",P="[object Int32Array]",E="[object BigInt64Array]",R="[object Float32Array]",M="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=j,e.booleanTag=i,e.dataViewTag=y,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=M,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=P,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=x,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=g})(wh);var GA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(GA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qv,r=bh,n=wh,i=Vv,s=GA;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const y=p==null?void 0:p(d,f,h,m);if(y!==void 0)return y;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let g=0;g<d.length;g++)b[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[g,x]of d)b.set(g,l(x,g,h,m,p));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const g of d)b.add(l(g,void 0,h,m,p));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let g=0;g<d.length;g++)b[g]=l(d[g],g,h,m,p);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),c(b,d,h,m,p),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),c(b,d,h,m,p),b}if(d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),c(b,d,h,m,p),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,h,m,p),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),c(b,d,h,m,p),b}return d}function c(d,f,h=d,m,p){const y=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<y.length;b++){const g=y[b],x=Object.getOwnPropertyDescriptor(d,g);(x==null||x.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(Hv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(qA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kv(),r=qA;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(HA);var YA={},XA={},JA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Hv,r=wh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(JA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(XA);var QA={},Gv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Gv);var ZA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(ZA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ov,r=Gv,n=ZA,i=nh;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(QA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kv(),r=Cv,n=XA,i=rh,s=QA;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(YA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ic,r=KA,n=HA,i=YA;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(vh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zA,r=Ic,n=UA,i=vh;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(FA);var O8=FA.uniqBy;const sS=Hr(O8);function eO(e,t,r){return t===!0?sS(e,r):typeof t=="function"?sS(e,t):e}var tO={exports:{}},rO={},nO={exports:{}},iO={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var io=v;function C8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var T8=typeof Object.is=="function"?Object.is:C8,M8=io.useState,R8=io.useEffect,D8=io.useLayoutEffect,$8=io.useDebugValue;function I8(e,t){var r=t(),n=M8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return D8(function(){i.value=r,i.getSnapshot=t,lp(i)&&s({inst:i})},[e,r,t]),R8(function(){return lp(i)&&s({inst:i}),e(function(){lp(i)&&s({inst:i})})},[e]),$8(r),r}function lp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!T8(e,r)}catch{return!0}}function L8(e,t){return t()}var B8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?L8:I8;iO.useSyncExternalStore=io.useSyncExternalStore!==void 0?io.useSyncExternalStore:B8;nO.exports=iO;var F8=nO.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jh=v,z8=F8;function U8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var W8=typeof Object.is=="function"?Object.is:U8,V8=z8.useSyncExternalStore,K8=jh.useRef,H8=jh.useEffect,q8=jh.useMemo,G8=jh.useDebugValue;rO.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=K8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=q8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,W8(d,m))return p;var y=n(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=V8(e,s[0],s[1]);return H8(function(){a.hasValue=!0,a.value=l},[l]),G8(l),l};tO.exports=rO;var Y8=tO.exports,Yv=v.createContext(null),X8=e=>e,Ue=()=>{var e=v.useContext(Yv);return e?e.store.dispatch:X8},ad=()=>{},J8=()=>ad,Q8=(e,t)=>e===t;function te(e){var t=v.useContext(Yv);return Y8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:J8,t?t.store.getState:ad,t?t.store.getState:ad,t?e:ad,Q8)}function Z8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function eU(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function tU(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var aS=e=>Array.isArray(e)?e:[e];function rU(e){const t=Array.isArray(e[0])?e[0]:e;return tU(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function nU(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var iU=class{constructor(e){this.value=e}deref(){return this.value}},sU=typeof WeakRef<"u"?WeakRef:iU,aU=0,oS=1;function Eu(){return{s:aU,v:void 0,o:null,p:null}}function sO(e,t={}){let r=Eu();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=l.o;y===null&&(l.o=y=new WeakMap);const b=y.get(p);b===void 0?(l=Eu(),y.set(p,l)):l=b}else{let y=l.p;y===null&&(l.p=y=new Map);const b=y.get(p);b===void 0?(l=Eu(),y.set(p,l)):l=b}}const u=l;let d;if(l.s===oS)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new sU(d):d}return u.s=oS,u.v=d,d}return a.clearCache=()=>{r=Eu(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function oU(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),Z8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=sO,argsMemoizeOptions:p=[],devModeChecks:y={}}=d,b=aS(h),g=aS(p),x=rU(i),w=f(function(){return s++,u.apply(null,arguments)},...b),j=m(function(){a++;const N=nU(x,arguments);return l=w.apply(null,N),l},...g);return Object.assign(j,{resultFunc:u,memoizedResultFunc:w,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var B=oU(sO),lU=Object.assign((e,t=B)=>{eU(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>lU}),aO={},oO={},lO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(lO);var cO={},Xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Xv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(cO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lO,r=cO,n=nh;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let y=m;for(let b=0;b<p.length&&y!=null;++b)y=y[p[b]];return y},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let y=0;y<f.length;y++){const b=t.compareValues(m.criteria[y],p.criteria[y],l[y]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=i})(oO);var uO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(uO);var Jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Gv,r=yh,n=Wv,i=xh;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Jv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oO,r=uO,n=Jv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(aO);var cU=aO.sortBy;const Sh=Hr(cU);var dO=e=>e.legend.settings,uU=e=>e.legend.size,dU=e=>e.legend.payload,fU=B([dU,dO],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Sh(n,r):n});function hU(){return te(fU)}var Au=1;function fO(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=v.useState({height:0,left:0,top:0,width:0}),n=v.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>Au||Math.abs(a.left-t.left)>Au||Math.abs(a.top-t.top)>Au||Math.abs(a.width-t.width)>Au)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var mU=typeof Symbol=="function"&&Symbol.observable||"@@observable",lS=mU,cp=()=>Math.random().toString(36).substring(7).split("").join("."),pU={INIT:`@@redux/INIT${cp()}`,REPLACE:`@@redux/REPLACE${cp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${cp()}`},Kd=pU;function Qv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function hO(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(hO)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((b,g)=>{a.set(g,b)}))}function d(){if(c)throw new Error(Pt(3));return i}function f(b){if(typeof b!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let g=!0;u();const x=l++;return a.set(x,b),function(){if(g){if(c)throw new Error(Pt(6));g=!1,u(),a.delete(x),s=null}}}function h(b){if(!Qv(b))throw new Error(Pt(7));if(typeof b.type>"u")throw new Error(Pt(8));if(typeof b.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,i=n(i,b)}finally{c=!1}return(s=a).forEach(x=>{x()}),b}function m(b){if(typeof b!="function")throw new Error(Pt(10));n=b,h({type:Kd.REPLACE})}function p(){const b=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(Pt(11));function x(){const j=g;j.next&&j.next(d())}return x(),{unsubscribe:b(x)}},[lS](){return this}}}return h({type:Kd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[lS]:p}}function gU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Kd.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:Kd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function mO(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{gU(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Pt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Hd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function yU(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Hd(...l)(i.dispatch),{...i,dispatch:s}}}function pO(e){return Qv(e)&&"type"in e&&typeof e.type=="string"}var gO=Symbol.for("immer-nothing"),cS=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function sn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var so=Object.getPrototypeOf;function Us(e){return!!e&&!!e[jr]}function Jn(e){var t;return e?yO(e)||Array.isArray(e)||!!e[cS]||!!((t=e.constructor)!=null&&t[cS])||Ph(e)||_h(e):!1}var vU=Object.prototype.constructor.toString();function yO(e){if(!e||typeof e!="object")return!1;const t=so(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===vU}function qd(e,t){Nh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Nh(e){const t=e[jr];return t?t.type_:Array.isArray(e)?1:Ph(e)?2:_h(e)?3:0}function oy(e,t){return Nh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vO(e,t,r){const n=Nh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function xU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ph(e){return e instanceof Map}function _h(e){return e instanceof Set}function fs(e){return e.copy_||e.base_}function ly(e,t){if(Ph(e))return new Map(e);if(_h(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=yO(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[jr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(so(e),n)}else{const n=so(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Zv(e,t=!1){return kh(e)||Us(e)||!Jn(e)||(Nh(e)>1&&(e.set=e.add=e.clear=e.delete=bU),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Zv(n,!0))),e}function bU(){sn(2)}function kh(e){return Object.isFrozen(e)}var wU={};function Ws(e){const t=wU[e];return t||sn(0,e),t}var cc;function xO(){return cc}function jU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function uS(e,t){t&&(Ws("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function cy(e){uy(e),e.drafts_.forEach(SU),e.drafts_=null}function uy(e){e===cc&&(cc=e.parent_)}function dS(e){return cc=jU(cc,e)}function SU(e){const t=e[jr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function fS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[jr].modified_&&(cy(t),sn(4)),Jn(e)&&(e=Gd(t,e),t.parent_||Yd(t,e)),t.patches_&&Ws("Patches").generateReplacementPatches_(r[jr].base_,e,t.patches_,t.inversePatches_)):e=Gd(t,r,[]),cy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==gO?e:void 0}function Gd(e,t,r){if(kh(t))return t;const n=t[jr];if(!n)return qd(t,(i,s)=>hS(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Yd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),qd(s,(l,c)=>hS(e,n,i,l,c,r,a)),Yd(e,i,!1),r&&e.patches_&&Ws("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function hS(e,t,r,n,i,s,a){if(Us(i)){const l=s&&t&&t.type_!==3&&!oy(t.assigned_,n)?s.concat(n):void 0,c=Gd(e,i,l);if(vO(r,n,c),Us(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Jn(i)&&!kh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Yd(e,i)}}function Yd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zv(t,r)}function NU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:xO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=ex;r&&(i=[n],s=uc);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var ex={get(e,t){if(t===jr)return e;const r=fs(e);if(!oy(r,t))return PU(e,r,t);const n=r[t];return e.finalized_||!Jn(n)?n:n===up(e.base_,t)?(dp(e),e.copy_[t]=fy(n,e)):n},has(e,t){return t in fs(e)},ownKeys(e){return Reflect.ownKeys(fs(e))},set(e,t,r){const n=bO(fs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=up(fs(e),t),s=i==null?void 0:i[jr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(xU(r,i)&&(r!==void 0||oy(e.base_,t)))return!0;dp(e),dy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return up(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,dp(e),dy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=fs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){sn(11)},getPrototypeOf(e){return so(e.base_)},setPrototypeOf(){sn(12)}},uc={};qd(ex,(e,t)=>{uc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uc.deleteProperty=function(e,t){return uc.set.call(this,e,t,void 0)};uc.set=function(e,t,r){return ex.set.call(this,e[0],t,r,e[0])};function up(e,t){const r=e[jr];return(r?fs(r):e)[t]}function PU(e,t,r){var i;const n=bO(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function bO(e,t){if(!(t in e))return;let r=so(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=so(r)}}function dy(e){e.modified_||(e.modified_=!0,e.parent_&&dy(e.parent_))}function dp(e){e.copy_||(e.copy_=ly(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var _U=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&sn(6),n!==void 0&&typeof n!="function"&&sn(7);let i;if(Jn(t)){const s=dS(this),a=fy(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?cy(s):uy(s)}return uS(s,n),fS(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===gO&&(i=void 0),this.autoFreeze_&&Zv(i,!0),n){const s=[],a=[];Ws("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else sn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Jn(e)||sn(8),Us(e)&&(e=Vn(e));const t=dS(this),r=fy(e,void 0);return r[jr].isManual_=!0,uy(t),r}finishDraft(e,t){const r=e&&e[jr];(!r||!r.isManual_)&&sn(9);const{scope_:n}=r;return uS(n,t),fS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Ws("Patches").applyPatches_;return Us(e)?n(e,t):this.produce(e,i=>n(i,t))}};function fy(e,t){const r=Ph(e)?Ws("MapSet").proxyMap_(e,t):_h(e)?Ws("MapSet").proxySet_(e,t):NU(e,t);return(t?t.scope_:xO()).drafts_.push(r),r}function Vn(e){return Us(e)||sn(10,e),wO(e)}function wO(e){if(!Jn(e)||kh(e))return e;const t=e[jr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ly(e,t.scope_.immer_.useStrictShallowCopy_)}else r=ly(e,!0);return qd(r,(n,i)=>{vO(r,n,wO(i))}),t&&(t.finalized_=!1),r}var Sr=new _U,jO=Sr.produce;Sr.produceWithPatches.bind(Sr);Sr.setAutoFreeze.bind(Sr);Sr.setUseStrictShallowCopy.bind(Sr);Sr.applyPatches.bind(Sr);Sr.createDraft.bind(Sr);Sr.finishDraft.bind(Sr);function SO(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var kU=SO(),EU=SO,AU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Hd:Hd.apply(null,arguments)};function Vr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(xr(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>pO(n)&&n.type===e,r}var NO=class gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gl.prototype)}static get[Symbol.species](){return gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gl(...t[0].concat(this)):new gl(...t.concat(this))}};function mS(e){return Jn(e)?jO(e,()=>{}):e}function Ou(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function OU(e){return typeof e=="boolean"}var CU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new NO;return r&&(OU(r)?a.push(kU):a.push(EU(r.extraArgument))),a},TU="RTK_autoBatch",pS=e=>t=>{setTimeout(t,e)},MU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:pS(10):e.type==="callback"?e.queueNotification:pS(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[TU]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},RU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new NO(e);return n&&i.push(MU(typeof n=="object"?n:void 0)),i};function DU(e){const t=CU(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(Qv(r))c=mO(r);else throw new Error(xr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Hd;i&&(d=AU({trace:!1,...typeof i=="object"&&i}));const f=yU(...u),h=RU(f);let m=typeof l=="function"?l(h):h();const p=d(...m);return hO(c,a,p)}function PO(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(xr(28));if(l in t)throw new Error(xr(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function $U(e){return typeof e=="function"}function IU(e,t){let[r,n,i]=PO(t),s;if($U(e))s=()=>mS(e());else{const l=mS(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(Us(d)){const m=f(d,c);return m===void 0?d:m}else{if(Jn(d))return jO(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var LU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BU=(e=21)=>{let t="",r=e;for(;r--;)t+=LU[Math.random()*64|0];return t},FU=Symbol.for("rtk-slice-createasyncthunk");function zU(e,t){return`${e}/${t}`}function UU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[FU];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(xr(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(VU()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(j,S){const N=typeof j=="string"?j:j.type;if(!N)throw new Error(xr(12));if(N in u.sliceCaseReducersByType)throw new Error(xr(13));return u.sliceCaseReducersByType[N]=S,d},addMatcher(j,S){return u.sliceMatchers.push({matcher:j,reducer:S}),d},exposeAction(j,S){return u.actionCreators[j]=S,d},exposeCaseReducer(j,S){return u.sliceCaseReducersByName[j]=S,d}};c.forEach(j=>{const S=l[j],N={reducerName:j,type:zU(s,j),createNotation:typeof i.reducers=="function"};HU(S)?GU(N,S,d,t):KU(N,S,d)});function f(){const[j={},S=[],N=void 0]=typeof i.extraReducers=="function"?PO(i.extraReducers):[i.extraReducers],P={...j,...u.sliceCaseReducersByType};return IU(i.initialState,E=>{for(let R in P)E.addCase(R,P[R]);for(let R of u.sliceMatchers)E.addMatcher(R.matcher,R.reducer);for(let R of S)E.addMatcher(R.matcher,R.reducer);N&&E.addDefaultCase(N)})}const h=j=>j,m=new Map,p=new WeakMap;let y;function b(j,S){return y||(y=f()),y(j,S)}function g(){return y||(y=f()),y.getInitialState()}function x(j,S=!1){function N(E){let R=E[j];return typeof R>"u"&&S&&(R=Ou(p,N,g)),R}function P(E=h){const R=Ou(m,S,()=>new WeakMap);return Ou(R,E,()=>{const M={};for(const[_,D]of Object.entries(i.selectors??{}))M[_]=WU(D,E,()=>Ou(p,E,g),S);return M})}return{reducerPath:j,getSelectors:P,get selectors(){return P(N)},selectSlice:N}}const w={name:s,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...x(a),injectInto(j,{reducerPath:S,...N}={}){const P=S??a;return j.inject({reducerPath:P,reducer:b},N),{...w,...x(P,!0)}}};return w}}function WU(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var kr=UU();function VU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function KU({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!qU(n))throw new Error(xr(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Vr(e,a):Vr(e))}function HU(e){return e._reducerDefinitionType==="asyncThunk"}function qU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function GU({type:e,reducerName:t},r,n,i){if(!i)throw new Error(xr(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Cu,pending:l||Cu,rejected:c||Cu,settled:u||Cu})}function Cu(){}var YU="task",_O="listener",kO="completed",tx="cancelled",XU=`task-${tx}`,JU=`task-${kO}`,hy=`${_O}-${tx}`,QU=`${_O}-${kO}`,Eh=class{constructor(e){sm(this,"name","TaskAbortError");sm(this,"message");this.code=e,this.message=`${YU} ${tx} (reason: ${e})`}},rx=(e,t)=>{if(typeof e!="function")throw new TypeError(xr(32))},Xd=()=>{},EO=(e,t=Xd)=>(e.catch(t),e),AO=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Cs=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ts=e=>{if(e.aborted){const{reason:t}=e;throw new Eh(t)}};function OO(e,t){let r=Xd;return new Promise((n,i)=>{const s=()=>i(new Eh(e.reason));if(e.aborted){s();return}r=AO(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Xd})}var ZU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Eh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Jd=e=>t=>EO(OO(e,t).then(r=>(Ts(e),r))),CO=e=>{const t=Jd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Ua}=Object,gS={},Ah="listenerMiddleware",e9=(e,t)=>{const r=n=>AO(e,()=>Cs(n,e.reason));return(n,i)=>{rx(n);const s=new AbortController;r(s);const a=ZU(async()=>{Ts(e),Ts(s.signal);const l=await n({pause:Jd(s.signal),delay:CO(s.signal),signal:s.signal});return Ts(s.signal),l},()=>Cs(s,JU));return i!=null&&i.autoJoin&&t.push(a.catch(Xd)),{result:Jd(e)(a),cancel(){Cs(s,XU)}}}},t9=(e,t)=>{const r=async(n,i)=>{Ts(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await OO(t,Promise.race(l));return Ts(t),c}finally{s()}};return(n,i)=>EO(r(n,i))},TO=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Vr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(xr(21));return rx(s),{predicate:i,type:t,effect:s}},MO=Ua(e=>{const{type:t,predicate:r,effect:n}=TO(e);return{id:BU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(xr(22))}}},{withTypes:()=>MO}),yS=(e,t)=>{const{type:r,effect:n,predicate:i}=TO(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},my=e=>{e.pending.forEach(t=>{Cs(t,hy)})},r9=e=>()=>{e.forEach(my),e.clear()},vS=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},RO=Ua(Vr(`${Ah}/add`),{withTypes:()=>RO}),n9=Vr(`${Ah}/removeAll`),DO=Ua(Vr(`${Ah}/remove`),{withTypes:()=>DO}),i9=(...e)=>{console.error(`${Ah}/error`,...e)},Lc=(e={})=>{const t=new Map,{extra:r,onError:n=i9}=e;rx(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&my(d)}),s=d=>{const f=yS(t,d)??MO(d);return i(f)};Ua(s,{withTypes:()=>s});const a=d=>{const f=yS(t,d);return f&&(f.unsubscribe(),d.cancelActive&&my(f)),!!f};Ua(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,y=t9(s,p.signal),b=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Ua({},h,{getOriginalState:m,condition:(g,x)=>y(g,x).then(Boolean),take:y,delay:CO(p.signal),pause:Jd(p.signal),extra:r,signal:p.signal,fork:e9(p.signal,b),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((g,x,w)=>{g!==p&&(Cs(g,hy),w.delete(g))})},cancel:()=>{Cs(p,hy),d.pending.delete(p)},throwIfCancelled:()=>{Ts(p.signal)}})))}catch(g){g instanceof Eh||vS(n,g,{raisedBy:"effect"})}finally{await Promise.all(b),Cs(p,QU),d.pending.delete(p)}},c=r9(t);return{middleware:d=>f=>h=>{if(!pO(h))return f(h);if(RO.match(h))return s(h.payload);if(n9.match(h)){c();return}if(DO.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===gS)throw new Error(xr(23));return m};let y;try{if(y=f(h),t.size>0){const b=d.getState(),g=Array.from(t.values());for(const x of g){let w=!1;try{w=x.predicate(h,b,m)}catch(j){w=!1,vS(n,j,{raisedBy:"predicate"})}w&&l(x,h,d,p)}}}finally{m=gS}return y},startListening:s,stopListening:a,clearListeners:c}};function xr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var s9={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},$O=kr({name:"chartLayout",initialState:s9,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:a9,setLayout:o9,setChartSize:l9,setScale:c9}=$O.actions,u9=$O.reducer;function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){d9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d9(e,t,r){return(t=f9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f9(e){var t=h9(e,"string");return typeof t=="symbol"?t:t+""}function h9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=Math.PI/180,m9=e=>e*180/Math.PI,Ne=(e,t,r,n)=>({x:e+Math.cos(-Qd*n)*r,y:t+Math.sin(-Qd*n)*r}),IO=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},p9=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},g9=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=p9({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:m9(c),angleInRadian:c}},y9=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},v9=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},x9=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=g9({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=y9(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?bS(bS({},t),{},{radius:i,angle:v9(d,t)}):null},LO=e=>!v.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function BO(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function wS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ir(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wS(Object(r),!0).forEach(function(n){b9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b9(e,t,r){return(t=w9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w9(e){var t=j9(e,"string");return typeof t=="symbol"?t:t+""}function j9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $e(e,t,r){return et(e)||et(t)?r:An(t)?Ui(e,t,r):typeof t=="function"?t(e):r}var S9=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(jt(d-u)!==jt(f-d)){var m=[];if(jt(f-d)===jt(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var y=f+i[1]-i[0];m[0]=Math.min(d,(y+d)/2),m[1]=Math.max(d,(y+d)/2)}var b=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>b[0]&&e<=b[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var g=Math.min(u,f),x=Math.max(u,f);if(e>(g+d)/2&&e<=(x+d)/2){({index:a}=r[c]);break}}}else if(t){for(var w=0;w<l;w++)if(w===0&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w>0&&w<l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2&&e<=(t[w].coordinate+t[w+1].coordinate)/2||w===l-1&&e>(t[w].coordinate+t[w-1].coordinate)/2){({index:a}=t[w]);break}}return a},N9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&ne(e[s]))return Ir(Ir({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&ne(e[a]))return Ir(Ir({},e),{},{[a]:e[a]+(i||0)})}return e},Xi=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",FO=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},zO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,y=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(y=m==="angleAxis"&&s&&s.length>=2?jt(s[0]-s[1])*2*y:y,f||h){var b=(f||h||[]).map((g,x)=>{var w=n?n.indexOf(g):g;return{coordinate:a(w)+y,value:g,offset:y,index:x}});return b.filter(g=>!wr(g.coordinate))}return c&&u?u.map((g,x)=>({coordinate:a(g)+y,value:g,index:x,offset:y})):a.ticks&&!r&&d!=null?a.ticks(d).map((g,x)=>({coordinate:a(g)+y,value:g,offset:y,index:x})):a.domain().map((g,x)=>({coordinate:a(g)+y,value:n?n[g]:g,index:x,offset:y}))},jS=1e-4,P9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-jS,s=Math.max(n[0],n[1])+jS,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},_9=(e,t)=>{if(!t||t.length!==2||!ne(t[0])||!ne(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!ne(e[0])||e[0]<r)&&(i[0]=r),(!ne(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},k9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=wr(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},E9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=wr(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},A9={sign:k9,expand:h8,none:no,silhouette:m8,wiggle:p8,positive:E9},O9=(e,t,r)=>{var n=A9[r],i=f8().keys(t).value((s,a)=>+$e(s,a,0)).order(iy).offset(n);return i(e)};function C9(e){return e==null?void 0:String(e)}var SS=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=$e(s,t.dataKey,t.scale.domain()[a]);return et(l)?null:t.scale(l)-i/2+n},T9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},M9=e=>{var t=e.flat(2).filter(ne);return[Math.min(...t),Math.max(...t)]},R9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],D9=(e,t,r)=>{if(e!=null)return R9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=BO(u,t,r),f=M9(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},NS=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PS=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=Sh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function _S(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Ir(Ir({},t),{},{dataKey:r,payload:n,value:i,name:s})}function ko(e,t){if(e)return String(e);if(typeof t=="string")return t}function $9(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?x9({x:e,y:t},n):null}var I9=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return Ir(Ir(Ir({},n),Ne(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return Ir(Ir(Ir({},n),Ne(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},L9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,si=e=>e.layout.width,ai=e=>e.layout.height,B9=e=>e.layout.scale,UO=e=>e.layout.margin,nx=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ix=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),WO="data-recharts-item-index",VO="data-recharts-item-data-key",Oh=60;function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){F9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function F9(e,t,r){return(t=z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W9=e=>e.brush.height,ft=B([si,ai,UO,W9,nx,ix,dO,uU],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((p,y)=>{var{orientation:b}=y;if(!y.mirror&&!y.hide){var g=typeof y.width=="number"?y.width:Oh;return mi(mi({},p),{},{[b]:p[b]+g})}return p},{left:r.left||0,right:r.right||0}),u=i.reduce((p,y)=>{var{orientation:b}=y;return!y.mirror&&!y.hide?mi(mi({},p),{},{[b]:Ui(p,"".concat(b))+y.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=mi(mi({},u),c),f=d.bottom;d.bottom+=n,d=N9(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return mi(mi({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),V9=B(ft,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),KO=B(si,ai,(e,t)=>({x:0,y:0,width:e,height:t})),K9=v.createContext(null),fr=()=>v.useContext(K9)!=null,Ch=e=>e.brush,Th=B([Ch,ft,UO],(e,t,r)=>({height:e.height,x:ne(e.x)?e.x:t.left,y:ne(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:ne(e.width)?e.width:t.width})),sx=()=>{var e,t=fr(),r=te(V9),n=te(Th),i=(e=te(Ch))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},H9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},HO=()=>{var e;return(e=te(ft))!==null&&e!==void 0?e:H9},ax=()=>te(si),ox=()=>te(ai),q9={top:0,right:0,bottom:0,left:0},G9=()=>{var e;return(e=te(t=>t.layout.margin))!==null&&e!==void 0?e:q9},ve=e=>e.layout.layoutType,lx=()=>te(ve),Y9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},qO=kr({name:"legend",initialState:Y9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=Vn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:ES,setLegendSettings:X9,addLegendPayload:GO,removeLegendPayload:YO}=qO.actions,J9=qO.reducer,Q9=["contextPayload"];function py(){return py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},py.apply(null,arguments)}function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ao(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){cx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cx(e,t,r){return(t=Z9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z9(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e,t){if(e==null)return{};var r,n,i=rW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nW(e){return e.value}function iW(e){var{contextPayload:t}=e,r=tW(e,Q9),n=eO(t,e.payloadUniqBy,nW),i=ao(ao({},r),{},{payload:n});return v.isValidElement(e.content)?v.cloneElement(e.content,i):typeof e.content=="function"?v.createElement(e.content,i):v.createElement(Uv,i)}function sW(e,t,r,n,i,s){var{layout:a,align:l,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(l==="center"&&a==="vertical"?u={left:((n||0)-s.width)/2}:u=l==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-s.height)/2}:d=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ao(ao({},u),d)}function aW(e){var t=Ue();return v.useEffect(()=>{t(X9(e))},[t,e]),null}function oW(e){var t=Ue();return v.useEffect(()=>(t(ES(e)),()=>{t(ES({width:0,height:0}))}),[t,e]),null}function lW(e){var t=hU(),r=$z(),n=G9(),{width:i,height:s,wrapperStyle:a,portal:l}=e,[c,u]=fO([t]),d=ax(),f=ox(),h=d-(n.left||0)-(n.right||0),m=Mh.getWidthOrHeight(e.layout,s,i,h),p=l?a:ao(ao({position:"absolute",width:(m==null?void 0:m.width)||i||"auto",height:(m==null?void 0:m.height)||s||"auto"},sW(a,e,n,d,f,c)),a),y=l??r;if(y==null)return null;var b=v.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:u},v.createElement(aW,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),v.createElement(oW,{width:c.width,height:c.height}),v.createElement(iW,py({},e,m,{margin:n,chartWidth:d,chartHeight:f,contextPayload:t})));return F0.createPortal(b,y)}class Mh extends v.PureComponent{static getWidthOrHeight(t,r,n,i){return t==="vertical"&&ne(r)?{height:r}:t==="horizontal"?{width:n||i}:null}render(){return v.createElement(lW,this.props)}}cx(Mh,"displayName","Legend");cx(Mh,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function OS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OS(Object(r),!0).forEach(function(n){cW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cW(e,t,r){return(t=uW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uW(e){var t=dW(e,"string");return typeof t=="symbol"?t:t+""}function dW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fW(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var hW=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var S={padding:0,margin:0},N=(l?Sh(s,l):s).map((P,E)=>{if(P.type==="none")return null;var R=P.formatter||a||fW,{value:M,name:_}=P,D=M,T=_;if(R){var O=R(M,_,P,E,s);if(Array.isArray(O))[D,T]=O;else if(O!=null)D=O;else return null}var A=fp({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return v.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:A},An(T)?v.createElement("span",{className:"recharts-tooltip-item-name"},T):null,An(T)?v.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,v.createElement("span",{className:"recharts-tooltip-item-value"},D),v.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return v.createElement("ul",{className:"recharts-tooltip-item-list",style:S},N)}return null},p=fp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),y=fp({margin:0},i),b=!et(d),g=b?d:"",x=me("recharts-default-tooltip",c),w=me("recharts-tooltip-label",u);b&&f&&s!==void 0&&s!==null&&(g=f(d,s));var j=h?{role:"status","aria-live":"assertive"}:{};return v.createElement("div",gy({className:x,style:p},j),v.createElement("p",{className:w,style:y},v.isValidElement(g)?g:"".concat(g)),m())},tl="recharts-tooltip-wrapper",mW={visibility:"hidden"};function pW(e){var{coordinate:t,translateX:r,translateY:n}=e;return me(tl,{["".concat(tl,"-right")]:ne(r)&&t&&ne(t.x)&&r>=t.x,["".concat(tl,"-left")]:ne(r)&&t&&ne(t.x)&&r<t.x,["".concat(tl,"-bottom")]:ne(n)&&t&&ne(t.y)&&n>=t.y,["".concat(tl,"-top")]:ne(n)&&t&&ne(t.y)&&n<t.y})}function CS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&ne(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var y=f+l,b=h+u;return y>b?Math.max(d,h):Math.max(f,h)}function gW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function yW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=CS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=CS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=gW({translateX:d,translateY:f,useTranslate3d:l})):u=mW,{cssProperties:u,cssClasses:pW({translateX:d,translateY:f,coordinate:r})}}function TS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TS(Object(r),!0).forEach(function(n){yy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yy(e,t,r){return(t=vW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vW(e){var t=xW(e,"string");return typeof t=="symbol"?t:t+""}function xW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bW extends v.PureComponent{constructor(){super(...arguments),yy(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yy(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:y,innerRef:b,hasPortalFromProps:g}=this.props,{cssClasses:x,cssProperties:w}=yW({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:y.height,width:y.width},useTranslate3d:h,viewBox:m}),j=g?{}:Tu(Tu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),S=Tu(Tu({},j),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return v.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:S,ref:b},s)}}var wW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Js={isSsr:wW()},XO=()=>te(e=>e.rootProps.accessibilityLayer);function Nr(e){return Number.isFinite(e)}function oo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function MS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MS(Object(r),!0).forEach(function(n){jW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jW(e,t,r){return(t=SW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SW(e){var t=NW(e,"string");return typeof t=="symbol"?t:t+""}function NW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DS={curveBasisClosed:t8,curveBasisOpen:r8,curveBasis:e8,curveBumpX:Fz,curveBumpY:zz,curveLinearClosed:n8,curveLinear:ph,curveMonotoneX:i8,curveMonotoneY:s8,curveNatural:a8,curveStep:o8,curveStepAfter:c8,curveStepBefore:l8},Mu=e=>Nr(e.x)&&Nr(e.y),rl=e=>e.x,nl=e=>e.y,PW=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Dc(e));return(r==="curveMonotone"||r==="curveBump")&&t?DS["".concat(r).concat(t==="vertical"?"Y":"X")]:DS[r]||ph},_W=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=PW(t,i),l=s?r.filter(Mu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Mu(f)):n,d=l.map((f,h)=>RS(RS({},f),{},{base:u[h]}));return i==="vertical"?c=ku().y(nl).x1(rl).x0(f=>f.base.x):c=ku().x(rl).y1(nl).y0(f=>f.base.y),c.defined(Mu).curve(a),c(d)}return i==="vertical"&&ne(n)?c=ku().y(nl).x1(rl).x0(n):ne(n)?c=ku().x(rl).y1(nl).y0(n):c=EA().x(rl).y(nl),c.defined(Mu).curve(a),c(l)},JO=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?_W(e):n;return v.createElement("path",vy({},zt(e),Dv(e),{className:me("recharts-curve",t),d:s===null?void 0:s,ref:i}))},kW=["x","y","top","left","width","height","className"];function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function EW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){AW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AW(e,t,r){return(t=OW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OW(e){var t=CW(e,"string");return typeof t=="symbol"?t:t+""}function CW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TW(e,t){if(e==null)return{};var r,n,i=MW(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function MW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var RW=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),DW=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=TW(e,kW),u=EW({x:t,y:r,top:n,left:i,width:s,height:a},c);return!ne(t)||!ne(r)||!ne(s)||!ne(a)||!ne(n)||!ne(i)?null:v.createElement("path",xy({},je(u,!0),{className:me("recharts-cross",l),d:RW(t,r,s,a,n,i)}))};function $W(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function IW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){LW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LW(e,t,r){return(t=BW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function BW(e){var t=FW(e,"string");return typeof t=="symbol"?t:t+""}function FW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gr(e,t){var r=IW({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var QO={},ZO={},eC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(eC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eC,r=qv,n=bh,i=wh,s=xh;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,y){const b=y(u,d,f,h,m,p);if(b!==void 0)return b;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,y)}return c(u,d,p,y)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),m!==p)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const g=u.valueOf(),x=d.valueOf();return s.eq(g,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const y=f.get(u),b=f.get(d);if(y!=null&&b!=null)return y===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[g,x]of u.entries())if(!d.has(g)||!l(x,d.get(g),g,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const g=Array.from(u.values()),x=Array.from(d.values());for(let w=0;w<g.length;w++){const j=g[w],S=x.findIndex(N=>l(j,N,void 0,u,d,f,h));if(S===-1)return!1;x.splice(S,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let g=0;g<u.length;g++)if(!l(u[g],d[g],g,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const x=[...Object.keys(u),...r.getSymbols(u)],w=[...Object.keys(d),...r.getSymbols(d)];if(x.length!==w.length)return!1;for(let j=0;j<x.length;j++){const S=x[j],N=u[S];if(!Object.hasOwn(d,S))return!1;const P=d[S];if(!l(N,P,S,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(ZO);var tC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(tC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO,r=tC;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(QO);var zW=QO.isEqual;const UW=Hr(zW);var Zd=1e-4,rC=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],nC=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),LS=(e,t)=>r=>{var n=rC(e,t);return nC(n,r)},WW=(e,t)=>r=>{var n=rC(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return nC(i,r)},BS=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,i]=a);var u=LS(t,r),d=LS(n,i),f=WW(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var y=p>1?1:p,b=y,g=0;g<8;++g){var x=u(b)-y,w=f(b);if(Math.abs(x-y)<Zd||w<Zd)return d(b);b=h(b-x/w)}return d(b)};return m.isStepper=!1,m},VW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Zd&&Math.abs(f)<Zd?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},iC=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return BS(e);case"spring":return VW();default:if(e.split("(")[0]==="cubic-bezier")return BS(e)}return typeof e=="function"?e:null};function FS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FS(Object(r),!0).forEach(function(n){KW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KW(e,t,r){return(t=HW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HW(e){var t=qW(e,"string");return typeof t=="symbol"?t:t+""}function qW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),YW=(e,t,r)=>e.map(n=>"".concat(GW(n)," ").concat(t,"ms ").concat(r)).join(","),XW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),fc=(e,t)=>Object.keys(t).reduce((r,n)=>zS(zS({},r),{},{[n]:e(n,t[n])}),{});function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){JW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JW(e,t,r){return(t=QW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=ZW(e,"string");return typeof t=="symbol"?t:t+""}function ZW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ef=(e,t,r)=>e+(t-e)*r,by=e=>{var{from:t,to:r}=e;return t!==r},sC=(e,t,r)=>{var n=fc((i,s)=>{if(by(s)){var[a,l]=e(s.from,s.to,s.velocity);return kt(kt({},s),{},{from:a,velocity:l})}return s},t);return r<1?fc((i,s)=>by(s)?kt(kt({},s),{},{velocity:ef(s.velocity,n[i].velocity,r),from:ef(s.from,n[i].from,r)}):s,t):sC(e,n,r-1)};function eV(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>kt(kt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>fc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(by).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;l=sC(r,l,p),i(kt(kt(kt({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function tV(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>kt(kt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=fc((y,b)=>ef(...b,r(h)),c);if(s(kt(kt(kt({},e),t),m)),h<1)l=a.setTimeout(d);else{var p=fc((y,b)=>ef(...b,r(1)),c);s(kt(kt(kt({},e),t),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const aC=(e,t,r,n,i,s)=>{var a=XW(e,t);return r.isStepper===!0?eV(e,t,r,a,i,s):tV(e,t,r,n,a,i,s)};function rV(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class nV{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function iV(){return rV(new nV)}var sV=v.createContext(iV);function oC(e,t){var r=v.useContext(sV);return v.useMemo(()=>t??r(e),[e,t,r])}var aV=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function oV(e,t){if(e==null)return{};var r,n,i=lV(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){ws(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ws(e,t,r){return(t=cV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cV(e){var t=uV(e,"string");return typeof t=="symbol"?t:t+""}function uV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ux extends v.PureComponent{constructor(t,r){super(t,r),ws(this,"mounted",!1),ws(this,"manager",void 0),ws(this,"stopJSAnimation",null),ws(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(UW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(pi(pi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=aC(r,n,iC(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=YW(Object.keys(d),n,a);this.manager.start([l,r,pi(pi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,y=oV(t,aV),b=v.Children.count(r),g=this.state.style;if(typeof r=="function")return r(g);if(!l||b===0||i<=0)return r;var x=w=>{var{style:j={},className:S}=w.props,N=v.cloneElement(w,pi(pi({},y),{},{style:pi(pi({},j),g),className:S}));return N};return b===1?x(v.Children.only(r)):v.createElement("div",null,v.Children.map(r,w=>x(w)))}}ws(ux,"displayName","Animate");ws(ux,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function tf(e){var t,r=oC((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return v.createElement(ux,wy({},e,{animationManager:r}))}function rf(){return rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},rf.apply(null,arguments)}var VS=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},dV={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},lC=e=>{var t=Gr(e,dV),r=v.useRef(null),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&i(g)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:y}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var b=me("recharts-rectangle",d);return y?v.createElement(tf,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:y},g=>{var{width:x,height:w,x:j,y:S}=g;return v.createElement(tf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},v.createElement("path",rf({},je(t,!0),{className:b,d:VS(j,S,x,w,u),ref:r})))}):v.createElement("path",rf({},je(t,!0),{className:b,d:VS(s,a,l,c,u)}))};function cC(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=Ne(t,r,n,i),l=Ne(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}var fV=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Ru=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Qd,f=c?i:i+s*d,h=Ne(t,r,u,f),m=Ne(t,r,n,f),p=c?i-s*d:i,y=Ne(t,r,u*Math.cos(d*Qd),p);return{center:h,circleTangency:m,lineTangency:y,theta:d}},uC=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=fV(s,a),c=s+l,u=Ne(t,r,i,s),d=Ne(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=Ne(t,r,n,s),m=Ne(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},hV=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=jt(u-c),{circleTangency:f,lineTangency:h,theta:m}=Ru({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:y,theta:b}=Ru({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-b;if(g<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):uC({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(n>0){var{circleTangency:w,lineTangency:j,theta:S}=Ru({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:N,lineTangency:P,theta:E}=Ru({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),R=l?Math.abs(c-u):Math.abs(c-u)-S-E;if(R<0&&s===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(R>180),",").concat(+(d>0),",").concat(w.x,",").concat(w.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(j.x,",").concat(j.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},mV={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},dC=e=>{var t=Gr(e,mV),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=me("recharts-sector",f),m=s-i,p=Yt(a,m,0,!0),y;return p>0&&Math.abs(u-d)<360?y=hV({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):y=uC({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),v.createElement("path",jy({},je(t,!0),{className:h,d:y}))};function pV(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=Ne(l,c,u,f),m=Ne(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return cC(t);return[{x:n,y:i},{x:s,y:a}]}var fC={},hC={},mC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Xv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(mC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(hC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Jv,r=hC;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(fC);var gV=fC.range;const pC=Hr(gV);function $i(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yV(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dx(e){let t,r,n;e.length!==2?(t=$i,r=(l,c)=>$i(e(l),c),n=(l,c)=>e(l)-c):(t=e===$i||e===yV?e:vV,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function vV(){return 0}function gC(e){return e===null?NaN:+e}function*xV(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const bV=dx($i),Bc=bV.right;dx(gC).center;class KS extends Map{constructor(t,r=SV){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(HS(this,t))}has(t){return super.has(HS(this,t))}set(t,r){return super.set(wV(this,t),r)}delete(t){return super.delete(jV(this,t))}}function HS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function wV({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function jV({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function SV(e){return e!==null&&typeof e=="object"?e.valueOf():e}function NV(e=$i){if(e===$i)return yC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function yC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const PV=Math.sqrt(50),_V=Math.sqrt(10),kV=Math.sqrt(2);function nf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=PV?10:s>=_V?5:s>=kV?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?nf(e,t,r*2):[l,c,u]}function Sy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?nf(t,e,r):nf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function Ny(e,t,r){return t=+t,e=+e,r=+r,nf(e,t,r)[2]}function Py(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?Ny(t,e,r):Ny(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function qS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function GS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function vC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?yC:NV(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));vC(e,t,m,p,i)}const s=e[t];let a=r,l=n;for(il(e,r,t),i(e[n],s)>0&&il(e,r,n);a<l;){for(il(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?il(e,r,l):(++l,il(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function il(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function EV(e,t,r){if(e=Float64Array.from(xV(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return GS(e);if(t>=1)return qS(e);var n,i=(n-1)*t,s=Math.floor(i),a=qS(vC(e,s).subarray(0,s+1)),l=GS(e.subarray(s+1));return a+(l-a)*(i-s)}}function AV(e,t,r=gC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function OV(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const _y=Symbol("implicit");function fx(){var e=new KS,t=[],r=[],n=_y;function i(s){let a=e.get(s);if(a===void 0){if(n!==_y)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new KS;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return fx(t,r).unknown(n)},Yr.apply(i,arguments),i}function hx(){var e=fx().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,y=m?n:i;s=(y-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(y-p-s*(h-c))*d,a=s*(1-c),l&&(p=Math.round(p),a=Math.round(a));var b=OV(h).map(function(g){return p+s*g});return r(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return hx(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Yr.apply(f(),arguments)}function xC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xC(t())},e}function CV(){return xC(hx.apply(null,arguments).paddingInner(1))}function mx(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function bC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Fc(){}var hc=.7,sf=1/hc,Wa="\\s*([+-]?\\d+)\\s*",mc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_n="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",TV=/^#([0-9a-f]{3,8})$/,MV=new RegExp(`^rgb\\(${Wa},${Wa},${Wa}\\)$`),RV=new RegExp(`^rgb\\(${_n},${_n},${_n}\\)$`),DV=new RegExp(`^rgba\\(${Wa},${Wa},${Wa},${mc}\\)$`),$V=new RegExp(`^rgba\\(${_n},${_n},${_n},${mc}\\)$`),IV=new RegExp(`^hsl\\(${mc},${_n},${_n}\\)$`),LV=new RegExp(`^hsla\\(${mc},${_n},${_n},${mc}\\)$`),YS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};mx(Fc,pc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:XS,formatHex:XS,formatHex8:BV,formatHsl:FV,formatRgb:JS,toString:JS});function XS(){return this.rgb().formatHex()}function BV(){return this.rgb().formatHex8()}function FV(){return wC(this).formatHsl()}function JS(){return this.rgb().formatRgb()}function pc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=TV.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QS(t):r===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Du(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Du(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=MV.exec(e))?new or(t[1],t[2],t[3],1):(t=RV.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DV.exec(e))?Du(t[1],t[2],t[3],t[4]):(t=$V.exec(e))?Du(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=IV.exec(e))?tN(t[1],t[2]/100,t[3]/100,1):(t=LV.exec(e))?tN(t[1],t[2]/100,t[3]/100,t[4]):YS.hasOwnProperty(e)?QS(YS[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function QS(e){return new or(e>>16&255,e>>8&255,e&255,1)}function Du(e,t,r,n){return n<=0&&(e=t=r=NaN),new or(e,t,r,n)}function zV(e){return e instanceof Fc||(e=pc(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function ky(e,t,r,n){return arguments.length===1?zV(e):new or(e,t,r,n??1)}function or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}mx(or,ky,bC(Fc,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(Ms(this.r),Ms(this.g),Ms(this.b),af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ZS,formatHex:ZS,formatHex8:UV,formatRgb:eN,toString:eN}));function ZS(){return`#${js(this.r)}${js(this.g)}${js(this.b)}`}function UV(){return`#${js(this.r)}${js(this.g)}${js(this.b)}${js((isNaN(this.opacity)?1:this.opacity)*255)}`}function eN(){const e=af(this.opacity);return`${e===1?"rgb(":"rgba("}${Ms(this.r)}, ${Ms(this.g)}, ${Ms(this.b)}${e===1?")":`, ${e})`}`}function af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ms(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function js(e){return e=Ms(e),(e<16?"0":"")+e.toString(16)}function tN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new an(e,t,r,n)}function wC(e){if(e instanceof an)return new an(e.h,e.s,e.l,e.opacity);if(e instanceof Fc||(e=pc(e)),!e)return new an;if(e instanceof an)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new an(a,l,c,e.opacity)}function WV(e,t,r,n){return arguments.length===1?wC(e):new an(e,t,r,n??1)}function an(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}mx(an,WV,bC(Fc,{brighter(e){return e=e==null?sf:Math.pow(sf,e),new an(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?hc:Math.pow(hc,e),new an(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new or(hp(e>=240?e-240:e+120,i,n),hp(e,i,n),hp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new an(rN(this.h),$u(this.s),$u(this.l),af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=af(this.opacity);return`${e===1?"hsl(":"hsla("}${rN(this.h)}, ${$u(this.s)*100}%, ${$u(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rN(e){return e=(e||0)%360,e<0?e+360:e}function $u(e){return Math.max(0,Math.min(1,e||0))}function hp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const px=e=>()=>e;function VV(e,t){return function(r){return e+r*t}}function KV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function HV(e){return(e=+e)==1?jC:function(t,r){return r-t?KV(t,r,e):px(isNaN(t)?r:t)}}function jC(e,t){var r=t-e;return r?VV(e,r):px(isNaN(e)?t:e)}const nN=function e(t){var r=HV(t);function n(i,s){var a=r((i=ky(i)).r,(s=ky(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=jC(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function qV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function GV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function YV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Eo(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function XV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function of(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function JV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Eo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var Ey=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mp=new RegExp(Ey.source,"g");function QV(e){return function(){return e}}function ZV(e){return function(t){return e(t)+""}}function e7(e,t){var r=Ey.lastIndex=mp.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=Ey.exec(e))&&(i=mp.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:of(n,i)})),r=mp.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?ZV(c[0].x):QV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Eo(e,t){var r=typeof t,n;return t==null||r==="boolean"?px(t):(r==="number"?of:r==="string"?(n=pc(t))?(t=n,nN):e7:t instanceof pc?nN:t instanceof Date?XV:GV(t)?qV:Array.isArray(t)?YV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?JV:of)(e,t)}function gx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function t7(e,t){t===void 0&&(t=e,e=Eo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function r7(e){return function(){return e}}function lf(e){return+e}var iN=[0,1];function Ht(e){return e}function Ay(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:r7(isNaN(t)?NaN:.5)}function n7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function i7(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=Ay(i,n),s=r(a,s)):(n=Ay(n,i),s=r(s,a)),function(l){return s(n(l))}}function s7(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=Ay(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=Bc(e,l,1,n)-1;return s[c](i[c](l))}}function zc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Rh(){var e=iN,t=iN,r=Eo,n,i,s,a=Ht,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Ht&&(a=n7(e[0],e[h-1])),l=h>2?s7:i7,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),of)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,lf),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=gx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Ht,d()):a!==Ht},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function yx(){return Rh()(Ht,Ht)}function a7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function cf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function lo(e){return e=cf(Math.abs(e)),e?e[1]:NaN}function o7(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function l7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var c7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gc(e){if(!(t=c7.exec(e)))throw new Error("invalid format: "+e);var t;return new vx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gc.prototype=vx.prototype;function vx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}vx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u7(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var SC;function d7(e,t){var r=cf(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(SC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+cf(e,Math.max(0,t+s-1))[0]}function sN(e,t){var r=cf(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const aN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>sN(e*100,t),r:sN,s:d7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function oN(e){return e}var lN=Array.prototype.map,cN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function f7(e){var t=e.grouping===void 0||e.thousands===void 0?oN:o7(lN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?oN:l7(lN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=gc(f);var h=f.fill,m=f.align,p=f.sign,y=f.symbol,b=f.zero,g=f.width,x=f.comma,w=f.precision,j=f.trim,S=f.type;S==="n"?(x=!0,S="g"):aN[S]||(w===void 0&&(w=12),j=!0,S="g"),(b||h==="0"&&m==="=")&&(b=!0,h="0",m="=");var N=y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",P=y==="$"?n:/[%p]/.test(S)?a:"",E=aN[S],R=/[defgprs%]/.test(S);w=w===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function M(_){var D=N,T=P,O,A,z;if(S==="c")T=E(_)+T,_="";else{_=+_;var L=_<0||1/_<0;if(_=isNaN(_)?c:E(Math.abs(_),w),j&&(_=u7(_)),L&&+_==0&&p!=="+"&&(L=!1),D=(L?p==="("?p:l:p==="-"||p==="("?"":p)+D,T=(S==="s"?cN[8+SC/3]:"")+T+(L&&p==="("?")":""),R){for(O=-1,A=_.length;++O<A;)if(z=_.charCodeAt(O),48>z||z>57){T=(z===46?i+_.slice(O+1):_.slice(O))+T,_=_.slice(0,O);break}}}x&&!b&&(_=t(_,1/0));var F=D.length+_.length+T.length,I=F<g?new Array(g-F+1).join(h):"";switch(x&&b&&(_=t(I+_,I.length?g-T.length:1/0),I=""),m){case"<":_=D+_+T+I;break;case"=":_=D+I+_+T;break;case"^":_=I.slice(0,F=I.length>>1)+D+_+T+I.slice(F);break;default:_=I+D+_+T;break}return s(_)}return M.toString=function(){return f+""},M}function d(f,h){var m=u((f=gc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(lo(h)/3)))*3,y=Math.pow(10,-p),b=cN[8+p/3];return function(g){return m(y*g)+b}}return{format:u,formatPrefix:d}}var Iu,xx,NC;h7({thousands:",",grouping:[3],currency:["$",""]});function h7(e){return Iu=f7(e),xx=Iu.format,NC=Iu.formatPrefix,Iu}function m7(e){return Math.max(0,-lo(Math.abs(e)))}function p7(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lo(t)/3)))*3-lo(Math.abs(e)))}function g7(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,lo(t)-lo(e))+1}function PC(e,t,r,n){var i=Py(e,t,r),s;switch(n=gc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=p7(i,a))&&(n.precision=s),NC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=g7(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=m7(i))&&(n.precision=s-(n.type==="%")*2);break}}return xx(n)}function Ji(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return PC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=Ny(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function _C(){var e=yx();return e.copy=function(){return zc(e,_C())},Yr.apply(e,arguments),Ji(e)}function kC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return kC(e).unknown(t)},e=arguments.length?Array.from(e,lf):[0,1],Ji(r)}function EC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function uN(e){return Math.log(e)}function dN(e){return Math.exp(e)}function y7(e){return-Math.log(-e)}function v7(e){return-Math.exp(-e)}function x7(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b7(e){return e===10?x7:e===Math.E?Math.exp:t=>Math.pow(e,t)}function w7(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function fN(e){return(t,r)=>-e(-t,r)}function bx(e){const t=e(uN,dN),r=t.domain;let n=10,i,s;function a(){return i=w7(n),s=b7(n),r()[0]<0?(i=fN(i),s=fN(s),e(y7,v7)):e(uN,dN),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,y;const b=l==null?10:+l;let g=[];if(!(n%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(y=h<0?p/s(-h):p*s(h),!(y<u)){if(y>d)break;g.push(y)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(y=h>0?p/s(-h):p*s(h),!(y<u)){if(y>d)break;g.push(y)}g.length*2<b&&(g=Sy(u,d,b))}else g=Sy(h,m,Math.min(m-h,b)).map(s);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=gc(c)).precision==null&&(c.trim=!0),c=xx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(EC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function AC(){const e=bx(Rh()).domain([1,10]);return e.copy=()=>zc(e,AC()).base(e.base()),Yr.apply(e,arguments),e}function hN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function mN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function wx(e){var t=1,r=e(hN(t),mN(t));return r.constant=function(n){return arguments.length?e(hN(t=+n),mN(t)):t},Ji(r)}function OC(){var e=wx(Rh());return e.copy=function(){return zc(e,OC()).constant(e.constant())},Yr.apply(e,arguments)}function pN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function j7(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function S7(e){return e<0?-e*e:e*e}function jx(e){var t=e(Ht,Ht),r=1;function n(){return r===1?e(Ht,Ht):r===.5?e(j7,S7):e(pN(r),pN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Ji(t)}function Sx(){var e=jx(Rh());return e.copy=function(){return zc(e,Sx()).exponent(e.exponent())},Yr.apply(e,arguments),e}function N7(){return Sx.apply(null,arguments).exponent(.5)}function gN(e){return Math.sign(e)*e*e}function P7(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function CC(){var e=yx(),t=[0,1],r=!1,n;function i(s){var a=P7(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(gN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,lf)).map(gN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return CC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yr.apply(i,arguments),Ji(i)}function TC(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=AV(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Bc(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort($i),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return TC().domain(e).range(t).unknown(n)},Yr.apply(s,arguments)}function MC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Bc(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return MC().domain([e,t]).range(i).unknown(s)},Yr.apply(Ji(a),arguments)}function RC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Bc(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return RC().domain(e).range(t).unknown(r)},Yr.apply(i,arguments)}const pp=new Date,gp=new Date;function ht(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>ht(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(pp.setTime(+s),gp.setTime(+a),e(pp),e(gp),Math.floor(r(pp,gp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const uf=ht(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ht(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uf);uf.range;const Fn=1e3,Br=Fn*60,zn=Br*60,Qn=zn*24,Nx=Qn*7,yN=Qn*30,yp=Qn*365,Ss=ht(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Fn)},(e,t)=>(t-e)/Fn,e=>e.getUTCSeconds());Ss.range;const Px=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn)},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getMinutes());Px.range;const _x=ht(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getUTCMinutes());_x.range;const kx=ht(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Fn-e.getMinutes()*Br)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getHours());kx.range;const Ex=ht(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCHours());Ex.range;const Uc=ht(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Br)/Qn,e=>e.getDate()-1);Uc.range;const Dh=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>e.getUTCDate()-1);Dh.range;const DC=ht(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Qn,e=>Math.floor(e/Qn));DC.range;function Qs(e){return ht(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Br)/Nx)}const $h=Qs(0),df=Qs(1),_7=Qs(2),k7=Qs(3),co=Qs(4),E7=Qs(5),A7=Qs(6);$h.range;df.range;_7.range;k7.range;co.range;E7.range;A7.range;function Zs(e){return ht(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Nx)}const Ih=Zs(0),ff=Zs(1),O7=Zs(2),C7=Zs(3),uo=Zs(4),T7=Zs(5),M7=Zs(6);Ih.range;ff.range;O7.range;C7.range;uo.range;T7.range;M7.range;const Ax=ht(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ax.range;const Ox=ht(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ox.range;const Zn=ht(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Zn.range;const ei=ht(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ei.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ht(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ei.range;function $C(e,t,r,n,i,s){const a=[[Ss,1,Fn],[Ss,5,5*Fn],[Ss,15,15*Fn],[Ss,30,30*Fn],[s,1,Br],[s,5,5*Br],[s,15,15*Br],[s,30,30*Br],[i,1,zn],[i,3,3*zn],[i,6,6*zn],[i,12,12*zn],[n,1,Qn],[n,2,2*Qn],[r,1,Nx],[t,1,yN],[t,3,3*yN],[e,1,yp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=dx(([,,b])=>b).right(a,h);if(m===a.length)return e.every(Py(u/yp,d/yp,f));if(m===0)return uf.every(Math.max(Py(u,d,f),1));const[p,y]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(y)}return[l,c]}const[R7,D7]=$C(ei,Ox,Ih,DC,Ex,_x),[$7,I7]=$C(Zn,Ax,$h,Uc,kx,Px);function vp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function xp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function L7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=al(i),d=ol(i),f=al(s),h=ol(s),m=al(a),p=ol(a),y=al(l),b=ol(l),g=al(c),x=ol(c),w={a:L,A:F,b:I,B:H,c:null,d:SN,e:SN,f:oK,g:yK,G:xK,H:iK,I:sK,j:aK,L:IC,m:lK,M:cK,p:re,q:J,Q:_N,s:kN,S:uK,u:dK,U:fK,V:hK,w:mK,W:pK,x:null,X:null,y:gK,Y:vK,Z:bK,"%":PN},j={a:ye,A:G,b:ie,B:de,c:null,d:NN,e:NN,f:NK,g:RK,G:$K,H:wK,I:jK,j:SK,L:BC,m:PK,M:_K,p:W,q:K,Q:_N,s:kN,S:kK,u:EK,U:AK,V:OK,w:CK,W:TK,x:null,X:null,y:MK,Y:DK,Z:IK,"%":PN},S={a:M,A:_,b:D,B:T,c:O,d:wN,e:wN,f:eK,g:bN,G:xN,H:jN,I:jN,j:X7,L:Z7,m:Y7,M:J7,p:R,q:G7,Q:rK,s:nK,S:Q7,u:W7,U:V7,V:K7,w:U7,W:H7,x:A,X:z,y:bN,Y:xN,Z:q7,"%":tK};w.x=N(r,w),w.X=N(n,w),w.c=N(t,w),j.x=N(r,j),j.X=N(n,j),j.c=N(t,j);function N($,X){return function(C){var k=[],U=-1,Q=0,Z=$.length,ue,be,Pe;for(C instanceof Date||(C=new Date(+C));++U<Z;)$.charCodeAt(U)===37&&(k.push($.slice(Q,U)),(be=vN[ue=$.charAt(++U)])!=null?ue=$.charAt(++U):be=ue==="e"?" ":"0",(Pe=X[ue])&&(ue=Pe(C,be)),k.push(ue),Q=U+1);return k.push($.slice(Q,U)),k.join("")}}function P($,X){return function(C){var k=sl(1900,void 0,1),U=E(k,$,C+="",0),Q,Z;if(U!=C.length)return null;if("Q"in k)return new Date(k.Q);if("s"in k)return new Date(k.s*1e3+("L"in k?k.L:0));if(X&&!("Z"in k)&&(k.Z=0),"p"in k&&(k.H=k.H%12+k.p*12),k.m===void 0&&(k.m="q"in k?k.q:0),"V"in k){if(k.V<1||k.V>53)return null;"w"in k||(k.w=1),"Z"in k?(Q=xp(sl(k.y,0,1)),Z=Q.getUTCDay(),Q=Z>4||Z===0?ff.ceil(Q):ff(Q),Q=Dh.offset(Q,(k.V-1)*7),k.y=Q.getUTCFullYear(),k.m=Q.getUTCMonth(),k.d=Q.getUTCDate()+(k.w+6)%7):(Q=vp(sl(k.y,0,1)),Z=Q.getDay(),Q=Z>4||Z===0?df.ceil(Q):df(Q),Q=Uc.offset(Q,(k.V-1)*7),k.y=Q.getFullYear(),k.m=Q.getMonth(),k.d=Q.getDate()+(k.w+6)%7)}else("W"in k||"U"in k)&&("w"in k||(k.w="u"in k?k.u%7:"W"in k?1:0),Z="Z"in k?xp(sl(k.y,0,1)).getUTCDay():vp(sl(k.y,0,1)).getDay(),k.m=0,k.d="W"in k?(k.w+6)%7+k.W*7-(Z+5)%7:k.w+k.U*7-(Z+6)%7);return"Z"in k?(k.H+=k.Z/100|0,k.M+=k.Z%100,xp(k)):vp(k)}}function E($,X,C,k){for(var U=0,Q=X.length,Z=C.length,ue,be;U<Q;){if(k>=Z)return-1;if(ue=X.charCodeAt(U++),ue===37){if(ue=X.charAt(U++),be=S[ue in vN?X.charAt(U++):ue],!be||(k=be($,C,k))<0)return-1}else if(ue!=C.charCodeAt(k++))return-1}return k}function R($,X,C){var k=u.exec(X.slice(C));return k?($.p=d.get(k[0].toLowerCase()),C+k[0].length):-1}function M($,X,C){var k=m.exec(X.slice(C));return k?($.w=p.get(k[0].toLowerCase()),C+k[0].length):-1}function _($,X,C){var k=f.exec(X.slice(C));return k?($.w=h.get(k[0].toLowerCase()),C+k[0].length):-1}function D($,X,C){var k=g.exec(X.slice(C));return k?($.m=x.get(k[0].toLowerCase()),C+k[0].length):-1}function T($,X,C){var k=y.exec(X.slice(C));return k?($.m=b.get(k[0].toLowerCase()),C+k[0].length):-1}function O($,X,C){return E($,t,X,C)}function A($,X,C){return E($,r,X,C)}function z($,X,C){return E($,n,X,C)}function L($){return a[$.getDay()]}function F($){return s[$.getDay()]}function I($){return c[$.getMonth()]}function H($){return l[$.getMonth()]}function re($){return i[+($.getHours()>=12)]}function J($){return 1+~~($.getMonth()/3)}function ye($){return a[$.getUTCDay()]}function G($){return s[$.getUTCDay()]}function ie($){return c[$.getUTCMonth()]}function de($){return l[$.getUTCMonth()]}function W($){return i[+($.getUTCHours()>=12)]}function K($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var X=N($+="",w);return X.toString=function(){return $},X},parse:function($){var X=P($+="",!1);return X.toString=function(){return $},X},utcFormat:function($){var X=N($+="",j);return X.toString=function(){return $},X},utcParse:function($){var X=P($+="",!0);return X.toString=function(){return $},X}}}var vN={"-":"",_:" ",0:"0"},Nt=/^\s*\d+/,B7=/^%/,F7=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function z7(e){return e.replace(F7,"\\$&")}function al(e){return new RegExp("^(?:"+e.map(z7).join("|")+")","i")}function ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function U7(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function W7(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function V7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function K7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function H7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xN(e,t,r){var n=Nt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function bN(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function q7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function G7(e,t,r){var n=Nt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Y7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function wN(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function X7(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function jN(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function J7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Q7(e,t,r){var n=Nt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function Z7(e,t,r){var n=Nt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function eK(e,t,r){var n=Nt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function tK(e,t,r){var n=B7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function rK(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function nK(e,t,r){var n=Nt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function SN(e,t){return Se(e.getDate(),t,2)}function iK(e,t){return Se(e.getHours(),t,2)}function sK(e,t){return Se(e.getHours()%12||12,t,2)}function aK(e,t){return Se(1+Uc.count(Zn(e),e),t,3)}function IC(e,t){return Se(e.getMilliseconds(),t,3)}function oK(e,t){return IC(e,t)+"000"}function lK(e,t){return Se(e.getMonth()+1,t,2)}function cK(e,t){return Se(e.getMinutes(),t,2)}function uK(e,t){return Se(e.getSeconds(),t,2)}function dK(e){var t=e.getDay();return t===0?7:t}function fK(e,t){return Se($h.count(Zn(e)-1,e),t,2)}function LC(e){var t=e.getDay();return t>=4||t===0?co(e):co.ceil(e)}function hK(e,t){return e=LC(e),Se(co.count(Zn(e),e)+(Zn(e).getDay()===4),t,2)}function mK(e){return e.getDay()}function pK(e,t){return Se(df.count(Zn(e)-1,e),t,2)}function gK(e,t){return Se(e.getFullYear()%100,t,2)}function yK(e,t){return e=LC(e),Se(e.getFullYear()%100,t,2)}function vK(e,t){return Se(e.getFullYear()%1e4,t,4)}function xK(e,t){var r=e.getDay();return e=r>=4||r===0?co(e):co.ceil(e),Se(e.getFullYear()%1e4,t,4)}function bK(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function NN(e,t){return Se(e.getUTCDate(),t,2)}function wK(e,t){return Se(e.getUTCHours(),t,2)}function jK(e,t){return Se(e.getUTCHours()%12||12,t,2)}function SK(e,t){return Se(1+Dh.count(ei(e),e),t,3)}function BC(e,t){return Se(e.getUTCMilliseconds(),t,3)}function NK(e,t){return BC(e,t)+"000"}function PK(e,t){return Se(e.getUTCMonth()+1,t,2)}function _K(e,t){return Se(e.getUTCMinutes(),t,2)}function kK(e,t){return Se(e.getUTCSeconds(),t,2)}function EK(e){var t=e.getUTCDay();return t===0?7:t}function AK(e,t){return Se(Ih.count(ei(e)-1,e),t,2)}function FC(e){var t=e.getUTCDay();return t>=4||t===0?uo(e):uo.ceil(e)}function OK(e,t){return e=FC(e),Se(uo.count(ei(e),e)+(ei(e).getUTCDay()===4),t,2)}function CK(e){return e.getUTCDay()}function TK(e,t){return Se(ff.count(ei(e)-1,e),t,2)}function MK(e,t){return Se(e.getUTCFullYear()%100,t,2)}function RK(e,t){return e=FC(e),Se(e.getUTCFullYear()%100,t,2)}function DK(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function $K(e,t){var r=e.getUTCDay();return e=r>=4||r===0?uo(e):uo.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function IK(){return"+0000"}function PN(){return"%"}function _N(e){return+e}function kN(e){return Math.floor(+e/1e3)}var ca,zC,UC;LK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function LK(e){return ca=L7(e),zC=ca.format,ca.parse,UC=ca.utcFormat,ca.utcParse,ca}function BK(e){return new Date(e)}function FK(e){return e instanceof Date?+e:+new Date(+e)}function Cx(e,t,r,n,i,s,a,l,c,u){var d=yx(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),y=u("%I:%M"),b=u("%I %p"),g=u("%a %d"),x=u("%b %d"),w=u("%B"),j=u("%Y");function S(N){return(c(N)<N?m:l(N)<N?p:a(N)<N?y:s(N)<N?b:n(N)<N?i(N)<N?g:x:r(N)<N?w:j)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,FK)):h().map(BK)},d.ticks=function(N){var P=h();return e(P[0],P[P.length-1],N??10)},d.tickFormat=function(N,P){return P==null?S:u(P)},d.nice=function(N){var P=h();return(!N||typeof N.range!="function")&&(N=t(P[0],P[P.length-1],N??10)),N?h(EC(P,N)):d},d.copy=function(){return zc(d,Cx(e,t,r,n,i,s,a,l,c,u))},d}function zK(){return Yr.apply(Cx($7,I7,Zn,Ax,$h,Uc,kx,Px,Ss,zC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UK(){return Yr.apply(Cx(R7,D7,ei,Ox,Ih,Dh,Ex,_x,Ss,UC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lh(){var e=0,t=1,r,n,i,s,a=Ht,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(Eo),u.rangeRound=d(gx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Qi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function WC(){var e=Ji(Lh()(Ht));return e.copy=function(){return Qi(e,WC())},oi.apply(e,arguments)}function VC(){var e=bx(Lh()).domain([1,10]);return e.copy=function(){return Qi(e,VC()).base(e.base())},oi.apply(e,arguments)}function KC(){var e=wx(Lh());return e.copy=function(){return Qi(e,KC()).constant(e.constant())},oi.apply(e,arguments)}function Tx(){var e=jx(Lh());return e.copy=function(){return Qi(e,Tx()).exponent(e.exponent())},oi.apply(e,arguments)}function WK(){return Tx.apply(null,arguments).exponent(.5)}function HC(){var e=[],t=Ht;function r(n){if(n!=null&&!isNaN(n=+n))return t((Bc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort($i),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>EV(e,s/n))},r.copy=function(){return HC(t).domain(e)},oi.apply(r,arguments)}function Bh(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=Ht,d,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+d(y))-s)*(n*y<n*s?l:c),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([e,t,r]=y,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function p(y){return function(b){var g,x,w;return arguments.length?([g,x,w]=b,u=t7(y,[g,x,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(Eo),m.rangeRound=p(gx),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return d=y,i=y(e),s=y(t),a=y(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function qC(){var e=Ji(Bh()(Ht));return e.copy=function(){return Qi(e,qC())},oi.apply(e,arguments)}function GC(){var e=bx(Bh()).domain([.1,1,10]);return e.copy=function(){return Qi(e,GC()).base(e.base())},oi.apply(e,arguments)}function YC(){var e=wx(Bh());return e.copy=function(){return Qi(e,YC()).constant(e.constant())},oi.apply(e,arguments)}function Mx(){var e=jx(Bh());return e.copy=function(){return Qi(e,Mx()).exponent(e.exponent())},oi.apply(e,arguments)}function VK(){return Mx.apply(null,arguments).exponent(.5)}const yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hx,scaleDiverging:qC,scaleDivergingLog:GC,scaleDivergingPow:Mx,scaleDivergingSqrt:VK,scaleDivergingSymlog:YC,scaleIdentity:kC,scaleImplicit:_y,scaleLinear:_C,scaleLog:AC,scaleOrdinal:fx,scalePoint:CV,scalePow:Sx,scaleQuantile:TC,scaleQuantize:MC,scaleRadial:CC,scaleSequential:WC,scaleSequentialLog:VC,scaleSequentialPow:Tx,scaleSequentialQuantile:HC,scaleSequentialSqrt:WK,scaleSequentialSymlog:KC,scaleSqrt:N7,scaleSymlog:OC,scaleThreshold:RC,scaleTime:zK,scaleUtc:UK,tickFormat:PC},Symbol.toStringTag,{value:"Module"}));var Zi=e=>e.chartData,Fh=B([Zi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Rx=(e,t,r,n)=>n?Fh(e):Zi(e);function fo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Nr(t)&&Nr(r))return!0}return!1}function EN(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function KK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(Nr(r))i=r;else if(typeof r=="function")return;if(Nr(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(fo(a))return a}}function HK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(fo(n))return EN(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(ne(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&NS.test(i)){var c=NS.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(ne(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&PS.test(s)){var d=PS.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(fo(h))return t==null?h:EN(h,t,r)}}}var Ao=1e9,qK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$x,Ve=!0,Kr="[DecimalError] ",Rs=Kr+"Invalid argument: ",Dx=Kr+"Exponent out of range: ",Oo=Math.floor,hs=Math.pow,GK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,gr,vt=1e7,Fe=7,XC=9007199254740991,hf=Oo(XC/Fe),ae={};ae.absoluteValue=ae.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ae.comparedTo=ae.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ae.decimalPlaces=ae.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Fe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ae.dividedBy=ae.div=function(e){return Kn(this,new this.constructor(e))};ae.dividedToIntegerBy=ae.idiv=function(e){var t=this,r=t.constructor;return Ae(Kn(t,new r(e),0,1),r.precision)};ae.equals=ae.eq=function(e){return!this.cmp(e)};ae.exponent=function(){return lt(this)};ae.greaterThan=ae.gt=function(e){return this.cmp(e)>0};ae.greaterThanOrEqualTo=ae.gte=function(e){return this.cmp(e)>=0};ae.isInteger=ae.isint=function(){return this.e>this.d.length-2};ae.isNegative=ae.isneg=function(){return this.s<0};ae.isPositive=ae.ispos=function(){return this.s>0};ae.isZero=function(){return this.s===0};ae.lessThan=ae.lt=function(e){return this.cmp(e)<0};ae.lessThanOrEqualTo=ae.lte=function(e){return this.cmp(e)<1};ae.logarithm=ae.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(gr))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(gr)?new n(0):(Ve=!1,t=Kn(yc(r,s),yc(e,s),s),Ve=!0,Ae(t,i))};ae.minus=ae.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ZC(t,e):JC(t,(e.s=-e.s,e))};ae.modulo=ae.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(Kr+"NaN");return r.s?(Ve=!1,t=Kn(r,e,0,1).times(e),Ve=!0,r.minus(t)):Ae(new n(r),i)};ae.naturalExponential=ae.exp=function(){return QC(this)};ae.naturalLogarithm=ae.ln=function(){return yc(this)};ae.negated=ae.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ae.plus=ae.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?JC(t,e):ZC(t,(e.s=-e.s,e))};ae.precision=ae.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rs+e);if(t=lt(i)+1,n=i.d.length-1,r=n*Fe+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ae.squareRoot=ae.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Kr+"NaN")}for(e=lt(l),Ve=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=vn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Oo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Kn(l,s,a+2)).times(.5),vn(s.d).slice(0,a)===(t=vn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ae(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return Ve=!0,Ae(n,r)};ae.times=ae.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%vt|0,t=l/vt|0;s[i]=(s[i]+t)%vt|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ve?Ae(e,f.precision):e};ae.toDecimalPlaces=ae.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(On(e,0,Ao),t===void 0?t=n.rounding:On(t,0,8),Ae(r,e+lt(r)+1,t))};ae.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Vs(n,!0):(On(e,0,Ao),t===void 0?t=i.rounding:On(t,0,8),n=Ae(new i(n),e+1,t),r=Vs(n,!0,e+1)),r};ae.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Vs(i):(On(e,0,Ao),t===void 0?t=s.rounding:On(t,0,8),n=Ae(new s(i),e+lt(i)+1,t),r=Vs(n.abs(),!1,e+lt(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ae.toInteger=ae.toint=function(){var e=this,t=e.constructor;return Ae(new t(e),lt(e)+1,t.rounding)};ae.toNumber=function(){return+this};ae.toPower=ae.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(gr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Kr+"Infinity");return l}if(l.eq(gr))return l;if(n=c.precision,e.eq(gr))return Ae(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=XC){for(i=new c(gr),t=Math.ceil(n/Fe+4),Ve=!1;r%2&&(i=i.times(l),ON(i.d,t)),r=Oo(r/2),r!==0;)l=l.times(l),ON(l.d,t);return Ve=!0,e.s<0?new c(gr).div(i):Ae(i,n)}}else if(s<0)throw Error(Kr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ve=!1,i=e.times(yc(l,n+u)),Ve=!0,i=QC(i),i.s=s,i};ae.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=lt(i),n=Vs(i,r<=s.toExpNeg||r>=s.toExpPos)):(On(e,1,Ao),t===void 0?t=s.rounding:On(t,0,8),i=Ae(new s(i),e,t),r=lt(i),n=Vs(i,e<=r||r<=s.toExpNeg,e)),n};ae.toSignificantDigits=ae.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(On(e,1,Ao),t===void 0?t=n.rounding:On(t,0,8)),Ae(new n(r),e,t)};ae.toString=ae.valueOf=ae.val=ae.toJSON=ae[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=lt(e),r=e.constructor;return Vs(e,t<=r.toExpNeg||t>=r.toExpPos)};function JC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ve?Ae(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/Fe),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/vt|0,c[s]%=vt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ve?Ae(t,f):t}function On(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rs+e)}function vn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=Fe-n.length,r&&(s+=wi(r)),s+=n;a=e[t],n=a+"",r=Fe-n.length,r&&(s+=wi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Kn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%vt|0,a=s/vt|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*vt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,p,y,b,g,x,w,j,S,N,P,E,R=n.constructor,M=n.s==i.s?1:-1,_=n.d,D=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Kr+"Division by zero");for(c=n.e-i.e,P=D.length,S=_.length,m=new R(M),p=m.d=[],u=0;D[u]==(_[u]||0);)++u;if(D[u]>(_[u]||0)&&--c,s==null?x=s=R.precision:a?x=s+(lt(n)-lt(i))+1:x=s,x<0)return new R(0);if(x=x/Fe+2|0,u=0,P==1)for(d=0,D=D[0],x++;(u<S||d)&&x--;u++)w=d*vt+(_[u]||0),p[u]=w/D|0,d=w%D|0;else{for(d=vt/(D[0]+1)|0,d>1&&(D=e(D,d),_=e(_,d),P=D.length,S=_.length),j=P,y=_.slice(0,P),b=y.length;b<P;)y[b++]=0;E=D.slice(),E.unshift(0),N=D[0],D[1]>=vt/2&&++N;do d=0,l=t(D,y,P,b),l<0?(g=y[0],P!=b&&(g=g*vt+(y[1]||0)),d=g/N|0,d>1?(d>=vt&&(d=vt-1),f=e(D,d),h=f.length,b=y.length,l=t(f,y,h,b),l==1&&(d--,r(f,P<h?E:D,h))):(d==0&&(l=d=1),f=D.slice()),h=f.length,h<b&&f.unshift(0),r(y,f,b),l==-1&&(b=y.length,l=t(D,y,P,b),l<1&&(d++,r(y,P<b?E:D,b))),b=y.length):l===0&&(d++,y=[0]),p[u++]=d,l&&y[0]?y[b++]=_[j]||0:(y=[_[j]],b=1);while((j++<S||y[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=c,Ae(m,a?s+lt(m)+1:s)}}();function QC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(lt(e)>16)throw Error(Dx+lt(e));if(!e.s)return new d(gr);for(t==null?(Ve=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(hs(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(gr),d.precision=l;;){if(i=Ae(i.times(e),l),r=r.times(++c),a=s.plus(Kn(i,r,l)),vn(a.d).slice(0,l)===vn(s.d).slice(0,l)){for(;u--;)s=Ae(s.times(s),l);return d.precision=f,t==null?(Ve=!0,Ae(s,f)):s}s=a}}function lt(e){for(var t=e.e*Fe,r=e.d[0];r>=10;r/=10)t++;return t}function bp(e,t,r){if(t>e.LN10.sd())throw Ve=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return Ae(new e(e.LN10),t)}function wi(e){for(var t="";e--;)t+="0";return t}function yc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,p=m.d,y=m.constructor,b=y.precision;if(m.s<1)throw Error(Kr+(m.s?"NaN":"-Infinity"));if(m.eq(gr))return new y(0);if(t==null?(Ve=!1,u=b):u=t,m.eq(10))return t==null&&(Ve=!0),bp(y,u);if(u+=h,y.precision=u,r=vn(p),n=r.charAt(0),s=lt(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=vn(m.d),n=r.charAt(0),f++;s=lt(m),n>1?(m=new y("0."+r),s++):m=new y(n+"."+r.slice(1))}else return c=bp(y,u+2,b).times(s+""),m=yc(new y(n+"."+r.slice(1)),u-h).plus(c),y.precision=b,t==null?(Ve=!0,Ae(m,b)):m;for(l=a=m=Kn(m.minus(gr),m.plus(gr),u),d=Ae(m.times(m),u),i=3;;){if(a=Ae(a.times(d),u),c=l.plus(Kn(a,new y(i),u)),vn(c.d).slice(0,u)===vn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(bp(y,u+2,b).times(s+""))),l=Kn(l,new y(f),u),y.precision=b,t==null?(Ve=!0,Ae(l,b)):l;l=c,i+=2}}function AN(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Oo(r/Fe),e.d=[],n=(r+1)%Fe,r<0&&(n+=Fe),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Fe;n<i;)e.d.push(+t.slice(n,n+=Fe));t=t.slice(n),n=Fe-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ve&&(e.e>hf||e.e<-hf))throw Error(Dx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ae(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=Fe,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Fe),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=Fe,i=n-Fe+a}if(r!==void 0&&(s=hs(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/hs(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=lt(e),f.length=1,t=t-s-1,f[0]=hs(10,(Fe-t%Fe)%Fe),e.e=Oo(-t/Fe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=hs(10,Fe-n),f[d]=i>0?(u/hs(10,a-i)%hs(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==vt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=vt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ve&&(e.e>hf||e.e<-hf))throw Error(Dx+lt(e));return e}function ZC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ve?Ae(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/Fe),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=vt-1;--c[s],c[i]+=vt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ve?Ae(t,m):t):new h(0)}function Vs(e,t,r){var n,i=lt(e),s=vn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+wi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+wi(-i-1)+s,r&&(n=r-a)>0&&(s+=wi(n))):i>=a?(s+=wi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+wi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=wi(n))),e.s<0?"-"+s:s}function ON(e,t){if(e.length>t)return e.length=t,!0}function eT(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Rs+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return AN(a,s.toString())}else if(typeof s!="string")throw Error(Rs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,GK.test(s))AN(a,s);else throw Error(Rs+s)}if(i.prototype=ae,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=eT,i.config=i.set=YK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function YK(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Oo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Rs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rs+r+": "+n);return this}var $x=eT(qK);gr=new $x(1);const _e=$x;var XK=e=>e,tT={"@@functional/placeholder":!0},rT=e=>e===tT,CN=e=>function t(){return arguments.length===0||arguments.length===1&&rT(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},nT=(e,t)=>e===1?t:CN(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==tT).length;return s>=e?t(...n):nT(e-s,CN(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>rT(d)?l.shift():d);return t(...u,...l)}))}),zh=e=>nT(e.length,e),Oy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},JK=zh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),QK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return XK;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},Cy=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),iT=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function sT(e){var t;return e===0?t=1:t=Math.floor(new _e(e).abs().log(10).toNumber())+1,t}function aT(e,t,r){for(var n=new _e(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}zh((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});zh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});zh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var oT=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},lT=(e,t,r)=>{if(e.lte(0))return new _e(0);var n=sT(e.toNumber()),i=new _e(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new _e(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new _e(c.toNumber()):new _e(Math.ceil(c.toNumber()))},ZK=(e,t,r)=>{var n=new _e(1),i=new _e(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new _e(10).pow(sT(e)-1),i=new _e(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new _e(Math.floor(e)))}else e===0?i=new _e(Math.floor((t-1)/2)):r||(i=new _e(Math.floor(e)));var a=Math.floor((t-1)/2),l=QK(JK(c=>i.add(new _e(c-a).mul(n)).toNumber()),Oy);return l(0,t)},cT=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new _e(0),tickMin:new _e(0),tickMax:new _e(0)};var a=lT(new _e(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new _e(0):(l=new _e(t).add(r).div(2),l=l.sub(new _e(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new _e(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?cT(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new _e(c).mul(a)),tickMax:l.add(new _e(u).mul(a))})};function eH(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=oT([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...Oy(0,n-1).map(()=>1/0)]:[...Oy(0,n-1).map(()=>-1/0),l];return t>r?Cy(c):c}if(a===l)return ZK(a,n,i);var{step:u,tickMin:d,tickMax:f}=cT(a,l,s,i,0),h=aT(d,f.add(new _e(.1).mul(u)),u);return t>r?Cy(h):h}function tH(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=oT([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=lT(new _e(a).sub(s).div(l-1),i,0),u=[...aT(new _e(s),new _e(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?Cy(u):u}var rH=iT(eH),nH=iT(tH),uT=e=>e.rootProps.maxBarSize,iH=e=>e.rootProps.barGap,dT=e=>e.rootProps.barCategoryGap,sH=e=>e.rootProps.barSize,Wc=e=>e.rootProps.stackOffset,Ix=e=>e.options.chartName,Lx=e=>e.rootProps.syncId,fT=e=>e.rootProps.syncMethod,Bx=e=>e.options.eventEmitter,gn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Uh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:gn.reversed,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:gn.type,unit:void 0},oH={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},lH={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:gn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:gn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:gn.scale,tick:gn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cH={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},Co=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?lH:aH,Vc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?cH:oH,Wh=e=>e.polarOptions,Fx=B([si,ai,ft],IO),hT=B([Wh,Fx],(e,t)=>{if(e!=null)return Yt(e.innerRadius,t,0)}),mT=B([Wh,Fx],(e,t)=>{if(e!=null)return Yt(e.outerRadius,t,t*.8)}),uH=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},pT=B([Wh],uH),dH=B([Co,pT],Uh),gT=B([Fx,hT,mT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),fH=B([Vc,gT],Uh),To=B([ve,Wh,hT,mT,si,ai],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Yt(a,i,i/2),cy:Yt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Ce=(e,t)=>t,Kc=(e,t,r)=>r;function zx(e){return e==null?void 0:e.id}var mt=e=>{var t=ve(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mo=e=>e.tooltip.settings.axisId,pt=e=>{var t=mt(e),r=Mo(e);return Ro(e,t,r)};function yT(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=zx(a);c.forEach((d,f)=>{var h=i==null?f:String($e(d,i,null)),m=$e(d,a.dataKey,0),p;s.has(h)?p=s.get(h):p={},Object.assign(p,{[u]:m}),s.set(h,p)})}}),Array.from(s.values())}function Vh(e){return e.stackId!=null&&e.dataKey!=null}function TN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TN(Object(r),!0).forEach(function(n){hH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hH(e,t,r){return(t=mH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mH(e){var t=pH(e,"string");return typeof t=="symbol"?t:t+""}function pH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ty=[0,"auto"],hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},li=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??hr},mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ty,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Oh},es=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??mr},gH={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ux=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??gH},it=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return es(e,r);case"zAxis":return Ux(e,r);case"angleAxis":return Co(e,r);case"radiusAxis":return Vc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},yH=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return es(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Ro=(e,t,r)=>{switch(t){case"xAxis":return li(e,r);case"yAxis":return es(e,r);case"angleAxis":return Co(e,r);case"radiusAxis":return Vc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},vT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Wx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Vx=e=>e.graphicalItems.cartesianItems,vH=B([Ce,Kc],Wx),Kx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Hc=B([Vx,it,vH],Kx),xT=B([Hc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Vh)),bT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),wT=B([Hc],bT),Hx=e=>e.map(t=>t.data).filter(Boolean).flat(1),xH=B([Hc],Hx),qx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Gx=B([xH,Rx],qx),Yx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:$e(i,n)}))):e.map(n=>({value:n})),Kh=B([Gx,it,Hc],Yx);function jT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ea(e){return e.filter(t=>An(t)||t instanceof Date).map(Number).filter(t=>wr(t)===!1)}function bH(e,t,r){return!r||typeof t!="number"||wr(t)?[]:r.length?ea(r.flatMap(n=>{var i=$e(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Nr(s)||!Nr(a)))return[t-s,t+a]})):[]}var wH=B([xT,Rx,pt],yT),ST=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(zx);return[a,{stackedData:O9(e,c,r),graphicalItems:l}]}))},My=B([wH,xT,Wc],ST),NT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=D9(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},jH=B([My,Zi,Ce],NT),PT=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>jT(i,f)),d=$e(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:bH(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:$e(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Hh=e=>e.errorBars,_T=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>jT(r,n));B([wT,Hh,Ce],_T);var SH=B([Gx,it,wT,Hh,Ce],PT);function NH(e){var{value:t}=e;if(An(t)||t instanceof Date)return t}var MN=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ea(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},PH=(e,t,r)=>{var n=e.map(NH).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&xA(n))?pC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Xx=e=>{var t;if(e==null||!("domain"in e))return Ty;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ea(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ty},pf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},kT=e=>e.referenceElements.dots,Do=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),_H=B([kT,Ce,Kc],Do),ET=e=>e.referenceElements.areas,kH=B([ET,Ce,Kc],Do),AT=e=>e.referenceElements.lines,EH=B([AT,Ce,Kc],Do),OT=(e,t)=>{var r=ea(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},AH=B(_H,Ce,OT),CT=(e,t)=>{var r=ea(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},OH=B([kH,Ce],CT),TT=(e,t)=>{var r=ea(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},CH=B(EH,Ce,TT),TH=B(AH,CH,OH,(e,t,r)=>pf(e,r,t)),MT=B([it],Xx),Jx=(e,t,r,n,i,s,a)=>{var l=KK(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?pf(r,i,MN(n)):pf(i,MN(n));return HK(t,u,e.allowDataOverflow)},MH=B([it,MT,jH,SH,TH,ve,Ce],Jx),RH=[0,1],Qx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Xi(t,s);return u&&l==null?pC(0,r.length):c==="category"?PH(n,e,u):i==="expand"?RH:a}},Zx=B([it,ve,Gx,Kh,Wc,Ce,MH],Qx),RT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Dc(s));return l in yl?l:"point"}}},ts=B([it,ve,vT,Ix,Ce],RT);function DH(e){if(e!=null){if(e in yl)return yl[e]();var t="scale".concat(Dc(e));if(t in yl)return yl[t]()}}function qh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=DH(t);if(i!=null){var s=i.domain(r).range(n);return P9(s),s}}}var eb=(e,t,r)=>{var n=Xx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&fo(e))return rH(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&fo(e))return nH(e,t.tickCount,t.allowDecimals)}},tb=B([Zx,Ro,ts],eb),rb=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&fo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},$H=B([it,Zx,tb,Ce],rb),IH=B(Kh,it,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ea(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),DT=B(IH,ve,dT,ft,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!Nr(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Yt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),LH=(e,t)=>{var r=li(e,t);return r==null||typeof r.padding!="string"?0:DT(e,"xAxis",t,r.padding)},BH=(e,t)=>{var r=es(e,t);return r==null||typeof r.padding!="string"?0:DT(e,"yAxis",t,r.padding)},FH=B(li,LH,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),zH=B(es,BH,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),UH=B([ft,FH,Th,Ch,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),WH=B([ft,ve,zH,Th,Ch,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),qc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return UH(e,r,n);case"yAxis":return WH(e,r,n);case"zAxis":return(i=Ux(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return pT(e);case"radiusAxis":return gT(e,r);default:return}},$T=B([it,qc],Uh),$o=B([it,ts,$H,$T],qh);B([Hc,Hh,Ce],_T);function IT(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gh=(e,t)=>t,Yh=(e,t,r)=>r,VH=B(nx,Gh,Yh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IT)),KH=B(ix,Gh,Yh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(IT)),LT=(e,t)=>({width:e.width,height:t.height}),HH=(e,t)=>{var r=typeof t.width=="number"?t.width:Oh;return{width:r,height:e.height}},BT=B(ft,li,LT),qH=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},GH=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},YH=B(ai,ft,VH,Gh,Yh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=LT(t,l);a==null&&(a=qH(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),XH=B(si,ft,KH,Gh,Yh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=HH(t,l);a==null&&(a=GH(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),JH=(e,t)=>{var r=ft(e),n=li(e,t);if(n!=null){var i=YH(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},QH=(e,t)=>{var r=ft(e),n=es(e,t);if(n!=null){var i=XH(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},FT=B(ft,es,(e,t)=>{var r=typeof t.width=="number"?t.width:Oh;return{width:r,height:e.height}}),RN=(e,t,r)=>{switch(t){case"xAxis":return BT(e,r).width;case"yAxis":return FT(e,r).height;default:return}},zT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Xi(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&xA(c))return c}},Gc=B([ve,Kh,it,Ce],zT),nb=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Xi(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},ib=B([ve,Kh,Ro,Ce],nb),DN=B([ve,yH,ts,$o,Gc,ib,qc,tb,Ce],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Xi(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),UT=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Xi(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?jt(s[0]-s[1])*2*p:p;var y=f||i;if(y){var b=y.map((g,x)=>{var w=a?a.indexOf(g):g;return{index:x,coordinate:n(w)+p,value:g,offset:p}});return b.filter(g=>!wr(g.coordinate))}return u&&l?l.map((g,x)=>({coordinate:n(g)+p,value:g,index:x,offset:p})):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,x)=>({coordinate:n(g)+p,value:a?a[g]:g,index:x,offset:p}))}},WT=B([ve,Ro,ts,$o,tb,qc,Gc,ib,Ce],UT),VT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Xi(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?jt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},ho=B([ve,Ro,$o,qc,Gc,ib,Ce],VT),mo=B(it,$o,(e,t)=>{if(!(e==null||t==null))return mf(mf({},e),{},{scale:t})}),ZH=B([it,ts,Zx,$T],qh);B((e,t,r)=>Ux(e,r),ZH,(e,t)=>{if(!(e==null||t==null))return mf(mf({},e),{},{scale:t})});var eq=B([ve,nx,ix],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),KT=e=>e.options.defaultTooltipEventType,HT=e=>e.options.validateTooltipEventTypes;function qT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function sb(e,t){var r=KT(e),n=HT(e);return qT(t,r,n)}function tq(e){return te(t=>sb(t,e))}var GT=(e,t)=>{var r,n=Number(t);if(!(wr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},rq=e=>e.tooltip.settings,Pi={active:!1,index:null,dataKey:void 0,coordinate:void 0},nq={itemInteraction:{click:Pi,hover:Pi},axisInteraction:{click:Pi,hover:Pi},keyboardInteraction:Pi,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},YT=kr({name:"tooltip",initialState:nq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=Vn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:iq,removeTooltipEntrySettings:sq,setTooltipSettingsState:aq,setActiveMouseOverItemIndex:XT,mouseLeaveItem:oq,mouseLeaveChart:JT,setActiveClickItemIndex:lq,setMouseOverAxisIndex:QT,setMouseClickAxisIndex:cq,setSyncInteraction:Ry,setKeyboardInteraction:Dy}=YT.actions,uq=YT.reducer;function $N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$N(Object(r),!0).forEach(function(n){dq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dq(e,t,r){return(t=fq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fq(e){var t=hq(e,"string");return typeof t=="symbol"?t:t+""}function hq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pq(e){return e.index!=null}var ZT=(e,t,r,n)=>{if(t==null)return Pi;var i=mq(e,t,r);if(i==null)return Pi;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(pq(i)){if(s)return Lu(Lu({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Lu(Lu({},Pi),{},{coordinate:i.coordinate})},ab=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!Nr(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},eM=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},tM=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Yc=e=>e.options.tooltipPayloadSearcher,Io=e=>e.tooltip;function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function LN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){gq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gq(e,t,r){return(t=yq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yq(e){var t=vq(e,"string");return typeof t=="symbol"?t:t+""}function vq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xq(e,t){return e??t}var rM=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:y,settings:b}=m,g=xq(y,l),x=Array.isArray(g)?BO(g,u,d):g,w=(p=b==null?void 0:b.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,j=b==null?void 0:b.nameKey,S;if(n!=null&&n.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&a==="axis"?S=Nz(x,n.dataKey,i):S=s(x,t,c,j),Array.isArray(S))S.forEach(P=>{var E=LN(LN({},b),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(_S({tooltipEntrySettings:E,dataKey:P.dataKey,payload:P.payload,value:$e(P.payload,P.dataKey),name:P.name}))});else{var N;h.push(_S({tooltipEntrySettings:b,dataKey:w,payload:S,value:$e(S,w),name:(N=$e(S,j))!==null&&N!==void 0?N:b==null?void 0:b.name}))}return h},f)}},ob=B([pt,ve,vT,Ix,mt],RT),bq=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),wq=B([mt,Mo],Wx),Xc=B([bq,pt,wq],Kx),jq=B([Xc],e=>e.filter(Vh)),Sq=B([Xc],Hx),Lo=B([Sq,Zi],qx),Nq=B([jq,Zi,pt],yT),lb=B([Lo,pt,Xc],Yx),Pq=B([pt],Xx),_q=B([Xc],e=>e.filter(Vh)),kq=B([Nq,_q,Wc],ST),Eq=B([kq,Zi,mt],NT),Aq=B([Xc],bT),Oq=B([Lo,pt,Aq,Hh,mt],PT),Cq=B([kT,mt,Mo],Do),Tq=B([Cq,mt],OT),Mq=B([ET,mt,Mo],Do),Rq=B([Mq,mt],CT),Dq=B([AT,mt,Mo],Do),$q=B([Dq,mt],TT),Iq=B([Tq,$q,Rq],pf),Lq=B([pt,Pq,Eq,Oq,Iq,ve,mt],Jx),nM=B([pt,ve,Lo,lb,Wc,mt,Lq],Qx),Bq=B([nM,pt,ob],eb),Fq=B([pt,nM,Bq,mt],rb),iM=e=>{var t=mt(e),r=Mo(e),n=!1;return qc(e,t,r,n)},sM=B([pt,iM],Uh),aM=B([pt,ob,Fq,sM],qh),zq=B([ve,lb,pt,mt],zT),Uq=B([ve,lb,pt,mt],nb),Wq=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Xi(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?jt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},ci=B([ve,pt,ob,aM,iM,zq,Uq,mt],Wq),cb=B([KT,HT,rq],(e,t,r)=>qT(r.shared,e,t)),oM=e=>e.tooltip.settings.trigger,ub=e=>e.tooltip.settings.defaultIndex,Xh=B([Io,cb,oM,ub],ZT),Wi=B([Xh,Lo],ab),lM=B([ci,Wi],GT),cM=B([Xh],e=>{if(e)return e.dataKey}),uM=B([Io,cb,oM,ub],tM),Vq=B([si,ai,ve,ft,ci,ub,uM,Yc],eM),Kq=B([Xh,Vq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Hq=B([Xh],e=>e.active),qq=B([uM,Wi,Zi,pt,lM,Yc,cb],rM),Gq=B([qq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function FN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){Yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yq(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qq=()=>te(pt),Zq=()=>{var e=Qq(),t=te(ci),r=te(aM);return dc(FN(FN({},e),{},{scale:r}),t)},eG=()=>te(Ix),db=(e,t)=>t,dM=(e,t,r)=>r,fb=(e,t,r,n)=>n,tG=B(ci,e=>Sh(e,t=>t.coordinate)),hb=B([Io,db,dM,fb],ZT),fM=B([hb,Lo],ab),rG=(e,t,r)=>{if(t!=null){var n=Io(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},hM=B([Io,db,dM,fb],tM),gf=B([si,ai,ve,ft,ci,fb,hM,Yc],eM),nG=B([hb,gf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),mM=B(ci,fM,GT),iG=B([hM,fM,Zi,pt,mM,Yc,db],rM),sG=B([hb],e=>({isActive:e.active,activeIndex:e.index})),aG=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=$9(e.chartX,e.chartY,t,r,l);if(c){var u=L9(c,t),d=S9(u,a,s,n,i),f=I9(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){oG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oG(e,t,r){return(t=lG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lG(e){var t=cG(e,"string");return typeof t=="symbol"?t:t+""}function cG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uG(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=DW;else if(u==="BarChart")m=$W(a,d,i,s),p=lC;else if(a==="radial"){var{cx:y,cy:b,radius:g,startAngle:x,endAngle:w}=cC(d);m={cx:y,cy:b,startAngle:x,endAngle:w,innerRadius:g,outerRadius:g},p=dC}else m={points:pV(a,d,i)},p=JO;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=Bu(Bu(Bu(Bu({stroke:"#ccc",pointerEvents:"none"},i),m),je(l,!1)),{},{payload:f,payloadIndex:h,className:me("recharts-tooltip-cursor",j)});return v.isValidElement(l)?v.cloneElement(l,S):v.createElement(p,S)}function dG(e){var t=Zq(),r=HO(),n=lx(),i=eG();return v.createElement(uG,$y({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var pM=v.createContext(null),fG=()=>v.useContext(pM),gM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],g=arguments.length,x,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),g){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,p),!0}for(w=1,x=new Array(g-1);w<g;w++)x[w-1]=arguments[w];b.fn.apply(b.context,x)}else{var j=b.length,S;for(w=0;w<j;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),g){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!x)for(S=1,x=new Array(g-1);S<g;S++)x[S-1]=arguments[S];b[w].fn.apply(b[w].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var y=0,b=[],g=p.length;y<g;y++)(p[y].fn!==d||h&&!p[y].once||f&&p[y].context!==f)&&b.push(p[y]);b.length?this._events[m]=b.length===1?b[0]:b:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(gM);var hG=gM.exports;const mG=Hr(hG);var vc=new mG,Iy="recharts.syncEvent.tooltip",UN="recharts.syncEvent.brush";function mb(e,t){if(t){var r=Number.parseInt(t,10);if(!wr(r))return e==null?void 0:e[r]}}var pG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},yM=kr({name:"options",initialState:pG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gG=yM.reducer,{createEventEmitter:yG}=yM.actions;function vG(e){return e.tooltip.syncInteraction}var xG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},vM=kr({name:"chartData",initialState:xG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:WN,setDataStartEndIndexes:bG,setComputedData:Gre}=vM.actions,wG=vM.reducer,xM=()=>{};function jG(){var e=te(Lx),t=te(Bx),r=Ue(),n=te(fT),i=te(ci),s=lx(),a=sx(),l=te(c=>c.rootProps.className);v.useEffect(()=>{if(e==null)return xM;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(i,m);h=i[p]}else n==="value"&&(h=i.find(N=>String(N.value)===d.payload.label));var{coordinate:y}=d.payload;if(h==null||d.payload.active===!1||y==null||a==null){r(Ry({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:b,y:g}=y,x=Math.min(b,a.x+a.width),w=Math.min(g,a.y+a.height),j={x:s==="horizontal"?h.coordinate:x,y:s==="horizontal"?w:h.coordinate},S=Ry({active:d.payload.active,coordinate:j,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(S)}}};return vc.on(Iy,c),()=>{vc.off(Iy,c)}},[l,r,t,e,n,i,s,a])}function SG(){var e=te(Lx),t=te(Bx),r=Ue();v.useEffect(()=>{if(e==null)return xM;var n=(i,s,a)=>{t!==a&&e===i&&r(bG(s))};return vc.on(UN,n),()=>{vc.off(UN,n)}},[r,t,e])}function NG(){var e=Ue();v.useEffect(()=>{e(yG())},[e]),jG(),SG()}function PG(e,t,r,n,i,s){var a=te(h=>rG(h,e,t)),l=te(Bx),c=te(Lx),u=te(fT),d=te(vG),f=d==null?void 0:d.active;v.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=Ry({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});vc.emit(Iy,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function KN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AG(e){return e.dataKey}function OG(e,t){return v.isValidElement(e)?v.cloneElement(e,t):typeof e=="function"?v.createElement(e,t):v.createElement(hW,t)}var HN=[],CG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Js.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Ks(e){var t=Gr(e,CG),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:y,shared:b,trigger:g,defaultIndex:x,portal:w,axisId:j}=t,S=Ue(),N=typeof x=="number"?String(x):x;v.useEffect(()=>{S(aq({shared:b,trigger:g,axisId:j,active:r,defaultIndex:N}))},[S,b,g,j,r,N]);var P=sx(),E=XO(),R=tq(b),{activeIndex:M,isActive:_}=te(ie=>sG(ie,R,g,N)),D=te(ie=>iG(ie,R,g,N)),T=te(ie=>mM(ie,R,g,N)),O=te(ie=>nG(ie,R,g,N)),A=D,z=fG(),L=r??_,[F,I]=fO([A,L]),H=R==="axis"?T:void 0;PG(R,g,O,H,M,L);var re=w??z;if(re==null)return null;var J=A??HN;L||(J=HN),l&&J.length&&(J=eO(A.filter(ie=>ie.value!=null&&(ie.hide!==!0||t.includeHidden)),d,AG));var ye=J.length>0,G=v.createElement(bW,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:L,coordinate:O,hasPayload:ye,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:p,lastBoundingBox:F,innerRef:I,hasPortalFromProps:!!w},OG(a,KN(KN({},t),{},{payload:J,label:H,active:L,coordinate:O,accessibilityLayer:E})));return v.createElement(v.Fragment,null,F0.createPortal(G,re),L&&v.createElement(dG,{cursor:y,tooltipEventType:R,coordinate:O,payload:A,index:M}))}var bM={},wM={},jM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),y()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},y=()=>{p(),a=void 0,l=null},b=()=>{d()},g=function(...x){if(i!=null&&i.aborted)return;a=this,l=x;const w=h==null;m(),c&&w&&d()};return g.schedule=m,g.cancel=y,g.flush=b,i==null||i.addEventListener("abort",y,{once:!0}),g}e.debounce=t})(jM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jM;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...y){d=n.apply(this,y),f=null},i,{edges:u}),m=function(...y){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,y),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,y),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(wM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wM;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(bM);var TG=bM.throttle;const MG=Hr(TG);var Dl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function qN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qN(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return(t=DG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hs=v.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,y=v.useRef(null),b=v.useRef();b.current=m,v.useImperativeHandle(t,()=>y.current);var[g,x]=v.useState({containerWidth:n.width,containerHeight:n.height}),w=v.useCallback((S,N)=>{x(P=>{var E=Math.round(S),R=Math.round(N);return P.containerWidth===E&&P.containerHeight===R?P:{containerWidth:E,containerHeight:R}})},[]);v.useEffect(()=>{var S=R=>{var M,{width:_,height:D}=R[0].contentRect;w(_,D),(M=b.current)===null||M===void 0||M.call(b,_,D)};d>0&&(S=MG(S,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(S),{width:P,height:E}=y.current.getBoundingClientRect();return w(P,E),N.observe(y.current),()=>{N.disconnect()}},[w,d]);var j=v.useMemo(()=>{var{containerWidth:S,containerHeight:N}=g;if(S<0||N<0)return null;Dl(bs(i)||bs(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Dl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=bs(i)?S:i,E=bs(s)?N:s;return r&&r>0&&(P?E=P/r:E&&(P=E*r),c&&E>c&&(E=c)),Dl(P>0||E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,E,i,s,a,l,r),v.Children.map(u,R=>v.cloneElement(R,{width:P,height:E,style:wp({width:P,height:E},R.props.style)}))},[r,u,s,c,l,a,g,i]);return v.createElement("div",{id:f?"".concat(f):void 0,className:me("recharts-responsive-container",h),style:wp(wp({},p),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:y},v.createElement("div",{style:{width:0,height:0,overflow:"visible"}},j))}),ta=e=>null;ta.displayName="Cell";function IG(e,t,r){return(t=LG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LG(e){var t=BG(e,"string");return typeof t=="symbol"?t:t+""}function BG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class FG{constructor(t){IG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){UG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UG(e,t,r){return(t=WG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WG(e){var t=VG(e,"string");return typeof t=="symbol"?t:t+""}function VG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KG={cacheSize:2e3,enableCache:!0},SM=zG({},KG),YN=new FG(SM.cacheSize),HG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},XN="recharts_measurement_span";function qG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var JN=(e,t)=>{try{var r=document.getElementById(XN);r||(r=document.createElement("span"),r.setAttribute("id",XN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,HG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$l=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Js.isSsr)return{width:0,height:0};if(!SM.enableCache)return JN(t,r);var n=qG(t,r),i=YN.get(n);if(i)return i;var s=JN(t,r);return YN.set(n,s),s},QN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ZN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,YG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,NM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},XG=Object.keys(NM),Ca="NaN";function JG(e,t){return e*NM[t]}class er{static parse(t){var r,[,n,i]=(r=YG.exec(t))!==null&&r!==void 0?r:[];return new er(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,wr(t)&&(this.unit=""),r!==""&&!GG.test(r)&&(this.num=NaN,this.unit=""),XG.includes(r)&&(this.num=JG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return wr(this.num)}}function PM(e){if(e.includes(Ca))return Ca;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=QN.exec(t))!==null&&r!==void 0?r:[],a=er.parse(n??""),l=er.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Ca;t=t.replace(QN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=ZN.exec(t))!==null&&u!==void 0?u:[],m=er.parse(d??""),p=er.parse(h??""),y=f==="+"?m.add(p):m.subtract(p);if(y.isNaN())return Ca;t=t.replace(ZN,y.toString())}return t}var eP=/\(([^()]*)\)/;function QG(e){for(var t=e,r;(r=eP.exec(t))!=null;){var[,n]=r;t=t.replace(eP,PM(n))}return t}function ZG(e){var t=e.replace(/\s+/g,"");return t=QG(t),t=PM(t),t}function eY(e){try{return ZG(e)}catch{return Ca}}function jp(e){var t=eY(e.slice(5,-1));return t===Ca?"":t}var tY=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rY=["dx","dy","angle","className","breakAll"];function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function tP(e,t){if(e==null)return{};var r,n,i=nY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _M=/[ \f\n\r\t\v\u2028\u2029]+/,kM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];et(t)||(r?i=t.toString().split(""):i=t.toString().split(_M));var s=i.map(l=>({word:l,width:$l(l,n).width})),a=r?0:$l(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},iY=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=ne(s),d=a,f=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return _.reduce((D,T)=>{var{word:O,width:A}=T,z=D[D.length-1];if(z&&(n==null||i||z.width+A+r<Number(n)))z.words.push(O),z.width+=A+r;else{var L={words:[O],width:A};D.push(L)}return D},[])},h=f(t),m=M=>M.reduce((_,D)=>_.width>D.width?_:D);if(!u||i)return h;var p=h.length>s||m(h).width>Number(n);if(!p)return h;for(var y="…",b=M=>{var _=d.slice(0,M),D=kM({breakAll:c,style:l,children:_+y}).wordsWithComputedWidth,T=f(D),O=T.length>s||m(T).width>Number(n);return[O,T]},g=0,x=d.length-1,w=0,j;g<=x&&w<=d.length-1;){var S=Math.floor((g+x)/2),N=S-1,[P,E]=b(N),[R]=b(S);if(!P&&!R&&(g=S+1),P&&R&&(x=S-1),!P&&R){j=E;break}w++}return j||h},rP=e=>{var t=et(e)?[]:e.toString().split(_M);return[{words:t}]},sY=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Js.isSsr){var l,c,u=kM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return rP(n);return iY({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return rP(n)},nP="#808080",Bo=v.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=nP}=e,d=tP(e,tY),f=v.useMemo(()=>sY({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:y,breakAll:b}=d,g=tP(d,rY);if(!An(r)||!An(n))return null;var x=r+(ne(h)?h:0),w=n+(ne(m)?m:0),j;switch(c){case"start":j=jp("calc(".concat(s,")"));break;case"middle":j=jp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:j=jp("calc(".concat(f.length-1," * -").concat(i,")"));break}var S=[];if(a){var N=f[0].width,{width:P}=d;S.push("scale(".concat(ne(P)?P/N:1,")"))}return p&&S.push("rotate(".concat(p,", ").concat(x,", ").concat(w,")")),S.length&&(g.transform=S.join(" ")),v.createElement("text",Ly({},je(g,!0),{ref:t,x,y:w,className:me("recharts-text",y),textAnchor:l,fill:u.includes("url")?nP:u}),f.map((E,R)=>{var M=E.words.join(b?"":" ");return v.createElement("tspan",{x,dy:R===0?j:i,key:"".concat(M,"-").concat(R)},M)}))});Bo.displayName="Text";var aY=["offset"],oY=["labelRef"];function iP(e,t){if(e==null)return{};var r,n,i=lY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Xe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function In(){return In=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},In.apply(null,arguments)}var fY=e=>{var{value:t,formatter:r}=e,n=et(e.children)?t:e.children;return typeof r=="function"?r(n):n},pb=e=>e!=null&&typeof e=="function",hY=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},mY=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,p=(u+d)/2,y=hY(f,h),b=y>=0?1:-1,g,x;i==="insideStart"?(g=f+b*s,x=m):i==="insideEnd"?(g=h-b*s,x=!m):i==="end"&&(g=h+b*s,x=m),x=y<=0?x:!x;var w=Ne(l,c,p,g),j=Ne(l,c,p,g+(x?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(j.x,",").concat(j.y),N=et(e.id)?lc("recharts-radial-line-"):e.id;return v.createElement("text",In({},r,{dominantBaseline:"central",className:me("recharts-radial-bar-label",a)}),v.createElement("defs",null,v.createElement("path",{id:N,d:S})),v.createElement("textPath",{xlinkHref:"#".concat(N)},t))},pY=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=Ne(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:p}=Ne(n,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},gY=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,y=m>0?"end":"start",b=m>0?"start":"end";if(i==="top"){var g={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Xe(Xe({},g),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var x={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Xe(Xe({},x),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var w={x:s-p,y:a+c/2,textAnchor:y,verticalAnchor:"middle"};return Xe(Xe({},w),r?{width:Math.max(w.x-r.x,0),height:c}:{})}if(i==="right"){var j={x:s+l+p,y:a+c/2,textAnchor:b,verticalAnchor:"middle"};return Xe(Xe({},j),r?{width:Math.max(r.x+r.width-j.x,0),height:c}:{})}var S=r?{width:l,height:c}:{};return i==="insideLeft"?Xe({x:s+p,y:a+c/2,textAnchor:b,verticalAnchor:"middle"},S):i==="insideRight"?Xe({x:s+l-p,y:a+c/2,textAnchor:y,verticalAnchor:"middle"},S):i==="insideTop"?Xe({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},S):i==="insideBottom"?Xe({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},S):i==="insideTopLeft"?Xe({x:s+p,y:a+d,textAnchor:b,verticalAnchor:h},S):i==="insideTopRight"?Xe({x:s+l-p,y:a+d,textAnchor:y,verticalAnchor:h},S):i==="insideBottomLeft"?Xe({x:s+p,y:a+c-d,textAnchor:b,verticalAnchor:f},S):i==="insideBottomRight"?Xe({x:s+l-p,y:a+c-d,textAnchor:y,verticalAnchor:f},S):i&&typeof i=="object"&&(ne(i.x)||bs(i.x))&&(ne(i.y)||bs(i.y))?Xe({x:s+Yt(i.x,l),y:a+Yt(i.y,c),textAnchor:"end",verticalAnchor:"end"},S):Xe({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},yY=e=>"cx"in e&&ne(e.cx);function ir(e){var{offset:t=5}=e,r=iP(e,aY),n=Xe({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=te(To),m=sx(),p=s==="center"?m:h??m,y=i||p;if(!y||et(a)&&et(l)&&!v.isValidElement(c)&&typeof c!="function")return null;var b=Xe(Xe({},n),{},{viewBox:y});if(v.isValidElement(c)){var g=iP(b,oY);return v.cloneElement(c,g)}var x;if(typeof c=="function"){if(x=v.createElement(c,b),v.isValidElement(x))return x}else x=fY(n);var w=yY(y),j=je(n,!0);if(w&&(s==="insideStart"||s==="insideEnd"||s==="end"))return mY(n,x,j,y);var S=w?pY(y,n.offset,n.position):gY(n,y);return v.createElement(Bo,In({ref:f,className:me("recharts-label",u)},j,S,{breakAll:d}),x)}ir.displayName="Label";var EM=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:y,clockWise:b,labelViewBox:g}=e;if(g)return g;if(ne(p)&&ne(y)){if(ne(d)&&ne(f))return{x:d,y:f,width:p,height:y};if(ne(h)&&ne(m))return{x:h,y:m,width:p,height:y}}if(ne(d)&&ne(f))return{x:d,y:f,width:0,height:0};if(ne(t)&&ne(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:b};if(e.viewBox)return e.viewBox},vY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?v.createElement(ir,In({key:"label-implicit"},n)):An(e)?v.createElement(ir,In({key:"label-implicit",value:e},n)):v.isValidElement(e)?e.type===ir?v.cloneElement(e,Xe({key:"label-implicit"},n)):v.createElement(ir,In({key:"label-implicit",content:e},n)):pb(e)?v.createElement(ir,In({key:"label-implicit",content:e},n)):e&&typeof e=="object"?v.createElement(ir,In({},e,{key:"label-implicit"},n)):null},xY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=EM(t),l=$c(i,ir).map((u,d)=>v.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=vY(t.label,r||a,s);return[c,...l]};ir.parseViewBox=EM;ir.renderCallByParent=xY;var AM={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(OM);var CM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(CM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM,r=CM,n=yh;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(AM);var bY=AM.last;const TM=Hr(bY);var wY=["valueAccessor"],jY=["data","dataKey","clockWise","id","textBreakAll"];function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(null,arguments)}function aP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aP(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=NY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NY(e){var t=PY(e,"string");return typeof t=="symbol"?t:t+""}function PY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lP(e,t){if(e==null)return{};var r,n,i=_Y(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kY=e=>Array.isArray(e.value)?TM(e.value):e.value;function Ii(e){var{valueAccessor:t=kY}=e,r=lP(e,wY),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=lP(r,jY);return!n||!n.length?null:v.createElement(Ye,{className:"recharts-label-list"},n.map((u,d)=>{var f=et(i)?t(u,d):$e(u&&u.payload,i),h=et(a)?{}:{id:"".concat(a,"-").concat(d)};return v.createElement(ir,yf({},je(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:ir.parseViewBox(et(s)?u:oP(oP({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Ii.displayName="LabelList";function EY(e,t){return e?e===!0?v.createElement(Ii,{key:"labelList-implicit",data:t}):v.isValidElement(e)||pb(e)?v.createElement(Ii,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?v.createElement(Ii,yf({data:t},e,{key:"labelList-implicit"})):null:null}function AY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=$c(n,Ii).map((a,l)=>v.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=EY(e.label,t);return[s,...i]}Ii.renderCallByParent=AY;var OY=["points","className","baseLinePoints","connectNulls"];function Ta(){return Ta=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ta.apply(null,arguments)}function CY(e,t){if(e==null)return{};var r,n,i=TY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cP=e=>e&&e.x===+e.x&&e.y===+e.y,MY=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{cP(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),cP(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Il=(e,t)=>{var r=MY(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},RY=(e,t,r)=>{var n=Il(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Il(t.reverse(),r).slice(1))},MM=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=CY(e,OY);if(!t||!t.length)return null;var a=me("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=RY(t,n,i);return v.createElement("g",{className:a},v.createElement("path",Ta({},je(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?v.createElement("path",Ta({},je(s,!0),{fill:"none",d:Il(t,i)})):null,l?v.createElement("path",Ta({},je(s,!0),{fill:"none",d:Il(n,i)})):null)}var u=Il(t,i);return v.createElement("path",Ta({},je(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}var gb=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=me("recharts-dot",i);return t===+t&&r===+r&&n===+n?v.createElement("circle",By({},zt(e),Dv(e),{className:s,cx:t,cy:r,r:n})):null},yb=e=>e.graphicalItems.polarItems,DY=B([Ce,Kc],Wx),vb=B([yb,it,DY],Kx),$Y=B([vb],Hx),xb=B([$Y,Fh],qx),RM=B([xb,it,vb],Yx),IY=B([xb,it,vb],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=$e(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:$e(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),uP=()=>{},LY=B([it,MT,uP,IY,uP,ve,Ce],Jx),DM=B([it,ve,xb,RM,Wc,Ce,LY],Qx),$M=B([DM,it,ts],eb),BY=B([it,DM,$M,Ce],rb),bb=(e,t,r)=>{switch(t){case"angleAxis":return Co(e,r);case"radiusAxis":return Vc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},wb=(e,t,r)=>{switch(t){case"angleAxis":return dH(e,r);case"radiusAxis":return fH(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fo=B([bb,ts,BY,wb],qh),IM=B([ve,RM,Ro,Ce],nb),zo=B([ve,bb,ts,Fo,$M,wb,Gc,IM,Ce],UT);B([ve,bb,Fo,wb,Gc,IM,Ce],VT);var FY=(e,t)=>zo(e,"angleAxis",t,!1),zY=B([FY],e=>{if(e)return e.map(t=>t.coordinate)}),UY=(e,t)=>zo(e,"radiusAxis",t,!1),WY=B([UY],e=>{if(e)return e.map(t=>t.coordinate)}),VY=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function KY(e,t){if(e==null)return{};var r,n,i=HY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function HY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ti.apply(null,arguments)}function dP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function po(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dP(Object(r),!0).forEach(function(n){qY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qY(e,t,r){return(t=GY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GY(e){var t=YY(e,"string");return typeof t=="symbol"?t:t+""}function YY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XY=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=Ne(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},JY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=po({stroke:"#ccc"},zt(e));return v.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=Ne(t,r,n,c),d=Ne(t,r,i,c);return v.createElement("line",ti({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},QY=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=po(po({stroke:"#ccc"},zt(e)),{},{fill:"none"});return v.createElement("circle",ti({},s,{className:me("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},ZY=e=>{var{radius:t,index:r}=e,n=po(po({stroke:"#ccc"},zt(e)),{},{fill:"none"});return v.createElement("path",ti({},n,{className:me("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:XY(t,e.cx,e.cy,e.polarAngles)}))},eX=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:v.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?v.createElement(QY,ti({key:s},e,{radius:n,index:i})):v.createElement(ZY,ti({key:s},e,{radius:n,index:i}))}))},LM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:y,outerRadius:b}=e,g=KY(e,VY),x=te(To),w=po({cx:(t=(r=x==null?void 0:x.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=x==null?void 0:x.cy)!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0,innerRadius:(s=(a=x==null?void 0:x.innerRadius)!==null&&a!==void 0?a:y)!==null&&s!==void 0?s:0,outerRadius:(l=(c=x==null?void 0:x.outerRadius)!==null&&c!==void 0?c:b)!==null&&l!==void 0?l:0},g),{polarAngles:j,polarRadius:S,cx:N,cy:P,innerRadius:E,outerRadius:R}=w,M=te(O=>zY(O,f)),_=te(O=>WY(O,h)),D=Array.isArray(j)?j:M,T=Array.isArray(S)?S:_;return R<=0||D==null||T==null?null:v.createElement("g",{className:"recharts-polar-grid"},v.createElement(JY,ti({cx:N,cy:P,innerRadius:E,outerRadius:R,gridType:u,radialLines:d},w,{polarAngles:D,polarRadius:T})),v.createElement(eX,ti({cx:N,cy:P,innerRadius:E,outerRadius:R,gridType:u,radialLines:d},w,{polarAngles:D,polarRadius:T})))};LM.displayName="PolarGrid";var BM={},FM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(FM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FM,r=Ic,n=vh;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(BM);var tX=BM.maxBy;const rX=Hr(tX);var zM={},UM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(UM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UM,r=Ic,n=vh;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(zM);var nX=zM.minBy;const iX=Hr(nX);var sX={radiusAxis:{},angleAxis:{}},WM=kr({name:"polarAxis",initialState:sX,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:aX,removeRadiusAxis:oX,addAngleAxis:lX,removeAngleAxis:cX}=WM.actions,uX=WM.reducer,dX=["cx","cy","angle","axisLine"],fX=["angle","tickFormatter","stroke","tick"];function xc(){return xc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xc.apply(null,arguments)}function fP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fP(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jh(e,t,r){return(t=hX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hX(e){var t=mX(e,"string");return typeof t=="symbol"?t:t+""}function mX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VM(e,t){if(e==null)return{};var r,n,i=pX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KM="radiusAxis";function gX(e){var t=Ue();return v.useEffect(()=>(t(aX(e)),()=>{t(oX(e))})),null}var yX=(e,t,r,n)=>{var{coordinate:i}=e;return Ne(r,n,i,t)},vX=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},xX=(e,t,r,n)=>{var i=rX(n,a=>a.coordinate||0),s=iX(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},bX=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=VM(e,dX),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=Ne(r,n,l[0],i),u=Ne(r,n,l[1],i),d=xn(xn(xn({},zt(a)),{},{fill:"none"},je(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return v.createElement("line",xc({className:"recharts-polar-radius-axis-line"},d))},wX=(e,t,r)=>{var n;return v.isValidElement(e)?n=v.cloneElement(e,t):typeof e=="function"?n=e(t):n=v.createElement(Bo,xc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},jX=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=VM(e,fX),l=vX(e.orientation),c=zt(a),u=je(s,!1),d=t.map((f,h)=>{var m=yX(f,e.angle,e.cx,e.cy),p=xn(xn(xn(xn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return v.createElement(Ye,xc({className:me("recharts-polar-radius-axis-tick",LO(s)),key:"tick-".concat(f.coordinate)},Xs(e,f,h)),wX(s,p,n?n(f.value,h):f.value))});return v.createElement(Ye,{className:"recharts-polar-radius-axis-ticks"},d)},SX=e=>{var{radiusAxisId:t}=e,r=te(To),n=te(c=>Fo(c,"radiusAxis",t)),i=te(c=>zo(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=xn(xn(xn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return v.createElement(Ye,{className:me("recharts-polar-radius-axis",KM,s.className)},l&&bX(s,i),a&&jX(s,i),ir.renderCallByParent(s,xX(s.angle,s.cx,s.cy,i)))};class Qh extends v.PureComponent{render(){return v.createElement(v.Fragment,null,v.createElement(gX,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),v.createElement(SX,this.props))}}Jh(Qh,"displayName","PolarRadiusAxis");Jh(Qh,"axisType",KM);Jh(Qh,"defaultProps",tr);var NX=["children"];function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ri.apply(null,arguments)}function hP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hP(Object(r),!0).forEach(function(n){Zh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Zh(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=_X(e,"string");return typeof t=="symbol"?t:t+""}function _X(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kX(e,t){if(e==null)return{};var r,n,i=EX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function EX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AX=Math.PI/180,mP=1e-5,HM="angleAxis";function OX(e){var t=Ue(),r=v.useMemo(()=>{var s=kX(e,NX);return s},[e]),n=te(s=>Co(s,r.id)),i=r===n;return v.useEffect(()=>(t(lX(r)),()=>{t(cX(r))}),[t,r]),i?e.children:null}var CX=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=Ne(r,n,i,e.coordinate),u=Ne(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},TX=(e,t)=>{var r=Math.cos(-e.coordinate*AX);return r>mP?t==="outer"?"start":"end":r<-mP?t==="outer"?"end":"start":"middle"},MX=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=yn(yn({},zt(e)),{},{fill:"none"},je(s,!1));if(i==="circle")return v.createElement(gb,ri({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>Ne(t,r,n,u.coordinate));return v.createElement(MM,ri({className:"recharts-polar-angle-axis-line"},l,{points:c}))},RX=e=>{var{tick:t,tickProps:r,value:n}=e;return t?v.isValidElement(t)?v.cloneElement(t,r):typeof t=="function"?t(r):v.createElement(Bo,ri({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},DX=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=zt(e),l=je(t,!1),c=yn(yn({},a),{},{fill:"none"},je(r,!1)),u=s.map((d,f)=>{var h=CX(d,e),m=TX(d,e.orientation),p=yn(yn(yn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return v.createElement(Ye,ri({className:me("recharts-polar-angle-axis-tick",LO(t)),key:"tick-".concat(d.coordinate)},Xs(e,d,f)),r&&v.createElement("line",ri({className:"recharts-polar-angle-axis-tick-line"},c,h)),v.createElement(RX,{tick:t,tickProps:p,value:n?n(d.value,f):d.value}))});return v.createElement(Ye,{className:"recharts-polar-angle-axis-ticks"},u)},$X=e=>{var{angleAxisId:t}=e,r=te(To),n=te(l=>Fo(l,"angleAxis",t)),i=fr(),s=te(l=>zo(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=yn(yn(yn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return v.createElement(Ye,{className:me("recharts-polar-angle-axis",HM,a.className)},v.createElement(MX,ri({},a,{ticks:s})),v.createElement(DX,ri({},a,{ticks:s})))};class em extends v.PureComponent{render(){return this.props.radius<=0?null:v.createElement(OX,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},v.createElement($X,this.props))}}Zh(em,"displayName","PolarAngleAxis");Zh(em,"axisType",HM);Zh(em,"defaultProps",gn);function pP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function gP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pP(Object(r),!0).forEach(function(n){IX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IX(e,t,r){return(t=LX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=BX(e,"string");return typeof t=="symbol"?t:t+""}function BX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FX=(e,t)=>t,jb=B([yb,FX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),zX=[],Sb=(e,t,r)=>(r==null?void 0:r.length)===0?zX:r,qM=B([Fh,jb,Sb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>gP(gP({},t.presentationProps),s.props))),i!=null)return i}}),UX=B([qM,jb,Sb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=$e(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ko(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),WX=B([qM,jb,Sb,ft],(e,t,r,n)=>{if(!(t==null||e==null))return RJ({offset:n,pieSettings:t,displayedData:e,cells:r})}),GM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(GM);var VX=GM.isPlainObject;const KX=Hr(VX);function vf(){return vf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vf.apply(null,arguments)}var yP=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},HX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qX=e=>{var t=Gr(e,HX),r=v.useRef(),[n,i]=v.useState(-1);v.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&i(b)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var y=me("recharts-trapezoid",d);return p?v.createElement(tf,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:p},b=>{var{upperWidth:g,lowerWidth:x,height:w,x:j,y:S}=b;return v.createElement(tf,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},v.createElement("path",vf({},je(t,!0),{className:y,d:yP(j,S,g,x,w),ref:r})))}):v.createElement("g",null,v.createElement("path",vf({},je(t,!0),{className:y,d:yP(s,a,l,c,u)})))},GX=["option","shapeType","propTransformer","activeClassName","isActive"];function YX(e,t){if(e==null)return{};var r,n,i=XX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function xf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vP(Object(r),!0).forEach(function(n){JX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eJ(e,t){return xf(xf({},t),e)}function tJ(e,t){return e==="symbols"}function xP(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return v.createElement(lC,r);case"trapezoid":return v.createElement(qX,r);case"sector":return v.createElement(dC,r);case"symbols":if(tJ(t))return v.createElement(Fv,r);break;default:return null}}function rJ(e){return v.isValidElement(e)?e.props:e}function YM(e){var{option:t,shapeType:r,propTransformer:n=eJ,activeClassName:i="recharts-active-shape",isActive:s}=e,a=YX(e,GX),l;if(v.isValidElement(t))l=v.cloneElement(t,xf(xf({},a),rJ(t)));else if(typeof t=="function")l=t(a);else if(KX(t)&&typeof t!="boolean"){var c=n(t,a);l=v.createElement(xP,{shapeType:r,elementProps:c})}else{var u=a;l=v.createElement(xP,{shapeType:r,elementProps:u})}return s?v.createElement(Ye,{className:i},l):l}var Nb=(e,t)=>{var r=Ue();return(n,i)=>s=>{e==null||e(n,i,s),r(XT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Pb=e=>{var t=Ue();return(r,n)=>i=>{e==null||e(r,n,i),t(oq())}},_b=(e,t)=>{var r=Ue();return(n,i)=>s=>{e==null||e(n,i,s),r(lq({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function kb(e){var{fn:t,args:r}=e,n=Ue(),i=fr();return v.useEffect(()=>{if(!i){var s=t(r);return n(iq(s)),()=>{n(sq(s))}}},[t,r,n,i]),null}var XM=()=>{};function nJ(e){var{legendPayload:t}=e,r=Ue(),n=fr();return v.useEffect(()=>n?XM:(r(GO(t)),()=>{r(YO(t))}),[r,n,t]),null}function JM(e){var{legendPayload:t}=e,r=Ue(),n=te(ve);return v.useEffect(()=>n!=="centric"&&n!=="radial"?XM:(r(GO(t)),()=>{r(YO(t))}),[r,n,t]),null}function Eb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=v.useRef(lc(t)),n=v.useRef(e);return n.current!==e&&(r.current=lc(t),n.current=e),r.current}var Sp,iJ=()=>{var[e]=v.useState(()=>lc("uid-"));return e},sJ=(Sp=lD.useId)!==null&&Sp!==void 0?Sp:iJ;function aJ(e,t){var r=sJ();return t||(e?"".concat(e,"-").concat(r):r)}var oJ=v.createContext(void 0),Ab=e=>{var{id:t,type:r,children:n}=e,i=aJ("recharts-".concat(r),t);return v.createElement(oJ.Provider,{value:i},n(i))},lJ={cartesianItems:[],polarItems:[]},QM=kr({name:"graphicalItems",initialState:lJ,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=Vn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=Vn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=Vn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:cJ,replaceCartesianGraphicalItem:uJ,removeCartesianGraphicalItem:dJ,addPolarGraphicalItem:fJ,removePolarGraphicalItem:hJ}=QM.actions,mJ=QM.reducer;function pJ(e){var t=Ue(),r=v.useRef(null);return v.useEffect(()=>{r.current===null?t(cJ(e)):r.current!==e&&t(uJ({prev:r.current,next:e})),r.current=e},[t,e]),v.useEffect(()=>()=>{r.current&&(t(dJ(r.current)),r.current=null)},[t]),null}function ZM(e){var t=Ue();return v.useEffect(()=>(t(fJ(e)),()=>{t(hJ(e))}),[t,e]),null}function gJ(){}var yJ={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},bP={t:0},Np={t:1};function Ob(e){var t=Gr(e,yJ),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=oC("JavascriptAnimate",t.animationManager),[f,h]=v.useState(r?bP:Np),m=v.useRef(null);return v.useEffect(()=>{r||h(Np)},[r]),v.useEffect(()=>{if(!r||!n)return gJ;var p=aC(bP,Np,iC(s),i,h,d.getTimeoutController()),y=()=>{m.current=p()};return d.start([c,a,y,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var vJ=["onMouseEnter","onClick","onMouseLeave"],xJ=["id"],bJ=["id"];function Cb(e,t){if(e==null)return{};var r,n,i=wJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function wJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wP(Object(r),!0).forEach(function(n){jJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jJ(e,t,r){return(t=SJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function PJ(e){var t=v.useMemo(()=>$c(e.children,ta),[e.children]),r=te(n=>UX(n,e.id,t));return r==null?null:v.createElement(JM,{legendPayload:r})}function _J(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:ko(l,t),hide:c,type:u,color:a,unit:""}}}var kJ=(e,t)=>e>t?"start":e<t?"end":"middle",EJ=(e,t,r)=>typeof t=="function"?t(e):Yt(t,r,r*.8),AJ=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=IO(s,a),c=i+Yt(e.cx,s,s/2),u=n+Yt(e.cy,a,a/2),d=Yt(e.innerRadius,l,0),f=EJ(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},OJ=(e,t)=>{var r=jt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},CJ=(e,t)=>{if(v.isValidElement(e))return v.cloneElement(e,t);if(typeof e=="function")return e(t);var r=me("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return v.createElement(JO,ni({},t,{type:"linear",className:r}))},TJ=(e,t,r)=>{if(v.isValidElement(e))return v.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),v.isValidElement(n)))return n;var i=me("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return v.createElement(Bo,ni({},t,{alignmentBaseline:"middle",className:i}),n)};function MJ(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=zt(r),c=je(i,!1),u=je(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,y=Ne(h.cx,h.cy,h.outerRadius+d,p),b=Ze(Ze(Ze(Ze({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:kJ(y.x,h.cx)},y),g=Ze(Ze(Ze(Ze({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Ne(h.cx,h.cy,h.outerRadius,p),y],key:"line"});return v.createElement(Ye,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&CJ(s,g),TJ(i,b,$e(h,a)))});return v.createElement(Ye,{className:"recharts-pie-labels"},f)}function eR(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=te(Wi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=Cb(i,vJ),f=Nb(l,i.dataKey),h=Pb(u),m=_b(c,i.dataKey);return t==null?null:v.createElement(v.Fragment,null,t.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var b=r&&String(y)===a,g=a?n:null,x=b?r:g,w=Ze(Ze({},p),{},{stroke:p.stroke,tabIndex:-1,[WO]:y,[VO]:i.dataKey});return v.createElement(Ye,ni({tabIndex:-1,className:"recharts-pie-sector"},Xs(d,p,y),{onMouseEnter:f(p,y),onMouseLeave:h(p,y),onClick:m(p,y),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y)}),v.createElement(YM,ni({option:x,isActive:b,shapeType:"sector"},w)))}),v.createElement(MJ,{sectors:t,props:i,showLabels:s}))}function RJ(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=OJ(l,c),p=Math.abs(m),y=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,b=n.filter(N=>$e(N,u,0)!==0).length,g=(p>=360?b:b-1)*y,x=p-b*h-g,w=n.reduce((N,P)=>{var E=$e(P,u,0);return N+(ne(E)?E:0)},0),j;if(w>0){var S;j=n.map((N,P)=>{var E=$e(N,u,0),R=$e(N,d,P),M=AJ(r,s,N),_=(ne(E)?E:0)/w,D,T=Ze(Ze({},N),i&&i[P]&&i[P].props);P?D=S.endAngle+jt(m)*y*(E!==0?1:0):D=l;var O=D+jt(m)*((E!==0?h:0)+_*x),A=(D+O)/2,z=(M.innerRadius+M.outerRadius)/2,L=[{name:R,value:E,payload:T,dataKey:u,type:f}],F=Ne(M.cx,M.cy,z,A);return S=Ze(Ze(Ze(Ze({},r.presentationProps),{},{percent:_,cornerRadius:a,name:R,tooltipPayload:L,midAngle:A,middleRadius:z,tooltipPosition:F},T),M),{},{value:$e(N,u),startAngle:D,endAngle:O,payload:T,paddingAngle:jt(m)*y}),S})}return j}function DJ(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=Eb(t,"recharts-pie-"),m=r.current,[p,y]=v.useState(!0),b=v.useCallback(()=>{typeof f=="function"&&f(),y(!1)},[f]),g=v.useCallback(()=>{typeof d=="function"&&d(),y(!0)},[d]);return v.createElement(Ob,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:g,onAnimationEnd:b,key:h},x=>{var w=[],j=n&&n[0],S=j.startAngle;return n.forEach((N,P)=>{var E=m&&m[P],R=P>0?Ui(N,"paddingAngle",0):0;if(E){var M=Oa(E.endAngle-E.startAngle,N.endAngle-N.startAngle),_=Ze(Ze({},N),{},{startAngle:S+R,endAngle:S+M(x)+R});w.push(_),S=_.endAngle}else{var{endAngle:D,startAngle:T}=N,O=Oa(0,D-T),A=O(x),z=Ze(Ze({},N),{},{startAngle:S+R,endAngle:S+A+R});w.push(z),S=z.endAngle}}),r.current=w,v.createElement(Ye,null,v.createElement(eR,{sectors:w,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function $J(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=v.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?v.createElement(DJ,{props:e,previousSectorsRef:s}):v.createElement(eR,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function IJ(e){var{hide:t,className:r,rootTabIndex:n}=e,i=me("recharts-pie",r);return t?null:v.createElement(Ye,{tabIndex:n,className:i},v.createElement($J,e))}var LJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Js.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function BJ(e){var{id:t}=e,r=Cb(e,xJ),n=v.useMemo(()=>$c(e.children,ta),[e.children]),i=te(s=>WX(s,t,n));return v.createElement(v.Fragment,null,v.createElement(kb,{fn:_J,args:Ze(Ze({},e),{},{sectors:i})}),v.createElement(IJ,ni({},r,{sectors:i})))}function tm(e){var t=Gr(e,LJ),{id:r}=t,n=Cb(t,bJ),i=zt(n);return v.createElement(Ab,{id:r,type:"pie"},s=>v.createElement(v.Fragment,null,v.createElement(ZM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),v.createElement(PJ,ni({},n,{id:s})),v.createElement(BJ,ni({},n,{id:s})),n.children))}tm.displayName="Pie";var FJ=B([ft],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),zJ=B([FJ,si,ai],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),tR=()=>te(zJ),UJ=()=>te(Gq);function jP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jP(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=SP(SP({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},je(i,!1)),Dv(i)),l;return v.isValidElement(i)?l=v.cloneElement(i,a):typeof i=="function"?l=i(a):l=v.createElement(gb,a),v.createElement(Ye,{className:"recharts-active-dot"},l)};function qJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=te(Wi),a=UJ();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return et(l)?null:HJ({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function NP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NP(Object(r),!0).forEach(function(n){GJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GJ(e,t,r){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rR=(e,t)=>Fo(e,"radiusAxis",t),JJ=B([rR],e=>{if(e!=null)return{scale:e}}),QJ=B([Vc,rR],(e,t)=>{if(!(e==null||t==null))return bf(bf({},e),{},{scale:t})}),ZJ=(e,t,r,n)=>zo(e,"radiusAxis",t,n),nR=(e,t,r)=>Co(e,r),iR=(e,t,r)=>Fo(e,"angleAxis",r),eQ=B([nR,iR],(e,t)=>{if(!(e==null||t==null))return bf(bf({},e),{},{scale:t})}),tQ=(e,t,r,n)=>zo(e,"angleAxis",r,n),rQ=B([nR,iR,To],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),nQ=(e,t,r,n,i)=>i,iQ=B([ve,QJ,ZJ,eQ,tQ],(e,t,r,n,i)=>Xi(e,"radiusAxis")?dc(t,r,!1):dc(n,i,!1)),sQ=B([yb,nQ],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),aQ=B([JJ,rQ,Fh,sQ,iQ],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return pQ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),oQ=["id"];function lQ(e,t){if(e==null)return{};var r,n,i=cQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PP(Object(r),!0).forEach(function(n){Tb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Tb(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},go.apply(null,arguments)}function Mb(e,t){return e&&e!=="none"?e:t}var fQ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:Mb(n,i),value:ko(r,t),payload:e}]};function hQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:ko(s,t),hide:a,type:l,color:Mb(r,i),unit:""}}}function mQ(e,t){var r;return v.isValidElement(e)?r=v.cloneElement(e,t):typeof e=="function"?r=e(t):r=v.createElement(gb,go({},t,{className:me("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function pQ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var p=$e(h,r.dataKey,m),y=$e(h,i),b=r.scale(p)+d,g=Array.isArray(y)?TM(y):y,x=et(g)?void 0:t.scale(g);Array.isArray(y)&&y.length>=2&&(c=!0),u.push(qt(qt({},Ne(a,l,x,b)),{},{name:p,value:y,cx:a,cy:l,radius:x,angle:b,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=et(m)?void 0:t.scale(m);f.push(qt(qt({},h),{},{radius:p},Ne(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function gQ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=lQ(r,oQ),a=zt(s),l=je(n,!0),c=t.map((u,d)=>{var f=qt(qt(qt({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return mQ(n,f)});return v.createElement(Ye,{className:"recharts-radar-dots"},c)}function sR(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return v.isValidElement(i)?d=v.cloneElement(i,qt(qt({},r),{},{points:t})):typeof i=="function"?d=i(qt(qt({},r),{},{points:t})):d=v.createElement(MM,go({},je(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),v.createElement(Ye,{className:"recharts-radar-polygon"},d,v.createElement(gQ,{props:r,points:t}),n&&Ii.renderCallByParent(r,t))}function yQ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=Eb(t,"recharts-radar-"),[h,m]=v.useState(!0),p=v.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),y=v.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return v.createElement(Ob,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:y},b=>{var g=d&&d.length/n.length,x=b===1?n:n.map((w,j)=>{var S=d&&d[Math.floor(j*g)];if(S){var N=Oa(S.x,w.x),P=Oa(S.y,w.y);return qt(qt({},w),{},{x:N(b),y:P(b)})}var E=Oa(w.cx,w.x),R=Oa(w.cy,w.y);return qt(qt({},w),{},{x:E(b),y:R(b)})});return b>0&&(r.current=x),v.createElement(sR,{points:x,props:t,showLabels:!h})})}function vQ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=v.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?v.createElement(yQ,{props:e,previousPointsRef:i}):v.createElement(sR,{points:t,props:e,showLabels:!0})}var xQ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Js.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class bQ extends v.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=me("recharts-radar",r);return v.createElement(v.Fragment,null,v.createElement(Ye,{className:i},v.createElement(vQ,this.props)),v.createElement(qJ,{points:n,mainColor:Mb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function wQ(e){var t=fr(),r=te(n=>aQ(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return v.createElement(bQ,go({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class Rb extends v.PureComponent{render(){return v.createElement(Ab,{id:this.props.id,type:"radar"},t=>v.createElement(v.Fragment,null,v.createElement(ZM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),v.createElement(JM,{legendPayload:fQ(this.props)}),v.createElement(kb,{fn:hQ,args:this.props}),v.createElement(wQ,go({},this.props,{id:t}))))}}Tb(Rb,"displayName","Radar");Tb(Rb,"defaultProps",xQ);var jQ="Invariant failed";function SQ(e,t){throw new Error(jQ)}var NQ=["x","y"];function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}function _P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_P(Object(r),!0).forEach(function(n){PQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_P(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=kQ(e,"string");return typeof t=="symbol"?t:t+""}function kQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EQ(e,t){if(e==null)return{};var r,n,i=AQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OQ(e,t){var{x:r,y:n}=e,i=EQ(e,NQ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ll(ll(ll(ll(ll({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function aR(e){return v.createElement(YM,Fy({shapeType:"rectangle",propTransformer:OQ,activeClassName:"recharts-active-bar"},e))}var CQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(ne(t))return t;var s=ne(n)||et(n);return s?t(n,i):(s||SQ(),r)}},TQ={},MQ=kr({name:"errorBars",initialState:TQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),RQ=MQ.reducer,DQ=["children"];function $Q(e,t){if(e==null)return{};var r,n,i=IQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function IQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},BQ=v.createContext(LQ);function FQ(e){var{children:t}=e,r=$Q(e,DQ);return v.createElement(BQ.Provider,{value:r},t)}function oR(e,t){var r,n,i=te(u=>li(u,e)),s=te(u=>es(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:hr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:mr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function zQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=tR(),{needClipX:s,needClipY:a,needClip:l}=oR(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return v.createElement("clipPath",{id:"clipPath-".concat(n)},v.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var UQ=["onMouseEnter","onMouseLeave","onClick"],WQ=["value","background","tooltipPosition"],VQ=["id"],KQ=["onMouseEnter","onClick","onMouseLeave"];function yo(){return yo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yo.apply(null,arguments)}function kP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kP(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return(t=qQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wf(e,t){if(e==null)return{};var r,n,i=YQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var XQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:ko(r,t),payload:e}]};function JQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ko(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function QQ(e){var t=te(Wi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=wf(s,UQ),d=Nb(a,n),f=Pb(l),h=_b(c,n);if(!i||r==null)return null;var m=je(i,!1);return v.createElement(v.Fragment,null,r.map((p,y)=>{var{value:b,background:g,tooltipPosition:x}=p,w=wf(p,WQ);if(!g)return null;var j=d(p,y),S=f(p,y),N=h(p,y),P=$t($t($t($t($t({option:i,isActive:String(y)===t},w),{},{fill:"#eee"},g),m),Xs(u,p,y)),{},{onMouseEnter:j,onMouseLeave:S,onClick:N,dataKey:n,index:y,className:"recharts-bar-background-rectangle"});return v.createElement(aR,yo({key:"background-bar-".concat(y)},P))}))}function lR(e){var{data:t,props:r,showLabels:n}=e,i=zt(r),s=wf(i,VQ),{shape:a,dataKey:l,activeBar:c}=r,u=te(Wi),d=te(cM),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,p=wf(r,KQ),y=Nb(f,l),b=Pb(m),g=_b(h,l);return t?v.createElement(v.Fragment,null,t.map((x,w)=>{var j=c&&String(w)===u&&(d==null||l===d),S=j?c:a,N=$t($t($t({},s),x),{},{isActive:j,option:S,index:w,dataKey:l});return v.createElement(Ye,yo({className:"recharts-bar-rectangle"},Xs(p,x,w),{onMouseEnter:y(x,w),onMouseLeave:b(x,w),onClick:g(x,w),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(w)}),v.createElement(aR,N))}),n&&Ii.renderCallByParent(r,t)):null}function ZQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Eb(t,"recharts-bar-"),[m,p]=v.useState(!1),y=v.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),b=v.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return v.createElement(Ob,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:y,onAnimationStart:b,key:h},g=>{var x=g===1?n:n==null?void 0:n.map((w,j)=>{var S=f&&f[j];if(S)return $t($t({},w),{},{x:la(S.x,w.x,g),y:la(S.y,w.y,g),width:la(S.width,w.width,g),height:la(S.height,w.height,g)});if(i==="horizontal"){var N=la(0,w.height,g);return $t($t({},w),{},{y:w.y+w.height-N,height:N})}var P=la(0,w.width,g);return $t($t({},w),{},{width:P})});return g>0&&(r.current=x??null),x==null?null:v.createElement(Ye,null,v.createElement(lR,{props:t,data:x,showLabels:!m}))})}function eZ(e){var{data:t,isAnimationActive:r}=e,n=v.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?v.createElement(ZQ,{previousRectanglesRef:n,props:e}):v.createElement(lR,{props:e,data:t,showLabels:!0})}var cR=0,tZ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:$e(e,t)}};class rZ extends v.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=me("recharts-bar",i),f=u;return v.createElement(Ye,{className:d,id:u},l&&v.createElement("defs",null,v.createElement(zQ,{clipPathId:f,xAxisId:s,yAxisId:a})),v.createElement(Ye,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},v.createElement(QQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),v.createElement(eZ,this.props)),this.props.children)}}var nZ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Js.isSsr,legendType:"rect",minPointSize:cR,xAxisId:0,yAxisId:0};function iZ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=oR(t,r),h=lx(),m=fr(),p=$c(e.children,ta),y=te(x=>CZ(x,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var b,g=y==null?void 0:y[0];return g==null||g.height==null||g.width==null?b=0:b=h==="vertical"?g.height/2:g.width/2,v.createElement(FQ,{xAxisId:t,yAxisId:r,data:y,dataPointFormatter:tZ,errorBarOffset:b},v.createElement(rZ,yo({},e,{layout:h,needClip:f,data:y,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function sZ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:a,y=d?p.scale.domain():null,b=T9({numericAxis:p});return f.map((g,x)=>{var w,j,S,N,P,E;d?w=_9(d[x],y):(w=$e(g,r),Array.isArray(w)||(w=[b,w]));var R=CQ(n,cR)(w[1],x);if(t==="horizontal"){var M,[_,D]=[l.scale(w[0]),l.scale(w[1])];j=SS({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:g,index:x}),S=(M=D??_)!==null&&M!==void 0?M:void 0,N=i.size;var T=_-D;if(P=wr(T)?0:T,E={x:j,y:h.top,width:N,height:h.height},Math.abs(R)>0&&Math.abs(P)<Math.abs(R)){var O=jt(P||R)*(Math.abs(R)-Math.abs(P));S-=O,P+=O}}else{var[A,z]=[a.scale(w[0]),a.scale(w[1])];if(j=A,S=SS({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:g,index:x}),N=z-A,P=i.size,E={x:h.left,y:S,width:h.width,height:P},Math.abs(R)>0&&Math.abs(N)<Math.abs(R)){var L=jt(N||R)*(Math.abs(R)-Math.abs(N));N+=L}}if(j==null||S==null||N==null||P==null)return null;var F=$t($t({},g),{},{x:j,y:S,width:N,height:P,value:d?w:w[1],payload:g,background:E,tooltipPosition:{x:j+N/2,y:S+P/2}},m&&m[x]&&m[x].props);return F}).filter(Boolean)}function rm(e){var t=Gr(e,nZ),r=fr();return v.createElement(Ab,{id:t.id,type:"bar"},n=>v.createElement(v.Fragment,null,v.createElement(nJ,{legendPayload:XQ(t)}),v.createElement(kb,{fn:JQ,args:t}),v.createElement(pJ,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:C9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),v.createElement(iZ,yo({},t,{id:n}))))}rm.displayName="Bar";function EP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EP(Object(r),!0).forEach(function(n){aZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aZ(e,t,r){return(t=oZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oZ(e){var t=lZ(e,"string");return typeof t=="symbol"?t:t+""}function lZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cZ=(e,t)=>t,uZ=(e,t,r)=>r,dZ=(e,t,r,n)=>n,fZ=(e,t,r,n,i)=>i,Jc=B([Vx,fZ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),hZ=B([Jc],e=>e==null?void 0:e.maxBarSize),mZ=(e,t,r,n,i,s)=>s,AP=(e,t,r)=>{var n=r??e;if(!et(n))return Yt(n,t,0)},pZ=B([ve,Vx,cZ,uZ,dZ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),gZ=(e,t,r,n)=>{var i=ve(e);return i==="horizontal"?My(e,"yAxis",r,n):My(e,"xAxis",t,n)},yZ=(e,t,r)=>{var n=ve(e);return n==="horizontal"?RN(e,"xAxis",t):RN(e,"yAxis",r)},vZ=(e,t,r)=>{var n={},i=e.filter(Vh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=AP(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=AP(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},xZ=B([pZ,sH,yZ],vZ),bZ=(e,t,r,n,i)=>{var s,a,l=Jc(e,t,r,n,i);if(l!=null){var c=ve(e),u=uT(e),{maxBarSize:d}=l,f=et(d)?u:d,h,m;return c==="horizontal"?(h=mo(e,"xAxis",t,n),m=ho(e,"xAxis",t,n)):(h=mo(e,"yAxis",r,n),m=ho(e,"yAxis",r,n)),(s=(a=dc(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},uR=(e,t,r,n)=>{var i=ve(e),s,a;return i==="horizontal"?(s=mo(e,"xAxis",t,n),a=ho(e,"xAxis",t,n)):(s=mo(e,"yAxis",r,n),a=ho(e,"yAxis",r,n)),dc(s,a)};function wZ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Yt(e,r,0,!0),l,c=[];if(Nr(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((g,x)=>g+(x.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((g,x)=>{var w,j={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(w=x.barSize)!==null&&w!==void 0?w:0}},S=[...g,j];return m=S[S.length-1].position,S},c)}else{var p=Yt(t,r,0,!0);r-2*p-(s-1)*a<=0&&(a=0);var y=(r-2*p-(s-1)*a)/s;y>1&&(y>>=0);var b=Nr(i)?Math.min(y,i):y;l=n.reduce((g,x,w)=>[...g,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(y+a)*w+(y-b)/2,size:b}}],c)}return l}}var jZ=(e,t,r,n,i,s,a)=>{var l=et(a)?t:a,c=wZ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Fu(Fu({},u),{},{position:Fu(Fu({},u.position),{},{offset:u.position.offset-i/2})}))),c},SZ=B([xZ,uT,iH,dT,bZ,uR,hZ],jZ),NZ=(e,t,r,n)=>mo(e,"xAxis",t,n),PZ=(e,t,r,n)=>mo(e,"yAxis",r,n),_Z=(e,t,r,n)=>ho(e,"xAxis",t,n),kZ=(e,t,r,n)=>ho(e,"yAxis",r,n),EZ=B([SZ,Jc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),AZ=(e,t)=>{var r=zx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},OZ=B([gZ,Jc],AZ),CZ=B([ft,NZ,PZ,_Z,kZ,EZ,ve,Rx,uR,OZ,Jc,mZ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:y}=d,b;if(y!=null&&y.length>0?b=y:b=h==null?void 0:h.slice(m,p+1),b!=null)return sZ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:b,offset:e,cells:f})}}),dR=e=>{var{chartData:t}=e,r=Ue(),n=fr();return v.useEffect(()=>n?()=>{}:(r(WN(t)),()=>{r(WN(void 0))}),[t,r,n]),null},OP={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TZ=kr({name:"brush",initialState:OP,reducers:{setBrushSettings(e,t){return t.payload==null?OP:t.payload}}}),MZ=TZ.reducer;function RZ(e,t,r){return(t=DZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DZ(e){var t=$Z(e,"string");return typeof t=="symbol"?t:t+""}function $Z(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Db{static create(t){return new Db(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}RZ(Db,"EPS",1e-4);function IZ(e){return(e%180+180)%180}var LZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=IZ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},BZ={dots:[],areas:[],lines:[]},FZ=kr({name:"referenceElements",initialState:BZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Vn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Vn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Vn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),zZ=FZ.reducer,UZ=v.createContext(void 0),WZ=e=>{var{children:t}=e,[r]=v.useState("".concat(lc("recharts"),"-clip")),n=tR();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return v.createElement(UZ.Provider,{value:r},v.createElement("defs",null,v.createElement("clipPath",{id:r},v.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function Pp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function fR(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function VZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return LZ(n,r)}function KZ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function jf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function HZ(e,t){return fR(e,t+1)}function qZ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:fR(n,u)};var y=c,b,g=()=>(b===void 0&&(b=r(p,y)),b),x=p.coordinate,w=c===0||jf(e,x,g,d,l);w||(c=0,d=a,u+=1),w&&(d=x+e*(g()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function CP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Rt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CP(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JZ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,y=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var b=e*(m.coordinate+e*y()/2-c);s[h]=m=Rt(Rt({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else s[h]=m=Rt(Rt({},m),{},{tickCoord:m.coordinate});var g=jf(e,m.tickCoord,y,l,c);g&&(c=m.tickCoord-e*(y()/2+i),s[h]=Rt(Rt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function QZ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Rt(Rt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=jf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Rt(Rt({},d),{},{isShow:!0}))}for(var p=s?l-1:l,y=function(x){var w=a[x],j,S=()=>(j===void 0&&(j=r(w,x)),j);if(x===0){var N=e*(w.coordinate-e*S()/2-c);a[x]=w=Rt(Rt({},w),{},{tickCoord:N<0?w.coordinate-N*e:w.coordinate})}else a[x]=w=Rt(Rt({},w),{},{tickCoord:w.coordinate});var P=jf(e,w.tickCoord,S,c,u);P&&(c=w.tickCoord+e*(S()/2+i),a[x]=Rt(Rt({},w),{},{isShow:!0}))},b=0;b<p;b++)y(b);return a}function $b(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(ne(c)||Js.isSsr){var h;return(h=HZ(i,ne(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",y=d&&p==="width"?$l(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(w,j)=>{var S=typeof u=="function"?u(w.value,j):w.value;return p==="width"?VZ($l(S,{fontSize:t,letterSpacing:r}),y,f):$l(S,{fontSize:t,letterSpacing:r})[p]},g=i.length>=2?jt(i[1].coordinate-i[0].coordinate):1,x=KZ(s,g,p);return c==="equidistantPreserveStart"?qZ(g,x,b,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=QZ(g,x,b,i,a,c==="preserveStartEnd"):m=JZ(g,x,b,i,a),m.filter(w=>w.isShow))}var ZZ=["viewBox"],eee=["viewBox"];function Ma(){return Ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ma.apply(null,arguments)}function TP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ct(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TP(Object(r),!0).forEach(function(n){Ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function MP(e,t){if(e==null)return{};var r,n,i=tee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function tee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ib(e,t,r){return(t=ree(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ree(e){var t=nee(e,"string");return typeof t=="symbol"?t:t+""}function nee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class rs extends v.Component{constructor(t){super(t),this.tickRefs=v.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=MP(t,ZZ),s=this.props,{viewBox:a}=s,l=MP(s,eee);return!Pp(n,a)||!Pp(i,l)||!Pp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,y,b=c?-1:1,g=t.tickSize||l,x=ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-b*g,y=h-b*u,p=x;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-b*g,p=d-b*u,y=x;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+b*g,p=d+b*u,y=x;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+b*g,y=h+b*u,p=x;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=ct(ct(ct({},je(this.props,!1)),je(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=ct(ct({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=ct(ct({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return v.createElement("line",Ma({},c,{className:me("recharts-cartesian-axis-line",Ui(l,"className"))}))}static renderTickItem(t,r,n){var i,s=me(r.className,"recharts-cartesian-axis-tick-value");if(v.isValidElement(t))i=v.cloneElement(t,ct(ct({},r),{},{className:s}));else if(typeof t=="function")i=t(ct(ct({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=me(a,t.className)),i=v.createElement(Bo,Ma({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=$b(ct(ct({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=zt(this.props),p=je(a,!1),y=ct(ct({},m),{},{fill:"none"},je(i,!1)),b=d.map((g,x)=>{var{line:w,tick:j}=this.getTickLineCoord(g),S=ct(ct(ct(ct({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},p),j),{},{index:x,payload:g,visibleTicksCount:d.length,tickFormatter:l,padding:u});return v.createElement(Ye,Ma({className:"recharts-cartesian-axis-tick",key:"tick-".concat(g.value,"-").concat(g.coordinate,"-").concat(g.tickCoord)},Xs(this.props,g,x)),i&&v.createElement("line",Ma({},y,w,{className:me("recharts-cartesian-axis-tick-line",Ui(i,"className"))})),a&&rs.renderTickItem(a,S,"".concat(typeof l=="function"?l(g.value,x):g.value).concat(c||"")))});return b.length>0?v.createElement("g",{className:"recharts-cartesian-axis-ticks"},b):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:v.createElement(Ye,{className:me("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ir.renderCallByParent(this.props))}}Ib(rs,"displayName","CartesianAxis");Ib(rs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var iee=["x1","y1","x2","y2","key"],see=["offset"],aee=["xAxisId","yAxisId"],oee=["xAxisId","yAxisId"];function RP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RP(Object(r),!0).forEach(function(n){lee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lee(e,t,r){return(t=cee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cee(e){var t=uee(e,"string");return typeof t=="symbol"?t:t+""}function uee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ns(){return Ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ns.apply(null,arguments)}function Sf(e,t){if(e==null)return{};var r,n,i=dee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function dee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fee=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return v.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function hR(e,t){var r;if(v.isValidElement(e))r=v.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=Sf(t,iee),u=zt(c),d=Sf(u,see);r=v.createElement("line",Ns({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function hee(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=Sf(e,aee),a=i.map((l,c)=>{var u=It(It({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return hR(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function mee(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=Sf(e,oee),a=i.map((l,c)=>{var u=It(It({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return hR(n,u)});return v.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function pee(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var y=h%t.length;return v.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function gee(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var y=h%r.length;return v.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[y],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return v.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yee=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return FO($b(It(It(It({},rs.defaultProps),r),{},{ticks:zO(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},vee=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return FO($b(It(It(It({},rs.defaultProps),r),{},{ticks:zO(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},xee={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function nm(e){var t=ax(),r=ox(),n=HO(),i=It(It({},Gr(e,xee)),{},{x:ne(e.x)?e.x:n.left,y:ne(e.y)?e.y:n.top,width:ne(e.width)?e.width:n.width,height:ne(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=fr(),y=te(R=>DN(R,"xAxis",s,p)),b=te(R=>DN(R,"yAxis",a,p));if(!ne(u)||u<=0||!ne(d)||d<=0||!ne(l)||l!==+l||!ne(c)||c!==+c)return null;var g=i.verticalCoordinatesGenerator||yee,x=i.horizontalCoordinatesGenerator||vee,{horizontalPoints:w,verticalPoints:j}=i;if((!w||!w.length)&&typeof x=="function"){var S=h&&h.length,N=x({yAxis:b?It(It({},b),{},{ticks:S?h:b.ticks}):void 0,width:t,height:r,offset:n},S?!0:f);Dl(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(w=N)}if((!j||!j.length)&&typeof g=="function"){var P=m&&m.length,E=g({xAxis:y?It(It({},y),{},{ticks:P?m:y.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);Dl(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(j=E)}return v.createElement("g",{className:"recharts-cartesian-grid"},v.createElement(fee,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),v.createElement(pee,Ns({},i,{horizontalPoints:w})),v.createElement(gee,Ns({},i,{verticalPoints:j})),v.createElement(hee,Ns({},i,{offset:n,horizontalPoints:w,xAxis:y,yAxis:b})),v.createElement(mee,Ns({},i,{offset:n,verticalPoints:j,xAxis:y,yAxis:b})))}nm.displayName="CartesianGrid";function DP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $P(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DP(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return(t=wee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=jee(e,"string");return typeof t=="symbol"?t:t+""}function jee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var See={xAxis:{},yAxis:{},zAxis:{}},mR=kr({name:"cartesianAxis",initialState:See,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=$P($P({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:Nee,removeXAxis:Pee,addYAxis:_ee,removeYAxis:kee,addZAxis:Yre,removeZAxis:Xre,updateYAxisWidth:Eee}=mR.actions,Aee=mR.reducer,Oee=["children"],Cee=["dangerouslySetInnerHTML","ticks"];function pR(e,t,r){return(t=Tee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Tee(e){var t=Mee(e,"string");return typeof t=="symbol"?t:t+""}function Mee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function gR(e,t){if(e==null)return{};var r,n,i=Ree(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ree(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Dee(e){var t=Ue(),r=v.useMemo(()=>{var s=gR(e,Oee);return s},[e]),n=te(s=>li(s,r.id)),i=r===n;return v.useEffect(()=>(t(Nee(r)),()=>{t(Pee(r))}),[r,t]),i?e.children:null}var $ee=e=>{var{xAxisId:t,className:r}=e,n=te(KO),i=fr(),s="xAxis",a=te(f=>$o(f,s,t,i)),l=te(f=>WT(f,s,t,i)),c=te(f=>BT(f,t)),u=te(f=>JH(f,t));if(c==null||u==null)return null;var d=gR(e,Cee);return v.createElement(rs,zy({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:me("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},Iee=e=>{var t,r,n,i,s;return v.createElement(Dee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},v.createElement($ee,e))};class Qc extends v.Component{render(){return v.createElement(Iee,this.props)}}pR(Qc,"displayName","XAxis");pR(Qc,"defaultProps",{allowDataOverflow:hr.allowDataOverflow,allowDecimals:hr.allowDecimals,allowDuplicatedCategory:hr.allowDuplicatedCategory,height:hr.height,hide:!1,mirror:hr.mirror,orientation:hr.orientation,padding:hr.padding,reversed:hr.reversed,scale:hr.scale,tickCount:hr.tickCount,type:hr.type,xAxisId:0});var Lee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},Bee=["dangerouslySetInnerHTML","ticks"];function yR(e,t,r){return(t=Fee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function Uee(e,t){if(e==null)return{};var r,n,i=Wee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Wee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Vee(e){var t=Ue();return v.useEffect(()=>(t(_ee(e)),()=>{t(kee(e))}),[e,t]),null}var Kee=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=v.useRef(null),l=v.useRef(null),c=te(KO),u=fr(),d=Ue(),f="yAxis",h=te(g=>$o(g,f,r,u)),m=te(g=>FT(g,r)),p=te(g=>QH(g,r)),y=te(g=>WT(g,f,r,u));if(v.useLayoutEffect(()=>{var g;if(!(i!=="auto"||!m||pb(s)||v.isValidElement(s))){var x=a.current,w=x==null||(g=x.tickRefs)===null||g===void 0?void 0:g.current,{tickSize:j,tickMargin:S}=x.props,N=Lee({ticks:w,label:l.current,labelGapWithTick:5,tickSize:j,tickMargin:S});Math.round(m.width)!==Math.round(N)&&d(Eee({id:r,width:N}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||p==null)return null;var b=Uee(e,Bee);return v.createElement(rs,Uy({},b,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:me("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:y}))},Hee=e=>{var t,r,n,i,s;return v.createElement(v.Fragment,null,v.createElement(Vee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),v.createElement(Kee,e))},qee={allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,width:mr.width,yAxisId:0};class Zc extends v.Component{render(){return v.createElement(Hee,this.props)}}yR(Zc,"displayName","YAxis");yR(Zc,"defaultProps",qee);var Gee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eu=v;function Yee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xee=typeof Object.is=="function"?Object.is:Yee,Jee=eu.useSyncExternalStore,Qee=eu.useRef,Zee=eu.useEffect,ete=eu.useMemo,tte=eu.useDebugValue;Gee.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=Qee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=ete(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,Xee(d,m))return p;var y=n(m);return i!==void 0&&i(p,y)?(d=m,p):(d=m,f=y)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=Jee(e,s[0],s[1]);return Zee(function(){a.hasValue=!0,a.value=l},[l]),tte(l),l};function rte(e){e()}function nte(){let e=null,t=null;return{clear(){e=null,t=null},notify(){rte(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var IP={notify(){},get:()=>[]};function ite(e,t){let r,n=IP,i=0,s=!1;function a(y){d();const b=n.subscribe(y);let g=!1;return()=>{g||(g=!0,b(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=nte())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=IP)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var ste=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ate=ste(),ote=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lte=ote(),cte=()=>ate||lte?v.useLayoutEffect:v.useEffect,ute=cte(),_p=Symbol.for("react-redux-context"),kp=typeof globalThis<"u"?globalThis:{};function dte(){if(!v.createContext)return{};const e=kp[_p]??(kp[_p]=new Map);let t=e.get(v.createContext);return t||(t=v.createContext(null),e.set(v.createContext,t)),t}var fte=dte();function hte(e){const{children:t,context:r,serverState:n,store:i}=e,s=v.useMemo(()=>{const c=ite(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=v.useMemo(()=>i.getState(),[i]);ute(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||fte;return v.createElement(l.Provider,{value:s},t)}var mte=hte,pte=(e,t)=>t,Lb=B([pte,ve,To,mt,sM,ci,tG,ft],aG),Bb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},vR=Vr("mouseClick"),xR=Lc();xR.startListening({actionCreator:vR,effect:(e,t)=>{var r=e.payload,n=Lb(t.getState(),Bb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(cq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Wy=Vr("mouseMove"),bR=Lc();bR.startListening({actionCreator:Wy,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=sb(n,n.tooltip.settings.shared),s=Lb(n,Bb(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(QT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(JT()))}});function gte(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var LP={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},wR=kr({name:"rootProps",initialState:LP,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:LP.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),yte=wR.reducer,{updateOptions:vte}=wR.actions,jR=kr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:xte}=jR.actions,bte=jR.reducer,SR=Vr("keyDown"),NR=Vr("focus"),Fb=Lc();Fb.startListening({actionCreator:SR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(ab(i,Lo(r))),l=ci(r);if(s==="Enter"){var c=gf(r,"axis","hover",String(i.index));t.dispatch(Dy({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=eq(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=gf(r,"axis","hover",String(h));t.dispatch(Dy({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Fb.startListening({actionCreator:NR,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=gf(r,"axis","hover",String(s));t.dispatch(Dy({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Mr=Vr("externalEvent"),PR=Lc();PR.startListening({actionCreator:Mr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Kq(r),activeDataKey:cM(r),activeIndex:Wi(r),activeLabel:lM(r),activeTooltipIndex:Wi(r),isTooltipActive:Hq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var wte=B([Io],e=>e.tooltipItemPayloads),jte=B([wte,Yc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),_R=Vr("touchMove"),kR=Lc();kR.startListening({actionCreator:_R,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=sb(n,n.tooltip.settings.shared);if(i==="axis"){var s=Lb(n,Bb({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(QT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(WO),d=(a=c.getAttribute(VO))!==null&&a!==void 0?a:void 0,f=jte(t.getState(),u,d);t.dispatch(XT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Ste=mO({brush:MZ,cartesianAxis:Aee,chartData:wG,errorBars:RQ,graphicalItems:mJ,layout:u9,legend:J9,options:gG,polarAxis:uX,polarOptions:bte,referenceElements:zZ,rootProps:yte,tooltip:uq}),Nte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return DU({reducer:Ste,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([xR.middleware,bR.middleware,Fb.middleware,PR.middleware,kR.middleware]),devTools:{serialize:{replacer:gte},name:"recharts-".concat(r)}})};function ER(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=fr(),s=v.useRef(null);if(i)return r;s.current==null&&(s.current=Nte(t,n));var a=Yv;return v.createElement(mte,{context:a,store:s.current},r)}function AR(e){var{layout:t,width:r,height:n,margin:i}=e,s=Ue(),a=fr();return v.useEffect(()=>{a||(s(o9(t)),s(l9({width:r,height:n})),s(a9(i)))},[s,a,t,r,n,i]),null}function OR(e){var t=Ue();return v.useEffect(()=>{t(vte(e))},[t,e]),null}var Pte=["children"];function _te(e,t){if(e==null)return{};var r,n,i=kte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function kte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nf(){return Nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nf.apply(null,arguments)}var Ete={width:"100%",height:"100%"},Ate=v.forwardRef((e,t)=>{var r=ax(),n=ox(),i=XO();if(!oo(r)||!oo(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,v.createElement($v,Nf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Ete,ref:t}),s)}),Ote=e=>{var{children:t}=e,r=te(Th);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return v.createElement($v,{width:n,height:i,x:a,y:s},t)},BP=v.forwardRef((e,t)=>{var{children:r}=e,n=_te(e,Pte),i=fr();return i?v.createElement(Ote,null,r):v.createElement(Ate,Nf({ref:t},n),r)});function Cte(){var e=Ue(),[t,r]=v.useState(null),n=te(B9);return v.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;Nr(s)&&s!==n&&e(c9(s))}},[t,e,n]),r}function FP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Tte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FP(Object(r),!0).forEach(function(n){Mte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FP(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mte(e,t,r){return(t=Rte(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $te=v.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:y,style:b,width:g}=e,x=Ue(),[w,j]=v.useState(null),[S,N]=v.useState(null);NG();var P=Cte(),E=v.useCallback(J=>{P(J),typeof t=="function"&&t(J),j(J),N(J)},[P,t,j,N]),R=v.useCallback(J=>{x(vR(J)),x(Mr({handler:s,reactEvent:J}))},[x,s]),M=v.useCallback(J=>{x(Wy(J)),x(Mr({handler:u,reactEvent:J}))},[x,u]),_=v.useCallback(J=>{x(JT()),x(Mr({handler:d,reactEvent:J}))},[x,d]),D=v.useCallback(J=>{x(Wy(J)),x(Mr({handler:f,reactEvent:J}))},[x,f]),T=v.useCallback(()=>{x(NR())},[x]),O=v.useCallback(J=>{x(SR(J.key))},[x]),A=v.useCallback(J=>{x(Mr({handler:a,reactEvent:J}))},[x,a]),z=v.useCallback(J=>{x(Mr({handler:l,reactEvent:J}))},[x,l]),L=v.useCallback(J=>{x(Mr({handler:c,reactEvent:J}))},[x,c]),F=v.useCallback(J=>{x(Mr({handler:h,reactEvent:J}))},[x,h]),I=v.useCallback(J=>{x(Mr({handler:y,reactEvent:J}))},[x,y]),H=v.useCallback(J=>{x(_R(J)),x(Mr({handler:p,reactEvent:J}))},[x,p]),re=v.useCallback(J=>{x(Mr({handler:m,reactEvent:J}))},[x,m]);return v.createElement(pM.Provider,{value:w},v.createElement(jA.Provider,{value:S},v.createElement("div",{className:me("recharts-wrapper",n),style:Tte({position:"relative",cursor:"default",width:g,height:i},b),onClick:R,onContextMenu:A,onDoubleClick:z,onFocus:T,onKeyDown:O,onMouseDown:L,onMouseEnter:M,onMouseLeave:_,onMouseMove:D,onMouseUp:F,onTouchEnd:re,onTouchMove:H,onTouchStart:I,ref:E},r)))}),Ite=["children","className","width","height","style","compact","title","desc"];function Lte(e,t){if(e==null)return{};var r,n,i=Bte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Bte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var CR=v.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=Lte(e,Ite),f=zt(d);return l?v.createElement(BP,{otherAttributes:f,title:c,desc:u},r):v.createElement($te,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},v.createElement(BP,{otherAttributes:f,title:c,desc:u,ref:t},v.createElement(WZ,null,r)))}),Fte=["width","height"];function Vy(){return Vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vy.apply(null,arguments)}function zte(e,t){if(e==null)return{};var r,n,i=Ute(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Ute(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Wte={top:5,right:5,bottom:5,left:5},Vte={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Wte,reverseStackOrder:!1,syncMethod:"index"},Kte=v.forwardRef(function(t,r){var n,i=Gr(t.categoricalChartProps,Vte),{width:s,height:a}=i,l=zte(i,Fte);if(!oo(s)||!oo(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return v.createElement(ER,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},v.createElement(dR,{chartData:h.data}),v.createElement(AR,{width:s,height:a,layout:i.layout,margin:i.margin}),v.createElement(OR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(CR,Vy({},l,{width:s,height:a,ref:r})))}),Hte=["axis","item"],zb=v.forwardRef((e,t)=>v.createElement(Kte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Hte,tooltipPayloadSearcher:mb,categoricalChartProps:e,ref:t}));function qte(e){var t=Ue();return v.useEffect(()=>{t(xte(e))},[t,e]),null}var Gte=["width","height","layout"];function Ky(){return Ky=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ky.apply(null,arguments)}function Yte(e,t){if(e==null)return{};var r,n,i=Xte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Xte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Jte={top:5,right:5,bottom:5,left:5},Qte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Jte,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},TR=v.forwardRef(function(t,r){var n,i=Gr(t.categoricalChartProps,Qte),{width:s,height:a,layout:l}=i,c=Yte(i,Gte);if(!oo(s)||!oo(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return v.createElement(ER,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},v.createElement(dR,{chartData:i.data}),v.createElement(AR,{width:s,height:a,layout:l,margin:i.margin}),v.createElement(OR,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),v.createElement(qte,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),v.createElement(CR,Ky({width:s,height:a},c,{ref:r})))}),Zte=["item"],ere={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ub=v.forwardRef((e,t)=>{var r=Gr(e,ere);return v.createElement(TR,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Zte,tooltipPayloadSearcher:mb,categoricalChartProps:r,ref:t})}),tre=["axis"],rre={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},nre=v.forwardRef((e,t)=>{var r=Gr(e,rre);return v.createElement(TR,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:tre,tooltipPayloadSearcher:mb,categoricalChartProps:r,ref:t})});const zP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},ire={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function sre(){const{user:e}=Ft(),[t,r]=v.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[n,i]=v.useState([]),[s,a]=v.useState(null),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,h]=v.useState(!0);v.useEffect(()=>{m(),e&&!e.id.startsWith("guest-")&&p()},[e]);const m=async()=>{var y;try{const{data:b,error:g}=await Y.from("match_results").select("*");if(g)throw g;const x=b||[];if(x.length===0){h(!1);return}const w={},j={},S={};let N=0;x.forEach(_=>{var A;if(!_.winner_name||!_.player1_name||!_.player2_name)return;const D=((A=_.outcome)==null?void 0:A.split(" (")[0])||"Unknown",T=_.points_awarded||zP[D]||0;N+=T,S[D]=(S[D]||0)+1,[_.player1_name,_.player2_name].forEach(z=>{w[z]||(w[z]={wins:0,matches:0,points:0}),w[z].matches++,_.winner_name===z&&(w[z].wins++,w[z].points+=T)});const O=(z,L,F,I)=>{const H=`${L}_${z}`;j[H]||(j[H]={combo:L,player:z,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:F||"Unknown"});const re=j[H];re.totalMatches++,I?(re.wins++,re.totalPoints+=T):re.losses++};O(_.player1_name,_.player1_beyblade,_.player1_blade_line||"Unknown",_.winner_name===_.player1_name),O(_.player2_name,_.player2_beyblade,_.player2_blade_line||"Unknown",_.winner_name===_.player2_name)}),Object.values(j).forEach(_=>{_.winRate=_.totalMatches>0?_.wins/_.totalMatches*100:0,_.weightedWinRate=_.totalMatches>0?_.wins/_.totalMatches*(_.totalMatches/(_.totalMatches+10)):0,_.avgPointsPerMatch=_.totalMatches>0?_.totalPoints/_.totalMatches:0,_.comboScore=_.weightedWinRate*(_.avgPointsPerMatch/3)*100});const P=Object.entries(w).filter(([_,D])=>D.matches>=5).sort((_,D)=>{const T=_[1].wins/_[1].matches;return D[1].wins/D[1].matches-T})[0],E=((y=Object.entries(S).sort((_,D)=>D[1]-_[1])[0])==null?void 0:y[0])||"Unknown",{count:R}=await Y.from("tournaments").select("*",{count:"exact",head:!0});r({totalMatches:x.length,totalPlayers:Object.keys(w).length,totalTournaments:R||0,avgPointsPerMatch:x.length>0?N/x.length:0,mostCommonFinish:E,topPlayer:(P==null?void 0:P[0])||"N/A",topPlayerWinRate:P?P[1].wins/P[1].matches*100:0}),i(Object.values(j).sort((_,D)=>D.comboScore-_.comboScore));const M=Object.entries(S).map(([_,D])=>({name:_,value:D,color:ire[_]||"#6B7280"}));d(M)}catch(b){console.error("Error fetching global data:",b)}finally{h(!1)}},p=async()=>{var y;if(!(!e||e.id.startsWith("guest-")))try{const{data:b,error:g}=await Y.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(g)throw g;const x=b||[];if(x.length===0){a(null);return}let w=0,j=0;const S={},N={},P={},E=new Set;x.forEach(O=>{var re;if(!O.winner_name)return;const A=O.player1_name===e.username,z=O.winner_name===e.username,L=A?O.player1_beyblade:O.player2_beyblade,F=A?O.player2_name:O.player1_name,I=((re=O.outcome)==null?void 0:re.split(" (")[0])||"Unknown",H=O.points_awarded||zP[I]||0;E.add(O.tournament_id),z&&(w++,j+=H,N[I]=(N[I]||0)+1),S[L]||(S[L]={wins:0,matches:0,points:0}),S[L].matches++,z&&(S[L].wins++,S[L].points+=H),P[F]||(P[F]={opponent:F,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),P[F].totalMatches++,z?(P[F].wins++,P[F].pointsFor+=H):(P[F].losses++,P[F].pointsAgainst+=H)}),Object.values(P).forEach(O=>{O.winRate=O.totalMatches>0?O.wins/O.totalMatches*100:0});const R=Object.entries(S).map(([O,A])=>{const z=A.matches>0?A.wins/A.matches:0,L=A.matches>0?z*(A.matches/(A.matches+10)):0,F=A.matches>0?A.points/A.matches:0,I=L*(F/3)*100;return{combo:O,comboScore:I}}).sort((O,A)=>A.comboScore-O.comboScore)[0],M=((y=Object.entries(N).sort((O,A)=>A[1]-O[1])[0])==null?void 0:y[0])||"N/A",_=x.length,D=_>0?w/_*100:0,T=_>0?w/_*(_/(_+10)):0;a({totalMatches:_,wins:w,losses:_-w,winRate:D,weightedWinRate:T*100,totalPoints:j,avgPointsPerMatch:_>0?j/_:0,mvpCombo:(R==null?void 0:R.combo)||"N/A",mvpComboScore:(R==null?void 0:R.comboScore)||0,favoriteFinish:M,tournamentsPlayed:E.size}),c(Object.values(P).sort((O,A)=>A.winRate-O.winRate))}catch(b){console.error("Error fetching personal data:",b)}};return f?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(Ac,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(At,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(bt,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Yf,{size:24,className:"text-orange-600"})})]})})]}),s&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(At,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[s.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:s.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:s.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",s.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:s.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",s.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(Hs,{width:"100%",height:300,children:o.jsxs(Ub,{children:[o.jsx(tm,{data:u,cx:"50%",cy:"50%",labelLine:!1,label:({name:y,percent:b})=>`${y} ${(b*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:u.map((y,b)=>o.jsx(ta,{fill:y.color},`cell-${b}`))}),o.jsx(Ks,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(Hs,{width:"100%",height:300,children:o.jsxs(zb,{data:n.slice(0,8).map(y=>({name:y.combo,score:y.comboScore,winRate:y.winRate,matches:y.totalMatches})),margin:{bottom:80},children:[o.jsx(nm,{strokeDasharray:"3 3"}),o.jsx(Qc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Zc,{}),o.jsx(Ks,{formatter:(y,b)=>[typeof y=="number"?y.toFixed(2):y,b==="score"?"Combo Score":b==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(rm,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"}),o.jsx("button",{onClick:()=>{n.map(y=>({rank:n.indexOf(y)+1,combo:y.combo,player:y.player,bladeLine:y.bladeLine,totalMatches:y.totalMatches,winRate:y.winRate,weightedWinRate:y.weightedWinRate*100,comboScore:y.comboScore})),alert("Show All functionality for global combos coming soon!")},className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:o.jsx("span",{children:"Show All"})})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.slice(0,20).map((y,b)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",b+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${y.bladeLine==="Basic"?"bg-blue-100 text-blue-800":y.bladeLine==="Unique"?"bg-purple-100 text-purple-800":y.bladeLine==="Custom"?"bg-orange-100 text-orange-800":y.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:y.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${y.winRate>=60?"text-green-600":y.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[y.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(y.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:y.comboScore.toFixed(1)})]},b))})]})})]}),s&&l.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((y,b)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:y.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:y.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:y.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${y.winRate>=60?"text-green-600":y.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[y.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:y.pointsAgainst})]},b))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx(bt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top Player"}),o.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.topPlayer}),o.jsxs("p",{className:"text-gray-600",children:["Win Rate: ",t.topPlayerWinRate.toFixed(1),"%"]})]})]})]})}const are={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},ore={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function lre(){const{user:e}=Ft(),[t,r]=v.useState([]),[n,i]=v.useState([]),[s,a]=v.useState([]),[l,c]=v.useState([]),[u,d]=v.useState([]),[f,h]=v.useState(!0),[m,p]=v.useState("");v.useEffect(()=>{e&&!e.id.startsWith("guest-")?y():h(!1)},[e]);const y=async()=>{if(!e||e.id.startsWith("guest-")){h(!1);return}try{const{data:g,error:x}=await Y.from("match_results").select("*").or(`player1_name.eq.${e.username},player2_name.eq.${e.username}`);if(x)throw x;const w=g||[];if(w.length===0){h(!1);return}const j=[...new Set(w.map(O=>O.tournament_id))],{data:S}=await Y.from("tournaments").select("id, name, tournament_date").in("id",j),N=(S||[]).reduce((O,A)=>(O[A.id]={name:A.name,date:A.tournament_date},O),{}),P={},E={},R={},M={},_={};w.forEach(O=>{var de,W,K;if(!O.winner_name)return;const A=O.player1_name===e.username,z=O.winner_name===e.username,L=A?O.player1_beyblade:O.player2_beyblade,F=A?O.player1_blade_line:O.player2_blade_line,I=((de=O.outcome)==null?void 0:de.split(" (")[0])||"Unknown",H=O.points_awarded||are[I]||0;z&&(M[I]=(M[I]||0)+1,_[I]=(_[I]||0)+H),P[L]||(P[L]={combo:L,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:F||"Unknown",finishDistribution:{},pointsPerFinish:{}});const re=P[L];re.totalMatches++,z?(re.wins++,re.totalPoints+=H,re.finishDistribution[I]=(re.finishDistribution[I]||0)+1,re.pointsPerFinish[I]=(re.pointsPerFinish[I]||0)+H):re.losses++;const J=F||"Unknown";E[J]||(E[J]={bladeLine:J,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const ye=E[J];ye.matches++,z&&(ye.wins++,ye.avgPoints=(ye.avgPoints*(ye.wins-1)+H)/ye.wins);const G=O.tournament_id;R[G]||(R[G]={tournamentName:((W=N[G])==null?void 0:W.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((K=N[G])==null?void 0:K.date)||""});const ie=R[G];ie.matches++,z&&(ie.wins++,ie.points+=H)}),Object.values(P).forEach(O=>{O.winRate=O.totalMatches>0?O.wins/O.totalMatches*100:0,O.weightedWinRate=O.totalMatches>0?O.wins/O.totalMatches*(O.totalMatches/(O.totalMatches+10)):0,O.avgPointsPerMatch=O.totalMatches>0?O.totalPoints/O.totalMatches:0,O.comboScore=O.weightedWinRate*(O.avgPointsPerMatch/3)*100}),Object.values(E).forEach(O=>{O.winRate=O.matches>0?O.wins/O.matches*100:0,O.riskReward=Math.random()*100}),Object.values(R).forEach(O=>{O.winRate=O.matches>0?O.wins/O.matches*100:0,O.avgPointsPerMatch=O.matches>0?O.points/O.matches:0}),r(Object.values(P).sort((O,A)=>A.comboScore-O.comboScore)),i(Object.values(E)),a(Object.values(R).sort((O,A)=>new Date(A.date).getTime()-new Date(O.date).getTime()));const D=Object.entries(M).map(([O,A])=>({name:O,value:A,color:ore[O]||"#6B7280"}));c(D);const T=Object.entries(_).map(([O,A])=>({finish:O,points:A,avgPoints:M[O]>0?A/M[O]:0}));d(T)}catch(g){console.error("Error fetching personal stats:",g)}finally{h(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Rd,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(f)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading your personal stats..."})]});if(t.length===0)return o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bt,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]});const b=m?t.find(g=>g.combo===m):null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((g,x)=>g+x.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(Ac,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[t.length>0?(t.reduce((g,x)=>g+x.wins,0)/t.reduce((g,x)=>g+x.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(bt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:t.reduce((g,x)=>g+x.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Oc,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Rd,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(Hs,{width:"100%",height:300,children:o.jsxs(Ub,{children:[o.jsx(tm,{data:l,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percent:x})=>`${g} ${(x*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:l.map((g,x)=>o.jsx(ta,{fill:g.color},`cell-${x}`))}),o.jsx(Ks,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Hs,{width:"100%",height:300,children:o.jsxs(zb,{data:u,children:[o.jsx(nm,{strokeDasharray:"3 3"}),o.jsx(Qc,{dataKey:"finish"}),o.jsx(Zc,{}),o.jsx(Ks,{}),o.jsx(rm,{dataKey:"points",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:m,onChange:g=>p(g.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),t.map(g=>o.jsxs("option",{value:g.combo,children:[g.combo," (",g.totalMatches," matches)"]},g.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map((g,x)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${m===g.combo?"bg-blue-50":""}`,onClick:()=>p(g.combo===m?"":g.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.bladeLine==="Basic"?"bg-blue-100 text-blue-800":g.bladeLine==="Unique"?"bg-purple-100 text-purple-800":g.bladeLine==="Custom"?"bg-orange-100 text-orange-800":g.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(g.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:g.comboScore.toFixed(1)})]},x))})]})}),b&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",b.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(b.finishDistribution).map(([g,x])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:g}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:x}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",b.totalMatches>0?(x/b.wins*100).toFixed(0):0,"%)"]})]})]},g))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(b.pointsPerFinish).map(([g,x])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:g}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[x," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",b.finishDistribution[g]>0?(x/b.finishDistribution[g]).toFixed(1):"0.0",")"]})]})]},g))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Performance by Blade Line"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Risk/Reward"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((g,x)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${g.bladeLine==="Basic"?"bg-blue-100 text-blue-800":g.bladeLine==="Unique"?"bg-purple-100 text-purple-800":g.bladeLine==="Custom"?"bg-orange-100 text-orange-800":g.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.riskReward.toFixed(1)})]},x))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((g,x)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:g.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:g.date?new Date(g.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:g.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${g.winRate>=60?"text-green-600":g.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[g.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:g.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:g.avgPointsPerMatch.toFixed(2)})]},x))})]})})]}),t.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:t[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:t[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[t[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:t[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:t[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function cre(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return(s-a)/i}function ure(e,t,r){console.log(`⚙️ PARSER: Attempting ${t} parsing for: "${e}"`);let n=e;const i=MR(n,r.bits);if(!i)return console.log(`❌ PARSER: ${t} parsing failed - no bit found`),null;n=n.slice(0,n.length-i.bitName.length).trim(),console.log(`⚙️ PARSER: After bit removal: "${n}"`);const s=RR(n,r.ratchets);if(!s)return console.log(`❌ PARSER: ${t} parsing failed - no ratchet found`),null;n=n.slice(0,n.length-s.ratchetName.length).trim(),console.log(`⚙️ PARSER: After ratchet removal: "${n}"`),console.log(`🔍 PARSER: Looking for ${t} blade: "${n}"`);const a=DR(n,r.blades.filter(c=>c.Line===t));if(!a)return console.log(`❌ PARSER: ${t} parsing failed - no ${t} blade found for "${n}"`),null;const l={isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName};return console.log(`✅ PARSER: ${t} parsing successful:`,l),l}function dre(e,t){console.log(`🔧 PARSER: Attempting Custom parsing for: "${e}"`);let r=e;const n=fre(e,t.lockchips);if(!n)return console.log("❌ PARSER: Custom parsing failed - no lockchip found"),null;r=e.slice(n.lockchipName.length),console.log(`🔧 PARSER: After lockchip removal: "${r}"`);const i=MR(r,t.bits);if(!i)return console.log("❌ PARSER: Custom parsing failed - no bit found"),null;r=r.slice(0,r.length-i.bitName.length).trim(),console.log(`🔧 PARSER: After bit removal: "${r}"`);const s=RR(r,t.ratchets);if(!s)return console.log("❌ PARSER: Custom parsing failed - no ratchet found"),null;r=r.slice(0,r.length-s.ratchetName.length).trim(),console.log(`🔧 PARSER: After ratchet removal: "${r}"`);const a=hre(r,t.assistBlades);if(!a)return console.log("❌ PARSER: Custom parsing failed - no assist blade found"),null;r=r.slice(0,r.length-a.assistBladeName.length).trim(),console.log(`🔧 PARSER: After assist blade removal: "${r}"`);const l=DR(r,t.blades.filter(u=>u.Line==="Custom"));if(!l)return console.log(`❌ PARSER: Custom parsing failed - no Custom main blade found for "${r}"`),null;const c={isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName};return console.log("✅ PARSER: Custom parsing successful:",c),c}function MR(e,t){console.log(`🔍 PARSER: Finding bit in "${e}"`),console.log("🔍 PARSER: Available bits:",t.map(n=>({shortcut:n.Shortcut,full:n.Bit})));const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found bit by shortcut: ${i}`),{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found bit by full name: ${i} → ${n.Shortcut||i}`),{bit:n,bitName:n.Shortcut||i}}return console.log(`❌ PARSER: No bit found in "${e}"`),null}function RR(e,t){console.log(`🔍 PARSER: Finding ratchet in "${e}"`);const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found ratchet: ${i}`),{ratchet:n,ratchetName:i}}return console.log(`❌ PARSER: No ratchet found in "${e}"`),null}function DR(e,t){console.log(`🔍 PARSER: Finding blade in "${e}"`),console.log("🔍 PARSER: Available blades:",t.map(r=>({name:r.Blades,line:r.Line})));for(const r of t){const n=r.Blades;if(n&&e===n)return console.log(`✅ PARSER: Found blade: ${n} (${r.Line} line)`),{blade:r,bladeName:n}}return console.log(`❌ PARSER: No blade found for "${e}" in available blades`),null}function fre(e,t){console.log(`🔍 PARSER: Finding lockchip in "${e}"`),console.log("🔍 PARSER: Available lockchips:",t.map(n=>n.Lockchip));const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return console.log(`✅ PARSER: Found lockchip: ${i}`),{lockchip:n,lockchipName:i}}return console.log(`❌ PARSER: No lockchip found in "${e}"`),null}function hre(e,t){console.log(`🔍 PARSER: Finding assist blade in "${e}"`),console.log("🔍 PARSER: Available assist blades:",t.map(n=>n["Assist Blade"]));const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return console.log(`✅ PARSER: Found assist blade: ${i}`),{assistBlade:n,assistBladeName:i}}return console.log(`❌ PARSER: No assist blade found in "${e}"`),null}function UP(e,t,r){if(!e||!e.trim())return console.log("❌ PARSER: Empty beyblade name"),{isCustom:!1};console.log(`
🎯 PARSER: Starting to parse "${e}"`);const n=["Basic","Unique","X-Over","Custom"];for(const i of n){if(console.log(`🔍 PARSER: Trying ${i} blade line...`),i==="Custom"){const s=dre(e,r);if(s)return console.log(`🎯 PARSER: Successfully parsed as ${i} Beyblade`),s}else{const s=ure(e,i,r);if(s)return console.log(`🎯 PARSER: Successfully parsed as ${i} Beyblade`),s}console.log(`❌ PARSER: ${i} parsing failed`)}return console.log(`❌ PARSER: All parsing attempts failed for "${e}"`),{isCustom:!1}}const mre={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},pre={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function gre({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=v.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ec,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function yre({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function vre({tournamentId:e,loading:t=!1}){const[r,n]=v.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=v.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=v.useState([]),[c,u]=v.useState([]),[d,f]=v.useState(!0),[h,m]=v.useState({key:"comboScore",direction:"desc"}),[p,y]=v.useState({isOpen:!1,title:"",data:[],columns:[]}),[b,g]=v.useState({isOpen:!1,title:"",matches:[]});v.useEffect(()=>{e&&x()},[e]),v.useEffect(()=>{e&&r.blades.length>0&&w()},[e,r]);const x=async()=>{try{const[_,D,T,O,A]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);n({blades:_.data||[],ratchets:D.data||[],bits:T.data||[],lockchips:O.data||[],assistBlades:A.data||[]})}catch(_){console.error("Error fetching parts data:",_)}},w=async()=>{try{const{data:_,error:D}=await Y.from("match_results").select("*").eq("tournament_id",e);if(D)throw D;if(!_||_.length===0){f(!1);return}const T=[],O={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},A={};_.forEach(L=>{var ie;if(!L.winner_name||!L.player1_name||!L.player2_name)return;const F=UP(L.player1_beyblade,L.player1_blade_line,r),I=UP(L.player2_beyblade,L.player2_blade_line,r),H=((ie=L.outcome)==null?void 0:ie.split(" (")[0])||"Unknown",re=L.points_awarded||mre[H]||0,J={player:L.player1_name,opponent:L.player2_name,beyblade:L.player1_beyblade,opponentBeyblade:L.player2_beyblade,isWin:L.winner_name===L.player1_name,outcome:H,parsedParts:F,bladeLine:L.player1_blade_line||"Unknown"},ye={player:L.player2_name,opponent:L.player1_name,beyblade:L.player2_beyblade,opponentBeyblade:L.player1_beyblade,isWin:L.winner_name===L.player2_name,outcome:H,parsedParts:I,bladeLine:L.player2_blade_line||"Unknown"};T.push(J,ye),[J,ye].forEach(de=>{const W=`${de.beyblade}_${de.player}`;A[W]||(A[W]={combo:de.beyblade,player:de.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:de.bladeLine,allMatches:[]});const K=A[W];K.totalMatches++,K.finishDistribution[H]=(K.finishDistribution[H]||0)+1,K.allMatches.push(L),de.isWin?(K.wins++,K.totalPoints+=re):K.losses++});const G=(de,W)=>{Object.entries(de).forEach(([K,$])=>{if(K==="isCustom"||!$)return;O[K][$]||(O[K][$]={name:$,usage:0,wins:0,losses:0,winRate:0,wilson:0});const X=O[K][$];X.usage++,W?X.wins++:X.losses++})};G(F,J.isWin),G(I,ye.isWin)}),Object.keys(O).forEach(L=>{Object.values(O[L]).forEach(F=>{const I=F.wins+F.losses;F.winRate=I>0?F.wins/I*100:0,F.wilson=cre(F.wins,I)})});const z=Object.values(A).map(L=>(L.winRate=L.totalMatches>0?L.wins/L.totalMatches*100:0,L.weightedWinRate=L.totalMatches>0?L.wins/L.totalMatches*(L.totalMatches/(L.totalMatches+10)):0,L.avgPointsPerMatch=L.totalMatches>0?L.totalPoints/L.totalMatches:0,L.comboScore=L.weightedWinRate*(L.avgPointsPerMatch/3)*100,L));s(O),l(z),u(T)}catch(_){console.error("Error processing tournament data:",_)}finally{f(!1)}},j=_=>{let D="asc";h.key===_&&h.direction==="asc"&&(D="desc"),m({key:_,direction:D})},S=()=>{y({isOpen:!0,title:"All Combo Performance Rankings",data:P,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:_=>{g({isOpen:!0,title:`All Matches for ${_.combo} by ${_.player}`,matches:_.allMatches||[]}),y(D=>({...D,isOpen:!1}))}})},N=_=>{const D=Object.values(i[_]||{}).filter(T=>T.usage>0).sort((T,O)=>O.wilson-T.wilson).map(T=>({...T,allMatches:c.filter(O=>O.parsedParts[_]===T.name)}));y({isOpen:!0,title:`All ${_.charAt(0).toUpperCase()+_.slice(1)} Performance`,data:D,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:T=>{g({isOpen:!0,title:`All Matches using ${T.name}`,matches:T.allMatches||[]}),y(O=>({...O,isOpen:!1}))}})},P=[...a].sort((_,D)=>{const T=_[h.key],O=D[h.key];if(typeof T=="number"&&typeof O=="number")return h.direction==="asc"?T-O:O-T;const A=String(T),z=String(O);return h.direction==="asc"?A.localeCompare(z):z.localeCompare(A)}),E=({children:_,sortKey:D})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>j(D),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:_}),h.key===D&&(h.direction==="asc"?o.jsx(zL,{size:12}):o.jsx(BL,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Fs,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const R=P.slice(0,10).map(_=>({name:_.combo,score:_.comboScore,winRate:_.winRate,matches:_.totalMatches})),M=Object.entries(c.reduce((_,D)=>(D.isWin&&(_[D.outcome]=(_[D.outcome]||0)+1),_),{})).map(([_,D])=>({name:_,value:D,color:pre[_]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(Ac,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Hs,{width:"100%",height:400,children:o.jsxs(zb,{data:R,margin:{bottom:80},children:[o.jsx(nm,{strokeDasharray:"3 3"}),o.jsx(Qc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Zc,{}),o.jsx(Ks,{formatter:(_,D)=>[typeof _=="number"?_.toFixed(2):_,D==="score"?"Combo Score":D==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Mh,{}),o.jsx(rm,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(Hs,{width:"100%",height:400,children:o.jsxs(Ub,{children:[o.jsx(tm,{data:M,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:D})=>`${_} ${(D*100).toFixed(0)}%`,outerRadius:120,fill:"#8884d8",dataKey:"value",children:M.map((_,D)=>o.jsx(ta,{fill:_.color},`cell-${D}`))}),o.jsx(Ks,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:S,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Za,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(E,{sortKey:"combo",children:"Combo"}),o.jsx(E,{sortKey:"player",children:"Player"}),o.jsx(E,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(E,{sortKey:"totalMatches",children:"Matches"}),o.jsx(E,{sortKey:"winRate",children:"Win Rate"}),o.jsx(E,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(E,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(E,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.slice(0,20).map((_,D)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.bladeLine==="Basic"?"bg-blue-100 text-blue-800":_.bladeLine==="Unique"?"bg-purple-100 text-purple-800":_.bladeLine==="Custom"?"bg-orange-100 text-orange-800":_.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[_.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(_.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:_.comboScore.toFixed(1)})]},D))})]})})]}),["blade","ratchet","bit","lockchip","mainBlade","assistBlade"].map(_=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[_==="mainBlade"?"Main Blades":_==="assistBlade"?"Assist Blades":`${_}s`," Performance"]}),o.jsxs("button",{onClick:()=>N(_),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Za,{size:16}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[_]||{}).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(Fs,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsxs("p",{className:"text-gray-500",children:["No ",_," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wilson Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[_]||{}).filter(D=>D.usage>0).sort((D,T)=>T.wilson-D.wilson).slice(0,10).map((D,T)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:D.name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:D.usage}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:D.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${D.winRate>=60?"text-green-600":D.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[D.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:D.wilson.toFixed(3)})]},T))})]})})]},_)),o.jsx(gre,{isOpen:p.isOpen,onClose:()=>y(_=>({..._,isOpen:!1})),title:p.title,data:p.data,columns:p.columns,onRowClick:p.onRowClick}),o.jsx(yre,{isOpen:b.isOpen,onClose:()=>g(_=>({..._,isOpen:!1})),title:b.title,matches:b.matches})]})}const WP={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},zu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function xre({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=v.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Ec,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function bre({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["Match ",s+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.points_awarded})]},s))})]})})]})}):null}function wre({tournamentId:e,loading:t=!1}){const[r,n]=v.useState({}),[i,s]=v.useState(""),[a,l]=v.useState([]),[c,u]=v.useState(!0),[d,f]=v.useState({isOpen:!1,title:"",data:[],columns:[]}),[h,m]=v.useState({isOpen:!1,title:"",matches:[]});v.useEffect(()=>{e&&y()},[e]);const p=(j,S)=>S===0?0:j/S*(S/(S+10)),y=async()=>{try{const{data:j,error:S}=await Y.from("match_results").select("*").eq("tournament_id",e);if(S)throw S;const N=j||[];if(N.length===0){u(!1);return}const P={},E={};N.forEach(M=>{var I;if(!M.winner_name||!M.player1_name||!M.player2_name)return;const _=((I=M.outcome)==null?void 0:I.split(" (")[0])||"Unknown",D=M.points_awarded||WP[_]||0,T=M.phase_number||1;[M.player1_name,M.player2_name].forEach(H=>{P[H]||(P[H]={name:H,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),P[M.player1_name].allMatches.push(M),P[M.player2_name].allMatches.push(M);const O=P[M.winner_name],A=P[M.winner_name===M.player1_name?M.player2_name:M.player1_name],z=M.winner_name===M.player1_name?M.player1_beyblade:M.player2_beyblade,L=M.winner_name===M.player1_name?M.player2_beyblade:M.player1_beyblade;O.matches++,O.wins++,O.totalPoints+=D,O.finishDistribution[_]=(O.finishDistribution[_]||0)+1,O.winsByFinish[z]||(O.winsByFinish[z]={}),O.winsByFinish[z][_]=(O.winsByFinish[z][_]||0)+1,O.pointsGainedByBey[z]=(O.pointsGainedByBey[z]||0)+D,O.phasePerformance[T]||(O.phasePerformance[T]={wins:0,matches:0,points:0}),O.phasePerformance[T].wins++,O.phasePerformance[T].matches++,O.phasePerformance[T].points+=D,A.matches++,A.losses++,A.finishDistribution[_]=(A.finishDistribution[_]||0)+1,A.lossesByFinish[L]||(A.lossesByFinish[L]={}),A.lossesByFinish[L][_]=(A.lossesByFinish[L][_]||0)+1,A.pointsGivenByBey[L]=(A.pointsGivenByBey[L]||0)+D,A.phasePerformance[T]||(A.phasePerformance[T]={wins:0,matches:0,points:0}),A.phasePerformance[T].matches++;const F=[M.player1_name,M.player2_name].sort().join("_vs_");E[F]||(E[F]={player1:M.player1_name,player2:M.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),E[F].totalMatches++,M.winner_name===M.player1_name?E[F].p1Wins++:E[F].p2Wins++}),Object.values(P).forEach(M=>{M.winRate=M.matches>0?M.wins/M.matches*100:0,M.weightedWinRate=p(M.wins,M.matches),M.avgPointsPerMatch=M.matches>0?M.totalPoints/M.matches:0;const _=Object.entries(M.finishDistribution);M.mostCommonWinFinish=_.length>0?_.reduce((D,T)=>D[1]>T[1]?D:T)[0]:"N/A",M.mostCommonLoseFinish=M.mostCommonWinFinish}),Object.values(E).forEach(M=>{M.p1WinRate=M.totalMatches>0?M.p1Wins/M.totalMatches*100:0}),n(P),l(Object.values(E).filter(M=>M.totalMatches>0));const R=Object.keys(P);R.length>0&&!i&&s(R[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},b=()=>{const j=Object.values(r).map(S=>({name:S.name,matches:S.matches,winRate:S.winRate,weightedWinRate:S.weightedWinRate*100,totalPoints:S.totalPoints,avgPointsPerMatch:S.avgPointsPerMatch,mostCommonWinFinish:S.mostCommonWinFinish}));f({isOpen:!0,title:"All Tournament Players",data:j,columns:[{key:"name",label:"Player"},{key:"matches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"totalPoints",label:"Total Points"},{key:"avgPointsPerMatch",label:"Avg Points/Match"},{key:"mostCommonWinFinish",label:"Most Common Win"}],onRowClick:S=>{var P;const N=((P=r[S.name])==null?void 0:P.allMatches)||[];m({isOpen:!0,title:`All Matches for ${S.name}`,matches:N}),f(E=>({...E,isOpen:!1}))}})},g=()=>{f({isOpen:!0,title:"All Head-to-Head Matchups",data:a,columns:[{key:"player1",label:"Player 1"},{key:"player2",label:"Player 2"},{key:"totalMatches",label:"Total Matches"},{key:"p1Wins",label:"Player 1 Wins"},{key:"p2Wins",label:"Player 2 Wins"},{key:"p1WinRate",label:"Player 1 Win Rate (%)"}],onRowClick:j=>{const S=Object.values(r).flatMap(N=>N.allMatches.filter(P=>P.player1_name===j.player1&&P.player2_name===j.player2||P.player1_name===j.player2&&P.player2_name===j.player1));m({isOpen:!0,title:`${j.player1} vs ${j.player2} Matches`,matches:S}),f(N=>({...N,isOpen:!1}))}})};if(t||c)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing player analytics..."})]});const x=Object.keys(r);if(x.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(At,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Player Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Player analytics require match results to generate statistics."})]})});const w=i?r[i]:null;return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(At,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),x.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(bt,{size:24,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:b,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Za,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,S)=>S.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,S)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:S+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:j.mostCommonWinFinish})]},j.name))})]})})]}),w&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center",children:[o.jsx(Ac,{size:24,className:"mr-2 text-blue-600"}),w.name," - Detailed Performance"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:w.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[w.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:w.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:w.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),zu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(w.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),zu.map(S=>{var N;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-green-600",children:((N=w.winsByFinish[j])==null?void 0:N[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-green-700",children:w.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),zu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(w.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),zu.map(S=>{var N;return o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-medium text-red-600",children:((N=w.lossesByFinish[j])==null?void 0:N[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center font-bold text-red-700",children:w.pointsGivenByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsx(Hs,{width:"100%",height:400,children:o.jsxs(nre,{data:Object.entries(w.finishDistribution).map(([j,S])=>({finish:j,points:S*(WP[j]||0),count:S})),children:[o.jsx(LM,{}),o.jsx(em,{dataKey:"finish"}),o.jsx(Qh,{}),o.jsx(Rb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3}),o.jsx(Ks,{})]})})]}),Object.keys(w.phasePerformance).length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Phase"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(w.phasePerformance).sort(([j],[S])=>parseInt(j)-parseInt(S)).map(([j,S])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:S.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:S.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.matches>0&&S.wins/S.matches*100>=50?"text-green-600":"text-red-600"}`,children:[S.matches>0?(S.wins/S.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:S.matches>0?(S.points/S.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(Yf,{size:24,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:g,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Za,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,S)=>S.totalMatches-j.totalMatches).slice(0,10).map((j,S)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},S))})]})})]}),o.jsx(xre,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(bre,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function jre(){const[e,t]=v.useState("meta"),[r,n]=v.useState([]),[i,s]=v.useState(""),[a,l]=v.useState(!0),[c,u]=v.useState(!1);v.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await Y.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const p=h==null?void 0:h.find(y=>y.status==="completed");p&&s(p.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Wn,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Fs,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(At,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx(vre,{tournamentId:i}),e==="player"&&o.jsx(wre,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function Sre(){Ft();const[e,t]=v.useState("overview"),[r,n]=v.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Fs,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament and player statistics"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(bt,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Rd,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Wn,{size:16,className:"mr-2"}),"Tournament Analysis"]})]})]})}),e==="overview"&&o.jsx(sre,{}),e==="personal"&&o.jsx(lre,{}),e==="tournament"&&o.jsx(jre,{})]})})}const Ep={"Over Finish (2 pts)":2,"Burst Finish (2 pts)":2,"Spin Finish (1 pt)":1,"Extreme Finish (3 pts)":3},Nre=()=>{const{confirm:e,alert:t}=Gi(),[r,n]=v.useState([]),[i,s]=v.useState(""),[a,l]=v.useState(""),[c,u]=v.useState(!1),[d,f]=v.useState(""),[h,m]=v.useState({}),[p,y]=v.useState({}),[b,g]=v.useState(!0),[x,w]=v.useState(!1),[j,S]=v.useState(""),[N,P]=v.useState(""),[E,R]=v.useState(1),[M,_]=v.useState(""),[D,T]=v.useState({}),[O,A]=v.useState(0),[z,L]=v.useState(0),[F,I]=v.useState(2),[H,re]=v.useState(!1),[J,ye]=v.useState(!1),[G,ie]=v.useState(!1),[de,W]=v.useState(""),[K,$]=v.useState({}),[X,C]=v.useState(null);v.useEffect(()=>{k()},[]),v.useEffect(()=>{if(i){u(!1),l(""),f("");const V=r.find(ee=>ee.id===i);V!=null&&V.password||(u(!0),Q(i))}},[i]);const k=async()=>{try{const{data:V,error:ee}=await Y.from("tournaments").select("id, name, status, tournament_date, location, beyblades_per_player, password").order("tournament_date",{ascending:!1});if(ee)throw ee;n(V||[]);const oe=V==null?void 0:V.find(he=>he.status==="active");oe&&s(oe.id)}catch(V){console.error("Error fetching tournaments:",V)}finally{g(!1)}},U=()=>{const V=r.find(ee=>ee.id===i);if(!(V!=null&&V.password)){u(!0),Q(i);return}a===V.password?(u(!0),f(""),Q(i)):f("Incorrect password. Please try again.")},Q=async V=>{w(!0);try{const{data:ee,error:oe}=await Y.from("tournament_registrations").select(`
          player_name,
          tournament_beyblades(
            beyblade_name,
            blade_line
          )
        `).eq("tournament_id",V).eq("status","confirmed").order("player_name",{ascending:!0});if(oe)throw oe;const he={},tt={};ee==null||ee.forEach(Ie=>{const Te=Ie.player_name,Ut=Ie.tournament_beyblades.map(Er=>Er.beyblade_name),st=Ie.tournament_beyblades.map(Er=>({name:Er.beyblade_name,blade_line:Er.blade_line}));Ut.length>0&&(he[Te]=Ut,tt[Te]=st)}),m(he),y(tt),Z()}catch(ee){console.error("Error fetching player data:",ee),m({})}finally{w(!1)}},Z=()=>{S(""),P(""),R(1),_(""),T({}),A(0),L(0),I(2),re(!1),$({}),y({}),W("")},ue=(V,ee)=>{V===1?(S(ee),ee===N&&P("")):(P(ee),ee===j&&S("")),ee&&(T({}),A(0),L(0),I(2),re(!1),$({}))},be=(V,ee)=>{var Te,Ut,st;const oe=(xe==null?void 0:xe.beyblades_per_player)||3,he=Math.floor(ee/oe)+1,tt=ee%oe;if(he===1)return((Te=h[V])==null?void 0:Te[tt])||"";const Ie=(Ut=K[he])==null?void 0:Ut[V];return Ie?Ie[tt]||"":((st=h[V])==null?void 0:st[tt])||""},Pe=(V,ee)=>{var Te,Ut,st,Er,ns,Wt;const oe=(xe==null?void 0:xe.beyblades_per_player)||3,he=Math.floor(ee/oe)+1,tt=ee%oe;if(he===1)return((Ut=(Te=p[V])==null?void 0:Te[tt])==null?void 0:Ut.blade_line)||"";const Ie=(st=K[he])==null?void 0:st[V];if(Ie){const Cn=Ie[tt],Xr=(Er=p[V])==null?void 0:Er.find(UR=>UR.name===Cn);return(Xr==null?void 0:Xr.blade_line)||""}return((Wt=(ns=p[V])==null?void 0:ns[tt])==null?void 0:Wt.blade_line)||""},Qt=()=>{if(H){t("Phase Required",`Click Shuffle before adding the next match (after every ${(xe==null?void 0:xe.beyblades_per_player)||3} matches).`);return}if(!j||!N){t("Missing Players","Please select both players first.");return}let V=0;for(;D[V]!==void 0;)V++;const ee={...D,[V]:{outcome:null,winner:null,points:0}};T(ee);const oe=(xe==null?void 0:xe.beyblades_per_player)||3,he=Object.keys(ee).length;he>0&&he%oe===0&&re(!0)},ui=(V,ee)=>{const oe={...D};if(oe[V]){oe[V].outcome=ee;const he=ee&&oe[V].winner&&Ep[ee]||0;oe[V].points=he}T(oe),Uo(oe)},di=(V,ee)=>{const oe={...D};if(oe[V]){oe[V].winner=ee;const he=oe[V].outcome&&ee&&Ep[oe[V].outcome]||0;oe[V].points=he}T(oe),Uo(oe)},Uo=V=>{let ee=0,oe=0;Object.values(V).forEach(he=>{he.winner&&he.outcome&&he.points>0&&(he.winner===j?ee+=he.points:he.winner===N&&(oe+=he.points))}),A(ee),L(oe)},im=V=>{const ee={...D};delete ee[V],T(ee),Uo(ee),re(!1)},$R=()=>{const V=F,ee={...K};ee[V]||(ee[V]={[j]:[...h[j]||[]],[N]:[...h[N]||[]]}),$(ee),I(oe=>oe+1),re(!1)},IR=(V,ee,oe)=>{$(he=>({...he,[V]:{...he[V],[ee]:oe}}))},Wb=(V,ee)=>{C(ee),V.dataTransfer.effectAllowed="move"},Vb=V=>{V.preventDefault(),V.dataTransfer.dropEffect="move"},Kb=(V,ee,oe,he)=>{var Ut;if(V.preventDefault(),!X)return;const tt=((Ut=K[ee])==null?void 0:Ut[oe])||[],Ie=tt.indexOf(X);if(Ie===-1)return;const Te=[...tt];Te.splice(Ie,1),Te.splice(he,0,X),IR(ee,oe,Te),C(null)},Hb=()=>{C(null)},LR=async()=>{if(!M.trim()){t("Please enter the Tournament Officer name before submitting.");return}const V=Object.entries(D).filter(([ee,oe])=>oe.outcome&&oe.winner);if(V.length===0){t("No complete matches to submit.");return}ie(!0),W("Submitting matches...");try{const ee=V.map(([tt,Ie])=>{const Te=parseInt(tt);return{tournament_id:i,round_number:E,player1_name:j,player2_name:N,player1_beyblade:be(j,Te),player2_beyblade:be(N,Te),player1_blade_line:Pe(j,Te),player2_blade_line:Pe(N,Te),outcome:Ie.outcome,winner_name:Ie.winner,points_awarded:Ie.points,match_number:Te+1,phase_number:Math.floor(Te/3)+1,tournament_officer:M}}),{error:oe}=await Y.from("match_results").insert(ee);if(oe)throw oe;const{error:he}=await Y.from("match_sessions").insert({tournament_id:i,round_number:E,player1_name:j,player2_name:N,player1_final_score:O,player2_final_score:z,winner_name:O>z?j:N,total_matches:V.length,tournament_officer:M,match_summary:V.map(([tt,Ie])=>{const Te=parseInt(tt),Ut=be(Ie.winner,Te),st=(xe==null?void 0:xe.beyblades_per_player)||3,Er=Math.floor(Te/st)+1,ns=Te%st+1;return`Phase ${Er}, Match ${ns}: ${Ie.outcome} by ${Ie.winner} using ${Ut}`}).join("; "),phases:Object.keys(K).length+1,deck_orders:K});if(he)throw he;W("✅ Matches submitted successfully!"),ye(!1),setTimeout(()=>{Z(),W("")},2e3)}catch(ee){console.error("Error submitting matches:",ee),W("❌ Failed to submit matches. Please try again.")}finally{ie(!1)}},BR=()=>Object.entries(D).filter(([ee,oe])=>oe.outcome&&oe.winner).map(([ee,oe])=>{const he=parseInt(ee),tt=be(oe.winner,he);return`Match ${he+1}: ${oe.outcome} by ${oe.winner} using ${tt}`}),xe=r.find(V=>V.id===i),qb=Object.keys(h),FR=qb.filter(V=>V!==N),zR=qb.filter(V=>V!==j);return b?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBC Match Tracker"}),o.jsx("p",{className:"text-gray-600",children:"Track tournament matches in real-time"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tournament Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),o.jsxs("select",{value:i,onChange:V=>s(V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(V=>o.jsxs("option",{value:V.id,children:[V.name," (",V.status,")"]},V.id))]})]}),xe&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:xe.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",o.jsx("span",{className:`capitalize ${xe.status==="active"?"text-green-600":xe.status==="upcoming"?"text-blue-600":"text-gray-600"}`,children:xe.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(xe.tournament_date).toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",xe.location]}),xe.password&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"🔒 Password protected"})]})]})]}),i&&(xe==null?void 0:xe.password)&&!c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:"🔒 Tournament Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This tournament requires a password to access match tracking features."}),o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"password",placeholder:"Enter tournament password",value:a,onChange:V=>{l(V.target.value),f("")},onKeyPress:V=>V.key==="Enter"&&U(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:U,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Verify"})]}),d&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:d})]})]}),i&&c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Match Setup"}),x?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading player data..."})]}):Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(At,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No confirmed registrations found for this tournament"})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Round #"}),o.jsx("input",{type:"number",min:"1",value:E,onChange:V=>R(parseInt(V.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),o.jsxs("select",{value:j,onChange:V=>ue(1,V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 1 --"}),FR.map(V=>o.jsx("option",{value:V,children:V},V))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),o.jsxs("select",{value:N,onChange:V=>ue(2,V.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 2 --"}),zR.map(V=>o.jsx("option",{value:V,children:V},V))]})]})]})]}),j&&N&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tournament Officer",value:M,onChange:V=>_(V.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),o.jsxs("div",{className:"text-lg font-bold",children:[o.jsxs("span",{className:`${O>z?"text-green-600":O<z?"text-red-600":"text-gray-600"}`,children:[j,": ",O]}),o.jsx("span",{className:"mx-4 text-gray-400",children:"|"}),o.jsxs("span",{className:`${z>O?"text-green-600":z<O?"text-red-600":"text-gray-600"}`,children:[N,": ",z]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Phase 1 Decks (",(xe==null?void 0:xe.beyblades_per_player)||3," Beyblades)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2"}),o.jsx("th",{className:"text-left py-2 font-semibold",children:j}),o.jsx("th",{className:"text-left py-2 font-semibold",children:N})]})}),o.jsx("tbody",{children:Array.from({length:(xe==null?void 0:xe.beyblades_per_player)||3},(V,ee)=>{var oe,he;return o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 font-medium",children:["Bey ",ee+1]}),o.jsx("td",{className:"py-2",children:((oe=h[j])==null?void 0:oe[ee])||""}),o.jsx("td",{className:"py-2",children:((he=h[N])==null?void 0:he[ee])||""})]},ee)})})]})})]}),o.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(D).map(([V,ee])=>{var Er,ns;const oe=parseInt(V),he=be(j,oe),tt=be(N,oe),Ie=oe+1,Te=(xe==null?void 0:xe.beyblades_per_player)||3,Ut=Ie%Te===0&&Ie>0,st=Math.floor(Ie/Te)+1;return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold",children:["Match ",Ie,": ",he," vs ",tt]}),o.jsx("button",{onClick:()=>im(oe),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Outcome:"}),o.jsx("div",{className:"space-y-2",children:Object.keys(Ep).map(Wt=>o.jsx("button",{onClick:()=>ui(oe,Wt),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ee.outcome===Wt?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:Wt},Wt))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Winner:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>di(oe,j),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ee.winner===j?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:j}),o.jsx("button",{onClick:()=>di(oe,N),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ee.winner===N?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:N})]})]})]})]}),Ut&&st>1&&K[st]&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-md p-6 mt-4 border-2 border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center",children:[o.jsx(S1,{className:"mr-2",size:20}),"Phase ",st," Decks - Drag to Reorder"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:j}),o.jsx("div",{className:"space-y-2",children:(Er=K[st][j])==null?void 0:Er.map((Wt,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Xr=>Wb(Xr,Wt),onDragOver:Vb,onDrop:Xr=>Kb(Xr,st,j,Cn),onDragEnd:Hb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${X===Wt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(j1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:Wt})]},`${st}-${j}-${Cn}`))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:N}),o.jsx("div",{className:"space-y-2",children:(ns=K[st][N])==null?void 0:ns.map((Wt,Cn)=>o.jsxs("div",{draggable:!0,onDragStart:Xr=>Wb(Xr,Wt),onDragOver:Vb,onDrop:Xr=>Kb(Xr,st,N,Cn),onDragEnd:Hb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${X===Wt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(j1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Cn+1,"."]}),o.jsx("span",{className:"ml-2",children:Wt})]},`${st}-${N}-${Cn}`))})]})]})]})]},V)})}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsxs("button",{onClick:H?$R:Qt,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsx("span",{children:H?"Shuffle":"Add Match"})]}),o.jsxs("button",{onClick:()=>ye(!0),disabled:Object.values(D).every(V=>!V.outcome||!V.winner),className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o.jsx(ZL,{size:20}),o.jsx("span",{children:"Submit Scores"})]}),o.jsxs("button",{onClick:Z,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(S1,{size:20}),o.jsx("span",{children:"Refresh"})]})]}),de&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:`font-semibold ${de.includes("✅")?"text-green-600":de.includes("❌")?"text-red-600":"text-blue-600"}`,children:de})})]})]}),J&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Summary"}),o.jsx("button",{onClick:()=>ye(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Final Scores"}),o.jsxs("p",{className:"text-xl",children:[o.jsxs("strong",{children:[j,":"]})," ",O," pts | ",o.jsxs("strong",{children:[N,":"]})," ",z," pts"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Match Results"}),o.jsx("div",{className:"space-y-2",children:BR().map((V,ee)=>o.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:V}},ee))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>ye(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:LR,disabled:G,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[G&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Confirm Submit"})]})]})]})]})})]})};function Pre(){var $,X;const{user:e}=Ft(),[t,r]=v.useState([]),[n,i]=v.useState(!1),[s,a]=v.useState(null),[l,c]=v.useState({}),[u,d]=v.useState(null),[f,h]=v.useState([]),[m,p]=v.useState(!1),[y,b]=v.useState(!0),[g,x]=v.useState(null),[w,j]=v.useState([]),[S,N]=v.useState(!1),[P,E]=v.useState(null),[R,M]=v.useState({});v.useState(!1),v.useState([]),v.useState(!1);const _=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";bn.useEffect(()=>{A()},[]);const D=async C=>{p(!0);try{const{data:k,error:U}=await Y.from("tournament_registration_details").select("*").eq("tournament_id",C).order("registered_at",{ascending:!1});if(U)throw U;const Q={};k==null||k.forEach(Z=>{Q[Z.registration_id]||(Q[Z.registration_id]={registration_id:Z.registration_id,tournament_id:Z.tournament_id,player_name:Z.player_name,payment_mode:Z.payment_mode,registered_at:Z.registered_at,status:Z.status,payment_status:Z.payment_status,beyblades:[]}),Z.beyblade_id&&(Q[Z.registration_id].beyblades.find(be=>be.beyblade_id===Z.beyblade_id)||Q[Z.registration_id].beyblades.push({beyblade_id:Z.beyblade_id,beyblade_name:Z.beyblade_name,blade_line:Z.blade_line,parts:Z.beyblade_parts||[]}))}),h(Object.values(Q))}catch(k){console.error("Error fetching registrations:",k),h([])}finally{p(!1)}},T=async(C,k)=>{try{console.log("Updating payment status:",{registrationId:C,newStatus:k});const{error:U}=await Y.from("tournament_registrations").update({payment_status:k}).eq("id",C);if(U)throw console.error("Payment status update error:",U),U.code==="42501"||U.message.includes("RLS")?alert("Permission denied. You need admin or developer role to update payment status."):alert(`Failed to update payment status: ${U.message}`),U;console.log("Payment status updated successfully"),await A(),alert("Payment status updated successfully!")}catch(U){console.error("Error updating payment status:",U)}},O=(C,k)=>k==="Custom"?["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"].map(Q=>C.find(Z=>Z.part_type===Q)).filter(Boolean):["Blade","Ratchet","Bit"].map(Q=>C.find(Z=>Z.part_type===Q)).filter(Boolean),A=async()=>{try{const{data:C,error:k}=await Y.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(k)throw k;const U=await Promise.all((C||[]).map(async Q=>{const{count:Z}=await Y.from("tournament_registrations").select("*",{count:"exact",head:!0}).eq("tournament_id",Q.id).eq("status","confirmed");return{...Q,current_participants:Z||0}}));r(U)}catch(C){console.error("Error fetching tournaments:",C)}finally{b(!1)}},z=()=>{i(!0),c({name:"",description:"",tournament_date:"",location:"",max_participants:16,has_participant_limit:!0,status:"upcoming",registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,is_free:!0,entry_fee:0,tournament_type:"casual"})},L=C=>{a(C.id),c(C)},F=async()=>{try{if(n){const{error:C}=await Y.from("tournaments").insert([l]);if(C){console.error("Insert error:",C),C.code==="42501"||C.message.includes("RLS")?alert("Permission denied. You need admin or developer role to create tournaments."):alert(`Failed to create tournament: ${C.message}`);return}}else if(s){const{error:C}=await Y.from("tournaments").update(l).eq("id",s);if(C){console.error("Update error:",C),C.code==="42501"||C.message.includes("RLS")||C.code==="42883"?alert("Permission denied. You need admin or developer role to edit tournaments."):alert(`Failed to update tournament: ${C.message}`);return}}await A(),i(!1),a(null),c({})}catch(C){console.error("Error saving tournament:",C),alert(`Failed to save tournament: ${C instanceof Error?C.message:"Unknown error"}. Please try again.`)}},I=()=>{i(!1),a(null),c({})},H=async C=>{if(confirm("Are you sure you want to delete this tournament? This will permanently delete ALL related data including registrations, beyblades, parts, matches, and sessions. This action cannot be undone."))try{const{error:k}=await Y.from("tournaments").delete().eq("id",C);if(k){console.error("Delete error:",k),k.code==="42501"||k.message.includes("RLS")||k.message.includes("permission")?alert("Permission denied. You need admin or developer role to delete tournaments."):alert(`Failed to delete tournament: ${k.message}`);return}alert("Tournament deleted successfully!"),await A()}catch(k){console.error("Error deleting tournament:",k),alert(`Failed to delete tournament: ${k instanceof Error?k.message:"Unknown error"}. Please try again.`)}},re=async C=>{N(!0),x(C);try{const{data:k,error:U}=await Y.from("match_results").select("*").eq("tournament_id",C).order("submitted_at",{ascending:!1});if(U)throw U;j(k||[])}catch(k){console.error("Error fetching matches:",k),alert("Failed to load matches. Please try again.")}finally{N(!1)}},J=C=>{E(C.id),M({...C})},ye=async()=>{if(!(!P||!_))try{const{error:C}=await Y.from("match_results").update(R).eq("id",P);if(C){console.error("Update error:",C),alert(`Failed to update match: ${C.message}`);return}E(null),M({}),await re(g),alert("Match updated successfully!")}catch(C){console.error("Error updating match:",C),alert(`Failed to update match: ${C instanceof Error?C.message:"Unknown error"}`)}},G=()=>{E(null),M({})},ie=async C=>{if(confirm("Are you sure you want to delete this match? This action cannot be undone."))try{const{error:k}=await Y.from("match_results").delete().eq("id",C);if(k){console.error("Delete error:",k),alert(`Failed to delete match: ${k.message}`);return}alert("Match deleted successfully!"),await re(g)}catch(k){console.error("Error deleting match:",k),alert(`Failed to delete match: ${k instanceof Error?k.message:"Unknown error"}`)}},de=C=>{switch(C){case"upcoming":return"bg-blue-100 text-blue-800";case"active":return"bg-green-100 text-green-800";case"completed":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},W=C=>{d(C),D(C)},K=()=>{d(null),h([])};if(y)return o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})});if(u){const C=t.find(k=>k.id===u);return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:K,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-800 font-medium transition-colors mb-4",children:[o.jsx(H0,{size:20}),o.jsx("span",{children:"Back to Tournament Manager"})]}),o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[C==null?void 0:C.name," - Registrations"]}),o.jsx("p",{className:"text-gray-600",children:"Manage tournament registrations and payment status"})]}),m?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading registrations..."})]}):f.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(At,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):o.jsx("div",{className:"space-y-6",children:f.map(k=>o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:k.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:k.player_name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Registered: ",new Date(k.registered_at).toLocaleDateString()]})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment Mode:"}),o.jsx("p",{className:"font-medium capitalize",children:k.payment_mode==="free"?"Free":k.payment_mode.replace("_"," ").replace(/\b\w/g,U=>U.toUpperCase())||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("p",{className:"font-medium capitalize",children:k.status})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Payment Status"}),o.jsxs("select",{value:k.payment_status||"unpaid",onChange:U=>T(k.registration_id,U.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500 bg-white",children:[o.jsx("option",{value:"unpaid",children:"Unpaid"}),o.jsx("option",{value:"paid",children:"Paid"}),o.jsx("option",{value:"confirmed",children:"Confirmed"})]})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k.payment_status==="confirmed"?"bg-green-100 text-green-800":k.payment_status==="paid"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:k.payment_status||"unpaid"})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("h4",{className:"font-semibold text-gray-900 flex items-center",children:[o.jsx(bt,{size:16,className:"mr-2 text-yellow-500"}),"Registered Beyblades (",k.beyblades.length,")"]}),k.beyblades.length===0?o.jsx("p",{className:"text-gray-500 text-sm italic",children:"No Beyblades registered"}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:k.beyblades.map((U,Q)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[o.jsxs("div",{className:"flex justify-between items-center mb-3",children:[o.jsx("h5",{className:"font-semibold text-gray-900",children:U.beyblade_name}),o.jsxs("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:[U.blade_line," Line"]})]}),U.parts&&U.parts.length>0?o.jsx("div",{className:"grid grid-cols-2 gap-2",children:O(U.parts,U.blade_line).map((Z,ue)=>o.jsxs("div",{className:"bg-white border border-gray-300 p-2 rounded text-xs",children:[o.jsx("div",{className:"font-medium text-gray-700",children:Z.part_type}),o.jsx("div",{className:"text-gray-600",children:Z.part_name})]},ue))}):o.jsx("p",{className:"text-gray-500 text-xs",children:"No parts configured"})]},U.beyblade_id))})]})]},k.registration_id))})]})}return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Tournament Manager"}),o.jsx("p",{className:"text-gray-600",children:"Create and manage tournaments"})]}),o.jsx("div",{className:"flex space-x-3",children:_&&o.jsxs("button",{onClick:z,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsx("span",{children:"Create Tournament"})]})})]}),(n||s)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:n?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Name"}),o.jsx("input",{type:"text",value:l.name||"",onChange:C=>c({...l,name:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Location"}),o.jsx("input",{type:"text",value:l.location||"",onChange:C=>c({...l,location:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Date"}),o.jsx("input",{type:"date",value:l.tournament_date||"",onChange:C=>c({...l,tournament_date:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Registration Deadline"}),o.jsx("input",{type:"date",value:l.registration_deadline||"",onChange:C=>c({...l,registration_deadline:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participant Limit"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:l.has_participant_limit,onChange:()=>c({...l,has_participant_limit:!0}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"Set participant limit"})]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:!l.has_participant_limit,onChange:()=>c({...l,has_participant_limit:!1}),className:"mr-2"}),o.jsx("span",{className:"text-sm text-gray-700",children:"No limit"})]})]}),l.has_participant_limit&&o.jsx("input",{type:"number",min:"1",value:l.max_participants,onChange:C=>c({...l,max_participants:parseInt(C.target.value)||1}),placeholder:"Maximum participants",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prize Pool"}),o.jsx("input",{type:"text",value:l.prize_pool||"",onChange:C=>c({...l,prize_pool:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., $500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Type"}),o.jsxs("select",{value:l.tournament_type||"casual",onChange:C=>c({...l,tournament_type:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Type"}),o.jsxs("select",{value:l.is_free?"free":"paid",onChange:C=>{const k=C.target.value==="free";c({...l,is_free:k,entry_fee:k?0:l.entry_fee||50})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"paid",children:"Paid Entry"})]})]}),!l.is_free&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Fee"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:l.entry_fee||"",onChange:C=>c({...l,entry_fee:parseFloat(C.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:"1",max:"5",value:l.beyblades_per_player||3,onChange:C=>c({...l,beyblades_per_player:parseInt(C.target.value)}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Players per Team"}),o.jsx("input",{type:"number",min:"1",max:"4",value:l.players_per_team||1,onChange:C=>c({...l,players_per_team:parseInt(C.target.value)}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),o.jsx("textarea",{value:l.description||"",onChange:C=>c({...l,description:C.target.value}),rows:3,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),!n&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),o.jsxs("select",{value:l.status||"",onChange:C=>c({...l,status:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tournament Type"}),o.jsxs("select",{value:l.tournament_type||"casual",onChange:C=>c({...l,tournament_type:C.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Type"}),o.jsxs("select",{value:l.is_free?"free":"paid",onChange:C=>{const k=C.target.value==="free";c({...l,is_free:k,entry_fee:k?0:l.entry_fee||50})},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"paid",children:"Paid Entry"})]})]}),!l.is_free&&o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entry Fee (₱)"}),o.jsx("input",{type:"number",step:"0.01",min:"0",value:l.entry_fee||"",onChange:C=>c({...l,entry_fee:parseFloat(C.target.value)||0}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"50.00"})]})]})]}),o.jsxs("div",{className:"flex space-x-3 mt-6",children:[o.jsxs("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(rc,{size:16}),o.jsx("span",{children:"Save"})]}),o.jsxs("button",{onClick:I,className:"px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(wt,{size:16}),o.jsx("span",{children:"Cancel"})]})]})]}),o.jsx("div",{className:"space-y-4",children:t.map(C=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:C.name}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium capitalize ${de(C.status)}`,children:C.status})]}),o.jsx("p",{className:"text-gray-600 mb-2",children:C.description}),o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Date:"})," ",new Date(C.tournament_date).toLocaleDateString()]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Location:"})," ",C.location]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Participants:"})," ",C.current_participants,"/",C.max_participants===999999?"∞":C.max_participants]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Prize Pool:"})," ",C.prize_pool]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Type:"}),o.jsx("span",{className:`ml-1 capitalize ${C.tournament_type==="ranked"?"text-orange-600 font-semibold":"text-gray-600"}`,children:C.tournament_type})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Entry:"}),o.jsx("span",{className:`ml-1 ${C.is_free?"text-green-600":"text-blue-600"} font-semibold`,children:C.is_free?"Free":`₱${C.entry_fee}`})]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Beyblades/Player:"})," ",C.beyblades_per_player]}),o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Players/Team:"})," ",C.players_per_team]})]})]}),o.jsxs("div",{className:"flex space-x-2",children:[_&&o.jsx("button",{onClick:()=>L(C),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Tournament",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>W(C.id),className:"p-2 text-green-600 hover:bg-green-50 rounded-md transition-colors",title:"View Registrations",children:o.jsx(Za,{size:16})}),o.jsx("button",{onClick:()=>re(C.id),className:"p-2 text-purple-600 hover:bg-purple-50 rounded-md transition-colors",title:"View Matches",children:o.jsx(N1,{size:16})}),_&&o.jsx("button",{onClick:()=>H(C.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-md transition-colors",title:"Delete Tournament",children:o.jsx(kn,{size:16})})]})]}),o.jsx("div",{className:"border-t pt-4",children:o.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[o.jsxs("span",{children:["Registration Deadline: ",new Date(C.registration_deadline).toLocaleDateString()]}),o.jsxs("span",{children:["Tournament ID: ",C.id]})]})})]},C.id))}),u&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tournament Registrations"}),o.jsx("p",{className:"text-gray-600",children:($=t.find(C=>C.id===u))==null?void 0:$.name})]}),o.jsx("button",{onClick:()=>d(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]}),o.jsx("div",{className:"p-6",children:m?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading registrations..."})]}):f.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(At,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations yet for this tournament"})]}):o.jsx("div",{className:"space-y-6",children:f.map(C=>o.jsxs("div",{className:"bg-white border border-gray-300 rounded-lg p-6 shadow-sm",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-xl font-bold text-gray-900",children:C.player_name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Registered: ",new Date(C.registered_at).toLocaleString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Payment: ",o.jsx("span",{className:"capitalize",children:C.payment_mode.replace("_"," ")})]})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${C.status==="confirmed"?"bg-green-100 text-green-800":C.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:C.status})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:"Registered Beyblades:"}),C.beyblades.map(k=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-center mb-2",children:[o.jsx("h5",{className:"font-medium text-gray-900",children:k.beyblade_name}),o.jsxs("span",{className:"text-sm text-gray-600 bg-white px-2 py-1 rounded",children:[k.blade_line," Line"]})]}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 text-sm",children:k.parts.map((U,Q)=>o.jsxs("div",{className:"bg-white border border-gray-300 p-2 rounded",children:[o.jsx("div",{className:"font-medium text-gray-700",children:U.part_type}),o.jsx("div",{className:"text-gray-600",children:U.part_name})]},Q))})]},k.beyblade_id))]})]},C.registration_id))})})]})}),g&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-7xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Tournament Matches"}),o.jsx("p",{className:"text-gray-600",children:(X=t.find(C=>C.id===g))==null?void 0:X.name})]}),o.jsx("button",{onClick:()=>{x(null),E(null),M({})},className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]}),o.jsx("div",{className:"p-6",children:S?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading matches..."})]}):w.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(N1,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No matches found for this tournament"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Round"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Match #"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Bey"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Bey"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Outcome"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Officer"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),_&&o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map(C=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsx("input",{type:"number",value:R.round_number||"",onChange:k=>M({...R,round_number:parseInt(k.target.value)}),className:"w-16 border border-gray-300 rounded px-2 py-1 text-sm"}):C.round_number}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsx("input",{type:"number",value:R.match_number||"",onChange:k=>M({...R,match_number:parseInt(k.target.value)}),className:"w-16 border border-gray-300 rounded px-2 py-1 text-sm"}):C.match_number}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P===C.id?o.jsx("input",{type:"text",value:R.player1_name||"",onChange:k=>M({...R,player1_name:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):C.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsx("input",{type:"text",value:R.player1_beyblade||"",onChange:k=>M({...R,player1_beyblade:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):C.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P===C.id?o.jsx("input",{type:"text",value:R.player2_name||"",onChange:k=>M({...R,player2_name:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):C.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsx("input",{type:"text",value:R.player2_beyblade||"",onChange:k=>M({...R,player2_beyblade:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):C.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsxs("select",{value:R.winner_name||"",onChange:k=>M({...R,winner_name:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Select Winner"}),o.jsx("option",{value:R.player1_name,children:R.player1_name}),o.jsx("option",{value:R.player2_name,children:R.player2_name})]}):o.jsx("span",{className:`font-medium ${C.winner_name===C.player1_name?"text-green-600":"text-blue-600"}`,children:C.winner_name})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsxs("select",{value:R.outcome||"",onChange:k=>M({...R,outcome:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm",children:[o.jsx("option",{value:"",children:"Select Outcome"}),o.jsx("option",{value:"Spin Finish (1 pt)",children:"Spin Finish (1 pt)"}),o.jsx("option",{value:"Burst Finish (2 pts)",children:"Burst Finish (2 pts)"}),o.jsx("option",{value:"Over Finish (2 pts)",children:"Over Finish (2 pts)"}),o.jsx("option",{value:"Extreme Finish (3 pts)",children:"Extreme Finish (3 pts)"})]}):C.outcome}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsx("input",{type:"number",value:R.points_awarded||"",onChange:k=>M({...R,points_awarded:parseInt(k.target.value)}),className:"w-16 border border-gray-300 rounded px-2 py-1 text-sm"}):C.points_awarded}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:P===C.id?o.jsx("input",{type:"text",value:R.tournament_officer||"",onChange:k=>M({...R,tournament_officer:k.target.value}),className:"w-full border border-gray-300 rounded px-2 py-1 text-sm"}):C.tournament_officer}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fi,{size:12,className:"mr-1"}),new Date(C.created_at).toLocaleDateString()]})}),_&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:P===C.id?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:ye,className:"text-green-600 hover:text-green-900 p-1 rounded hover:bg-green-50",title:"Save Changes",children:o.jsx(rc,{size:16})}),o.jsx("button",{onClick:G,className:"text-gray-600 hover:text-gray-900 p-1 rounded hover:bg-gray-50",title:"Cancel",children:o.jsx(wt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>J(C),className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",title:"Edit Match",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>ie(C.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",title:"Delete Match",children:o.jsx(kn,{size:16})})]})})})]},C.id))})]})})})]})})]})}function _re(){const{user:e}=Ft(),{confirm:t,alert:r}=Gi(),[n,i]=v.useState([]),[s,a]=v.useState("all"),[l,c]=v.useState("all"),[u,d]=v.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";bn.useEffect(()=>{h()},[]);const h=async()=>{try{console.log("🔍 USER MANAGEMENT: Fetching profiles...");const{data:x,error:w}=await Y.from("profiles").select("*").order("created_at",{ascending:!1});if(w)throw console.error("❌ USER MANAGEMENT: Error fetching profiles:",w),w;console.log("📊 USER MANAGEMENT: Raw profiles data:",{count:(x==null?void 0:x.length)||0,sample:(x==null?void 0:x.slice(0,3))||[],allProfiles:x||[]});const j=(x||[]).map(S=>({id:S.id,username:S.username,email:S.email||"",role:S.role,joinedDate:S.created_at,status:"active",lastLogin:null}));console.log("🔄 USER MANAGEMENT: Formatted profiles as users:",{count:j.length,sample:j.slice(0,3),roles:j.map(S=>S.role),statuses:j.map(S=>S.status)}),i(j),console.log("✅ USER MANAGEMENT: Profiles loaded successfully as users")}catch(x){console.error("Error fetching profiles:",x)}finally{d(!1)}},m=n.filter(x=>{const w=s==="all"||x.status===s,j=l==="all"||x.role===l;return w&&j}),p=async(x,w)=>{try{const{error:j}=await Y.from("profiles").update(w).eq("id",x);if(j){const S=j.code==="42501"||j.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${j.message}`;await r("Update Failed",S);return}await h()}catch(j){console.error("Error updating user:",j),await r("Update Failed",`Failed to update user: ${j instanceof Error?j.message:"Unknown error"}`)}},y=async x=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:j,error:S}=await Y.rpc("delete_user_completely",{user_id_to_delete:x});if(S){console.error("Delete error:",S),S.code==="42501"||S.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):S.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${S.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(j){console.error("Error deleting user:",j),await r("Delete Failed",`Failed to delete user: ${j instanceof Error?j.message:"Unknown error"}. Please try again.`)}},b=x=>{switch(x){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=x=>{switch(x){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:x=>a(x.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(At,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(Es,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(x=>x.role==="admin"||x.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(x=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:x.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(qL,{size:12,className:"mr-1"}),x.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:x.role,onChange:w=>p(x.id,{role:w.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${g(x.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${b("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Fi,{size:12,className:"mr-1"}),new Date(x.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>y(x.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(kn,{size:16})})]})})})]},x.id))})]})})})]})}function kre(){var $,X,C;const{user:e}=Ft(),{confirm:t,alert:r}=Gi(),[n,i]=v.useState("tournaments"),[s,a]=v.useState(null),[l,c]=v.useState(!1),[u,d]=v.useState([]),[f,h]=v.useState(!1),[m,p]=v.useState(null),[y,b]=v.useState([]),[g,x]=v.useState(null),[w,j]=v.useState({}),[S,N]=v.useState(null),[P,E]=v.useState([]),[R,M]=v.useState(""),[_,D]=v.useState(1),[T]=v.useState(10);bn.useEffect(()=>{a(null),N(null),x(null),j({}),M(""),D(1)},[n]);const O=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",A=async()=>{try{console.log("🔍 DATABASE: Fetching table counts...");const[k,U,Q,Z]=await Promise.all([Y.from("profiles").select("*",{count:"exact",head:!0}),Y.from("tournaments").select("*",{count:"exact",head:!0}),Y.from("match_results").select("*",{count:"exact",head:!0}),Y.from("tournament_registrations").select("*",{count:"exact",head:!0})]);b([{name:"users",records:k.count||0,icon:o.jsx(At,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:U.count||0,icon:o.jsx(bt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:Q.count||0,icon:o.jsx(Fi,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:Z.count||0,icon:o.jsx(e3,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ue}=await Y.from("tournaments").select("id, name").order("name");E(ue||[]),console.log("✅ DATABASE: Table counts loaded successfully")}catch(k){console.error("Error fetching table counts:",k)}},z=async(k,U)=>{h(!0),p(null),console.log("🔍 DATABASE: Fetching table data for:",{tableName:k,tournamentId:U});try{let Q=[];if(k==="registrations"&&U){const{data:Z,error:ue}=await Y.from("tournament_registration_details").select("*").eq("tournament_id",U).order("registered_at",{ascending:!1});if(ue)throw ue;const be={};Z==null||Z.forEach(Pe=>{var Qt;be[Pe.registration_id]||(be[Pe.registration_id]={registration_id:Pe.registration_id,tournament_id:Pe.tournament_id,tournament_name:((Qt=P.find(ui=>ui.id===Pe.tournament_id))==null?void 0:Qt.name)||"Unknown Tournament",player_name:Pe.player_name,payment_mode:Pe.payment_mode,registered_at:Pe.registered_at,status:Pe.status,beyblades:[]}),Pe.beyblade_id&&(be[Pe.registration_id].beyblades.find(di=>di.beyblade_id===Pe.beyblade_id)||be[Pe.registration_id].beyblades.push({beyblade_id:Pe.beyblade_id,beyblade_name:Pe.beyblade_name,blade_line:Pe.blade_line,parts:Pe.beyblade_parts||[]}))}),Q=Object.values(be)}else if(k==="registrations"&&!U)Q=P;else{let Z=k;k==="registrations"?Z="tournament_registrations":k==="users"?Z="profiles":k==="matches"&&(Z="match_results");const{data:ue,error:be}=await Y.from(Z).select("*").order(k==="tournaments"?"tournament_date":k==="matches"?"submitted_at":"created_at",{ascending:!1});if(be)throw console.error(`❌ DATABASE: Error fetching ${k}:`,be),be;Q=ue||[]}(k!=="registrations"||U)&&Q.sort((Z,ue)=>{const be=Object.values(Z).find(Qt=>typeof Qt=="string")||"",Pe=Object.values(ue).find(Qt=>typeof Qt=="string")||"";return be.localeCompare(Pe)}),d(Q),console.log(`✅ DATABASE: Table data loaded for ${k}:`,{finalCount:Q.length,hasData:Q.length>0})}catch(Q){console.error("Error fetching table data:",Q),p(`Failed to load ${k} data. Please try again.`)}finally{h(!1)}},L=async()=>{c(!0),await Promise.all([A(),z(n,s||void 0)]),c(!1)},F=k=>{const U=JSON.stringify(u,null,2),Q=new Blob([U],{type:"application/json"}),Z=URL.createObjectURL(Q),ue=document.createElement("a");ue.href=Z,ue.download=`${k}_export_${new Date().toISOString().split("T")[0]}.json`,ue.click(),URL.revokeObjectURL(Z)},I=k=>{x(k.id||k.registration_id||k.tournament_id),j({...k})},H=async()=>{if(!(!g||!O))try{let k=n;n==="registrations"?k="tournament_registrations":n==="users"?k="profiles":n==="matches"&&(k="match_results");const{error:U}=await Y.from(k).update(w).eq("id",g);if(U){console.error("Update error:",U),U.code==="42501"||U.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${U.message}`);return}x(null),j({}),await z(n)}catch(k){console.error("Error updating row:",k),await r("Update Failed",`Failed to update record: ${k instanceof Error?k.message:"Unknown error"}. Please try again.`)}},re=async k=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let Q=n;n==="registrations"?Q="tournament_registrations":n==="users"?Q="profiles":n==="matches"&&(Q="match_results");const{error:Z}=await Y.from(Q).delete().eq("id",k);if(Z){console.error("Delete error:",Z),Z.code==="42501"||Z.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${Z.message}`);return}await Promise.all([A(),z(n,s||void 0)])}catch(Q){console.error("Error deleting row:",Q),await r("Delete Failed",`Failed to delete record: ${Q instanceof Error?Q.message:"Unknown error"}. Please try again.`)}},J=k=>{a(k),z("registrations",k)},ye=()=>{a(null),z("registrations")},G=k=>{N(k)};v.useEffect(()=>{A()},[]),v.useEffect(()=>{n==="registrations"&&a(null),z(n)},[n]);const ie=u.filter(k=>R?Object.values(k).filter(Q=>typeof Q=="string").join(" ").toLowerCase().includes(R.toLowerCase()):!0),de=Math.ceil(ie.length/T),W=ie.slice((_-1)*T,_*T),K=()=>{var k;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>z(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Wn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(bt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(U=>o.jsxs("button",{onClick:()=>J(U.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:U.name}),o.jsx(FL,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:U.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(U.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${U.status==="upcoming"?"bg-blue-100 text-blue-800":U.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:U.status})})]},U.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:ye,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(H0,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((k=P.find(U=>U.id===s))==null?void 0:k.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(U=>{var Q;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:U.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:U.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:U.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(U.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((Q=U.payment_mode)==null?void 0:Q.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${U.status==="confirmed"?"bg-green-100 text-green-800":U.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:U.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>G(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(Za,{size:16})}),O&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>I(U),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>re(U.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(kn,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[U.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:U.beyblades.length>0?U.beyblades.map((Z,ue)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:Z.beyblade_name},ue)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},U.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ec,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:R,onChange:U=>{M(U.target.value),D(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",W.length," of ",ie.length," records"]}),de>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>D(Math.max(1,_-1)),disabled:_===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",_," of ",de]}),o.jsx("button",{onClick:()=>D(Math.min(de,_+1)),disabled:_===de,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[W.length>0&&W[0]&&Object.keys(W[0]).map(U=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:U.replace(/_/g," ")},U)),O&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:W.map((U,Q)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(U).map(([Z,ue],be)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:g===(U.id||U.registration_id||U.tournament_id)&&O?o.jsx("input",{type:"text",value:w[Z]||"",onChange:Pe=>j({...w,[Z]:Pe.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ue=="object"&&ue!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ue).length>50?JSON.stringify(ue).substring(0,50)+"...":JSON.stringify(ue)}):ue instanceof Date?ue.toLocaleString():o.jsx("span",{className:Z.includes("email")?"font-mono text-blue-600":"",children:String(ue||"")})})},be)),O&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:g===(U.id||U.registration_id||U.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:H,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(rc,{size:16})}),o.jsx("button",{onClick:()=>{x(null),j({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(wt,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>I(U),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>re(U.id||U.registration_id||U.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(kn,{size:16})})]})})})]},U.id||Q))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Wn,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:L,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(QL,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>F(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(UL,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Wn,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:y.map(k=>o.jsxs("button",{onClick:()=>i(k.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===k.name?"bg-gradient-to-r "+k.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===k.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:bn.cloneElement(k.icon,{className:n===k.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===k.name?"text-white":"text-gray-900"}`,children:k.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===k.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:k.records})]}),o.jsx("p",{className:`text-xs ${n===k.name?"text-white/80":"text-gray-600"}`,children:k.description})]},k.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Fs,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.reduce((k,U)=>k+U.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:y.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[(($=y.find(k=>k.name===n))==null?void 0:$.icon)&&bn.cloneElement(y.find(k=>k.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((X=P.find(k=>k.id===s))==null?void 0:X.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(C=y.find(k=>k.name===n))==null?void 0:C.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${ie.length} records`})})]})}),K()]})})]}),S&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:S.player_name})]}),o.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:S.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:S.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:S.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${S.status==="confirmed"?"bg-green-100 text-green-800":S.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:S.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Fi,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(S.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(bt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[S.beyblades.length," Beyblades"]})]}),S.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(bt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:S.beyblades.map((k,U)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:k.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[k.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:U+1})})]}),k.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:k.parts.map((Q,Z)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:Q.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:Q.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:Z+1})})]},Z))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},k.beyblade_id))})]})]})]})})]})})}function Ere({showHeader:e=!0}){const{user:t}=Ft(),{confirm:r,alert:n}=Gi();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fa,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=v.useState([]),[a,l]=v.useState([]),[c,u]=v.useState(!0),[d,f]=v.useState(!1),[h,m]=v.useState(null),[p,y]=v.useState(!0),[b,g]=v.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[x,w]=v.useState(""),[j,S]=v.useState(""),[N,P]=v.useState(3),[E,R]=v.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);v.useEffect(()=>{M(),p&&D(),_()},[t]);const M=async()=>{try{const{data:W,error:K}=await Y.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(K)throw K;s(W||[])}catch(W){console.error("Error fetching presets:",W)}finally{u(!1)}};v.useEffect(()=>{p||_()},[p]);const _=async()=>{try{const[W,K,$,X,C]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);g({blades:W.data||[],ratchets:K.data||[],bits:$.data||[],lockchips:X.data||[],assistBlades:C.data||[]})}catch(W){console.error("Error fetching parts data:",W)}},D=async()=>{try{const{data:W,error:K}=await Y.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(K)throw K;l(W||[])}catch(W){console.error("Error fetching inventory:",W)}},T=W=>{switch(W){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},O=W=>{if(!p)switch(W==="Main Blade"?"Blade":W){case"Blade":return b.blades.map($=>({id:`db-${$.Blades}`,part_type:"Blade",part_name:$.Blades,part_data:$,quantity:999}));case"Ratchet":return b.ratchets.map($=>({id:`db-${$.Ratchet}`,part_type:"Ratchet",part_name:$.Ratchet,part_data:$,quantity:999}));case"Bit":return b.bits.map($=>({id:`db-${$.Bit}`,part_type:"Bit",part_name:`${$.Bit} (${$.Shortcut})`,part_data:$,quantity:999}));case"Lockchip":return b.lockchips.map($=>({id:`db-${$.Lockchip}`,part_type:"Lockchip",part_name:$.Lockchip,part_data:$,quantity:999}));case"Assist Blade":return b.assistBlades.map($=>({id:`db-${$["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${$["Assist Blade Name"]} (${$["Assist Blade"]})`,part_data:$,quantity:999}));default:return[]}return W==="Blade"||W==="Main Blade"?a.filter($=>$.part_type.startsWith("Blade (")&&$.part_type===`Blade (${W==="Main Blade"?"Custom":"Basic"})`):a.filter($=>$.part_type===W)},A=(W,K)=>{var C,k,U,Q,Z,ue,be,Pe;if(!W||!T(W).every(Qt=>K[Qt]))return"";if(W==="Custom"){const Qt=((C=K.Lockchip)==null?void 0:C.Lockchip)||"",ui=((k=K["Main Blade"])==null?void 0:k.Blades)||"",di=((U=K["Assist Blade"])==null?void 0:U["Assist Blade"])||"",Uo=((Q=K.Ratchet)==null?void 0:Q.Ratchet)||"",im=((Z=K.Bit)==null?void 0:Z.Shortcut)||"";return`${Qt}${ui} ${di}${Uo}${im}`}else{const Qt=((ue=K.Blade)==null?void 0:ue.Blades)||"",ui=((be=K.Ratchet)==null?void 0:be.Ratchet)||"",di=((Pe=K.Bit)==null?void 0:Pe.Shortcut)||"";return`${Qt} ${ui}${di}`}},z=W=>{let K={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(W).forEach($=>{$&&(K.attack+=$.Attack||0,K.defense+=$.Defense||0,K.stamina+=$.Stamina||0,K.dash+=$.Dash||0,K.burstRes+=$["Burst Res"]||0)}),K},L=()=>{f(!0),w(""),S(""),P(3),R([{id:"1",name:"",blade_line:"Basic",parts:{}}])},F=W=>{m(W.id),w(W.name),S(W.description||""),P(W.beyblades.length),R(W.beyblades)},I=()=>{E.length<N&&R([...E,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},H=W=>{E.length>1&&R(E.filter(K=>K.id!==W))},re=(W,K,$)=>{R(E.map(X=>{if(X.id===W){const C={...X,[K]:$,parts:{}};return C.name=A($,{}),C}return X}))},J=(W,K,$)=>{R(E.map(X=>{if(X.id===W){const C={...X.parts,[K]:$},k=A(X.blade_line,C);return{...X,parts:C,name:k}}return X}))},ye=async()=>{if(!x.trim()){await n("Missing Information","Please enter a deck name.");return}const W=E.filter(K=>{const $=T(K.blade_line);return K.blade_line&&$.every(X=>K.parts[X])});if(W.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const K={user_id:t.id,name:x.trim(),description:j.trim()||null,beyblades:W};if(d){const{error:$}=await Y.from("deck_presets").insert([K]);if($)throw $}else if(h){const{error:$}=await Y.from("deck_presets").update({...K,updated_at:new Date().toISOString()}).eq("id",h);if($)throw $}await M(),ie(),await n("Success","Deck preset saved successfully!")}catch(K){console.error("Error saving preset:",K),await n("Error","Failed to save deck preset. Please try again.")}},G=async W=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:$}=await Y.from("deck_presets").delete().eq("id",W);if($)throw $;await M()}catch($){console.error("Error deleting preset:",$),await n("Error","Failed to delete deck preset. Please try again.")}},ie=()=>{f(!1),m(null),w(""),S(""),P(3),R([{id:"1",name:"",blade_line:"Basic",parts:{}}])},de=W=>{switch(W){case"attack":return o.jsx(Oc,{size:12,className:"text-red-500"});case"defense":return o.jsx(Es,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Gf,{size:12,className:"text-green-500"});case"dash":return o.jsx(Qa,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(q0,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>y(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>y(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:L,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>y(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>y(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:L,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:x,onChange:W=>w(W.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:j,onChange:W=>S(W.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:E.map((W,K)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",K+1]}),E.length>1&&o.jsx("button",{onClick:()=>H(W.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(kn,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:W.blade_line,onChange:$=>re(W.id,"blade_line",$.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:W.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:T(W.blade_line).map($=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:$}),o.jsxs("select",{value:W.parts[$]?JSON.stringify(W.parts[$]):"",onChange:X=>{if(X.target.value){const C=JSON.parse(X.target.value);J(W.id,$,C)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",$]}),O($).filter(X=>{var C;return!p&&($==="Blade"||$==="Main Blade")&&((C=X.part_data)!=null&&C.Line)?X.part_data.Line===($==="Main Blade"?"Custom":W.blade_line):!0}).map(X=>o.jsxs("option",{value:JSON.stringify(X.part_data),children:[X.part_name," ",p?`(Qty: ${X.quantity})`:""]},X.id))]})]},$))}),Object.keys(W.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Qa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(z(W.parts)).map(([$,X])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:de($)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:$==="burstRes"?"Burst Res":$}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:X})]},$))})]})]},W.id))}),E.length<5&&o.jsxs("button",{onClick:I,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",E.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:ie,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(wt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:ye,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(rc,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Fa,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:L,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(W=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:W.name}),W.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:W.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>F(W),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>G(W.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:W.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[W.beyblades.slice(0,3).map((K,$)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:K.name||`Beyblade ${$+1}`},$)),W.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",W.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(W.updated_at).toLocaleDateString()]})]},W.id))})]})}function Are(){const{user:e}=Ft(),{confirm:t,alert:r}=Gi(),[n,i]=v.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(ml,{size:64,className:"text-gray-400"}),o.jsx(Fa,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=v.useState([]),[l,c]=v.useState(!0),[u,d]=v.useState(!1),[f,h]=v.useState(null),[m,p]=v.useState(""),[y,b]=v.useState("all"),[g,x]=v.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[w,j]=v.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});v.useEffect(()=>{S(),N()},[e]);const S=async()=>{try{const{data:A,error:z}=await Y.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(z)throw z;a(A||[])}catch(A){console.error("Error fetching inventory:",A)}finally{c(!1)}},N=async()=>{try{const[A,z,L,F,I]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);j({blades:A.data||[],ratchets:z.data||[],bits:L.data||[],lockchips:F.data||[],assistBlades:I.data||[]})}catch(A){console.error("Error fetching parts data:",A)}},P=A=>{let z=[];if(A.startsWith("Blade (")){const L=A.replace("Blade (","").replace(")","");z=w.blades.filter(F=>F.Line===L)}else A==="Ratchet"?z=w.ratchets:A==="Bit"?z=w.bits:A==="Lockchip"?z=w.lockchips:A==="Assist Blade"&&(z=w.assistBlades);return A==="Blade"?z=w.blades.filter(L=>L.Line!=="Custom"):A==="Blade (Custom)"?z=w.blades.filter(L=>L.Line==="Custom"):A==="Ratchet"?z=w.ratchets:A==="Bit"?z=w.bits:A==="Lockchip"?z=w.lockchips:A==="Assist Blade"&&(z=w.assistBlades),z},E=(A,z)=>{if(z.startsWith("Blade ("))return A.Blades;switch(z){case"Ratchet":return A.Ratchet;case"Bit":return`${A.Bit} (${A.Shortcut})`;case"Lockchip":return A.Lockchip;case"Assist Blade":return`${A["Assist Blade Name"]} (${A["Assist Blade"]})`;default:return""}},R=()=>{d(!0),x({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},M=A=>{h(A.id),x({part_type:A.part_type,part_name:A.part_name,part_data:A.part_data,quantity:A.quantity,notes:A.notes||""})},_=async()=>{if(!g.part_name||!g.part_data){await r("Missing Information","Please select a part before saving.");return}try{const A={user_id:e.id,part_type:g.part_type,part_name:g.part_name,part_data:g.part_data,quantity:g.quantity,notes:g.notes||null};if(u){const{error:z}=await Y.from("user_inventory").insert([A]);if(z)throw z}else if(f){const{error:z}=await Y.from("user_inventory").update(A).eq("id",f);if(z)throw z}await S()}catch(A){console.error("Error saving inventory item:",A),await r("Error","Failed to save inventory item. Please try again.")}},D=async A=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:L}=await Y.from("user_inventory").delete().eq("id",A);if(L)throw L;await S()}catch(L){console.error("Error deleting inventory item:",L),await r("Error","Failed to delete inventory item. Please try again.")}},T=()=>{d(!1),h(null),x({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},O=s.filter(A=>{var F;const z=A.part_name.toLowerCase().includes(m.toLowerCase())||A.notes&&A.notes.toLowerCase().includes(m.toLowerCase());let L=!1;if(y==="all")L=!0;else if(y.startsWith("Blade (")){const I=y.replace("Blade (","").replace(")","");L=A.part_type==="Blade"&&((F=A.part_data)==null?void 0:F.Line)===I}else L=A.part_type===y;return z&&L});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ml,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Fa,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(Ere,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ml,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Fa,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:R,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(ks,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ec,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:A=>p(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(WL,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:y,onChange:A=>b(A.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:g.part_type,onChange:A=>x({...g,part_type:A.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:g.part_data?JSON.stringify(g.part_data):"",onChange:A=>{if(A.target.value){const z=JSON.parse(A.target.value);x({...g,part_name:E(z,g.part_type),part_data:z})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(g.part_type).map((A,z)=>o.jsx("option",{value:JSON.stringify(A),children:E(A,g.part_type)},z))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:g.quantity,onChange:A=>x({...g,quantity:parseInt(A.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:g.notes,onChange:A=>x({...g,notes:A.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:T,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(wt,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:_,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(rc,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),O.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ml,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:R,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(A=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:A.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>M(A),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(zs,{size:16})}),o.jsx("button",{onClick:()=>D(A.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(kn,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:A.quantity})]}),A.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:A.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(A.created_at).toLocaleDateString()]})]}),A.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(A.part_data).map(([z,L])=>typeof L=="number"&&L>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(z)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[z,":"]}),o.jsx("span",{className:"font-medium",children:L})]},z):null)})})]},A.id))})]})}function Ore(){const[e,t]=v.useState([]),[r,n]=v.useState(!0),[i,s]=v.useState(""),[a,l]=v.useState("name"),[c,u]=v.useState("asc"),[d,f]=v.useState("grid"),[h,m]=v.useState(null),[p,y]=v.useState("lockchips"),[b,g]=v.useState(""),[x,w]=v.useState(""),j=["lockchips","blades (custom)","blades","ratchets","bits"];v.useEffect(()=>{S()},[]);const S=async()=>{n(!0);try{const[T,O,A,z,L]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]),F=[];(T.data||[]).forEach(I=>{F.push({id:`blade-${I.Blades}`,name:I.Blades,category:"Blade",role:I.Type,line:I.Line,stats:{attack:I.Attack||0,defense:I.Defense||0,stamina:I.Stamina||0,dash:0,burstRes:0},data:I})}),(O.data||[]).forEach(I=>{F.push({id:`ratchet-${I.Ratchet}`,name:I.Ratchet,category:"Ratchet",role:I.Type,stats:{attack:I.Attack||0,defense:I.Defense||0,stamina:I.Stamina||0,dash:0,burstRes:0},data:I})}),(A.data||[]).forEach(I=>{F.push({id:`bit-${I.Bit}`,name:`${I.Bit} (${I.Shortcut})`,category:"Bit",role:I.Type,stats:{attack:I.Attack||0,defense:I.Defense||0,stamina:I.Stamina||0,dash:I.Dash||0,burstRes:I["Burst Res"]||0},data:I})}),(z.data||[]).forEach(I=>{F.push({id:`lockchip-${I.Lockchip}`,name:I.Lockchip,category:"Lockchip",role:I.Type,stats:{attack:I.Attack||0,defense:I.Defense||0,stamina:I.Stamina||0,dash:0,burstRes:0},data:I})}),(L.data||[]).forEach(I=>{F.push({id:`assistblade-${I["Assist Blade"]}`,name:`${I["Assist Blade Name"]} (${I["Assist Blade"]})`,category:"Assist Blade",role:I.Type,stats:{attack:I.Attack||0,defense:I.Defense||0,stamina:I.Stamina||0,dash:0,burstRes:0},data:I})}),t(F)}catch(T){console.error("Error fetching parts:",T)}finally{n(!1)}},N=T=>{switch(T){case"attack":return o.jsx(Oc,{size:16,className:"text-red-500"});case"defense":return o.jsx(Es,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Gf,{size:16,className:"text-green-500"});case"dash":return o.jsx(Qa,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(q0,{size:16,className:"text-purple-500"});default:return null}},R=e.filter(T=>T.name.toLowerCase().includes(i.toLowerCase())).sort((T,O)=>{let A,z;return a==="name"?(A=T.name,z=O.name):a==="role"?(A=T.role||"",z=O.role||""):(A=T.stats[a],z=O.stats[a]),typeof A=="string"&&typeof z=="string"?c==="asc"?A.localeCompare(z):z.localeCompare(A):c==="asc"?A-z:z-A}).filter(T=>{var O,A,z;return p==="blades (custom)"?T.category==="Blade"&&((O=T.line)==null?void 0:O.toLowerCase())==="custom":p==="blades"?x?T.category==="Blade"&&((z=T.line)==null?void 0:z.toLowerCase())===x.toLowerCase():T.category==="Blade"&&["basic","unique","x-over"].includes(((A=T.line)==null?void 0:A.toLowerCase())||""):p==="lockchips"?T.category==="Lockchip":p==="ratchets"?T.category==="Ratchet":p==="bits"?T.category==="Bit":!0}).filter(T=>b?(T.role||"").toLowerCase()===b:!0),M={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},_=T=>{switch(T){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},D=T=>{const O=M[T.category]||"",A=_(T.category),z=encodeURIComponent(T.data[A]),L=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${O}/${z}.png`;return o.jsxs("div",{onClick:()=>m(T),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:L,alt:T.name,width:128,height:128,loading:"lazy",onError:F=>{const I=F.target,H=document.createElement("div");H.textContent="Picture Not Available",H.className="text-gray-400 text-xs text-center",I.replaceWith(H)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:T.name}),T.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:T.role})]}),T.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:T.line})]},T.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(VL,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(HL,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Ec,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:T=>s(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:b,onChange:T=>g(T.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:j.map(T=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${p===T?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>y(T),children:T},T))}),p==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:x,onChange:T=>w(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),R.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Wn,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:R.map(D)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(p==="bits"?["dash","burstRes"]:[]).map(T=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${T==="name"?"text-left":"text-center"}`,onClick:()=>{l(T),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:T}),o.jsx("span",{className:"w-4 inline-block",children:a===T&&(c==="asc"?"▲":"▼")})]})},T)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map(T=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:T.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:T.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:T.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:T.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:T.stats.stamina}),p==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:T.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:T.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m(T),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},T.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(wt,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([T])=>h.category==="Bit"?!0:!["dash","burstRes"].includes(T)).map(([T,O])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:N(T)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:T}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:O})]},T))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${M[h.category]}/${encodeURIComponent(h.data[_(h.category)])}.png`,alt:h.name,onError:T=>{const O=T.target,A=document.createElement("div");A.textContent="Picture Not Available",A.className="text-gray-400 text-sm text-center",O.replaceWith(A)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function Cre(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(At,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage competitive teams"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(At,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Create competitive teams, manage rosters, and coordinate team tournaments. Perfect for organizing group battles and team-based competitions."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(A2,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Creation"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Create teams with custom names, logos, and member roles"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(r3,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Member Management"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Add, remove, and assign roles to team members"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Es,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and participate in team-based competitions"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team creation and customization"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Member invitation system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team-based tournament registration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Role-based permissions"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Stay tuned for updates! This feature is in active development."})]})}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Md,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(JL,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Events"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(G0,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Md,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestions"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth analytics"]})]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function Tre(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Md,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Foster community engagement and build connections"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Md,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Foster community engagement, manage events, and build connections within the Beyblade community. Perfect for organizing social activities and community outreach programs."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Fi,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Event Planning"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Organize meetups, workshops, and social gatherings"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(G0,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Highlight achievements and celebrate milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(YL,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Outreach"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Connect with new players and grow the community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Yf,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Growth Analytics"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track community growth and engagement metrics"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community event planning and management"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Member spotlight and achievements system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion box"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Social media integration and sharing"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community growth and engagement analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Welcome program for new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"Building stronger communities together! This feature is in active development."})]})})]})})}function Mre(){const[e,t]=v.useState("dashboard"),[r,n]=v.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(Hj,{onViewChange:t});case"tournaments":return o.jsx(vz,{});case"inventory":return o.jsx(Are,{});case"analytics":return o.jsx(Sre,{});case"parts-database":return o.jsx(Ore,{});case"team-manager":return o.jsx(Cre,{});case"community-manager":return o.jsx(Tre,{});case"match-tracker":return o.jsx(Nre,{});case"tournament-manager":return o.jsx(Pre,{});case"user-management":return o.jsx(_re,{});case"database":return o.jsx(kre,{});default:return o.jsx(Hj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(XL,{size:24})}),o.jsx(s3,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function Rre(){return o.jsx(DL,{children:o.jsx($L,{children:o.jsx(Mre,{})})})}r2(document.getElementById("root")).render(o.jsx(v.StrictMode,{children:o.jsx(Rre,{})}));
