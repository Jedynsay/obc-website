var CD=Object.defineProperty;var TD=(e,t,r)=>t in e?CD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var tm=(e,t,r)=>TD(e,typeof t!="symbol"?t+"":t,r);function MD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ur=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function DD(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var O_={exports:{}},Nf={},A_={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xc=Symbol.for("react.element"),RD=Symbol.for("react.portal"),$D=Symbol.for("react.fragment"),ID=Symbol.for("react.strict_mode"),LD=Symbol.for("react.profiler"),BD=Symbol.for("react.provider"),FD=Symbol.for("react.context"),zD=Symbol.for("react.forward_ref"),UD=Symbol.for("react.suspense"),WD=Symbol.for("react.memo"),VD=Symbol.for("react.lazy"),Db=Symbol.iterator;function KD(e){return e===null||typeof e!="object"?null:(e=Db&&e[Db]||e["@@iterator"],typeof e=="function"?e:null)}var E_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C_=Object.assign,T_={};function go(e,t,r){this.props=e,this.context=t,this.refs=T_,this.updater=r||E_}go.prototype.isReactComponent={};go.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};go.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function M_(){}M_.prototype=go.prototype;function F0(e,t,r){this.props=e,this.context=t,this.refs=T_,this.updater=r||E_}var z0=F0.prototype=new M_;z0.constructor=F0;C_(z0,go.prototype);z0.isPureReactComponent=!0;var Rb=Array.isArray,D_=Object.prototype.hasOwnProperty,U0={current:null},R_={key:!0,ref:!0,__self:!0,__source:!0};function $_(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)D_.call(t,n)&&!R_.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:xc,type:e,key:s,ref:a,props:i,_owner:U0.current}}function qD(e,t){return{$$typeof:xc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function W0(e){return typeof e=="object"&&e!==null&&e.$$typeof===xc}function HD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $b=/\/+/g;function rm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HD(""+e.key):t.toString(36)}function Fu(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case xc:case RD:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+rm(a,0):n,Rb(i)?(r="",e!=null&&(r=e.replace($b,"$&/")+"/"),Fu(i,t,r,"",function(u){return u})):i!=null&&(W0(i)&&(i=qD(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($b,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Rb(e))for(var l=0;l<e.length;l++){s=e[l];var c=n+rm(s,l);a+=Fu(s,t,r,c,i)}else if(c=KD(e),typeof c=="function")for(e=c.call(e),l=0;!(s=e.next()).done;)s=s.value,c=n+rm(s,l++),a+=Fu(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Zc(e,t,r){if(e==null)return e;var n=[],i=0;return Fu(e,n,"","",function(s){return t.call(r,s,i++)}),n}function GD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},zu={transition:null},YD={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:zu,ReactCurrentOwner:U0};function I_(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Zc,forEach:function(e,t,r){Zc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Zc(e,function(){t++}),t},toArray:function(e){return Zc(e,function(t){return t})||[]},only:function(e){if(!W0(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xe.Component=go;xe.Fragment=$D;xe.Profiler=LD;xe.PureComponent=F0;xe.StrictMode=ID;xe.Suspense=UD;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YD;xe.act=I_;xe.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=C_({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=U0.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)D_.call(t,c)&&!R_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xc,type:e.type,key:i,ref:s,props:n,_owner:a}};xe.createContext=function(e){return e={$$typeof:FD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:BD,_context:e},e.Consumer=e};xe.createElement=$_;xe.createFactory=function(e){var t=$_.bind(null,e);return t.type=e,t};xe.createRef=function(){return{current:null}};xe.forwardRef=function(e){return{$$typeof:zD,render:e}};xe.isValidElement=W0;xe.lazy=function(e){return{$$typeof:VD,_payload:{_status:-1,_result:e},_init:GD}};xe.memo=function(e,t){return{$$typeof:WD,type:e,compare:t===void 0?null:t}};xe.startTransition=function(e){var t=zu.transition;zu.transition={};try{e()}finally{zu.transition=t}};xe.unstable_act=I_;xe.useCallback=function(e,t){return Xt.current.useCallback(e,t)};xe.useContext=function(e){return Xt.current.useContext(e)};xe.useDebugValue=function(){};xe.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};xe.useEffect=function(e,t){return Xt.current.useEffect(e,t)};xe.useId=function(){return Xt.current.useId()};xe.useImperativeHandle=function(e,t,r){return Xt.current.useImperativeHandle(e,t,r)};xe.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};xe.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};xe.useMemo=function(e,t){return Xt.current.useMemo(e,t)};xe.useReducer=function(e,t,r){return Xt.current.useReducer(e,t,r)};xe.useRef=function(e){return Xt.current.useRef(e)};xe.useState=function(e){return Xt.current.useState(e)};xe.useSyncExternalStore=function(e,t,r){return Xt.current.useSyncExternalStore(e,t,r)};xe.useTransition=function(){return Xt.current.useTransition()};xe.version="18.3.1";A_.exports=xe;var g=A_.exports;const Oi=Hr(g),XD=MD({__proto__:null,default:Oi},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JD=g,QD=Symbol.for("react.element"),ZD=Symbol.for("react.fragment"),eR=Object.prototype.hasOwnProperty,tR=JD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rR={key:!0,ref:!0,__self:!0,__source:!0};function L_(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)eR.call(t,n)&&!rR.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:QD,type:e,key:s,ref:a,props:i,_owner:tR.current}}Nf.Fragment=ZD;Nf.jsx=L_;Nf.jsxs=L_;O_.exports=Nf;var o=O_.exports,B_={exports:{}},Pr={},F_={exports:{}},z_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(I,k){var B=I.length;I.push(k);e:for(;0<B;){var J=B-1>>>1,D=I[J];if(0<i(D,k))I[J]=k,I[B]=D,B=J;else break e}}function r(I){return I.length===0?null:I[0]}function n(I){if(I.length===0)return null;var k=I[0],B=I.pop();if(B!==k){I[0]=B;e:for(var J=0,D=I.length,ee=D>>>1;J<ee;){var G=2*(J+1)-1,E=I[G],q=G+1,M=I[q];if(0>i(E,B))q<D&&0>i(M,E)?(I[J]=M,I[q]=B,J=q):(I[J]=E,I[G]=B,J=G);else if(q<D&&0>i(M,B))I[J]=M,I[q]=B,J=q;else break e}}return k}function i(I,k){var B=I.sortIndex-k.sortIndex;return B!==0?B:I.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(I){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=I)n(u),k.sortIndex=k.expirationTime,t(c,k);else break;k=r(u)}}function N(I){if(b=!1,y(I),!p)if(r(c)!==null)p=!0,O(j);else{var k=r(u);k!==null&&V(N,k.startTime-I)}}function j(I,k){p=!1,b&&(b=!1,v(_),_=-1),m=!0;var B=h;try{for(y(k),f=r(c);f!==null&&(!(f.expirationTime>k)||I&&!C());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var D=J(f.expirationTime<=k);k=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(c)&&n(c),y(k)}else n(c);f=r(c)}if(f!==null)var ee=!0;else{var G=r(u);G!==null&&V(N,G.startTime-k),ee=!1}return ee}finally{f=null,h=B,m=!1}}var S=!1,P=null,_=-1,A=5,z=-1;function C(){return!(e.unstable_now()-z<A)}function W(){if(P!==null){var I=e.unstable_now();z=I;var k=!0;try{k=P(!0,I)}finally{k?L():(S=!1,P=null)}}else S=!1}var L;if(typeof x=="function")L=function(){x(W)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,$=K.port2;K.port1.onmessage=W,L=function(){$.postMessage(null)}}else L=function(){w(W,0)};function O(I){P=I,S||(S=!0,L())}function V(I,k){_=w(function(){I(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(I){I.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,O(j))},e.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<I?Math.floor(1e3/I):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(I){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var B=h;h=k;try{return I()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(I,k){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var B=h;h=I;try{return k()}finally{h=B}},e.unstable_scheduleCallback=function(I,k,B){var J=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?J+B:J):B=J,I){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=B+D,I={id:d++,callback:k,priorityLevel:I,startTime:B,expirationTime:D,sortIndex:-1},B>J?(I.sortIndex=B,t(u,I),r(c)===null&&I===r(u)&&(b?(v(_),_=-1):b=!0,V(N,B-J))):(I.sortIndex=D,t(c,I),p||m||(p=!0,O(j))),I},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(I){var k=h;return function(){var B=h;h=k;try{return I.apply(this,arguments)}finally{h=B}}}})(z_);F_.exports=z_;var nR=F_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=g,wr=nR;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var U_=new Set,Ll={};function Ks(e,t){Ua(e,t),Ua(e+"Capture",t)}function Ua(e,t){for(Ll[e]=t,e=0;e<t.length;e++)U_.add(t[e])}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_p=Object.prototype.hasOwnProperty,sR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ib={},Lb={};function aR(e){return _p.call(Lb,e)?!0:_p.call(Ib,e)?!1:sR.test(e)?Lb[e]=!0:(Ib[e]=!0,!1)}function oR(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lR(e,t,r,n){if(t===null||typeof t>"u"||oR(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Jt(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Et[e]=new Jt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Et[t]=new Jt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Et[e]=new Jt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Et[e]=new Jt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Et[e]=new Jt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Et[e]=new Jt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Et[e]=new Jt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Et[e]=new Jt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Et[e]=new Jt(e,5,!1,e.toLowerCase(),null,!1,!1)});var V0=/[\-:]([a-z])/g;function K0(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(V0,K0);Et[t]=new Jt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(V0,K0);Et[t]=new Jt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(V0,K0);Et[t]=new Jt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Et[e]=new Jt(e,1,!1,e.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Jt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Et[e]=new Jt(e,1,!1,e.toLowerCase(),null,!0,!0)});function q0(e,t,r,n){var i=Et.hasOwnProperty(t)?Et[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lR(t,r,i,n)&&(r=null),n||i===null?aR(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ai=iR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,eu=Symbol.for("react.element"),ua=Symbol.for("react.portal"),da=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),W_=Symbol.for("react.provider"),V_=Symbol.for("react.context"),G0=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Op=Symbol.for("react.suspense_list"),Y0=Symbol.for("react.memo"),xi=Symbol.for("react.lazy"),K_=Symbol.for("react.offscreen"),Bb=Symbol.iterator;function Wo(e){return e===null||typeof e!="object"?null:(e=Bb&&e[Bb]||e["@@iterator"],typeof e=="function"?e:null)}var Ge=Object.assign,nm;function cl(e){if(nm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);nm=t&&t[1]||""}return`
`+nm+e}var im=!1;function sm(e,t){if(!e||im)return"";im=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{im=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?cl(e):""}function cR(e){switch(e.tag){case 5:return cl(e.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return e=sm(e.type,!1),e;case 11:return e=sm(e.type.render,!1),e;case 1:return e=sm(e.type,!0),e;default:return""}}function Ap(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case da:return"Fragment";case ua:return"Portal";case Pp:return"Profiler";case H0:return"StrictMode";case kp:return"Suspense";case Op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case V_:return(e.displayName||"Context")+".Consumer";case W_:return(e._context.displayName||"Context")+".Provider";case G0:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Y0:return t=e.displayName||null,t!==null?t:Ap(e.type)||"Memo";case xi:t=e._payload,e=e._init;try{return Ap(e(t))}catch{}}return null}function uR(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ap(t);case 8:return t===H0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function q_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dR(e){var t=q_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tu(e){e._valueTracker||(e._valueTracker=dR(e))}function H_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=q_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function sd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ep(e,t){var r=t.checked;return Ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Fb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bi(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function G_(e,t){t=t.checked,t!=null&&q0(e,"checked",t,!1)}function Cp(e,t){G_(e,t);var r=Bi(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tp(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tp(e,t.type,Bi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tp(e,t,r){(t!=="number"||sd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ul=Array.isArray;function Ta(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bi(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Mp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ub(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(ul(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bi(r)}}function Y_(e,t){var r=Bi(t.value),n=Bi(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Wb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function X_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?X_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ru,J_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ru.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fR=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(e){fR.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vl[t]=vl[e]})});function Q_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||vl.hasOwnProperty(e)&&vl[e]?(""+t).trim():t+"px"}function Z_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Q_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var hR=Ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rp(e,t){if(t){if(hR[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function $p(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ip=null;function X0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lp=null,Ma=null,Da=null;function Vb(e){if(e=jc(e)){if(typeof Lp!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=Of(t),Lp(e.stateNode,e.type,t))}}function eP(e){Ma?Da?Da.push(e):Da=[e]:Ma=e}function tP(){if(Ma){var e=Ma,t=Da;if(Da=Ma=null,Vb(e),t)for(e=0;e<t.length;e++)Vb(t[e])}}function rP(e,t){return e(t)}function nP(){}var am=!1;function iP(e,t,r){if(am)return e(t,r);am=!0;try{return rP(e,t,r)}finally{am=!1,(Ma!==null||Da!==null)&&(nP(),tP())}}function Fl(e,t){var r=e.stateNode;if(r===null)return null;var n=Of(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var Bp=!1;if(Gn)try{var Vo={};Object.defineProperty(Vo,"passive",{get:function(){Bp=!0}}),window.addEventListener("test",Vo,Vo),window.removeEventListener("test",Vo,Vo)}catch{Bp=!1}function mR(e,t,r,n,i,s,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xl=!1,ad=null,od=!1,Fp=null,pR={onError:function(e){xl=!0,ad=e}};function gR(e,t,r,n,i,s,a,l,c){xl=!1,ad=null,mR.apply(pR,arguments)}function yR(e,t,r,n,i,s,a,l,c){if(gR.apply(this,arguments),xl){if(xl){var u=ad;xl=!1,ad=null}else throw Error(Z(198));od||(od=!0,Fp=u)}}function qs(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function sP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kb(e){if(qs(e)!==e)throw Error(Z(188))}function vR(e){var t=e.alternate;if(!t){if(t=qs(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Kb(i),e;if(s===n)return Kb(i),t;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function aP(e){return e=vR(e),e!==null?oP(e):null}function oP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=oP(e);if(t!==null)return t;e=e.sibling}return null}var lP=wr.unstable_scheduleCallback,qb=wr.unstable_cancelCallback,xR=wr.unstable_shouldYield,bR=wr.unstable_requestPaint,it=wr.unstable_now,wR=wr.unstable_getCurrentPriorityLevel,J0=wr.unstable_ImmediatePriority,cP=wr.unstable_UserBlockingPriority,ld=wr.unstable_NormalPriority,jR=wr.unstable_LowPriority,uP=wr.unstable_IdlePriority,Sf=null,wn=null;function NR(e){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Sf,e,void 0,(e.current.flags&128)===128)}catch{}}var cn=Math.clz32?Math.clz32:PR,SR=Math.log,_R=Math.LN2;function PR(e){return e>>>=0,e===0?32:31-(SR(e)/_R|0)|0}var nu=64,iu=4194304;function dl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=dl(l):(s&=a,s!==0&&(n=dl(s)))}else a=r&~i,a!==0?n=dl(a):s!==0&&(n=dl(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-cn(t),i=1<<r,n|=e[r],t&=~i;return n}function kR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OR(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-cn(s),l=1<<a,c=i[a];c===-1?(!(l&r)||l&n)&&(i[a]=kR(l,t)):c<=t&&(e.expiredLanes|=l),s&=~l}}function zp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function dP(){var e=nu;return nu<<=1,!(nu&4194240)&&(nu=64),e}function om(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function bc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-cn(t),e[t]=r}function AR(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-cn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Q0(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-cn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Oe=0;function fP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hP,Z0,mP,pP,gP,Up=!1,su=[],Ai=null,Ei=null,Ci=null,zl=new Map,Ul=new Map,ji=[],ER="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hb(e,t){switch(e){case"focusin":case"focusout":Ai=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":zl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Ko(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=jc(t),t!==null&&Z0(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function CR(e,t,r,n,i){switch(t){case"focusin":return Ai=Ko(Ai,e,t,r,n,i),!0;case"dragenter":return Ei=Ko(Ei,e,t,r,n,i),!0;case"mouseover":return Ci=Ko(Ci,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return zl.set(s,Ko(zl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ul.set(s,Ko(Ul.get(s)||null,e,t,r,n,i)),!0}return!1}function yP(e){var t=gs(e.target);if(t!==null){var r=qs(t);if(r!==null){if(t=r.tag,t===13){if(t=sP(r),t!==null){e.blockedOn=t,gP(e.priority,function(){mP(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Uu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Ip=n,r.target.dispatchEvent(n),Ip=null}else return t=jc(r),t!==null&&Z0(t),e.blockedOn=r,!1;t.shift()}return!0}function Gb(e,t,r){Uu(e)&&r.delete(t)}function TR(){Up=!1,Ai!==null&&Uu(Ai)&&(Ai=null),Ei!==null&&Uu(Ei)&&(Ei=null),Ci!==null&&Uu(Ci)&&(Ci=null),zl.forEach(Gb),Ul.forEach(Gb)}function qo(e,t){e.blockedOn===t&&(e.blockedOn=null,Up||(Up=!0,wr.unstable_scheduleCallback(wr.unstable_NormalPriority,TR)))}function Wl(e){function t(i){return qo(i,e)}if(0<su.length){qo(su[0],e);for(var r=1;r<su.length;r++){var n=su[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ai!==null&&qo(Ai,e),Ei!==null&&qo(Ei,e),Ci!==null&&qo(Ci,e),zl.forEach(t),Ul.forEach(t),r=0;r<ji.length;r++)n=ji[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ji.length&&(r=ji[0],r.blockedOn===null);)yP(r),r.blockedOn===null&&ji.shift()}var Ra=ai.ReactCurrentBatchConfig,ud=!0;function MR(e,t,r,n){var i=Oe,s=Ra.transition;Ra.transition=null;try{Oe=1,ey(e,t,r,n)}finally{Oe=i,Ra.transition=s}}function DR(e,t,r,n){var i=Oe,s=Ra.transition;Ra.transition=null;try{Oe=4,ey(e,t,r,n)}finally{Oe=i,Ra.transition=s}}function ey(e,t,r,n){if(ud){var i=Wp(e,t,r,n);if(i===null)ym(e,t,n,dd,r),Hb(e,n);else if(CR(i,e,t,r,n))n.stopPropagation();else if(Hb(e,n),t&4&&-1<ER.indexOf(e)){for(;i!==null;){var s=jc(i);if(s!==null&&hP(s),s=Wp(e,t,r,n),s===null&&ym(e,t,n,dd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else ym(e,t,n,null,r)}}var dd=null;function Wp(e,t,r,n){if(dd=null,e=X0(n),e=gs(e),e!==null)if(t=qs(e),t===null)e=null;else if(r=t.tag,r===13){if(e=sP(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return dd=e,null}function vP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wR()){case J0:return 1;case cP:return 4;case ld:case jR:return 16;case uP:return 536870912;default:return 16}default:return 16}}var Pi=null,ty=null,Wu=null;function xP(){if(Wu)return Wu;var e,t=ty,r=t.length,n,i="value"in Pi?Pi.value:Pi.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Wu=i.slice(e,1<n?1-n:void 0)}function Vu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function au(){return!0}function Yb(){return!1}function kr(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?au:Yb,this.isPropagationStopped=Yb,this}return Ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),t}var yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ry=kr(yo),wc=Ge({},yo,{view:0,detail:0}),RR=kr(wc),lm,cm,Ho,_f=Ge({},wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ny,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ho&&(Ho&&e.type==="mousemove"?(lm=e.screenX-Ho.screenX,cm=e.screenY-Ho.screenY):cm=lm=0,Ho=e),lm)},movementY:function(e){return"movementY"in e?e.movementY:cm}}),Xb=kr(_f),$R=Ge({},_f,{dataTransfer:0}),IR=kr($R),LR=Ge({},wc,{relatedTarget:0}),um=kr(LR),BR=Ge({},yo,{animationName:0,elapsedTime:0,pseudoElement:0}),FR=kr(BR),zR=Ge({},yo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),UR=kr(zR),WR=Ge({},yo,{data:0}),Jb=kr(WR),VR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function HR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=qR[e])?!!t[e]:!1}function ny(){return HR}var GR=Ge({},wc,{key:function(e){if(e.key){var t=VR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?KR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ny,charCode:function(e){return e.type==="keypress"?Vu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),YR=kr(GR),XR=Ge({},_f,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qb=kr(XR),JR=Ge({},wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ny}),QR=kr(JR),ZR=Ge({},yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),e6=kr(ZR),t6=Ge({},_f,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),r6=kr(t6),n6=[9,13,27,32],iy=Gn&&"CompositionEvent"in window,bl=null;Gn&&"documentMode"in document&&(bl=document.documentMode);var i6=Gn&&"TextEvent"in window&&!bl,bP=Gn&&(!iy||bl&&8<bl&&11>=bl),Zb=" ",ew=!1;function wP(e,t){switch(e){case"keyup":return n6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function s6(e,t){switch(e){case"compositionend":return jP(t);case"keypress":return t.which!==32?null:(ew=!0,Zb);case"textInput":return e=t.data,e===Zb&&ew?null:e;default:return null}}function a6(e,t){if(fa)return e==="compositionend"||!iy&&wP(e,t)?(e=xP(),Wu=ty=Pi=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bP&&t.locale!=="ko"?null:t.data;default:return null}}var o6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function tw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!o6[e.type]:t==="textarea"}function NP(e,t,r,n){eP(n),t=fd(t,"onChange"),0<t.length&&(r=new ry("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var wl=null,Vl=null;function l6(e){DP(e,0)}function Pf(e){var t=pa(e);if(H_(t))return e}function c6(e,t){if(e==="change")return t}var SP=!1;if(Gn){var dm;if(Gn){var fm="oninput"in document;if(!fm){var rw=document.createElement("div");rw.setAttribute("oninput","return;"),fm=typeof rw.oninput=="function"}dm=fm}else dm=!1;SP=dm&&(!document.documentMode||9<document.documentMode)}function nw(){wl&&(wl.detachEvent("onpropertychange",_P),Vl=wl=null)}function _P(e){if(e.propertyName==="value"&&Pf(Vl)){var t=[];NP(t,Vl,e,X0(e)),iP(l6,t)}}function u6(e,t,r){e==="focusin"?(nw(),wl=t,Vl=r,wl.attachEvent("onpropertychange",_P)):e==="focusout"&&nw()}function d6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Pf(Vl)}function f6(e,t){if(e==="click")return Pf(t)}function h6(e,t){if(e==="input"||e==="change")return Pf(t)}function m6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dn=typeof Object.is=="function"?Object.is:m6;function Kl(e,t){if(dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!_p.call(t,i)||!dn(e[i],t[i]))return!1}return!0}function iw(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sw(e,t){var r=iw(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=iw(r)}}function PP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?PP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function kP(){for(var e=window,t=sd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=sd(e.document)}return t}function sy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function p6(e){var t=kP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&PP(r.ownerDocument.documentElement,r)){if(n!==null&&sy(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=sw(r,s);var a=sw(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var g6=Gn&&"documentMode"in document&&11>=document.documentMode,ha=null,Vp=null,jl=null,Kp=!1;function aw(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kp||ha==null||ha!==sd(n)||(n=ha,"selectionStart"in n&&sy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),jl&&Kl(jl,n)||(jl=n,n=fd(Vp,"onSelect"),0<n.length&&(t=new ry("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ha)))}function ou(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ma={animationend:ou("Animation","AnimationEnd"),animationiteration:ou("Animation","AnimationIteration"),animationstart:ou("Animation","AnimationStart"),transitionend:ou("Transition","TransitionEnd")},hm={},OP={};Gn&&(OP=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function kf(e){if(hm[e])return hm[e];if(!ma[e])return e;var t=ma[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in OP)return hm[e]=t[r];return e}var AP=kf("animationend"),EP=kf("animationiteration"),CP=kf("animationstart"),TP=kf("transitionend"),MP=new Map,ow="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ki(e,t){MP.set(e,t),Ks(t,[e])}for(var mm=0;mm<ow.length;mm++){var pm=ow[mm],y6=pm.toLowerCase(),v6=pm[0].toUpperCase()+pm.slice(1);Ki(y6,"on"+v6)}Ki(AP,"onAnimationEnd");Ki(EP,"onAnimationIteration");Ki(CP,"onAnimationStart");Ki("dblclick","onDoubleClick");Ki("focusin","onFocus");Ki("focusout","onBlur");Ki(TP,"onTransitionEnd");Ua("onMouseEnter",["mouseout","mouseover"]);Ua("onMouseLeave",["mouseout","mouseover"]);Ua("onPointerEnter",["pointerout","pointerover"]);Ua("onPointerLeave",["pointerout","pointerover"]);Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x6=new Set("cancel close invalid load scroll toggle".split(" ").concat(fl));function lw(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,yR(n,t,void 0,e),e.currentTarget=null}function DP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;lw(i,l,u),s=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;lw(i,l,u),s=c}}}if(od)throw e=Fp,od=!1,Fp=null,e}function Fe(e,t){var r=t[Xp];r===void 0&&(r=t[Xp]=new Set);var n=e+"__bubble";r.has(n)||(RP(t,e,2,!1),r.add(n))}function gm(e,t,r){var n=0;t&&(n|=4),RP(r,e,n,t)}var lu="_reactListening"+Math.random().toString(36).slice(2);function ql(e){if(!e[lu]){e[lu]=!0,U_.forEach(function(r){r!=="selectionchange"&&(x6.has(r)||gm(r,!1,e),gm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lu]||(t[lu]=!0,gm("selectionchange",!1,t))}}function RP(e,t,r,n){switch(vP(t)){case 1:var i=MR;break;case 4:i=DR;break;default:i=ey}r=i.bind(null,t,r,e),i=void 0,!Bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function ym(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;l!==null;){if(a=gs(l),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}l=l.parentNode}}n=n.return}iP(function(){var u=s,d=X0(r),f=[];e:{var h=MP.get(e);if(h!==void 0){var m=ry,p=e;switch(e){case"keypress":if(Vu(r)===0)break e;case"keydown":case"keyup":m=YR;break;case"focusin":p="focus",m=um;break;case"focusout":p="blur",m=um;break;case"beforeblur":case"afterblur":m=um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Xb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=IR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=QR;break;case AP:case EP:case CP:m=FR;break;case TP:m=e6;break;case"scroll":m=RR;break;case"wheel":m=r6;break;case"copy":case"cut":case"paste":m=UR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Qb}var b=(t&4)!==0,w=!b&&e==="scroll",v=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,y;x!==null;){y=x;var N=y.stateNode;if(y.tag===5&&N!==null&&(y=N,v!==null&&(N=Fl(x,v),N!=null&&b.push(Hl(x,N,y)))),w)break;x=x.return}0<b.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Ip&&(p=r.relatedTarget||r.fromElement)&&(gs(p)||p[Yn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?gs(p):null,p!==null&&(w=qs(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(b=Xb,N="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=Qb,N="onPointerLeave",v="onPointerEnter",x="pointer"),w=m==null?h:pa(m),y=p==null?h:pa(p),h=new b(N,x+"leave",m,r,d),h.target=w,h.relatedTarget=y,N=null,gs(d)===u&&(b=new b(v,x+"enter",p,r,d),b.target=y,b.relatedTarget=w,N=b),w=N,m&&p)t:{for(b=m,v=p,x=0,y=b;y;y=ea(y))x++;for(y=0,N=v;N;N=ea(N))y++;for(;0<x-y;)b=ea(b),x--;for(;0<y-x;)v=ea(v),y--;for(;x--;){if(b===v||v!==null&&b===v.alternate)break t;b=ea(b),v=ea(v)}b=null}else b=null;m!==null&&cw(f,h,m,b,!1),p!==null&&w!==null&&cw(f,w,p,b,!0)}}e:{if(h=u?pa(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=c6;else if(tw(h))if(SP)j=h6;else{j=d6;var S=u6}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=f6);if(j&&(j=j(e,u))){NP(f,j,r,d);break e}S&&S(e,h,u),e==="focusout"&&(S=h._wrapperState)&&S.controlled&&h.type==="number"&&Tp(h,"number",h.value)}switch(S=u?pa(u):window,e){case"focusin":(tw(S)||S.contentEditable==="true")&&(ha=S,Vp=u,jl=null);break;case"focusout":jl=Vp=ha=null;break;case"mousedown":Kp=!0;break;case"contextmenu":case"mouseup":case"dragend":Kp=!1,aw(f,r,d);break;case"selectionchange":if(g6)break;case"keydown":case"keyup":aw(f,r,d)}var P;if(iy)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else fa?wP(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&(bP&&r.locale!=="ko"&&(fa||_!=="onCompositionStart"?_==="onCompositionEnd"&&fa&&(P=xP()):(Pi=d,ty="value"in Pi?Pi.value:Pi.textContent,fa=!0)),S=fd(u,_),0<S.length&&(_=new Jb(_,e,null,r,d),f.push({event:_,listeners:S}),P?_.data=P:(P=jP(r),P!==null&&(_.data=P)))),(P=i6?s6(e,r):a6(e,r))&&(u=fd(u,"onBeforeInput"),0<u.length&&(d=new Jb("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=P))}DP(f,t)})}function Hl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function fd(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Fl(e,r),s!=null&&n.unshift(Hl(e,s,i)),s=Fl(e,t),s!=null&&n.push(Hl(e,s,i))),e=e.return}return n}function ea(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function cw(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,i?(c=Fl(r,s),c!=null&&a.unshift(Hl(r,c,l))):i||(c=Fl(r,s),c!=null&&a.push(Hl(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var b6=/\r\n?/g,w6=/\u0000|\uFFFD/g;function uw(e){return(typeof e=="string"?e:""+e).replace(b6,`
`).replace(w6,"")}function cu(e,t,r){if(t=uw(t),uw(e)!==t&&r)throw Error(Z(425))}function hd(){}var qp=null,Hp=null;function Gp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yp=typeof setTimeout=="function"?setTimeout:void 0,j6=typeof clearTimeout=="function"?clearTimeout:void 0,dw=typeof Promise=="function"?Promise:void 0,N6=typeof queueMicrotask=="function"?queueMicrotask:typeof dw<"u"?function(e){return dw.resolve(null).then(e).catch(S6)}:Yp;function S6(e){setTimeout(function(){throw e})}function vm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wl(t)}function Ti(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var vo=Math.random().toString(36).slice(2),gn="__reactFiber$"+vo,Gl="__reactProps$"+vo,Yn="__reactContainer$"+vo,Xp="__reactEvents$"+vo,_6="__reactListeners$"+vo,P6="__reactHandles$"+vo;function gs(e){var t=e[gn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yn]||r[gn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=fw(e);e!==null;){if(r=e[gn])return r;e=fw(e)}return t}e=r,r=e.parentNode}return null}function jc(e){return e=e[gn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function pa(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function Of(e){return e[Gl]||null}var Jp=[],ga=-1;function qi(e){return{current:e}}function Ue(e){0>ga||(e.current=Jp[ga],Jp[ga]=null,ga--)}function $e(e,t){ga++,Jp[ga]=e.current,e.current=t}var Fi={},Bt=qi(Fi),lr=qi(!1),$s=Fi;function Wa(e,t){var r=e.type.contextTypes;if(!r)return Fi;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function cr(e){return e=e.childContextTypes,e!=null}function md(){Ue(lr),Ue(Bt)}function hw(e,t,r){if(Bt.current!==Fi)throw Error(Z(168));$e(Bt,t),$e(lr,r)}function $P(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Z(108,uR(e)||"Unknown",i));return Ge({},r,n)}function pd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fi,$s=Bt.current,$e(Bt,e),$e(lr,lr.current),!0}function mw(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=$P(e,t,$s),n.__reactInternalMemoizedMergedChildContext=e,Ue(lr),Ue(Bt),$e(Bt,e)):Ue(lr),$e(lr,r)}var Ln=null,Af=!1,xm=!1;function IP(e){Ln===null?Ln=[e]:Ln.push(e)}function k6(e){Af=!0,IP(e)}function Hi(){if(!xm&&Ln!==null){xm=!0;var e=0,t=Oe;try{var r=Ln;for(Oe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ln=null,Af=!1}catch(i){throw Ln!==null&&(Ln=Ln.slice(e+1)),lP(J0,Hi),i}finally{Oe=t,xm=!1}}return null}var ya=[],va=0,gd=null,yd=0,$r=[],Ir=0,Is=null,Fn=1,zn="";function ls(e,t){ya[va++]=yd,ya[va++]=gd,gd=e,yd=t}function LP(e,t,r){$r[Ir++]=Fn,$r[Ir++]=zn,$r[Ir++]=Is,Is=e;var n=Fn;e=zn;var i=32-cn(n)-1;n&=~(1<<i),r+=1;var s=32-cn(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Fn=1<<32-cn(t)+i|r<<i|n,zn=s+e}else Fn=1<<s|r<<i|n,zn=e}function ay(e){e.return!==null&&(ls(e,1),LP(e,1,0))}function oy(e){for(;e===gd;)gd=ya[--va],ya[va]=null,yd=ya[--va],ya[va]=null;for(;e===Is;)Is=$r[--Ir],$r[Ir]=null,zn=$r[--Ir],$r[Ir]=null,Fn=$r[--Ir],$r[Ir]=null}var xr=null,vr=null,We=!1,sn=null;function BP(e,t){var r=Br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pw(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,xr=e,vr=Ti(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,xr=e,vr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Is!==null?{id:Fn,overflow:zn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,xr=e,vr=null,!0):!1;default:return!1}}function Qp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Zp(e){if(We){var t=vr;if(t){var r=t;if(!pw(e,t)){if(Qp(e))throw Error(Z(418));t=Ti(r.nextSibling);var n=xr;t&&pw(e,t)?BP(n,r):(e.flags=e.flags&-4097|2,We=!1,xr=e)}}else{if(Qp(e))throw Error(Z(418));e.flags=e.flags&-4097|2,We=!1,xr=e}}}function gw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;xr=e}function uu(e){if(e!==xr)return!1;if(!We)return gw(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gp(e.type,e.memoizedProps)),t&&(t=vr)){if(Qp(e))throw FP(),Error(Z(418));for(;t;)BP(e,t),t=Ti(t.nextSibling)}if(gw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vr=Ti(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vr=null}}else vr=xr?Ti(e.stateNode.nextSibling):null;return!0}function FP(){for(var e=vr;e;)e=Ti(e.nextSibling)}function Va(){vr=xr=null,We=!1}function ly(e){sn===null?sn=[e]:sn.push(e)}var O6=ai.ReactCurrentBatchConfig;function Go(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function du(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yw(e){var t=e._init;return t(e._payload)}function zP(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=$i(v,x),v.index=0,v.sibling=null,v}function s(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,x,y,N){return x===null||x.tag!==6?(x=Pm(y,v.mode,N),x.return=v,x):(x=i(x,y),x.return=v,x)}function c(v,x,y,N){var j=y.type;return j===da?d(v,x,y.props.children,N,y.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xi&&yw(j)===x.type)?(N=i(x,y.props),N.ref=Go(v,x,y),N.return=v,N):(N=Ju(y.type,y.key,y.props,null,v.mode,N),N.ref=Go(v,x,y),N.return=v,N)}function u(v,x,y,N){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=km(y,v.mode,N),x.return=v,x):(x=i(x,y.children||[]),x.return=v,x)}function d(v,x,y,N,j){return x===null||x.tag!==7?(x=ks(y,v.mode,N,j),x.return=v,x):(x=i(x,y),x.return=v,x)}function f(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pm(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case eu:return y=Ju(x.type,x.key,x.props,null,v.mode,y),y.ref=Go(v,null,x),y.return=v,y;case ua:return x=km(x,v.mode,y),x.return=v,x;case xi:var N=x._init;return f(v,N(x._payload),y)}if(ul(x)||Wo(x))return x=ks(x,v.mode,y,null),x.return=v,x;du(v,x)}return null}function h(v,x,y,N){var j=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(v,x,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case eu:return y.key===j?c(v,x,y,N):null;case ua:return y.key===j?u(v,x,y,N):null;case xi:return j=y._init,h(v,x,j(y._payload),N)}if(ul(y)||Wo(y))return j!==null?null:d(v,x,y,N,null);du(v,y)}return null}function m(v,x,y,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return v=v.get(y)||null,l(x,v,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case eu:return v=v.get(N.key===null?y:N.key)||null,c(x,v,N,j);case ua:return v=v.get(N.key===null?y:N.key)||null,u(x,v,N,j);case xi:var S=N._init;return m(v,x,y,S(N._payload),j)}if(ul(N)||Wo(N))return v=v.get(y)||null,d(x,v,N,j,null);du(x,N)}return null}function p(v,x,y,N){for(var j=null,S=null,P=x,_=x=0,A=null;P!==null&&_<y.length;_++){P.index>_?(A=P,P=null):A=P.sibling;var z=h(v,P,y[_],N);if(z===null){P===null&&(P=A);break}e&&P&&z.alternate===null&&t(v,P),x=s(z,x,_),S===null?j=z:S.sibling=z,S=z,P=A}if(_===y.length)return r(v,P),We&&ls(v,_),j;if(P===null){for(;_<y.length;_++)P=f(v,y[_],N),P!==null&&(x=s(P,x,_),S===null?j=P:S.sibling=P,S=P);return We&&ls(v,_),j}for(P=n(v,P);_<y.length;_++)A=m(P,v,_,y[_],N),A!==null&&(e&&A.alternate!==null&&P.delete(A.key===null?_:A.key),x=s(A,x,_),S===null?j=A:S.sibling=A,S=A);return e&&P.forEach(function(C){return t(v,C)}),We&&ls(v,_),j}function b(v,x,y,N){var j=Wo(y);if(typeof j!="function")throw Error(Z(150));if(y=j.call(y),y==null)throw Error(Z(151));for(var S=j=null,P=x,_=x=0,A=null,z=y.next();P!==null&&!z.done;_++,z=y.next()){P.index>_?(A=P,P=null):A=P.sibling;var C=h(v,P,z.value,N);if(C===null){P===null&&(P=A);break}e&&P&&C.alternate===null&&t(v,P),x=s(C,x,_),S===null?j=C:S.sibling=C,S=C,P=A}if(z.done)return r(v,P),We&&ls(v,_),j;if(P===null){for(;!z.done;_++,z=y.next())z=f(v,z.value,N),z!==null&&(x=s(z,x,_),S===null?j=z:S.sibling=z,S=z);return We&&ls(v,_),j}for(P=n(v,P);!z.done;_++,z=y.next())z=m(P,v,_,z.value,N),z!==null&&(e&&z.alternate!==null&&P.delete(z.key===null?_:z.key),x=s(z,x,_),S===null?j=z:S.sibling=z,S=z);return e&&P.forEach(function(W){return t(v,W)}),We&&ls(v,_),j}function w(v,x,y,N){if(typeof y=="object"&&y!==null&&y.type===da&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case eu:e:{for(var j=y.key,S=x;S!==null;){if(S.key===j){if(j=y.type,j===da){if(S.tag===7){r(v,S.sibling),x=i(S,y.props.children),x.return=v,v=x;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===xi&&yw(j)===S.type){r(v,S.sibling),x=i(S,y.props),x.ref=Go(v,S,y),x.return=v,v=x;break e}r(v,S);break}else t(v,S);S=S.sibling}y.type===da?(x=ks(y.props.children,v.mode,N,y.key),x.return=v,v=x):(N=Ju(y.type,y.key,y.props,null,v.mode,N),N.ref=Go(v,x,y),N.return=v,v=N)}return a(v);case ua:e:{for(S=y.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(v,x.sibling),x=i(x,y.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=km(y,v.mode,N),x.return=v,v=x}return a(v);case xi:return S=y._init,w(v,x,S(y._payload),N)}if(ul(y))return p(v,x,y,N);if(Wo(y))return b(v,x,y,N);du(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(v,x.sibling),x=i(x,y),x.return=v,v=x):(r(v,x),x=Pm(y,v.mode,N),x.return=v,v=x),a(v)):r(v,x)}return w}var Ka=zP(!0),UP=zP(!1),vd=qi(null),xd=null,xa=null,cy=null;function uy(){cy=xa=xd=null}function dy(e){var t=vd.current;Ue(vd),e._currentValue=t}function eg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $a(e,t){xd=e,cy=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(sr=!0),e.firstContext=null)}function Wr(e){var t=e._currentValue;if(cy!==e)if(e={context:e,memoizedValue:t,next:null},xa===null){if(xd===null)throw Error(Z(308));xa=e,xd.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return t}var ys=null;function fy(e){ys===null?ys=[e]:ys.push(e)}function WP(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,fy(t)):(r.next=i.next,i.next=r),t.interleaved=r,Xn(e,n)}function Xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var bi=!1;function hy(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mi(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,je&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Xn(e,r)}return i=n.interleaved,i===null?(t.next=t,fy(n)):(t.next=i.next,i.next=t),n.interleaved=t,Xn(e,r)}function Ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Q0(e,r)}}function vw(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bd(e,t,r,n){var i=e.updateQueue;bi=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?s=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;a=0,d=u=c=null,l=s;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,b=l;switch(h=t,m=r,b.tag){case 1:if(p=b.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=b.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Ge({},f,h);break e;case 2:bi=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;h=l,l=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Bs|=a,e.lanes=a,e.memoizedState=f}}function xw(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Nc={},jn=qi(Nc),Yl=qi(Nc),Xl=qi(Nc);function vs(e){if(e===Nc)throw Error(Z(174));return e}function my(e,t){switch($e(Xl,t),$e(Yl,e),$e(jn,Nc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Dp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Dp(t,e)}Ue(jn),$e(jn,t)}function qa(){Ue(jn),Ue(Yl),Ue(Xl)}function KP(e){vs(Xl.current);var t=vs(jn.current),r=Dp(t,e.type);t!==r&&($e(Yl,e),$e(jn,r))}function py(e){Yl.current===e&&(Ue(jn),Ue(Yl))}var Ke=qi(0);function wd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bm=[];function gy(){for(var e=0;e<bm.length;e++)bm[e]._workInProgressVersionPrimary=null;bm.length=0}var qu=ai.ReactCurrentDispatcher,wm=ai.ReactCurrentBatchConfig,Ls=0,He=null,ft=null,jt=null,jd=!1,Nl=!1,Jl=0,A6=0;function Ct(){throw Error(Z(321))}function yy(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!dn(e[r],t[r]))return!1;return!0}function vy(e,t,r,n,i,s){if(Ls=s,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,qu.current=e===null||e.memoizedState===null?M6:D6,e=r(n,i),Nl){s=0;do{if(Nl=!1,Jl=0,25<=s)throw Error(Z(301));s+=1,jt=ft=null,t.updateQueue=null,qu.current=R6,e=r(n,i)}while(Nl)}if(qu.current=Nd,t=ft!==null&&ft.next!==null,Ls=0,jt=ft=He=null,jd=!1,t)throw Error(Z(300));return e}function xy(){var e=Jl!==0;return Jl=0,e}function pn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jt===null?He.memoizedState=jt=e:jt=jt.next=e,jt}function Vr(){if(ft===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=ft.next;var t=jt===null?He.memoizedState:jt.next;if(t!==null)jt=t,ft=e;else{if(e===null)throw Error(Z(310));ft=e,e={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},jt===null?He.memoizedState=jt=e:jt=jt.next=e}return jt}function Ql(e,t){return typeof t=="function"?t(e):t}function jm(e){var t=Vr(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=ft,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,c=null,u=s;do{var d=u.lane;if((Ls&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,He.lanes|=d,Bs|=d}u=u.next}while(u!==null&&u!==s);c===null?a=n:c.next=l,dn(n,t.memoizedState)||(sr=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,He.lanes|=s,Bs|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Nm(e){var t=Vr(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);dn(s,t.memoizedState)||(sr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function qP(){}function HP(e,t){var r=He,n=Vr(),i=t(),s=!dn(n.memoizedState,i);if(s&&(n.memoizedState=i,sr=!0),n=n.queue,by(XP.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||jt!==null&&jt.memoizedState.tag&1){if(r.flags|=2048,Zl(9,YP.bind(null,r,n,i,t),void 0,null),St===null)throw Error(Z(349));Ls&30||GP(r,t,i)}return i}function GP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function YP(e,t,r,n){t.value=r,t.getSnapshot=n,JP(t)&&QP(e)}function XP(e,t,r){return r(function(){JP(t)&&QP(e)})}function JP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!dn(e,r)}catch{return!0}}function QP(e){var t=Xn(e,1);t!==null&&un(t,e,1,-1)}function bw(e){var t=pn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ql,lastRenderedState:e},t.queue=e,e=e.dispatch=T6.bind(null,He,e),[t.memoizedState,e]}function Zl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ZP(){return Vr().memoizedState}function Hu(e,t,r,n){var i=pn();He.flags|=e,i.memoizedState=Zl(1|t,r,void 0,n===void 0?null:n)}function Ef(e,t,r,n){var i=Vr();n=n===void 0?null:n;var s=void 0;if(ft!==null){var a=ft.memoizedState;if(s=a.destroy,n!==null&&yy(n,a.deps)){i.memoizedState=Zl(t,r,s,n);return}}He.flags|=e,i.memoizedState=Zl(1|t,r,s,n)}function ww(e,t){return Hu(8390656,8,e,t)}function by(e,t){return Ef(2048,8,e,t)}function ek(e,t){return Ef(4,2,e,t)}function tk(e,t){return Ef(4,4,e,t)}function rk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nk(e,t,r){return r=r!=null?r.concat([e]):null,Ef(4,4,rk.bind(null,t,e),r)}function wy(){}function ik(e,t){var r=Vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yy(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function sk(e,t){var r=Vr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&yy(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ak(e,t,r){return Ls&21?(dn(r,t)||(r=dP(),He.lanes|=r,Bs|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=r)}function E6(e,t){var r=Oe;Oe=r!==0&&4>r?r:4,e(!0);var n=wm.transition;wm.transition={};try{e(!1),t()}finally{Oe=r,wm.transition=n}}function ok(){return Vr().memoizedState}function C6(e,t,r){var n=Ri(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lk(e))ck(t,r);else if(r=WP(e,t,r,n),r!==null){var i=Gt();un(r,e,n,i),uk(r,t,n)}}function T6(e,t,r){var n=Ri(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lk(e))ck(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,dn(l,a)){var c=t.interleaved;c===null?(i.next=i,fy(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=WP(e,t,i,n),r!==null&&(i=Gt(),un(r,e,n,i),uk(r,t,n))}}function lk(e){var t=e.alternate;return e===He||t!==null&&t===He}function ck(e,t){Nl=jd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function uk(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Q0(e,r)}}var Nd={readContext:Wr,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useInsertionEffect:Ct,useLayoutEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useMutableSource:Ct,useSyncExternalStore:Ct,useId:Ct,unstable_isNewReconciler:!1},M6={readContext:Wr,useCallback:function(e,t){return pn().memoizedState=[e,t===void 0?null:t],e},useContext:Wr,useEffect:ww,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Hu(4194308,4,rk.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Hu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hu(4,2,e,t)},useMemo:function(e,t){var r=pn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=pn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=C6.bind(null,He,e),[n.memoizedState,e]},useRef:function(e){var t=pn();return e={current:e},t.memoizedState=e},useState:bw,useDebugValue:wy,useDeferredValue:function(e){return pn().memoizedState=e},useTransition:function(){var e=bw(!1),t=e[0];return e=E6.bind(null,e[1]),pn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=He,i=pn();if(We){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),St===null)throw Error(Z(349));Ls&30||GP(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,ww(XP.bind(null,n,s,e),[e]),n.flags|=2048,Zl(9,YP.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=pn(),t=St.identifierPrefix;if(We){var r=zn,n=Fn;r=(n&~(1<<32-cn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=A6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},D6={readContext:Wr,useCallback:ik,useContext:Wr,useEffect:by,useImperativeHandle:nk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:sk,useReducer:jm,useRef:ZP,useState:function(){return jm(Ql)},useDebugValue:wy,useDeferredValue:function(e){var t=Vr();return ak(t,ft.memoizedState,e)},useTransition:function(){var e=jm(Ql)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:qP,useSyncExternalStore:HP,useId:ok,unstable_isNewReconciler:!1},R6={readContext:Wr,useCallback:ik,useContext:Wr,useEffect:by,useImperativeHandle:nk,useInsertionEffect:ek,useLayoutEffect:tk,useMemo:sk,useReducer:Nm,useRef:ZP,useState:function(){return Nm(Ql)},useDebugValue:wy,useDeferredValue:function(e){var t=Vr();return ft===null?t.memoizedState=e:ak(t,ft.memoizedState,e)},useTransition:function(){var e=Nm(Ql)[0],t=Vr().memoizedState;return[e,t]},useMutableSource:qP,useSyncExternalStore:HP,useId:ok,unstable_isNewReconciler:!1};function tn(e,t){if(e&&e.defaultProps){t=Ge({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function tg(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ge({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Cf={isMounted:function(e){return(e=e._reactInternals)?qs(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Ri(e),s=Vn(n,i);s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,i),t!==null&&(un(t,e,i,n),Ku(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Gt(),i=Ri(e),s=Vn(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Mi(e,s,i),t!==null&&(un(t,e,i,n),Ku(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Gt(),n=Ri(e),i=Vn(r,n);i.tag=2,t!=null&&(i.callback=t),t=Mi(e,i,n),t!==null&&(un(t,e,n,r),Ku(t,e,n))}};function jw(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!Kl(r,n)||!Kl(i,s):!0}function dk(e,t,r){var n=!1,i=Fi,s=t.contextType;return typeof s=="object"&&s!==null?s=Wr(s):(i=cr(t)?$s:Bt.current,n=t.contextTypes,s=(n=n!=null)?Wa(e,i):Fi),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Cf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Nw(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Cf.enqueueReplaceState(t,t.state,null)}function rg(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},hy(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wr(s):(s=cr(t)?$s:Bt.current,i.context=Wa(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(tg(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Cf.enqueueReplaceState(i,i.state,null),bd(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Ha(e,t){try{var r="",n=t;do r+=cR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Sm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ng(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $6=typeof WeakMap=="function"?WeakMap:Map;function fk(e,t,r){r=Vn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){_d||(_d=!0,hg=n),ng(e,t)},r}function hk(e,t,r){r=Vn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ng(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ng(e,t),typeof n!="function"&&(Di===null?Di=new Set([this]):Di.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Sw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $6;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=X6.bind(null,e,t,r),t.then(e,e))}function _w(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pw(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Vn(-1,1),t.tag=2,Mi(r,t,1))),r.lanes|=1),e)}var I6=ai.ReactCurrentOwner,sr=!1;function Vt(e,t,r,n){t.child=e===null?UP(t,null,r,n):Ka(t,e.child,r,n)}function kw(e,t,r,n,i){r=r.render;var s=t.ref;return $a(t,i),n=vy(e,t,r,n,s,i),r=xy(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jn(e,t,i)):(We&&r&&ay(t),t.flags|=1,Vt(e,t,n,i),t.child)}function Ow(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Ay(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,mk(e,t,s,n,i)):(e=Ju(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Kl,r(a,n)&&e.ref===t.ref)return Jn(e,t,i)}return t.flags|=1,e=$i(s,n),e.ref=t.ref,e.return=t,t.child=e}function mk(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Kl(s,n)&&e.ref===t.ref)if(sr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(sr=!0);else return t.lanes=e.lanes,Jn(e,t,i)}return ig(e,t,r,n,i)}function pk(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(wa,gr),gr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(wa,gr),gr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,$e(wa,gr),gr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,$e(wa,gr),gr|=n;return Vt(e,t,i,r),t.child}function gk(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ig(e,t,r,n,i){var s=cr(r)?$s:Bt.current;return s=Wa(t,s),$a(t,i),r=vy(e,t,r,n,s,i),n=xy(),e!==null&&!sr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Jn(e,t,i)):(We&&n&&ay(t),t.flags|=1,Vt(e,t,r,i),t.child)}function Aw(e,t,r,n,i){if(cr(r)){var s=!0;pd(t)}else s=!1;if($a(t,i),t.stateNode===null)Gu(e,t),dk(t,r,n),rg(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=cr(r)?$s:Bt.current,u=Wa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Nw(t,a,n,u),bi=!1;var h=t.memoizedState;a.state=h,bd(t,n,a,i),c=t.memoizedState,l!==n||h!==c||lr.current||bi?(typeof d=="function"&&(tg(t,r,d,n),c=t.memoizedState),(l=bi||jw(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,VP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:tn(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wr(c):(c=cr(r)?$s:Bt.current,c=Wa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&Nw(t,a,n,c),bi=!1,h=t.memoizedState,a.state=h,bd(t,n,a,i);var p=t.memoizedState;l!==f||h!==p||lr.current||bi?(typeof m=="function"&&(tg(t,r,m,n),p=t.memoizedState),(u=bi||jw(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return sg(e,t,r,n,s,i)}function sg(e,t,r,n,i,s){gk(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&mw(t,r,!1),Jn(e,t,s);n=t.stateNode,I6.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Ka(t,e.child,null,s),t.child=Ka(t,null,l,s)):Vt(e,t,l,s),t.memoizedState=n.state,i&&mw(t,r,!0),t.child}function yk(e){var t=e.stateNode;t.pendingContext?hw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hw(e,t.context,!1),my(e,t.containerInfo)}function Ew(e,t,r,n,i){return Va(),ly(i),t.flags|=256,Vt(e,t,r,n),t.child}var ag={dehydrated:null,treeContext:null,retryLane:0};function og(e){return{baseLanes:e,cachePool:null,transitions:null}}function vk(e,t,r){var n=t.pendingProps,i=Ke.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),$e(Ke,i&1),e===null)return Zp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Df(a,n,0,null),e=ks(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=og(r),t.memoizedState=ag,e):jy(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return L6(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=$i(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=$i(l,s):(s=ks(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?og(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=ag,n}return s=e.child,e=s.sibling,n=$i(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function jy(e,t){return t=Df({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function fu(e,t,r,n){return n!==null&&ly(n),Ka(t,e.child,null,r),e=jy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function L6(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=Sm(Error(Z(422))),fu(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Df({mode:"visible",children:n.children},i,0,null),s=ks(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&Ka(t,e.child,null,a),t.child.memoizedState=og(a),t.memoizedState=ag,s);if(!(t.mode&1))return fu(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Z(419)),n=Sm(s,n,void 0),fu(e,t,a,n)}if(l=(a&e.childLanes)!==0,sr||l){if(n=St,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xn(e,i),un(n,e,i,-1))}return Oy(),n=Sm(Error(Z(421))),fu(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=J6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,vr=Ti(i.nextSibling),xr=t,We=!0,sn=null,e!==null&&($r[Ir++]=Fn,$r[Ir++]=zn,$r[Ir++]=Is,Fn=e.id,zn=e.overflow,Is=t),t=jy(t,n.children),t.flags|=4096,t)}function Cw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),eg(e.return,t,r)}function _m(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function xk(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Vt(e,t,n.children,r),n=Ke.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cw(e,r,t);else if(e.tag===19)Cw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if($e(Ke,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&wd(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),_m(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&wd(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}_m(t,!0,r,null,s);break;case"together":_m(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gu(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Bs|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=$i(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=$i(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B6(e,t,r){switch(t.tag){case 3:yk(t),Va();break;case 5:KP(t);break;case 1:cr(t.type)&&pd(t);break;case 4:my(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;$e(vd,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?($e(Ke,Ke.current&1),t.flags|=128,null):r&t.child.childLanes?vk(e,t,r):($e(Ke,Ke.current&1),e=Jn(e,t,r),e!==null?e.sibling:null);$e(Ke,Ke.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return xk(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ke,Ke.current),n)break;return null;case 22:case 23:return t.lanes=0,pk(e,t,r)}return Jn(e,t,r)}var bk,lg,wk,jk;bk=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};lg=function(){};wk=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,vs(jn.current);var s=null;switch(r){case"input":i=Ep(e,i),n=Ep(e,n),s=[];break;case"select":i=Ge({},i,{value:void 0}),n=Ge({},n,{value:void 0}),s=[];break;case"textarea":i=Mp(e,i),n=Mp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hd)}Rp(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var c=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Fe("scroll",e),s||l===c||(s=[])):(s=s||[]).push(u,c))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};jk=function(e,t,r,n){r!==n&&(t.flags|=4)};function Yo(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function F6(e,t,r){var n=t.pendingProps;switch(oy(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tt(t),null;case 1:return cr(t.type)&&md(),Tt(t),null;case 3:return n=t.stateNode,qa(),Ue(lr),Ue(Bt),gy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(uu(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,sn!==null&&(gg(sn),sn=null))),lg(e,t),Tt(t),null;case 5:py(t);var i=vs(Xl.current);if(r=t.type,e!==null&&t.stateNode!=null)wk(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return Tt(t),null}if(e=vs(jn.current),uu(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[gn]=t,n[Gl]=s,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(i=0;i<fl.length;i++)Fe(fl[i],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":Fb(n,s),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fe("invalid",n);break;case"textarea":Ub(n,s),Fe("invalid",n)}Rp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&cu(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&cu(n.textContent,l,e),i=["children",""+l]):Ll.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Fe("scroll",n)}switch(r){case"input":tu(n),zb(n,s,!0);break;case"textarea":tu(n),Wb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=hd)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=X_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[gn]=t,e[Gl]=n,bk(e,t,!1,!1),t.stateNode=e;e:{switch(a=$p(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),i=n;break;case"iframe":case"object":case"embed":Fe("load",e),i=n;break;case"video":case"audio":for(i=0;i<fl.length;i++)Fe(fl[i],e);i=n;break;case"source":Fe("error",e),i=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=n;break;case"details":Fe("toggle",e),i=n;break;case"input":Fb(e,n),i=Ep(e,n),Fe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ge({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":Ub(e,n),i=Mp(e,n),Fe("invalid",e);break;default:i=n}Rp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?Z_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&J_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ll.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Fe("scroll",e):c!=null&&q0(e,s,c,a))}switch(r){case"input":tu(e),zb(e,n,!1);break;case"textarea":tu(e),Wb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bi(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?Ta(e,!!n.multiple,s,!1):n.defaultValue!=null&&Ta(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Tt(t),null;case 6:if(e&&t.stateNode!=null)jk(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=vs(Xl.current),vs(jn.current),uu(t)){if(n=t.stateNode,r=t.memoizedProps,n[gn]=t,(s=n.nodeValue!==r)&&(e=xr,e!==null))switch(e.tag){case 3:cu(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cu(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[gn]=t,t.stateNode=n}return Tt(t),null;case 13:if(Ue(Ke),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&vr!==null&&t.mode&1&&!(t.flags&128))FP(),Va(),t.flags|=98560,s=!1;else if(s=uu(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[gn]=t}else Va(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Tt(t),s=!1}else sn!==null&&(gg(sn),sn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ke.current&1?ht===0&&(ht=3):Oy())),t.updateQueue!==null&&(t.flags|=4),Tt(t),null);case 4:return qa(),lg(e,t),e===null&&ql(t.stateNode.containerInfo),Tt(t),null;case 10:return dy(t.type._context),Tt(t),null;case 17:return cr(t.type)&&md(),Tt(t),null;case 19:if(Ue(Ke),s=t.memoizedState,s===null)return Tt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Yo(s,!1);else{if(ht!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=wd(e),a!==null){for(t.flags|=128,Yo(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return $e(Ke,Ke.current&1|2),t.child}e=e.sibling}s.tail!==null&&it()>Ga&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304)}else{if(!n)if(e=wd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Yo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!We)return Tt(t),null}else 2*it()-s.renderingStartTime>Ga&&r!==1073741824&&(t.flags|=128,n=!0,Yo(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,r=Ke.current,$e(Ke,n?r&1|2:r&1),t):(Tt(t),null);case 22:case 23:return ky(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gr&1073741824&&(Tt(t),t.subtreeFlags&6&&(t.flags|=8192)):Tt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function z6(e,t){switch(oy(t),t.tag){case 1:return cr(t.type)&&md(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qa(),Ue(lr),Ue(Bt),gy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return py(t),null;case 13:if(Ue(Ke),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Va()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(Ke),null;case 4:return qa(),null;case 10:return dy(t.type._context),null;case 22:case 23:return ky(),null;case 24:return null;default:return null}}var hu=!1,Rt=!1,U6=typeof WeakSet=="function"?WeakSet:Set,ae=null;function ba(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(e,t,n)}else r.current=null}function cg(e,t,r){try{r()}catch(n){Ze(e,t,n)}}var Tw=!1;function W6(e,t){if(qp=ud,e=kP(),sy(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(l=a+i),f!==s||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===i&&(l=a),h===s&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Hp={focusedElem:e,selectionRange:r},ud=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var b=p.memoizedProps,w=p.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?b:tn(t.type,b),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(N){Ze(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return p=Tw,Tw=!1,p}function Sl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&cg(t,r,s)}i=i.next}while(i!==n)}}function Tf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ug(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Nk(e){var t=e.alternate;t!==null&&(e.alternate=null,Nk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gn],delete t[Gl],delete t[Xp],delete t[_6],delete t[P6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sk(e){return e.tag===5||e.tag===3||e.tag===4}function Mw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hd));else if(n!==4&&(e=e.child,e!==null))for(dg(e,t,r),e=e.sibling;e!==null;)dg(e,t,r),e=e.sibling}function fg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fg(e,t,r),e=e.sibling;e!==null;)fg(e,t,r),e=e.sibling}var kt=null,rn=!1;function fi(e,t,r){for(r=r.child;r!==null;)_k(e,t,r),r=r.sibling}function _k(e,t,r){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Sf,r)}catch{}switch(r.tag){case 5:Rt||ba(r,t);case 6:var n=kt,i=rn;kt=null,fi(e,t,r),kt=n,rn=i,kt!==null&&(rn?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(rn?(e=kt,r=r.stateNode,e.nodeType===8?vm(e.parentNode,r):e.nodeType===1&&vm(e,r),Wl(e)):vm(kt,r.stateNode));break;case 4:n=kt,i=rn,kt=r.stateNode.containerInfo,rn=!0,fi(e,t,r),kt=n,rn=i;break;case 0:case 11:case 14:case 15:if(!Rt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&cg(r,t,a),i=i.next}while(i!==n)}fi(e,t,r);break;case 1:if(!Rt&&(ba(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ze(r,t,l)}fi(e,t,r);break;case 21:fi(e,t,r);break;case 22:r.mode&1?(Rt=(n=Rt)||r.memoizedState!==null,fi(e,t,r),Rt=n):fi(e,t,r);break;default:fi(e,t,r)}}function Dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new U6),t.forEach(function(n){var i=Q6.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,rn=!1;break e;case 3:kt=l.stateNode.containerInfo,rn=!0;break e;case 4:kt=l.stateNode.containerInfo,rn=!0;break e}l=l.return}if(kt===null)throw Error(Z(160));_k(s,a,i),kt=null,rn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ze(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Pk(t,e),t=t.sibling}function Pk(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qr(t,e),mn(e),n&4){try{Sl(3,e,e.return),Tf(3,e)}catch(b){Ze(e,e.return,b)}try{Sl(5,e,e.return)}catch(b){Ze(e,e.return,b)}}break;case 1:Qr(t,e),mn(e),n&512&&r!==null&&ba(r,r.return);break;case 5:if(Qr(t,e),mn(e),n&512&&r!==null&&ba(r,r.return),e.flags&32){var i=e.stateNode;try{Bl(i,"")}catch(b){Ze(e,e.return,b)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&G_(i,s),$p(l,a);var u=$p(l,s);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?Z_(i,f):d==="dangerouslySetInnerHTML"?J_(i,f):d==="children"?Bl(i,f):q0(i,d,f,u)}switch(l){case"input":Cp(i,s);break;case"textarea":Y_(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Ta(i,!!s.multiple,m,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ta(i,!!s.multiple,s.defaultValue,!0):Ta(i,!!s.multiple,s.multiple?[]:"",!1))}i[Gl]=s}catch(b){Ze(e,e.return,b)}}break;case 6:if(Qr(t,e),mn(e),n&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(b){Ze(e,e.return,b)}}break;case 3:if(Qr(t,e),mn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(b){Ze(e,e.return,b)}break;case 4:Qr(t,e),mn(e);break;case 13:Qr(t,e),mn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_y=it())),n&4&&Dw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Rt=(u=Rt)||d,Qr(t,e),Rt=u):Qr(t,e),mn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ae=e,d=e.child;d!==null;){for(f=ae=d;ae!==null;){switch(h=ae,m=h.child,h.tag){case 0:case 11:case 14:case 15:Sl(4,h,h.return);break;case 1:ba(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(b){Ze(n,r,b)}}break;case 5:ba(h,h.return);break;case 22:if(h.memoizedState!==null){$w(f);continue}}m!==null?(m.return=h,ae=m):$w(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Q_("display",a))}catch(b){Ze(e,e.return,b)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Ze(e,e.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qr(t,e),mn(e),n&4&&Dw(e);break;case 21:break;default:Qr(t,e),mn(e)}}function mn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Sk(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bl(i,""),n.flags&=-33);var s=Mw(e);fg(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Mw(e);dg(e,l,a);break;default:throw Error(Z(161))}}catch(c){Ze(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function V6(e,t,r){ae=e,kk(e)}function kk(e,t,r){for(var n=(e.mode&1)!==0;ae!==null;){var i=ae,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||hu;if(!a){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Rt;l=hu;var u=Rt;if(hu=a,(Rt=c)&&!u)for(ae=i;ae!==null;)a=ae,c=a.child,a.tag===22&&a.memoizedState!==null?Iw(i):c!==null?(c.return=a,ae=c):Iw(i);for(;s!==null;)ae=s,kk(s),s=s.sibling;ae=i,hu=l,Rt=u}Rw(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ae=s):Rw(e)}}function Rw(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rt||Tf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rt)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:tn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&xw(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xw(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Wl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Rt||t.flags&512&&ug(t)}catch(h){Ze(t,t.return,h)}}if(t===e){ae=null;break}if(r=t.sibling,r!==null){r.return=t.return,ae=r;break}ae=t.return}}function $w(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ae=r;break}ae=t.return}}function Iw(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Tf(4,t)}catch(c){Ze(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){Ze(t,i,c)}}var s=t.return;try{ug(t)}catch(c){Ze(t,s,c)}break;case 5:var a=t.return;try{ug(t)}catch(c){Ze(t,a,c)}}}catch(c){Ze(t,t.return,c)}if(t===e){ae=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ae=l;break}ae=t.return}}var K6=Math.ceil,Sd=ai.ReactCurrentDispatcher,Ny=ai.ReactCurrentOwner,zr=ai.ReactCurrentBatchConfig,je=0,St=null,lt=null,At=0,gr=0,wa=qi(0),ht=0,ec=null,Bs=0,Mf=0,Sy=0,_l=null,rr=null,_y=0,Ga=1/0,Rn=null,_d=!1,hg=null,Di=null,mu=!1,ki=null,Pd=0,Pl=0,mg=null,Yu=-1,Xu=0;function Gt(){return je&6?it():Yu!==-1?Yu:Yu=it()}function Ri(e){return e.mode&1?je&2&&At!==0?At&-At:O6.transition!==null?(Xu===0&&(Xu=dP()),Xu):(e=Oe,e!==0||(e=window.event,e=e===void 0?16:vP(e.type)),e):1}function un(e,t,r,n){if(50<Pl)throw Pl=0,mg=null,Error(Z(185));bc(e,r,n),(!(je&2)||e!==St)&&(e===St&&(!(je&2)&&(Mf|=r),ht===4&&Ni(e,At)),ur(e,n),r===1&&je===0&&!(t.mode&1)&&(Ga=it()+500,Af&&Hi()))}function ur(e,t){var r=e.callbackNode;OR(e,t);var n=cd(e,e===St?At:0);if(n===0)r!==null&&qb(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&qb(r),t===1)e.tag===0?k6(Lw.bind(null,e)):IP(Lw.bind(null,e)),N6(function(){!(je&6)&&Hi()}),r=null;else{switch(fP(n)){case 1:r=J0;break;case 4:r=cP;break;case 16:r=ld;break;case 536870912:r=uP;break;default:r=ld}r=Rk(r,Ok.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Ok(e,t){if(Yu=-1,Xu=0,je&6)throw Error(Z(327));var r=e.callbackNode;if(Ia()&&e.callbackNode!==r)return null;var n=cd(e,e===St?At:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kd(e,n);else{t=n;var i=je;je|=2;var s=Ek();(St!==e||At!==t)&&(Rn=null,Ga=it()+500,Ps(e,t));do try{G6();break}catch(l){Ak(e,l)}while(!0);uy(),Sd.current=s,je=i,lt!==null?t=0:(St=null,At=0,t=ht)}if(t!==0){if(t===2&&(i=zp(e),i!==0&&(n=i,t=pg(e,i))),t===1)throw r=ec,Ps(e,0),Ni(e,n),ur(e,it()),r;if(t===6)Ni(e,n);else{if(i=e.current.alternate,!(n&30)&&!q6(i)&&(t=kd(e,n),t===2&&(s=zp(e),s!==0&&(n=s,t=pg(e,s))),t===1))throw r=ec,Ps(e,0),Ni(e,n),ur(e,it()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:cs(e,rr,Rn);break;case 3:if(Ni(e,n),(n&130023424)===n&&(t=_y+500-it(),10<t)){if(cd(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Gt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yp(cs.bind(null,e,rr,Rn),t);break}cs(e,rr,Rn);break;case 4:if(Ni(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-cn(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=it()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*K6(n/1960))-n,10<n){e.timeoutHandle=Yp(cs.bind(null,e,rr,Rn),n);break}cs(e,rr,Rn);break;case 5:cs(e,rr,Rn);break;default:throw Error(Z(329))}}}return ur(e,it()),e.callbackNode===r?Ok.bind(null,e):null}function pg(e,t){var r=_l;return e.current.memoizedState.isDehydrated&&(Ps(e,t).flags|=256),e=kd(e,t),e!==2&&(t=rr,rr=r,t!==null&&gg(t)),e}function gg(e){rr===null?rr=e:rr.push.apply(rr,e)}function q6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!dn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ni(e,t){for(t&=~Sy,t&=~Mf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-cn(t),n=1<<r;e[r]=-1,t&=~n}}function Lw(e){if(je&6)throw Error(Z(327));Ia();var t=cd(e,0);if(!(t&1))return ur(e,it()),null;var r=kd(e,t);if(e.tag!==0&&r===2){var n=zp(e);n!==0&&(t=n,r=pg(e,n))}if(r===1)throw r=ec,Ps(e,0),Ni(e,t),ur(e,it()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,rr,Rn),ur(e,it()),null}function Py(e,t){var r=je;je|=1;try{return e(t)}finally{je=r,je===0&&(Ga=it()+500,Af&&Hi())}}function Fs(e){ki!==null&&ki.tag===0&&!(je&6)&&Ia();var t=je;je|=1;var r=zr.transition,n=Oe;try{if(zr.transition=null,Oe=1,e)return e()}finally{Oe=n,zr.transition=r,je=t,!(je&6)&&Hi()}}function ky(){gr=wa.current,Ue(wa)}function Ps(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,j6(r)),lt!==null)for(r=lt.return;r!==null;){var n=r;switch(oy(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&md();break;case 3:qa(),Ue(lr),Ue(Bt),gy();break;case 5:py(n);break;case 4:qa();break;case 13:Ue(Ke);break;case 19:Ue(Ke);break;case 10:dy(n.type._context);break;case 22:case 23:ky()}r=r.return}if(St=e,lt=e=$i(e.current,null),At=gr=t,ht=0,ec=null,Sy=Mf=Bs=0,rr=_l=null,ys!==null){for(t=0;t<ys.length;t++)if(r=ys[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ys=null}return e}function Ak(e,t){do{var r=lt;try{if(uy(),qu.current=Nd,jd){for(var n=He.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}jd=!1}if(Ls=0,jt=ft=He=null,Nl=!1,Jl=0,Ny.current=null,r===null||r.return===null){ht=1,ec=t,lt=null;break}e:{var s=e,a=r.return,l=r,c=t;if(t=At,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=_w(a);if(m!==null){m.flags&=-257,Pw(m,a,l,s,t),m.mode&1&&Sw(s,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var b=new Set;b.add(c),t.updateQueue=b}else p.add(c);break e}else{if(!(t&1)){Sw(s,u,t),Oy();break e}c=Error(Z(426))}}else if(We&&l.mode&1){var w=_w(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Pw(w,a,l,s,t),ly(Ha(c,l));break e}}s=c=Ha(c,l),ht!==4&&(ht=2),_l===null?_l=[s]:_l.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=fk(s,c,t);vw(s,v);break e;case 1:l=c;var x=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Di===null||!Di.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t;var N=hk(s,l,t);vw(s,N);break e}}s=s.return}while(s!==null)}Tk(r)}catch(j){t=j,lt===r&&r!==null&&(lt=r=r.return);continue}break}while(!0)}function Ek(){var e=Sd.current;return Sd.current=Nd,e===null?Nd:e}function Oy(){(ht===0||ht===3||ht===2)&&(ht=4),St===null||!(Bs&268435455)&&!(Mf&268435455)||Ni(St,At)}function kd(e,t){var r=je;je|=2;var n=Ek();(St!==e||At!==t)&&(Rn=null,Ps(e,t));do try{H6();break}catch(i){Ak(e,i)}while(!0);if(uy(),je=r,Sd.current=n,lt!==null)throw Error(Z(261));return St=null,At=0,ht}function H6(){for(;lt!==null;)Ck(lt)}function G6(){for(;lt!==null&&!xR();)Ck(lt)}function Ck(e){var t=Dk(e.alternate,e,gr);e.memoizedProps=e.pendingProps,t===null?Tk(e):lt=t,Ny.current=null}function Tk(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=z6(r,t),r!==null){r.flags&=32767,lt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ht=6,lt=null;return}}else if(r=F6(r,t,gr),r!==null){lt=r;return}if(t=t.sibling,t!==null){lt=t;return}lt=t=e}while(t!==null);ht===0&&(ht=5)}function cs(e,t,r){var n=Oe,i=zr.transition;try{zr.transition=null,Oe=1,Y6(e,t,r,n)}finally{zr.transition=i,Oe=n}return null}function Y6(e,t,r,n){do Ia();while(ki!==null);if(je&6)throw Error(Z(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(AR(e,s),e===St&&(lt=St=null,At=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||mu||(mu=!0,Rk(ld,function(){return Ia(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=zr.transition,zr.transition=null;var a=Oe;Oe=1;var l=je;je|=4,Ny.current=null,W6(e,r),Pk(r,e),p6(Hp),ud=!!qp,Hp=qp=null,e.current=r,V6(r),bR(),je=l,Oe=a,zr.transition=s}else e.current=r;if(mu&&(mu=!1,ki=e,Pd=i),s=e.pendingLanes,s===0&&(Di=null),NR(r.stateNode),ur(e,it()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(_d)throw _d=!1,e=hg,hg=null,e;return Pd&1&&e.tag!==0&&Ia(),s=e.pendingLanes,s&1?e===mg?Pl++:(Pl=0,mg=e):Pl=0,Hi(),null}function Ia(){if(ki!==null){var e=fP(Pd),t=zr.transition,r=Oe;try{if(zr.transition=null,Oe=16>e?16:e,ki===null)var n=!1;else{if(e=ki,ki=null,Pd=0,je&6)throw Error(Z(331));var i=je;for(je|=4,ae=e.current;ae!==null;){var s=ae,a=s.child;if(ae.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ae=u;ae!==null;){var d=ae;switch(d.tag){case 0:case 11:case 15:Sl(8,d,s)}var f=d.child;if(f!==null)f.return=d,ae=f;else for(;ae!==null;){d=ae;var h=d.sibling,m=d.return;if(Nk(d),d===u){ae=null;break}if(h!==null){h.return=m,ae=h;break}ae=m}}}var p=s.alternate;if(p!==null){var b=p.child;if(b!==null){p.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}ae=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ae=a;else e:for(;ae!==null;){if(s=ae,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ae=v;break e}ae=s.return}}var x=e.current;for(ae=x;ae!==null;){a=ae;var y=a.child;if(a.subtreeFlags&2064&&y!==null)y.return=a,ae=y;else e:for(a=x;ae!==null;){if(l=ae,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Tf(9,l)}}catch(j){Ze(l,l.return,j)}if(l===a){ae=null;break e}var N=l.sibling;if(N!==null){N.return=l.return,ae=N;break e}ae=l.return}}if(je=i,Hi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Sf,e)}catch{}n=!0}return n}finally{Oe=r,zr.transition=t}}return!1}function Bw(e,t,r){t=Ha(r,t),t=fk(e,t,1),e=Mi(e,t,1),t=Gt(),e!==null&&(bc(e,1,t),ur(e,t))}function Ze(e,t,r){if(e.tag===3)Bw(e,e,r);else for(;t!==null;){if(t.tag===3){Bw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Di===null||!Di.has(n))){e=Ha(r,e),e=hk(t,e,1),t=Mi(t,e,1),e=Gt(),t!==null&&(bc(t,1,e),ur(t,e));break}}t=t.return}}function X6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Gt(),e.pingedLanes|=e.suspendedLanes&r,St===e&&(At&r)===r&&(ht===4||ht===3&&(At&130023424)===At&&500>it()-_y?Ps(e,0):Sy|=r),ur(e,t)}function Mk(e,t){t===0&&(e.mode&1?(t=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):t=1);var r=Gt();e=Xn(e,t),e!==null&&(bc(e,t,r),ur(e,r))}function J6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Mk(e,r)}function Q6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),Mk(e,r)}var Dk;Dk=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||lr.current)sr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return sr=!1,B6(e,t,r);sr=!!(e.flags&131072)}else sr=!1,We&&t.flags&1048576&&LP(t,yd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Gu(e,t),e=t.pendingProps;var i=Wa(t,Bt.current);$a(t,r),i=vy(null,t,n,e,i,r);var s=xy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,cr(n)?(s=!0,pd(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(t),i.updater=Cf,t.stateNode=i,i._reactInternals=t,rg(t,n,e,r),t=sg(null,t,n,!0,s,r)):(t.tag=0,We&&s&&ay(t),Vt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Gu(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=e$(n),e=tn(n,e),i){case 0:t=ig(null,t,n,e,r);break e;case 1:t=Aw(null,t,n,e,r);break e;case 11:t=kw(null,t,n,e,r);break e;case 14:t=Ow(null,t,n,tn(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tn(n,i),ig(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tn(n,i),Aw(e,t,n,i,r);case 3:e:{if(yk(t),e===null)throw Error(Z(387));n=t.pendingProps,s=t.memoizedState,i=s.element,VP(e,t),bd(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Ha(Error(Z(423)),t),t=Ew(e,t,n,r,i);break e}else if(n!==i){i=Ha(Error(Z(424)),t),t=Ew(e,t,n,r,i);break e}else for(vr=Ti(t.stateNode.containerInfo.firstChild),xr=t,We=!0,sn=null,r=UP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Va(),n===i){t=Jn(e,t,r);break e}Vt(e,t,n,r)}t=t.child}return t;case 5:return KP(t),e===null&&Zp(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Gp(n,i)?a=null:s!==null&&Gp(n,s)&&(t.flags|=32),gk(e,t),Vt(e,t,a,r),t.child;case 6:return e===null&&Zp(t),null;case 13:return vk(e,t,r);case 4:return my(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Ka(t,null,n,r):Vt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tn(n,i),kw(e,t,n,i,r);case 7:return Vt(e,t,t.pendingProps,r),t.child;case 8:return Vt(e,t,t.pendingProps.children,r),t.child;case 12:return Vt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,$e(vd,n._currentValue),n._currentValue=a,s!==null)if(dn(s.value,a)){if(s.children===i.children&&!lr.current){t=Jn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Vn(-1,r&-r),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),eg(s.return,r,t),l.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),eg(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$a(t,r),i=Wr(i),n=n(i),t.flags|=1,Vt(e,t,n,r),t.child;case 14:return n=t.type,i=tn(n,t.pendingProps),i=tn(n.type,i),Ow(e,t,n,i,r);case 15:return mk(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:tn(n,i),Gu(e,t),t.tag=1,cr(n)?(e=!0,pd(t)):e=!1,$a(t,r),dk(t,n,i),rg(t,n,i,r),sg(null,t,n,!0,e,r);case 19:return xk(e,t,r);case 22:return pk(e,t,r)}throw Error(Z(156,t.tag))};function Rk(e,t){return lP(e,t)}function Z6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,r,n){return new Z6(e,t,r,n)}function Ay(e){return e=e.prototype,!(!e||!e.isReactComponent)}function e$(e){if(typeof e=="function")return Ay(e)?1:0;if(e!=null){if(e=e.$$typeof,e===G0)return 11;if(e===Y0)return 14}return 2}function $i(e,t){var r=e.alternate;return r===null?(r=Br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ju(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")Ay(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case da:return ks(r.children,i,s,t);case H0:a=8,i|=8;break;case Pp:return e=Br(12,r,t,i|2),e.elementType=Pp,e.lanes=s,e;case kp:return e=Br(13,r,t,i),e.elementType=kp,e.lanes=s,e;case Op:return e=Br(19,r,t,i),e.elementType=Op,e.lanes=s,e;case K_:return Df(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W_:a=10;break e;case V_:a=9;break e;case G0:a=11;break e;case Y0:a=14;break e;case xi:a=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Br(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function ks(e,t,r,n){return e=Br(7,e,n,t),e.lanes=r,e}function Df(e,t,r,n){return e=Br(22,e,n,t),e.elementType=K_,e.lanes=r,e.stateNode={isHidden:!1},e}function Pm(e,t,r){return e=Br(6,e,null,t),e.lanes=r,e}function km(e,t,r){return t=Br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function t$(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=om(0),this.expirationTimes=om(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=om(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ey(e,t,r,n,i,s,a,l,c){return e=new t$(e,t,r,l,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Br(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(s),e}function r$(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ua,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $k(e){if(!e)return Fi;e=e._reactInternals;e:{if(qs(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(cr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(cr(r))return $P(e,r,t)}return t}function Ik(e,t,r,n,i,s,a,l,c){return e=Ey(r,n,!0,e,i,s,a,l,c),e.context=$k(null),r=e.current,n=Gt(),i=Ri(r),s=Vn(n,i),s.callback=t??null,Mi(r,s,i),e.current.lanes=i,bc(e,i,n),ur(e,n),e}function Rf(e,t,r,n){var i=t.current,s=Gt(),a=Ri(i);return r=$k(r),t.context===null?t.context=r:t.pendingContext=r,t=Vn(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mi(i,t,a),e!==null&&(un(e,i,a,s),Ku(e,i,a)),a}function Od(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Fw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Cy(e,t){Fw(e,t),(e=e.alternate)&&Fw(e,t)}function n$(){return null}var Lk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ty(e){this._internalRoot=e}$f.prototype.render=Ty.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Rf(e,t,null,null)};$f.prototype.unmount=Ty.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Fs(function(){Rf(null,e,null,null)}),t[Yn]=null}};function $f(e){this._internalRoot=e}$f.prototype.unstable_scheduleHydration=function(e){if(e){var t=pP();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ji.length&&t!==0&&t<ji[r].priority;r++);ji.splice(r,0,e),r===0&&yP(e)}};function My(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function If(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zw(){}function i$(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Od(a);s.call(u)}}var a=Ik(t,n,e,0,null,!1,!1,"",zw);return e._reactRootContainer=a,e[Yn]=a.current,ql(e.nodeType===8?e.parentNode:e),Fs(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=Od(c);l.call(u)}}var c=Ey(e,0,!1,null,null,!1,!1,"",zw);return e._reactRootContainer=c,e[Yn]=c.current,ql(e.nodeType===8?e.parentNode:e),Fs(function(){Rf(t,c,r,n)}),c}function Lf(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var c=Od(a);l.call(c)}}Rf(t,a,e,i)}else a=i$(r,t,e,i,n);return Od(a)}hP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=dl(t.pendingLanes);r!==0&&(Q0(t,r|1),ur(t,it()),!(je&6)&&(Ga=it()+500,Hi()))}break;case 13:Fs(function(){var n=Xn(e,1);if(n!==null){var i=Gt();un(n,e,1,i)}}),Cy(e,1)}};Z0=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var r=Gt();un(t,e,134217728,r)}Cy(e,134217728)}};mP=function(e){if(e.tag===13){var t=Ri(e),r=Xn(e,t);if(r!==null){var n=Gt();un(r,e,t,n)}Cy(e,t)}};pP=function(){return Oe};gP=function(e,t){var r=Oe;try{return Oe=e,t()}finally{Oe=r}};Lp=function(e,t,r){switch(t){case"input":if(Cp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Of(n);if(!i)throw Error(Z(90));H_(n),Cp(n,i)}}}break;case"textarea":Y_(e,r);break;case"select":t=r.value,t!=null&&Ta(e,!!r.multiple,t,!1)}};rP=Py;nP=Fs;var s$={usingClientEntryPoint:!1,Events:[jc,pa,Of,eP,tP,Py]},Xo={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},a$={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=aP(e),e===null?null:e.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||n$,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{Sf=pu.inject(a$),wn=pu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s$;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!My(t))throw Error(Z(200));return r$(e,t,null,r)};Pr.createRoot=function(e,t){if(!My(e))throw Error(Z(299));var r=!1,n="",i=Lk;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ey(e,1,!1,null,null,r,!1,n,i),e[Yn]=t.current,ql(e.nodeType===8?e.parentNode:e),new Ty(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=aP(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Fs(e)};Pr.hydrate=function(e,t,r){if(!If(t))throw Error(Z(200));return Lf(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!My(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Lk;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Ik(t,null,e,1,r??null,i,!1,s,a),e[Yn]=t.current,ql(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new $f(t)};Pr.render=function(e,t,r){if(!If(t))throw Error(Z(200));return Lf(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!If(e))throw Error(Z(40));return e._reactRootContainer?(Fs(function(){Lf(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};Pr.unstable_batchedUpdates=Py;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!If(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Lf(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function Bk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bk)}catch(e){console.error(e)}}Bk(),B_.exports=Pr;var Fk=B_.exports,zk,Uw=Fk;zk=Uw.createRoot,Uw.hydrateRoot;const o$="modulepreload",l$=function(e){return"/"+e},Ww={},Sc=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=l$(c),c in Ww)return;Ww[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":o$,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},c$=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>xo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Dy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class u$ extends Dy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Vw extends Dy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Kw extends Dy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(yg||(yg={}));var d$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class f${constructor(t,{headers:r={},customFetch:n,region:i=yg.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=c$(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return d$(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new u$(b)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Vw(f);if(!f.ok)throw new Kw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof Kw||i instanceof Vw?i.context:void 0}}})}}var nr={},Ry={},Bf={},_c={},Ff={},zf={},h$=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ya=h$();const m$=Ya.fetch,Uk=Ya.fetch.bind(Ya),Wk=Ya.Headers,p$=Ya.Request,g$=Ya.Response,xo=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wk,Request:p$,Response:g$,default:Uk,fetch:m$},Symbol.toStringTag,{value:"Module"})),y$=DD(xo);var Uf={};Object.defineProperty(Uf,"__esModule",{value:!0});let v$=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Uf.default=v$;var Vk=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(zf,"__esModule",{value:!0});const x$=Vk(y$),b$=Vk(Uf);let w$=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=x$.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,c;let u=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const v=await s.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}const b=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const b=await s.text();try{u=JSON.parse(b),Array.isArray(u)&&s.status===404&&(d=[],u=null,h=200,m="OK")}catch{s.status===404&&b===""?(h=204,m="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new b$.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};zf.default=w$;var j$=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ff,"__esModule",{value:!0});const N$=j$(zf);let S$=class extends N$.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ff.default=S$;var _$=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_c,"__esModule",{value:!0});const P$=_$(Ff);let k$=class extends P$.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};_c.default=k$;var O$=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bf,"__esModule",{value:!0});const Jo=O$(_c);let A$=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),s||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bf.default=A$;var Wf={},Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});Vf.version=void 0;Vf.version="0.0.0-automated";Object.defineProperty(Wf,"__esModule",{value:!0});Wf.DEFAULT_HEADERS=void 0;const E$=Vf;Wf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E$.version}`};var Kk=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ry,"__esModule",{value:!0});const C$=Kk(Bf),T$=Kk(_c),M$=Wf;let D$=class qk{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},M$.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new C$.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new qk(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return s&&(u.Prefer=`count=${s}`),new T$.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ry.default=D$;var bo=Ur&&Ur.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nr,"__esModule",{value:!0});nr.PostgrestError=nr.PostgrestBuilder=nr.PostgrestTransformBuilder=nr.PostgrestFilterBuilder=nr.PostgrestQueryBuilder=nr.PostgrestClient=void 0;const Hk=bo(Ry);nr.PostgrestClient=Hk.default;const Gk=bo(Bf);nr.PostgrestQueryBuilder=Gk.default;const Yk=bo(_c);nr.PostgrestFilterBuilder=Yk.default;const Xk=bo(Ff);nr.PostgrestTransformBuilder=Xk.default;const Jk=bo(zf);nr.PostgrestBuilder=Jk.default;const Qk=bo(Uf);nr.PostgrestError=Qk.default;var R$=nr.default={PostgrestClient:Hk.default,PostgrestQueryBuilder:Gk.default,PostgrestFilterBuilder:Yk.default,PostgrestTransformBuilder:Xk.default,PostgrestBuilder:Jk.default,PostgrestError:Qk.default};const{PostgrestClient:$$,PostgrestQueryBuilder:are,PostgrestFilterBuilder:ore,PostgrestTransformBuilder:lre,PostgrestBuilder:cre,PostgrestError:ure}=R$;function I$(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const L$=I$(),B$="2.11.15",F$=`realtime-js/${B$}`,z$="1.0.0",Zk=1e4,U$=1e3;var kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(kl||(kl={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nn||(nn={}));var vg;(function(e){e.websocket="websocket"})(vg||(vg={}));var ps;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ps||(ps={}));class W${constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const c=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class e2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(De||(De={}));const qw=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=V$(a,e,t,i),s),{})},V$=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?t2(s,a):xg(a)},t2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return G$(t,r)}switch(e){case De.bool:return K$(t);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return q$(t);case De.json:case De.jsonb:return H$(t);case De.timestamp:return Y$(t);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return xg(t);default:return xg(t)}},xg=e=>e,K$=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q$=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H$=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},G$=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>t2(t,l))}return e},Y$=e=>typeof e=="string"?e.replace(" ","T"):e,r2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Om{constructor(t,r,n={},i=Zk){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hw||(Hw={}));class Ol{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ol.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=Ol.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ol.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),b=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Gw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Gw||(Gw={}));var Yw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yw||(Yw={}));var $n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class $y{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Om(this,nn.join,this.params,this.timeout),this.rejoinTimer=new e2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ol(this),this.broadcastEndpointURL=r2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:s,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t($n.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t($n.CLOSED));const c={},u={broadcast:s,presence:a,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t($n.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let b=0;b<m;b++){const w=h[b],{filter:{event:v,schema:x,table:y,filter:N}}=w,j=d&&d[b];if(j&&j.event===v&&j.schema===x&&j.table===y&&j.filter===N)p.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=Mt.errored,t==null||t($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t($n.SUBSCRIBED);return}}).receive("error",d=>{this.state=Mt.errored,t==null||t($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Om(this,nn.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Om(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=nn;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var p,b,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(b=m.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(s=this.bindings[a])===null||s===void 0||s.filter(m=>{var p,b,w,v,x,y;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const N=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return N&&((b=r.ids)===null||b===void 0?void 0:b.includes(N))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const N=(x=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return N==="*"||N===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:b,table:w,commit_timestamp:v,type:x,errors:y}=p;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:v,eventType:x,new:{},old:{},errors:y}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&$y.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nn.close,{},t)}_onError(t){this._on(nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qw(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qw(t.columns,t.old_record)),r}}const Xw=()=>{},X$=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class J${constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zk,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xw,this.ref=0,this.logger=Xw,this.conn=null,this.sendBuffer=[],this.serializer=new W$,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...l)=>Sc(async()=>{const{default:c}=await Promise.resolve().then(()=>xo);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${vg.websocket}`,this.httpEndpoint=r2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(s,a)=>a(JSON.stringify(s)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new e2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=L$),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:z$}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case kl.connecting:return ps.Connecting;case kl.open:return ps.Open;case kl.closing:return ps.Closing;default:return ps.Closed}}isConnected(){return this.connectionState()===ps.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new $y(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:F$};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(nn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(U$,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:a}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${a&&"("+a+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([X$],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class Iy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Q$ extends Iy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class bg extends Iy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Z$=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const n2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>xo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},eI=()=>Z$(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Sc(()=>Promise.resolve().then(()=>xo),void 0)).Response:Response}),wg=e=>{if(Array.isArray(e))return e.map(r=>wg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=wg(n)}),t},tI=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Hs=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Am=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rI=(e,t,r)=>Hs(void 0,void 0,void 0,function*(){const n=yield eI();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Q$(Am(i),s,a))}).catch(i=>{t(new bg(Am(i),i))}):t(new bg(Am(e),e))}),nI=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(tI(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Pc(e,t,r,n,i,s){return Hs(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,nI(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>rI(c,l,n))})})}function Ad(e,t,r,n){return Hs(this,void 0,void 0,function*(){return Pc(e,"GET",t,r,n)})}function In(e,t,r,n,i){return Hs(this,void 0,void 0,function*(){return Pc(e,"POST",t,n,i,r)})}function jg(e,t,r,n,i){return Hs(this,void 0,void 0,function*(){return Pc(e,"PUT",t,n,i,r)})}function iI(e,t,r,n){return Hs(this,void 0,void 0,function*(){return Pc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function i2(e,t,r,n,i){return Hs(this,void 0,void 0,function*(){return Pc(e,"DELETE",t,n,i,r)})}var Zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const sI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Jw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aI{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=n2(i)}uploadOrUpdate(t,r,n,i){return Zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Jw),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?jg:In)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(xt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Jw.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield jg(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(xt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield In(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new Iy("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Zt(this,void 0,void 0,function*(){try{return{data:{path:(yield In(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield In(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=yield In(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}download(t,r){return Zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ad(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(xt(l))return{data:null,error:l};throw l}})}info(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Ad(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:wg(n),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}exists(t){return Zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield iI(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xt(n)&&n instanceof bg){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Zt(this,void 0,void 0,function*(){try{return{data:yield i2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},sI),r),{prefix:t||""});return{data:yield In(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(xt(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const oI="2.10.4",lI={"X-Client-Info":`storage-js/${oI}`};var ta=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class cI{constructor(t,r={},n,i){const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},lI),r),this.fetch=n2(n)}listBuckets(){return ta(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xt(t))return{data:null,error:t};throw t}})}getBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield Ad(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ta(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ta(this,void 0,void 0,function*(){try{return{data:yield jg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield In(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ta(this,void 0,void 0,function*(){try{return{data:yield i2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(xt(r))return{data:null,error:r};throw r}})}}class uI extends cI{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new aI(this.url,this.headers,t,this.fetch)}}const dI="2.53.0";let hl="";typeof Deno<"u"?hl="deno":typeof document<"u"?hl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hl="react-native":hl="node";const fI={"X-Client-Info":`supabase-js-${hl}/${dI}`},hI={headers:fI},mI={schema:"public"},pI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gI={};var yI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const vI=e=>{let t;return e?t=e:typeof fetch>"u"?t=Uk:t=fetch,(...r)=>t(...r)},xI=()=>typeof Headers>"u"?Wk:Headers,bI=(e,t,r)=>{const n=vI(r),i=xI();return(s,a)=>yI(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var wI=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function jI(e){return e.endsWith("/")?e:e+"/"}function NI(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>wI(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const s2="2.71.1",la=30*1e3,Ng=3,Em=Ng*la,SI="http://localhost:9999",_I="supabase.auth.token",PI={"X-Client-Info":`gotrue-js/${s2}`},Sg="X-Supabase-Api-Version",a2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OI=10*60*1e3;class Ly extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class AI extends Ly{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function EI(e){return me(e)&&e.name==="AuthApiError"}class o2 extends Ly{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Gi extends Ly{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class gi extends Gi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function CI(e){return me(e)&&e.name==="AuthSessionMissingError"}class gu extends Gi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yu extends Gi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class vu extends Gi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function TI(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class Qw extends Gi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _g extends Gi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cm(e){return me(e)&&e.name==="AuthRetryableFetchError"}class Zw extends Gi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Pg extends Gi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),e1=` 	
\r=`.split(""),MI=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<e1.length;t+=1)e[e1[t].charCodeAt(0)]=-2;for(let t=0;t<Ed.length;t+=1)e[Ed[t].charCodeAt(0)]=t;return e})();function t1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ed[n]),t.queuedBits-=6}}function l2(e,t,r){const n=MI[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function r1(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{$I(a,n,r)};for(let a=0;a<e.length;a+=1)l2(e.charCodeAt(a),i,s);return t.join("")}function DI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function RI(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}DI(n,t)}}function $I(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function II(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)l2(e.charCodeAt(i),r,n);return new Uint8Array(t)}function LI(e){const t=[];return RI(e,r=>t.push(r)),new Uint8Array(t)}function BI(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>t1(i,r,n)),t1(null,r,n),t.join("")}function FI(e){return Math.round(Date.now()/1e3)+e}function zI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Zr=()=>typeof window<"u"&&typeof document<"u",ss={tested:!1,writable:!1},c2=()=>{if(!Zr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ss.tested)return ss.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ss.tested=!0,ss.writable=!0}catch{ss.tested=!0,ss.writable=!1}return ss.writable};function UI(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const u2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Sc(async()=>{const{default:n}=await Promise.resolve().then(()=>xo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},WI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ca=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},as=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},hi=async(e,t)=>{await e.removeItem(t)};class Kf{constructor(){this.promise=new Kf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kf.promiseConstructor=Promise;function Tm(e){const t=e.split(".");if(t.length!==3)throw new Pg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!kI.test(t[n]))throw new Pg("JWT not in base64url format");return{header:JSON.parse(r1(t[0])),payload:JSON.parse(r1(t[1])),signature:II(t[2]),raw:{header:t[0],payload:t[1]}}}async function VI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function KI(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function qI(e){return("0"+e.toString(16)).substr(-2)}function HI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,qI).join("")}async function GI(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function YI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await GI(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,r=!1){const n=HI();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await ca(e,`${t}-code-verifier`,i);const s=await YI(n);return[s,n===s?"plain":"s256"]}const XI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function JI(e){const t=e.headers.get(Sg);if(!t||!t.match(XI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const eL=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function na(e){if(!eL.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function n1(e){return JSON.parse(JSON.stringify(e))}var tL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rL=[502,503,504];async function i1(e){var t;if(!WI(e))throw new _g(us(e),0);if(rL.includes(e.status))throw new _g(us(e),e.status);let r;try{r=await e.json()}catch(s){throw new o2(us(s),s)}let n;const i=JI(e);if(i&&i.getTime()>=a2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Zw(us(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new gi}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Zw(us(r),e.status,r.weak_password.reasons);throw new AI(us(r),e.status||500,n)}const nL=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function ve(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Sg]||(s[Sg]=a2["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await iL(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function iL(e,t,r,n,i,s){const a=nL(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new _g(us(c),0)}if(l.ok||await i1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await i1(c)}}function Dn(e){var t;let r=null;lL(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=FI(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function s1(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Si(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sL(e){return{data:e,error:null}}function aL(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=tL(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function oL(e){return e}function lL(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dm=["global","local","others"];var cL=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class uL{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=u2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dm[0]){if(Dm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dm.join(", ")}`);try{return await ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Si})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=cL(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:aL,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ve(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Si})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:oL});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const b=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){na(t);try{return await ve(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Si})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){na(t);try{return await ve(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Si})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){na(t);try{return await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Si})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){na(t.userId);try{const{data:r,error:n}=await ve(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){na(t.userId),na(t.id);try{return{data:await ve(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}function a1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function dL(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ia={debug:!!(globalThis&&c2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class d2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fL extends d2{}async function hL(e,t,r){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ia.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw ia.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fL(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ia.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}dL();const mL={url:SI,storageKey:_I,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:PI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function o1(e,t,r){return await r()}const sa={};class tc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&Zr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},mL),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uL({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=u2(i.fetch),this.lock=i.lock||o1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Zr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=hL:this.lock=o1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:c2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=a1(this.memoryStorage)),Zr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sa[this.storageKey]=Object.assign(Object.assign({},sa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${s2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=UI(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Zr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),TI(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new o2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Dn}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await ra(this.storage,this.storageKey)),s=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:Dn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dn})}else throw new yu("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:s1})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:s1})}else throw new yu("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new gu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,c,u,d,f,h,m;let p,b;if("message"in t)p=t.message,b=t.signature;else{const{chain:w,wallet:v,statement:x,options:y}=t;let N;if(Zr())if(typeof v=="object")N=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))N=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=v}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){const S=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),x?{statement:x}:null));let P;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")P=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)P=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in P&&"signature"in P&&(typeof P.signedMessage=="string"||P.signedMessage instanceof Uint8Array)&&P.signature instanceof Uint8Array)p=typeof P.signedMessage=="string"?P.signedMessage:new TextDecoder().decode(P.signedMessage),b=P.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=y==null?void 0:y.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(P=>`- ${P}`)]:[]].join(`
`);const S=await N.signMessage(new TextEncoder().encode(p),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:w,error:v}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:BI(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Dn});if(v)throw v;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new gu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:v})}catch(w){if(me(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Dn});if(await hi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new gu}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(me(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new gu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ra(this.storage,this.storageKey));const{error:f}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new yu("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Dn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ra(this.storage,this.storageKey)),await ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:sL})}catch(s){if(me(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new gi;const{error:i}=await ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new yu("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await as(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Em:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await as(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Mm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Si}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gi}:await ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Si})})}catch(r){if(me(r))return CI(r)&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new gi;const a=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ra(this.storage,this.storageKey));const{data:u,error:d}=await ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:Si});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new gi;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Tm(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new gi;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Zr())throw new vu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new vu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Qw("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new vu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Qw("No code detected.");const{data:x,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!a||!u)throw new vu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=la&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await as(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(EI(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await hi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=zI(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ra(this.storage,this.storageKey,!0));try{return await ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(me(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,c,u,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ve(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Zr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await ve(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await KI(async i=>(i>0&&await VI(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Cm(s)&&Date.now()+a-n<la})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Zr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await as(this.storage,this.storageKey);if(i&&this.userStorage){let a=await as(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await ca(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Mm()}else if(i&&!i.user&&!i.user){const a=await as(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await hi(this.storage,this.storageKey+"-user"),await ca(this.storage,this.storageKey,i)):i.user=Mm()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Em;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Em}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Cm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new gi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kf;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new gi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),me(s)){const a={session:null,error:s};return Cm(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ca(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=n1(i);await ca(this.storage,this.storageKey,s)}else{const i=n1(r);await ca(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await hi(this.storage,this.storageKey),await hi(this.storage,this.storageKey+"-code-verifier"),await hi(this.storage,this.storageKey+"-user"),this.userStorage&&await hi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Zr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),la);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/la);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${la}ms, refresh threshold is ${Ng} ticks`),i<=Ng&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof d2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ra(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ve(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ve(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await ve(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Tm(i.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OI>i)return n;const{data:s,error:a}=await ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:c}}=Tm(n);r!=null&&r.allowExpired||QI(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:s,header:i,signature:a},error:null}}const d=ZI(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,LI(`${l}.${c}`)))throw new Pg("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}tc.nextInstanceID=0;const pL=tc;class gL extends pL{constructor(t){super(t)}}var yL=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class vL{constructor(t,r,n){var i,s,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=jI(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:mI,realtime:gI,auth:Object.assign(Object.assign({},pI),{storageKey:u}),global:hI},f=NI(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=bI(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new $$(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new uI(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new f$(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return yL(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gL({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new J$(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xL=(e,t,r)=>new vL(e,t,r);function bL(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}bL()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wL="https://eymxpphofhhfeuvaqfad.supabase.co",jL="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",Q=xL(wL,jL),f2=g.createContext(void 0);function NL({children:e}){const[t,r]=g.useState(null),[n,i]=g.useState(!1);g.useEffect(()=>{(async()=>{i(!0);try{const{data:{session:u}}=await Q.auth.getSession();if(u!=null&&u.user){const{data:d}=await Q.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{i(!1)}})()},[]);const s=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await Q.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:p}=await Q.auth.signInWithPassword({email:h.email,password:u});return p?(console.error("❌ SUPABASE AUTH ERROR:",p.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,p,b;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await Q.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:v,error:x}=await Q.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(x)return console.error("❌ SUPABASE SIGNUP ERROR:",x.message,"Code:",x.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=v.user)==null?void 0:h.id,email:(m=v.user)==null?void 0:m.email,email_confirmed:(p=v.user)==null?void 0:p.email_confirmed_at,user_metadata:(b=v.user)==null?void 0:b.user_metadata}),v.user){const{error:y}=await Q.from("profiles").insert({id:v.user.id,username:c,email:u,role:f});y?console.error("❌ PROFILE CREATION ERROR:",y.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process...");const{error:c}=await Q.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),r(null),setTimeout(()=>window.location.reload(),500)}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),setTimeout(()=>window.location.reload(),500)}};return o.jsx(f2.Provider,{value:{user:t,login:s,signup:a,logout:l,loading:n,setUser:r},children:e})}function fr(){const e=g.useContext(f2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const h2=g.createContext(void 0);function SL({children:e}){const[t,r]=g.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),i=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),s=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(h2.Provider,{value:{confirm:n,alert:i},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:s,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Yi(){const e=g.useContext(h2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _L={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),de=(e,t)=>{const r=g.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>g.createElement("svg",{ref:d,..._L,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${PL(e)}`,l].join(" "),...u},[...t.map(([f,h])=>g.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=de("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=de("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qo=de("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nn=de("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zi=de("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=de("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OL=de("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AL=de("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=de("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=de("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=de("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EL=de("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=de("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=de("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=de("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=de("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=de("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=de("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=de("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const La=de("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DL=de("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=de("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=de("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RL=de("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=de("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $L=de("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=de("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=de("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IL=de("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u1=de("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=de("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=de("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=de("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=de("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=de("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const As=de("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=de("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x2=de("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=de("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=de("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wo=de("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const An=de("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=de("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=de("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zL=de("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=de("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=de("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ft=de("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=de("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function UL({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=g.useState(""),[i,s]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState(!1),[h,m]=g.useState(!1),[p,b]=g.useState(""),[w,v]=g.useState(!1),[x,y]=g.useState(!1),{signup:N}=fr(),j=async S=>{if(S.preventDefault(),v(!0),b(""),y(!1),a!==c){b("Passwords do not match."),v(!1);return}if(a.length<6){b("Password must be at least 6 characters long."),v(!1);return}if(r.trim().length<3){b("Username must be at least 3 characters long."),v(!1);return}if(!i.trim()||!i.includes("@")){b("Please enter a valid email address."),v(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){b("Username can only contain letters, numbers, hyphens, and underscores."),v(!1);return}await N(r.trim(),i.trim(),a,"user")?y(!0):b("Failed to create account. Username might already be taken or there was a server error. Please try a different username."),v(!1)};return x?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4 font-space-grotesk",children:"Account Created!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"primary-button w-full",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(By,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Create Account"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Join the Beyblade community"})]})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:S=>n(S.target.value),className:"input-field w-full",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:i,onChange:S=>s(S.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:S=>l(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:d?o.jsx(Cd,{size:20}):o.jsx(Sn,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"form-label",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:S=>u(S.target.value),className:"input-field w-full pr-10",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:h?o.jsx(Cd,{size:20}):o.jsx(Sn,{size:20})})]})]}),p&&o.jsx("div",{className:"text-red-600 text-sm bg-red-50 p-3 rounded-md font-inter",children:p}),o.jsx("button",{type:"submit",disabled:w,className:"primary-button w-full disabled:opacity-50",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"By creating an account, you agree to participate in tournaments and follow community guidelines. All new accounts start with basic user permissions."})}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:e,className:"secondary-button w-full",children:"Back to Login"})})]})}function b2({onLoginSuccess:e}){const[t,r]=g.useState(""),[n,i]=g.useState(""),[s,a]=g.useState(!1),[l,c]=g.useState(""),[u,d]=g.useState(!1),[f,h]=g.useState("login"),[m,p]=g.useState(!1),[b,w]=g.useState(""),[v,x]=g.useState(!1),[y,N]=g.useState(""),{login:j}=fr(),S=async _=>{_.preventDefault(),d(!0),c(""),await j(t,n)?(r(""),i(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},P=async _=>{_.preventDefault(),x(!0),N("");try{const{error:A}=await Q.auth.resetPasswordForEmail(b,{redirectTo:"https://obcportal.netlify.app/reset-password"});if(A)throw A;N("Password reset email sent! Check your inbox for further instructions.")}catch(A){N(`Error: ${A.message}`)}finally{x(!1)}};return f==="signup"?o.jsx(UL,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors mr-3 text-gray-600 hover:text-gray-900",children:o.jsx(By,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"Reset Password"}),o.jsx("p",{className:"text-gray-600 font-inter",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:P,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"form-label",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:b,onChange:_=>w(_.target.value),className:"input-field w-full",required:!0,placeholder:"Enter your email address"})]}),y&&o.jsx("div",{className:`text-sm font-inter text-center p-3 rounded-md ${y.includes("Error")?"text-red-600 bg-red-50":"text-green-600 bg-green-50"}`,children:y}),o.jsx("button",{type:"submit",disabled:v,className:"primary-button w-full disabled:opacity-50 text-center",children:v?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>p(!1),className:"secondary-button w-full text-center",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-900 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-white text-2xl font-bold font-space-grotesk",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 font-space-grotesk",children:"OBC Portal"}),o.jsx("p",{className:"text-gray-600 mt-2 font-inter",children:"Sign in to access your account"})]}),o.jsxs("form",{onSubmit:S,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"form-label",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:_=>r(_.target.value),className:"input-field w-full",required:!0})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"form-label",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:s?"text":"password",id:"password",value:n,onChange:_=>i(_.target.value),className:"input-field w-full pr-10",required:!0}),o.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:s?o.jsx(Cd,{size:20}):o.jsx(Sn,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-600 text-sm font-inter text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-blue-600 hover:text-blue-800 font-inter",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"primary-button w-full disabled:opacity-50 text-center",children:u?"Signing in...":"Sign In"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500 font-inter",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"secondary-button w-full text-center",children:"Create New Account"})})]}),o.jsx("div",{className:"mt-6 text-center px-4",children:o.jsx("p",{className:"text-xs text-gray-500 font-inter",children:"Create an account to participate in tournaments and access all features."})})]})}const WL=[{id:"dashboard",label:"Dashboard",icon:o.jsx(ML,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(mt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(Nn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(Kn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(ml,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(ct,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(ct,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"match-tracker",label:"Match Tracker",icon:o.jsx(zi,{size:20}),roles:["technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(v2,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(ct,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(Kn,{size:20}),roles:["developer"]}];function VL({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:i,logout:s}=fr(),[a,l]=Oi.useState(!1),c=WL.filter(d=>i?d.roles.includes(i.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await s(),n()};return g.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>200&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),g.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-30"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-200 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-white border-r border-gray-200 w-64`,style:{pointerEvents:"auto"},children:[o.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gray-900 rounded-lg flex items-center justify-center font-space-grotesk font-bold text-lg text-white",children:"B"}),e&&o.jsx("div",{children:o.jsx("h1",{className:"text-xl font-space-grotesk font-bold text-gray-900",children:"OBC Portal"})})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(Ft,{size:20})})]}),o.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6",children:o.jsx("ul",{className:"space-y-2",children:c.map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:t===d.id?"sidebar-item-active":"sidebar-item",children:[o.jsx("div",{className:"transition-colors",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-inter",children:d.label})]})},d.id))})}),o.jsx("div",{className:"px-4 border-t border-gray-200 py-4",children:i&&!i.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"sidebar-item w-full text-red-600 hover:text-red-700 hover:bg-red-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(g2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"sidebar-item w-full text-blue-600 hover:text-blue-700 hover:bg-blue-50",children:[o.jsx("div",{className:"transition-colors",children:o.jsx(p2,{size:20})}),e&&o.jsx("span",{className:"ml-3 font-inter",children:"Login"})]})}),e&&o.jsx("div",{className:"px-2 pb-4",children:o.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 border border-gray-200",children:[o.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[o.jsx("div",{className:"w-6 h-6 bg-blue-600 rounded flex items-center justify-center",children:o.jsx("span",{className:"text-xs text-white",children:"J"})}),o.jsx("h3",{className:"font-space-grotesk font-semibold text-sm text-gray-900",children:"Created by Jedynsay"})]}),o.jsx("p",{className:"text-xs text-gray-600 font-inter mb-2",children:"Powered by Supabase"})]})})]}),a&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"modal-overlay",style:{zIndex:50},onClick:()=>l(!1)}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 max-h-[90vh]",children:[o.jsx(b2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Ft,{size:16})})]})})]})]})}const Uy=g.createContext({});function jo(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wy=typeof window<"u",Hf=Wy?g.useLayoutEffect:g.useEffect,Gf=g.createContext(null);function Vy(e,t){e.indexOf(t)===-1&&e.push(t)}function Ky(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const En=(e,t,r)=>r>t?t:r<e?e:r;let Qa=()=>{};const Qn={},w2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function j2(e){return typeof e=="object"&&e!==null}const N2=e=>/^0[^.\s]+$/u.test(e);function qy(e){let t;return()=>(t===void 0&&(t=e()),t)}const dr=e=>e,KL=(e,t)=>r=>t(e(r)),Ac=(...e)=>e.reduce(KL),Za=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Hy{constructor(){this.subscriptions=[]}add(t){return Vy(this.subscriptions,t),()=>Ky(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const _n=e=>e*1e3,Pn=e=>e/1e3;function Gy(e,t){return t?e*(1e3/t):0}const S2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,qL=1e-7,HL=12;function GL(e,t,r,n,i){let s,a,l=0;do a=t+(r-t)/2,s=S2(a,n,i)-e,s>0?r=a:t=a;while(Math.abs(s)>qL&&++l<HL);return a}function Ec(e,t,r,n){if(e===t&&r===n)return dr;const i=s=>GL(s,0,1,e,r);return s=>s===0||s===1?s:S2(i(s),t,n)}const _2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,P2=e=>t=>1-e(1-t),k2=Ec(.33,1.53,.69,.99),Yy=P2(k2),O2=_2(Yy),A2=e=>(e*=2)<1?.5*Yy(e):.5*(2-Math.pow(2,-10*(e-1))),Xy=e=>1-Math.sin(Math.acos(e)),E2=P2(Xy),C2=_2(Xy),YL=Ec(.42,0,1,1),XL=Ec(0,0,.58,1),T2=Ec(.42,0,.58,1),JL=e=>Array.isArray(e)&&typeof e[0]!="number",M2=e=>Array.isArray(e)&&typeof e[0]=="number",d1={linear:dr,easeIn:YL,easeInOut:T2,easeOut:XL,circIn:Xy,circInOut:C2,circOut:E2,backIn:Yy,backInOut:O2,backOut:k2,anticipate:A2},QL=e=>typeof e=="string",f1=e=>{if(M2(e)){Qa(e.length===4);const[t,r,n,i]=e;return Ec(t,r,n,i)}else if(QL(e))return Qa(d1[e]!==void 0),d1[e];return e},xu=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],h1={value:null,addProjectionMetrics:null};function ZL(e,t){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const b=m&&i?r:n;return h&&a.add(f),b.has(f)||b.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(u),t&&h1.value&&h1.value.frameloop[t].push(c),c=0,r.clear(),i=!1,s&&(s=!1,d.process(f))}};return d}const e4=40;function D2(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=xu.reduce((y,N)=>(y[N]=ZL(s,t?N:void 0),y),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,b=()=>{const y=Qn.useManualTiming?i.timestamp:performance.now();r=!1,Qn.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(y-i.timestamp,e4),1)),i.timestamp=y,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(b))},w=()=>{r=!0,n=!0,i.isProcessing||e(b)};return{schedule:xu.reduce((y,N)=>{const j=a[N];return y[N]=(S,P=!1,_=!1)=>(r||w(),j.schedule(S,P,_)),y},{}),cancel:y=>{for(let N=0;N<xu.length;N++)a[xu[N]].cancel(y)},state:i,steps:a}}const{schedule:ke,cancel:fn,state:bt,steps:Rm}=D2(typeof requestAnimationFrame<"u"?requestAnimationFrame:dr,!0);let Qu;function t4(){Qu=void 0}const ar={now:()=>(Qu===void 0&&ar.set(bt.isProcessing||Qn.useManualTiming?bt.timestamp:performance.now()),Qu),set:e=>{Qu=e,queueMicrotask(t4)}},R2=e=>t=>typeof t=="string"&&t.startsWith(e),Jy=R2("--"),r4=R2("var(--"),Qy=e=>r4(e)?n4.test(e.split("/*")[0].trim()):!1,n4=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,No={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},rc={...No,transform:e=>En(0,1,e)},bu={...No,default:1},Al=e=>Math.round(e*1e5)/1e5,Zy=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function i4(e){return e==null}const s4=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,ev=(e,t)=>r=>!!(typeof r=="string"&&s4.test(r)&&r.startsWith(e)||t&&!i4(r)&&Object.prototype.hasOwnProperty.call(r,t)),$2=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,l]=n.match(Zy);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},a4=e=>En(0,255,e),$m={...No,transform:e=>Math.round(a4(e))},xs={test:ev("rgb","red"),parse:$2("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+$m.transform(e)+", "+$m.transform(t)+", "+$m.transform(r)+", "+Al(rc.transform(n))+")"};function o4(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const kg={test:ev("#"),parse:o4,transform:xs.transform},Cc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),yi=Cc("deg"),kn=Cc("%"),fe=Cc("px"),l4=Cc("vh"),c4=Cc("vw"),m1={...kn,parse:e=>kn.parse(e)/100,transform:e=>kn.transform(e*100)},ja={test:ev("hsl","hue"),parse:$2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+kn.transform(Al(t))+", "+kn.transform(Al(r))+", "+Al(rc.transform(n))+")"},ot={test:e=>xs.test(e)||kg.test(e)||ja.test(e),parse:e=>xs.test(e)?xs.parse(e):ja.test(e)?ja.parse(e):kg.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?xs.transform(e):ja.transform(e),getAnimatableNone:e=>{const t=ot.parse(e);return t.alpha=0,ot.transform(t)}},u4=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function d4(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zy))==null?void 0:t.length)||0)+(((r=e.match(u4))==null?void 0:r.length)||0)>0}const I2="number",L2="color",f4="var",h4="var(",p1="${}",m4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function nc(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(m4,c=>(ot.test(c)?(n.color.push(s),i.push(L2),r.push(ot.parse(c))):c.startsWith(h4)?(n.var.push(s),i.push(f4),r.push(c)):(n.number.push(s),i.push(I2),r.push(parseFloat(c))),++s,p1)).split(p1);return{values:r,split:l,indexes:n,types:i}}function B2(e){return nc(e).values}function F2(e){const{split:t,types:r}=nc(e),n=t.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=t[a],i[a]!==void 0){const l=r[a];l===I2?s+=Al(i[a]):l===L2?s+=ot.transform(i[a]):s+=i[a]}return s}}const p4=e=>typeof e=="number"?0:ot.test(e)?ot.getAnimatableNone(e):e;function g4(e){const t=B2(e);return F2(e)(t.map(p4))}const Ui={test:d4,parse:B2,createTransformer:F2,getAnimatableNone:g4};function Im(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function y4({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,a=0;if(!t)i=s=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=Im(c,l,e+1/3),s=Im(c,l,e),a=Im(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Md(e,t){return r=>r>0?t:e}const qe=(e,t,r)=>e+(t-e)*r,Lm=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},v4=[kg,xs,ja],x4=e=>v4.find(t=>t.test(e));function g1(e){const t=x4(e);if(!t)return!1;let r=t.parse(e);return t===ja&&(r=y4(r)),r}const y1=(e,t)=>{const r=g1(e),n=g1(t);if(!r||!n)return Md(e,t);const i={...r};return s=>(i.red=Lm(r.red,n.red,s),i.green=Lm(r.green,n.green,s),i.blue=Lm(r.blue,n.blue,s),i.alpha=qe(r.alpha,n.alpha,s),xs.transform(i))},Og=new Set(["none","hidden"]);function b4(e,t){return Og.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function w4(e,t){return r=>qe(e,t,r)}function tv(e){return typeof e=="number"?w4:typeof e=="string"?Qy(e)?Md:ot.test(e)?y1:S4:Array.isArray(e)?z2:typeof e=="object"?ot.test(e)?y1:j4:Md}function z2(e,t){const r=[...e],n=r.length,i=e.map((s,a)=>tv(s)(s,t[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function j4(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=tv(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function N4(e,t){const r=[],n={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const s=t.types[i],a=e.indexes[s][n[s]],l=e.values[a]??0;r[i]=l,n[s]++}return r}const S4=(e,t)=>{const r=Ui.createTransformer(t),n=nc(e),i=nc(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Og.has(e)&&!i.values.length||Og.has(t)&&!n.values.length?b4(e,t):Ac(z2(N4(n,i),i.values),r):Md(e,t)};function U2(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?qe(e,t,r):tv(e)(e,t)}const _4=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>ke.update(t,r),stop:()=>fn(t),now:()=>bt.isProcessing?bt.timestamp:ar.now()}},W2=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=Math.round(e(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Dd=2e4;function rv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Dd;)t+=r,n=e.next(t);return t>=Dd?1/0:t}function P4(e,t=100,r){const n=r({...e,keyframes:[0,t]}),i=Math.min(rv(n),Dd);return{type:"keyframes",ease:s=>n.next(i*s).value/t,duration:Pn(i)}}const k4=5;function V2(e,t,r){const n=Math.max(t-k4,0);return Gy(r-e(n),t-n)}const Qe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Bm=.001;function O4({duration:e=Qe.duration,bounce:t=Qe.bounce,velocity:r=Qe.velocity,mass:n=Qe.mass}){let i,s,a=1-t;a=En(Qe.minDamping,Qe.maxDamping,a),e=En(Qe.minDuration,Qe.maxDuration,Pn(e)),a<1?(i=u=>{const d=u*a,f=d*e,h=d-r,m=Ag(u,a),p=Math.exp(-f);return Bm-h/m*p},s=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),b=Ag(Math.pow(u,2),a);return(-i(u)+Bm>0?-1:1)*((h-m)*p)/b}):(i=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-Bm+d*f},s=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=E4(i,s,l);if(e=_n(e),isNaN(c))return{stiffness:Qe.stiffness,damping:Qe.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const A4=12;function E4(e,t,r){let n=r;for(let i=1;i<A4;i++)n=n-e(n)/t(n);return n}function Ag(e,t){return e*Math.sqrt(1-t*t)}const C4=["duration","bounce"],T4=["stiffness","damping","mass"];function v1(e,t){return t.some(r=>e[r]!==void 0)}function M4(e){let t={velocity:Qe.velocity,stiffness:Qe.stiffness,damping:Qe.damping,mass:Qe.mass,isResolvedFromDuration:!1,...e};if(!v1(e,T4)&&v1(e,C4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*En(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:Qe.mass,stiffness:i,damping:s}}else{const r=O4(e);t={...t,...r,mass:Qe.mass},t.isResolvedFromDuration=!0}return t}function Rd(e=Qe.visualDuration,t=Qe.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=M4({...r,velocity:-Pn(r.velocity||0)}),p=h||0,b=u/(2*Math.sqrt(c*d)),w=a-s,v=Pn(Math.sqrt(c/d)),x=Math.abs(w)<5;n||(n=x?Qe.restSpeed.granular:Qe.restSpeed.default),i||(i=x?Qe.restDelta.granular:Qe.restDelta.default);let y;if(b<1){const j=Ag(v,b);y=S=>{const P=Math.exp(-b*v*S);return a-P*((p+b*v*w)/j*Math.sin(j*S)+w*Math.cos(j*S))}}else if(b===1)y=j=>a-Math.exp(-v*j)*(w+(p+v*w)*j);else{const j=v*Math.sqrt(b*b-1);y=S=>{const P=Math.exp(-b*v*S),_=Math.min(j*S,300);return a-P*((p+b*v*w)*Math.sinh(_)+j*w*Math.cosh(_))/j}}const N={calculatedDuration:m&&f||null,next:j=>{const S=y(j);if(m)l.done=j>=f;else{let P=j===0?p:0;b<1&&(P=j===0?_n(p):V2(y,j,S));const _=Math.abs(P)<=n,A=Math.abs(a-S)<=i;l.done=_&&A}return l.value=l.done?a:S,l},toString:()=>{const j=Math.min(rv(N),Dd),S=W2(P=>N.next(j*P).value,j,30);return j+"ms "+S},toTransition:()=>{}};return N}Rd.applyToOptions=e=>{const t=P4(e,100,Rd);return e.ease=t.ease,e.duration=_n(t.duration),e.type="keyframes",e};function Eg({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=_=>l!==void 0&&_<l||c!==void 0&&_>c,p=_=>l===void 0?c:c===void 0||Math.abs(l-_)<Math.abs(c-_)?l:c;let b=r*t;const w=f+b,v=a===void 0?w:a(w);v!==w&&(b=v-f);const x=_=>-b*Math.exp(-_/n),y=_=>v+x(_),N=_=>{const A=x(_),z=y(_);h.done=Math.abs(A)<=u,h.value=h.done?v:z};let j,S;const P=_=>{m(h.value)&&(j=_,S=Rd({keyframes:[h.value,p(h.value)],velocity:V2(y,_,h.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return P(0),{calculatedDuration:null,next:_=>{let A=!1;return!S&&j===void 0&&(A=!0,N(_),P(_)),j!==void 0&&_>=j?S.next(_-j):(!A&&N(_),h)}}}function D4(e,t,r){const n=[],i=r||Qn.mix||U2,s=e.length-1;for(let a=0;a<s;a++){let l=i(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||dr:t;l=Ac(c,l)}n.push(l)}return n}function nv(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(Qa(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=D4(t,n,i),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Za(e[f],e[f+1],d);return l[f](h)};return r?d=>u(En(e[0],e[s-1],d)):u}function R4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Za(0,t,n);e.push(qe(r,1,i))}}function K2(e){const t=[0];return R4(t,e.length-1),t}function $4(e,t){return e.map(r=>r*t)}function I4(e,t){return e.map(()=>t||T2).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=JL(n)?n.map(f1):f1(n),s={done:!1,value:t[0]},a=$4(r&&r.length===t.length?r:K2(t),e),l=nv(a,t,{ease:Array.isArray(i)?i:I4(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const L4=e=>e!==null;function iv(e,{repeat:t,repeatType:r="loop"},n,i=1){const s=e.filter(L4),l=i<0||t&&r!=="loop"&&t%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const B4={decay:Eg,inertia:Eg,tween:El,keyframes:El,spring:Rd};function q2(e){typeof e.type=="string"&&(e.type=B4[e.type])}class sv{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const F4=e=>e/100;class av extends sv{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;q2(t);const{type:r=El,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=t;let{keyframes:l}=t;const c=r||El;c!==El&&typeof l[0]!="number"&&(this.mixKeyframes=Ac(F4,U2(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=rv(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const v=this.currentTime-u*(this.playbackSpeed>=0?1:-1),x=this.playbackSpeed>=0?v<0:v>i;this.currentTime=Math.max(v,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,N=n;if(f){const _=Math.min(this.currentTime,i)/l;let A=Math.floor(_),z=_%1;!z&&_>=1&&(z=1),z===1&&A--,A=Math.min(A,f+1),!!(A%2)&&(h==="reverse"?(z=1-z,m&&(z-=m/l)):h==="mirror"&&(N=a)),y=En(0,1,z)*l}const j=x?{done:!1,value:d[0]}:N.next(y);s&&(j.value=s(j.value));let{done:S}=j;!x&&c!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return P&&p!==Eg&&(j.value=iv(d,this.options,w,this.speed)),b&&b(j.value),P&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return Pn(this.calculatedDuration)}get time(){return Pn(this.currentTime)}set time(t){var r;t=_n(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ar.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Pn(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:t=_4,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function z4(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const bs=e=>e*180/Math.PI,Cg=e=>{const t=bs(Math.atan2(e[1],e[0]));return Tg(t)},U4={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Cg,rotateZ:Cg,skewX:e=>bs(Math.atan(e[1])),skewY:e=>bs(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Tg=e=>(e=e%360,e<0&&(e+=360),e),x1=Cg,b1=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),w1=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),W4={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:b1,scaleY:w1,scale:e=>(b1(e)+w1(e))/2,rotateX:e=>Tg(bs(Math.atan2(e[6],e[5]))),rotateY:e=>Tg(bs(Math.atan2(-e[2],e[0]))),rotateZ:x1,rotate:x1,skewX:e=>bs(Math.atan(e[4])),skewY:e=>bs(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Mg(e){return e.includes("scale")?1:0}function Dg(e,t){if(!e||e==="none")return Mg(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=W4,i=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=U4,i=l}if(!i)return Mg(t);const s=n[t],a=i[1].split(",").map(K4);return typeof s=="function"?s(a):a[s]}const V4=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return Dg(r,t)};function K4(e){return parseFloat(e.trim())}const So=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_o=new Set(So),j1=e=>e===No||e===fe,q4=new Set(["x","y","z"]),H4=So.filter(e=>!q4.has(e));function G4(e){const t=[];return H4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Es={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Dg(t,"x"),y:(e,{transform:t})=>Dg(t,"y")};Es.translateX=Es.x;Es.translateY=Es.y;const Cs=new Set;let Rg=!1,$g=!1,Ig=!1;function H2(){if($g){const e=Array.from(Cs).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=G4(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var l;(l=n.getValue(s))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}$g=!1,Rg=!1,Cs.forEach(e=>e.complete(Ig)),Cs.clear()}function G2(){Cs.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&($g=!0)})}function Y4(){Ig=!0,G2(),H2(),Ig=!1}class ov{constructor(t,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cs.add(this),Rg||(Rg=!0,ke.read(G2),ke.resolveKeyframes(H2))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;if(t[0]===null){const s=i==null?void 0:i.get(),a=t[t.length-1];if(s!==void 0)t[0]=s;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),i&&s===void 0&&i.set(t[0])}z4(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Cs.delete(this)}cancel(){this.state==="scheduled"&&(Cs.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const X4=e=>e.startsWith("--");function J4(e,t,r){X4(t)?e.style.setProperty(t,r):e.style[t]=r}const Y2=qy(()=>window.ScrollTimeline!==void 0),Q4={};function Z4(e,t){const r=qy(e);return()=>Q4[t]??r()}const X2=Z4(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),pl=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,N1={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function J2(e,t){if(e)return typeof e=="function"?X2()?W2(e,t):"ease-out":M2(e)?pl(e):Array.isArray(e)?e.map(r=>J2(r,t)||N1.easeOut):N1[e]}function e3(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=J2(l,i);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Q2(e){return typeof e=="function"&&"applyToOptions"in e}function t3({type:e,...t}){return Q2(e)&&X2()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class r3 extends sv{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=t,Qa(typeof t.type!="string");const u=t3(t);this.animation=e3(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=iv(i,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):J4(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Pn(Number(t))}get time(){return Pn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=_n(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&Y2()?(this.animation.timeline=t,dr):r(this)}}const Z2={anticipate:A2,backInOut:O2,circInOut:C2};function n3(e){return e in Z2}function i3(e){typeof e.ease=="string"&&n3(e.ease)&&(e.ease=Z2[e.ease])}const S1=10;class s3 extends r3{constructor(t){i3(t),q2(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new av({...a,autoplay:!1}),c=_n(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-S1).value,l.sample(c).value,S1),l.stop()}}const _1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ui.test(e)||e==="0")&&!e.startsWith("url("));function a3(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function o3(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=_1(i,t),l=_1(s,t);return!a||!l?!1:a3(e)||(r==="spring"||Q2(r))&&n}function Lg(e){e.duration=0,e.type}const l3=new Set(["opacity","clipPath","filter","transform"]),c3=qy(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function u3(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return c3()&&r&&l3.has(r)&&(r!=="transform"||!u)&&!c&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const d3=40;class f3 extends sv{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=ar.now();const h={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||ov;this.keyframeResolver=new m(l,(b,w,v)=>this.onKeyframesResolved(b,w,h,!v),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=ar.now(),o3(t,s,a,l)||((Qn.instantAnimations||!c)&&(d==null||d(iv(t,n,r))),t[0]=t[t.length-1],Lg(n),n.repeat=0);const h={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>d3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&u3(h)?new s3({...h,element:h.motionValue.owner.current}):new av(h);m.finished.then(()=>this.notifyFinished()).catch(dr),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Y4()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const h3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function m3(e){const t=h3.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function eO(e,t,r=1){const[n,i]=m3(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const a=s.trim();return w2(a)?parseFloat(a):a}return Qy(i)?eO(i,t,r+1):i}function lv(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const tO=new Set(["width","height","top","left","right","bottom",...So]),p3={test:e=>e==="auto",parse:e=>e},rO=e=>t=>t.test(e),nO=[No,fe,kn,yi,c4,l4,p3],P1=e=>nO.find(rO(e));function g3(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||N2(e):!0}const y3=new Set(["brightness","contrast","saturate","opacity"]);function v3(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Zy)||[];if(!n)return e;const i=r.replace(n,"");let s=y3.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const x3=/\b([a-z-]*)\(.*?\)/gu,Bg={...Ui,getAnimatableNone:e=>{const t=e.match(x3);return t?t.map(v3).join(" "):e}},k1={...No,transform:Math.round},b3={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:bu,scaleX:bu,scaleY:bu,scaleZ:bu,skew:yi,skewX:yi,skewY:yi,distance:fe,translateX:fe,translateY:fe,translateZ:fe,x:fe,y:fe,z:fe,perspective:fe,transformPerspective:fe,opacity:rc,originX:m1,originY:m1,originZ:fe},cv={borderWidth:fe,borderTopWidth:fe,borderRightWidth:fe,borderBottomWidth:fe,borderLeftWidth:fe,borderRadius:fe,radius:fe,borderTopLeftRadius:fe,borderTopRightRadius:fe,borderBottomRightRadius:fe,borderBottomLeftRadius:fe,width:fe,maxWidth:fe,height:fe,maxHeight:fe,top:fe,right:fe,bottom:fe,left:fe,padding:fe,paddingTop:fe,paddingRight:fe,paddingBottom:fe,paddingLeft:fe,margin:fe,marginTop:fe,marginRight:fe,marginBottom:fe,marginLeft:fe,backgroundPositionX:fe,backgroundPositionY:fe,...b3,zIndex:k1,fillOpacity:rc,strokeOpacity:rc,numOctaves:k1},w3={...cv,color:ot,backgroundColor:ot,outlineColor:ot,fill:ot,stroke:ot,borderColor:ot,borderTopColor:ot,borderRightColor:ot,borderBottomColor:ot,borderLeftColor:ot,filter:Bg,WebkitFilter:Bg},iO=e=>w3[e];function sO(e,t){let r=iO(e);return r!==Bg&&(r=Ui),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const j3=new Set(["auto","none","0"]);function N3(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!j3.has(s)&&nc(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=sO(r,i)}class S3 extends ov{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Qy(u))){const d=eO(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!tO.has(n)||t.length!==2)return;const[i,s]=t,a=P1(i),l=P1(s);if(a!==l)if(j1(a)&&j1(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else Es[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)(t[i]===null||g3(t[i]))&&n.push(i);n.length&&N3(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Es[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const i=t.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=Es[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function aO(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const i=document.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const oO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function uv(e){return j2(e)&&"offsetHeight"in e}const O1=30,_3=e=>!isNaN(parseFloat(e)),Cl={current:void 0};class P3{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=ar.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_3(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Hy);const n=this.events[t].add(r);return t==="change"?()=>{n(),ke.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Cl.current&&Cl.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>O1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,O1);return Gy(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ln(e,t){return new P3(e,t)}const{schedule:dv,cancel:dre}=D2(queueMicrotask,!1),en={x:!1,y:!1};function lO(){return en.x||en.y}function k3(e){return e==="x"||e==="y"?en[e]?null:(en[e]=!0,()=>{en[e]=!1}):en.x||en.y?null:(en.x=en.y=!0,()=>{en.x=en.y=!1})}function cO(e,t){const r=aO(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function A1(e){return!(e.pointerType==="touch"||lO())}function O3(e,t,r={}){const[n,i,s]=cO(e,r),a=l=>{if(!A1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{A1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,i)};return n.forEach(l=>{l.addEventListener("pointerenter",a,i)}),s}const uO=(e,t)=>t?e===t?!0:uO(e,t.parentElement):!1,fv=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,A3=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E3(e){return A3.has(e.tagName)||e.tabIndex!==-1}const Zu=new WeakSet;function E1(e){return t=>{t.key==="Enter"&&e(t)}}function Fm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const C3=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=E1(()=>{if(Zu.has(r))return;Fm(r,"down");const i=E1(()=>{Fm(r,"up")}),s=()=>Fm(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function C1(e){return fv(e)&&!lO()}function T3(e,t,r={}){const[n,i,s]=cO(e,r),a=l=>{const c=l.currentTarget;if(!C1(l))return;Zu.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Zu.has(c)&&Zu.delete(c),C1(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||uO(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",h,i)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,i),uv(l)&&(l.addEventListener("focus",u=>C3(u,i)),!E3(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function hv(e){return j2(e)&&"ownerSVGElement"in e}const ed=new WeakMap;let vi;const dO=(e,t,r)=>(n,i)=>i&&i[0]?i[0][e+"Size"]:hv(n)&&"getBBox"in n?n.getBBox()[t]:n[r],M3=dO("inline","width","offsetWidth"),D3=dO("block","height","offsetHeight");function R3({target:e,borderBoxSize:t}){var r;(r=ed.get(e))==null||r.forEach(n=>{n(e,{get width(){return M3(e,t)},get height(){return D3(e,t)}})})}function $3(e){e.forEach(R3)}function I3(){typeof ResizeObserver>"u"||(vi=new ResizeObserver($3))}function L3(e,t){vi||I3();const r=aO(e);return r.forEach(n=>{let i=ed.get(n);i||(i=new Set,ed.set(n,i)),i.add(t),vi==null||vi.observe(n)}),()=>{r.forEach(n=>{const i=ed.get(n);i==null||i.delete(t),i!=null&&i.size||vi==null||vi.unobserve(n)})}}const td=new Set;let Na;function B3(){Na=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};td.forEach(t=>t(e))},window.addEventListener("resize",Na)}function F3(e){return td.add(e),Na||B3(),()=>{td.delete(e),!td.size&&typeof Na=="function"&&(window.removeEventListener("resize",Na),Na=void 0)}}function z3(e,t){return typeof e=="function"?F3(e):L3(e,t)}function fO(e,t){let r;const n=()=>{const{currentTime:i}=t,a=(i===null?0:i.value)/100;r!==a&&e(a),r=a};return ke.preUpdate(n,!0),()=>fn(n)}function U3(e){return hv(e)&&e.tagName==="svg"}function W3(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],i=e[1+r],s=e[2+r],a=e[3+r],l=nv(i,s,a);return t?l(n):l}const Lt=e=>!!(e&&e.getVelocity),V3=[...nO,ot,Ui],K3=e=>V3.find(rO(e)),Yf=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class q3 extends g.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=uv(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function H3({children:e,isPresent:t,anchorX:r,root:n}){const i=g.useId(),s=g.useRef(null),a=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=g.useContext(Yf);return g.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!s.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const p=document.createElement("style");l&&(p.nonce=l);const b=n??document.head;return b.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.contains(p)&&b.removeChild(p)}},[t]),o.jsx(q3,{isPresent:t,childRef:s,sizeRef:a,children:g.cloneElement(e,{ref:s})})}const G3=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:l,root:c})=>{const u=jo(Y3),d=g.useId();let f=!0,h=g.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:i,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return s&&f&&(h={...h}),g.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),g.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(H3,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Gf.Provider,{value:h,children:e})};function Y3(){return new Map}function hO(e=!0){const t=g.useContext(Gf);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=g.useId();g.useEffect(()=>{if(e)return i(s)},[e]);const a=g.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,a]:[!0]}const wu=e=>e.key||"";function T1(e){const t=[];return g.Children.forEach(e,r=>{g.isValidElement(r)&&t.push(r)}),t}const ju=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=hO(a),f=g.useMemo(()=>T1(e),[e]),h=a&&!u?[]:f.map(wu),m=g.useRef(!0),p=g.useRef(f),b=jo(()=>new Map),[w,v]=g.useState(f),[x,y]=g.useState(f);Hf(()=>{m.current=!1,p.current=f;for(let S=0;S<x.length;S++){const P=wu(x[S]);h.includes(P)?b.delete(P):b.get(P)!==!0&&b.set(P,!1)}},[x,h.length,h.join("-")]);const N=[];if(f!==w){let S=[...f];for(let P=0;P<x.length;P++){const _=x[P],A=wu(_);h.includes(A)||(S.splice(P,0,_),N.push(_))}return s==="wait"&&N.length&&(S=N),y(T1(S)),v(f),null}const{forceRender:j}=g.useContext(Uy);return o.jsx(o.Fragment,{children:x.map(S=>{const P=wu(S),_=a&&!u?!1:f===x||h.includes(P),A=()=>{if(b.has(P))b.set(P,!0);else return;let z=!0;b.forEach(C=>{C||(z=!1)}),z&&(j==null||j(),y(p.current),a&&(d==null||d()),n&&n())};return o.jsx(G3,{isPresent:_,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:_?void 0:A,anchorX:l,children:S},P)})})},mO=g.createContext({strict:!1}),M1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},eo={};for(const e in M1)eo[e]={isEnabled:t=>M1[e].some(r=>!!t[r])};function X3(e){for(const t in e)eo[t]={...eo[t],...e[t]}}const J3=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function $d(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||J3.has(e)}let pO=e=>!$d(e);function Q3(e){typeof e=="function"&&(pO=t=>t.startsWith("on")?!$d(t):e(t))}try{Q3(require("@emotion/is-prop-valid").default)}catch{}function Z3(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(pO(i)||r===!0&&$d(i)||!t&&!$d(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}const Xf=g.createContext({});function Jf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function ic(e){return typeof e=="string"||Array.isArray(e)}const mv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pv=["initial",...mv];function Qf(e){return Jf(e.animate)||pv.some(t=>ic(e[t]))}function gO(e){return!!(Qf(e)||e.variants)}function eB(e,t){if(Qf(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ic(r)?r:void 0,animate:ic(n)?n:void 0}}return e.inherit!==!1?t:{}}function tB(e){const{initial:t,animate:r}=eB(e,g.useContext(Xf));return g.useMemo(()=>({initial:t,animate:r}),[D1(t),D1(r)])}function D1(e){return Array.isArray(e)?e.join(" "):e}const sc={};function rB(e){for(const t in e)sc[t]=e[t],Jy(t)&&(sc[t].isCSSVariable=!0)}function yO(e,{layout:t,layoutId:r}){return _o.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!sc[e]||e==="opacity")}const nB={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iB=So.length;function sB(e,t,r){let n="",i=!0;for(let s=0;s<iB;s++){const a=So[s],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=oO(l,cv[a]);if(!c){i=!1;const d=nB[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function gv(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(_o.has(c)){a=!0;continue}else if(Jy(c)){i[c]=u;continue}else{const d=oO(u,cv[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=sB(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const yv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function vO(e,t,r){for(const n in t)!Lt(t[n])&&!yO(n,r)&&(e[n]=t[n])}function aB({transformTemplate:e},t){return g.useMemo(()=>{const r=yv();return gv(r,t,e),Object.assign({},r.vars,r.style)},[t])}function oB(e,t){const r=e.style||{},n={};return vO(n,r,e),Object.assign(n,aB(e,t)),n}function lB(e,t){const r={},n=oB(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const cB={offset:"stroke-dashoffset",array:"stroke-dasharray"},uB={offset:"strokeDashoffset",array:"strokeDasharray"};function dB(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?cB:uB;e[s.offset]=fe.transform(-n);const a=fe.transform(t),l=fe.transform(r);e[s.array]=`${a} ${l}`}function xO(e,{attrX:t,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...l},c,u,d){if(gv(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&dB(f,i,s,a,!1)}const bO=()=>({...yv(),attrs:{}}),wO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fB(e,t,r,n){const i=g.useMemo(()=>{const s=bO();return xO(s,t,wO(n),e.transformTemplate,e.style),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};vO(s,e.style,e),i.style={...s,...i.style}}return i}const hB=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vv(e){return typeof e!="string"||e.includes("-")?!1:!!(hB.indexOf(e)>-1||/[A-Z]/u.test(e))}function mB(e,t,r,{latestValues:n},i,s=!1){const l=(vv(e)?fB:lB)(t,n,i,e),c=Z3(t,typeof e=="string",s),u=e!==g.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=g.useMemo(()=>Lt(d)?d.get():d,[d]);return g.createElement(e,{...u,children:f})}function R1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function xv(e,t,r,n){if(typeof t=="function"){const[i,s]=R1(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=R1(n);t=t(r!==void 0?r:e.custom,i,s)}return t}function rd(e){return Lt(e)?e.get():e}function pB({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,i){return{latestValues:gB(r,n,i,e),renderState:t()}}function gB(e,t,r,n){const i={},s=n(e,{});for(const h in s)i[h]=rd(s[h]);let{initial:a,animate:l}=e;const c=Qf(e),u=gO(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Jf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=xv(e,h[m]);if(p){const{transitionEnd:b,transition:w,...v}=p;for(const x in v){let y=v[x];if(Array.isArray(y)){const N=d?y.length-1:0;y=y[N]}y!==null&&(i[x]=y)}for(const x in b)i[x]=b[x]}}}return i}const jO=e=>(t,r)=>{const n=g.useContext(Xf),i=g.useContext(Gf),s=()=>pB(e,t,n,i);return r?s():jo(s)};function bv(e,t,r){var s;const{style:n}=e,i={};for(const a in n)(Lt(n[a])||t.style&&Lt(t.style[a])||yO(a,e)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const yB=jO({scrapeMotionValuesFromProps:bv,createRenderState:yv});function NO(e,t,r){const n=bv(e,t,r);for(const i in e)if(Lt(e[i])||Lt(t[i])){const s=So.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}const vB=jO({scrapeMotionValuesFromProps:NO,createRenderState:bO}),xB=Symbol.for("motionComponentSymbol");function Sa(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bB(e,t,r){return g.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Sa(r)&&(r.current=n))},[t])}const wv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wB="framerAppearId",SO="data-"+wv(wB),_O=g.createContext({});function jB(e,t,r,n,i){var b,w;const{visualElement:s}=g.useContext(Xf),a=g.useContext(mO),l=g.useContext(Gf),c=g.useContext(Yf).reducedMotion,u=g.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=g.useContext(_O);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&NB(u.current,r,i,f);const h=g.useRef(!1);g.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[SO],p=g.useRef(!!m&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Hf(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),g.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var v;(v=window.MotionHandoffMarkAsComplete)==null||v.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function NB(e,t,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:PO(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||l&&Sa(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function PO(e){if(e)return e.options.allowProjection!==!1?e.projection:PO(e.parent)}function zm(e,{forwardMotionProps:t=!1}={},r,n){r&&X3(r);const i=vv(e)?vB:yB;function s(l,c){let u;const d={...g.useContext(Yf),...l,layoutId:SB(l)},{isStatic:f}=d,h=tB(l),m=i(l,f);if(!f&&Wy){_B();const p=PB(d);u=p.MeasureLayout,h.visualElement=jB(e,m,d,n,p.ProjectionNode)}return o.jsxs(Xf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,mB(e,l,bB(m,h.visualElement,c),m,f,t)]})}s.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=g.forwardRef(s);return a[xB]=e,a}function SB({layoutId:e}){const t=g.useContext(Uy).id;return t&&e!==void 0?t+"-"+e:e}function _B(e,t){g.useContext(mO).strict}function PB(e){const{drag:t,layout:r}=eo;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function kB(e,t){if(typeof Proxy>"u")return zm;const r=new Map,n=(s,a)=>zm(s,a,e,t),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,zm(a,void 0,e,t)),r.get(a))})}function kO({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function OB({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AB(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Um(e){return e===void 0||e===1}function Fg({scale:e,scaleX:t,scaleY:r}){return!Um(e)||!Um(t)||!Um(r)}function ds(e){return Fg(e)||OO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function OO(e){return $1(e.x)||$1(e.y)}function $1(e){return e&&e!=="0%"}function Id(e,t,r){const n=e-r,i=t*n;return r+i}function I1(e,t,r,n,i){return i!==void 0&&(e=Id(e,i,n)),Id(e,r,n)+t}function zg(e,t=0,r=1,n,i){e.min=I1(e.min,t,r,n,i),e.max=I1(e.max,t,r,n,i)}function AO(e,{x:t,y:r}){zg(e.x,t.translate,t.scale,t.originPoint),zg(e.y,r.translate,r.scale,r.originPoint)}const L1=.999999999999,B1=1.0000000000001;function EB(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,a;for(let l=0;l<i;l++){s=r[l],a=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Pa(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,AO(e,a)),n&&ds(s.latestValues)&&Pa(e,s.latestValues))}t.x<B1&&t.x>L1&&(t.x=1),t.y<B1&&t.y>L1&&(t.y=1)}function _a(e,t){e.min=e.min+t,e.max=e.max+t}function F1(e,t,r,n,i=.5){const s=qe(e.min,e.max,i);zg(e,t,r,s,n)}function Pa(e,t){F1(e.x,t.x,t.scaleX,t.scale,t.originX),F1(e.y,t.y,t.scaleY,t.scale,t.originY)}function EO(e,t){return kO(AB(e.getBoundingClientRect(),t))}function CB(e,t,r){const n=EO(e,r),{scroll:i}=t;return i&&(_a(n.x,i.offset.x),_a(n.y,i.offset.y)),n}const z1=()=>({translate:0,scale:1,origin:0,originPoint:0}),ka=()=>({x:z1(),y:z1()}),U1=()=>({min:0,max:0}),nt=()=>({x:U1(),y:U1()}),Ug={current:null},CO={current:!1};function TB(){if(CO.current=!0,!!Wy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Ug.current=e.matches;e.addEventListener("change",t),t()}else Ug.current=!1}const MB=new WeakMap;function DB(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Lt(i))e.addValue(n,i);else if(Lt(s))e.addValue(n,ln(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(n);e.addValue(n,ln(a!==void 0?a:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const W1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class RB{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ov,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=ar.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,ke.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=Qf(r),this.isVariantNode=gO(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&Lt(m)&&m.set(c[h])}}mount(t){var r;this.current=t,MB.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),CO.current||TB(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Ug.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),fn(this.notifyUpdate),fn(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=_o.has(t);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&ke.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in eo){const r=eo[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):nt()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<W1.length;n++){const i=W1[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=DB(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=ln(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(w2(n)||N2(n))?n=parseFloat(n):!K3(n)&&Ui.test(r)&&(n=sO(t,r)),this.setBaseTarget(t,Lt(n)?n.get():n)),Lt(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=xv(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!Lt(i)?i:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Hy),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){dv.render(this.render)}}class TO extends RB{constructor(){super(...arguments),this.KeyframeResolver=S3}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Lt(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function MO(e,{style:t,vars:r},n,i){const s=e.style;let a;for(a in t)s[a]=t[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function $B(e){return window.getComputedStyle(e)}class IB extends TO{constructor(){super(...arguments),this.type="html",this.renderInstance=MO}readValueFromInstance(t,r){var n;if(_o.has(r))return(n=this.projection)!=null&&n.isProjecting?Mg(r):V4(t,r);{const i=$B(t),s=(Jy(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return EO(t,r)}build(t,r,n){gv(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return bv(t,r,n)}}const DO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function LB(e,t,r,n){MO(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(DO.has(i)?i:wv(i),t.attrs[i])}class BB extends TO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=nt}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(_o.has(r)){const n=iO(r);return n&&n.default||0}return r=DO.has(r)?r:wv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return NO(t,r,n)}build(t,r,n){xO(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,i){LB(t,r,n,i)}mount(t){this.isSVGTag=wO(t.tagName),super.mount(t)}}const FB=(e,t)=>vv(e)?new BB(t):new IB(t,{allowProjection:e!==g.Fragment});function Ba(e,t,r){const n=e.getProps();return xv(n,t,r!==void 0?r:n.custom,e)}const Wg=e=>Array.isArray(e);function zB(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,ln(r))}function UB(e){return Wg(e)?e[e.length-1]||0:e}function WB(e,t){const r=Ba(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const l=UB(s[a]);zB(e,a,l)}}function VB(e){return!!(Lt(e)&&e.add)}function Vg(e,t){const r=e.getValue("willChange");if(VB(r))return r.add(t);if(!r&&Qn.WillChange){const n=new Qn.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function RO(e){return e.props[SO]}const KB=e=>e!==null;function qB(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(KB),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const HB={type:"spring",stiffness:500,damping:25,restSpeed:10},GB=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),YB={type:"keyframes",duration:.8},XB={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},JB=(e,{keyframes:t})=>t.length>2?YB:_o.has(e)?e.startsWith("scale")?GB(t[1]):HB:XB;function QB({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const jv=(e,t,r,n={},i,s)=>a=>{const l=lv(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-_n(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};QB(l)||Object.assign(d,JB(e,d)),d.duration&&(d.duration=_n(d.duration)),d.repeatDelay&&(d.repeatDelay=_n(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(Lg(d),d.delay===0&&(f=!0)),(Qn.instantAnimations||Qn.skipAnimations)&&(f=!0,Lg(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!s&&t.get()!==void 0){const h=qB(d.keyframes,l);if(h!==void 0){ke.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new av(d):new f3(d)};function ZB({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function $O(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(s=n);const c=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&ZB(u,d))continue;const m={delay:r,...lv(s||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const v=RO(e);if(v){const x=window.MotionHandoffAnimation(v,d,ke);x!==null&&(m.startTime=x,b=!0)}}Vg(e,d),f.start(jv(d,f,h,e.shouldReduceMotion&&tO.has(d)?{type:!1}:m,e,b));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{ke.update(()=>{a&&WB(e,a)})}),c}function IO(e,t,r,n=0,i=1){const s=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:l-s*n}function Kg(e,t,r={}){var c;const n=Ba(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all($O(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=i;return e5(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=i;if(l){const[u,d]=l==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function e5(e,t,r=0,n=0,i=0,s=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(Kg(c,t,{...a,delay:r+(typeof n=="function"?0:n)+IO(e.variantChildren,c,n,i,s)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function t5(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>Kg(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=Kg(e,t,r);else{const i=typeof t=="function"?Ba(e,t,r.custom):t;n=Promise.all($O(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function LO(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const r5=pv.length;function BO(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?BO(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<r5;r++){const n=pv[r],i=e.props[n];(ic(i)||i===!1)&&(t[n]=i)}return t}const n5=[...mv].reverse(),i5=mv.length;function s5(e){return t=>Promise.all(t.map(({animation:r,options:n})=>t5(e,r,n)))}function a5(e){let t=s5(e),r=V1(),n=!0;const i=c=>(u,d)=>{var h;const f=Ba(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...b}=f;u={...u,...b,...p}}return u};function s(c){t=c(e)}function a(c){const{props:u}=e,d=BO(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<i5;w++){const v=n5[w],x=r[v],y=u[v]!==void 0?u[v]:d[v],N=ic(y),j=v===c?x.isActive:null;j===!1&&(p=w);let S=y===d[v]&&y!==u[v]&&N;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),x.protectedKeys={...m},!x.isActive&&j===null||!y&&!x.prevProp||Jf(y)||typeof y=="boolean")continue;const P=o5(x.prevProp,y);let _=P||v===c&&x.isActive&&!S&&N||w>p&&N,A=!1;const z=Array.isArray(y)?y:[y];let C=z.reduce(i(v),{});j===!1&&(C={});const{prevResolvedValues:W={}}=x,L={...W,...C},K=V=>{_=!0,h.has(V)&&(A=!0,h.delete(V)),x.needsAnimating[V]=!0;const I=e.getValue(V);I&&(I.liveStyle=!1)};for(const V in L){const I=C[V],k=W[V];if(m.hasOwnProperty(V))continue;let B=!1;Wg(I)&&Wg(k)?B=!LO(I,k):B=I!==k,B?I!=null?K(V):h.add(V):I!==void 0&&h.has(V)?K(V):x.protectedKeys[V]=!0}x.prevProp=y,x.prevResolvedValues=C,x.isActive&&(m={...m,...C}),n&&e.blockInitialAnimation&&(_=!1);const $=S&&P;_&&(!$||A)&&f.push(...z.map(V=>{const I={type:v};if(typeof V=="string"&&n&&!$&&e.manuallyAnimateOnMount&&e.parent){const{parent:k}=e,B=Ba(k,V);if(k.enteringChildren&&B){const{delayChildren:J}=B.transition||{};I.delay=IO(k.enteringChildren,e,J)}}return{animation:V,options:I}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const v=Ba(e,Array.isArray(u.initial)?u.initial[0]:u.initial);v&&v.transition&&(w.transition=v.transition)}h.forEach(v=>{const x=e.getBaseTarget(v),y=e.getValue(v);y&&(y.liveStyle=!0),w[v]=x??null}),f.push({animation:w})}let b=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(b=!1),n=!1,b?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=V1(),n=!0}}}function o5(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!LO(t,e):!1}function os(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V1(){return{animate:os(!0),whileInView:os(),whileHover:os(),whileTap:os(),whileDrag:os(),whileFocus:os(),exit:os()}}class Xi{constructor(t){this.isMounted=!1,this.node=t}update(){}}class l5 extends Xi{constructor(t){super(t),t.animationState||(t.animationState=a5(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Jf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let c5=0;class u5 extends Xi{constructor(){super(...arguments),this.id=c5++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const d5={animation:{Feature:l5},exit:{Feature:u5}};function ac(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Tc(e){return{point:{x:e.pageX,y:e.pageY}}}const f5=e=>t=>fv(t)&&e(t,Tc(t));function Tl(e,t,r,n){return ac(e,t,f5(r),n)}const FO=1e-4,h5=1-FO,m5=1+FO,zO=.01,p5=0-zO,g5=0+zO;function Kt(e){return e.max-e.min}function y5(e,t,r){return Math.abs(e-t)<=r}function K1(e,t,r,n=.5){e.origin=n,e.originPoint=qe(t.min,t.max,e.origin),e.scale=Kt(r)/Kt(t),e.translate=qe(r.min,r.max,e.origin)-e.originPoint,(e.scale>=h5&&e.scale<=m5||isNaN(e.scale))&&(e.scale=1),(e.translate>=p5&&e.translate<=g5||isNaN(e.translate))&&(e.translate=0)}function Ml(e,t,r,n){K1(e.x,t.x,r.x,n?n.originX:void 0),K1(e.y,t.y,r.y,n?n.originY:void 0)}function q1(e,t,r){e.min=r.min+t.min,e.max=e.min+Kt(t)}function v5(e,t,r){q1(e.x,t.x,r.x),q1(e.y,t.y,r.y)}function H1(e,t,r){e.min=t.min-r.min,e.max=e.min+Kt(t)}function Dl(e,t,r){H1(e.x,t.x,r.x),H1(e.y,t.y,r.y)}function Rr(e){return[e("x"),e("y")]}const UO=({current:e})=>e?e.ownerDocument.defaultView:null,G1=(e,t)=>Math.abs(e-t);function x5(e,t){const r=G1(e.x,t.x),n=G1(e.y,t.y);return Math.sqrt(r**2+n**2)}class WO{constructor(t,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Vm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=x5(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:b}=h,{timestamp:w}=bt;this.history.push({...b,timestamp:w});const{onStart:v,onMove:x}=this.handlers;m||(v&&v(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=Wm(m,this.transformPagePoint),ke.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Vm(h.type==="pointercancel"?this.lastMoveEventInfo:Wm(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,v),b&&b(h,v)},!fv(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const l=Tc(t),c=Wm(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=bt;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Vm(c,this.history)),this.removeListeners=Ac(Tl(this.contextWindow,"pointermove",this.handlePointerMove),Tl(this.contextWindow,"pointerup",this.handlePointerUp),Tl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),fn(this.updatePoint)}}function Wm(e,t){return t?{point:t(e.point)}:e}function Y1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Vm({point:e},t){return{point:e,delta:Y1(e,VO(t)),offset:Y1(e,b5(t)),velocity:w5(t,.1)}}function b5(e){return e[0]}function VO(e){return e[e.length-1]}function w5(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=VO(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>_n(t)));)r--;if(!n)return{x:0,y:0};const s=Pn(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function j5(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?qe(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?qe(r,e,n.max):Math.min(e,r)),e}function X1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function N5(e,{top:t,left:r,bottom:n,right:i}){return{x:X1(e.x,r,i),y:X1(e.y,t,n)}}function J1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function S5(e,t){return{x:J1(e.x,t.x),y:J1(e.y,t.y)}}function _5(e,t){let r=.5;const n=Kt(e),i=Kt(t);return i>n?r=Za(t.min,t.max-n,e.min):n>i&&(r=Za(e.min,e.max-i,t.min)),En(0,1,r)}function P5(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const qg=.35;function k5(e=qg){return e===!1?e=0:e===!0&&(e=qg),{x:Q1(e,"left","right"),y:Q1(e,"top","bottom")}}function Q1(e,t,r){return{min:Z1(e,t),max:Z1(e,r)}}function Z1(e,t){return typeof e=="number"?e:e[t]||0}const O5=new WeakMap;class A5{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=nt(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Tc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:b}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=k3(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(v=>{let x=this.getAxisMotionValue(v).get()||0;if(kn.test(x)){const{projection:y}=this.visualElement;if(y&&y.layout){const N=y.layout.layoutBox[v];N&&(x=Kt(N)*(parseFloat(x)/100))}}this.originPoint[v]=x}),b&&ke.postRender(()=>b(f,h)),Vg(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:b,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:v}=h;if(p&&this.currentDirection===null){this.currentDirection=E5(v),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",h.point,v),this.updateAxis("y",h.point,v),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Rr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new WO(t,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:UO(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&ke.postRender(()=>l(n,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!Nu(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=j5(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;t&&Sa(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=N5(n.layoutBox,t):this.constraints=!1,this.elastic=k5(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Rr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=P5(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Sa(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=CB(n,i.root,this.visualElement.getTransformPagePoint());let a=S5(i.layout.layoutBox,s);if(r){const l=r(OB(a));this.hasMutatedConstraints=!!l,l&&(a=kO(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Rr(d=>{if(!Nu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Vg(this.visualElement,t),n.start(jv(t,n,0,r,this.visualElement,!1))}stopAnimation(){Rr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Rr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Rr(r=>{const{drag:n}=this.getProps();if(!Nu(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:l}=i.layout.layoutBox[r];s.set(t[r]-qe(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Sa(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();i[a]=_5({min:c,max:c},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rr(a=>{if(!Nu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(qe(c,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;O5.set(this.visualElement,this);const t=this.visualElement.current,r=Tl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Sa(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ke.read(n);const a=ac(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=qg,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:l}}}function Nu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function E5(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class C5 extends Xi{constructor(t){super(t),this.removeGroupControls=dr,this.removeListeners=dr,this.controls=new A5(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||dr}unmount(){this.removeGroupControls(),this.removeListeners()}}const ej=e=>(t,r)=>{e&&ke.postRender(()=>e(t,r))};class T5 extends Xi{constructor(){super(...arguments),this.removePointerDownListener=dr}onPointerDown(t){this.session=new WO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:UO(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:ej(t),onStart:ej(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ke.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Tl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function tj(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Zo={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(fe.test(e))e=parseFloat(e);else return e;const r=tj(e,t.target.x),n=tj(e,t.target.y);return`${r}% ${n}%`}},M5={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=Ui.parse(e);if(i.length>5)return n;const s=Ui.createTransformer(e),a=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+a]/=l,i[1+a]/=c;const u=qe(l,c,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}};let Km=!1;class D5 extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;rB(R5),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),Km&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),nd.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,Km=!0,i||t.layoutDependency!==r||r===void 0||t.isPresent!==s?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||ke.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dv.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;Km=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function KO(e){const[t,r]=hO(),n=g.useContext(Uy);return o.jsx(D5,{...e,layoutGroup:n,switchLayoutGroup:g.useContext(_O),isPresent:t,safeToRemove:r})}const R5={borderRadius:{...Zo,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Zo,borderTopRightRadius:Zo,borderBottomLeftRadius:Zo,borderBottomRightRadius:Zo,boxShadow:M5};function $5(e,t,r){const n=Lt(e)?e:ln(e);return n.start(jv("",n,t,r)),n.animation}const I5=(e,t)=>e.depth-t.depth;class L5{constructor(){this.children=[],this.isDirty=!1}add(t){Vy(this.children,t),this.isDirty=!0}remove(t){Ky(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(I5),this.isDirty=!1,this.children.forEach(t)}}function B5(e,t){const r=ar.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(fn(n),e(s-t))};return ke.setup(n,!0),()=>fn(n)}const qO=["TopLeft","TopRight","BottomLeft","BottomRight"],F5=qO.length,rj=e=>typeof e=="string"?parseFloat(e):e,nj=e=>typeof e=="number"||fe.test(e);function z5(e,t,r,n,i,s){i?(e.opacity=qe(0,r.opacity??1,U5(n)),e.opacityExit=qe(t.opacity??1,0,W5(n))):s&&(e.opacity=qe(t.opacity??1,r.opacity??1,n));for(let a=0;a<F5;a++){const l=`border${qO[a]}Radius`;let c=ij(t,l),u=ij(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||nj(c)===nj(u)?(e[l]=Math.max(qe(rj(c),rj(u),n),0),(kn.test(u)||kn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=qe(t.rotate||0,r.rotate||0,n))}function ij(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const U5=HO(0,.5,E2),W5=HO(.5,.95,dr);function HO(e,t,r){return n=>n<e?0:n>t?1:r(Za(e,t,n))}function sj(e,t){e.min=t.min,e.max=t.max}function Cr(e,t){sj(e.x,t.x),sj(e.y,t.y)}function aj(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function oj(e,t,r,n,i){return e-=t,e=Id(e,1/r,n),i!==void 0&&(e=Id(e,1/i,n)),e}function V5(e,t=0,r=1,n=.5,i,s=e,a=e){if(kn.test(t)&&(t=parseFloat(t),t=qe(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=qe(s.min,s.max,n);e===s&&(l-=t),e.min=oj(e.min,t,r,l,i),e.max=oj(e.max,t,r,l,i)}function lj(e,t,[r,n,i],s,a){V5(e,t[r],t[n],t[i],t.scale,s,a)}const K5=["x","scaleX","originX"],q5=["y","scaleY","originY"];function cj(e,t,r,n){lj(e.x,t,K5,r?r.x:void 0,n?n.x:void 0),lj(e.y,t,q5,r?r.y:void 0,n?n.y:void 0)}function uj(e){return e.translate===0&&e.scale===1}function GO(e){return uj(e.x)&&uj(e.y)}function dj(e,t){return e.min===t.min&&e.max===t.max}function H5(e,t){return dj(e.x,t.x)&&dj(e.y,t.y)}function fj(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function YO(e,t){return fj(e.x,t.x)&&fj(e.y,t.y)}function hj(e){return Kt(e.x)/Kt(e.y)}function mj(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class G5{constructor(){this.members=[]}add(t){Vy(this.members,t),t.scheduleRender()}remove(t){if(Ky(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Y5(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const qm=["","X","Y","Z"],X5=1e3;let J5=0;function Hm(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function XO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=RO(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",ke,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&XO(n)}function JO({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},l=t==null?void 0:t()){this.id=J5++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(eF),this.nodes.forEach(iF),this.nodes.forEach(sF),this.nodes.forEach(tF)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new L5)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Hy),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=hv(a)&&!U3(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;ke.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=B5(h,250),nd.hasAnimatedSinceResize&&(nd.hasAnimatedSinceResize=!1,this.nodes.forEach(yj)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||uF,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),v=!this.targetLayout||!YO(this.targetLayout,m),x=!f&&h;if(this.options.layoutRoot||this.resumeFrom||x||f&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...lv(p,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,x)}else f||yj(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aF),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&XO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pj);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(gj);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(nF),this.nodes.forEach(Q5),this.nodes.forEach(Z5)):this.nodes.forEach(gj),this.clearAllSnapshots();const l=ar.now();bt.delta=En(0,1e3/60,l-bt.timestamp),bt.timestamp=l,bt.isProcessing=!0,Rm.update.process(bt),Rm.preRender.process(bt),Rm.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dv.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rF),this.sharedNodes.forEach(oF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Kt(this.snapshot.measuredBox.x)&&!Kt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=nt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!GO(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||ds(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),dF(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return nt();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(fF))){const{scroll:d}=this.root;d&&(_a(l.x,d.offset.x),_a(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=nt();if(Cr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&Cr(l,a),_a(l.x,f.offset.x),_a(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=nt();Cr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Pa(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),ds(d.latestValues)&&Pa(c,d.latestValues)}return ds(this.latestValues)&&Pa(c,this.latestValues),c}removeTransform(a){const l=nt();Cr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!ds(u.latestValues))continue;Fg(u.latestValues)&&u.updateSnapshot();const d=nt(),f=u.measurePageBox();Cr(d,f),cj(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return ds(this.latestValues)&&cj(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Dl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=nt(),this.targetWithTransforms=nt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),v5(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),AO(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=nt(),this.relativeTargetOrigin=nt(),Dl(this.relativeTargetOrigin,this.target,m.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Fg(this.parent.latestValues)||OO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Cr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;EB(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=nt());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(aj(this.prevProjectionDelta.x,this.projectionDelta.x),aj(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!mj(this.projectionDelta.x,this.prevProjectionDelta.x)||!mj(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ka(),this.projectionDelta=ka(),this.projectionDeltaWithTransform=ka()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=ka();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=nt(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,b=m!==p,w=this.getStack(),v=!w||w.members.length<=1,x=!!(b&&!v&&this.options.crossfade===!0&&!this.path.some(cF));this.animationProgress=0;let y;this.mixTargetDelta=N=>{const j=N/1e3;vj(f.x,a.x,j),vj(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),lF(this.relativeTarget,this.relativeTargetOrigin,h,j),y&&H5(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=nt()),Cr(y,this.relativeTarget)),b&&(this.animationValues=d,z5(d,u,this.latestValues,j,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(fn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ke.update(()=>{nd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ln(0)),this.currentAnimation=$5(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(X5),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&QO(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||nt();const f=Kt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Kt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}Cr(l,c),Pa(l,d),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new G5),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Hm("z",a,u,this.animationValues);for(let d=0;d<qm.length;d++)Hm(`rotate${qm[d]}`,a,u,this.animationValues),Hm(`skew${qm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=rd(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=rd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!ds(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=Y5(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in sc){if(d[p]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:v}=sc[p],x=f==="none"?d[p]:b(d[p],u);if(w){const y=w.length;for(let N=0;N<y;N++)a[w[N]]=x}else v?this.options.visualElement.renderState.vars[p]=x:a[p]=x}this.options.layoutId&&(a.pointerEvents=u===this?rd(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(pj),this.root.sharedNodes.clear()}}}function Q5(e){e.updateLayout()}function Z5(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,a=t.source!==e.layout.source;s==="size"?Rr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Kt(h);h.min=n[f].min,h.max=h.min+m}):QO(s,t.layoutBox,n)&&Rr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Kt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=ka();Ml(l,n,t.layoutBox);const c=ka();a?Ml(c,e.applyTransform(i,!0),t.measuredBox):Ml(c,n,t.layoutBox);const u=!GO(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=nt();Dl(p,t.layoutBox,h.layoutBox);const b=nt();Dl(b,n,m.layoutBox),YO(p,b)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function eF(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rF(e){e.clearSnapshot()}function pj(e){e.clearMeasurements()}function gj(e){e.isLayoutDirty=!1}function nF(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function yj(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function iF(e){e.resolveTargetDelta()}function sF(e){e.calcProjection()}function aF(e){e.resetSkewAndRotation()}function oF(e){e.removeLeadSnapshot()}function vj(e,t,r){e.translate=qe(t.translate,0,r),e.scale=qe(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function xj(e,t,r,n){e.min=qe(t.min,r.min,n),e.max=qe(t.max,r.max,n)}function lF(e,t,r,n){xj(e.x,t.x,r.x,n),xj(e.y,t.y,r.y,n)}function cF(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const uF={duration:.45,ease:[.4,0,.1,1]},bj=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),wj=bj("applewebkit/")&&!bj("chrome/")?Math.round:dr;function jj(e){e.min=wj(e.min),e.max=wj(e.max)}function dF(e){jj(e.x),jj(e.y)}function QO(e,t,r){return e==="position"||e==="preserve-aspect"&&!y5(hj(t),hj(r),.2)}function fF(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const hF=JO({attachResizeListener:(e,t)=>ac(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gm={current:void 0},ZO=JO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Gm.current){const e=new hF({});e.mount(window),e.setOptions({layoutScroll:!0}),Gm.current=e}return Gm.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mF={pan:{Feature:T5},drag:{Feature:C5,ProjectionNode:ZO,MeasureLayout:KO}};function Nj(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ke.postRender(()=>s(t,Tc(t)))}class pF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=O3(t,(r,n)=>(Nj(this.node,n,"Start"),i=>Nj(this.node,i,"End"))))}unmount(){}}class gF extends Xi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ac(ac(this.node.current,"focus",()=>this.onFocus()),ac(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Sj(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ke.postRender(()=>s(t,Tc(t)))}class yF extends Xi{mount(){const{current:t}=this.node;t&&(this.unmount=T3(t,(r,n)=>(Sj(this.node,n,"Start"),(i,{success:s})=>Sj(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Hg=new WeakMap,Ym=new WeakMap,vF=e=>{const t=Hg.get(e.target);t&&t(e)},xF=e=>{e.forEach(vF)};function bF({root:e,...t}){const r=e||document;Ym.has(r)||Ym.set(r,{});const n=Ym.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(xF,{root:e,...t})),n[i]}function wF(e,t,r){const n=bF(t);return Hg.set(e,r),n.observe(e),()=>{Hg.delete(e),n.unobserve(e)}}const jF={some:0,all:1};class NF extends Xi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:jF[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return wF(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(SF(t,r))&&this.startObserver()}unmount(){}}function SF({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const _F={inView:{Feature:NF},tap:{Feature:yF},focus:{Feature:gF},hover:{Feature:pF}},PF={layout:{ProjectionNode:ZO,MeasureLayout:KO}},kF={...d5,..._F,...mF,...PF},Be=kB(kF,FB),OF=50,_j=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),AF=()=>({time:0,x:_j(),y:_j()}),EF={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function Pj(e,t,r,n){const i=r[t],{length:s,position:a}=EF[t],l=i.current,c=r.time;i.current=e[`scroll${a}`],i.scrollLength=e[`scroll${s}`]-e[`client${s}`],i.offset.length=0,i.offset[0]=0,i.offset[1]=i.scrollLength,i.progress=Za(0,i.scrollLength,i.current);const u=n-c;i.velocity=u>OF?0:Gy(i.current-l,u)}function CF(e,t,r){Pj(e,"x",t,r),Pj(e,"y",t,r),t.time=r}function TF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(uv(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const i=n.getBoundingClientRect();n=n.parentElement;const s=n.getBoundingClientRect();r.x+=i.left-s.left,r.y+=i.top-s.top}else if(n instanceof SVGGraphicsElement){const{x:i,y:s}=n.getBBox();r.x+=i,r.y+=s;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const Gg={start:0,center:.5,end:1};function kj(e,t,r=0){let n=0;if(e in Gg&&(e=Gg[e]),typeof e=="string"){const i=parseFloat(e);e.endsWith("px")?n=i:e.endsWith("%")?e=i/100:e.endsWith("vw")?n=i/100*document.documentElement.clientWidth:e.endsWith("vh")?n=i/100*document.documentElement.clientHeight:e=i}return typeof e=="number"&&(n=t*e),r+n}const MF=[0,0];function DF(e,t,r,n){let i=Array.isArray(e)?e:MF,s=0,a=0;return typeof e=="number"?i=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?i=e.split(" "):i=[e,Gg[e]?e:"0"]),s=kj(i[0],r,n),a=kj(i[1],t),s-a}const RF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},$F={x:0,y:0};function IF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function LF(e,t,r){const{offset:n=RF.All}=r,{target:i=e,axis:s="y"}=r,a=s==="y"?"height":"width",l=i!==e?TF(i,e):$F,c=i===e?{width:e.scrollWidth,height:e.scrollHeight}:IF(i),u={width:e.clientWidth,height:e.clientHeight};t[s].offset.length=0;let d=!t[s].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=DF(n[h],u[a],c[a],l[s]);!d&&m!==t[s].interpolatorOffsets[h]&&(d=!0),t[s].offset[h]=m}d&&(t[s].interpolate=nv(t[s].offset,K2(n),{clamp:!1}),t[s].interpolatorOffsets=[...t[s].offset]),t[s].progress=En(0,1,t[s].interpolate(t[s].current))}function BF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function FF(e,t,r,n={}){return{measure:i=>{BF(e,n.target,r),CF(e,r,i),(n.offset||n.target)&&LF(e,r,n)},notify:()=>t(r)}}const el=new WeakMap,Oj=new WeakMap,Xm=new WeakMap,Aj=e=>e===document.scrollingElement?window:e;function eA(e,{container:t=document.scrollingElement,...r}={}){if(!t)return dr;let n=Xm.get(t);n||(n=new Set,Xm.set(t,n));const i=AF(),s=FF(t,e,i,r);if(n.add(s),!el.has(t)){const l=()=>{for(const f of n)f.measure(bt.timestamp);ke.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>ke.read(l);el.set(t,u);const d=Aj(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&Oj.set(t,z3(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=el.get(t);return ke.read(a,!1,!0),()=>{var u;fn(a);const l=Xm.get(t);if(!l||(l.delete(s),l.size))return;const c=el.get(t);el.delete(t),c&&(Aj(t).removeEventListener("scroll",c),(u=Oj.get(t))==null||u(),window.removeEventListener("resize",c))}}const Ej=new Map;function zF(e){const t={value:0},r=eA(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function tA({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const i=Ej.get(t)??new Map;Ej.set(t,i);const s=r.target??"self",a=i.get(s)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&Y2()?new ScrollTimeline({source:t,axis:n}):zF({container:t,...r})),a[l]}function UF(e,t){const r=tA(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),fO(i=>{n.time=n.duration*i},r))})}function WF(e){return e.length===2}function VF(e,t){return WF(e)?eA(r=>{e(r[t.axis].progress,r)},t):fO(e,tA(t))}function KF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return dr;const i={axis:t,container:r,...n};return typeof e=="function"?VF(e,i):UF(e,i)}const qF=()=>({scrollX:ln(0),scrollY:ln(0),scrollXProgress:ln(0),scrollYProgress:ln(0)}),Su=e=>e?!e.current:!1;function HF({container:e,target:t,...r}={}){const n=jo(qF),i=g.useRef(null),s=g.useRef(!1),a=g.useCallback(()=>(i.current=KF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=i.current)==null||l.call(i)}),[e,t,JSON.stringify(r.offset)]);return Hf(()=>{if(s.current=!1,Su(e)||Su(t)){s.current=!0;return}else return a()},[a]),g.useEffect(()=>{if(s.current)return Qa(!Su(e)),Qa(!Su(t)),a()},[a]),n}function GF(e){const t=jo(()=>ln(e)),{isStatic:r}=g.useContext(Yf);if(r){const[,n]=g.useState(e);g.useEffect(()=>t.on("change",n),[])}return t}function rA(e,t){const r=GF(t()),n=()=>r.set(t());return n(),Hf(()=>{const i=()=>ke.preRender(n,!1,!0),s=e.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),fn(n)}}),r}function YF(e){Cl.current=[],e();const t=rA(Cl.current,e);return Cl.current=void 0,t}function Jm(e,t,r,n){if(typeof e=="function")return YF(e);const i=typeof t=="function"?t:W3(t,r,n);return Array.isArray(e)?Cj(e,i):Cj([e],([s])=>i(s))}function Cj(e,t){const r=jo(()=>[]);return rA(e,()=>{r.length=0;const n=e.length;for(let i=0;i<n;i++)r[i]=e[i].get();return t(r)})}function Tj({onViewChange:e}){var I,k,B,J,D,ee;const{user:t,logout:r}=fr(),[n,i]=g.useState(!1),[s,a]=g.useState(!1),[l,c]=g.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[u,d]=g.useState([]),[f,h]=g.useState([]),[m,p]=g.useState([]),[b,w]=g.useState([]),[v,x]=g.useState([]),[y,N]=g.useState(!0),[j,S]=g.useState("all"),[P,_]=g.useState(0),A=g.useRef(null),{scrollYProgress:z}=HF(A.current?{target:A,offset:["start start","end start"],layoutEffect:!1}:void 0),C=Jm(z,[0,1],[0,-200]),W=Jm(z,[0,.5],[1,0]),L=Jm(z,[0,1],[0,-100]),K=async()=>{try{const{data:G}=await Q.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!G)return;const E={};G.forEach(M=>{const{player1_name:U,player2_name:T,winner_name:Y}=M,te=M.normalized_player1_name||M.player1_name.toLowerCase(),R=M.normalized_player2_name||M.player2_name.toLowerCase(),X=M.normalized_winner_name||M.winner_name.toLowerCase();E[U]||(E[U]={wins:0,total:0,tournaments:new Set}),E[T]||(E[T]={wins:0,total:0,tournaments:new Set}),E[U].total++,E[T].total++,Y===U?E[U].wins++:Y===T&&E[T].wins++});const q=Object.entries(E).map(([M,U])=>({name:M,wins:U.wins,tournaments:U.tournaments.size,winRate:U.total>0?Math.round(U.wins/U.total*100):0})).filter(M=>M.wins>0).sort((M,U)=>U.wins!==M.wins?U.wins-M.wins:U.winRate-M.winRate).slice(0,5);h(q)}catch(G){console.error("Error fetching top players:",G)}},$=async()=>{try{const{data:G}=await Q.from("tournaments").select("*"),{data:E}=await Q.from("match_results").select("*"),q=new Set;E==null||E.forEach(T=>{T.player1_name&&q.add(T.player1_name),T.player2_name&&q.add(T.player2_name)});const M=new Date,U=(G==null?void 0:G.filter(T=>new Date(T.tournament_date)>M&&T.status!=="completed"))||[];c({totalTournaments:(G==null?void 0:G.length)||0,activePlayers:q.size,upcomingEvents:U.length,completedMatches:(E==null?void 0:E.length)||0}),d(U.slice(0,3)),x(G||[])}catch(G){console.error("Error fetching dashboard stats:",G)}},O=async()=>{if(!(!t||t.id.startsWith("guest-")))try{const{data:G}=await Q.from("deck_presets").select("*").eq("user_id",t.id);p(G||[])}catch(G){console.error("Error fetching deck presets:",G)}},V=async()=>{try{let G=Q.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});j!=="all"&&(G=G.eq("tournament_id",j));const{data:E}=await G.limit(20);w(E||[])}catch(G){console.error("Error fetching recent matches:",G)}};return g.useEffect(()=>{(async()=>{N(!0),await Promise.all([$(),K(),O(),V()]),N(!1)})()},[t]),g.useEffect(()=>{V()},[j]),g.useEffect(()=>{if(f.length<=1)return;const G=setInterval(()=>{_(E=>(E+1)%f.length)},5e3);return()=>clearInterval(G)},[f.length]),y?o.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:o.jsxs(Be.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-16 h-16 border-4 border-blue-500/30 border-t-blue-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("div",{className:"absolute inset-0 w-16 h-16 border-4 border-purple-500/20 border-b-purple-500 rounded-full animate-spin mx-auto",style:{animationDirection:"reverse",animationDuration:"1.5s"}})]}),o.jsx("p",{className:"text-slate-300 text-lg font-medium",children:"Loading OBC Portal..."})]})}):o.jsxs("div",{className:"min-h-screen bg-slate-900 text-white overflow-hidden",children:[o.jsx("div",{className:"fixed top-6 right-6 z-50",children:t&&!t.id.startsWith("guest-")?o.jsxs("div",{className:"relative",children:[o.jsxs(Be.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>i(!n),className:"flex items-center space-x-3 bg-slate-800/90 backdrop-blur-sm rounded-xl px-4 py-3 shadow-lg hover:bg-slate-700/90 transition-all duration-200",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:t.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"hidden sm:block text-left",children:[o.jsx("p",{className:"font-semibold text-sm text-white",children:t.username}),o.jsx("p",{className:"text-xs text-slate-300 capitalize",children:t.role.replace("_"," ")})]})]}),o.jsx(ju,{children:n&&o.jsxs(Be.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},className:"absolute top-full right-0 mt-2 w-48 bg-slate-800 border border-slate-700 rounded-xl shadow-xl py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-slate-700",children:[o.jsx("p",{className:"font-semibold text-white",children:t.username}),o.jsx("p",{className:"text-sm text-slate-400 capitalize",children:t.role.replace("_"," ")})]}),o.jsxs("button",{className:"w-full text-left px-4 py-3 hover:bg-slate-700 flex items-center space-x-2 text-slate-300 hover:text-white transition-colors",children:[o.jsx(v2,{size:16}),o.jsx("span",{children:"Settings"})]}),o.jsxs("button",{onClick:async()=>{i(!1),await r()},className:"w-full text-left px-4 py-3 hover:bg-red-900/20 flex items-center space-x-2 text-red-400 hover:text-red-300 transition-colors",children:[o.jsx(g2,{size:16}),o.jsx("span",{children:"Logout"})]})]})})]}):o.jsxs(Be.button,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center space-x-2 shadow-lg",children:[o.jsx(p2,{size:20}),o.jsx("span",{children:"Login"})]})}),n&&o.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>i(!1)}),o.jsxs(Be.section,{ref:A,style:{y:C,opacity:W},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-slate-900/60 via-slate-900/40 to-slate-900/80"})]}),o.jsx("div",{className:"relative z-10 text-center px-6 max-w-4xl mx-auto",children:o.jsxs(Be.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:1,delay:.3},children:[o.jsx("h1",{className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-blue-400 via-purple-400 to-blue-400 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 leading-relaxed",children:"Welcome to the home of competitive Beyblade in Ormoc. Let it rip!"}),o.jsxs(Be.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"group bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 hover:shadow-xl hover:shadow-blue-500/25 flex items-center justify-center space-x-3",children:[o.jsx(mt,{size:24}),o.jsx("span",{children:"Join Tournament"}),o.jsx(Qo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]}),o.jsxs("button",{onClick:()=>e==null?void 0:e("analytics"),className:"group bg-slate-800/80 hover:bg-slate-700/80 backdrop-blur-sm text-white border border-slate-600 hover:border-slate-500 px-8 py-4 rounded-xl font-semibold text-lg transition-all duration-300 flex items-center justify-center space-x-3",children:[o.jsx(Nn,{size:24}),o.jsx("span",{children:"View Analytics"}),o.jsx(Qo,{size:20,className:"group-hover:translate-x-1 transition-transform"})]})]})]})}),o.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1.5},className:"absolute bottom-8 left-1/2 transform -translate-x-1/2",children:o.jsx("div",{className:"w-6 h-10 border-2 border-white/30 rounded-full flex justify-center",children:o.jsx("div",{className:"w-1 h-3 bg-white/60 rounded-full mt-2 animate-bounce"})})})]}),o.jsxs(Be.div,{style:{y:L},className:"relative z-20 bg-slate-900",children:[o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-900 to-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Be.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community at a Glance"}),o.jsx("p",{className:"text-slate-300 text-lg max-w-2xl mx-auto",children:"Track the pulse of our competitive scene with real-time statistics and performance metrics"})]}),o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:"Total Tournaments",value:l.totalTournaments,icon:mt,color:"from-yellow-500 to-orange-500",bgColor:"bg-yellow-500/10"},{label:"Active Bladers",value:l.activePlayers,icon:ct,color:"from-green-500 to-emerald-500",bgColor:"bg-green-500/10"},{label:"Upcoming Events",value:l.upcomingEvents,icon:zi,color:"from-blue-500 to-cyan-500",bgColor:"bg-blue-500/10"},{label:"Total Matches",value:l.completedMatches,icon:wo,color:"from-purple-500 to-pink-500",bgColor:"bg-purple-500/10"}].map((G,E)=>o.jsxs(Be.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:E*.1},whileHover:{scale:1.05},viewport:{once:!0},className:`${G.bgColor} backdrop-blur-sm border border-white/10 rounded-2xl p-6 text-center hover:shadow-xl transition-all duration-300`,children:[o.jsx("div",{className:`w-12 h-12 bg-gradient-to-r ${G.color} rounded-xl flex items-center justify-center mx-auto mb-4`,children:o.jsx(G.icon,{className:"text-white",size:24})}),o.jsx("div",{className:"text-3xl font-bold text-white mb-2",children:G.value}),o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:G.label})]},G.label))})]})}),o.jsx("section",{className:"py-20 bg-slate-800",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Be.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Quick Access Hub"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Jump into action with our most popular features"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[o.jsxs(Be.button,{onClick:()=>e==null?void 0:e("tournaments"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-blue-600 to-blue-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-blue-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(mt,{className:"text-white",size:32})}),l.upcomingEvents>0&&o.jsxs("span",{className:"bg-green-400 text-slate-900 px-3 py-1 rounded-full text-xs font-bold",children:[l.upcomingEvents," LIVE"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Tournament Hub"}),o.jsx("p",{className:"text-blue-100 mb-6",children:"Register for upcoming battles and view tournament brackets"}),u.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:u[0].name}),o.jsxs("div",{className:"text-blue-200 text-sm",children:[new Date(u[0].tournament_date).toLocaleDateString()," • ",u[0].location]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-blue-200 text-sm",children:[u[0].current_participants,"/",u[0].max_participants," registered"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Register Now"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]}):o.jsx("div",{className:"text-blue-200",children:"No upcoming tournaments"})]}),o.jsxs(Be.button,{onClick:()=>e==null?void 0:e("analytics"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.1},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-purple-600 to-purple-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-purple-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(kc,{className:"text-white",size:32})}),o.jsx("span",{className:"bg-purple-300 text-purple-900 px-3 py-1 rounded-full text-xs font-bold",children:"LIVE DATA"})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Performance Analytics"}),o.jsx("p",{className:"text-purple-100 mb-6",children:"Deep dive into meta trends and player performance metrics"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:"Meta Analysis Available"}),o.jsxs("div",{className:"text-purple-200 text-sm",children:[l.completedMatches," matches analyzed • Real-time updates"]}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"View Analytics"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]}),o.jsxs(Be.button,{onClick:()=>e==null?void 0:e("inventory"),initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.6,delay:.2},whileHover:{scale:1.02,y:-8},whileTap:{scale:.98},viewport:{once:!0},className:"group bg-gradient-to-br from-orange-600 to-orange-700 rounded-2xl p-8 text-left w-full hover:shadow-2xl hover:shadow-orange-500/20 transition-all duration-300",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:o.jsx(Oc,{className:"text-white",size:32})}),o.jsxs("span",{className:"bg-orange-300 text-orange-900 px-3 py-1 rounded-full text-xs font-bold",children:[m.length," SAVED"]})]}),o.jsx("h3",{className:"text-white font-bold text-2xl mb-3",children:"Deck Builder"}),o.jsx("p",{className:"text-orange-100 mb-6",children:"Create and optimize your Beyblade combinations"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("div",{className:"text-white font-semibold",children:t&&!t.id.startsWith("guest-")?`${m.length} deck presets saved`:"Build custom combinations"}),o.jsx("div",{className:"text-orange-200 text-sm",children:"Track inventory • Save presets • Optimize builds"}),o.jsxs("div",{className:"flex items-center text-white font-medium group-hover:translate-x-2 transition-transform",children:[o.jsx("span",{children:"Start Building"}),o.jsx(Qo,{size:16,className:"ml-2"})]})]})]})]})]})}),o.jsx("section",{className:"py-20 bg-gradient-to-b from-slate-800 to-slate-900",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs(Be.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl font-bold text-white mb-4",children:"Community Champions"}),o.jsx("p",{className:"text-slate-300 text-lg",children:"Celebrating our top performers and rising stars"})]}),f.length>0&&o.jsxs(Be.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"relative",children:[o.jsx(ju,{mode:"wait",children:o.jsxs(Be.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"bg-gradient-to-r from-slate-800 to-slate-900 border border-slate-700 rounded-3xl p-12 text-center relative overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-yellow-500/5 to-orange-500/5"}),o.jsxs("div",{className:"relative z-10",children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-28 h-28 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-5xl font-bold text-black shadow-2xl",children:(I=f[P])==null?void 0:I.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute -top-3 -right-3 w-10 h-10 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(m2,{size:20,className:"text-black"})})]})}),o.jsx("h3",{className:"text-3xl font-bold text-white mb-3",children:(k=f[P])==null?void 0:k.name}),o.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-8",children:[o.jsx(x2,{className:"text-yellow-400",size:20}),o.jsx("span",{className:"text-yellow-400 font-semibold text-lg",children:"Community Champion"})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-lg mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-blue-400 mb-2",children:(B=f[P])==null?void 0:B.wins}),o.jsx("div",{className:"text-slate-400",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold text-purple-400 mb-2",children:(J=f[P])==null?void 0:J.tournaments}),o.jsx("div",{className:"text-slate-400",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold text-green-400 mb-2",children:[(D=f[P])==null?void 0:D.winRate,"%"]}),o.jsx("div",{className:"text-slate-400",children:"Win Rate"})]})]})]})]},P)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-8",children:f.map((G,E)=>o.jsx("button",{onClick:()=>_(E),className:`w-3 h-3 rounded-full transition-all duration-300 ${E===P?"bg-yellow-400 scale-125":"bg-slate-600 hover:bg-slate-500"}`},E))})]})]})}),o.jsx("section",{className:"py-20 bg-slate-900",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs(Be.div,{initial:{opacity:0,y:40},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700 rounded-2xl p-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[o.jsxs("div",{children:[o.jsxs("h3",{className:"text-2xl font-bold text-white flex items-center mb-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full animate-pulse mr-3"}),"Live Match Results"]}),o.jsx("p",{className:"text-slate-400",children:"Real-time updates from ongoing tournaments"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("select",{value:j,onChange:G=>S(G.target.value),className:"bg-slate-700 border border-slate-600 rounded-lg px-4 py-2 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),v.map(G=>o.jsx("option",{value:G.id,children:G.name},G.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),o.jsx(ju,{mode:"wait",children:b.length===0?o.jsxs(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-16",children:[o.jsx("div",{className:"w-20 h-20 bg-slate-700/50 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(Xa,{size:40,className:"text-slate-400"})}),o.jsx("h4",{className:"text-xl font-semibold text-white mb-2",children:"No Recent Activity"}),o.jsx("p",{className:"text-slate-400",children:j==="all"?"No matches recorded yet across all tournaments":`No matches found for ${((ee=v.find(G=>G.id===j))==null?void 0:ee.name)||"this tournament"}`})]}):o.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:b.slice(0,6).map((G,E)=>{var q;return o.jsx(Be.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:E*.1},className:"bg-slate-700/30 border border-slate-600/50 rounded-xl p-6 hover:bg-slate-700/50 transition-all duration-200",children:o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:"W"}),o.jsxs("div",{children:[o.jsx("div",{className:"text-white font-semibold",children:G.winner_name}),o.jsxs("div",{className:"text-slate-400 text-sm",children:["defeated ",G.winner_name===G.player1_name?G.player2_name:G.player1_name]})]})]}),(G.player1_beyblade||G.player2_beyblade)&&o.jsx("div",{className:"text-xs text-slate-500 font-mono bg-slate-800/50 rounded px-2 py-1",children:G.winner_name===G.player1_name?`${G.player1_beyblade||"Unknown"} vs ${G.player2_beyblade||"Unknown"}`:`${G.player2_beyblade||"Unknown"} vs ${G.player1_beyblade||"Unknown"}`})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:"text-slate-300 text-sm font-medium",children:((q=G.outcome)==null?void 0:q.split(" (")[0])||"Victory"}),o.jsx("div",{className:"text-slate-500 text-xs mt-1",children:new Date(G.submitted_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},`${G.tournament_id}-${G.submitted_at}-${E}`)})})})]})})}),o.jsx(Be.footer,{initial:{opacity:0},whileInView:{opacity:1},transition:{duration:.8},viewport:{once:!0},className:"border-t border-slate-800 bg-slate-950 py-12",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6",children:o.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-6 md:space-y-0",children:[o.jsxs("div",{className:"text-center md:text-left",children:[o.jsx("h4",{className:"text-white font-bold text-lg mb-2",children:"Ormoc Beyblade Club"}),o.jsx("p",{className:"text-slate-400",children:"Building the future of competitive Beyblade in Ormoc"}),o.jsx("p",{className:"text-slate-500 text-sm mt-1",children:"Created by Jedynsay"})]}),o.jsxs("div",{className:"flex items-center space-x-6",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 font-medium text-sm",children:"System Online"})]}),o.jsx("div",{className:"text-slate-400 text-sm",children:"Portal v0.5.3"})]})]})})})]}),o.jsx(ju,{children:s&&o.jsxs(o.Fragment,{children:[o.jsx(Be.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50",onClick:()=>a(!1)}),o.jsx(Be.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-white rounded-2xl shadow-2xl max-w-md w-full mx-4",children:[o.jsx(b2,{onLoginSuccess:()=>a(!1)}),o.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 w-8 h-8 bg-gray-100 hover:bg-gray-200 rounded-full flex items-center justify-center text-gray-600 hover:text-gray-800 transition-colors",children:o.jsx(Ft,{size:16})})]})})]})})]})}function XF({stats:e}){const t=[{key:"attack",label:"Attack",color:"bg-red-500",icon:o.jsx(Oc,{size:12,className:"text-red-500"}),max:200},{key:"defense",label:"Defense",color:"bg-blue-500",icon:o.jsx(As,{size:12,className:"text-blue-500"}),max:200},{key:"stamina",label:"Stamina",color:"bg-green-500",icon:o.jsx(Fy,{size:12,className:"text-green-500"}),max:200},{key:"dash",label:"Dash",color:"bg-yellow-500",icon:o.jsx(Xa,{size:12,className:"text-yellow-500"}),max:50},{key:"burstRes",label:"Burst Res",color:"bg-purple-500",icon:o.jsx(zy,{size:12,className:"text-purple-500"}),max:80}];return o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"space-y-2",children:t.map(({key:r,label:n,color:i,icon:s,max:a})=>o.jsxs("div",{className:"flex items-center",children:[o.jsxs("div",{className:"flex items-center w-20 text-xs font-medium text-gray-600",children:[s,o.jsx("span",{className:"ml-1",children:n})]}),o.jsx("div",{className:"flex-1 mx-3",children:o.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:o.jsx("div",{className:`h-2 rounded-full ${i}`,style:{width:`${Math.min(e[r]/a*100,100)}%`}})})}),o.jsx("div",{className:"w-8 text-xs font-bold text-gray-700 text-right",children:e[r]})]},r))})]})}function JF({tournament:e,onClose:t}){var D,ee,G;const{user:r}=fr(),{alert:n}=Yi(),[i,s]=g.useState(""),[a,l]=g.useState(e.is_free?"free":"cash"),[c,u]=g.useState([{id:"1",isCustomLine:!1,parts:{}}]),[d,f]=g.useState([]),[h,m]=g.useState(""),[p,b]=g.useState(!1),[w,v]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[x,y]=g.useState(!1),[N,j]=g.useState(null),[S,P]=g.useState([]);g.useEffect(()=>{p&&r&&!r.id.startsWith("guest-")?s(r.username):p||s("")},[p,r]),g.useEffect(()=>{_(),A(),z()},[]);const _=async()=>{y(!0),j(null);try{const[E,q,M,U,T]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);if(E.error)throw E.error;if(q.error)throw q.error;if(M.error)throw M.error;if(U.error)throw U.error;if(T.error)throw T.error;v({blades:E.data||[],ratchets:q.data||[],bits:M.data||[],lockchips:U.data||[],assistBlades:T.data||[]})}catch(E){console.error(E),j("Failed to load Beyblade parts. Please try again.")}finally{y(!1)}},A=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:E,error:q}=await Q.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(q)throw q;f(E||[])}catch(E){console.error(E)}},z=async()=>{try{const{data:E,error:q}=await Q.from("tournament_registrations").select("player_name").eq("tournament_id",e.id).eq("status","confirmed");if(q)throw q;P((E||[]).map(M=>M.player_name.toLowerCase().trim()))}catch(E){console.error("Error fetching player names",E)}},C=E=>E==="Custom"?["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"]:["Blade","Ratchet","Bit"],W=E=>{let q=[];switch(E){case"Blade":q=w.blades.filter(M=>M.Line!=="Custom");break;case"Main Blade":q=w.blades.filter(M=>M.Line==="Custom");break;case"Ratchet":q=w.ratchets;break;case"Bit":q=w.bits;break;case"Lockchip":q=w.lockchips;break;case"Assist Blade":q=w.assistBlades;break}return q.sort((M,U)=>L(M,E).localeCompare(L(U,E)))},L=(E,q)=>{switch(q){case"Blade":case"Main Blade":return E.Blades;case"Ratchet":return E.Ratchet;case"Bit":return`${E.Bit} (${E.Shortcut})`;case"Lockchip":return E.Lockchip;case"Assist Blade":return`${E["Assist Blade Name"]} (${E["Assist Blade"]})`;default:return""}},K=E=>{if(!C(E.isCustomLine?"Custom":"Basic").every(M=>E.parts[M]))return"";if(E.isCustomLine){const{Lockchip:M,"Main Blade":U,"Assist Blade":T,Ratchet:Y,Bit:te}=E.parts;return`${(M==null?void 0:M.Lockchip)||""}${(U==null?void 0:U.Blades)||""} ${(T==null?void 0:T["Assist Blade"])||""}${(Y==null?void 0:Y.Ratchet)||""}${(te==null?void 0:te.Shortcut)||""}`}else{const{Blade:M,Ratchet:U,Bit:T}=E.parts;return`${(M==null?void 0:M.Blades)||""} ${(U==null?void 0:U.Ratchet)||""}${(T==null?void 0:T.Shortcut)||""}`}},$=E=>Object.values(E).reduce((q,M)=>(M&&(q.attack+=M.Attack||0,q.defense+=M.Defense||0,q.stamina+=M.Stamina||0,q.dash+=M.Dash||0,q.burstRes+=M["Burst Res"]||0),q),{attack:0,defense:0,stamina:0,dash:0,burstRes:0}),O=(E,q,M)=>{u(c.map(U=>U.id===E?{...U,[q]:M,parts:{}}:U))},V=(E,q,M)=>{u(c.map(U=>{if(U.id===E){const T={...U.parts,[q]:M};return{...U,parts:T}}return U}))},I=E=>{c.length>1&&u(c.filter(q=>q.id!==E))},k=E=>{const q=d.find(Y=>Y.id===E);if(!q)return;const M=q.beyblades[0],U=M&&(M.parts.Lockchip||M.parts["Main Blade"]||M.parts["Assist Blade"]),T=q.beyblades.slice(0,e.beyblades_per_player).map((Y,te)=>({id:(te+1).toString(),isCustomLine:U,parts:Y.parts}));u(T),m("")},B=()=>{if(!i.trim())return!1;const E=i.toLowerCase().trim();return S.includes(E)?!1:c.every(q=>C(q.isCustomLine?"Custom":"Basic").every(U=>q.parts[U]))},J=async()=>{var E;if(!i.trim()){await n("Missing Information","Please enter your player name.");return}try{const M=(E=(await Q.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&E.is_free?"confirmed":"unpaid",{data:U,error:T}=await Q.from("tournament_registrations").insert({tournament_id:e.id,player_name:i.trim(),payment_mode:a,status:"confirmed",payment_status:M}).select().single();if(T)throw T;for(const Y of c){const te=K(Y),R=Y.isCustomLine?"Custom":"Basic",{data:X,error:re}=await Q.from("tournament_beyblades").insert({registration_id:U.id,beyblade_name:te,blade_line:R}).select().single();if(re)throw re;const ce=Object.entries(Y.parts).map(([he,ge])=>({beyblade_id:X.id,part_type:he,part_name:L(ge,he),part_data:ge})),{error:ue}=await Q.from("tournament_beyblade_parts").insert(ce);if(ue)throw ue}await n("Registration Successful",`You have registered ${i} for ${e.name}!`),t()}catch(q){console.error(q),await n("Registration Failed",q.message||"Unknown error occurred.")}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] overflow-y-auto relative",children:[x&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Tournament Registration"}),o.jsx("p",{className:"text-gray-600",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ft,{size:20})})]}),o.jsxs("div",{className:"p-4 sm:p-6 space-y-6",children:[N&&o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-700 text-sm",children:N}),o.jsx("button",{onClick:_,className:"text-sm underline text-red-600",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-gray-700",children:e.description})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(Td,{className:"text-blue-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Player Information"})]}),(!r||r.id.startsWith("guest-"))&&o.jsx("div",{className:"mb-4 p-3 bg-yellow-50 rounded-lg border border-yellow-300",children:o.jsx("p",{className:"text-sm font-medium text-yellow-800",children:"Register your account to see personal stats across multiple tournaments. Tournament entry player name should be the same as account username to view personal stats."})}),r&&!r.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-white rounded-lg border border-blue-200",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:E=>b(E.target.checked),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zL,{size:16,className:"text-blue-600"}),o.jsxs("span",{className:"text-sm font-medium text-blue-900",children:["Register for self? Player name entry should be same as your account username to view your own personal stats. (",r.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:i,onChange:E=>s(E.target.value),disabled:p,placeholder:"Enter your player name",className:`w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 ${p?"bg-gray-100 cursor-not-allowed":""}`}),i.trim()&&S.includes(i.toLowerCase().trim())&&o.jsx("div",{className:"mt-1 text-xs text-red-600",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:a,onChange:E=>l(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),!(r!=null&&r.id.startsWith("guest-"))&&d.length>0&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(La,{className:"text-green-600 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:h,onChange:E=>m(E.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-green-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),d.map(E=>o.jsxs("option",{value:E.id,children:[E.name," (",E.beyblades.length," Beyblades)"]},E.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>h&&k(h),disabled:!h,className:"w-full bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 text-sm",children:"Load Preset"})})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-white rounded-lg border border-green-200",children:o.jsxs("div",{className:"text-sm text-green-800",children:[o.jsx("strong",{children:"Preview:"}),(D=d.find(E=>E.id===h))==null?void 0:D.beyblades.slice(0,3).map((E,q)=>o.jsxs("div",{className:"font-mono text-xs mt-1",children:["• ",E.name||`Beyblade ${q+1}`]},q)),((ee=d.find(E=>E.id===h))==null?void 0:ee.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-green-600",children:["+",((G=d.find(E=>E.id===h))==null?void 0:G.beyblades.length)-3," more..."]})]})})]}),c.map((E,q)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold",children:["Beyblade #",q+1]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`text-xs font-medium ${E.isCustomLine?"text-purple-600":"text-purple-900"}`,children:"Standard Line"}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:E.isCustomLine,onChange:M=>O(E.id,"isCustomLine",M.target.checked),className:"sr-only"}),o.jsx("div",{className:`w-8 h-4 rounded-full transition-colors ${E.isCustomLine?"bg-purple-600":"bg-gray-300"}`,children:o.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow transform transition-transform ${E.isCustomLine?"translate-x-4":"translate-x-0"} mt-0.5 ml-0.5`})})]}),o.jsx("span",{className:`text-xs font-medium ${E.isCustomLine?"text-purple-900":"text-purple-600"}`,children:"Custom Line"})]}),c.length>1&&o.jsx("button",{onClick:()=>I(E.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:o.jsx(An,{size:16})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Generated Name"}),o.jsx("div",{className:"border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-sm font-mono",children:K(E)||"Select all parts to generate name"})]}),o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:C(E.isCustomLine?"Custom":"Basic").map(M=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium mb-1",children:[M," *"]}),o.jsxs("select",{value:E.parts[M]?JSON.stringify(E.parts[M]):"",onChange:U=>U.target.value&&V(E.id,M,JSON.parse(U.target.value)),className:"w-full border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",M]}),W(M).map((U,T)=>o.jsx("option",{value:JSON.stringify(U),children:L(U,M)},T))]})]},M))})}),Object.keys(E.parts).length>0&&o.jsx(XF,{stats:$(E.parts)})]},E.id)),c.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>u([...c,{id:Date.now().toString(),isCustomLine:!1,parts:{}}]),className:"w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 flex items-center justify-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[o.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50",children:"Cancel"}),o.jsx("button",{onClick:J,disabled:!B()||x,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50",children:o.jsx("span",{children:"Register"})})]})]})]})})}function QF(){fr();const{alert:e}=Yi(),[t,r]=g.useState("all"),[n,i]=g.useState(!1),[s,a]=g.useState(""),[l,c]=g.useState(null),[u,d]=g.useState(null),[f,h]=g.useState([]),[m,p]=g.useState(!0);Oi.useEffect(()=>{(async()=>{try{const{data:N,error:j}=await Q.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(j)throw j;h(N||[])}catch(N){console.error("Error fetching tournaments:",N),h([])}finally{p(!1)}})()},[]);const b=f.filter(y=>{const N=t==="all"||y.status===t,j=n||!y.is_practice;return N&&j}),w=async()=>{if(!s.trim()){c(null);return}try{const{data:y,error:N}=await Q.from("tournaments").select("*").eq("tournament_code",s.toUpperCase()).single();if(N){c({error:"Tournament not found"});return}c(y)}catch{c({error:"Tournament not found"})}},v=(y,N)=>{console.log("Tournament registration:",{playerName:y,beyblades:N}),e("Registration Complete",`Successfully registered ${y} with ${N.length} Beyblades for the tournament!`),d(null)},x=y=>{switch(y){case"upcoming":return"tournament-status-upcoming";case"active":return"tournament-status-active";case"completed":return"tournament-status-completed";default:return"tournament-status-completed"}};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsx("h1",{className:"page-title",children:"Tournaments"}),o.jsx("p",{className:"page-subtitle",children:"Join the ultimate Beyblade battles"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-8",children:[o.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Join with Tournament Code"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsx("div",{className:"md:col-span-2",children:o.jsx("input",{type:"text",placeholder:"Enter 8-character tournament code",value:s,onChange:y=>a(y.target.value.toUpperCase()),onKeyPress:y=>y.key==="Enter"&&w(),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono",maxLength:8})}),o.jsx("button",{onClick:w,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Search Tournament"})]}),l&&o.jsx("div",{className:"mt-4",children:l.error?o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:o.jsx("p",{className:"text-red-700",children:l.error})}):o.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-green-900",children:l.name}),o.jsx("p",{className:"text-green-700 text-sm",children:l.location}),o.jsx("p",{className:"text-green-600 text-sm",children:new Date(l.tournament_date).toLocaleDateString()}),l.is_practice&&o.jsx("span",{className:"inline-block bg-purple-100 text-purple-800 px-2 py-1 rounded-full text-xs font-medium mt-2",children:"Practice Tournament"})]}),o.jsx("button",{onClick:()=>d(l.id),disabled:!l.registration_open,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:l.registration_open?"Register":"Registration Closed"})]})})})]}),o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[o.jsx("div",{className:"filter-tabs",children:["upcoming","active","completed","all"].map(y=>o.jsx("button",{onClick:()=>r(y),className:`filter-tab capitalize ${t===y?"filter-tab-active":"filter-tab-inactive"}`,children:y},y))}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",id:"showPractice",checked:n,onChange:y=>i(y.target.checked),className:"w-4 h-4 text-purple-600 border-gray-300 rounded focus:ring-purple-500"}),o.jsx("label",{htmlFor:"showPractice",className:"text-sm font-medium text-gray-700",children:"Show Practice Tournaments"})]})]})}),m?o.jsxs("div",{className:"empty-state",children:[o.jsx("div",{className:"loading-spinner h-12 w-12 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):b.length===0?o.jsxs("div",{className:"empty-state",children:[o.jsx(mt,{className:"empty-icon"}),o.jsx("h3",{className:"empty-title",children:"No tournaments found"}),o.jsx("p",{className:"empty-description",children:"Check back later for upcoming events"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:b.map(y=>o.jsxs("div",{className:"card p-4 hover:shadow-lg transition-all duration-200",children:[o.jsx("div",{className:"flex justify-between items-start mb-4",children:o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-space-grotesk font-bold text-gray-900 mb-1",children:y.name}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`badge capitalize ${x(y.status)}`,children:y.status}),y.is_practice&&o.jsx("span",{className:"badge bg-purple-100 text-purple-800",children:"Practice"})]})]})}),y.description&&o.jsx("p",{className:"text-gray-600 mb-4 font-inter text-sm line-clamp-2",children:y.description}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"flex items-center justify-between text-gray-600 font-inter text-sm",children:[o.jsx("span",{children:"Code:"}),o.jsx("span",{className:"font-mono font-bold text-blue-600",children:y.tournament_code})]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(zi,{size:14,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:new Date(y.tournament_date).toLocaleDateString()})]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(y2,{size:14,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:y.location})]}),o.jsxs("div",{className:"flex items-center text-gray-600 font-inter",children:[o.jsx(ct,{size:14,className:"mr-2"}),o.jsx("span",{className:"text-sm",children:y.max_participants===999999?`${y.current_participants} participants`:`${y.current_participants}/${y.max_participants}`})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsxs("div",{className:"flex justify-between text-gray-600 font-inter mb-1 text-sm",children:[o.jsx("span",{children:"Registration"}),o.jsx("span",{className:"text-xs",children:y.max_participants===999999?`${y.current_participants} registered`:`${Math.round(y.current_participants/y.max_participants*100)}%`})]}),o.jsx("div",{className:"progress-bar",children:o.jsx("div",{className:"progress-fill",style:{width:y.max_participants===999999?"100%":`${Math.min(y.current_participants/y.max_participants*100,100)}%`}})})]}),y.status==="upcoming"&&o.jsx("button",{onClick:()=>d(y.id),disabled:!y.registration_open||y.max_participants!==999999&&y.current_participants>=y.max_participants,className:"primary-button w-full disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:y.registration_open?y.max_participants!==999999&&y.current_participants>=y.max_participants?"Tournament Full":"Register for Tournament":"Registration Closed"})]},y.id))}),u&&o.jsx(JF,{tournament:b.find(y=>y.id===u),onClose:()=>d(null),onSubmit:v})]})})}function nA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=nA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ye(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=nA(e))&&(n&&(n+=" "),n+=t);return n}var Zf={},iA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(iA);var Nv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Nv);var Sv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Sv);var eh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],i=r.length;if(i===0)return n;let s=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),s++);s<i;){const u=r[s];l?u==="\\"&&s+1<i?(s++,a+=r[s]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,s++}return a&&n.push(a),n}e.toPath=t})(eh);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iA,r=Nv,n=Sv,i=eh;function s(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?s(l,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=s})(Zf);var ZF=Zf.get;const Wi=Hr(ZF);var sA={exports:{}},Ce={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=Symbol.for("react.transitional.element"),Pv=Symbol.for("react.portal"),th=Symbol.for("react.fragment"),rh=Symbol.for("react.strict_mode"),nh=Symbol.for("react.profiler"),ih=Symbol.for("react.consumer"),sh=Symbol.for("react.context"),ah=Symbol.for("react.forward_ref"),oh=Symbol.for("react.suspense"),lh=Symbol.for("react.suspense_list"),ch=Symbol.for("react.memo"),uh=Symbol.for("react.lazy"),ez=Symbol.for("react.view_transition"),tz=Symbol.for("react.client.reference");function Gr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _v:switch(e=e.type,e){case th:case nh:case rh:case oh:case lh:case ez:return e;default:switch(e=e&&e.$$typeof,e){case sh:case ah:case uh:case ch:return e;case ih:return e;default:return t}}case Pv:return t}}}Ce.ContextConsumer=ih;Ce.ContextProvider=sh;Ce.Element=_v;Ce.ForwardRef=ah;Ce.Fragment=th;Ce.Lazy=uh;Ce.Memo=ch;Ce.Portal=Pv;Ce.Profiler=nh;Ce.StrictMode=rh;Ce.Suspense=oh;Ce.SuspenseList=lh;Ce.isContextConsumer=function(e){return Gr(e)===ih};Ce.isContextProvider=function(e){return Gr(e)===sh};Ce.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_v};Ce.isForwardRef=function(e){return Gr(e)===ah};Ce.isFragment=function(e){return Gr(e)===th};Ce.isLazy=function(e){return Gr(e)===uh};Ce.isMemo=function(e){return Gr(e)===ch};Ce.isPortal=function(e){return Gr(e)===Pv};Ce.isProfiler=function(e){return Gr(e)===nh};Ce.isStrictMode=function(e){return Gr(e)===rh};Ce.isSuspense=function(e){return Gr(e)===oh};Ce.isSuspenseList=function(e){return Gr(e)===lh};Ce.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===th||e===nh||e===rh||e===oh||e===lh||typeof e=="object"&&e!==null&&(e.$$typeof===uh||e.$$typeof===ch||e.$$typeof===sh||e.$$typeof===ih||e.$$typeof===ah||e.$$typeof===tz||e.getModuleId!==void 0)};Ce.typeOf=Gr;sA.exports=Ce;var rz=sA.exports,Nt=e=>e===0?0:e>0?1:-1,jr=e=>typeof e=="number"&&e!=+e,ws=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,se=e=>(typeof e=="number"||e instanceof Number)&&!jr(e),Cn=e=>se(e)||typeof e=="string",nz=0,oc=e=>{var t=++nz;return"".concat(e||"").concat(t)},Yt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!se(t)&&typeof t!="string")return n;var s;if(ws(t)){if(r==null)return n;var a=t.indexOf("%");s=r*parseFloat(t.slice(0,a))/100}else s=+t;return jr(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},aA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},Oa=(e,t)=>se(e)&&se(t)?r=>e+r*(t-e):()=>t;function aa(e,t,r){return se(e)&&se(t)?e+r*(t-e):t}function iz(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Wi(n,t))===r)}var tt=e=>e===null||typeof e>"u",Mc=e=>tt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),sz=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kv(e){if(typeof e!="string")return!1;var t=sz;return t.includes(e)}var az=["viewBox","children"],Mj=["points","pathLength"],Qm={svg:az,polygon:Mj,polyline:Mj},Ov=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{kv(i)&&(n[i]=s=>r[i](r,s))}),n},oz=(e,t,r)=>n=>(e(t,r,n),null),Po=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(i=>{var s=e[i];kv(i)&&typeof s=="function"&&(n||(n={}),n[i]=oz(s,t,r))}),n},lz=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function oA(e){if(typeof e!="string")return!1;var t=lz;return t.includes(e)}function zt(e){var t=Object.entries(e).filter(r=>{var[n]=r;return oA(n)});return Object.fromEntries(t)}var Dj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Rj=null,Zm=null,lA=e=>{if(e===Rj&&Array.isArray(Zm))return Zm;var t=[];return g.Children.forEach(e,r=>{tt(r)||(rz.isFragment(r)?t=t.concat(lA(r.props.children)):t.push(r))}),Zm=t,Rj=e,t};function Dc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(i=>Dj(i)):n=[Dj(t)],lA(e).forEach(i=>{var s=Wi(i,"type.displayName")||Wi(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}var cz=(e,t,r,n)=>{var i;if(typeof t=="symbol"||typeof t=="number")return!0;var s=(i=n&&(Qm==null?void 0:Qm[n]))!==null&&i!==void 0?i:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&s.includes(t)||oA(t)),c=!!r&&kv(t);return a||l||c},Ne=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var i={};return Object.keys(n).forEach(s=>{var a;cz((a=n)===null||a===void 0?void 0:a[s],s,t,r)&&(i[s]=n[s])}),i},uz=["children","width","height","viewBox","className","style","title","desc"];function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(null,arguments)}function dz(e,t){if(e==null)return{};var r,n,i=fz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cA=g.forwardRef((e,t)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:l,title:c,desc:u}=e,d=dz(e,uz),f=s||{width:n,height:i,x:0,y:0},h=ye("recharts-surface",a);return g.createElement("svg",Yg({},Ne(d,!0,"svg"),{className:h,width:n,height:i,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),r)}),hz=["children","className"];function Xg(){return Xg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xg.apply(null,arguments)}function mz(e,t){if(e==null)return{};var r,n,i=pz(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function pz(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ye=g.forwardRef((e,t)=>{var{children:r,className:n}=e,i=mz(e,hz),s=ye("recharts-layer",n);return g.createElement("g",Xg({className:s},Ne(i,!0),{ref:t}),r)}),gz=g.createContext(null);function Re(e){return function(){return e}}const uA=Math.cos,Ld=Math.sin,hn=Math.sqrt,Bd=Math.PI,dh=2*Bd,Jg=Math.PI,Qg=2*Jg,fs=1e-6,yz=Qg-fs;function dA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function vz(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dA;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class xz{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dA:vz(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,a){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,l=this._y1,c=n-t,u=i-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>fs)if(!(Math.abs(f*c-u*d)>fs)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=i-l,b=c*c+u*u,w=m*m+p*p,v=Math.sqrt(b),x=Math.sqrt(h),y=s*Math.tan((Jg-Math.acos((b+h-w)/(2*v*x)))/2),N=y/x,j=y/v;Math.abs(N-1)>fs&&this._append`L${t+N*d},${r+N*f}`,this._append`A${s},${s},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,i,s,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,d=r+c,f=1^a,h=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>fs||Math.abs(this._y1-d)>fs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Qg+Qg),h>yz?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>fs&&this._append`A${n},${n},0,${+(h>=Jg)},${f},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Av(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new xz(t)}function Ev(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fA(e){this._context=e}fA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function fh(e){return new fA(e)}function hA(e){return e[0]}function mA(e){return e[1]}function pA(e,t){var r=Re(!0),n=null,i=fh,s=null,a=Av(l);e=typeof e=="function"?e:e===void 0?hA:Re(e),t=typeof t=="function"?t:t===void 0?mA:Re(t);function l(c){var u,d=(c=Ev(c)).length,f,h=!1,m;for(n==null&&(s=i(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+e(f,u,c),+t(f,u,c));if(m)return s=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Re(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Re(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Re(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function _u(e,t,r){var n=null,i=Re(!0),s=null,a=fh,l=null,c=Av(u);e=typeof e=="function"?e:e===void 0?hA:Re(+e),t=typeof t=="function"?t:Re(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?mA:Re(+r);function u(f){var h,m,p,b=(f=Ev(f)).length,w,v=!1,x,y=new Array(b),N=new Array(b);for(s==null&&(l=a(x=c())),h=0;h<=b;++h){if(!(h<b&&i(w=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(y[p],N[p]);l.lineEnd(),l.areaEnd()}v&&(y[h]=+e(w,h,f),N[h]=+t(w,h,f),l.point(n?+n(w,h,f):y[h],r?+r(w,h,f):N[h]))}if(x)return l=null,x+""||null}function d(){return pA().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Re(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Re(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Re(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Re(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Re(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(l=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=l=null:l=a(s=f),u):s},u}class gA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function bz(e){return new gA(e,!0)}function wz(e){return new gA(e,!1)}const Cv={draw(e,t){const r=hn(t/Bd);e.moveTo(r,0),e.arc(0,0,r,0,dh)}},jz={draw(e,t){const r=hn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},yA=hn(1/3),Nz=yA*2,Sz={draw(e,t){const r=hn(t/Nz),n=r*yA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},_z={draw(e,t){const r=hn(t),n=-r/2;e.rect(n,n,r,r)}},Pz=.8908130915292852,vA=Ld(Bd/10)/Ld(7*Bd/10),kz=Ld(dh/10)*vA,Oz=-uA(dh/10)*vA,Az={draw(e,t){const r=hn(t*Pz),n=kz*r,i=Oz*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const a=dh*s/5,l=uA(a),c=Ld(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},ep=hn(3),Ez={draw(e,t){const r=-hn(t/(ep*3));e.moveTo(0,r*2),e.lineTo(-ep*r,-r),e.lineTo(ep*r,-r),e.closePath()}},Tr=-.5,Mr=hn(3)/2,Zg=1/hn(12),Cz=(Zg/2+1)*3,Tz={draw(e,t){const r=hn(t/Cz),n=r/2,i=r*Zg,s=n,a=r*Zg+r,l=-s,c=a;e.moveTo(n,i),e.lineTo(s,a),e.lineTo(l,c),e.lineTo(Tr*n-Mr*i,Mr*n+Tr*i),e.lineTo(Tr*s-Mr*a,Mr*s+Tr*a),e.lineTo(Tr*l-Mr*c,Mr*l+Tr*c),e.lineTo(Tr*n+Mr*i,Tr*i-Mr*n),e.lineTo(Tr*s+Mr*a,Tr*a-Mr*s),e.lineTo(Tr*l+Mr*c,Tr*c-Mr*l),e.closePath()}};function Mz(e,t){let r=null,n=Av(i);e=typeof e=="function"?e:Re(e||Cv),t=typeof t=="function"?t:Re(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Re(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Re(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Fd(){}function zd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function xA(e){this._context=e}xA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Dz(e){return new xA(e)}function bA(e){this._context=e}bA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Rz(e){return new bA(e)}function wA(e){this._context=e}wA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function $z(e){return new wA(e)}function jA(e){this._context=e}jA.prototype={areaStart:Fd,areaEnd:Fd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function Iz(e){return new jA(e)}function $j(e){return e<0?-1:1}function Ij(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),a=(r-e._y1)/(i||n<0&&-0),l=(s*i+a*n)/(n+i);return($j(s)+$j(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(l))||0}function Lj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tp(e,t,r){var n=e._x0,i=e._y0,s=e._x1,a=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,a-l*r,s,a)}function Ud(e){this._context=e}Ud.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tp(this,this._t0,Lj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tp(this,Lj(this,r=Ij(this,e,t)),r);break;default:tp(this,this._t0,r=Ij(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function NA(e){this._context=new SA(e)}(NA.prototype=Object.create(Ud.prototype)).point=function(e,t){Ud.prototype.point.call(this,t,e)};function SA(e){this._context=e}SA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Lz(e){return new Ud(e)}function Bz(e){return new NA(e)}function _A(e){this._context=e}_A.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Bj(e),i=Bj(t),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Bj(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,a[t]-=n*a[t-1];for(i[r-1]=a[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Fz(e){return new _A(e)}function hh(e,t){this._context=e,this._t=t}hh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function zz(e){return new hh(e,.5)}function Uz(e){return new hh(e,0)}function Wz(e){return new hh(e,1)}function to(e,t){if((a=e.length)>1)for(var r=1,n,i,s=e[t[0]],a,l=s.length;r<a;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function e0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function Vz(e,t){return e[t]}function Kz(e){const t=[];return t.key=e,t}function qz(){var e=Re([]),t=e0,r=to,n=Vz;function i(s){var a=Array.from(e.apply(this,arguments),Kz),l,c=a.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,s)]).data=f;for(l=0,d=Ev(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Re(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Re(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?e0:typeof s=="function"?s:Re(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??to,i):r},i}function Hz(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=e[r][i][1]||0;if(a)for(r=0;r<n;++r)e[r][i][1]/=a}to(e,t)}}function Gz(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var a=0,l=0;a<i;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}to(e,t)}}function Yz(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var b=e[t[p]],w=b[n][1]||0,v=b[n-1][1]||0;m+=w-v}c+=f,u+=m*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,to(e,t)}}var Xz=["type","size","sizeType"];function t0(){return t0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},t0.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){Jz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jz(e,t,r){return(t=Qz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qz(e){var t=Zz(e,"string");return typeof t=="symbol"?t:t+""}function Zz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e8(e,t){if(e==null)return{};var r,n,i=t8(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function t8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PA={symbolCircle:Cv,symbolCross:jz,symbolDiamond:Sz,symbolSquare:_z,symbolStar:Az,symbolTriangle:Ez,symbolWye:Tz},r8=Math.PI/180,n8=e=>{var t="symbol".concat(Mc(e));return PA[t]||Cv},i8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*r8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},s8=(e,t)=>{PA["symbol".concat(Mc(e))]=t},kA=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,i=e8(e,Xz),s=zj(zj({},i),{},{type:t,size:r,sizeType:n}),a=()=>{var f=n8(t),h=Mz().type(f).size(i8(r,n,t));return h()},{className:l,cx:c,cy:u}=s,d=Ne(s,!0);return c===+c&&u===+u&&r===+r?g.createElement("path",t0({},d,{className:ye("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};kA.registerSymbol=s8;var OA={},AA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],l=n(a);i.has(l)||i.set(l,a)}return Array.from(i.values())}e.uniqBy=t})(AA);var Rc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rc);var EA={},mh={},CA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(CA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CA;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(mh);var TA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(TA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mh,r=TA;function n(i){return r.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=n})(EA);var ph={},MA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zf;function r(n){return function(i){return t.get(i,n)}}e.property=r})(MA);var DA={},rp={},np={},Tv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Tv);var Mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Mv);var gh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(gh);var Uj;function a8(){return Uj||(Uj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=Tv,n=Mv,i=gh;function s(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(b,w,v,x,y,N){const j=m(b,w,v,x,y,N);return j!==void 0?!!j:a(b,w,p,N)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):i.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:i.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const b=Object.keys(h);if(f==null)return b.length===0;if(b.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let w=0;w<b.length;w++){const v=b[w];if(!n.isPrimitive(f)&&!(v in f)||h[v]===void 0&&f[v]!==void 0||h[v]===null&&f[v]!==null||!m(f[v],h[v],v,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[b,w]of h.entries()){const v=f.get(b);if(m(v,w,b,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const b=new Set;for(let w=0;w<h.length;w++){const v=h[w];let x=!1;for(let y=0;y<f.length;y++){if(b.has(y))continue;const N=f[y];let j=!1;if(m(N,v,w,f,h,p)&&(j=!0),j){b.add(y),x=!0;break}}if(!x)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=s,e.isSetMatch=d}(np)),np}var Wj;function Dv(){return Wj||(Wj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=a8();function r(n,i){return t.isMatchWith(n,i,()=>{})}e.isMatch=r}(rp)),rp}var RA={},Rv={},$v={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})($v);var yh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(yh);var vh={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",b="[object DataView]",w="[object Uint8Array]",v="[object Uint8ClampedArray]",x="[object Uint16Array]",y="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",P="[object Int32Array]",_="[object BigInt64Array]",A="[object Float32Array]",z="[object Float64Array]";e.argumentsTag=s,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=_,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=b,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=A,e.float64ArrayTag=z,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=P,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=x,e.uint32ArrayTag=y,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=v})(vh);var $A={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})($A);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$v,r=yh,n=vh,i=Mv,s=$A;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const b=p==null?void 0:p(d,f,h,m);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=l(d[v],v,h,m,p);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[v,x]of d)w.set(v,l(x,v,h,m,p));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const v of d)w.add(l(v,void 0,h,m,p));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let v=0;v<d.length;v++)w[v]=l(d[v],v,h,m,p);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,p),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,p),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,p),w}return d}function c(d,f,h=d,m,p){const b=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<b.length;w++){const v=b[w],x=Object.getOwnPropertyDescriptor(d,v);(x==null||x.writable)&&(d[v]=l(f[v],v,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(Rv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(RA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=RA;function n(i){return i=r.cloneDeep(i),s=>t.isMatch(s,i)}e.matches=n})(DA);var IA={},LA={},BA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rv,r=vh;function n(i,s){return t.cloneDeepWith(i,(a,l,c,u)=>{const d=s==null?void 0:s(a,l,c,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(f,i),f}case r.argumentsTag:{const f={};return t.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(BA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=BA;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(LA);var FA={},Iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Iv);var zA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yh;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(zA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Nv,r=Iv,n=zA,i=eh;function s(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=i.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=s})(FA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dv(),r=Sv,n=LA,i=Zf,s=FA;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=i.get(u,l);return d===void 0?s.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(IA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rc,r=MA,n=DA,i=IA;function s(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=s})(ph);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AA,r=Rc,n=EA,i=ph;function s(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),i.iteratee(l)):[]}e.uniqBy=s})(OA);var o8=OA.uniqBy;const Vj=Hr(o8);function l8(e,t,r){return t===!0?Vj(e,r):typeof t=="function"?Vj(e,t):e}var UA={exports:{}},WA={},VA={exports:{}},KA={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=g;function c8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var u8=typeof Object.is=="function"?Object.is:c8,d8=ro.useState,f8=ro.useEffect,h8=ro.useLayoutEffect,m8=ro.useDebugValue;function p8(e,t){var r=t(),n=d8({inst:{value:r,getSnapshot:t}}),i=n[0].inst,s=n[1];return h8(function(){i.value=r,i.getSnapshot=t,ip(i)&&s({inst:i})},[e,r,t]),f8(function(){return ip(i)&&s({inst:i}),e(function(){ip(i)&&s({inst:i})})},[e]),m8(r),r}function ip(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!u8(e,r)}catch{return!0}}function g8(e,t){return t()}var y8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g8:p8;KA.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:y8;VA.exports=KA;var v8=VA.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xh=g,x8=v8;function b8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var w8=typeof Object.is=="function"?Object.is:b8,j8=x8.useSyncExternalStore,N8=xh.useRef,S8=xh.useEffect,_8=xh.useMemo,P8=xh.useDebugValue;WA.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=N8(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=_8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,w8(d,m))return p;var b=n(m);return i!==void 0&&i(p,b)?(d=m,p):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=j8(e,s[0],s[1]);return S8(function(){a.hasValue=!0,a.value=l},[l]),P8(l),l};UA.exports=WA;var k8=UA.exports,Lv=g.createContext(null),O8=e=>e,Xe=()=>{var e=g.useContext(Lv);return e?e.store.dispatch:O8},id=()=>{},A8=()=>id,E8=(e,t)=>e===t;function ie(e){var t=g.useContext(Lv);return k8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:A8,t?t.store.getState:id,t?t.store.getState:id,t?e:id,E8)}function C8(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function T8(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function M8(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var Kj=e=>Array.isArray(e)?e:[e];function D8(e){const t=Array.isArray(e[0])?e[0]:e;return M8(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function R8(e,t){const r=[],{length:n}=e;for(let i=0;i<n;i++)r.push(e[i].apply(null,t));return r}var $8=class{constructor(e){this.value=e}deref(){return this.value}},I8=typeof WeakRef<"u"?WeakRef:$8,L8=0,qj=1;function Pu(){return{s:L8,v:void 0,o:null,p:null}}function qA(e,t={}){let r=Pu();const{resultEqualityCheck:n}=t;let i,s=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const w=b.get(p);w===void 0?(l=Pu(),b.set(p,l)):l=w}else{let b=l.p;b===null&&(l.p=b=new Map);const w=b.get(p);w===void 0?(l=Pu(),b.set(p,l)):l=w}}const u=l;let d;if(l.s===qj)d=l.v;else if(d=e.apply(null,arguments),s++,n){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&n(h,d)&&(d=h,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new I8(d):d}return u.s=qj,u.v=d,d}return a.clearCache=()=>{r=Pu(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function B8(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...i)=>{let s=0,a=0,l,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),C8(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=qA,argsMemoizeOptions:p=[],devModeChecks:b={}}=d,w=Kj(h),v=Kj(p),x=D8(i),y=f(function(){return s++,u.apply(null,arguments)},...w),N=m(function(){a++;const S=R8(x,arguments);return l=y.apply(null,S),l},...v);return Object.assign(N,{resultFunc:u,memoizedResultFunc:y,dependencies:x,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var F=B8(qA),F8=Object.assign((e,t=F)=>{T8(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(s=>e[s]);return t(n,(...s)=>s.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>F8}),HA={},GA={},YA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=t(n),l=t(i);if(a===l&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?l-a:a-l}return 0};e.compareValues=r})(YA);var XA={},Bv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Bv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||t.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}e.isKey=i})(XA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YA,r=XA,n=eh;function i(s,a,l,c){if(s==null)return[];l=c?void 0:l,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let b=m;for(let w=0;w<p.length&&b!=null;++w)b=b[p[w]];return b},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return s.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let b=0;b<f.length;b++){const w=t.compareValues(m.criteria[b],p.criteria[b],l[b]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=i})(GA);var JA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const i=[],s=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<s?a(d,c+1):i.push(d)}};return a(r,0),i}e.flatten=t})(JA);var Fv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Iv,r=mh,n=Tv,i=gh;function s(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?i.eq(c[l],a):!1}e.isIterateeCall=s})(Fv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GA,r=JA,n=Fv;function i(s,...a){const l=a.length;return l>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(s,r.flatten(a),["asc"])}e.sortBy=i})(HA);var z8=HA.sortBy;const bh=Hr(z8);var QA=e=>e.legend.settings,U8=e=>e.legend.size,W8=e=>e.legend.payload;F([W8,QA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?bh(n,r):n});var ku=1;function V8(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=g.useState({height:0,left:0,top:0,width:0}),n=g.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-t.height)>ku||Math.abs(a.left-t.left)>ku||Math.abs(a.top-t.top)>ku||Math.abs(a.width-t.width)>ku)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var K8=typeof Symbol=="function"&&Symbol.observable||"@@observable",Hj=K8,sp=()=>Math.random().toString(36).substring(7).split("").join("."),q8={INIT:`@@redux/INIT${sp()}`,REPLACE:`@@redux/REPLACE${sp()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${sp()}`},Wd=q8;function zv(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function ZA(e,t,r){if(typeof e!="function")throw new Error(Pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Pt(1));return r(ZA)(e,t)}let n=e,i=t,s=new Map,a=s,l=0,c=!1;function u(){a===s&&(a=new Map,s.forEach((w,v)=>{a.set(v,w)}))}function d(){if(c)throw new Error(Pt(3));return i}function f(w){if(typeof w!="function")throw new Error(Pt(4));if(c)throw new Error(Pt(5));let v=!0;u();const x=l++;return a.set(x,w),function(){if(v){if(c)throw new Error(Pt(6));v=!1,u(),a.delete(x),s=null}}}function h(w){if(!zv(w))throw new Error(Pt(7));if(typeof w.type>"u")throw new Error(Pt(8));if(typeof w.type!="string")throw new Error(Pt(17));if(c)throw new Error(Pt(9));try{c=!0,i=n(i,w)}finally{c=!1}return(s=a).forEach(x=>{x()}),w}function m(w){if(typeof w!="function")throw new Error(Pt(10));n=w,h({type:Wd.REPLACE})}function p(){const w=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(Pt(11));function x(){const N=v;N.next&&N.next(d())}return x(),{unsubscribe:w(x)}},[Hj](){return this}}}return h({type:Wd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[Hj]:p}}function H8(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Wd.INIT})>"u")throw new Error(Pt(12));if(typeof r(void 0,{type:Wd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pt(13))})}function eE(e){const t=Object.keys(e),r={};for(let s=0;s<t.length;s++){const a=t[s];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let i;try{H8(r)}catch(s){i=s}return function(a={},l){if(i)throw i;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(Pt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Vd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function G8(...e){return t=>(r,n)=>{const i=t(r,n);let s=()=>{throw new Error(Pt(15))};const a={getState:i.getState,dispatch:(c,...u)=>s(c,...u)},l=e.map(c=>c(a));return s=Vd(...l)(i.dispatch),{...i,dispatch:s}}}function tE(e){return zv(e)&&"type"in e&&typeof e.type=="string"}var rE=Symbol.for("immer-nothing"),Gj=Symbol.for("immer-draftable"),Nr=Symbol.for("immer-state");function an(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var no=Object.getPrototypeOf;function zs(e){return!!e&&!!e[Nr]}function Zn(e){var t;return e?nE(e)||Array.isArray(e)||!!e[Gj]||!!((t=e.constructor)!=null&&t[Gj])||jh(e)||Nh(e):!1}var Y8=Object.prototype.constructor.toString();function nE(e){if(!e||typeof e!="object")return!1;const t=no(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===Y8}function Kd(e,t){wh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function wh(e){const t=e[Nr];return t?t.type_:Array.isArray(e)?1:jh(e)?2:Nh(e)?3:0}function r0(e,t){return wh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function iE(e,t,r){const n=wh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function X8(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function jh(e){return e instanceof Map}function Nh(e){return e instanceof Set}function hs(e){return e.copy_||e.base_}function n0(e,t){if(jh(e))return new Map(e);if(Nh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=nE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Nr];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(no(e),n)}else{const n=no(e);if(n!==null&&r)return{...e};const i=Object.create(n);return Object.assign(i,e)}}function Uv(e,t=!1){return Sh(e)||zs(e)||!Zn(e)||(wh(e)>1&&(e.set=e.add=e.clear=e.delete=J8),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Uv(n,!0))),e}function J8(){an(2)}function Sh(e){return Object.isFrozen(e)}var Q8={};function Us(e){const t=Q8[e];return t||an(0,e),t}var lc;function sE(){return lc}function Z8(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Yj(e,t){t&&(Us("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function i0(e){s0(e),e.drafts_.forEach(eU),e.drafts_=null}function s0(e){e===lc&&(lc=e.parent_)}function Xj(e){return lc=Z8(lc,e)}function eU(e){const t=e[Nr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Jj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Nr].modified_&&(i0(t),an(4)),Zn(e)&&(e=qd(t,e),t.parent_||Hd(t,e)),t.patches_&&Us("Patches").generateReplacementPatches_(r[Nr].base_,e,t.patches_,t.inversePatches_)):e=qd(t,r,[]),i0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==rE?e:void 0}function qd(e,t,r){if(Sh(t))return t;const n=t[Nr];if(!n)return Kd(t,(i,s)=>Qj(e,n,t,i,s,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Hd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const i=n.copy_;let s=i,a=!1;n.type_===3&&(s=new Set(i),i.clear(),a=!0),Kd(s,(l,c)=>Qj(e,n,i,l,c,r,a)),Hd(e,i,!1),r&&e.patches_&&Us("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Qj(e,t,r,n,i,s,a){if(zs(i)){const l=s&&t&&t.type_!==3&&!r0(t.assigned_,n)?s.concat(n):void 0,c=qd(e,i,l);if(iE(r,n,c),zs(c))e.canAutoFreeze_=!1;else return}else a&&r.add(i);if(Zn(i)&&!Sh(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;qd(e,i),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Hd(e,i)}}function Hd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Uv(t,r)}function tU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:sE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Wv;r&&(i=[n],s=cc);const{revoke:a,proxy:l}=Proxy.revocable(i,s);return n.draft_=l,n.revoke_=a,l}var Wv={get(e,t){if(t===Nr)return e;const r=hs(e);if(!r0(r,t))return rU(e,r,t);const n=r[t];return e.finalized_||!Zn(n)?n:n===ap(e.base_,t)?(op(e),e.copy_[t]=o0(n,e)):n},has(e,t){return t in hs(e)},ownKeys(e){return Reflect.ownKeys(hs(e))},set(e,t,r){const n=aE(hs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const i=ap(hs(e),t),s=i==null?void 0:i[Nr];if(s&&s.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(X8(r,i)&&(r!==void 0||r0(e.base_,t)))return!0;op(e),a0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ap(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,op(e),a0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=hs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){an(11)},getPrototypeOf(e){return no(e.base_)},setPrototypeOf(){an(12)}},cc={};Kd(Wv,(e,t)=>{cc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});cc.deleteProperty=function(e,t){return cc.set.call(this,e,t,void 0)};cc.set=function(e,t,r){return Wv.set.call(this,e[0],t,r,e[0])};function ap(e,t){const r=e[Nr];return(r?hs(r):e)[t]}function rU(e,t,r){var i;const n=aE(t,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(e.draft_):void 0}function aE(e,t){if(!(t in e))return;let r=no(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=no(r)}}function a0(e){e.modified_||(e.modified_=!0,e.parent_&&a0(e.parent_))}function op(e){e.copy_||(e.copy_=n0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var nU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const s=r;r=t;const a=this;return function(c=s,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&an(6),n!==void 0&&typeof n!="function"&&an(7);let i;if(Zn(t)){const s=Xj(this),a=o0(t,void 0);let l=!0;try{i=r(a),l=!1}finally{l?i0(s):s0(s)}return Yj(s,n),Jj(i,s)}else if(!t||typeof t!="object"){if(i=r(t),i===void 0&&(i=t),i===rE&&(i=void 0),this.autoFreeze_&&Uv(i,!0),n){const s=[],a=[];Us("Patches").generateReplacementPatches_(t,i,s,a),n(s,a)}return i}else an(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,i;return[this.produce(t,r,(a,l)=>{n=a,i=l}),n,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Zn(e)||an(8),zs(e)&&(e=qn(e));const t=Xj(this),r=o0(e,void 0);return r[Nr].isManual_=!0,s0(t),r}finishDraft(e,t){const r=e&&e[Nr];(!r||!r.isManual_)&&an(9);const{scope_:n}=r;return Yj(n,t),Jj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const i=t[r];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}r>-1&&(t=t.slice(r+1));const n=Us("Patches").applyPatches_;return zs(e)?n(e,t):this.produce(e,i=>n(i,t))}};function o0(e,t){const r=jh(e)?Us("MapSet").proxyMap_(e,t):Nh(e)?Us("MapSet").proxySet_(e,t):tU(e,t);return(t?t.scope_:sE()).drafts_.push(r),r}function qn(e){return zs(e)||an(10,e),oE(e)}function oE(e){if(!Zn(e)||Sh(e))return e;const t=e[Nr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=n0(e,t.scope_.immer_.useStrictShallowCopy_)}else r=n0(e,!0);return Kd(r,(n,i)=>{iE(r,n,oE(i))}),t&&(t.finalized_=!1),r}var Sr=new nU,lE=Sr.produce;Sr.produceWithPatches.bind(Sr);Sr.setAutoFreeze.bind(Sr);Sr.setUseStrictShallowCopy.bind(Sr);Sr.applyPatches.bind(Sr);Sr.createDraft.bind(Sr);Sr.finishDraft.bind(Sr);function cE(e){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,e):i(s)}var iU=cE(),sU=cE,aU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vd:Vd.apply(null,arguments)};function Kr(e,t){function r(...n){if(t){let i=t(...n);if(!i)throw new Error(br(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>tE(n)&&n.type===e,r}var uE=class gl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,gl.prototype)}static get[Symbol.species](){return gl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new gl(...t[0].concat(this)):new gl(...t.concat(this))}};function Zj(e){return Zn(e)?lE(e,()=>{}):e}function Ou(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function oU(e){return typeof e=="boolean"}var lU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=t??{};let a=new uE;return r&&(oU(r)?a.push(iU):a.push(sU(r.extraArgument))),a},cU="RTK_autoBatch",eN=e=>t=>{setTimeout(t,e)},uU=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let i=!0,s=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eN(10):e.type==="callback"?e.queueNotification:eN(e.timeout),u=()=>{a=!1,s&&(s=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[cU]),s=!i,s&&(a||(a=!0,c(u))),n.dispatch(d)}finally{i=!0}}})},dU=e=>function(r){const{autoBatch:n=!0}=r??{};let i=new uE(e);return n&&i.push(uU(typeof n=="object"?n:void 0)),i};function fU(e){const t=lU(),{reducer:r=void 0,middleware:n,devTools:i=!0,duplicateMiddlewareCheck:s=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(zv(r))c=eE(r);else throw new Error(br(1));let u;typeof n=="function"?u=n(t):u=t();let d=Vd;i&&(d=aU({trace:!1,...typeof i=="object"&&i}));const f=G8(...u),h=dU(f);let m=typeof l=="function"?l(h):h();const p=d(...m);return ZA(c,a,p)}function dE(e){const t={},r=[];let n;const i={addCase(s,a){const l=typeof s=="string"?s:s.type;if(!l)throw new Error(br(28));if(l in t)throw new Error(br(29));return t[l]=a,i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return e(i),[t,r,n]}function hU(e){return typeof e=="function"}function mU(e,t){let[r,n,i]=dE(t),s;if(hU(e))s=()=>Zj(e());else{const l=Zj(e);s=()=>l}function a(l=s(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(zs(d)){const m=f(d,c);return m===void 0?d:m}else{if(Zn(d))return lE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=s,a}var pU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",gU=(e=21)=>{let t="",r=e;for(;r--;)t+=pU[Math.random()*64|0];return t},yU=Symbol.for("rtk-slice-createasyncthunk");function vU(e,t){return`${e}/${t}`}function xU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[yU];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(br(11));typeof process<"u";const l=(typeof i.reducers=="function"?i.reducers(wU()):i.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,j){const S=typeof N=="string"?N:N.type;if(!S)throw new Error(br(12));if(S in u.sliceCaseReducersByType)throw new Error(br(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(N,j){return u.sliceMatchers.push({matcher:N,reducer:j}),d},exposeAction(N,j){return u.actionCreators[N]=j,d},exposeCaseReducer(N,j){return u.sliceCaseReducersByName[N]=j,d}};c.forEach(N=>{const j=l[N],S={reducerName:N,type:vU(s,N),createNotation:typeof i.reducers=="function"};NU(j)?_U(S,j,d,t):jU(S,j,d)});function f(){const[N={},j=[],S=void 0]=typeof i.extraReducers=="function"?dE(i.extraReducers):[i.extraReducers],P={...N,...u.sliceCaseReducersByType};return mU(i.initialState,_=>{for(let A in P)_.addCase(A,P[A]);for(let A of u.sliceMatchers)_.addMatcher(A.matcher,A.reducer);for(let A of j)_.addMatcher(A.matcher,A.reducer);S&&_.addDefaultCase(S)})}const h=N=>N,m=new Map,p=new WeakMap;let b;function w(N,j){return b||(b=f()),b(N,j)}function v(){return b||(b=f()),b.getInitialState()}function x(N,j=!1){function S(_){let A=_[N];return typeof A>"u"&&j&&(A=Ou(p,S,v)),A}function P(_=h){const A=Ou(m,j,()=>new WeakMap);return Ou(A,_,()=>{const z={};for(const[C,W]of Object.entries(i.selectors??{}))z[C]=bU(W,_,()=>Ou(p,_,v),j);return z})}return{reducerPath:N,getSelectors:P,get selectors(){return P(S)},selectSlice:S}}const y={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...x(a),injectInto(N,{reducerPath:j,...S}={}){const P=j??a;return N.inject({reducerPath:P,reducer:w},S),{...y,...x(P,!0)}}};return y}}function bU(e,t,r,n){function i(s,...a){let l=t(s);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return i.unwrapped=e,i}var Or=xU();function wU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function jU({type:e,reducerName:t,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!SU(n))throw new Error(br(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(e,s).exposeCaseReducer(t,s).exposeAction(t,a?Kr(e,a):Kr(e))}function NU(e){return e._reducerDefinitionType==="asyncThunk"}function SU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function _U({type:e,reducerName:t},r,n,i){if(!i)throw new Error(br(18));const{payloadCreator:s,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=i(e,s,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||Au,pending:l||Au,rejected:c||Au,settled:u||Au})}function Au(){}var PU="task",fE="listener",hE="completed",Vv="cancelled",kU=`task-${Vv}`,OU=`task-${hE}`,l0=`${fE}-${Vv}`,AU=`${fE}-${hE}`,_h=class{constructor(e){tm(this,"name","TaskAbortError");tm(this,"message");this.code=e,this.message=`${PU} ${Vv} (reason: ${e})`}},Kv=(e,t)=>{if(typeof e!="function")throw new TypeError(br(32))},Gd=()=>{},mE=(e,t=Gd)=>(e.catch(t),e),pE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ts=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Ms=e=>{if(e.aborted){const{reason:t}=e;throw new _h(t)}};function gE(e,t){let r=Gd;return new Promise((n,i)=>{const s=()=>i(new _h(e.reason));if(e.aborted){s();return}r=pE(e,s),t.finally(()=>r()).then(n,i)}).finally(()=>{r=Gd})}var EU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof _h?"cancelled":"rejected",error:r}}finally{t==null||t()}},Yd=e=>t=>mE(gE(e,t).then(r=>(Ms(e),r))),yE=e=>{const t=Yd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Fa}=Object,tN={},Ph="listenerMiddleware",CU=(e,t)=>{const r=n=>pE(e,()=>Ts(n,e.reason));return(n,i)=>{Kv(n);const s=new AbortController;r(s);const a=EU(async()=>{Ms(e),Ms(s.signal);const l=await n({pause:Yd(s.signal),delay:yE(s.signal),signal:s.signal});return Ms(s.signal),l},()=>Ts(s,OU));return i!=null&&i.autoJoin&&t.push(a.catch(Gd)),{result:Yd(e)(a),cancel(){Ts(s,kU)}}}},TU=(e,t)=>{const r=async(n,i)=>{Ms(t);let s=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&l.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await gE(t,Promise.race(l));return Ms(t),c}finally{s()}};return(n,i)=>mE(r(n,i))},vE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:i,effect:s}=e;if(t)i=Kr(t).match;else if(r)t=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(br(21));return Kv(s),{predicate:i,type:t,effect:s}},xE=Fa(e=>{const{type:t,predicate:r,effect:n}=vE(e);return{id:gU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(br(22))}}},{withTypes:()=>xE}),rN=(e,t)=>{const{type:r,effect:n,predicate:i}=vE(t);return Array.from(e.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},c0=e=>{e.pending.forEach(t=>{Ts(t,l0)})},MU=e=>()=>{e.forEach(c0),e.clear()},nN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},bE=Fa(Kr(`${Ph}/add`),{withTypes:()=>bE}),DU=Kr(`${Ph}/removeAll`),wE=Fa(Kr(`${Ph}/remove`),{withTypes:()=>wE}),RU=(...e)=>{console.error(`${Ph}/error`,...e)},$c=(e={})=>{const t=new Map,{extra:r,onError:n=RU}=e;Kv(n);const i=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&c0(d)}),s=d=>{const f=rN(t,d)??xE(d);return i(f)};Fa(s,{withTypes:()=>s});const a=d=>{const f=rN(t,d);return f&&(f.unsubscribe(),d.cancelActive&&c0(f)),!!f};Fa(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,b=TU(s,p.signal),w=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Fa({},h,{getOriginalState:m,condition:(v,x)=>b(v,x).then(Boolean),take:b,delay:yE(p.signal),pause:Yd(p.signal),extra:r,signal:p.signal,fork:CU(p.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((v,x,y)=>{v!==p&&(Ts(v,l0),y.delete(v))})},cancel:()=>{Ts(p,l0),d.pending.delete(p)},throwIfCancelled:()=>{Ms(p.signal)}})))}catch(v){v instanceof _h||nN(n,v,{raisedBy:"effect"})}finally{await Promise.all(w),Ts(p,AU),d.pending.delete(p)}},c=MU(t);return{middleware:d=>f=>h=>{if(!tE(h))return f(h);if(bE.match(h))return s(h.payload);if(DU.match(h)){c();return}if(wE.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===tN)throw new Error(br(23));return m};let b;try{if(b=f(h),t.size>0){const w=d.getState(),v=Array.from(t.values());for(const x of v){let y=!1;try{y=x.predicate(h,w,m)}catch(N){y=!1,nN(n,N,{raisedBy:"predicate"})}y&&l(x,h,d,p)}}}finally{m=tN}return b},startListening:s,stopListening:a,clearListeners:c}};function br(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var $U={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},jE=Or({name:"chartLayout",initialState:$U,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:IU,setLayout:LU,setChartSize:BU,setScale:FU}=jE.actions,zU=jE.reducer;function iN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iN(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=WU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,KU=e=>e*180/Math.PI,_e=(e,t,r,n)=>({x:e+Math.cos(-Xd*n)*r,y:t+Math.sin(-Xd*n)*r}),NE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},qU=(e,t)=>{var{x:r,y:n}=e,{x:i,y:s}=t;return Math.sqrt((r-i)**2+(n-s)**2)},HU=(e,t)=>{var{x:r,y:n}=e,{cx:i,cy:s}=t,a=qU({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var l=(r-i)/a,c=Math.acos(l);return n>s&&(c=2*Math.PI-c),{radius:a,angle:KU(c),angleInRadian:c}},GU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:t-s*360,endAngle:r-s*360}},YU=(e,t)=>{var{startAngle:r,endAngle:n}=t,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return e+a*360},XU=(e,t)=>{var{x:r,y:n}=e,{radius:i,angle:s}=HU({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(i<a||i>l||i===0)return null;var{startAngle:c,endAngle:u}=GU(t),d=s,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?sN(sN({},t),{},{radius:i,angle:YU(d,t)}):null},SE=e=>!g.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function _E(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=QU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=ZU(e,"string");return typeof t=="symbol"?t:t+""}function ZU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ie(e,t,r){return tt(e)||tt(t)?r:Cn(t)?Wi(e,t,r):typeof t=="function"?t(e):r}var e9=(e,t,r,n,i)=>{var s,a=-1,l=(s=t==null?void 0:t.length)!==null&&s!==void 0?s:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(Nt(d-u)!==Nt(f-d)){var m=[];if(Nt(f-d)===Nt(i[1]-i[0])){h=f;var p=d+i[1]-i[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var b=f+i[1]-i[0];m[0]=Math.min(d,(b+d)/2),m[1]=Math.max(d,(b+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var v=Math.min(u,f),x=Math.max(u,f);if(e>(v+d)/2&&e<=(x+d)/2){({index:a}=r[c]);break}}}else if(t){for(var y=0;y<l;y++)if(y===0&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y>0&&y<l-1&&e>(t[y].coordinate+t[y-1].coordinate)/2&&e<=(t[y].coordinate+t[y+1].coordinate)/2||y===l-1&&e>(t[y].coordinate+t[y-1].coordinate)/2){({index:a}=t[y]);break}}return a},t9=(e,t,r)=>{if(t&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&s!=="center"&&se(e[s]))return Lr(Lr({},e),{},{[s]:e[s]+(n||0)});if((l==="horizontal"||l==="vertical"&&s==="center")&&a!=="middle"&&se(e[a]))return Lr(Lr({},e),{},{[a]:e[a]+(i||0)})}return e},Ji=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",PE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var i,s,a=e.map(l=>(l.coordinate===t&&(i=!0),l.coordinate===r&&(s=!0),l.coordinate));return i||a.push(t),s||a.push(r),a},kE=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,b=i==="category"&&a.bandwidth?a.bandwidth()/p:0;if(b=m==="angleAxis"&&s&&s.length>=2?Nt(s[0]-s[1])*2*b:b,f||h){var w=(f||h||[]).map((v,x)=>{var y=n?n.indexOf(v):v;return{coordinate:a(y)+b,value:v,offset:b,index:x}});return w.filter(v=>!jr(v.coordinate))}return c&&u?u.map((v,x)=>({coordinate:a(v)+b,value:v,index:x,offset:b})):a.ticks&&!r&&d!=null?a.ticks(d).map((v,x)=>({coordinate:a(v)+b,value:v,offset:b,index:x})):a.domain().map((v,x)=>({coordinate:a(v)+b,value:n?n[v]:v,index:x,offset:b}))},oN=1e-4,r9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),i=Math.min(n[0],n[1])-oN,s=Math.max(n[0],n[1])+oN,a=e(t[0]),l=e(t[r-1]);(a<i||a>s||l<i||l>s)&&e.domain([t[0],t[r-1]])}},n9=(e,t)=>{if(!t||t.length!==2||!se(t[0])||!se(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!se(e[0])||e[0]<r)&&(i[0]=r),(!se(e[1])||e[1]>n)&&(i[1]=n),i[0]>n&&(i[0]=n),i[1]<r&&(i[1]=r),i},i9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0,a=0;a<t;++a){var l=jr(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1]):(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1])}},s9=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var i=0,s=0;s<t;++s){var a=jr(e[s][r][1])?e[s][r][0]:e[s][r][1];a>=0?(e[s][r][0]=i,e[s][r][1]=i+a,i=e[s][r][1]):(e[s][r][0]=0,e[s][r][1]=0)}},a9={sign:i9,expand:Hz,none:to,silhouette:Gz,wiggle:Yz,positive:s9},o9=(e,t,r)=>{var n=a9[r],i=qz().keys(t).value((s,a)=>+Ie(s,a,0)).order(e0).offset(n);return i(e)};function l9(e){return e==null?void 0:String(e)}var lN=e=>{var{axis:t,ticks:r,offset:n,bandSize:i,entry:s,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=Ie(s,t.dataKey,t.scale.domain()[a]);return tt(l)?null:t.scale(l)-i/2+n},c9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return n<=0&&i>=0?0:i<0?i:n}return r[0]},u9=e=>{var t=e.flat(2).filter(se);return[Math.min(...t),Math.max(...t)]},d9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],f9=(e,t,r)=>{if(e!=null)return d9(Object.keys(e).reduce((n,i)=>{var s=e[i],{stackedData:a}=s,l=a.reduce((c,u)=>{var d=_E(u,t,r),f=u9(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},cN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uN=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,uc=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var i=bh(t,d=>d.coordinate),s=1/0,a=1,l=i.length;a<l;a++){var c=i[a],u=i[a-1];s=Math.min((c.coordinate||0)-(u.coordinate||0),s)}return s===1/0?0:s}return r?void 0:0};function dN(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:i,name:s}=e;return Lr(Lr({},t),{},{dataKey:r,payload:n,value:i,name:s})}function ko(e,t){if(e)return String(e);if(typeof t=="string")return t}function h9(e,t,r,n,i){if(r==="horizontal"||r==="vertical"){var s=e>=i.left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height;return s?{x:e,y:t}:null}return n?XU({x:e,y:t},n):null}var m9=(e,t,r,n)=>{var i=t.find(u=>u&&u.index===r);if(i){if(e==="horizontal")return{x:i.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,{radius:a}=n;return Lr(Lr(Lr({},n),_e(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var l=i.coordinate,{angle:c}=n;return Lr(Lr(Lr({},n),_e(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},p9=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,oi=e=>e.layout.width,li=e=>e.layout.height,g9=e=>e.layout.scale,OE=e=>e.layout.margin,qv=F(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Hv=F(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),AE="data-recharts-item-index",EE="data-recharts-item-data-key",kh=60;function fN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function mi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?fN(Object(r),!0).forEach(function(n){y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9(e,t,r){return(t=v9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b9=e=>e.brush.height,pt=F([oi,li,OE,b9,qv,Hv,QA,U8],(e,t,r,n,i,s,a,l)=>{var c=s.reduce((p,b)=>{var{orientation:w}=b;if(!b.mirror&&!b.hide){var v=typeof b.width=="number"?b.width:kh;return mi(mi({},p),{},{[w]:p[w]+v})}return p},{left:r.left||0,right:r.right||0}),u=i.reduce((p,b)=>{var{orientation:w}=b;return!b.mirror&&!b.hide?mi(mi({},p),{},{[w]:Wi(p,"".concat(w))+b.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=mi(mi({},u),c),f=d.bottom;d.bottom+=n,d=t9(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return mi(mi({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),w9=F(pt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),CE=F(oi,li,(e,t)=>({x:0,y:0,width:e,height:t})),j9=g.createContext(null),hr=()=>g.useContext(j9)!=null,Oh=e=>e.brush,Ah=F([Oh,pt,OE],(e,t,r)=>({height:e.height,x:se(e.x)?e.x:t.left,y:se(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:se(e.width)?e.width:t.width})),Gv=()=>{var e,t=hr(),r=ie(w9),n=ie(Ah),i=(e=ie(Oh))===null||e===void 0?void 0:e.padding;return!t||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},N9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},TE=()=>{var e;return(e=ie(pt))!==null&&e!==void 0?e:N9},ME=()=>ie(oi),DE=()=>ie(li),be=e=>e.layout.layoutType,Yv=()=>ie(be),S9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},RE=Or({name:"legend",initialState:S9,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=qn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:hre,setLegendSettings:mre,addLegendPayload:$E,removeLegendPayload:IE}=RE.actions,_9=RE.reducer;function u0(){return u0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u0.apply(null,arguments)}function hN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function lp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hN(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A9(e){return Array.isArray(e)&&Cn(e[0])&&Cn(e[1])?e.join(" ~ "):e}var E9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(s&&s.length){var j={padding:0,margin:0},S=(l?bh(s,l):s).map((P,_)=>{if(P.type==="none")return null;var A=P.formatter||a||A9,{value:z,name:C}=P,W=z,L=C;if(A){var K=A(z,C,P,_,s);if(Array.isArray(K))[W,L]=K;else if(K!=null)W=K;else return null}var $=lp({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},n);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(_),style:$},Cn(L)?g.createElement("span",{className:"recharts-tooltip-item-name"},L):null,Cn(L)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},W),g.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},p=lp({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=lp({margin:0},i),w=!tt(d),v=w?d:"",x=ye("recharts-default-tooltip",c),y=ye("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(v=f(d,s));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",u0({className:x,style:p},N),g.createElement("p",{className:y,style:b},g.isValidElement(v)?v:"".concat(v)),m())},tl="recharts-tooltip-wrapper",C9={visibility:"hidden"};function T9(e){var{coordinate:t,translateX:r,translateY:n}=e;return ye(tl,{["".concat(tl,"-right")]:se(r)&&t&&se(t.x)&&r>=t.x,["".concat(tl,"-left")]:se(r)&&t&&se(t.x)&&r<t.x,["".concat(tl,"-bottom")]:se(n)&&t&&se(t.y)&&n>=t.y,["".concat(tl,"-top")]:se(n)&&t&&se(t.y)&&n<t.y})}function mN(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(s&&se(s[n]))return s[n];var d=r[n]-l-(i>0?i:0),f=r[n]+i;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+l,w=h+u;return b>w?Math.max(d,h):Math.max(f,h)}function M9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function D9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=mN({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=mN({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=M9({translateX:d,translateY:f,useTranslate3d:l})):u=C9,{cssProperties:u,cssClasses:T9({translateX:d,translateY:f,coordinate:r})}}function pN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Eu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pN(Object(r),!0).forEach(function(n){d0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d0(e,t,r){return(t=R9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R9(e){var t=$9(e,"string");return typeof t=="symbol"?t:t+""}function $9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class I9 extends g.PureComponent{constructor(){super(...arguments),d0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),d0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:b,innerRef:w,hasPortalFromProps:v}=this.props,{cssClasses:x,cssProperties:y}=D9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),N=v?{}:Eu(Eu({transition:c&&t?"transform ".concat(n,"ms ").concat(i):void 0},y),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=Eu(Eu({},N),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:x,style:j,ref:w},s)}}var L9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ys={isSsr:L9()},LE=()=>ie(e=>e.rootProps.accessibilityLayer);function _r(e){return Number.isFinite(e)}function io(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function f0(){return f0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f0.apply(null,arguments)}function gN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gN(Object(r),!0).forEach(function(n){B9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B9(e,t,r){return(t=F9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vN={curveBasisClosed:Rz,curveBasisOpen:$z,curveBasis:Dz,curveBumpX:bz,curveBumpY:wz,curveLinearClosed:Iz,curveLinear:fh,curveMonotoneX:Lz,curveMonotoneY:Bz,curveNatural:Fz,curveStep:zz,curveStepAfter:Wz,curveStepBefore:Uz},Cu=e=>_r(e.x)&&_r(e.y),rl=e=>e.x,nl=e=>e.y,U9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Mc(e));return(r==="curveMonotone"||r==="curveBump")&&t?vN["".concat(r).concat(t==="vertical"?"Y":"X")]:vN[r]||fh},W9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=e,a=U9(t,i),l=s?r.filter(Cu):r,c;if(Array.isArray(n)){var u=s?n.filter(f=>Cu(f)):n,d=l.map((f,h)=>yN(yN({},f),{},{base:u[h]}));return i==="vertical"?c=_u().y(nl).x1(rl).x0(f=>f.base.x):c=_u().x(rl).y1(nl).y0(f=>f.base.y),c.defined(Cu).curve(a),c(d)}return i==="vertical"&&se(n)?c=_u().y(nl).x1(rl).x0(n):se(n)?c=_u().x(rl).y1(nl).y0(n):c=pA().x(rl).y(nl),c.defined(Cu).curve(a),c(l)},BE=e=>{var{className:t,points:r,path:n,pathRef:i}=e;if((!r||!r.length)&&!n)return null;var s=r&&r.length?W9(e):n;return g.createElement("path",f0({},zt(e),Ov(e),{className:ye("recharts-curve",t),d:s===null?void 0:s,ref:i}))},V9=["x","y","top","left","width","height","className"];function h0(){return h0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h0.apply(null,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function K9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){q9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function q9(e,t,r){return(t=H9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function H9(e){var t=G9(e,"string");return typeof t=="symbol"?t:t+""}function G9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y9(e,t){if(e==null)return{};var r,n,i=X9(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var J9=(e,t,r,n,i,s)=>"M".concat(e,",").concat(i,"v").concat(n,"M").concat(s,",").concat(t,"h").concat(r),Q9=e=>{var{x:t=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:l}=e,c=Y9(e,V9),u=K9({x:t,y:r,top:n,left:i,width:s,height:a},c);return!se(t)||!se(r)||!se(s)||!se(a)||!se(n)||!se(i)?null:g.createElement("path",h0({},Ne(u,!0),{className:ye("recharts-cross",l),d:J9(t,r,s,a,n,i)}))};function Z9(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function bN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function eW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bN(Object(r),!0).forEach(function(n){tW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tW(e,t,r){return(t=rW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rW(e){var t=nW(e,"string");return typeof t=="symbol"?t:t+""}function nW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yr(e,t){var r=eW({},e),n=t,i=Object.keys(t),s=i.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return s}var FE={},zE={},UE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(UE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UE,r=$v,n=yh,i=vh,s=gh;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,b){const w=b(u,d,f,h,m,p);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,b)}return c(u,d,p,b)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===i.argumentsTag&&(m=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),m!==p)return!1;switch(m){case i.stringTag:return u.toString()===d.toString();case i.numberTag:{const v=u.valueOf(),x=d.valueOf();return s.eq(v,x)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(u.valueOf(),d.valueOf());case i.regexpTag:return u.source===d.source&&u.flags===d.flags;case i.functionTag:return u===d}f=f??new Map;const b=f.get(u),w=f.get(d);if(b!=null&&w!=null)return b===d;f.set(u,d),f.set(d,u);try{switch(m){case i.mapTag:{if(u.size!==d.size)return!1;for(const[v,x]of u.entries())if(!d.has(v)||!l(x,d.get(v),v,u,d,f,h))return!1;return!0}case i.setTag:{if(u.size!==d.size)return!1;const v=Array.from(u.values()),x=Array.from(d.values());for(let y=0;y<v.length;y++){const N=v[y],j=x.findIndex(S=>l(N,S,void 0,u,d,f,h));if(j===-1)return!1;x.splice(j,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let v=0;v<u.length;v++)if(!l(u[v],d[v],v,u,d,f,h))return!1;return!0}case i.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case i.errorTag:return u.name===d.name&&u.message===d.message;case i.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const x=[...Object.keys(u),...r.getSymbols(u)],y=[...Object.keys(d),...r.getSymbols(d)];if(x.length!==y.length)return!1;for(let N=0;N<x.length;N++){const j=x[N],S=u[j];if(!Object.hasOwn(d,j))return!1;const P=d[j];if(!l(S,P,j,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(zE);var WE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(WE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zE,r=WE;function n(i,s){return t.isEqualWith(i,s,r.noop)}e.isEqual=n})(FE);var iW=FE.isEqual;const sW=Hr(iW);var Jd=1e-4,VE=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],KE=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),wN=(e,t)=>r=>{var n=VE(e,t);return KE(n,r)},aW=(e,t)=>r=>{var n=VE(e,t),i=[...n.map((s,a)=>s*a).slice(1),0];return KE(i,r)},jN=function(){for(var t,r,n,i,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,i]=[0,0,1,1];break;case"ease":[t,n,r,i]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,i]=[.42,0,1,1];break;case"ease-out":[t,n,r,i]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,i]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,i]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,i]=a);var u=wN(t,r),d=wN(n,i),f=aW(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var b=p>1?1:p,w=b,v=0;v<8;++v){var x=u(w)-b,y=f(w);if(Math.abs(x-b)<Jd||y<Jd)return d(w);w=h(w-x/y)}return d(w)};return m.isStepper=!1,m},oW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=t,s=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*i/1e3,h=c*i/1e3+a;return Math.abs(h-l)<Jd&&Math.abs(f)<Jd?[l,0]:[h,f]};return s.isStepper=!0,s.dt=i,s},qE=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return jN(e);case"spring":return oW();default:if(e.split("(")[0]==="cubic-bezier")return jN(e)}return typeof e=="function"?e:null};function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function SN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){lW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lW(e,t,r){return(t=cW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cW(e){var t=uW(e,"string");return typeof t=="symbol"?t:t+""}function uW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fW=(e,t,r)=>e.map(n=>"".concat(dW(n)," ").concat(t,"ms ").concat(r)).join(","),hW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(i=>n.includes(i))),dc=(e,t)=>Object.keys(t).reduce((r,n)=>SN(SN({},r),{},{[n]:e(n,t[n])}),{});function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ot(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_N(Object(r),!0).forEach(function(n){mW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mW(e,t,r){return(t=pW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pW(e){var t=gW(e,"string");return typeof t=="symbol"?t:t+""}function gW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qd=(e,t,r)=>e+(t-e)*r,m0=e=>{var{from:t,to:r}=e;return t!==r},HE=(e,t,r)=>{var n=dc((i,s)=>{if(m0(s)){var[a,l]=e(s.from,s.to,s.velocity);return Ot(Ot({},s),{},{from:a,velocity:l})}return s},t);return r<1?dc((i,s)=>m0(s)?Ot(Ot({},s),{},{velocity:Qd(s.velocity,n[i].velocity,r),from:Qd(s.from,n[i].from,r)}):s,t):HE(e,n,r-1)};function yW(e,t,r,n,i,s){var a,l=n.reduce((h,m)=>Ot(Ot({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>dc((h,m)=>m.from,l),u=()=>!Object.values(l).filter(m0).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;l=HE(r,l,p),i(Ot(Ot(Ot({},e),t),c())),a=h,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{d()})}function vW(e,t,r,n,i,s,a){var l=null,c=i.reduce((f,h)=>Ot(Ot({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=dc((b,w)=>Qd(...w,r(h)),c);if(s(Ot(Ot(Ot({},e),t),m)),h<1)l=a.setTimeout(d);else{var p=dc((b,w)=>Qd(...w,r(1)),c);s(Ot(Ot(Ot({},e),t),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const GE=(e,t,r,n,i,s)=>{var a=hW(e,t);return r.isStepper===!0?yW(e,t,r,a,i,s):vW(e,t,r,n,a,i,s)};function xW(e){var t,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){i=e.setTimeout(s.bind(null,u),c);return}s(c),i=e.setTimeout(s.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class bW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}function wW(){return xW(new bW)}var jW=g.createContext(wW);function YE(e,t){var r=g.useContext(jW);return g.useMemo(()=>t??r(e),[e,t,r])}var NW=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function p0(){return p0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p0.apply(null,arguments)}function SW(e,t){if(e==null)return{};var r,n,i=_W(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _W(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function pi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){js(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function js(e,t,r){return(t=PW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PW(e){var t=kW(e,"string");return typeof t=="symbol"?t:t+""}function kW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Xv extends g.PureComponent{constructor(t,r){super(t,r),js(this,"mounted",!1),js(this,"manager",void 0),js(this,"stopJSAnimation",null),js(this,"unSubscribe",null);var{isActive:n,attributeName:i,from:s,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(s){if(typeof l=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:i,shouldReAnimate:s,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:i?{[i]:a}:a};this.state&&c&&(i&&c[i]!==a||!i&&c!==a)&&this.setState(u);return}if(!(sW(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||s?l:t.to;if(this.state&&c){var h={style:i?{[i]:f}:f};(i&&c[i]!==f||!i&&c!==f)&&this.setState(h)}this.runAnimation(pi(pi({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=GE(r,n,qE(s),i,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,i,l])}runAnimation(t){var{begin:r,duration:n,attributeName:i,to:s,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=i?{[i]:s}:s,f=fW(Object.keys(d),n,a);this.manager.start([l,r,pi(pi({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:i,attributeName:s,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,b=SW(t,NW),w=g.Children.count(r),v=this.state.style;if(typeof r=="function")return r(v);if(!l||w===0||i<=0)return r;var x=y=>{var{style:N={},className:j}=y.props,S=g.cloneElement(y,pi(pi({},b),{},{style:pi(pi({},N),v),className:j}));return S};return w===1?x(g.Children.only(r)):g.createElement("div",null,g.Children.map(r,y=>x(y)))}}js(Xv,"displayName","Animate");js(Xv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Zd(e){var t,r=YE((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return g.createElement(Xv,p0({},e,{animationManager:r}))}function ef(){return ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ef.apply(null,arguments)}var kN=(e,t,r,n,i)=>{var s=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(s>0&&i instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=i[f]>s?s:i[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(s>0&&i===+i&&i>0){var m=Math.min(s,i);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},OW={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XE=e=>{var t=Yr(e,OW),r=g.useRef(null),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var v=r.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:b}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=ye("recharts-rectangle",d);return b?g.createElement(Zd,{canBegin:n>0,from:{width:l,height:c,x:s,y:a},to:{width:l,height:c,x:s,y:a},duration:h,animationEasing:f,isActive:b},v=>{var{width:x,height:y,x:N,y:j}=v;return g.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},g.createElement("path",ef({},Ne(t,!0),{className:w,d:kN(N,j,x,y,u),ref:r})))}):g.createElement("path",ef({},Ne(t,!0),{className:w,d:kN(s,a,l,c,u)}))};function JE(e){var{cx:t,cy:r,radius:n,startAngle:i,endAngle:s}=e,a=_e(t,r,n,i),l=_e(t,r,n,s);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function g0(){return g0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},g0.apply(null,arguments)}var AW=(e,t)=>{var r=Nt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Tu=e=>{var{cx:t,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Xd,f=c?i:i+s*d,h=_e(t,r,u,f),m=_e(t,r,n,f),p=c?i-s*d:i,b=_e(t,r,u*Math.cos(d*Xd),p);return{center:h,circleTangency:m,lineTangency:b,theta:d}},QE=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=e,l=AW(s,a),c=s+l,u=_e(t,r,i,s),d=_e(t,r,i,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(s>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=_e(t,r,n,s),m=_e(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(s<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},EW=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=Nt(u-c),{circleTangency:f,lineTangency:h,theta:m}=Tu({cx:t,cy:r,radius:i,angle:c,sign:d,cornerRadius:s,cornerIsExternal:l}),{circleTangency:p,lineTangency:b,theta:w}=Tu({cx:t,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:l}),v=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(v<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):QE({cx:t,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:u});var x="M ".concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(v>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(b.x,",").concat(b.y,`
  `);if(n>0){var{circleTangency:y,lineTangency:N,theta:j}=Tu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),{circleTangency:S,lineTangency:P,theta:_}=Tu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:l}),A=l?Math.abs(c-u):Math.abs(c-u)-j-_;if(A<0&&s===0)return"".concat(x,"L").concat(t,",").concat(r,"Z");x+="L".concat(P.x,",").concat(P.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(A>180),",").concat(+(d>0),",").concat(y.x,",").concat(y.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,"Z")}else x+="L".concat(t,",").concat(r,"Z");return x},CW={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ZE=e=>{var t=Yr(e,CW),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(s<i||u===d)return null;var h=ye("recharts-sector",f),m=s-i,p=Yt(a,m,0,!0),b;return p>0&&Math.abs(u-d)<360?b=EW({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):b=QE({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),g.createElement("path",g0({},Ne(t,!0),{className:h,d:b}))};function TW(e,t,r){var n,i,s,a;if(e==="horizontal")n=t.x,s=n,i=r.top,a=r.top+r.height;else if(e==="vertical")i=t.y,a=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=_e(l,c,u,f),m=_e(l,c,d,f);n=h.x,i=h.y,s=m.x,a=m.y}else return JE(t);return[{x:n,y:i},{x:s,y:a}]}var eC={},tC={},rC={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(rC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rC;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(tC);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fv,r=tC;function n(i,s,a){a&&typeof a!="number"&&t.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((s-i)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=i,i+=a;return c}e.range=n})(eC);var MW=eC.range;const nC=Hr(MW);function Ii(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DW(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Jv(e){let t,r,n;e.length!==2?(t=Ii,r=(l,c)=>Ii(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ii||e===DW?e:RW,r=e,n=e);function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:a,right:s}}function RW(){return 0}function iC(e){return e===null?NaN:+e}function*$W(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const IW=Jv(Ii),Ic=IW.right;Jv(iC).center;class ON extends Map{constructor(t,r=FW){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(AN(this,t))}has(t){return super.has(AN(this,t))}set(t,r){return super.set(LW(this,t),r)}delete(t){return super.delete(BW(this,t))}}function AN({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function LW({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function BW({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function FW(e){return e!==null&&typeof e=="object"?e.valueOf():e}function zW(e=Ii){if(e===Ii)return sC;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function sC(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const UW=Math.sqrt(50),WW=Math.sqrt(10),VW=Math.sqrt(2);function tf(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=UW?10:s>=WW?5:s>=VW?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?tf(e,t,r*2):[l,c,u]}function y0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,a]=n?tf(t,e,r):tf(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(s-u)/-a;else for(let u=0;u<l;++u)c[u]=(s-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(i+u)/-a;else for(let u=0;u<l;++u)c[u]=(i+u)*a;return c}function v0(e,t,r){return t=+t,e=+e,r=+r,tf(e,t,r)[2]}function x0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?v0(t,e,r):v0(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function EN(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function CN(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function aC(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?sC:zW(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));aC(e,t,m,p,i)}const s=e[t];let a=r,l=n;for(il(e,r,t),i(e[n],s)>0&&il(e,r,n);a<l;){for(il(e,a,l),++a,--l;i(e[a],s)<0;)++a;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?il(e,r,l):(++l,il(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function il(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function KW(e,t,r){if(e=Float64Array.from($W(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return CN(e);if(t>=1)return EN(e);var n,i=(n-1)*t,s=Math.floor(i),a=EN(aC(e,s).subarray(0,s+1)),l=CN(e.subarray(s+1));return a+(l-a)*(i-s)}}function qW(e,t,r=iC){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),a=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return a+(l-a)*(i-s)}}function HW(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function Xr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ci(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const b0=Symbol("implicit");function Qv(){var e=new ON,t=[],r=[],n=b0;function i(s){let a=e.get(s);if(a===void 0){if(n!==b0)return n;e.set(s,a=t.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new ON;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Qv(t,r).unknown(n)},Xr.apply(i,arguments),i}function Zv(){var e=Qv().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<n,p=m?i:n,b=m?n:i;s=(b-p)/Math.max(1,h-c+u*2),l&&(s=Math.floor(s)),p+=(b-p-s*(h-c))*d,a=s*(1-c),l&&(p=Math.round(p),a=Math.round(a));var w=HW(h).map(function(v){return p+s*v});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,i]=h,n=+n,i=+i,f()):[n,i]},e.rangeRound=function(h){return[n,i]=h,n=+n,i=+i,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Zv(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},Xr.apply(f(),arguments)}function oC(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return oC(t())},e}function GW(){return oC(Zv.apply(null,arguments).paddingInner(1))}function ex(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function lC(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lc(){}var fc=.7,rf=1/fc,za="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YW=/^#([0-9a-f]{3,8})$/,XW=new RegExp(`^rgb\\(${za},${za},${za}\\)$`),JW=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),QW=new RegExp(`^rgba\\(${za},${za},${za},${hc}\\)$`),ZW=new RegExp(`^rgba\\(${On},${On},${On},${hc}\\)$`),eV=new RegExp(`^hsl\\(${hc},${On},${On}\\)$`),tV=new RegExp(`^hsla\\(${hc},${On},${On},${hc}\\)$`),TN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ex(Lc,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:MN,formatHex:MN,formatHex8:rV,formatHsl:nV,formatRgb:DN,toString:DN});function MN(){return this.rgb().formatHex()}function rV(){return this.rgb().formatHex8()}function nV(){return cC(this).formatHsl()}function DN(){return this.rgb().formatRgb()}function mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=YW.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?RN(t):r===3?new or(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Mu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Mu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=XW.exec(e))?new or(t[1],t[2],t[3],1):(t=JW.exec(e))?new or(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=QW.exec(e))?Mu(t[1],t[2],t[3],t[4]):(t=ZW.exec(e))?Mu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=eV.exec(e))?LN(t[1],t[2]/100,t[3]/100,1):(t=tV.exec(e))?LN(t[1],t[2]/100,t[3]/100,t[4]):TN.hasOwnProperty(e)?RN(TN[e]):e==="transparent"?new or(NaN,NaN,NaN,0):null}function RN(e){return new or(e>>16&255,e>>8&255,e&255,1)}function Mu(e,t,r,n){return n<=0&&(e=t=r=NaN),new or(e,t,r,n)}function iV(e){return e instanceof Lc||(e=mc(e)),e?(e=e.rgb(),new or(e.r,e.g,e.b,e.opacity)):new or}function w0(e,t,r,n){return arguments.length===1?iV(e):new or(e,t,r,n??1)}function or(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ex(or,w0,lC(Lc,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new or(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new or(Ds(this.r),Ds(this.g),Ds(this.b),nf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:$N,formatHex:$N,formatHex8:sV,formatRgb:IN,toString:IN}));function $N(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}`}function sV(){return`#${Ns(this.r)}${Ns(this.g)}${Ns(this.b)}${Ns((isNaN(this.opacity)?1:this.opacity)*255)}`}function IN(){const e=nf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ds(this.r)}, ${Ds(this.g)}, ${Ds(this.b)}${e===1?")":`, ${e})`}`}function nf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ds(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ns(e){return e=Ds(e),(e<16?"0":"")+e.toString(16)}function LN(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,r,n)}function cC(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=mc(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),a=NaN,l=s-i,c=(s+i)/2;return l?(t===s?a=(r-n)/l+(r<n)*6:r===s?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?s+i:2-s-i,a*=60):l=c>0&&c<1?0:a,new on(a,l,c,e.opacity)}function aV(e,t,r,n){return arguments.length===1?cC(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ex(on,aV,lC(Lc,{brighter(e){return e=e==null?rf:Math.pow(rf,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new or(cp(e>=240?e-240:e+120,i,n),cp(e,i,n),cp(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new on(BN(this.h),Du(this.s),Du(this.l),nf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nf(this.opacity);return`${e===1?"hsl(":"hsla("}${BN(this.h)}, ${Du(this.s)*100}%, ${Du(this.l)*100}%${e===1?")":`, ${e})`}`}}));function BN(e){return e=(e||0)%360,e<0?e+360:e}function Du(e){return Math.max(0,Math.min(1,e||0))}function cp(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const tx=e=>()=>e;function oV(e,t){return function(r){return e+r*t}}function lV(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function cV(e){return(e=+e)==1?uC:function(t,r){return r-t?lV(t,r,e):tx(isNaN(t)?r:t)}}function uC(e,t){var r=t-e;return r?oV(e,r):tx(isNaN(e)?t:e)}const FN=function e(t){var r=cV(t);function n(i,s){var a=r((i=w0(i)).r,(s=w0(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=uC(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=e,n}(1);function uV(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function dV(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function fV(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Oo(e[a],t[a]);for(;a<r;++a)s[a]=t[a];return function(l){for(a=0;a<n;++a)s[a]=i[a](l);return s}}function hV(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function mV(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=Oo(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var j0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,up=new RegExp(j0.source,"g");function pV(e){return function(){return e}}function gV(e){return function(t){return e(t)+""}}function yV(e,t){var r=j0.lastIndex=up.lastIndex=0,n,i,s,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=j0.exec(e))&&(i=up.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[a]?l[a]+=s:l[++a]=s),(n=n[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,c.push({i:a,x:sf(n,i)})),r=up.lastIndex;return r<t.length&&(s=t.slice(r),l[a]?l[a]+=s:l[++a]=s),l.length<2?c[0]?gV(c[0].x):pV(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Oo(e,t){var r=typeof t,n;return t==null||r==="boolean"?tx(t):(r==="number"?sf:r==="string"?(n=mc(t))?(t=n,FN):yV:t instanceof mc?FN:t instanceof Date?hV:dV(t)?uV:Array.isArray(t)?fV:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?mV:sf)(e,t)}function rx(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function vV(e,t){t===void 0&&(t=e,e=Oo);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[l](a-l)}}function xV(e){return function(){return e}}function af(e){return+e}var zN=[0,1];function qt(e){return e}function N0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xV(isNaN(t)?NaN:.5)}function bV(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function wV(e,t,r){var n=e[0],i=e[1],s=t[0],a=t[1];return i<n?(n=N0(i,n),s=r(a,s)):(n=N0(n,i),s=r(s,a)),function(l){return s(n(l))}}function jV(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)i[a]=N0(e[a],e[a+1]),s[a]=r(t[a],t[a+1]);return function(l){var c=Ic(e,l,1,n)-1;return s[c](i[c](l))}}function Bc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Eh(){var e=zN,t=zN,r=Oo,n,i,s,a=qt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==qt&&(a=bV(e[0],e[h-1])),l=h>2?jV:wV,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?s:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(i((u||(u=l(t,e.map(n),sf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,af),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=rx,d()},f.clamp=function(h){return arguments.length?(a=h?!0:qt,d()):a!==qt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(s=h,f):s},function(h,m){return n=h,i=m,d()}}function nx(){return Eh()(qt,qt)}function NV(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function so(e){return e=of(Math.abs(e)),e?e[1]:NaN}function SV(e,t){return function(r,n){for(var i=r.length,s=[],a=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return s.reverse().join(t)}}function _V(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var PV=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function pc(e){if(!(t=PV.exec(e)))throw new Error("invalid format: "+e);var t;return new ix({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}pc.prototype=ix.prototype;function ix(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ix.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function kV(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var dC;function OV(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(dC=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+of(e,Math.max(0,t+s-1))[0]}function UN(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const WN={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:NV,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>UN(e*100,t),r:UN,s:OV,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function VN(e){return e}var KN=Array.prototype.map,qN=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function AV(e){var t=e.grouping===void 0||e.thousands===void 0?VN:SV(KN.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?VN:_V(KN.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=pc(f);var h=f.fill,m=f.align,p=f.sign,b=f.symbol,w=f.zero,v=f.width,x=f.comma,y=f.precision,N=f.trim,j=f.type;j==="n"?(x=!0,j="g"):WN[j]||(y===void 0&&(y=12),N=!0,j="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var S=b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",P=b==="$"?n:/[%p]/.test(j)?a:"",_=WN[j],A=/[defgprs%]/.test(j);y=y===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function z(C){var W=S,L=P,K,$,O;if(j==="c")L=_(C)+L,C="";else{C=+C;var V=C<0||1/C<0;if(C=isNaN(C)?c:_(Math.abs(C),y),N&&(C=kV(C)),V&&+C==0&&p!=="+"&&(V=!1),W=(V?p==="("?p:l:p==="-"||p==="("?"":p)+W,L=(j==="s"?qN[8+dC/3]:"")+L+(V&&p==="("?")":""),A){for(K=-1,$=C.length;++K<$;)if(O=C.charCodeAt(K),48>O||O>57){L=(O===46?i+C.slice(K+1):C.slice(K))+L,C=C.slice(0,K);break}}}x&&!w&&(C=t(C,1/0));var I=W.length+C.length+L.length,k=I<v?new Array(v-I+1).join(h):"";switch(x&&w&&(C=t(k+C,k.length?v-L.length:1/0),k=""),m){case"<":C=W+C+L+k;break;case"=":C=W+k+C+L;break;case"^":C=k.slice(0,I=k.length>>1)+W+C+L+k.slice(I);break;default:C=k+W+C+L;break}return s(C)}return z.toString=function(){return f+""},z}function d(f,h){var m=u((f=pc(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(so(h)/3)))*3,b=Math.pow(10,-p),w=qN[8+p/3];return function(v){return m(b*v)+w}}return{format:u,formatPrefix:d}}var Ru,sx,fC;EV({thousands:",",grouping:[3],currency:["$",""]});function EV(e){return Ru=AV(e),sx=Ru.format,fC=Ru.formatPrefix,Ru}function CV(e){return Math.max(0,-so(Math.abs(e)))}function TV(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(so(t)/3)))*3-so(Math.abs(e)))}function MV(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,so(t)-so(e))+1}function hC(e,t,r,n){var i=x0(e,t,r),s;switch(n=pc(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=TV(i,a))&&(n.precision=s),fC(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=MV(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=CV(i))&&(n.precision=s-(n.type==="%")*2);break}}return sx(n)}function Qi(e){var t=e.domain;return e.ticks=function(r){var n=t();return y0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return hC(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,a=n[i],l=n[s],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=v0(a,l,r),u===c)return n[i]=a,n[s]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function mC(){var e=nx();return e.copy=function(){return Bc(e,mC())},Xr.apply(e,arguments),Qi(e)}function pC(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,af),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return pC(e).unknown(t)},e=arguments.length?Array.from(e,af):[0,1],Qi(r)}function gC(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),e[r]=t.floor(i),e[n]=t.ceil(s),e}function HN(e){return Math.log(e)}function GN(e){return Math.exp(e)}function DV(e){return-Math.log(-e)}function RV(e){return-Math.exp(-e)}function $V(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IV(e){return e===10?$V:e===Math.E?Math.exp:t=>Math.pow(e,t)}function LV(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function YN(e){return(t,r)=>-e(-t,r)}function ax(e){const t=e(HN,GN),r=t.domain;let n=10,i,s;function a(){return i=LV(n),s=IV(n),r()[0]<0?(i=YN(i),s=YN(s),e(DV,RV)):e(HN,GN),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,b;const w=l==null?10:+l;let v=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(b=h<0?p/s(-h):p*s(h),!(b<u)){if(b>d)break;v.push(b)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(b=h>0?p/s(-h):p*s(h),!(b<u)){if(b>d)break;v.push(b)}v.length*2<w&&(v=y0(u,d,w))}else v=y0(h,m,Math.min(m-h,w)).map(s);return f?v.reverse():v},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=pc(c)).precision==null&&(c.trim=!0),c=sx(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(gC(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function yC(){const e=ax(Eh()).domain([1,10]);return e.copy=()=>Bc(e,yC()).base(e.base()),Xr.apply(e,arguments),e}function XN(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function JN(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function ox(e){var t=1,r=e(XN(t),JN(t));return r.constant=function(n){return arguments.length?e(XN(t=+n),JN(t)):t},Qi(r)}function vC(){var e=ox(Eh());return e.copy=function(){return Bc(e,vC()).constant(e.constant())},Xr.apply(e,arguments)}function QN(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function BV(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function FV(e){return e<0?-e*e:e*e}function lx(e){var t=e(qt,qt),r=1;function n(){return r===1?e(qt,qt):r===.5?e(BV,FV):e(QN(r),QN(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},Qi(t)}function cx(){var e=lx(Eh());return e.copy=function(){return Bc(e,cx()).exponent(e.exponent())},Xr.apply(e,arguments),e}function zV(){return cx.apply(null,arguments).exponent(.5)}function ZN(e){return Math.sign(e)*e*e}function UV(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function xC(){var e=nx(),t=[0,1],r=!1,n;function i(s){var a=UV(e(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return e.invert(ZN(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,af)).map(ZN)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return xC(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Xr.apply(i,arguments),Qi(i)}function bC(){var e=[],t=[],r=[],n;function i(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=qW(e,a/l);return s}function s(a){return a==null||isNaN(a=+a)?n:t[Ic(r,a)]}return s.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ii),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return bC().domain(e).range(t).unknown(n)},Xr.apply(s,arguments)}function wC(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function a(c){return c!=null&&c<=c?i[Ic(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},a.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(s=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return wC().domain([e,t]).range(i).unknown(s)},Xr.apply(Qi(a),arguments)}function jC(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[Ic(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return jC().domain(e).range(t).unknown(r)},Xr.apply(i,arguments)}const dp=new Date,fp=new Date;function gt(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),l=i.ceil(s);return s-a<l-s?a:l},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<a)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<a);return c},i.filter=s=>gt(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!s(a););else for(;--l>=0;)for(;t(a,1),!s(a););}),r&&(i.count=(s,a)=>(dp.setTime(+s),fp.setTime(+a),e(dp),e(fp),Math.floor(r(dp,fp))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const lf=gt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);lf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?gt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):lf);lf.range;const Un=1e3,Fr=Un*60,Wn=Fr*60,ei=Wn*24,ux=ei*7,eS=ei*30,hp=ei*365,Ss=gt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Un)},(e,t)=>(t-e)/Un,e=>e.getUTCSeconds());Ss.range;const dx=gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Un)},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getMinutes());dx.range;const fx=gt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Fr)},(e,t)=>(t-e)/Fr,e=>e.getUTCMinutes());fx.range;const hx=gt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Un-e.getMinutes()*Fr)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getHours());hx.range;const mx=gt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getUTCHours());mx.range;const Fc=gt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Fr)/ei,e=>e.getDate()-1);Fc.range;const Ch=gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>e.getUTCDate()-1);Ch.range;const NC=gt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ei,e=>Math.floor(e/ei));NC.range;function Xs(e){return gt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Fr)/ux)}const Th=Xs(0),cf=Xs(1),WV=Xs(2),VV=Xs(3),ao=Xs(4),KV=Xs(5),qV=Xs(6);Th.range;cf.range;WV.range;VV.range;ao.range;KV.range;qV.range;function Js(e){return gt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ux)}const Mh=Js(0),uf=Js(1),HV=Js(2),GV=Js(3),oo=Js(4),YV=Js(5),XV=Js(6);Mh.range;uf.range;HV.range;GV.range;oo.range;YV.range;XV.range;const px=gt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());px.range;const gx=gt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gx.range;const ti=gt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ti.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ti.range;const ri=gt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ri.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:gt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ri.range;function SC(e,t,r,n,i,s){const a=[[Ss,1,Un],[Ss,5,5*Un],[Ss,15,15*Un],[Ss,30,30*Un],[s,1,Fr],[s,5,5*Fr],[s,15,15*Fr],[s,30,30*Fr],[i,1,Wn],[i,3,3*Wn],[i,6,6*Wn],[i,12,12*Wn],[n,1,ei],[n,2,2*ei],[r,1,ux],[t,1,eS],[t,3,3*eS],[e,1,hp]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=Jv(([,,w])=>w).right(a,h);if(m===a.length)return e.every(x0(u/hp,d/hp,f));if(m===0)return lf.every(Math.max(x0(u,d,f),1));const[p,b]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(b)}return[l,c]}const[JV,QV]=SC(ri,gx,Mh,NC,mx,fx),[ZV,e7]=SC(ti,px,Th,Fc,hx,dx);function mp(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function pp(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function sl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function t7(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=al(i),d=ol(i),f=al(s),h=ol(s),m=al(a),p=ol(a),b=al(l),w=ol(l),v=al(c),x=ol(c),y={a:V,A:I,b:k,B,c:null,d:aS,e:aS,f:S7,g:D7,G:$7,H:w7,I:j7,j:N7,L:_C,m:_7,M:P7,p:J,q:D,Q:cS,s:uS,S:k7,u:O7,U:A7,V:E7,w:C7,W:T7,x:null,X:null,y:M7,Y:R7,Z:I7,"%":lS},N={a:ee,A:G,b:E,B:q,c:null,d:oS,e:oS,f:z7,g:J7,G:Z7,H:L7,I:B7,j:F7,L:kC,m:U7,M:W7,p:M,q:U,Q:cS,s:uS,S:V7,u:K7,U:q7,V:H7,w:G7,W:Y7,x:null,X:null,y:X7,Y:Q7,Z:eK,"%":lS},j={a:z,A:C,b:W,B:L,c:K,d:iS,e:iS,f:y7,g:nS,G:rS,H:sS,I:sS,j:h7,L:g7,m:f7,M:m7,p:A,q:d7,Q:x7,s:b7,S:p7,u:a7,U:o7,V:l7,w:s7,W:c7,x:$,X:O,y:nS,Y:rS,Z:u7,"%":v7};y.x=S(r,y),y.X=S(n,y),y.c=S(t,y),N.x=S(r,N),N.X=S(n,N),N.c=S(t,N);function S(T,Y){return function(te){var R=[],X=-1,re=0,ce=T.length,ue,he,ge;for(te instanceof Date||(te=new Date(+te));++X<ce;)T.charCodeAt(X)===37&&(R.push(T.slice(re,X)),(he=tS[ue=T.charAt(++X)])!=null?ue=T.charAt(++X):he=ue==="e"?" ":"0",(ge=Y[ue])&&(ue=ge(te,he)),R.push(ue),re=X+1);return R.push(T.slice(re,X)),R.join("")}}function P(T,Y){return function(te){var R=sl(1900,void 0,1),X=_(R,T,te+="",0),re,ce;if(X!=te.length)return null;if("Q"in R)return new Date(R.Q);if("s"in R)return new Date(R.s*1e3+("L"in R?R.L:0));if(Y&&!("Z"in R)&&(R.Z=0),"p"in R&&(R.H=R.H%12+R.p*12),R.m===void 0&&(R.m="q"in R?R.q:0),"V"in R){if(R.V<1||R.V>53)return null;"w"in R||(R.w=1),"Z"in R?(re=pp(sl(R.y,0,1)),ce=re.getUTCDay(),re=ce>4||ce===0?uf.ceil(re):uf(re),re=Ch.offset(re,(R.V-1)*7),R.y=re.getUTCFullYear(),R.m=re.getUTCMonth(),R.d=re.getUTCDate()+(R.w+6)%7):(re=mp(sl(R.y,0,1)),ce=re.getDay(),re=ce>4||ce===0?cf.ceil(re):cf(re),re=Fc.offset(re,(R.V-1)*7),R.y=re.getFullYear(),R.m=re.getMonth(),R.d=re.getDate()+(R.w+6)%7)}else("W"in R||"U"in R)&&("w"in R||(R.w="u"in R?R.u%7:"W"in R?1:0),ce="Z"in R?pp(sl(R.y,0,1)).getUTCDay():mp(sl(R.y,0,1)).getDay(),R.m=0,R.d="W"in R?(R.w+6)%7+R.W*7-(ce+5)%7:R.w+R.U*7-(ce+6)%7);return"Z"in R?(R.H+=R.Z/100|0,R.M+=R.Z%100,pp(R)):mp(R)}}function _(T,Y,te,R){for(var X=0,re=Y.length,ce=te.length,ue,he;X<re;){if(R>=ce)return-1;if(ue=Y.charCodeAt(X++),ue===37){if(ue=Y.charAt(X++),he=j[ue in tS?Y.charAt(X++):ue],!he||(R=he(T,te,R))<0)return-1}else if(ue!=te.charCodeAt(R++))return-1}return R}function A(T,Y,te){var R=u.exec(Y.slice(te));return R?(T.p=d.get(R[0].toLowerCase()),te+R[0].length):-1}function z(T,Y,te){var R=m.exec(Y.slice(te));return R?(T.w=p.get(R[0].toLowerCase()),te+R[0].length):-1}function C(T,Y,te){var R=f.exec(Y.slice(te));return R?(T.w=h.get(R[0].toLowerCase()),te+R[0].length):-1}function W(T,Y,te){var R=v.exec(Y.slice(te));return R?(T.m=x.get(R[0].toLowerCase()),te+R[0].length):-1}function L(T,Y,te){var R=b.exec(Y.slice(te));return R?(T.m=w.get(R[0].toLowerCase()),te+R[0].length):-1}function K(T,Y,te){return _(T,t,Y,te)}function $(T,Y,te){return _(T,r,Y,te)}function O(T,Y,te){return _(T,n,Y,te)}function V(T){return a[T.getDay()]}function I(T){return s[T.getDay()]}function k(T){return c[T.getMonth()]}function B(T){return l[T.getMonth()]}function J(T){return i[+(T.getHours()>=12)]}function D(T){return 1+~~(T.getMonth()/3)}function ee(T){return a[T.getUTCDay()]}function G(T){return s[T.getUTCDay()]}function E(T){return c[T.getUTCMonth()]}function q(T){return l[T.getUTCMonth()]}function M(T){return i[+(T.getUTCHours()>=12)]}function U(T){return 1+~~(T.getUTCMonth()/3)}return{format:function(T){var Y=S(T+="",y);return Y.toString=function(){return T},Y},parse:function(T){var Y=P(T+="",!1);return Y.toString=function(){return T},Y},utcFormat:function(T){var Y=S(T+="",N);return Y.toString=function(){return T},Y},utcParse:function(T){var Y=P(T+="",!0);return Y.toString=function(){return T},Y}}}var tS={"-":"",_:" ",0:"0"},_t=/^\s*\d+/,r7=/^%/,n7=/[\\^$*+?|[\]().{}]/g;function Se(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function i7(e){return e.replace(n7,"\\$&")}function al(e){return new RegExp("^(?:"+e.map(i7).join("|")+")","i")}function ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function s7(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function a7(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function o7(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function l7(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function c7(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function rS(e,t,r){var n=_t.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function nS(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function u7(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function d7(e,t,r){var n=_t.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function f7(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function iS(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function h7(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function sS(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function m7(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function p7(e,t,r){var n=_t.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function g7(e,t,r){var n=_t.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function y7(e,t,r){var n=_t.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function v7(e,t,r){var n=r7.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function x7(e,t,r){var n=_t.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function b7(e,t,r){var n=_t.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function aS(e,t){return Se(e.getDate(),t,2)}function w7(e,t){return Se(e.getHours(),t,2)}function j7(e,t){return Se(e.getHours()%12||12,t,2)}function N7(e,t){return Se(1+Fc.count(ti(e),e),t,3)}function _C(e,t){return Se(e.getMilliseconds(),t,3)}function S7(e,t){return _C(e,t)+"000"}function _7(e,t){return Se(e.getMonth()+1,t,2)}function P7(e,t){return Se(e.getMinutes(),t,2)}function k7(e,t){return Se(e.getSeconds(),t,2)}function O7(e){var t=e.getDay();return t===0?7:t}function A7(e,t){return Se(Th.count(ti(e)-1,e),t,2)}function PC(e){var t=e.getDay();return t>=4||t===0?ao(e):ao.ceil(e)}function E7(e,t){return e=PC(e),Se(ao.count(ti(e),e)+(ti(e).getDay()===4),t,2)}function C7(e){return e.getDay()}function T7(e,t){return Se(cf.count(ti(e)-1,e),t,2)}function M7(e,t){return Se(e.getFullYear()%100,t,2)}function D7(e,t){return e=PC(e),Se(e.getFullYear()%100,t,2)}function R7(e,t){return Se(e.getFullYear()%1e4,t,4)}function $7(e,t){var r=e.getDay();return e=r>=4||r===0?ao(e):ao.ceil(e),Se(e.getFullYear()%1e4,t,4)}function I7(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Se(t/60|0,"0",2)+Se(t%60,"0",2)}function oS(e,t){return Se(e.getUTCDate(),t,2)}function L7(e,t){return Se(e.getUTCHours(),t,2)}function B7(e,t){return Se(e.getUTCHours()%12||12,t,2)}function F7(e,t){return Se(1+Ch.count(ri(e),e),t,3)}function kC(e,t){return Se(e.getUTCMilliseconds(),t,3)}function z7(e,t){return kC(e,t)+"000"}function U7(e,t){return Se(e.getUTCMonth()+1,t,2)}function W7(e,t){return Se(e.getUTCMinutes(),t,2)}function V7(e,t){return Se(e.getUTCSeconds(),t,2)}function K7(e){var t=e.getUTCDay();return t===0?7:t}function q7(e,t){return Se(Mh.count(ri(e)-1,e),t,2)}function OC(e){var t=e.getUTCDay();return t>=4||t===0?oo(e):oo.ceil(e)}function H7(e,t){return e=OC(e),Se(oo.count(ri(e),e)+(ri(e).getUTCDay()===4),t,2)}function G7(e){return e.getUTCDay()}function Y7(e,t){return Se(uf.count(ri(e)-1,e),t,2)}function X7(e,t){return Se(e.getUTCFullYear()%100,t,2)}function J7(e,t){return e=OC(e),Se(e.getUTCFullYear()%100,t,2)}function Q7(e,t){return Se(e.getUTCFullYear()%1e4,t,4)}function Z7(e,t){var r=e.getUTCDay();return e=r>=4||r===0?oo(e):oo.ceil(e),Se(e.getUTCFullYear()%1e4,t,4)}function eK(){return"+0000"}function lS(){return"%"}function cS(e){return+e}function uS(e){return Math.floor(+e/1e3)}var oa,AC,EC;tK({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tK(e){return oa=t7(e),AC=oa.format,oa.parse,EC=oa.utcFormat,oa.utcParse,oa}function rK(e){return new Date(e)}function nK(e){return e instanceof Date?+e:+new Date(+e)}function yx(e,t,r,n,i,s,a,l,c,u){var d=nx(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),b=u("%I:%M"),w=u("%I %p"),v=u("%a %d"),x=u("%b %d"),y=u("%B"),N=u("%Y");function j(S){return(c(S)<S?m:l(S)<S?p:a(S)<S?b:s(S)<S?w:n(S)<S?i(S)<S?v:x:r(S)<S?y:N)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,nK)):h().map(rK)},d.ticks=function(S){var P=h();return e(P[0],P[P.length-1],S??10)},d.tickFormat=function(S,P){return P==null?j:u(P)},d.nice=function(S){var P=h();return(!S||typeof S.range!="function")&&(S=t(P[0],P[P.length-1],S??10)),S?h(gC(P,S)):d},d.copy=function(){return Bc(d,yx(e,t,r,n,i,s,a,l,c,u))},d}function iK(){return Xr.apply(yx(ZV,e7,ti,px,Th,Fc,hx,dx,Ss,AC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sK(){return Xr.apply(yx(JV,QV,ri,gx,Mh,Ch,mx,fx,Ss,EC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Dh(){var e=0,t=1,r,n,i,s,a=qt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(Oo),u.rangeRound=d(rx),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(e),n=f(t),i=r===n?0:1/(n-r),u}}function Zi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function CC(){var e=Qi(Dh()(qt));return e.copy=function(){return Zi(e,CC())},ci.apply(e,arguments)}function TC(){var e=ax(Dh()).domain([1,10]);return e.copy=function(){return Zi(e,TC()).base(e.base())},ci.apply(e,arguments)}function MC(){var e=ox(Dh());return e.copy=function(){return Zi(e,MC()).constant(e.constant())},ci.apply(e,arguments)}function vx(){var e=lx(Dh());return e.copy=function(){return Zi(e,vx()).exponent(e.exponent())},ci.apply(e,arguments)}function aK(){return vx.apply(null,arguments).exponent(.5)}function DC(){var e=[],t=qt;function r(n){if(n!=null&&!isNaN(n=+n))return t((Ic(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Ii),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>KW(e,s/n))},r.copy=function(){return DC(t).domain(e)},ci.apply(r,arguments)}function Rh(){var e=0,t=.5,r=1,n=1,i,s,a,l,c,u=qt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-s)*(n*b<n*s?l:c),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,i=d(e=+e),s=d(t=+t),a=d(r=+r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function p(b){return function(w){var v,x,y;return arguments.length?([v,x,y]=w,u=vV(b,[v,x,y]),m):[u(0),u(.5),u(1)]}}return m.range=p(Oo),m.rangeRound=p(rx),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,i=b(e),s=b(t),a=b(r),l=i===s?0:.5/(s-i),c=s===a?0:.5/(a-s),n=s<i?-1:1,m}}function RC(){var e=Qi(Rh()(qt));return e.copy=function(){return Zi(e,RC())},ci.apply(e,arguments)}function $C(){var e=ax(Rh()).domain([.1,1,10]);return e.copy=function(){return Zi(e,$C()).base(e.base())},ci.apply(e,arguments)}function IC(){var e=ox(Rh());return e.copy=function(){return Zi(e,IC()).constant(e.constant())},ci.apply(e,arguments)}function xx(){var e=lx(Rh());return e.copy=function(){return Zi(e,xx()).exponent(e.exponent())},ci.apply(e,arguments)}function oK(){return xx.apply(null,arguments).exponent(.5)}const yl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zv,scaleDiverging:RC,scaleDivergingLog:$C,scaleDivergingPow:xx,scaleDivergingSqrt:oK,scaleDivergingSymlog:IC,scaleIdentity:pC,scaleImplicit:b0,scaleLinear:mC,scaleLog:yC,scaleOrdinal:Qv,scalePoint:GW,scalePow:cx,scaleQuantile:bC,scaleQuantize:wC,scaleRadial:xC,scaleSequential:CC,scaleSequentialLog:TC,scaleSequentialPow:vx,scaleSequentialQuantile:DC,scaleSequentialSqrt:aK,scaleSequentialSymlog:MC,scaleSqrt:zV,scaleSymlog:vC,scaleThreshold:jC,scaleTime:iK,scaleUtc:sK,tickFormat:hC},Symbol.toStringTag,{value:"Module"}));var es=e=>e.chartData,$h=F([es],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),bx=(e,t,r,n)=>n?$h(e):es(e);function lo(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(_r(t)&&_r(r))return!0}return!1}function dS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function lK(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,i,s;if(_r(r))i=r;else if(typeof r=="function")return;if(_r(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(lo(a))return a}}function cK(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(lo(n))return dS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[i,s]=e,a,l;if(i==="auto")t!=null&&(a=Math.min(...t));else if(se(i))a=i;else if(typeof i=="function")try{t!=null&&(a=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&cN.test(i)){var c=cN.exec(i);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(s==="auto")t!=null&&(l=Math.max(...t));else if(se(s))l=s;else if(typeof s=="function")try{t!=null&&(l=s(t==null?void 0:t[1]))}catch{}else if(typeof s=="string"&&uN.test(s)){var d=uN.exec(s);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(lo(h))return t==null?h:dS(h,t,r)}}}var Ao=1e9,uK={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jx,Ve=!0,qr="[DecimalError] ",Rs=qr+"Invalid argument: ",wx=qr+"Exponent out of range: ",Eo=Math.floor,ms=Math.pow,dK=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,yr,wt=1e7,ze=7,LC=9007199254740991,df=Eo(LC/ze),oe={};oe.absoluteValue=oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};oe.comparedTo=oe.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};oe.decimalPlaces=oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};oe.dividedBy=oe.div=function(e){return Hn(this,new this.constructor(e))};oe.dividedToIntegerBy=oe.idiv=function(e){var t=this,r=t.constructor;return Ee(Hn(t,new r(e),0,1),r.precision)};oe.equals=oe.eq=function(e){return!this.cmp(e)};oe.exponent=function(){return ut(this)};oe.greaterThan=oe.gt=function(e){return this.cmp(e)>0};oe.greaterThanOrEqualTo=oe.gte=function(e){return this.cmp(e)>=0};oe.isInteger=oe.isint=function(){return this.e>this.d.length-2};oe.isNegative=oe.isneg=function(){return this.s<0};oe.isPositive=oe.ispos=function(){return this.s>0};oe.isZero=function(){return this.s===0};oe.lessThan=oe.lt=function(e){return this.cmp(e)<0};oe.lessThanOrEqualTo=oe.lte=function(e){return this.cmp(e)<1};oe.logarithm=oe.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(yr))throw Error(qr+"NaN");if(r.s<1)throw Error(qr+(r.s?"NaN":"-Infinity"));return r.eq(yr)?new n(0):(Ve=!1,t=Hn(gc(r,s),gc(e,s),s),Ve=!0,Ee(t,i))};oe.minus=oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?zC(t,e):BC(t,(e.s=-e.s,e))};oe.modulo=oe.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(qr+"NaN");return r.s?(Ve=!1,t=Hn(r,e,0,1).times(e),Ve=!0,r.minus(t)):Ee(new n(r),i)};oe.naturalExponential=oe.exp=function(){return FC(this)};oe.naturalLogarithm=oe.ln=function(){return gc(this)};oe.negated=oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};oe.plus=oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?BC(t,e):zC(t,(e.s=-e.s,e))};oe.precision=oe.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Rs+e);if(t=ut(i)+1,n=i.d.length-1,r=n*ze+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};oe.squareRoot=oe.sqrt=function(){var e,t,r,n,i,s,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(qr+"NaN")}for(e=ut(l),Ve=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=xn(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Eo((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=a=r+3;;)if(s=n,n=s.plus(Hn(l,s,a+2)).times(.5),xn(s.d).slice(0,a)===(t=xn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Ee(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;a+=4}return Ve=!0,Ee(n,r)};oe.times=oe.mul=function(e){var t,r,n,i,s,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(s=h,h=m,m=s,a=c,c=u,u=a),s=[],a=c+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+m[n]*h[i-n-1]+t,s[i--]=l%wt|0,t=l/wt|0;s[i]=(s[i]+t)%wt|0}for(;!s[--a];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Ve?Ee(e,f.precision):e};oe.toDecimalPlaces=oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Tn(e,0,Ao),t===void 0?t=n.rounding:Tn(t,0,8),Ee(r,e+ut(r)+1,t))};oe.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Ws(n,!0):(Tn(e,0,Ao),t===void 0?t=i.rounding:Tn(t,0,8),n=Ee(new i(n),e+1,t),r=Ws(n,!0,e+1)),r};oe.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?Ws(i):(Tn(e,0,Ao),t===void 0?t=s.rounding:Tn(t,0,8),n=Ee(new s(i),e+ut(i)+1,t),r=Ws(n.abs(),!1,e+ut(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};oe.toInteger=oe.toint=function(){var e=this,t=e.constructor;return Ee(new t(e),ut(e)+1,t.rounding)};oe.toNumber=function(){return+this};oe.toPower=oe.pow=function(e){var t,r,n,i,s,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(yr);if(l=new c(l),!l.s){if(e.s<1)throw Error(qr+"Infinity");return l}if(l.eq(yr))return l;if(n=c.precision,e.eq(yr))return Ee(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,s=l.s,a){if((r=d<0?-d:d)<=LC){for(i=new c(yr),t=Math.ceil(n/ze+4),Ve=!1;r%2&&(i=i.times(l),hS(i.d,t)),r=Eo(r/2),r!==0;)l=l.times(l),hS(l.d,t);return Ve=!0,e.s<0?new c(yr).div(i):Ee(i,n)}}else if(s<0)throw Error(qr+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ve=!1,i=e.times(gc(l,n+u)),Ve=!0,i=FC(i),i.s=s,i};oe.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=ut(i),n=Ws(i,r<=s.toExpNeg||r>=s.toExpPos)):(Tn(e,1,Ao),t===void 0?t=s.rounding:Tn(t,0,8),i=Ee(new s(i),e,t),r=ut(i),n=Ws(i,e<=r||r<=s.toExpNeg,e)),n};oe.toSignificantDigits=oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Tn(e,1,Ao),t===void 0?t=n.rounding:Tn(t,0,8)),Ee(new n(r),e,t)};oe.toString=oe.valueOf=oe.val=oe.toJSON=oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ut(e),r=e.constructor;return Ws(e,t<=r.toExpNeg||t>=r.toExpPos)};function BC(e,t){var r,n,i,s,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ve?Ee(t,f):t;if(c=e.d,u=t.d,a=e.e,i=t.e,c=c.slice(),s=a-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=a,l=c.length),a=Math.ceil(f/ze),l=a>l?a+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/wt|0,c[s]%=wt;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Ve?Ee(t,f):t}function Tn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Rs+e)}function xn(e){var t,r,n,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)n=e[t]+"",r=ze-n.length,r&&(s+=wi(r)),s+=n;a=e[t],n=a+"",r=ze-n.length,r&&(s+=wi(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Hn=function(){function e(n,i){var s,a=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+a,n[l]=s%wt|0,a=s/wt|0;return a&&n.unshift(a),n}function t(n,i,s,a){var l,c;if(s!=a)c=s>a?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*wt+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var l,c,u,d,f,h,m,p,b,w,v,x,y,N,j,S,P,_,A=n.constructor,z=n.s==i.s?1:-1,C=n.d,W=i.d;if(!n.s)return new A(n);if(!i.s)throw Error(qr+"Division by zero");for(c=n.e-i.e,P=W.length,j=C.length,m=new A(z),p=m.d=[],u=0;W[u]==(C[u]||0);)++u;if(W[u]>(C[u]||0)&&--c,s==null?x=s=A.precision:a?x=s+(ut(n)-ut(i))+1:x=s,x<0)return new A(0);if(x=x/ze+2|0,u=0,P==1)for(d=0,W=W[0],x++;(u<j||d)&&x--;u++)y=d*wt+(C[u]||0),p[u]=y/W|0,d=y%W|0;else{for(d=wt/(W[0]+1)|0,d>1&&(W=e(W,d),C=e(C,d),P=W.length,j=C.length),N=P,b=C.slice(0,P),w=b.length;w<P;)b[w++]=0;_=W.slice(),_.unshift(0),S=W[0],W[1]>=wt/2&&++S;do d=0,l=t(W,b,P,w),l<0?(v=b[0],P!=w&&(v=v*wt+(b[1]||0)),d=v/S|0,d>1?(d>=wt&&(d=wt-1),f=e(W,d),h=f.length,w=b.length,l=t(f,b,h,w),l==1&&(d--,r(f,P<h?_:W,h))):(d==0&&(l=d=1),f=W.slice()),h=f.length,h<w&&f.unshift(0),r(b,f,w),l==-1&&(w=b.length,l=t(W,b,P,w),l<1&&(d++,r(b,P<w?_:W,w))),w=b.length):l===0&&(d++,b=[0]),p[u++]=d,l&&b[0]?b[w++]=C[N]||0:(b=[C[N]],w=1);while((N++<j||b[0]!==void 0)&&x--)}return p[0]||p.shift(),m.e=c,Ee(m,a?s+ut(m)+1:s)}}();function FC(e,t){var r,n,i,s,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(ut(e)>16)throw Error(wx+ut(e));if(!e.s)return new d(yr);for(t==null?(Ve=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(ms(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(yr),d.precision=l;;){if(i=Ee(i.times(e),l),r=r.times(++c),a=s.plus(Hn(i,r,l)),xn(a.d).slice(0,l)===xn(s.d).slice(0,l)){for(;u--;)s=Ee(s.times(s),l);return d.precision=f,t==null?(Ve=!0,Ee(s,f)):s}s=a}}function ut(e){for(var t=e.e*ze,r=e.d[0];r>=10;r/=10)t++;return t}function gp(e,t,r){if(t>e.LN10.sd())throw Ve=!0,r&&(e.precision=r),Error(qr+"LN10 precision limit exceeded");return Ee(new e(e.LN10),t)}function wi(e){for(var t="";e--;)t+="0";return t}function gc(e,t){var r,n,i,s,a,l,c,u,d,f=1,h=10,m=e,p=m.d,b=m.constructor,w=b.precision;if(m.s<1)throw Error(qr+(m.s?"NaN":"-Infinity"));if(m.eq(yr))return new b(0);if(t==null?(Ve=!1,u=w):u=t,m.eq(10))return t==null&&(Ve=!0),gp(b,u);if(u+=h,b.precision=u,r=xn(p),n=r.charAt(0),s=ut(m),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=xn(m.d),n=r.charAt(0),f++;s=ut(m),n>1?(m=new b("0."+r),s++):m=new b(n+"."+r.slice(1))}else return c=gp(b,u+2,w).times(s+""),m=gc(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(Ve=!0,Ee(m,w)):m;for(l=a=m=Hn(m.minus(yr),m.plus(yr),u),d=Ee(m.times(m),u),i=3;;){if(a=Ee(a.times(d),u),c=l.plus(Hn(a,new b(i),u)),xn(c.d).slice(0,u)===xn(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(gp(b,u+2,w).times(s+""))),l=Hn(l,new b(f),u),b.precision=w,t==null?(Ve=!0,Ee(l,w)):l;l=c,i+=2}}function fS(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=Eo(r/ze),e.d=[],n=(r+1)%ze,r<0&&(n+=ze),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=ze;n<i;)e.d.push(+t.slice(n,n+=ze));t=t.slice(n),n=ze-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Ve&&(e.e>df||e.e<-df))throw Error(wx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ee(e,t,r){var n,i,s,a,l,c,u,d,f=e.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=t-a,n<0)n+=ze,i=t,u=f[d=0];else{if(d=Math.ceil((n+1)/ze),s=f.length,d>=s)return e;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=ze,i=n-ze+a}if(r!==void 0&&(s=ms(10,a-i-1),l=u/s%10|0,c=t<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/ms(10,a-i):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(s=ut(e),f.length=1,t=t-s-1,f[0]=ms(10,(ze-t%ze)%ze),e.e=Eo(-t/ze)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=ms(10,ze-n),f[d]=i>0?(u/ms(10,a-i)%ms(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==wt&&(f[0]=1,++e.e);break}else{if(f[d]+=s,f[d]!=wt)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(Ve&&(e.e>df||e.e<-df))throw Error(wx+ut(e));return e}function zC(e,t){var r,n,i,s,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ve?Ee(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(m/ze),l)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>a;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=wt-1;--c[s],c[i]+=wt}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ve?Ee(t,m):t):new h(0)}function Ws(e,t,r){var n,i=ut(e),s=xn(e.d),a=s.length;return t?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+wi(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+wi(-i-1)+s,r&&(n=r-a)>0&&(s+=wi(n))):i>=a?(s+=wi(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+wi(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=wi(n))),e.s<0?"-"+s:s}function hS(e,t){if(e.length>t)return e.length=t,!0}function UC(e){var t,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Rs+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return fS(a,s.toString())}else if(typeof s!="string")throw Error(Rs+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,dK.test(s))fS(a,s);else throw Error(Rs+s)}if(i.prototype=oe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=UC,i.config=i.set=fK,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function fK(e){if(!e||typeof e!="object")throw Error(qr+"Object expected");var t,r,n,i=["precision",1,Ao,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(Eo(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Rs+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Rs+r+": "+n);return this}var jx=UC(uK);yr=new jx(1);const Pe=jx;var hK=e=>e,WC={"@@functional/placeholder":!0},VC=e=>e===WC,mS=e=>function t(){return arguments.length===0||arguments.length===1&&VC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},KC=(e,t)=>e===1?t:mS(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==WC).length;return s>=e?t(...n):KC(e-s,mS(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>VC(d)?l.shift():d);return t(...u,...l)}))}),Ih=e=>KC(e.length,e),S0=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},mK=Ih((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),pK=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return hK;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((l,c)=>c(l),s(...arguments))}},_0=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),qC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t&&i.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=i,r=e(...i)),r}};function HC(e){var t;return e===0?t=1:t=Math.floor(new Pe(e).abs().log(10).toNumber())+1,t}function GC(e,t,r){for(var n=new Pe(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}Ih((e,t,r)=>{var n=+e,i=+t;return n+r*(i-n)});Ih((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Ih((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var YC=e=>{var[t,r]=e,[n,i]=[t,r];return t>r&&([n,i]=[r,t]),[n,i]},XC=(e,t,r)=>{if(e.lte(0))return new Pe(0);var n=HC(e.toNumber()),i=new Pe(10).pow(n),s=e.div(i),a=n!==1?.05:.1,l=new Pe(Math.ceil(s.div(a).toNumber())).add(r).mul(a),c=l.mul(i);return t?new Pe(c.toNumber()):new Pe(Math.ceil(c.toNumber()))},gK=(e,t,r)=>{var n=new Pe(1),i=new Pe(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Pe(10).pow(HC(e)-1),i=new Pe(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Pe(Math.floor(e)))}else e===0?i=new Pe(Math.floor((t-1)/2)):r||(i=new Pe(Math.floor(e)));var a=Math.floor((t-1)/2),l=pK(mK(c=>i.add(new Pe(c-a).mul(n)).toNumber()),S0);return l(0,t)},JC=function(t,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Pe(0),tickMin:new Pe(0),tickMax:new Pe(0)};var a=XC(new Pe(r).sub(t).div(n-1),i,s),l;t<=0&&r>=0?l=new Pe(0):(l=new Pe(t).add(r).div(2),l=l.sub(new Pe(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new Pe(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?JC(t,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new Pe(c).mul(a)),tickMax:l.add(new Pe(u).mul(a))})};function yK(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(n,2),[a,l]=YC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...S0(0,n-1).map(()=>1/0)]:[...S0(0,n-1).map(()=>-1/0),l];return t>r?_0(c):c}if(a===l)return gK(a,n,i);var{step:u,tickMin:d,tickMax:f}=JC(a,l,s,i,0),h=GC(d,f.add(new Pe(.1).mul(u)),u);return t>r?_0(h):h}function vK(e,t){var[r,n]=e,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=YC([r,n]);if(s===-1/0||a===1/0)return[r,n];if(s===a)return[s];var l=Math.max(t,2),c=XC(new Pe(a).sub(s).div(l-1),i,0),u=[...GC(new Pe(s),new Pe(a),c),a];return i===!1&&(u=u.map(d=>Math.round(d))),r>n?_0(u):u}var xK=qC(yK),bK=qC(vK),QC=e=>e.rootProps.maxBarSize,wK=e=>e.rootProps.barGap,ZC=e=>e.rootProps.barCategoryGap,jK=e=>e.rootProps.barSize,zc=e=>e.rootProps.stackOffset,Nx=e=>e.options.chartName,Sx=e=>e.rootProps.syncId,eT=e=>e.rootProps.syncMethod,_x=e=>e.options.eventEmitter,yn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},tr={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},Lh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},NK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:yn.angleAxisId,includeHidden:!1,name:void 0,reversed:yn.reversed,scale:yn.scale,tick:yn.tick,tickCount:void 0,ticks:void 0,type:yn.type,unit:void 0},SK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:tr.type,unit:void 0},_K={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:yn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:yn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:yn.scale,tick:yn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},PK={allowDataOverflow:tr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:tr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tr.scale,tick:tr.tick,tickCount:tr.tickCount,ticks:void 0,type:"category",unit:void 0},Co=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?_K:NK,Uc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?PK:SK,Bh=e=>e.polarOptions,Px=F([oi,li,pt],NE),tT=F([Bh,Px],(e,t)=>{if(e!=null)return Yt(e.innerRadius,t,0)}),rT=F([Bh,Px],(e,t)=>{if(e!=null)return Yt(e.outerRadius,t,t*.8)}),kK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},nT=F([Bh],kK),OK=F([Co,nT],Lh),iT=F([Px,tT,rT],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),AK=F([Uc,iT],Lh),To=F([be,Bh,tT,rT,oi,li],(e,t,r,n,i,s)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:Yt(a,i,i/2),cy:Yt(l,s,s/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),Te=(e,t)=>t,Wc=(e,t,r)=>r;function kx(e){return e==null?void 0:e.id}var yt=e=>{var t=be(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Mo=e=>e.tooltip.settings.axisId,vt=e=>{var t=yt(e),r=Mo(e);return Do(e,t,r)};function sT(e,t,r){var{chartData:n=[]}=t,i=r==null?void 0:r.dataKey,s=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=kx(a);c.forEach((d,f)=>{var h=i==null?f:String(Ie(d,i,null)),m=Ie(d,a.dataKey,0),p;s.has(h)?p=s.get(h):p={},Object.assign(p,{[u]:m}),s.set(h,p)})}}),Array.from(s.values())}function Fh(e){return e.stackId!=null&&e.dataKey!=null}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ff(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){EK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EK(e,t,r){return(t=CK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CK(e){var t=TK(e,"string");return typeof t=="symbol"?t:t+""}function TK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var P0=[0,"auto"],mr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ui=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??mr},pr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:P0,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:kh},ts=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??pr},MK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ox=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??MK},st=(e,t,r)=>{switch(t){case"xAxis":return ui(e,r);case"yAxis":return ts(e,r);case"zAxis":return Ox(e,r);case"angleAxis":return Co(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},DK=(e,t,r)=>{switch(t){case"xAxis":return ui(e,r);case"yAxis":return ts(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Do=(e,t,r)=>{switch(t){case"xAxis":return ui(e,r);case"yAxis":return ts(e,r);case"angleAxis":return Co(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},aT=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function Ax(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ex=e=>e.graphicalItems.cartesianItems,RK=F([Te,Wc],Ax),Cx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),Vc=F([Ex,st,RK],Cx),oT=F([Vc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fh)),lT=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),cT=F([Vc],lT),Tx=e=>e.map(t=>t.data).filter(Boolean).flat(1),$K=F([Vc],Tx),Mx=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=t;return e.length>0?e:r.slice(n,i+1)},Dx=F([$K,bx],Mx),Rx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ie(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(i=>({value:Ie(i,n)}))):e.map(n=>({value:n})),zh=F([Dx,st,Vc],Rx);function uT(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Qs(e){return e.filter(t=>Cn(t)||t instanceof Date).map(Number).filter(t=>jr(t)===!1)}function IK(e,t,r){return!r||typeof t!="number"||jr(t)?[]:r.length?Qs(r.flatMap(n=>{var i=Ie(e,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!_r(s)||!_r(a)))return[t-s,t+a]})):[]}var LK=F([oT,bx,vt],sT),dT=(e,t,r)=>{var n={},i=t.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),n);return Object.fromEntries(Object.entries(i).map(s=>{var[a,l]=s,c=l.map(kx);return[a,{stackedData:o9(e,c,r),graphicalItems:l}]}))},k0=F([LK,oT,zc],dT),fT=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:i}=t;if(r!=="zAxis"){var s=f9(e,n,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},BK=F([k0,es,Te],fT),hT=(e,t,r,n,i)=>r.length>0?e.flatMap(s=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>uT(i,f)),d=Ie(s,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:IK(s,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(s=>({value:Ie(s,t.dataKey),errorDomain:[]})):e.map(s=>({value:s,errorDomain:[]})),Uh=e=>e.errorBars,mT=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>uT(r,n));F([cT,Uh,Te],mT);var FK=F([Dx,st,cT,Uh,Te],hT);function zK(e){var{value:t}=e;if(Cn(t)||t instanceof Date)return t}var gS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=Qs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},UK=(e,t,r)=>{var n=e.map(zK).filter(i=>i!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&aA(n))?nC(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},$x=e=>{var t;if(e==null||!("domain"in e))return P0;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=Qs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:P0},hf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),l=Math.max(...s);return[a,l]}},pT=e=>e.referenceElements.dots,Ro=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),WK=F([pT,Te,Wc],Ro),gT=e=>e.referenceElements.areas,VK=F([gT,Te,Wc],Ro),yT=e=>e.referenceElements.lines,KK=F([yT,Te,Wc],Ro),vT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},qK=F(WK,Te,vT),xT=(e,t)=>{var r=Qs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},HK=F([VK,Te],xT),bT=(e,t)=>{var r=Qs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},GK=F(KK,Te,bT),YK=F(qK,GK,HK,(e,t,r)=>hf(e,r,t)),wT=F([st],$x),Ix=(e,t,r,n,i,s,a)=>{var l=lK(t,e.allowDataOverflow);if(l!=null)return l;var c=s==="vertical"&&a==="xAxis"||s==="horizontal"&&a==="yAxis",u=c?hf(r,i,gS(n)):hf(i,gS(n));return cK(t,u,e.allowDataOverflow)},XK=F([st,wT,BK,FK,YK,be,Te],Ix),JK=[0,1],Lx=(e,t,r,n,i,s,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Ji(t,s);return u&&l==null?nC(0,r.length):c==="category"?UK(n,e,u):i==="expand"?JK:a}},Bx=F([st,be,Dx,zh,zc,Te,XK],Lx),jT=(e,t,r,n,i)=>{if(e!=null){var{scale:s,type:a}=e;if(s==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var l="scale".concat(Mc(s));return l in yl?l:"point"}}},rs=F([st,be,aT,Nx,Te],jT);function QK(e){if(e!=null){if(e in yl)return yl[e]();var t="scale".concat(Mc(e));if(t in yl)return yl[t]()}}function Wh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var i=QK(t);if(i!=null){var s=i.domain(r).range(n);return r9(s),s}}}var Fx=(e,t,r)=>{var n=$x(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&lo(e))return xK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&lo(e))return bK(e,t.tickCount,t.allowDecimals)}},zx=F([Bx,Do,rs],Fx),Ux=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&lo(t)&&Array.isArray(r)&&r.length>0){var i=t[0],s=r[0],a=t[1],l=r[r.length-1];return[Math.min(i,s),Math.max(a,l)]}return t},ZK=F([st,Bx,zx,Te],Ux),eq=F(zh,st,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Qs(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var i=n[n.length-1]-n[0];if(i===0)return 1/0;for(var s=0;s<n.length-1;s++){var a=n[s+1]-n[s];r=Math.min(r,a)}return r/i}}),NT=F(eq,be,ZC,pt,(e,t,r,n)=>n,(e,t,r,n,i)=>{if(!_r(e))return 0;var s=t==="vertical"?n.height:n.width;if(i==="gap")return e*s/2;if(i==="no-gap"){var a=Yt(r,e*s),l=e*s/2;return l-a-(l-a)/s*a}return 0}),tq=(e,t)=>{var r=ui(e,t);return r==null||typeof r.padding!="string"?0:NT(e,"xAxis",t,r.padding)},rq=(e,t)=>{var r=ts(e,t);return r==null||typeof r.padding!="string"?0:NT(e,"yAxis",t,r.padding)},nq=F(ui,tq,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((r=i.left)!==null&&r!==void 0?r:0)+t,right:((n=i.right)!==null&&n!==void 0?n:0)+t}}),iq=F(ts,rq,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((r=i.top)!==null&&r!==void 0?r:0)+t,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+t}}),sq=F([pt,nq,Ah,Oh,(e,t,r)=>r],(e,t,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[e.left+t.left,e.left+e.width-t.right]}),aq=F([pt,be,iq,Ah,Oh,(e,t,r)=>r],(e,t,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Kc=(e,t,r,n)=>{var i;switch(t){case"xAxis":return sq(e,r,n);case"yAxis":return aq(e,r,n);case"zAxis":return(i=Ox(e,r))===null||i===void 0?void 0:i.range;case"angleAxis":return nT(e);case"radiusAxis":return iT(e,r);default:return}},ST=F([st,Kc],Lh),$o=F([st,rs,ZK,ST],Wh);F([Vc,Uh,Te],mT);function _T(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Vh=(e,t)=>t,Kh=(e,t,r)=>r,oq=F(qv,Vh,Kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_T)),lq=F(Hv,Vh,Kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(_T)),PT=(e,t)=>({width:e.width,height:t.height}),cq=(e,t)=>{var r=typeof t.width=="number"?t.width:kh;return{width:r,height:e.height}},kT=F(pt,ui,PT),uq=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},dq=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},fq=F(li,pt,oq,Vh,Kh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=PT(t,l);a==null&&(a=uq(t,n,e));var u=n==="top"&&!i||n==="bottom"&&i;s[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),s}),hq=F(oi,pt,lq,Vh,Kh,(e,t,r,n,i)=>{var s={},a;return r.forEach(l=>{var c=cq(t,l);a==null&&(a=dq(t,n,e));var u=n==="left"&&!i||n==="right"&&i;s[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),s}),mq=(e,t)=>{var r=pt(e),n=ui(e,t);if(n!=null){var i=fq(e,n.orientation,n.mirror),s=i[t];return s==null?{x:r.left,y:0}:{x:r.left,y:s}}},pq=(e,t)=>{var r=pt(e),n=ts(e,t);if(n!=null){var i=hq(e,n.orientation,n.mirror),s=i[t];return s==null?{x:0,y:r.top}:{x:s,y:r.top}}},OT=F(pt,ts,(e,t)=>{var r=typeof t.width=="number"?t.width:kh;return{width:r,height:e.height}}),yS=(e,t,r)=>{switch(t){case"xAxis":return kT(e,r).width;case"yAxis":return OT(e,r).height;default:return}},AT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,l=Ji(e,n),c=t.map(u=>u.value);if(a&&l&&s==="category"&&i&&aA(c))return c}},qc=F([be,zh,st,Te],AT),Wx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ji(e,n);if(a&&(i==="number"||s!=="auto"))return t.map(l=>l.value)}},Vx=F([be,zh,Do,Te],Wx),vS=F([be,DK,rs,$o,qc,Vx,Kc,zx,Te],(e,t,r,n,i,s,a,l,c)=>{if(t==null)return null;var u=Ji(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),ET=(e,t,r,n,i,s,a,l,c)=>{if(!(t==null||n==null)){var u=Ji(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&s!=null&&s.length>=2?Nt(s[0]-s[1])*2*p:p;var b=f||i;if(b){var w=b.map((v,x)=>{var y=a?a.indexOf(v):v;return{index:x,coordinate:n(y)+p,value:v,offset:p}});return w.filter(v=>!jr(v.coordinate))}return u&&l?l.map((v,x)=>({coordinate:n(v)+p,value:v,index:x,offset:p})):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+p,value:v,offset:p})):n.domain().map((v,x)=>({coordinate:n(v)+p,value:a?a[v]:v,index:x,offset:p}))}},CT=F([be,Do,rs,$o,zx,Kc,qc,Vx,Te],ET),TT=(e,t,r,n,i,s,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Ji(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Nt(n[0]-n[1])*2*u:u,l&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},co=F([be,Do,$o,Kc,qc,Vx,Te],TT),uo=F(st,$o,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})}),gq=F([st,rs,Bx,ST],Wh);F((e,t,r)=>Ox(e,r),gq,(e,t)=>{if(!(e==null||t==null))return ff(ff({},e),{},{scale:t})});var yq=F([be,qv,Hv],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),MT=e=>e.options.defaultTooltipEventType,DT=e=>e.options.validateTooltipEventTypes;function RT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Kx(e,t){var r=MT(e),n=DT(e);return RT(t,r,n)}function vq(e){return ie(t=>Kx(t,e))}var $T=(e,t)=>{var r,n=Number(t);if(!(jr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},xq=e=>e.tooltip.settings,_i={active:!1,index:null,dataKey:void 0,coordinate:void 0},bq={itemInteraction:{click:_i,hover:_i},axisInteraction:{click:_i,hover:_i},keyboardInteraction:_i,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},IT=Or({name:"tooltip",initialState:bq,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=qn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:wq,removeTooltipEntrySettings:jq,setTooltipSettingsState:Nq,setActiveMouseOverItemIndex:LT,mouseLeaveItem:Sq,mouseLeaveChart:BT,setActiveClickItemIndex:_q,setMouseOverAxisIndex:FT,setMouseClickAxisIndex:Pq,setSyncInteraction:O0,setKeyboardInteraction:A0}=IT.actions,kq=IT.reducer;function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Oq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oq(e,t,r){return(t=Aq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Aq(e){var t=Eq(e,"string");return typeof t=="symbol"?t:t+""}function Eq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Tq(e){return e.index!=null}var zT=(e,t,r,n)=>{if(t==null)return _i;var i=Cq(e,t,r);if(i==null)return _i;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var s=e.settings.active===!0;if(Tq(i)){if(s)return $u($u({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return $u($u({},_i),{},{coordinate:i.coordinate})},qx=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!_r(n))return r;var i=0,s=1/0;return t.length>0&&(s=t.length-1),String(Math.max(i,Math.min(n,s)))},UT=(e,t,r,n,i,s,a,l)=>{if(!(s==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},WT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;return r==="hover"?i=e.itemInteraction.hover.dataKey:i=e.itemInteraction.click.dataKey,i==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},Hc=e=>e.options.tooltipPayloadSearcher,Io=e=>e.tooltip;function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){Mq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Mq(e,t,r){return(t=Dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Dq(e){var t=Rq(e,"string");return typeof t=="symbol"?t:t+""}function Rq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $q(e,t){return e??t}var VT=(e,t,r,n,i,s,a)=>{if(!(t==null||s==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:b,settings:w}=m,v=$q(b,l),x=Array.isArray(v)?_E(v,u,d):v,y=(p=w==null?void 0:w.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,N=w==null?void 0:w.nameKey,j;if(n!=null&&n.dataKey&&Array.isArray(x)&&!Array.isArray(x[0])&&a==="axis"?j=iz(x,n.dataKey,i):j=s(x,t,c,N),Array.isArray(j))j.forEach(P=>{var _=wS(wS({},w),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});h.push(dN({tooltipEntrySettings:_,dataKey:P.dataKey,payload:P.payload,value:Ie(P.payload,P.dataKey),name:P.name}))});else{var S;h.push(dN({tooltipEntrySettings:w,dataKey:y,payload:j,value:Ie(j,y),name:(S=Ie(j,N))!==null&&S!==void 0?S:w==null?void 0:w.name}))}return h},f)}},Hx=F([vt,be,aT,Nx,yt],jT),Iq=F([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Lq=F([yt,Mo],Ax),Gc=F([Iq,vt,Lq],Cx),Bq=F([Gc],e=>e.filter(Fh)),Fq=F([Gc],Tx),Lo=F([Fq,es],Mx),zq=F([Bq,es,vt],sT),Gx=F([Lo,vt,Gc],Rx),Uq=F([vt],$x),Wq=F([Gc],e=>e.filter(Fh)),Vq=F([zq,Wq,zc],dT),Kq=F([Vq,es,yt],fT),qq=F([Gc],lT),Hq=F([Lo,vt,qq,Uh,yt],hT),Gq=F([pT,yt,Mo],Ro),Yq=F([Gq,yt],vT),Xq=F([gT,yt,Mo],Ro),Jq=F([Xq,yt],xT),Qq=F([yT,yt,Mo],Ro),Zq=F([Qq,yt],bT),eH=F([Yq,Zq,Jq],hf),tH=F([vt,Uq,Kq,Hq,eH,be,yt],Ix),KT=F([vt,be,Lo,Gx,zc,yt,tH],Lx),rH=F([KT,vt,Hx],Fx),nH=F([vt,KT,rH,yt],Ux),qT=e=>{var t=yt(e),r=Mo(e),n=!1;return Kc(e,t,r,n)},HT=F([vt,qT],Lh),GT=F([vt,Hx,nH,HT],Wh),iH=F([be,Gx,vt,yt],AT),sH=F([be,Gx,vt,yt],Wx),aH=(e,t,r,n,i,s,a,l)=>{if(t){var{type:c}=t,u=Ji(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Nt(i[0]-i[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:s?s[h]:h,index:m,offset:f}))}}},di=F([be,vt,Hx,GT,qT,iH,sH,yt],aH),Yx=F([MT,DT,xq],(e,t,r)=>RT(r.shared,e,t)),YT=e=>e.tooltip.settings.trigger,Xx=e=>e.tooltip.settings.defaultIndex,qh=F([Io,Yx,YT,Xx],zT),Vi=F([qh,Lo],qx),XT=F([di,Vi],$T),JT=F([qh],e=>{if(e)return e.dataKey}),QT=F([Io,Yx,YT,Xx],WT),oH=F([oi,li,be,pt,di,Xx,QT,Hc],UT),lH=F([qh,oH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),cH=F([qh],e=>e.active),uH=F([QT,Vi,es,vt,XT,Hc,Yx],VT),dH=F([uH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function jS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?jS(Object(r),!0).forEach(function(n){fH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fH(e,t,r){return(t=hH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pH=()=>ie(vt),gH=()=>{var e=pH(),t=ie(di),r=ie(GT);return uc(NS(NS({},e),{},{scale:r}),t)},yH=()=>ie(Nx),Jx=(e,t)=>t,ZT=(e,t,r)=>r,Qx=(e,t,r,n)=>n,vH=F(di,e=>bh(e,t=>t.coordinate)),Zx=F([Io,Jx,ZT,Qx],zT),eM=F([Zx,Lo],qx),xH=(e,t,r)=>{if(t!=null){var n=Io(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},tM=F([Io,Jx,ZT,Qx],WT),mf=F([oi,li,be,pt,di,Qx,tM,Hc],UT),bH=F([Zx,mf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),rM=F(di,eM,$T),wH=F([tM,eM,es,vt,rM,Hc,Jx],VT),jH=F([Zx],e=>({isActive:e.active,activeIndex:e.index})),NH=(e,t,r,n,i,s,a,l)=>{if(!(!e||!t||!n||!i||!s)){var c=h9(e.chartX,e.chartY,t,r,l);if(c){var u=p9(c,t),d=e9(u,a,s,n,i),f=m9(t,s,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function E0(){return E0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E0.apply(null,arguments)}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Iu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){SH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=PH(e,"string");return typeof t=="symbol"?t:t+""}function PH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kH(e){var{coordinate:t,payload:r,index:n,offset:i,tooltipAxisBandSize:s,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=Q9;else if(u==="BarChart")m=Z9(a,d,i,s),p=XE;else if(a==="radial"){var{cx:b,cy:w,radius:v,startAngle:x,endAngle:y}=JE(d);m={cx:b,cy:w,startAngle:x,endAngle:y,innerRadius:v,outerRadius:v},p=ZE}else m={points:TW(a,d,i)},p=BE;var N=typeof l=="object"&&"className"in l?l.className:void 0,j=Iu(Iu(Iu(Iu({stroke:"#ccc",pointerEvents:"none"},i),m),Ne(l,!1)),{},{payload:f,payloadIndex:h,className:ye("recharts-tooltip-cursor",N)});return g.isValidElement(l)?g.cloneElement(l,j):g.createElement(p,j)}function OH(e){var t=gH(),r=TE(),n=Yv(),i=yH();return g.createElement(kH,E0({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:i}))}var nM=g.createContext(null),AH=()=>g.useContext(nM),iM={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],v=arguments.length,x,y;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),v){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,p),!0}for(y=1,x=new Array(v-1);y<v;y++)x[y-1]=arguments[y];w.fn.apply(w.context,x)}else{var N=w.length,j;for(y=0;y<N;y++)switch(w[y].once&&this.removeListener(u,w[y].fn,void 0,!0),v){case 1:w[y].fn.call(w[y].context);break;case 2:w[y].fn.call(w[y].context,d);break;case 3:w[y].fn.call(w[y].context,d,f);break;case 4:w[y].fn.call(w[y].context,d,f,h);break;default:if(!x)for(j=1,x=new Array(v-1);j<v;j++)x[j-1]=arguments[j];w[y].fn.apply(w[y].context,x)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var b=0,w=[],v=p.length;b<v;b++)(p[b].fn!==d||h&&!p[b].once||f&&p[b].context!==f)&&w.push(p[b]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iM);var EH=iM.exports;const CH=Hr(EH);var yc=new CH,C0="recharts.syncEvent.tooltip",_S="recharts.syncEvent.brush";function eb(e,t){if(t){var r=Number.parseInt(t,10);if(!jr(r))return e==null?void 0:e[r]}}var TH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},sM=Or({name:"options",initialState:TH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),MH=sM.reducer,{createEventEmitter:DH}=sM.actions;function RH(e){return e.tooltip.syncInteraction}var $H={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},aM=Or({name:"chartData",initialState:$H,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:PS,setDataStartEndIndexes:IH,setComputedData:pre}=aM.actions,LH=aM.reducer,oM=()=>{};function BH(){var e=ie(Sx),t=ie(_x),r=Xe(),n=ie(eT),i=ie(di),s=Yv(),a=Gv(),l=ie(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return oM;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(i!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(i,m);h=i[p]}else n==="value"&&(h=i.find(S=>String(S.value)===d.payload.label));var{coordinate:b}=d.payload;if(h==null||d.payload.active===!1||b==null||a==null){r(O0({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:v}=b,x=Math.min(w,a.x+a.width),y=Math.min(v,a.y+a.height),N={x:s==="horizontal"?h.coordinate:x,y:s==="horizontal"?y:h.coordinate},j=O0({active:d.payload.active,coordinate:N,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(j)}}};return yc.on(C0,c),()=>{yc.off(C0,c)}},[l,r,t,e,n,i,s,a])}function FH(){var e=ie(Sx),t=ie(_x),r=Xe();g.useEffect(()=>{if(e==null)return oM;var n=(i,s,a)=>{t!==a&&e===i&&r(IH(s))};return yc.on(_S,n),()=>{yc.off(_S,n)}},[r,t,e])}function zH(){var e=Xe();g.useEffect(()=>{e(DH())},[e]),BH(),FH()}function UH(e,t,r,n,i,s){var a=ie(h=>xH(h,e,t)),l=ie(_x),c=ie(Sx),u=ie(eT),d=ie(RH),f=d==null?void 0:d.active;g.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=O0({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n});yc.emit(C0,c,h,l)}},[f,r,a,i,n,l,c,u,s])}function kS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kS(Object(r),!0).forEach(function(n){WH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WH(e,t,r){return(t=VH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VH(e){var t=KH(e,"string");return typeof t=="symbol"?t:t+""}function KH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qH(e){return e.dataKey}function HH(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(E9,t)}var AS=[],GH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Ys.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function fo(e){var t=Yr(e,GH),{active:r,allowEscapeViewBox:n,animationDuration:i,animationEasing:s,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:b,shared:w,trigger:v,defaultIndex:x,portal:y,axisId:N}=t,j=Xe(),S=typeof x=="number"?String(x):x;g.useEffect(()=>{j(Nq({shared:w,trigger:v,axisId:N,active:r,defaultIndex:S}))},[j,w,v,N,r,S]);var P=Gv(),_=LE(),A=vq(w),{activeIndex:z,isActive:C}=ie(E=>jH(E,A,v,S)),W=ie(E=>wH(E,A,v,S)),L=ie(E=>rM(E,A,v,S)),K=ie(E=>bH(E,A,v,S)),$=W,O=AH(),V=r??C,[I,k]=V8([$,V]),B=A==="axis"?L:void 0;UH(A,v,K,B,z,V);var J=y??O;if(J==null)return null;var D=$??AS;V||(D=AS),l&&D.length&&(D=l8($.filter(E=>E.value!=null&&(E.hide!==!0||t.includeHidden)),d,qH));var ee=D.length>0,G=g.createElement(I9,{allowEscapeViewBox:n,animationDuration:i,animationEasing:s,isAnimationActive:c,active:V,coordinate:K,hasPayload:ee,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:P,wrapperStyle:p,lastBoundingBox:I,innerRef:k,hasPortalFromProps:!!y},HH(a,OS(OS({},t),{},{payload:D,label:B,active:V,coordinate:K,accessibilityLayer:_})));return g.createElement(g.Fragment,null,Fk.createPortal(G,J),V&&g.createElement(OH,{cursor:b,tooltipEventType:A,coordinate:K,payload:$,index:z}))}var lM={},cM={},uM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:i,edges:s}={}){let a,l=null;const c=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{p(),a=void 0,l=null},w=()=>{d()},v=function(...x){if(i!=null&&i.aborted)return;a=this,l=x;const y=h==null;m(),c&&y&&d()};return v.schedule=m,v.cancel=b,v.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),v}e.debounce=t})(uM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uM;function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:l=!0,maxWait:c}=s,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),m=function(...b){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})(cM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cM;function r(n,i=0,s={}){const{leading:a=!0,trailing:l=!0}=s;return t.debounce(n,i,{leading:a,maxWait:i,trailing:l})}e.throttle=r})(lM);var YH=lM.throttle;const XH=Hr(YH);var Rl=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]};function ES(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yp(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ES(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vs=g.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i="100%",height:s="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,b=g.useRef(null),w=g.useRef();w.current=m,g.useImperativeHandle(t,()=>b.current);var[v,x]=g.useState({containerWidth:n.width,containerHeight:n.height}),y=g.useCallback((j,S)=>{x(P=>{var _=Math.round(j),A=Math.round(S);return P.containerWidth===_&&P.containerHeight===A?P:{containerWidth:_,containerHeight:A}})},[]);g.useEffect(()=>{var j=A=>{var z,{width:C,height:W}=A[0].contentRect;y(C,W),(z=w.current)===null||z===void 0||z.call(w,C,W)};d>0&&(j=XH(j,d,{trailing:!0,leading:!1}));var S=new ResizeObserver(j),{width:P,height:_}=b.current.getBoundingClientRect();return y(P,_),S.observe(b.current),()=>{S.disconnect()}},[y,d]);var N=g.useMemo(()=>{var{containerWidth:j,containerHeight:S}=v;if(j<0||S<0)return null;Rl(ws(i)||ws(s),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,i,s),Rl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var P=ws(i)?j:i,_=ws(s)?S:s;return r&&r>0&&(P?_=P/r:_&&(P=_*r),c&&_>c&&(_=c)),Rl(P>0||_>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,_,i,s,a,l,r),g.Children.map(u,A=>g.cloneElement(A,{width:P,height:_,style:yp({width:P,height:_},A.props.style)}))},[r,u,s,c,l,a,v,i]);return g.createElement("div",{id:f?"".concat(f):void 0,className:ye("recharts-responsive-container",h),style:yp(yp({},p),{},{width:i,height:s,minWidth:a,minHeight:l,maxHeight:c}),ref:b},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},N))}),Zs=e=>null;Zs.displayName="Cell";function eG(e,t,r){return(t=tG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tG(e){var t=rG(e,"string");return typeof t=="symbol"?t:t+""}function rG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nG{constructor(t){eG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function CS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function iG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CS(Object(r),!0).forEach(function(n){sG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sG(e,t,r){return(t=aG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aG(e){var t=oG(e,"string");return typeof t=="symbol"?t:t+""}function oG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lG={cacheSize:2e3,enableCache:!0},dM=iG({},lG),TS=new nG(dM.cacheSize),cG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MS="recharts_measurement_span";function uG(e,t){var r=t.fontSize||"",n=t.fontFamily||"",i=t.fontWeight||"",s=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(l)}var DS=(e,t)=>{try{var r=document.getElementById(MS);r||(r=document.createElement("span"),r.setAttribute("id",MS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,cG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},$l=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Ys.isSsr)return{width:0,height:0};if(!dM.enableCache)return DS(t,r);var n=uG(t,r),i=TS.get(n);if(i)return i;var s=DS(t,r);return TS.set(n,s),s},RS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$S=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,dG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,fG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},hG=Object.keys(fM),Aa="NaN";function mG(e,t){return e*fM[t]}class er{static parse(t){var r,[,n,i]=(r=fG.exec(t))!==null&&r!==void 0?r:[];return new er(parseFloat(n),i??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,jr(t)&&(this.unit=""),r!==""&&!dG.test(r)&&(this.num=NaN,this.unit=""),hG.includes(r)&&(this.num=mG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return jr(this.num)}}function hM(e){if(e.includes(Aa))return Aa;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,i,s]=(r=RS.exec(t))!==null&&r!==void 0?r:[],a=er.parse(n??""),l=er.parse(s??""),c=i==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return Aa;t=t.replace(RS,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=$S.exec(t))!==null&&u!==void 0?u:[],m=er.parse(d??""),p=er.parse(h??""),b=f==="+"?m.add(p):m.subtract(p);if(b.isNaN())return Aa;t=t.replace($S,b.toString())}return t}var IS=/\(([^()]*)\)/;function pG(e){for(var t=e,r;(r=IS.exec(t))!=null;){var[,n]=r;t=t.replace(IS,hM(n))}return t}function gG(e){var t=e.replace(/\s+/g,"");return t=pG(t),t=hM(t),t}function yG(e){try{return gG(e)}catch{return Aa}}function vp(e){var t=yG(e.slice(5,-1));return t===Aa?"":t}var vG=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],xG=["dx","dy","angle","className","breakAll"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(null,arguments)}function LS(e,t){if(e==null)return{};var r,n,i=bG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function bG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mM=/[ \f\n\r\t\v\u2028\u2029]+/,pM=e=>{var{children:t,breakAll:r,style:n}=e;try{var i=[];tt(t)||(r?i=t.toString().split(""):i=t.toString().split(mM));var s=i.map(l=>({word:l,width:$l(l,n).width})),a=r?0:$l(" ",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},wG=(e,t,r,n,i)=>{var{maxLines:s,children:a,style:l,breakAll:c}=e,u=se(s),d=a,f=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return C.reduce((W,L)=>{var{word:K,width:$}=L,O=W[W.length-1];if(O&&(n==null||i||O.width+$+r<Number(n)))O.words.push(K),O.width+=$+r;else{var V={words:[K],width:$};W.push(V)}return W},[])},h=f(t),m=z=>z.reduce((C,W)=>C.width>W.width?C:W);if(!u||i)return h;var p=h.length>s||m(h).width>Number(n);if(!p)return h;for(var b="…",w=z=>{var C=d.slice(0,z),W=pM({breakAll:c,style:l,children:C+b}).wordsWithComputedWidth,L=f(W),K=L.length>s||m(L).width>Number(n);return[K,L]},v=0,x=d.length-1,y=0,N;v<=x&&y<=d.length-1;){var j=Math.floor((v+x)/2),S=j-1,[P,_]=w(S),[A]=w(j);if(!P&&!A&&(v=j+1),P&&A&&(x=j-1),!P&&A){N=_;break}y++}return N||h},BS=e=>{var t=tt(e)?[]:e.toString().split(mM);return[{words:t}]},jG=e=>{var{width:t,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=e;if((t||r)&&!Ys.isSsr){var l,c,u=pM({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return BS(n);return wG({breakAll:s,children:n,maxLines:a,style:i},l,c,t,r)}return BS(n)},FS="#808080",Bo=g.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=FS}=e,d=LS(e,vG),f=g.useMemo(()=>jG({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:b,breakAll:w}=d,v=LS(d,xG);if(!Cn(r)||!Cn(n))return null;var x=r+(se(h)?h:0),y=n+(se(m)?m:0),N;switch(c){case"start":N=vp("calc(".concat(s,")"));break;case"middle":N=vp("calc(".concat((f.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:N=vp("calc(".concat(f.length-1," * -").concat(i,")"));break}var j=[];if(a){var S=f[0].width,{width:P}=d;j.push("scale(".concat(se(P)?P/S:1,")"))}return p&&j.push("rotate(".concat(p,", ").concat(x,", ").concat(y,")")),j.length&&(v.transform=j.join(" ")),g.createElement("text",T0({},Ne(v,!0),{ref:t,x,y,className:ye("recharts-text",b),textAnchor:l,fill:u.includes("url")?FS:u}),f.map((_,A)=>{var z=_.words.join(w?"":" ");return g.createElement("tspan",{x,dy:A===0?N:i,key:"".concat(z,"-").concat(A)},z)}))});Bo.displayName="Text";var NG=["offset"],SG=["labelRef"];function zS(e,t){if(e==null)return{};var r,n,i=_G(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function _G(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function US(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?US(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=kG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kG(e){var t=OG(e,"string");return typeof t=="symbol"?t:t+""}function OG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bn(){return Bn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bn.apply(null,arguments)}var AG=e=>{var{value:t,formatter:r}=e,n=tt(e.children)?t:e.children;return typeof r=="function"?r(n):n},tb=e=>e!=null&&typeof e=="function",EG=(e,t)=>{var r=Nt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},CG=(e,t,r,n)=>{var{position:i,offset:s,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,p=(u+d)/2,b=EG(f,h),w=b>=0?1:-1,v,x;i==="insideStart"?(v=f+w*s,x=m):i==="insideEnd"?(v=h-w*s,x=!m):i==="end"&&(v=h+w*s,x=m),x=b<=0?x:!x;var y=_e(l,c,p,v),N=_e(l,c,p,v+(x?1:-1)*359),j="M".concat(y.x,",").concat(y.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(x?0:1,`,
    `).concat(N.x,",").concat(N.y),S=tt(e.id)?oc("recharts-radial-line-"):e.id;return g.createElement("text",Bn({},r,{dominantBaseline:"central",className:ye("recharts-radial-bar-label",a)}),g.createElement("defs",null,g.createElement("path",{id:S,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(S)},t))},TG=(e,t,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=_e(n,i,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(s+a)/2,{x:m,y:p}=_e(n,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},MG=(e,t)=>{var{parentViewBox:r,offset:n,position:i}=e,{x:s,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,b=m>0?"end":"start",w=m>0?"start":"end";if(i==="top"){var v={x:s+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return Je(Je({},v),r?{height:Math.max(a-r.y,0),width:l}:{})}if(i==="bottom"){var x={x:s+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return Je(Je({},x),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(i==="left"){var y={x:s-p,y:a+c/2,textAnchor:b,verticalAnchor:"middle"};return Je(Je({},y),r?{width:Math.max(y.x-r.x,0),height:c}:{})}if(i==="right"){var N={x:s+l+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return Je(Je({},N),r?{width:Math.max(r.x+r.width-N.x,0),height:c}:{})}var j=r?{width:l,height:c}:{};return i==="insideLeft"?Je({x:s+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},j):i==="insideRight"?Je({x:s+l-p,y:a+c/2,textAnchor:b,verticalAnchor:"middle"},j):i==="insideTop"?Je({x:s+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},j):i==="insideBottom"?Je({x:s+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},j):i==="insideTopLeft"?Je({x:s+p,y:a+d,textAnchor:w,verticalAnchor:h},j):i==="insideTopRight"?Je({x:s+l-p,y:a+d,textAnchor:b,verticalAnchor:h},j):i==="insideBottomLeft"?Je({x:s+p,y:a+c-d,textAnchor:w,verticalAnchor:f},j):i==="insideBottomRight"?Je({x:s+l-p,y:a+c-d,textAnchor:b,verticalAnchor:f},j):i&&typeof i=="object"&&(se(i.x)||ws(i.x))&&(se(i.y)||ws(i.y))?Je({x:s+Yt(i.x,l),y:a+Yt(i.y,c),textAnchor:"end",verticalAnchor:"end"},j):Je({x:s+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},DG=e=>"cx"in e&&se(e.cx);function ir(e){var{offset:t=5}=e,r=zS(e,NG),n=Je({offset:t},r),{viewBox:i,position:s,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=ie(To),m=Gv(),p=s==="center"?m:h??m,b=i||p;if(!b||tt(a)&&tt(l)&&!g.isValidElement(c)&&typeof c!="function")return null;var w=Je(Je({},n),{},{viewBox:b});if(g.isValidElement(c)){var v=zS(w,SG);return g.cloneElement(c,v)}var x;if(typeof c=="function"){if(x=g.createElement(c,w),g.isValidElement(x))return x}else x=AG(n);var y=DG(b),N=Ne(n,!0);if(y&&(s==="insideStart"||s==="insideEnd"||s==="end"))return CG(n,x,N,b);var j=y?TG(b,n.offset,n.position):MG(n,b);return g.createElement(Bo,Bn({ref:f,className:ye("recharts-label",u)},N,j,{breakAll:d}),x)}ir.displayName="Label";var gM=e=>{var{cx:t,cy:r,angle:n,startAngle:i,endAngle:s,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:b,clockWise:w,labelViewBox:v}=e;if(v)return v;if(se(p)&&se(b)){if(se(d)&&se(f))return{x:d,y:f,width:p,height:b};if(se(h)&&se(m))return{x:h,y:m,width:p,height:b}}if(se(d)&&se(f))return{x:d,y:f,width:0,height:0};if(se(t)&&se(r))return{cx:t,cy:r,startAngle:i||n||0,endAngle:s||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},RG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?g.createElement(ir,Bn({key:"label-implicit"},n)):Cn(e)?g.createElement(ir,Bn({key:"label-implicit",value:e},n)):g.isValidElement(e)?e.type===ir?g.cloneElement(e,Je({key:"label-implicit"},n)):g.createElement(ir,Bn({key:"label-implicit",content:e},n)):tb(e)?g.createElement(ir,Bn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?g.createElement(ir,Bn({},e,{key:"label-implicit"},n)):null},$G=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:i,labelRef:s}=t,a=gM(t),l=Dc(i,ir).map((u,d)=>g.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=RG(t.label,r||a,s);return[c,...l]};ir.parseViewBox=gM;ir.renderCallByParent=$G;var yM={},vM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(vM);var xM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(xM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vM,r=xM,n=mh;function i(s){if(n.isArrayLike(s))return t.last(r.toArray(s))}e.last=i})(yM);var IG=yM.last;const bM=Hr(IG);var LG=["valueAccessor"],BG=["data","dataKey","clockWise","id","textBreakAll"];function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}function WS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function VS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WS(Object(r),!0).forEach(function(n){FG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FG(e,t,r){return(t=zG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zG(e){var t=UG(e,"string");return typeof t=="symbol"?t:t+""}function UG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KS(e,t){if(e==null)return{};var r,n,i=WG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function WG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var VG=e=>Array.isArray(e.value)?bM(e.value):e.value;function Li(e){var{valueAccessor:t=VG}=e,r=KS(e,LG),{data:n,dataKey:i,clockWise:s,id:a,textBreakAll:l}=r,c=KS(r,BG);return!n||!n.length?null:g.createElement(Ye,{className:"recharts-label-list"},n.map((u,d)=>{var f=tt(i)?t(u,d):Ie(u&&u.payload,i),h=tt(a)?{}:{id:"".concat(a,"-").concat(d)};return g.createElement(ir,pf({},Ne(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:ir.parseViewBox(tt(s)?u:VS(VS({},u),{},{clockWise:s})),key:"label-".concat(d),index:d}))}))}Li.displayName="LabelList";function KG(e,t){return e?e===!0?g.createElement(Li,{key:"labelList-implicit",data:t}):g.isValidElement(e)||tb(e)?g.createElement(Li,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(Li,pf({data:t},e,{key:"labelList-implicit"})):null:null}function qG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,i=Dc(n,Li).map((a,l)=>g.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return i;var s=KG(e.label,t);return[s,...i]}Li.renderCallByParent=qG;var HG=["points","className","baseLinePoints","connectNulls"];function Ea(){return Ea=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ea.apply(null,arguments)}function GG(e,t){if(e==null)return{};var r,n,i=YG(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function YG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qS=e=>e&&e.x===+e.x&&e.y===+e.y,XG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{qS(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),qS(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Il=(e,t)=>{var r=XG(e);t&&(r=[r.reduce((i,s)=>[...i,...s],[])]);var n=r.map(i=>i.reduce((s,a,l)=>"".concat(s).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},JG=(e,t,r)=>{var n=Il(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(Il(t.reverse(),r).slice(1))},wM=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:i}=e,s=GG(e,HG);if(!t||!t.length)return null;var a=ye("recharts-polygon",r);if(n&&n.length){var l=s.stroke&&s.stroke!=="none",c=JG(t,n,i);return g.createElement("g",{className:a},g.createElement("path",Ea({},Ne(s,!0),{fill:c.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:c})),l?g.createElement("path",Ea({},Ne(s,!0),{fill:"none",d:Il(t,i)})):null,l?g.createElement("path",Ea({},Ne(s,!0),{fill:"none",d:Il(n,i)})):null)}var u=Il(t,i);return g.createElement("path",Ea({},Ne(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",className:a,d:u}))};function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(null,arguments)}var rb=e=>{var{cx:t,cy:r,r:n,className:i}=e,s=ye("recharts-dot",i);return t===+t&&r===+r&&n===+n?g.createElement("circle",M0({},zt(e),Ov(e),{className:s,cx:t,cy:r,r:n})):null},nb=e=>e.graphicalItems.polarItems,QG=F([Te,Wc],Ax),ib=F([nb,st,QG],Cx),ZG=F([ib],Tx),sb=F([ZG,$h],Mx),jM=F([sb,st,ib],Rx),eY=F([sb,st,ib],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(i=>{var s,a=Ie(n,(s=t.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ie(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),HS=()=>{},tY=F([st,wT,HS,eY,HS,be,Te],Ix),NM=F([st,be,sb,jM,zc,Te,tY],Lx),SM=F([NM,st,rs],Fx),rY=F([st,NM,SM,Te],Ux),ab=(e,t,r)=>{switch(t){case"angleAxis":return Co(e,r);case"radiusAxis":return Uc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ob=(e,t,r)=>{switch(t){case"angleAxis":return OK(e,r);case"radiusAxis":return AK(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Fo=F([ab,rs,rY,ob],Wh),_M=F([be,jM,Do,Te],Wx),zo=F([be,ab,rs,Fo,SM,ob,qc,_M,Te],ET);F([be,ab,Fo,ob,qc,_M,Te],TT);var nY=(e,t)=>zo(e,"angleAxis",t,!1),iY=F([nY],e=>{if(e)return e.map(t=>t.coordinate)}),sY=(e,t)=>zo(e,"radiusAxis",t,!1),aY=F([sY],e=>{if(e)return e.map(t=>t.coordinate)}),oY=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function lY(e,t){if(e==null)return{};var r,n,i=cY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function cY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ni(){return ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ni.apply(null,arguments)}function GS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ho(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GS(Object(r),!0).forEach(function(n){uY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uY(e,t,r){return(t=dY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dY(e){var t=fY(e,"string");return typeof t=="symbol"?t:t+""}function fY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hY=(e,t,r,n)=>{var i="";return n.forEach((s,a)=>{var l=_e(t,r,e,s);a?i+="L ".concat(l.x,",").concat(l.y):i+="M ".concat(l.x,",").concat(l.y)}),i+="Z",i},mY=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:i,polarAngles:s,radialLines:a}=e;if(!s||!s.length||!a)return null;var l=ho({stroke:"#ccc"},zt(e));return g.createElement("g",{className:"recharts-polar-grid-angle"},s.map(c=>{var u=_e(t,r,n,c),d=_e(t,r,i,c);return g.createElement("line",ni({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},pY=e=>{var{cx:t,cy:r,radius:n,index:i}=e,s=ho(ho({stroke:"#ccc"},zt(e)),{},{fill:"none"});return g.createElement("circle",ni({},s,{className:ye("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(i),cx:t,cy:r,r:n}))},gY=e=>{var{radius:t,index:r}=e,n=ho(ho({stroke:"#ccc"},zt(e)),{},{fill:"none"});return g.createElement("path",ni({},n,{className:ye("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:hY(t,e.cx,e.cy,e.polarAngles)}))},yY=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:g.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,i)=>{var s=i;return r==="circle"?g.createElement(pY,ni({key:s},e,{radius:n,index:i})):g.createElement(gY,ni({key:s},e,{radius:n,index:i}))}))},PM=e=>{var t,r,n,i,s,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:b,outerRadius:w}=e,v=lY(e,oY),x=ie(To),y=ho({cx:(t=(r=x==null?void 0:x.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(i=x==null?void 0:x.cy)!==null&&i!==void 0?i:p)!==null&&n!==void 0?n:0,innerRadius:(s=(a=x==null?void 0:x.innerRadius)!==null&&a!==void 0?a:b)!==null&&s!==void 0?s:0,outerRadius:(l=(c=x==null?void 0:x.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},v),{polarAngles:N,polarRadius:j,cx:S,cy:P,innerRadius:_,outerRadius:A}=y,z=ie(K=>iY(K,f)),C=ie(K=>aY(K,h)),W=Array.isArray(N)?N:z,L=Array.isArray(j)?j:C;return A<=0||W==null||L==null?null:g.createElement("g",{className:"recharts-polar-grid"},g.createElement(mY,ni({cx:S,cy:P,innerRadius:_,outerRadius:A,gridType:u,radialLines:d},y,{polarAngles:W,polarRadius:L})),g.createElement(yY,ni({cx:S,cy:P,innerRadius:_,outerRadius:A,gridType:u,radialLines:d},y,{polarAngles:W,polarRadius:L})))};PM.displayName="PolarGrid";var kM={},OM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>s&&(s=c,i=l)}return i}e.maxBy=t})(OM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OM,r=Rc,n=ph;function i(s,a){if(s!=null)return t.maxBy(Array.from(s),n.iteratee(a??r.identity))}e.maxBy=i})(kM);var vY=kM.maxBy;const xY=Hr(vY);var AM={},EM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let i=r[0],s=n(i);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<s&&(s=c,i=l)}return i}e.minBy=t})(EM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EM,r=Rc,n=ph;function i(s,a){if(s!=null)return t.minBy(Array.from(s),n.iteratee(a??r.identity))}e.minBy=i})(AM);var bY=AM.minBy;const wY=Hr(bY);var jY={radiusAxis:{},angleAxis:{}},CM=Or({name:"polarAxis",initialState:jY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:NY,removeRadiusAxis:SY,addAngleAxis:_Y,removeAngleAxis:PY}=CM.actions,kY=CM.reducer,OY=["cx","cy","angle","axisLine"],AY=["angle","tickFormatter","stroke","tick"];function vc(){return vc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vc.apply(null,arguments)}function YS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?YS(Object(r),!0).forEach(function(n){Hh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hh(e,t,r){return(t=EY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EY(e){var t=CY(e,"string");return typeof t=="symbol"?t:t+""}function CY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TM(e,t){if(e==null)return{};var r,n,i=TY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function TY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var MM="radiusAxis";function MY(e){var t=Xe();return g.useEffect(()=>(t(NY(e)),()=>{t(SY(e))})),null}var DY=(e,t,r,n)=>{var{coordinate:i}=e;return _e(r,n,i,t)},RY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},$Y=(e,t,r,n)=>{var i=xY(n,a=>a.coordinate||0),s=wY(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:s.coordinate||0,outerRadius:i.coordinate||0}},IY=(e,t)=>{var{cx:r,cy:n,angle:i,axisLine:s}=e,a=TM(e,OY),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=_e(r,n,l[0],i),u=_e(r,n,l[1],i),d=bn(bn(bn({},zt(a)),{},{fill:"none"},Ne(s,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return g.createElement("line",vc({className:"recharts-polar-radius-axis-line"},d))},LY=(e,t,r)=>{var n;return g.isValidElement(e)?n=g.cloneElement(e,t):typeof e=="function"?n=e(t):n=g.createElement(Bo,vc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},BY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:i,tick:s}=e,a=TM(e,AY),l=RY(e.orientation),c=zt(a),u=Ne(s,!1),d=t.map((f,h)=>{var m=DY(f,e.angle,e.cx,e.cy),p=bn(bn(bn(bn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:i},u),{},{index:h},m),{},{payload:f});return g.createElement(Ye,vc({className:ye("recharts-polar-radius-axis-tick",SE(s)),key:"tick-".concat(f.coordinate)},Po(e,f,h)),LY(s,p,n?n(f.value,h):f.value))});return g.createElement(Ye,{className:"recharts-polar-radius-axis-ticks"},d)},FY=e=>{var{radiusAxisId:t}=e,r=ie(To),n=ie(c=>Fo(c,"radiusAxis",t)),i=ie(c=>zo(c,"radiusAxis",t,!1));if(r==null||!i||!i.length)return null;var s=bn(bn(bn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=s;return g.createElement(Ye,{className:ye("recharts-polar-radius-axis",MM,s.className)},l&&IY(s,i),a&&BY(s,i),ir.renderCallByParent(s,$Y(s.angle,s.cx,s.cy,i)))};class Gh extends g.PureComponent{render(){return g.createElement(g.Fragment,null,g.createElement(MY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),g.createElement(FY,this.props))}}Hh(Gh,"displayName","PolarRadiusAxis");Hh(Gh,"axisType",MM);Hh(Gh,"defaultProps",tr);var zY=["children"];function ii(){return ii=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ii.apply(null,arguments)}function XS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XS(Object(r),!0).forEach(function(n){Yh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yh(e,t,r){return(t=UY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VY(e,t){if(e==null)return{};var r,n,i=KY(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function KY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qY=Math.PI/180,JS=1e-5,DM="angleAxis";function HY(e){var t=Xe(),r=g.useMemo(()=>{var s=VY(e,zY);return s},[e]),n=ie(s=>Co(s,r.id)),i=r===n;return g.useEffect(()=>(t(_Y(r)),()=>{t(PY(r))}),[t,r]),i?e.children:null}var GY=(e,t)=>{var{cx:r,cy:n,radius:i,orientation:s,tickSize:a}=t,l=a||8,c=_e(r,n,i,e.coordinate),u=_e(r,n,i+(s==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},YY=(e,t)=>{var r=Math.cos(-e.coordinate*qY);return r>JS?t==="outer"?"start":"end":r<-JS?t==="outer"?"end":"start":"middle"},XY=e=>{var{cx:t,cy:r,radius:n,axisLineType:i,axisLine:s,ticks:a}=e;if(!s)return null;var l=vn(vn({},zt(e)),{},{fill:"none"},Ne(s,!1));if(i==="circle")return g.createElement(rb,ii({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>_e(t,r,n,u.coordinate));return g.createElement(wM,ii({className:"recharts-polar-angle-axis-line"},l,{points:c}))},JY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?g.isValidElement(t)?g.cloneElement(t,r):typeof t=="function"?t(r):g.createElement(Bo,ii({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},QY=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:i,ticks:s}=e,a=zt(e),l=Ne(t,!1),c=vn(vn({},a),{},{fill:"none"},Ne(r,!1)),u=s.map((d,f)=>{var h=GY(d,e),m=YY(d,e.orientation),p=vn(vn(vn({},a),{},{textAnchor:m,stroke:"none",fill:i},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return g.createElement(Ye,ii({className:ye("recharts-polar-angle-axis-tick",SE(t)),key:"tick-".concat(d.coordinate)},Po(e,d,f)),r&&g.createElement("line",ii({className:"recharts-polar-angle-axis-tick-line"},c,h)),g.createElement(JY,{tick:t,tickProps:p,value:n?n(d.value,f):d.value}))});return g.createElement(Ye,{className:"recharts-polar-angle-axis-ticks"},u)},ZY=e=>{var{angleAxisId:t}=e,r=ie(To),n=ie(l=>Fo(l,"angleAxis",t)),i=hr(),s=ie(l=>zo(l,"angleAxis",t,i));if(r==null||!s||!s.length)return null;var a=vn(vn(vn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return g.createElement(Ye,{className:ye("recharts-polar-angle-axis",DM,a.className)},g.createElement(XY,ii({},a,{ticks:s})),g.createElement(QY,ii({},a,{ticks:s})))};class Xh extends g.PureComponent{render(){return this.props.radius<=0?null:g.createElement(HY,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},g.createElement(ZY,this.props))}}Yh(Xh,"displayName","PolarAngleAxis");Yh(Xh,"axisType",DM);Yh(Xh,"defaultProps",yn);function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){eX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eX(e,t,r){return(t=tX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tX(e){var t=rX(e,"string");return typeof t=="symbol"?t:t+""}function rX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nX=(e,t)=>t,lb=F([nb,nX],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),iX=[],cb=(e,t,r)=>(r==null?void 0:r.length)===0?iX:r,RM=F([$h,lb,cb],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>ZS(ZS({},t.presentationProps),s.props))),i!=null)return i}}),sX=F([RM,lb,cb],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,i)=>{var s,a=Ie(n,t.nameKey,t.name),l;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?l=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:ko(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),aX=F([RM,lb,cb,pt],(e,t,r,n)=>{if(!(t==null||e==null))return JX({offset:n,pieSettings:t,displayedData:e,cells:r})}),$M={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})($M);var oX=$M.isPlainObject;const lX=Hr(oX);function gf(){return gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gf.apply(null,arguments)}var e_=(e,t,r,n,i)=>{var s=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-s/2,",").concat(t+i),a+="L ".concat(e+r-s/2-n,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z"),a},cX={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},uX=e=>{var t=Yr(e,cX),r=g.useRef(),[n,i]=g.useState(-1);g.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&i(w)}catch{}},[]);var{x:s,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(s!==+s||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var b=ye("recharts-trapezoid",d);return p?g.createElement(Zd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:s,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:s,y:a},duration:h,animationEasing:f,isActive:p},w=>{var{upperWidth:v,lowerWidth:x,height:y,x:N,y:j}=w;return g.createElement(Zd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},g.createElement("path",gf({},Ne(t,!0),{className:b,d:e_(N,j,v,x,y),ref:r})))}):g.createElement("g",null,g.createElement("path",gf({},Ne(t,!0),{className:b,d:e_(s,a,l,c,u)})))},dX=["option","shapeType","propTransformer","activeClassName","isActive"];function fX(e,t){if(e==null)return{};var r,n,i=hX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function yf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){mX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mX(e,t,r){return(t=pX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pX(e){var t=gX(e,"string");return typeof t=="symbol"?t:t+""}function gX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yX(e,t){return yf(yf({},t),e)}function vX(e,t){return e==="symbols"}function r_(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return g.createElement(XE,r);case"trapezoid":return g.createElement(uX,r);case"sector":return g.createElement(ZE,r);case"symbols":if(vX(t))return g.createElement(kA,r);break;default:return null}}function xX(e){return g.isValidElement(e)?e.props:e}function IM(e){var{option:t,shapeType:r,propTransformer:n=yX,activeClassName:i="recharts-active-shape",isActive:s}=e,a=fX(e,dX),l;if(g.isValidElement(t))l=g.cloneElement(t,yf(yf({},a),xX(t)));else if(typeof t=="function")l=t(a);else if(lX(t)&&typeof t!="boolean"){var c=n(t,a);l=g.createElement(r_,{shapeType:r,elementProps:c})}else{var u=a;l=g.createElement(r_,{shapeType:r,elementProps:u})}return s?g.createElement(Ye,{className:i},l):l}var ub=(e,t)=>{var r=Xe();return(n,i)=>s=>{e==null||e(n,i,s),r(LT({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},db=e=>{var t=Xe();return(r,n)=>i=>{e==null||e(r,n,i),t(Sq())}},fb=(e,t)=>{var r=Xe();return(n,i)=>s=>{e==null||e(n,i,s),r(_q({activeIndex:String(i),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function hb(e){var{fn:t,args:r}=e,n=Xe(),i=hr();return g.useEffect(()=>{if(!i){var s=t(r);return n(wq(s)),()=>{n(jq(s))}}},[t,r,n,i]),null}var LM=()=>{};function bX(e){var{legendPayload:t}=e,r=Xe(),n=hr();return g.useEffect(()=>n?LM:(r($E(t)),()=>{r(IE(t))}),[r,n,t]),null}function BM(e){var{legendPayload:t}=e,r=Xe(),n=ie(be);return g.useEffect(()=>n!=="centric"&&n!=="radial"?LM:(r($E(t)),()=>{r(IE(t))}),[r,n,t]),null}function mb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=g.useRef(oc(t)),n=g.useRef(e);return n.current!==e&&(r.current=oc(t),n.current=e),r.current}var xp,wX=()=>{var[e]=g.useState(()=>oc("uid-"));return e},jX=(xp=XD.useId)!==null&&xp!==void 0?xp:wX;function NX(e,t){var r=jX();return t||(e?"".concat(e,"-").concat(r):r)}var SX=g.createContext(void 0),pb=e=>{var{id:t,type:r,children:n}=e,i=NX("recharts-".concat(r),t);return g.createElement(SX.Provider,{value:i},n(i))},_X={cartesianItems:[],polarItems:[]},FM=Or({name:"graphicalItems",initialState:_X,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,i=qn(e).cartesianItems.indexOf(r);i>-1&&(e.cartesianItems[i]=n)},removeCartesianGraphicalItem(e,t){var r=qn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=qn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:PX,replaceCartesianGraphicalItem:kX,removeCartesianGraphicalItem:OX,addPolarGraphicalItem:AX,removePolarGraphicalItem:EX}=FM.actions,CX=FM.reducer;function TX(e){var t=Xe(),r=g.useRef(null);return g.useEffect(()=>{r.current===null?t(PX(e)):r.current!==e&&t(kX({prev:r.current,next:e})),r.current=e},[t,e]),g.useEffect(()=>()=>{r.current&&(t(OX(r.current)),r.current=null)},[t]),null}function zM(e){var t=Xe();return g.useEffect(()=>(t(AX(e)),()=>{t(EX(e))}),[t,e]),null}function MX(){}var DX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},n_={t:0},bp={t:1};function gb(e){var t=Yr(e,DX),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=YE("JavascriptAnimate",t.animationManager),[f,h]=g.useState(r?n_:bp),m=g.useRef(null);return g.useEffect(()=>{r||h(bp)},[r]),g.useEffect(()=>{if(!r||!n)return MX;var p=GE(n_,bp,qE(s),i,h,d.getTimeoutController()),b=()=>{m.current=p()};return d.start([c,a,b,i,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,i,s,a,c,l,d]),u(f.t)}var RX=["onMouseEnter","onClick","onMouseLeave"],$X=["id"],IX=["id"];function yb(e,t){if(e==null)return{};var r,n,i=LX(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function LX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){BX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BX(e,t,r){return(t=FX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function si(){return si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},si.apply(null,arguments)}function UX(e){var t=g.useMemo(()=>Dc(e.children,Zs),[e.children]),r=ie(n=>sX(n,e.id,t));return r==null?null:g.createElement(BM,{legendPayload:r})}function WX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:t,nameKey:r,name:ko(l,t),hide:c,type:u,color:a,unit:""}}}var VX=(e,t)=>e>t?"start":e<t?"end":"middle",KX=(e,t,r)=>typeof t=="function"?t(e):Yt(t,r,r*.8),qX=(e,t,r)=>{var{top:n,left:i,width:s,height:a}=t,l=NE(s,a),c=i+Yt(e.cx,s,s/2),u=n+Yt(e.cy,a,a/2),d=Yt(e.innerRadius,l,0),f=KX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},HX=(e,t)=>{var r=Nt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},GX=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var r=ye("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(BE,si({},t,{type:"linear",className:r}))},YX=(e,t,r)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),g.isValidElement(n)))return n;var i=ye("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return g.createElement(Bo,si({},t,{alignmentBaseline:"middle",className:i}),n)};function XX(e){var{sectors:t,props:r,showLabels:n}=e,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!t)return null;var l=zt(r),c=Ne(i,!1),u=Ne(s,!1),d=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,b=_e(h.cx,h.cy,h.outerRadius+d,p),w=et(et(et(et({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:VX(b.x,h.cx)},b),v=et(et(et(et({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[_e(h.cx,h.cy,h.outerRadius,p),b],key:"line"});return g.createElement(Ye,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},s&&GX(s,v),YX(i,w,Ie(h,a)))});return g.createElement(Ye,{className:"recharts-pie-labels"},f)}function UM(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:i,showLabels:s}=e,a=ie(Vi),{onMouseEnter:l,onClick:c,onMouseLeave:u}=i,d=yb(i,RX),f=ub(l,i.dataKey),h=db(u),m=fb(c,i.dataKey);return t==null?null:g.createElement(g.Fragment,null,t.map((p,b)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var w=r&&String(b)===a,v=a?n:null,x=w?r:v,y=et(et({},p),{},{stroke:p.stroke,tabIndex:-1,[AE]:b,[EE]:i.dataKey});return g.createElement(Ye,si({tabIndex:-1,className:"recharts-pie-sector"},Po(d,p,b),{onMouseEnter:f(p,b),onMouseLeave:h(p,b),onClick:m(p,b),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(b)}),g.createElement(IM,si({option:x,isActive:w,shapeType:"sector"},y)))}),g.createElement(XX,{sectors:t,props:i,showLabels:s}))}function JX(e){var t,{pieSettings:r,displayedData:n,cells:i,offset:s}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=HX(l,c),p=Math.abs(m),b=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(S=>Ie(S,u,0)!==0).length,v=(p>=360?w:w-1)*b,x=p-w*h-v,y=n.reduce((S,P)=>{var _=Ie(P,u,0);return S+(se(_)?_:0)},0),N;if(y>0){var j;N=n.map((S,P)=>{var _=Ie(S,u,0),A=Ie(S,d,P),z=qX(r,s,S),C=(se(_)?_:0)/y,W,L=et(et({},S),i&&i[P]&&i[P].props);P?W=j.endAngle+Nt(m)*b*(_!==0?1:0):W=l;var K=W+Nt(m)*((_!==0?h:0)+C*x),$=(W+K)/2,O=(z.innerRadius+z.outerRadius)/2,V=[{name:A,value:_,payload:L,dataKey:u,type:f}],I=_e(z.cx,z.cy,O,$);return j=et(et(et(et({},r.presentationProps),{},{percent:C,cornerRadius:a,name:A,tooltipPayload:V,midAngle:$,middleRadius:O,tooltipPosition:I},L),z),{},{value:Ie(S,u),startAngle:W,endAngle:K,payload:L,paddingAngle:Nt(m)*b}),j})}return N}function QX(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=mb(t,"recharts-pie-"),m=r.current,[p,b]=g.useState(!0),w=g.useCallback(()=>{typeof f=="function"&&f(),b(!1)},[f]),v=g.useCallback(()=>{typeof d=="function"&&d(),b(!0)},[d]);return g.createElement(gb,{begin:s,duration:a,isActive:i,easing:l,onAnimationStart:v,onAnimationEnd:w,key:h},x=>{var y=[],N=n&&n[0],j=N.startAngle;return n.forEach((S,P)=>{var _=m&&m[P],A=P>0?Wi(S,"paddingAngle",0):0;if(_){var z=Oa(_.endAngle-_.startAngle,S.endAngle-S.startAngle),C=et(et({},S),{},{startAngle:j+A,endAngle:j+z(x)+A});y.push(C),j=C.endAngle}else{var{endAngle:W,startAngle:L}=S,K=Oa(0,W-L),$=K(x),O=et(et({},S),{},{startAngle:j+A,endAngle:j+$+A});y.push(O),j=O.endAngle}}),r.current=y,g.createElement(Ye,null,g.createElement(UM,{sectors:y,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function ZX(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:i}=e,s=g.useRef(null),a=s.current;return r&&t&&t.length&&(!a||a!==t)?g.createElement(QX,{props:e,previousSectorsRef:s}):g.createElement(UM,{sectors:t,activeShape:n,inactiveShape:i,allOtherPieProps:e,showLabels:!0})}function eJ(e){var{hide:t,className:r,rootTabIndex:n}=e,i=ye("recharts-pie",r);return t?null:g.createElement(Ye,{tabIndex:n,className:i},g.createElement(ZX,e))}var tJ={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Ys.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function rJ(e){var{id:t}=e,r=yb(e,$X),n=g.useMemo(()=>Dc(e.children,Zs),[e.children]),i=ie(s=>aX(s,t,n));return g.createElement(g.Fragment,null,g.createElement(hb,{fn:WX,args:et(et({},e),{},{sectors:i})}),g.createElement(eJ,si({},r,{sectors:i})))}function Jh(e){var t=Yr(e,tJ),{id:r}=t,n=yb(t,IX),i=zt(n);return g.createElement(pb,{id:r,type:"pie"},s=>g.createElement(g.Fragment,null,g.createElement(zM,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i}),g.createElement(UX,si({},n,{id:s})),g.createElement(rJ,si({},n,{id:s})),n.children))}Jh.displayName="Pie";var nJ=F([pt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),iJ=F([nJ,oi,li],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),WM=()=>ie(iJ),sJ=()=>ie(dH);function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function a_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){aJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=lJ(e,"string");return typeof t=="symbol"?t:t+""}function lJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cJ=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:i,dataKey:s}=e;if(i===!1||t.x==null||t.y==null)return null;var a=a_(a_({index:r,dataKey:s,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Ne(i,!1)),Ov(i)),l;return g.isValidElement(i)?l=g.cloneElement(i,a):typeof i=="function"?l=i(a):l=g.createElement(rb,a),g.createElement(Ye,{className:"recharts-active-dot"},l)};function uJ(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:i}=e,s=ie(Vi),a=sJ();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return tt(l)?null:cJ({point:l,childIndex:Number(s),mainColor:r,dataKey:i,activeDot:n})}function o_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o_(Object(r),!0).forEach(function(n){dJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dJ(e,t,r){return(t=fJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VM=(e,t)=>Fo(e,"radiusAxis",t),mJ=F([VM],e=>{if(e!=null)return{scale:e}}),pJ=F([Uc,VM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),gJ=(e,t,r,n)=>zo(e,"radiusAxis",t,n),KM=(e,t,r)=>Co(e,r),qM=(e,t,r)=>Fo(e,"angleAxis",r),yJ=F([KM,qM],(e,t)=>{if(!(e==null||t==null))return vf(vf({},e),{},{scale:t})}),vJ=(e,t,r,n)=>zo(e,"angleAxis",r,n),xJ=F([KM,qM,To],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),bJ=(e,t,r,n,i)=>i,wJ=F([be,pJ,gJ,yJ,vJ],(e,t,r,n,i)=>Ji(e,"radiusAxis")?uc(t,r,!1):uc(n,i,!1)),jJ=F([nb,bJ],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),NJ=F([mJ,xJ,$h,jJ,wJ],(e,t,r,n,i)=>{var{chartData:s,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||s==null||i==null||n==null)){var c=s.slice(a,l+1);return TJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:i})}}),SJ=["id"];function _J(e,t){if(e==null)return{};var r,n,i=PJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function PJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){vb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vb(e,t,r){return(t=kJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kJ(e){var t=OJ(e,"string");return typeof t=="symbol"?t:t+""}function OJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mo.apply(null,arguments)}function xb(e,t){return e&&e!=="none"?e:t}var AJ=e=>{var{dataKey:t,name:r,stroke:n,fill:i,legendType:s,hide:a}=e;return[{inactive:a,dataKey:t,type:s,color:xb(n,i),value:ko(r,t),payload:e}]};function EJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,nameKey:void 0,dataKey:t,name:ko(s,t),hide:a,type:l,color:xb(r,i),unit:""}}}function CJ(e,t){var r;return g.isValidElement(e)?r=g.cloneElement(e,t):typeof e=="function"?r=e(t):r=g.createElement(rb,mo({},t,{className:ye("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function TJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:i,bandSize:s}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?s??0:0;n.forEach((h,m)=>{var p=Ie(h,r.dataKey,m),b=Ie(h,i),w=r.scale(p)+d,v=Array.isArray(b)?bM(b):b,x=tt(v)?void 0:t.scale(v);Array.isArray(b)&&b.length>=2&&(c=!0),u.push(Ht(Ht({},_e(a,l,x,w)),{},{name:p,value:b,cx:a,cy:l,radius:x,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=tt(m)?void 0:t.scale(m);f.push(Ht(Ht({},h),{},{radius:p},_e(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function MJ(e){var{points:t,props:r}=e,{dot:n,dataKey:i}=r;if(!n)return null;var s=_J(r,SJ),a=zt(s),l=Ne(n,!0),c=t.map((u,d)=>{var f=Ht(Ht(Ht({key:"dot-".concat(d),r:3},a),l),{},{dataKey:i,cx:u.x,cy:u.y,index:d,payload:u});return CJ(n,f)});return g.createElement(Ye,{className:"recharts-radar-dots"},c)}function HM(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:i,isRange:s,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return g.isValidElement(i)?d=g.cloneElement(i,Ht(Ht({},r),{},{points:t})):typeof i=="function"?d=i(Ht(Ht({},r),{},{points:t})):d=g.createElement(wM,mo({},Ne(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:s?a:null,connectNulls:l})),g.createElement(Ye,{className:"recharts-radar-polygon"},d,g.createElement(MJ,{props:r,points:t}),n&&Li.renderCallByParent(r,t))}function DJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=mb(t,"recharts-radar-"),[h,m]=g.useState(!0),p=g.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),b=g.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return g.createElement(gb,{begin:s,duration:a,isActive:i,easing:l,key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:b},w=>{var v=d&&d.length/n.length,x=w===1?n:n.map((y,N)=>{var j=d&&d[Math.floor(N*v)];if(j){var S=Oa(j.x,y.x),P=Oa(j.y,y.y);return Ht(Ht({},y),{},{x:S(w),y:P(w)})}var _=Oa(y.cx,y.x),A=Oa(y.cy,y.y);return Ht(Ht({},y),{},{x:_(w),y:A(w)})});return w>0&&(r.current=x),g.createElement(HM,{points:x,props:t,showLabels:!h})})}function RJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,i=g.useRef(void 0),s=i.current;return r&&t&&t.length&&!n&&(!s||s!==t)?g.createElement(DJ,{props:e,previousPointsRef:i}):g.createElement(HM,{points:t,props:e,showLabels:!0})}var $J={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ys.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class IJ extends g.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var i=ye("recharts-radar",r);return g.createElement(g.Fragment,null,g.createElement(Ye,{className:i},g.createElement(RJ,this.props)),g.createElement(uJ,{points:n,mainColor:xb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function LJ(e){var t=hr(),r=ie(n=>NJ(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return g.createElement(IJ,mo({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class bb extends g.PureComponent{render(){return g.createElement(pb,{id:this.props.id,type:"radar"},t=>g.createElement(g.Fragment,null,g.createElement(zM,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),g.createElement(BM,{legendPayload:AJ(this.props)}),g.createElement(hb,{fn:EJ,args:this.props}),g.createElement(LJ,mo({},this.props,{id:t}))))}}vb(bb,"displayName","Radar");vb(bb,"defaultProps",$J);var BJ="Invariant failed";function FJ(e,t){throw new Error(BJ)}var zJ=["x","y"];function D0(){return D0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D0.apply(null,arguments)}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ll(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){UJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UJ(e,t,r){return(t=WJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KJ(e,t){if(e==null)return{};var r,n,i=qJ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function qJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HJ(e,t){var{x:r,y:n}=e,i=KJ(e,zJ),s="".concat(r),a=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),d=parseInt(u,10),f="".concat(t.width||i.width),h=parseInt(f,10);return ll(ll(ll(ll(ll({},t),i),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function GM(e){return g.createElement(IM,D0({shapeType:"rectangle",propTransformer:HJ,activeClassName:"recharts-active-bar"},e))}var GJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,i)=>{if(se(t))return t;var s=se(n)||tt(n);return s?t(n,i):(s||FJ(),r)}},YJ={},XJ=Or({name:"errorBars",initialState:YJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),JJ=XJ.reducer,QJ=["children"];function ZJ(e,t){if(e==null)return{};var r,n,i=eQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function eQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},rQ=g.createContext(tQ);function nQ(e){var{children:t}=e,r=ZJ(e,QJ);return g.createElement(rQ.Provider,{value:r},t)}function YM(e,t){var r,n,i=ie(u=>ui(u,e)),s=ie(u=>ts(u,t)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:mr.allowDataOverflow,l=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:pr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function iQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,i=WM(),{needClipX:s,needClipY:a,needClip:l}=YM(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(n)},g.createElement("rect",{x:s?c:c-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}var sQ=["onMouseEnter","onMouseLeave","onClick"],aQ=["value","background","tooltipPosition"],oQ=["id"],lQ=["onMouseEnter","onClick","onMouseLeave"];function po(){return po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},po.apply(null,arguments)}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){cQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cQ(e,t,r){return(t=uQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uQ(e){var t=dQ(e,"string");return typeof t=="symbol"?t:t+""}function dQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xf(e,t){if(e==null)return{};var r,n,i=fQ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hQ=e=>{var{dataKey:t,name:r,fill:n,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:n,value:ko(r,t),payload:e}]};function mQ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:i,name:s,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:i,dataKey:t,nameKey:void 0,name:ko(s,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function pQ(e){var t=ie(Vi),{data:r,dataKey:n,background:i,allOtherBarProps:s}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=s,u=xf(s,sQ),d=ub(a,n),f=db(l),h=fb(c,n);if(!i||r==null)return null;var m=Ne(i,!1);return g.createElement(g.Fragment,null,r.map((p,b)=>{var{value:w,background:v,tooltipPosition:x}=p,y=xf(p,aQ);if(!v)return null;var N=d(p,b),j=f(p,b),S=h(p,b),P=$t($t($t($t($t({option:i,isActive:String(b)===t},y),{},{fill:"#eee"},v),m),Po(u,p,b)),{},{onMouseEnter:N,onMouseLeave:j,onClick:S,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return g.createElement(GM,po({key:"background-bar-".concat(b)},P))}))}function XM(e){var{data:t,props:r,showLabels:n}=e,i=zt(r),s=xf(i,oQ),{shape:a,dataKey:l,activeBar:c}=r,u=ie(Vi),d=ie(JT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,p=xf(r,lQ),b=ub(f,l),w=db(m),v=fb(h,l);return t?g.createElement(g.Fragment,null,t.map((x,y)=>{var N=c&&String(y)===u&&(d==null||l===d),j=N?c:a,S=$t($t($t({},s),x),{},{isActive:N,option:j,index:y,dataKey:l});return g.createElement(Ye,po({className:"recharts-bar-rectangle"},Po(p,x,y),{onMouseEnter:b(x,y),onMouseLeave:w(x,y),onClick:v(x,y),key:"rectangle-".concat(x==null?void 0:x.x,"-").concat(x==null?void 0:x.y,"-").concat(x==null?void 0:x.value,"-").concat(y)}),g.createElement(GM,S))}),n&&Li.renderCallByParent(r,t)):null}function gQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:i,isAnimationActive:s,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=mb(t,"recharts-bar-"),[m,p]=g.useState(!1),b=g.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),w=g.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return g.createElement(gb,{begin:a,duration:l,isActive:s,easing:c,onAnimationEnd:b,onAnimationStart:w,key:h},v=>{var x=v===1?n:n==null?void 0:n.map((y,N)=>{var j=f&&f[N];if(j)return $t($t({},y),{},{x:aa(j.x,y.x,v),y:aa(j.y,y.y,v),width:aa(j.width,y.width,v),height:aa(j.height,y.height,v)});if(i==="horizontal"){var S=aa(0,y.height,v);return $t($t({},y),{},{y:y.y+y.height-S,height:S})}var P=aa(0,y.width,v);return $t($t({},y),{},{width:P})});return v>0&&(r.current=x??null),x==null?null:g.createElement(Ye,null,g.createElement(XM,{props:t,data:x,showLabels:!m}))})}function yQ(e){var{data:t,isAnimationActive:r}=e,n=g.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?g.createElement(gQ,{previousRectanglesRef:n,props:e}):g.createElement(XM,{props:e,data:t,showLabels:!0})}var JM=0,vQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ie(e,t)}};class xQ extends g.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:i,xAxisId:s,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=ye("recharts-bar",i),f=u;return g.createElement(Ye,{className:d,id:u},l&&g.createElement("defs",null,g.createElement(iQ,{clipPathId:f,xAxisId:s,yAxisId:a})),g.createElement(Ye,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},g.createElement(pQ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),g.createElement(yQ,this.props)),this.props.children)}}var bQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Ys.isSsr,legendType:"rect",minPointSize:JM,xAxisId:0,yAxisId:0};function wQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=YM(t,r),h=Yv(),m=hr(),p=Dc(e.children,Zs),b=ie(x=>GQ(x,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var w,v=b==null?void 0:b[0];return v==null||v.height==null||v.width==null?w=0:w=h==="vertical"?v.height/2:v.width/2,g.createElement(nQ,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:vQ,errorBarOffset:w},g.createElement(xQ,po({},e,{layout:h,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:i,minPointSize:s,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function jQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:i,bandSize:s,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:a,b=d?p.scale.domain():null,w=c9({numericAxis:p});return f.map((v,x)=>{var y,N,j,S,P,_;d?y=n9(d[x],b):(y=Ie(v,r),Array.isArray(y)||(y=[w,y]));var A=GJ(n,JM)(y[1],x);if(t==="horizontal"){var z,[C,W]=[l.scale(y[0]),l.scale(y[1])];N=lN({axis:a,ticks:c,bandSize:s,offset:i.offset,entry:v,index:x}),j=(z=W??C)!==null&&z!==void 0?z:void 0,S=i.size;var L=C-W;if(P=jr(L)?0:L,_={x:N,y:h.top,width:S,height:h.height},Math.abs(A)>0&&Math.abs(P)<Math.abs(A)){var K=Nt(P||A)*(Math.abs(A)-Math.abs(P));j-=K,P+=K}}else{var[$,O]=[a.scale(y[0]),a.scale(y[1])];if(N=$,j=lN({axis:l,ticks:u,bandSize:s,offset:i.offset,entry:v,index:x}),S=O-$,P=i.size,_={x:h.left,y:j,width:h.width,height:P},Math.abs(A)>0&&Math.abs(S)<Math.abs(A)){var V=Nt(S||A)*(Math.abs(A)-Math.abs(S));S+=V}}if(N==null||j==null||S==null||P==null)return null;var I=$t($t({},v),{},{x:N,y:j,width:S,height:P,value:d?y:y[1],payload:v,background:_,tooltipPosition:{x:N+S/2,y:j+P/2}},m&&m[x]&&m[x].props);return I}).filter(Boolean)}function Qh(e){var t=Yr(e,bQ),r=hr();return g.createElement(pb,{id:t.id,type:"bar"},n=>g.createElement(g.Fragment,null,g.createElement(bX,{legendPayload:hQ(t)}),g.createElement(hb,{fn:mQ,args:t}),g.createElement(TX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:l9(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),g.createElement(wQ,po({},t,{id:n}))))}Qh.displayName="Bar";function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Lu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return(t=SQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=_Q(e,"string");return typeof t=="symbol"?t:t+""}function _Q(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var PQ=(e,t)=>t,kQ=(e,t,r)=>r,OQ=(e,t,r,n)=>n,AQ=(e,t,r,n,i)=>i,Yc=F([Ex,AQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),EQ=F([Yc],e=>e==null?void 0:e.maxBarSize),CQ=(e,t,r,n,i,s)=>s,f_=(e,t,r)=>{var n=r??e;if(!tt(n))return Yt(n,t,0)},TQ=F([be,Ex,PQ,kQ,OQ],(e,t,r,n,i)=>t.filter(s=>e==="horizontal"?s.xAxisId===r:s.yAxisId===n).filter(s=>s.isPanorama===i).filter(s=>s.hide===!1).filter(s=>s.type==="bar")),MQ=(e,t,r,n)=>{var i=be(e);return i==="horizontal"?k0(e,"yAxis",r,n):k0(e,"xAxis",t,n)},DQ=(e,t,r)=>{var n=be(e);return n==="horizontal"?yS(e,"xAxis",t):yS(e,"yAxis",r)},RQ=(e,t,r)=>{var n={},i=e.filter(Fh),s=e.filter(u=>u.stackId==null),a=i.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=f_(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=s.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=f_(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},$Q=F([TQ,jK,DQ],RQ),IQ=(e,t,r,n,i)=>{var s,a,l=Yc(e,t,r,n,i);if(l!=null){var c=be(e),u=QC(e),{maxBarSize:d}=l,f=tt(d)?u:d,h,m;return c==="horizontal"?(h=uo(e,"xAxis",t,n),m=co(e,"xAxis",t,n)):(h=uo(e,"yAxis",r,n),m=co(e,"yAxis",r,n)),(s=(a=uc(h,m,!0))!==null&&a!==void 0?a:f)!==null&&s!==void 0?s:0}},QM=(e,t,r,n)=>{var i=be(e),s,a;return i==="horizontal"?(s=uo(e,"xAxis",t,n),a=co(e,"xAxis",t,n)):(s=uo(e,"yAxis",r,n),a=co(e,"yAxis",r,n)),uc(s,a)};function LQ(e,t,r,n,i){var s=n.length;if(!(s<1)){var a=Yt(e,r,0,!0),l,c=[];if(_r(n[0].barSize)){var u=!1,d=r/s,f=n.reduce((v,x)=>v+(x.barSize||0),0);f+=(s-1)*a,f>=r&&(f-=(s-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=s*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((v,x)=>{var y,N={stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(y=x.barSize)!==null&&y!==void 0?y:0}},j=[...v,N];return m=j[j.length-1].position,j},c)}else{var p=Yt(t,r,0,!0);r-2*p-(s-1)*a<=0&&(a=0);var b=(r-2*p-(s-1)*a)/s;b>1&&(b>>=0);var w=_r(i)?Math.min(b,i):b;l=n.reduce((v,x,y)=>[...v,{stackId:x.stackId,dataKeys:x.dataKeys,position:{offset:p+(b+a)*y+(b-w)/2,size:w}}],c)}return l}}var BQ=(e,t,r,n,i,s,a)=>{var l=tt(a)?t:a,c=LQ(r,n,i!==s?i:s,e,l);return i!==s&&c!=null&&(c=c.map(u=>Lu(Lu({},u),{},{position:Lu(Lu({},u.position),{},{offset:u.position.offset-i/2})}))),c},FQ=F([$Q,QC,wK,ZC,IQ,QM,EQ],BQ),zQ=(e,t,r,n)=>uo(e,"xAxis",t,n),UQ=(e,t,r,n)=>uo(e,"yAxis",r,n),WQ=(e,t,r,n)=>co(e,"xAxis",t,n),VQ=(e,t,r,n)=>co(e,"yAxis",r,n),KQ=F([FQ,Yc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),qQ=(e,t)=>{var r=kx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var i=e[n];if(i){var{stackedData:s}=i;if(s)return s.find(a=>a.key===r)}}}},HQ=F([MQ,Yc],qQ),GQ=F([pt,zQ,UQ,WQ,VQ,KQ,be,bx,QM,HQ,Yc,CQ],(e,t,r,n,i,s,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||s==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||i==null||c==null)){var{data:b}=d,w;if(b!=null&&b.length>0?w=b:w=h==null?void 0:h.slice(m,p+1),w!=null)return jQ({layout:a,barSettings:d,pos:s,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:i,stackedData:u,displayedData:w,offset:e,cells:f})}}),ZM=e=>{var{chartData:t}=e,r=Xe(),n=hr();return g.useEffect(()=>n?()=>{}:(r(PS(t)),()=>{r(PS(void 0))}),[t,r,n]),null},h_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},YQ=Or({name:"brush",initialState:h_,reducers:{setBrushSettings(e,t){return t.payload==null?h_:t.payload}}}),XQ=YQ.reducer;function JQ(e,t,r){return(t=QQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QQ(e){var t=ZQ(e,"string");return typeof t=="symbol"?t:t+""}function ZQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wb{static create(t){return new wb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(t)+s}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?t>=n&&t<=i:t>=i&&t<=n}}JQ(wb,"EPS",1e-4);function eZ(e){return(e%180+180)%180}var tZ=function(t){var{width:r,height:n}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=eZ(i),a=s*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},rZ={dots:[],areas:[],lines:[]},nZ=Or({name:"referenceElements",initialState:rZ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=qn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=qn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=qn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),iZ=nZ.reducer,sZ=g.createContext(void 0),aZ=e=>{var{children:t}=e,[r]=g.useState("".concat(oc("recharts"),"-clip")),n=WM();if(n==null)return null;var{x:i,y:s,width:a,height:l}=n;return g.createElement(sZ.Provider,{value:r},g.createElement("defs",null,g.createElement("clipPath",{id:r},g.createElement("rect",{x:i,y:s,height:l,width:a}))),t)};function wp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function eD(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function oZ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return tZ(n,r)}function lZ(e,t,r){var n=r==="width",{x:i,y:s,width:a,height:l}=e;return t===1?{start:n?i:s,end:n?i+a:s+l}:{start:n?i+a:s+l,end:n?i:s}}function bf(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function cZ(e,t){return eD(e,t+1)}function uZ(e,t,r,n,i){for(var s=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:eD(n,u)};var b=c,w,v=()=>(w===void 0&&(w=r(p,b)),w),x=p.coordinate,y=c===0||bf(e,x,v,d,l);y||(c=0,d=a,u+=1),y&&(d=x+e*(v()/2+i),c+=u)},h;u<=s.length;)if(h=f(),h)return h.v;return[]}function m_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m_(Object(r),!0).forEach(function(n){dZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dZ(e,t,r){return(t=fZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mZ(e,t,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:l}=t,{end:c}=t,u=function(h){var m=s[h],p,b=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var w=e*(m.coordinate+e*b()/2-c);s[h]=m=Dt(Dt({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else s[h]=m=Dt(Dt({},m),{},{tickCoord:m.coordinate});var v=bf(e,m.tickCoord,b,l,c);v&&(c=m.tickCoord-e*(b()/2+i),s[h]=Dt(Dt({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return s}function pZ(e,t,r,n,i,s){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(s){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=Dt(Dt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=bf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),a[l-1]=Dt(Dt({},d),{},{isShow:!0}))}for(var p=s?l-1:l,b=function(x){var y=a[x],N,j=()=>(N===void 0&&(N=r(y,x)),N);if(x===0){var S=e*(y.coordinate-e*j()/2-c);a[x]=y=Dt(Dt({},y),{},{tickCoord:S<0?y.coordinate-S*e:y.coordinate})}else a[x]=y=Dt(Dt({},y),{},{tickCoord:y.coordinate});var P=bf(e,y.tickCoord,j,c,u);P&&(c=y.tickCoord+e*(j()/2+i),a[x]=Dt(Dt({},y),{},{isShow:!0}))},w=0;w<p;w++)b(w);return a}function jb(e,t,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!n)return[];if(se(c)||Ys.isSsr){var h;return(h=cZ(i,se(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",b=d&&p==="width"?$l(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(y,N)=>{var j=typeof u=="function"?u(y.value,N):y.value;return p==="width"?oZ($l(j,{fontSize:t,letterSpacing:r}),b,f):$l(j,{fontSize:t,letterSpacing:r})[p]},v=i.length>=2?Nt(i[1].coordinate-i[0].coordinate):1,x=lZ(s,v,p);return c==="equidistantPreserveStart"?uZ(v,x,w,i,a):(c==="preserveStart"||c==="preserveStartEnd"?m=pZ(v,x,w,i,a,c==="preserveStartEnd"):m=mZ(v,x,w,i,a),m.filter(y=>y.isShow))}var gZ=["viewBox"],yZ=["viewBox"];function Ca(){return Ca=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ca.apply(null,arguments)}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){Nb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g_(e,t){if(e==null)return{};var r,n,i=vZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function vZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Nb(e,t,r){return(t=xZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xZ(e){var t=bZ(e,"string");return typeof t=="symbol"?t:t+""}function bZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ns extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,i=g_(t,gZ),s=this.props,{viewBox:a}=s,l=g_(s,yZ);return!wp(n,a)||!wp(i,l)||!wp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:i,height:s,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,b,w=c?-1:1,v=t.tickSize||l,x=se(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*s,h=m-w*v,b=h-w*u,p=x;break;case"left":h=m=t.coordinate,f=r+ +!c*i,d=f-w*v,p=d-w*u,b=x;break;case"right":h=m=t.coordinate,f=r+ +c*i,d=f+w*v,p=d+w*u,b=x;break;default:d=f=t.coordinate,m=n+ +c*s,h=m+w*v,b=h+w*u,p=x;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y:b}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:l}=this.props,c=dt(dt(dt({},Ne(this.props,!1)),Ne(l,!1)),{},{fill:"none"});if(s==="top"||s==="bottom"){var u=+(s==="top"&&!a||s==="bottom"&&a);c=dt(dt({},c),{},{x1:t,y1:r+u*i,x2:t+n,y2:r+u*i})}else{var d=+(s==="left"&&!a||s==="right"&&a);c=dt(dt({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+i})}return g.createElement("line",Ca({},c,{className:ye("recharts-cartesian-axis-line",Wi(l,"className"))}))}static renderTickItem(t,r,n){var i,s=ye(r.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,dt(dt({},r),{},{className:s}));else if(typeof t=="function")i=t(dt(dt({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=ye(a,t.className)),i=g.createElement(Bo,Ca({},r,{className:a}),n)}return i}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:i,stroke:s,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=jb(dt(dt({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=zt(this.props),p=Ne(a,!1),b=dt(dt({},m),{},{fill:"none"},Ne(i,!1)),w=d.map((v,x)=>{var{line:y,tick:N}=this.getTickLineCoord(v),j=dt(dt(dt(dt({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:s},p),N),{},{index:x,payload:v,visibleTicksCount:d.length,tickFormatter:l,padding:u});return g.createElement(Ye,Ca({className:"recharts-cartesian-axis-tick",key:"tick-".concat(v.value,"-").concat(v.coordinate,"-").concat(v.tickCoord)},Po(this.props,v,x)),i&&g.createElement("line",Ca({},b,y,{className:ye("recharts-cartesian-axis-tick-line",Wi(i,"className"))})),a&&ns.renderTickItem(a,j,"".concat(typeof l=="function"?l(v.value,x):v.value).concat(c||"")))});return w.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:i,hide:s}=this.props;if(s)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:g.createElement(Ye,{className:ye("recharts-cartesian-axis",i),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),ir.renderCallByParent(this.props))}}Nb(ns,"displayName","CartesianAxis");Nb(ns,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wZ=["x1","y1","x2","y2","key"],jZ=["offset"],NZ=["xAxisId","yAxisId"],SZ=["xAxisId","yAxisId"];function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){_Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Z(e,t,r){return(t=PZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PZ(e){var t=kZ(e,"string");return typeof t=="symbol"?t:t+""}function kZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(null,arguments)}function wf(e,t){if(e==null)return{};var r,n,i=OZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function OZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:l}=e;return g.createElement("rect",{x:n,y:i,ry:l,width:s,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function tD(e,t){var r;if(g.isValidElement(e))r=g.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:i,x2:s,y2:a,key:l}=t,c=wf(t,wZ),u=zt(c),d=wf(u,jZ);r=g.createElement("line",_s({},d,{x1:n,y1:i,x2:s,y2:a,fill:"none",key:l}))}return r}function EZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,NZ),a=i.map((l,c)=>{var u=It(It({},s),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return tD(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function CZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:i}=e;if(!n||!i||!i.length)return null;var s=wf(e,SZ),a=i.map((l,c)=>{var u=It(It({},s),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return tD(n,u)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function TZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var b=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:s,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function MZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+a-f:u[h+1]-f;if(p<=0)return null;var b=h%r.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:s,width:p,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var DZ=(e,t)=>{var{xAxis:r,width:n,height:i,offset:s}=e;return PE(jb(It(It(It({},ns.defaultProps),r),{},{ticks:kE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,t)},RZ=(e,t)=>{var{yAxis:r,width:n,height:i,offset:s}=e;return PE(jb(It(It(It({},ns.defaultProps),r),{},{ticks:kE(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,t)},$Z={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Zh(e){var t=ME(),r=DE(),n=TE(),i=It(It({},Yr(e,$Z)),{},{x:se(e.x)?e.x:n.left,y:se(e.y)?e.y:n.top,width:se(e.width)?e.width:n.width,height:se(e.height)?e.height:n.height}),{xAxisId:s,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=hr(),b=ie(A=>vS(A,"xAxis",s,p)),w=ie(A=>vS(A,"yAxis",a,p));if(!se(u)||u<=0||!se(d)||d<=0||!se(l)||l!==+l||!se(c)||c!==+c)return null;var v=i.verticalCoordinatesGenerator||DZ,x=i.horizontalCoordinatesGenerator||RZ,{horizontalPoints:y,verticalPoints:N}=i;if((!y||!y.length)&&typeof x=="function"){var j=h&&h.length,S=x({yAxis:w?It(It({},w),{},{ticks:j?h:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);Rl(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(y=S)}if((!N||!N.length)&&typeof v=="function"){var P=m&&m.length,_=v({xAxis:b?It(It({},b),{},{ticks:P?m:b.ticks}):void 0,width:t,height:r,offset:n},P?!0:f);Rl(Array.isArray(_),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof _,"]")),Array.isArray(_)&&(N=_)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(AZ,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(TZ,_s({},i,{horizontalPoints:y})),g.createElement(MZ,_s({},i,{verticalPoints:N})),g.createElement(EZ,_s({},i,{offset:n,horizontalPoints:y,xAxis:b,yAxis:w})),g.createElement(CZ,_s({},i,{offset:n,verticalPoints:N,xAxis:b,yAxis:w})))}Zh.displayName="CartesianGrid";function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function x_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=LZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LZ(e){var t=BZ(e,"string");return typeof t=="symbol"?t:t+""}function BZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FZ={xAxis:{},yAxis:{},zAxis:{}},rD=Or({name:"cartesianAxis",initialState:FZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=x_(x_({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:zZ,removeXAxis:UZ,addYAxis:WZ,removeYAxis:VZ,addZAxis:gre,removeZAxis:yre,updateYAxisWidth:KZ}=rD.actions,qZ=rD.reducer,HZ=["children"],GZ=["dangerouslySetInnerHTML","ticks"];function nD(e,t,r){return(t=YZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=XZ(e,"string");return typeof t=="symbol"?t:t+""}function XZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R0.apply(null,arguments)}function iD(e,t){if(e==null)return{};var r,n,i=JZ(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function JZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QZ(e){var t=Xe(),r=g.useMemo(()=>{var s=iD(e,HZ);return s},[e]),n=ie(s=>ui(s,r.id)),i=r===n;return g.useEffect(()=>(t(zZ(r)),()=>{t(UZ(r))}),[r,t]),i?e.children:null}var ZZ=e=>{var{xAxisId:t,className:r}=e,n=ie(CE),i=hr(),s="xAxis",a=ie(f=>$o(f,s,t,i)),l=ie(f=>CT(f,s,t,i)),c=ie(f=>kT(f,t)),u=ie(f=>mq(f,t));if(c==null||u==null)return null;var d=iD(e,GZ);return g.createElement(ns,R0({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:ye("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:l}))},eee=e=>{var t,r,n,i,s;return g.createElement(QZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter},g.createElement(ZZ,e))};class Xc extends g.Component{render(){return g.createElement(eee,this.props)}}nD(Xc,"displayName","XAxis");nD(Xc,"defaultProps",{allowDataOverflow:mr.allowDataOverflow,allowDecimals:mr.allowDecimals,allowDuplicatedCategory:mr.allowDuplicatedCategory,height:mr.height,hide:!1,mirror:mr.mirror,orientation:mr.orientation,padding:mr.padding,reversed:mr.reversed,scale:mr.scale,tickCount:mr.tickCount,type:mr.type,xAxisId:0});var tee=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=i+s,u=a+c+l+(r?n:0);return Math.round(u)}return 0},ree=["dangerouslySetInnerHTML","ticks"];function sD(e,t,r){return(t=nee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nee(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $0(){return $0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$0.apply(null,arguments)}function see(e,t){if(e==null)return{};var r,n,i=aee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function aee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oee(e){var t=Xe();return g.useEffect(()=>(t(WZ(e)),()=>{t(VZ(e))}),[e,t]),null}var lee=e=>{var t,{yAxisId:r,className:n,width:i,label:s}=e,a=g.useRef(null),l=g.useRef(null),c=ie(CE),u=hr(),d=Xe(),f="yAxis",h=ie(v=>$o(v,f,r,u)),m=ie(v=>OT(v,r)),p=ie(v=>pq(v,r)),b=ie(v=>CT(v,f,r,u));if(g.useLayoutEffect(()=>{var v;if(!(i!=="auto"||!m||tb(s)||g.isValidElement(s))){var x=a.current,y=x==null||(v=x.tickRefs)===null||v===void 0?void 0:v.current,{tickSize:N,tickMargin:j}=x.props,S=tee({ticks:y,label:l.current,labelGapWithTick:5,tickSize:N,tickMargin:j});Math.round(m.width)!==Math.round(S)&&d(KZ({id:r,width:S}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,s,r,i]),m==null||p==null)return null;var w=see(e,ree);return g.createElement(ns,$0({},w,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:ye("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:b}))},cee=e=>{var t,r,n,i,s;return g.createElement(g.Fragment,null,g.createElement(oee,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(i=e.minTickGap)!==null&&i!==void 0?i:5,tick:(s=e.tick)!==null&&s!==void 0?s:!0,tickFormatter:e.tickFormatter}),g.createElement(lee,e))},uee={allowDataOverflow:pr.allowDataOverflow,allowDecimals:pr.allowDecimals,allowDuplicatedCategory:pr.allowDuplicatedCategory,hide:!1,mirror:pr.mirror,orientation:pr.orientation,padding:pr.padding,reversed:pr.reversed,scale:pr.scale,tickCount:pr.tickCount,type:pr.type,width:pr.width,yAxisId:0};class Jc extends g.Component{render(){return g.createElement(cee,this.props)}}sD(Jc,"displayName","YAxis");sD(Jc,"defaultProps",uee);var dee={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qc=g;function fee(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var hee=typeof Object.is=="function"?Object.is:fee,mee=Qc.useSyncExternalStore,pee=Qc.useRef,gee=Qc.useEffect,yee=Qc.useMemo,vee=Qc.useDebugValue;dee.useSyncExternalStoreWithSelector=function(e,t,r,n,i){var s=pee(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=yee(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),i!==void 0&&a.hasValue){var p=a.value;if(i(p,m))return f=p}return f=m}if(p=f,hee(d,m))return p;var b=n(m);return i!==void 0&&i(p,b)?(d=m,p):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,i]);var l=mee(e,s[0],s[1]);return gee(function(){a.hasValue=!0,a.value=l},[l]),vee(l),l};function xee(e){e()}function bee(){let e=null,t=null;return{clear(){e=null,t=null},notify(){xee(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=t={callback:r,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!n||e===null||(n=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var b_={notify(){},get:()=>[]};function wee(e,t){let r,n=b_,i=0,s=!1;function a(b){d();const w=n.subscribe(b);let v=!1;return()=>{v||(v=!0,w(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return s}function d(){i++,r||(r=e.subscribe(c),n=bee())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=b_)}function h(){s||(s=!0,d())}function m(){s&&(s=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var jee=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nee=jee(),See=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_ee=See(),Pee=()=>Nee||_ee?g.useLayoutEffect:g.useEffect,kee=Pee(),jp=Symbol.for("react-redux-context"),Np=typeof globalThis<"u"?globalThis:{};function Oee(){if(!g.createContext)return{};const e=Np[jp]??(Np[jp]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Aee=Oee();function Eee(e){const{children:t,context:r,serverState:n,store:i}=e,s=g.useMemo(()=>{const c=wee(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),a=g.useMemo(()=>i.getState(),[i]);kee(()=>{const{subscription:c}=s;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[s,a]);const l=r||Aee;return g.createElement(l.Provider,{value:s},t)}var Cee=Eee,Tee=(e,t)=>t,Sb=F([Tee,be,To,yt,HT,di,vH,pt],NH),_b=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},aD=Kr("mouseClick"),oD=$c();oD.startListening({actionCreator:aD,effect:(e,t)=>{var r=e.payload,n=Sb(t.getState(),_b(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(Pq({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var I0=Kr("mouseMove"),lD=$c();lD.startListening({actionCreator:I0,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Kx(n,n.tooltip.settings.shared),s=Sb(n,_b(r));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?t.dispatch(FT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(BT()))}});function Mee(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var w_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},cD=Or({name:"rootProps",initialState:w_,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:w_.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Dee=cD.reducer,{updateOptions:Ree}=cD.actions,uD=Or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$ee}=uD.actions,Iee=uD.reducer,dD=Kr("keyDown"),fD=Kr("focus"),Pb=$c();Pb.startListening({actionCreator:dD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=e.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(qx(i,Lo(r))),l=di(r);if(s==="Enter"){var c=mf(r,"axis","hover",String(i.index));t.dispatch(A0({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:c}));return}var u=yq(r),d=u==="left-to-right"?1:-1,f=s==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=mf(r,"axis","hover",String(h));t.dispatch(A0({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});Pb.startListening({actionCreator:fD,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=mf(r,"axis","hover",String(s));t.dispatch(A0({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Dr=Kr("externalEvent"),hD=$c();hD.startListening({actionCreator:Dr,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:lH(r),activeDataKey:JT(r),activeIndex:Vi(r),activeLabel:XT(r),activeTooltipIndex:Vi(r),isTooltipActive:cH(r)};e.payload.handler(n,e.payload.reactEvent)}}});var Lee=F([Io],e=>e.tooltipItemPayloads),Bee=F([Lee,Hc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var i=e.find(l=>l.settings.dataKey===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=t(s,r);return a}}}),mD=Kr("touchMove"),pD=$c();pD.startListening({actionCreator:mD,effect:(e,t)=>{var r=e.payload,n=t.getState(),i=Kx(n,n.tooltip.settings.shared);if(i==="axis"){var s=Sb(n,_b({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(FT({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(AE),d=(a=c.getAttribute(EE))!==null&&a!==void 0?a:void 0,f=Bee(t.getState(),u,d);t.dispatch(LT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var Fee=eE({brush:XQ,cartesianAxis:qZ,chartData:LH,errorBars:JJ,graphicalItems:CX,layout:zU,legend:_9,options:MH,polarAxis:kY,polarOptions:Iee,referenceElements:iZ,rootProps:Dee,tooltip:kq}),zee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return fU({reducer:Fee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([oD.middleware,lD.middleware,Pb.middleware,hD.middleware,pD.middleware]),devTools:{serialize:{replacer:Mee},name:"recharts-".concat(r)}})};function gD(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,i=hr(),s=g.useRef(null);if(i)return r;s.current==null&&(s.current=zee(t,n));var a=Lv;return g.createElement(Cee,{context:a,store:s.current},r)}function yD(e){var{layout:t,width:r,height:n,margin:i}=e,s=Xe(),a=hr();return g.useEffect(()=>{a||(s(LU(t)),s(BU({width:r,height:n})),s(IU(i)))},[s,a,t,r,n,i]),null}function vD(e){var t=Xe();return g.useEffect(()=>{t(Ree(e))},[t,e]),null}var Uee=["children"];function Wee(e,t){if(e==null)return{};var r,n,i=Vee(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Vee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jf(){return jf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jf.apply(null,arguments)}var Kee={width:"100%",height:"100%"},qee=g.forwardRef((e,t)=>{var r=ME(),n=DE(),i=LE();if(!io(r)||!io(n))return null;var{children:s,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0,g.createElement(cA,jf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:Kee,ref:t}),s)}),Hee=e=>{var{children:t}=e,r=ie(Ah);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return g.createElement(cA,{width:n,height:i,x:a,y:s},t)},j_=g.forwardRef((e,t)=>{var{children:r}=e,n=Wee(e,Uee),i=hr();return i?g.createElement(Hee,null,r):g.createElement(qee,jf({ref:t},n),r)});function Gee(){var e=Xe(),[t,r]=g.useState(null),n=ie(g9);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),s=i.width/t.offsetWidth;_r(s)&&s!==n&&e(FU(s))}},[t,e,n]),r}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Yee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){Xee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xee(e,t,r){return(t=Jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=Qee(e,"string");return typeof t=="symbol"?t:t+""}function Qee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zee=g.forwardRef((e,t)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:b,style:w,width:v}=e,x=Xe(),[y,N]=g.useState(null),[j,S]=g.useState(null);zH();var P=Gee(),_=g.useCallback(D=>{P(D),typeof t=="function"&&t(D),N(D),S(D)},[P,t,N,S]),A=g.useCallback(D=>{x(aD(D)),x(Dr({handler:s,reactEvent:D}))},[x,s]),z=g.useCallback(D=>{x(I0(D)),x(Dr({handler:u,reactEvent:D}))},[x,u]),C=g.useCallback(D=>{x(BT()),x(Dr({handler:d,reactEvent:D}))},[x,d]),W=g.useCallback(D=>{x(I0(D)),x(Dr({handler:f,reactEvent:D}))},[x,f]),L=g.useCallback(()=>{x(fD())},[x]),K=g.useCallback(D=>{x(dD(D.key))},[x]),$=g.useCallback(D=>{x(Dr({handler:a,reactEvent:D}))},[x,a]),O=g.useCallback(D=>{x(Dr({handler:l,reactEvent:D}))},[x,l]),V=g.useCallback(D=>{x(Dr({handler:c,reactEvent:D}))},[x,c]),I=g.useCallback(D=>{x(Dr({handler:h,reactEvent:D}))},[x,h]),k=g.useCallback(D=>{x(Dr({handler:b,reactEvent:D}))},[x,b]),B=g.useCallback(D=>{x(mD(D)),x(Dr({handler:p,reactEvent:D}))},[x,p]),J=g.useCallback(D=>{x(Dr({handler:m,reactEvent:D}))},[x,m]);return g.createElement(nM.Provider,{value:y},g.createElement(gz.Provider,{value:j},g.createElement("div",{className:ye("recharts-wrapper",n),style:Yee({position:"relative",cursor:"default",width:v,height:i},w),onClick:A,onContextMenu:$,onDoubleClick:O,onFocus:L,onKeyDown:K,onMouseDown:V,onMouseEnter:z,onMouseLeave:C,onMouseMove:W,onMouseUp:I,onTouchEnd:J,onTouchMove:B,onTouchStart:k,ref:_},r)))}),ete=["children","className","width","height","style","compact","title","desc"];function tte(e,t){if(e==null)return{};var r,n,i=rte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function rte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var xD=g.forwardRef((e,t)=>{var{children:r,className:n,width:i,height:s,style:a,compact:l,title:c,desc:u}=e,d=tte(e,ete),f=zt(d);return l?g.createElement(j_,{otherAttributes:f,title:c,desc:u},r):g.createElement(Zee,{className:n,style:a,width:i,height:s,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(j_,{otherAttributes:f,title:c,desc:u,ref:t},g.createElement(aZ,null,r)))}),nte=["width","height"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}function ite(e,t){if(e==null)return{};var r,n,i=ste(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function ste(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ate={top:5,right:5,bottom:5,left:5},ote={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ate,reverseStackOrder:!1,syncMethod:"index"},lte=g.forwardRef(function(t,r){var n,i=Yr(t.categoricalChartProps,ote),{width:s,height:a}=i,l=ite(i,nte);if(!io(s)||!io(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return g.createElement(gD,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},g.createElement(ZM,{chartData:h.data}),g.createElement(yD,{width:s,height:a,layout:i.layout,margin:i.margin}),g.createElement(vD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(xD,L0({},l,{width:s,height:a,ref:r})))}),cte=["axis","item"],kb=g.forwardRef((e,t)=>g.createElement(lte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:cte,tooltipPayloadSearcher:eb,categoricalChartProps:e,ref:t}));function ute(e){var t=Xe();return g.useEffect(()=>{t($ee(e))},[t,e]),null}var dte=["width","height","layout"];function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B0.apply(null,arguments)}function fte(e,t){if(e==null)return{};var r,n,i=hte(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mte={top:5,right:5,bottom:5,left:5},pte={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:mte,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},bD=g.forwardRef(function(t,r){var n,i=Yr(t.categoricalChartProps,pte),{width:s,height:a,layout:l}=i,c=fte(i,dte);if(!io(s)||!io(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return g.createElement(gD,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:u},g.createElement(ZM,{chartData:i.data}),g.createElement(yD,{width:s,height:a,layout:l,margin:i.margin}),g.createElement(vD,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),g.createElement(ute,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(xD,B0({width:s,height:a},c,{ref:r})))}),gte=["item"],yte={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ob=g.forwardRef((e,t)=>{var r=Yr(e,yte);return g.createElement(bD,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:gte,tooltipPayloadSearcher:eb,categoricalChartProps:r,ref:t})}),vte=["axis"],xte={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},bte=g.forwardRef((e,t)=>{var r=Yr(e,xte);return g.createElement(bD,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:vte,tooltipPayloadSearcher:eb,categoricalChartProps:r,ref:t})});function wte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=g.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ft,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}const S_={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},jte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Nte(){var y,N,j,S;const{user:e}=fr(),[t,r]=g.useState({isOpen:!1,title:"",data:[],columns:[]}),[n,i]=g.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[s,a]=g.useState([]),[l,c]=g.useState(null),[u,d]=g.useState([]),[f,h]=g.useState([]),[m,p]=g.useState({}),[b,w]=g.useState(!0);g.useEffect(()=>{v(),e&&!e.id.startsWith("guest-")&&x()},[e]);const v=async()=>{var P;try{let{data:_,error:A}=await Q.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(A)throw A;const z=(_||[]).filter(k=>{var B;return!((B=k.tournaments)!=null&&B.is_practice)});if(z.length===0){w(!1);return}const C={},W={},L={};let K=0;z.forEach(k=>{var q;if(!k.winner_name||!k.player1_name||!k.player2_name)return;const B=((q=k.outcome)==null?void 0:q.split(" (")[0])||"Unknown",J=k.points_awarded||S_[B]||0;K+=J,L[B]=(L[B]||0)+1;const D=k.normalized_player1_name||k.player1_name.toLowerCase(),ee=k.normalized_player2_name||k.player2_name.toLowerCase(),G=k.normalized_winner_name||k.winner_name.toLowerCase();[D,ee].forEach((M,U)=>{const T=U===0?k.player1_name:k.player2_name;C[T]||(C[T]={wins:0,matches:0,points:0}),C[T].matches++,G===M&&(C[T].wins++,C[T].points+=J)});const E=(M,U,T,Y)=>{const te=`${U}_${M}`;W[te]||(W[te]={combo:U,player:M,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:T||"Unknown"});const R=W[te];R.totalMatches++,Y?(R.wins++,R.totalPoints+=J):R.losses++};E(k.player1_name,k.player1_beyblade,k.player1_blade_line||"Unknown",k.winner_name===k.player1_name),E(k.player2_name,k.player2_beyblade,k.player2_blade_line||"Unknown",k.winner_name===k.player2_name)}),Object.values(W).forEach(k=>{k.winRate=k.totalMatches>0?k.wins/k.totalMatches*100:0,k.weightedWinRate=k.totalMatches>0?k.wins/k.totalMatches*(k.totalMatches/(k.totalMatches+10)):0,k.avgPointsPerMatch=k.totalMatches>0?k.totalPoints/k.totalMatches:0,k.comboScore=k.weightedWinRate*(k.avgPointsPerMatch/3)*100});const $=Object.entries(C).filter(([k,B])=>B.matches>=5).sort((k,B)=>{const J=k[1].wins/k[1].matches;return B[1].wins/B[1].matches-J})[0],O=((P=Object.entries(L).sort((k,B)=>B[1]-k[1])[0])==null?void 0:P[0])||"Unknown",{count:V}=await Q.from("tournaments").select("*",{count:"exact",head:!0});i({totalMatches:z.length,totalPlayers:Object.keys(C).length,totalTournaments:V||0,avgPointsPerMatch:z.length>0?K/z.length:0,mostCommonFinish:O,topPlayer:($==null?void 0:$[0])||"N/A",topPlayerWinRate:$?$[1].wins/$[1].matches*100:0}),a(Object.values(W).sort((k,B)=>B.comboScore-k.comboScore)),p(C);const I=Object.entries(L).map(([k,B])=>({name:k,value:B,color:jte[k]||"#6B7280"}));h(I)}catch(_){console.error("Error fetching global data:",_)}finally{w(!1)}},x=async()=>{var P;if(!(!e||e.id.startsWith("guest-")))try{let{data:_,error:A}=await Q.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `).or(`normalized_player1_name.eq.${e.username.toLowerCase()},normalized_player2_name.eq.${e.username.toLowerCase()}`);if(A)throw A;const z=(_||[]).filter(D=>{var ee;return!((ee=D.tournaments)!=null&&ee.is_practice)});if(z.length===0){c(null);return}let C=0,W=0;const L={},K={},$={},O=new Set;z.forEach(D=>{var T;if(!D.winner_name)return;const ee=D.player1_name===e.username,G=D.winner_name===e.username,E=ee?D.player1_beyblade:D.player2_beyblade,q=ee?D.player2_name:D.player1_name,M=((T=D.outcome)==null?void 0:T.split(" (")[0])||"Unknown",U=D.points_awarded||S_[M]||0;O.add(D.tournament_id),G&&(C++,W+=U,K[M]=(K[M]||0)+1),L[E]||(L[E]={wins:0,matches:0,points:0}),L[E].matches++,G&&(L[E].wins++,L[E].points+=U),$[q]||($[q]={opponent:q,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),$[q].totalMatches++,G?($[q].wins++,$[q].pointsFor+=U):($[q].losses++,$[q].pointsAgainst+=U)}),Object.values($).forEach(D=>{D.winRate=D.totalMatches>0?D.wins/D.totalMatches*100:0});const V=Object.entries(L).map(([D,ee])=>{const G=ee.matches>0?ee.wins/ee.matches:0,E=ee.matches>0?G*(ee.matches/(ee.matches+10)):0,q=ee.matches>0?ee.points/ee.matches:0,M=E*(q/3)*100;return{combo:D,comboScore:M}}).sort((D,ee)=>ee.comboScore-D.comboScore)[0],I=((P=Object.entries(K).sort((D,ee)=>ee[1]-D[1])[0])==null?void 0:P[0])||"N/A",k=z.length,B=k>0?C/k*100:0,J=k>0?C/k*(k/(k+10)):0;c({totalMatches:k,wins:C,losses:k-C,winRate:B,weightedWinRate:J*100,totalPoints:W,avgPointsPerMatch:k>0?W/k:0,mvpCombo:(V==null?void 0:V.combo)||"N/A",mvpComboScore:(V==null?void 0:V.comboScore)||0,favoriteFinish:I,tournamentsPlayed:O.size}),d(Object.values($).sort((D,ee)=>ee.winRate-D.winRate))}catch(_){console.error("Error fetching personal data:",_)}};return b?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.totalMatches.toLocaleString()}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(wo,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.totalPlayers}),o.jsx("div",{className:"metric-label",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(ct,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.totalTournaments}),o.jsx("div",{className:"metric-label",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(mt,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:n.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"metric-label",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(kc,{size:24,className:"text-orange-600"})})]})})]}),l&&o.jsxs("div",{className:"chart-container",children:[o.jsxs("h2",{className:"chart-title flex items-center",children:[o.jsx(ct,{size:24,className:"mr-2 text-blue-600"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[l.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[l.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-blue-600",children:l.mvpCombo}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Score: ",l.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-green-600",children:l.favoriteFinish}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Tournaments: ",l.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Global Finish Distribution"}),o.jsx(Vs,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Jh,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:_})=>`${P} ${(_*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((P,_)=>o.jsx(Zs,{fill:P.color},`cell-${_}`))}),o.jsx(fo,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Top Global Combos by Score"}),o.jsx(Vs,{width:"100%",height:300,children:o.jsxs(kb,{data:s.slice(0,8).map(P=>({name:P.combo,score:P.comboScore,winRate:P.winRate,matches:P.totalMatches})),margin:{bottom:80},children:[o.jsx(Zh,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10}),o.jsx(Jc,{}),o.jsx(fo,{formatter:(P,_)=>[typeof P=="number"?P.toFixed(2):P,_==="score"?"Combo Score":_==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Qh,{dataKey:"score",fill:"#3B82F6"})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"chart-title",children:"Global Combo Rankings"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Users"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Global Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:(()=>{const P={};return s.forEach(_=>{P[_.combo]||(P[_.combo]={combo:_.combo,players:[],totalMatches:0,totalWins:0,totalPoints:0,winRate:0,avgPoints:0,playerData:[]});const A=P[_.combo];A.players.push(_.player),A.totalMatches+=_.totalMatches,A.totalWins+=_.wins,A.totalPoints+=_.totalPoints,A.playerData.push(_)}),Object.values(P).forEach(_=>{_.winRate=_.totalMatches>0?_.totalWins/_.totalMatches*100:0,_.avgPoints=_.totalMatches>0?_.totalPoints/_.totalMatches:0}),Object.values(P).sort((_,A)=>A.winRate-_.winRate).slice(0,20)})().map((P,_)=>o.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:["#",_+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.players.length}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-600":P.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:P.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{const A=P.playerData.map(z=>({player:z.player,matches:z.totalMatches,wins:z.wins,winRate:z.winRate,avgPoints:z.avgPointsPerMatch,bladeLine:z.bladeLine}));r({isOpen:!0,title:`Players using ${P.combo}`,data:A,columns:[{key:"player",label:"Player"},{key:"matches",label:"Matches"},{key:"wins",label:"Wins"},{key:"winRate",label:"Win Rate (%)"},{key:"avgPoints",label:"Avg Points"},{key:"bladeLine",label:"Blade Line"}]})},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"View Players"})})]},_))})]})})]}),l&&u.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((P,_)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:P.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-600 text-center font-medium",children:P.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-600":P.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:P.pointsAgainst})]},_))})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h3",{className:"chart-title",children:"Global Player Rankings"})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Tournaments"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(m||{}).filter(([P,_])=>_.matches>=3).sort((P,_)=>{const A=P[1].wins/P[1].matches,z=_[1].wins/_[1].matches;return z!==A?z-A:_[1].wins-P[1].wins}).slice(0,10).map(([P,_],A)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3 ${A===0?"bg-yellow-500":A===1?"bg-gray-400":A===2?"bg-orange-600":"bg-blue-500"}`,children:A+1})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:P}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:_.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${_.wins/_.matches*100>=60?"text-green-600":_.wins/_.matches*100>=40?"text-yellow-600":"text-red-600"}`,children:[(_.wins/_.matches*100).toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:Math.ceil(_.matches/10)})]},P))})]})})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-orange-50 border-2 border-yellow-200 rounded-xl p-6 text-center",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg",children:o.jsx(mt,{size:40,className:"text-white"})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-lg",children:o.jsx(m2,{size:16,className:"text-black"})}),o.jsx("h4",{className:"text-xl font-bold text-yellow-900 mb-2",children:"Global Champion"}),o.jsx("p",{className:"text-2xl font-bold text-yellow-800 mb-1",children:n.topPlayer}),o.jsxs("p",{className:"text-yellow-700 text-sm mb-4",children:["Win Rate: ",n.topPlayerWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"bg-white/60 backdrop-blur-sm rounded-lg p-4 border border-yellow-200",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-800",children:((N=(y=Object.entries(m||{}).find(([P])=>P===n.topPlayer))==null?void 0:y[1])==null?void 0:N.wins)||0}),o.jsx("div",{className:"text-xs text-yellow-700",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-800",children:((S=(j=Object.entries(m||{}).find(([P])=>P===n.topPlayer))==null?void 0:j[1])==null?void 0:S.matches)||0}),o.jsx("div",{className:"text-xs text-yellow-700",children:"Total Matches"})]})]})})]})})]})]}),o.jsx(wte,{isOpen:t.isOpen,onClose:()=>r(P=>({...P,isOpen:!1})),title:t.title,data:t.data,columns:t.columns,onRowClick:t.onRowClick})]})}function __({selectedPlayer:e,onPlayerChange:t,availablePlayers:r}){return o.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"D"})}),o.jsx("h3",{className:"text-lg font-bold text-red-900",children:"Developer Mode"})]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-red-800 mb-2",children:"View Personal Stats for Player:"}),o.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"w-full border border-red-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),r.map(n=>o.jsx("option",{value:n,children:n},n))]})]})]})}const Ste={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},_te={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Pte(){const{user:e}=fr(),[t,r]=g.useState(""),[n,i]=g.useState([]),[s,a]=g.useState([]),[l,c]=g.useState([]),[u,d]=g.useState([]),[f,h]=g.useState([]),[m,p]=g.useState([]),[b,w]=g.useState(!0),[v,x]=g.useState(""),y=(e==null?void 0:e.role)==="developer",N=y&&t?t:e==null?void 0:e.username;g.useEffect(()=>{y&&j(),N?S(N):w(!1)},[e,t]);const j=async()=>{try{const{data:_}=await Q.from("match_results").select("player1_name, player2_name"),A=new Set;_==null||_.forEach(z=>{z.player1_name&&A.add(z.player1_name),z.player2_name&&A.add(z.player2_name)}),i(Array.from(A).sort())}catch(_){console.error("Error fetching available players:",_)}},S=async _=>{if(!_){w(!1);return}try{const{data:A,error:z}=await Q.from("match_results").select("*").or(`normalized_player1_name.eq.${_.toLowerCase()},normalized_player2_name.eq.${_.toLowerCase()}`);if(z)throw z;const C=A||[];if(C.length===0){w(!1);return}const W=[...new Set(C.map(D=>D.tournament_id))],{data:L}=await Q.from("tournaments").select("id, name, tournament_date").in("id",W),K=(L||[]).reduce((D,ee)=>(D[ee.id]={name:ee.name,date:ee.tournament_date},D),{}),$={},O={},V={},I={},k={};C.forEach(D=>{var re,ce,ue;if(!D.winner_name)return;const ee=D.player1_name===_,G=D.winner_name===_,E=ee?D.player1_beyblade:D.player2_beyblade,q=ee?D.player1_blade_line:D.player2_blade_line,M=((re=D.outcome)==null?void 0:re.split(" (")[0])||"Unknown",U=D.points_awarded||Ste[M]||0;G&&(I[M]=(I[M]||0)+1,k[M]=(k[M]||0)+U),O[E]||(O[E]={combo:E,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:q||"Unknown",finishDistribution:{},pointsPerFinish:{}});const T=O[E];T.totalMatches++,G?(T.wins++,T.totalPoints+=U,T.finishDistribution[M]=(T.finishDistribution[M]||0)+1,T.pointsPerFinish[M]=(T.pointsPerFinish[M]||0)+U):T.losses++;const Y=q||"Unknown";V[Y]||(V[Y]={bladeLine:Y,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const te=V[Y];te.matches++,G&&(te.wins++,te.avgPoints=(te.avgPoints*(te.wins-1)+U)/te.wins);const R=D.tournament_id;$[R]||($[R]={tournamentName:((ce=K[R])==null?void 0:ce.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((ue=K[R])==null?void 0:ue.date)||""});const X=$[R];X.matches++,G&&(X.wins++,X.points+=U)}),Object.values(O).forEach(D=>{D.winRate=D.totalMatches>0?D.wins/D.totalMatches*100:0,D.weightedWinRate=D.totalMatches>0?D.wins/D.totalMatches*(D.totalMatches/(D.totalMatches+10)):0,D.avgPointsPerMatch=D.totalMatches>0?D.totalPoints/D.totalMatches:0,D.comboScore=D.weightedWinRate*(D.avgPointsPerMatch/3)*100}),Object.values(V).forEach(D=>{D.winRate=D.matches>0?D.wins/D.matches*100:0,D.riskReward=Math.random()*100}),Object.values($).forEach(D=>{D.winRate=D.matches>0?D.wins/D.matches*100:0,D.avgPointsPerMatch=D.matches>0?D.points/D.matches:0}),a(Object.values(O).sort((D,ee)=>ee.comboScore-D.comboScore)),c(Object.values(V)),d(Object.values($).sort((D,ee)=>new Date(ee.date).getTime()-new Date(D.date).getTime()));const B=Object.entries(I).map(([D,ee])=>({name:D,value:ee,color:_te[D]||"#6B7280"}));h(B);const J=Object.entries(k).map(([D,ee])=>({finish:D,points:ee,avgPoints:I[D]>0?ee/I[D]:0}));p(J)}catch(A){console.error("Error fetching personal stats:",A)}finally{w(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Td,{size:32,className:"text-blue-600"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-blue-800",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(b)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading personal stats..."})]});if(!N||s.length===0)return o.jsxs("div",{className:"space-y-6",children:[y&&o.jsx(__,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(mt,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"No Match History"}),o.jsx("p",{className:"text-gray-600",children:y&&t?`${t} hasn't participated in any recorded matches yet.`:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]})]});const P=v?s.find(_=>_.combo===v):null;return o.jsxs("div",{className:"space-y-8",children:[y&&o.jsx(__,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.reduce((_,A)=>_+A.totalMatches,0)}),o.jsx("div",{className:"metric-label",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:o.jsx(wo,{size:24,className:"text-blue-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"metric-value",children:[s.length>0?(s.reduce((_,A)=>_+A.wins,0)/s.reduce((_,A)=>_+A.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"metric-label",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:o.jsx(mt,{size:24,className:"text-green-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:s.reduce((_,A)=>_+A.totalPoints,0)}),o.jsx("div",{className:"metric-label",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-100 rounded-lg",children:o.jsx(Oc,{size:24,className:"text-purple-600"})})]})}),o.jsx("div",{className:"metric-card",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"metric-value",children:u.length}),o.jsx("div",{className:"metric-label",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-100 rounded-lg",children:o.jsx(Td,{size:24,className:"text-orange-600"})})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Finish Distribution"}),o.jsx(Vs,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Jh,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:_,percent:A})=>`${_} ${(A*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((_,A)=>o.jsx(Zs,{fill:_.color},`cell-${A}`))}),o.jsx(fo,{})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Points Per Finish Type"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Vs,{width:"100%",height:300,children:o.jsxs(kb,{data:m,children:[o.jsx(Zh,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"finish"}),o.jsx(Jc,{}),o.jsx(fo,{}),o.jsx(Qh,{dataKey:"points",fill:"#3B82F6"})]})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-3",children:m.map(_=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[_.finish,":"]}),o.jsx("span",{className:"text-lg font-bold text-blue-600",children:_.points})]},_.finish))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:v,onChange:_=>x(_.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),s.map(_=>o.jsxs("option",{value:_.combo,children:[_.combo," (",_.totalMatches," matches)"]},_.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map((_,A)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${v===_.combo?"bg-blue-50":""}`,onClick:()=>x(_.combo===v?"":_.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_.bladeLine==="Basic"?"bg-blue-100 text-blue-800":_.bladeLine==="Unique"?"bg-purple-100 text-purple-800":_.bladeLine==="Custom"?"bg-orange-100 text-orange-800":_.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:_.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${_.winRate>=60?"text-green-600":_.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[_.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600 text-center",children:[(_.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600 text-center",children:_.comboScore.toFixed(1)})]},A))})]})}),P&&o.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-blue-900 mb-4",children:["Detailed Analysis: ",P.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(P.finishDistribution).map(([_,A])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:_}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium",children:A}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(",P.totalMatches>0?(A/P.wins*100).toFixed(0):0,"%)"]})]})]},_))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-gray-900 mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(P.pointsPerFinish).map(([_,A])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-gray-700",children:_}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium",children:[A," pts"]}),o.jsxs("span",{className:"text-xs text-gray-500",children:["(avg: ",P.finishDistribution[_]>0?(A/P.finishDistribution[_]).toFixed(1):"0.0",")"]})]})]},_))})]})]})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map((_,A)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:_.date?new Date(_.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600 text-center font-medium",children:_.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${_.winRate>=60?"text-green-600":_.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[_.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center font-medium",children:_.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:_.avgPointsPerMatch.toFixed(2)})]},A))})]})})]}),s.length>0&&o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:y&&t?`${t}'s MVP Combo`:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(mt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:s[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-blue-600",children:s[0].totalMatches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-600",children:[s[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-600",children:s[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-600",children:s[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Combo Score"})]})]})]})]})]})}function kte(e,t,r=1.96){if(t===0)return 0;const n=e/t,i=1+r*r/t,s=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return Math.round((s-a)/i*1e3)/1e3}function Ote(e,t,r){let n=e;const i=wD(n,r.bits);if(!i)return null;n=n.slice(0,n.length-i.bitName.length).trim();const s=jD(n,r.ratchets);if(!s)return null;n=n.slice(0,n.length-s.ratchetName.length).trim();const a=ND(n,r.blades.filter(c=>c.Line===t));return a?{isCustom:!1,blade:a.bladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function Ate(e,t){let r=e;const n=Ete(e,t.lockchips);if(!n)return null;r=e.slice(n.lockchipName.length);const i=wD(r,t.bits);if(!i)return null;r=r.slice(0,r.length-i.bitName.length).trim();const s=jD(r,t.ratchets);if(!s)return null;r=r.slice(0,r.length-s.ratchetName.length).trim();const a=Cte(r,t.assistBlades);if(!a)return null;r=r.slice(0,r.length-a.assistBladeName.length).trim();const l=ND(r,t.blades.filter(u=>u.Line==="Custom"));return l?{isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:s.ratchetName,bit:i.bitName}:null}function wD(e,t){const r=[...t].sort((n,i)=>{const s=n.Shortcut||n.Bit||"";return(i.Shortcut||i.Bit||"").length-s.length});for(const n of r){const i=n.Shortcut;if(i&&e.endsWith(i))return{bit:n,bitName:i}}for(const n of r){const i=n.Bit;if(i&&e.endsWith(i))return{bit:n,bitName:n.Shortcut||i}}return null}function jD(e,t){const r=[...t].sort((n,i)=>{const s=n.Ratchet||"";return(i.Ratchet||"").length-s.length});for(const n of r){const i=n.Ratchet;if(i&&e.endsWith(i))return{ratchet:n,ratchetName:i}}return null}function ND(e,t){for(const r of t){const n=r.Blades;if(n&&e===n)return{blade:r,bladeName:n}}return null}function Ete(e,t){const r=[...t].sort((n,i)=>{const s=n.Lockchip||"";return(i.Lockchip||"").length-s.length});for(const n of r){const i=n.Lockchip;if(i&&e.startsWith(i))return{lockchip:n,lockchipName:i}}return null}function Cte(e,t){const r=[...t].sort((n,i)=>{const s=n["Assist Blade"]||"";return(i["Assist Blade"]||"").length-s.length});for(const n of r){const i=n["Assist Blade"];if(i&&e.endsWith(i))return{assistBlade:n,assistBladeName:i}}return null}function P_(e,t,r){if(!e||!e.trim())return{isCustom:!1};const n=["Basic","Unique","X-Over","Custom"];for(const i of n)if(i==="Custom"){const s=Ate(e,r);if(s)return s}else{const s=Ote(e,i,r);if(s)return s}return{isCustom:!1}}const Tte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Mte={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Dte({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=g.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ft,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx(Gs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Rte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ft,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Used"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome})]},s)),n.map((i,s)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:i.outcome})]},`p2-${s}`))]})]})})]})}):null}function $te({tournamentId:e,loading:t=!1}){const[r,n]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[i,s]=g.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=g.useState([]),[c,u]=g.useState([]),[d,f]=g.useState(!0),[h,m]=g.useState(""),[p,b]=g.useState(""),[w,v]=g.useState([]),[x,y]=g.useState({key:"comboScore",direction:"desc"}),[N,j]=g.useState({isOpen:!1,title:"",data:[],columns:[]}),[S,P]=g.useState({isOpen:!1,title:"",matches:[]});g.useEffect(()=>{e&&_()},[e]),g.useEffect(()=>{e&&r.blades.length>0&&A()},[e,r]);const _=async()=>{try{const[k,B,J,D,ee]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);n({blades:k.data||[],ratchets:B.data||[],bits:J.data||[],lockchips:D.data||[],assistBlades:ee.data||[]})}catch(k){console.error("Error fetching parts data:",k)}},A=async()=>{try{const{data:k,error:B}=await Q.from("match_results").select("*").eq("tournament_id",e);if(B)throw B;if(!k||k.length===0){f(!1);return}const J=[],D={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},ee={};k.forEach(E=>{var ue;if(!E.winner_name||!E.player1_name||!E.player2_name)return;const q=P_(E.player1_beyblade,E.player1_blade_line,r),M=P_(E.player2_beyblade,E.player2_blade_line,r),U=((ue=E.outcome)==null?void 0:ue.split(" (")[0])||"Unknown",T=E.points_awarded||Tte[U]||0,Y=E.normalized_player1_name||E.player1_name.toLowerCase(),te=E.normalized_player2_name||E.player2_name.toLowerCase(),R=E.normalized_winner_name||E.winner_name.toLowerCase(),X={player:E.player1_name,opponent:E.player2_name,beyblade:E.player1_beyblade,opponentBeyblade:E.player2_beyblade,isWin:R===Y,outcome:U,parsedParts:q,bladeLine:E.player1_blade_line||"Unknown"},re={player:E.player2_name,opponent:E.player1_name,beyblade:E.player2_beyblade,opponentBeyblade:E.player1_beyblade,isWin:R===te,outcome:U,parsedParts:M,bladeLine:E.player2_blade_line||"Unknown"};J.push(X,re),[X,re].forEach(he=>{const ge=`${he.beyblade}_${he.player}`;ee[ge]||(ee[ge]={combo:he.beyblade,player:he.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:he.bladeLine,allMatches:[]});const Ae=ee[ge];Ae.totalMatches++,Ae.finishDistribution[U]=(Ae.finishDistribution[U]||0)+1,Ae.allMatches.push(E),he.isWin?(Ae.wins++,Ae.totalPoints+=T):Ae.losses++});const ce=(he,ge)=>{Object.entries(he).forEach(([Ae,Qt])=>{if(Ae==="isCustom"||!Qt)return;D[Ae][Qt]||(D[Ae][Qt]={name:Qt,usage:0,wins:0,losses:0,winRate:0,wilson:0});const Ar=D[Ae][Qt];Ar.usage++,ge?Ar.wins++:Ar.losses++})};ce(q,X.isWin),ce(M,re.isWin)}),Object.keys(D).forEach(E=>{Object.values(D[E]).forEach(q=>{const M=q.wins+q.losses;q.winRate=M>0?q.wins/M*100:0,q.wilson=kte(q.wins,M)})});const G=Object.values(ee).map(E=>(E.winRate=E.totalMatches>0?E.wins/E.totalMatches*100:0,E.weightedWinRate=E.totalMatches>0?E.wins/E.totalMatches*(E.totalMatches/(E.totalMatches+10)):0,E.avgPointsPerMatch=E.totalMatches>0?E.totalPoints/E.totalMatches:0,E.comboScore=E.weightedWinRate*(E.avgPointsPerMatch/3)*100,E));s(D),l(G),u(J),h&&p&&z()}catch(k){console.error("Error processing tournament data:",k)}finally{f(!1)}},z=()=>{if(!h||!p)return;const k=a.filter(B=>c.filter(D=>D.beyblade===B.combo&&D.player===B.player).some(D=>D.parsedParts[h]===p));v(k.sort((B,J)=>J.comboScore-B.comboScore))};Oi.useEffect(()=>{h&&p&&a.length>0?z():v([])},[h,p,a]);const C=k=>{let B="asc";x.key===k&&x.direction==="asc"&&(B="desc"),y({key:k,direction:B})},W=(k,B)=>{const D=c.filter(ee=>ee.parsedParts[B]===k).map(ee=>{var E;const G=((E=ee.allMatches)==null?void 0:E[0])||{};return{combo_used:ee.beyblade,combo_against:ee.opponentBeyblade,player1_name:ee.player,player2_name:ee.opponent,winner_name:G.winner_name,outcome:ee.outcome,player1_beyblade:ee.beyblade,player2_beyblade:ee.opponentBeyblade}});P({isOpen:!0,title:`All Matches using ${k}`,matches:D})},L=k=>{const B=Object.values(i[k]||{}).filter(J=>J.usage>0).sort((J,D)=>D.wilson-J.wilson).map(J=>({...J,allMatches:c.filter(D=>D.parsedParts[k]===J.name)}));j({isOpen:!0,title:`All ${k.charAt(0).toUpperCase()+k.slice(1)} Performance`,data:B,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:J=>{j(D=>({...D,isOpen:!1})),setTimeout(()=>{W(J.name,k)},100)}})},K=()=>{j({isOpen:!0,title:"All Combo Performance Rankings",data:$,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:k=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]}),j(B=>({...B,isOpen:!1}))}})},$=[...a].sort((k,B)=>{const J=k[x.key],D=B[x.key];if(typeof J=="number"&&typeof D=="number")return x.direction==="asc"?J-D:D-J;const ee=String(J),G=String(D);return x.direction==="asc"?ee.localeCompare(G):G.localeCompare(ee)}),O=({children:k,sortKey:B})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>C(B),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:k}),x.key===B&&(x.direction==="asc"?o.jsx(AL,{size:12}):o.jsx(kL,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(Nn,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const V=$.slice(0,10).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),I=Object.entries(c.reduce((k,B)=>(B.isWin&&(k[B.outcome]=(k[B.outcome]||0)+1),k),{})).map(([k,B])=>({name:k,value:B,color:Mte[k]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(wo,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Vs,{width:"100%",height:300,children:o.jsxs(kb,{data:V,margin:{bottom:60},children:[o.jsx(Zh,{strokeDasharray:"3 3"}),o.jsx(Xc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Jc,{}),o.jsx(fo,{formatter:(k,B)=>[typeof k=="number"?k.toFixed(2):k,B==="score"?"Combo Score":B==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Qh,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:"chart-container",children:[o.jsx("h3",{className:"chart-title",children:"Finish Type Distribution"}),o.jsx(Vs,{width:"100%",height:300,children:o.jsxs(Ob,{children:[o.jsx(Jh,{data:I,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:B})=>`${k} ${(B*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:I.map((k,B)=>o.jsx(Zs,{fill:k.color},`cell-${B}`))}),o.jsx(fo,{})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("h3",{className:"chart-title flex items-center",children:[o.jsx(Gs,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:k=>{m(k.target.value),b("")},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:p,onChange:k=>b(k.target.value),disabled:!h,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-purple-500 disabled:bg-gray-100",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(i[h]||{}).filter(k=>k.usage>0).sort((k,B)=>B.wilson-k.wilson).map(k=>o.jsx("option",{value:k.name,children:k.name},k.name))]})]})]}),h&&p&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",p," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((k,B)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-600":k.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:k.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{P({isOpen:!0,title:`All Matches for ${k.combo} by ${k.player}`,matches:k.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},B))})]})})]})]}),o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"chart-title",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:K,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Sn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(O,{sortKey:"combo",children:"Combo"}),o.jsx(O,{sortKey:"player",children:"Player"}),o.jsx(O,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(O,{sortKey:"totalMatches",children:"Matches"}),o.jsx(O,{sortKey:"winRate",children:"Win Rate"}),o.jsx(O,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(O,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(O,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:$.slice(0,20).map((k,B)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.bladeLine==="Basic"?"bg-blue-100 text-blue-800":k.bladeLine==="Unique"?"bg-purple-100 text-purple-800":k.bladeLine==="Custom"?"bg-orange-100 text-orange-800":k.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[k.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(k.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:k.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:k.comboScore.toFixed(1)})]},B))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>L(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(Sn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Nn,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(B=>B.usage>0).sort((B,J)=>J.wilson-B.wilson).slice(0,8).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:B.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${B.winRate>=60?"text-green-600":B.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[B.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.wilson.toFixed(3)})]},J))})]})})]},k))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(k=>o.jsxs("div",{className:"chart-container",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"chart-title capitalize",children:[k==="assistBlade"?"Assist Blades":`${k}s`," Performance"]}),o.jsxs("button",{onClick:()=>L(k),className:"bg-blue-600 text-white px-3 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 text-sm",children:[o.jsx(Sn,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(i[k]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(Nn,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",k," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(i[k]||{}).filter(B=>B.usage>0).sort((B,J)=>J.wilson-B.wilson).slice(0,8).map((B,J)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:B.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${B.winRate>=60?"text-green-600":B.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[B.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:B.wilson.toFixed(3)})]},J))})]})})]},k))})]}),o.jsx(Dte,{isOpen:N.isOpen,onClose:()=>j(k=>({...k,isOpen:!1})),title:N.title,data:N.data,columns:N.columns,onRowClick:N.onRowClick}),o.jsx(Rte,{isOpen:S.isOpen,onClose:()=>P(k=>({...k,isOpen:!1})),title:S.title,matches:S.matches})]})}const k_={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Bu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function Ite({isOpen:e,onClose:t,title:r,data:n,columns:i,onRowClick:s}){const[a,l]=g.useState(""),c=n.filter(u=>i.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(Ft,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4 relative",children:[o.jsx(Gs,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:i.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${s?"cursor-pointer":""}`,onClick:()=>s==null?void 0:s(u),children:i.map(f=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function Lte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(Ft,{size:24})})]}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Finish Type"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((i,s)=>o.jsxs("tr",{className:`hover:bg-gray-50 ${i.winner_name===i.player1_name?"bg-blue-50":i.winner_name===i.player2_name?"bg-red-50":""}`,children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium",children:["Match ",s+1]}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${i.winner_name===i.player1_name?"text-blue-700":"text-gray-600"}`,children:i.player1_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:i.player1_beyblade}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${i.winner_name===i.player2_name?"text-red-700":"text-gray-600"}`,children:i.player2_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:i.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:i.winner_name}),o.jsx("td",{className:"px-6 py-4 text-sm",children:i.outcome})]},s))})]})})]})}):null}function Bte({tournamentId:e,loading:t=!1}){const[r,n]=g.useState({}),[i,s]=g.useState(""),[a,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState({isOpen:!1,title:"",data:[],columns:[],onRowClick:void 0}),[h,m]=g.useState({isOpen:!1,title:"",matches:[]});g.useEffect(()=>{e&&b()},[e]);const p=(j,S)=>S===0?0:j/S*(S/(S+10)),b=async()=>{try{const{data:j,error:S}=await Q.from("match_results").select("*").eq("tournament_id",e);if(S)throw S;const P=j||[];if(P.length===0){u(!1);return}const _={},A={};P.forEach(C=>{var G;if(!C.winner_name||!C.player1_name||!C.player2_name)return;const W=((G=C.outcome)==null?void 0:G.split(" (")[0])||"Unknown",L=C.points_awarded||k_[W]||0,K=C.phase_number||1,$=C.normalized_player1_name||C.player1_name.toLowerCase(),O=C.normalized_player2_name||C.player2_name.toLowerCase(),V=C.normalized_winner_name||C.winner_name.toLowerCase();[$,O].forEach((E,q)=>{const M=q===0?C.player1_name:C.player2_name;_[M]||(_[M]={name:M,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),_[C.player1_name]&&_[C.player1_name].allMatches.push(C),_[C.player2_name]&&_[C.player2_name].allMatches.push(C);const I=_[C.winner_name],k=V===$?C.player2_name:C.player1_name,B=_[k],J=C.winner_name===C.player1_name?C.player1_beyblade:C.player2_beyblade,D=C.winner_name===C.player1_name?C.player2_beyblade:C.player1_beyblade;if(!I||!B)return;I.matches++,I.wins++,I.totalPoints+=L,I.finishDistribution[W]=(I.finishDistribution[W]||0)+1,I.winsByFinish[J]||(I.winsByFinish[J]={}),I.winsByFinish[J][W]=(I.winsByFinish[J][W]||0)+1,I.pointsGainedByBey[J]=(I.pointsGainedByBey[J]||0)+L,I.phasePerformance[K]||(I.phasePerformance[K]={wins:0,matches:0,points:0}),I.phasePerformance[K].wins++,I.phasePerformance[K].matches++,I.phasePerformance[K].points+=L,B.matches++,B.losses++,B.finishDistribution[W]=(B.finishDistribution[W]||0)+1,B.lossesByFinish[D]||(B.lossesByFinish[D]={}),B.lossesByFinish[D][W]=(B.lossesByFinish[D][W]||0)+1,B.pointsGivenByBey[D]=(B.pointsGivenByBey[D]||0)+L,B.phasePerformance[K]||(B.phasePerformance[K]={wins:0,matches:0,points:0}),B.phasePerformance[K].matches++;const ee=[C.player1_name,C.player2_name].sort().join("_vs_");A[ee]||(A[ee]={player1:C.player1_name,player2:C.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),A[ee].totalMatches++,C.winner_name===C.player1_name?A[ee].p1Wins++:A[ee].p2Wins++}),Object.values(_).forEach(C=>{if(C.winRate=C.matches>0?C.wins/C.matches*100:0,C.weightedWinRate=p(C.wins,C.matches),C.avgPointsPerMatch=C.matches>0?C.totalPoints/C.matches:0,Object.keys(C.pointsGainedByBey).length>0){const[L,K]=Object.entries(C.pointsGainedByBey).reduce(($,O)=>$[1]>O[1]?$:O);C.mvpCombo=L,C.mvpComboScore=K}const W=Object.entries(C.finishDistribution);C.mostCommonWinFinish=W.length>0?W.reduce((L,K)=>L[1]>K[1]?L:K)[0]:"N/A",C.mostCommonLoseFinish=C.mostCommonWinFinish}),Object.values(A).forEach(C=>{C.p1WinRate=C.totalMatches>0?C.p1Wins/C.totalMatches*100:0}),n(_),l(Object.values(A).filter(C=>C.totalMatches>0));const z=Object.keys(_);z.length>0&&!i&&s(z[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=Object.keys(r),v=i?r[i]:void 0,x=()=>{const j=Object.values(r).map(S=>({Player:S.name,Matches:S.matches,Wins:S.wins,Losses:S.losses,"Win Rate (%)":Number(S.winRate.toFixed(1)),"Weighted Win Rate (%)":Number((S.weightedWinRate*100).toFixed(1)),"Total Points":S.totalPoints,"Avg Pts/Match":Number(S.avgPointsPerMatch.toFixed(2)),"MVP Beyblade":S.mvpCombo||"—","MVP Points":S.mvpComboScore||0}));f({isOpen:!0,title:"All Players (Sortable/Filterable)",data:j,columns:[{key:"Player",label:"Player"},{key:"Matches",label:"Matches"},{key:"Wins",label:"Wins"},{key:"Losses",label:"Losses"},{key:"Win Rate (%)",label:"Win Rate (%)"},{key:"Weighted Win Rate (%)",label:"Weighted Win Rate (%)"},{key:"Total Points",label:"Total Points"},{key:"Avg Pts/Match",label:"Avg Pts/Match"},{key:"MVP Beyblade",label:"MVP Beyblade"},{key:"MVP Points",label:"MVP Points"}],onRowClick:S=>{s(S.Player),f(P=>({...P,isOpen:!1}))}})},y=()=>{const j=a.map(S=>({Matchup:`${S.player1} vs ${S.player2}`,"Total Matches":S.totalMatches,"Player 1 Wins":S.p1Wins,"Player 2 Wins":S.p2Wins,"P1 Win Rate (%)":Number(S.p1WinRate.toFixed(1))}));f({isOpen:!0,title:"All Head-to-Head Matchups",data:j,columns:[{key:"Matchup",label:"Matchup"},{key:"Total Matches",label:"Total Matches"},{key:"Player 1 Wins",label:"Player 1 Wins"},{key:"Player 2 Wins",label:"Player 2 Wins"},{key:"P1 Win Rate (%)",label:"P1 Win Rate (%)"}]})},N=j=>{const S=r[j];S&&m({isOpen:!0,title:`${j} — Match Details`,matches:S.allMatches||[]})};return c||t?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})}):w.length===0?o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:o.jsx("p",{className:"text-gray-600",children:"No match data found for this tournament yet."})})}):o.jsxs("div",{className:"space-y-6 p-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(ct,{size:24,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:i,onChange:j=>s(j.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),w.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),v&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[o.jsx(mt,{size:20,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:x,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Sn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Avg Points/Match"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(r).sort((j,S)=>S.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,S)=>o.jsxs("tr",{className:`hover:bg-gray-50 cursor-pointer ${i===j.name?"bg-blue-50":""}`,onClick:()=>s(j.name),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold mr-3",children:S+1}),j.name]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:j.matches}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-600":j.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 text-sm font-bold text-blue-600 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-center",children:j.totalPoints}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 text-sm",children:j.mostCommonWinFinish})]},j.name))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(wo,{size:24,className:"mr-2 text-blue-600"}),v.name," — Detailed Performance"]}),o.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700 underline",onClick:()=>N(v.name),children:"View Match Details"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:v.matches}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[v.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-gray-600",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-purple-600",children:v.totalPoints}),o.jsx("div",{className:"text-sm text-gray-600",children:"Total Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:v.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-gray-600",children:"Avg Points/Match"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-indigo-600",children:v.mvpCombo||"N/A"}),o.jsx("div",{className:"text-sm text-gray-600",children:"Most Valuable Beyblade"}),v.mvpCombo&&o.jsxs("div",{className:"text-lg font-bold text-indigo-700 mt-1",children:[v.mvpComboScore," pts"]})]})]})]})]}),v&&o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-green-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Bu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Gained"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(v.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-green-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Bu.map(S=>{var P;return o.jsx("td",{className:"px-6 py-4 text-sm text-center font-medium text-green-600",children:((P=v.winsByFinish[j])==null?void 0:P[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 text-sm text-center font-bold text-green-700",children:v.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-red-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Beyblade"}),Bu.map(j=>o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:j.split(" ")[0]},j)),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Points Given"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.keys(v.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-red-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:j}),Bu.map(S=>{var P;return o.jsx("td",{className:"px-6 py-4 text-sm text-center font-medium text-red-600",children:((P=v.lossesByFinish[j])==null?void 0:P[S])||0},S)}),o.jsx("td",{className:"px-6 py-4 text-sm text-center font-bold text-red-700",children:v.pointsGivenByBey[j]||0})]},j))})]})})]})]}),v&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Points per Finish Type"}),o.jsx(Vs,{width:"100%",height:400,children:o.jsxs(bte,{data:Object.entries(v.finishDistribution).map(([j,S])=>({finish:j,points:S*(k_[j]||0),count:S})),children:[o.jsx(PM,{}),o.jsx(Xh,{dataKey:"finish"}),o.jsx(Gh,{}),o.jsx(bb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]}),Object.keys(v.phasePerformance).length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Match"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.entries(v.phasePerformance).sort(([j],[S])=>parseInt(j)-parseInt(S)).map(([j,S])=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900 text-center",children:["Phase ",j]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:S.matches}),o.jsx("td",{className:"px-6 py-4 text-sm text-green-600 text-center font-medium",children:S.wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.matches>0&&S.wins/S.matches*100>=50?"text-green-600":"text-red-600"}`,children:[S.matches>0?(S.wins/S.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:S.matches>0?(S.points/S.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h2",{className:"text-lg font-bold flex items-center",children:[o.jsx(kc,{size:20,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:y,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Sn,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 2 Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player 1 Win Rate"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.sort((j,S)=>S.totalMatches-j.totalMatches).slice(0,10).map((j,S)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:[j.player1," vs ",j.player2]}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-center",children:j.totalMatches}),o.jsx("td",{className:"px-6 py-4 text-sm text-green-600 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-red-600 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-600":"text-red-600"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},S))})]})})]}),o.jsx(Ite,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(Lte,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function Fte(){const[e,t]=g.useState("meta"),[r,n]=g.useState([]),[i,s]=g.useState(""),[a,l]=g.useState(!0),[c,u]=g.useState(!1);g.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await Q.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const p=h==null?void 0:h.find(b=>b.status==="completed");p&&s(p.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[o.jsx(Kn,{size:24,className:"mr-2 text-blue-600"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:i,onChange:h=>s(h.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),i&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`filter-tab ${e==="meta"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Nn,{size:16,className:"mr-2"}),"Meta Analysis"]}),o.jsxs("button",{onClick:()=>f("player"),className:`filter-tab ${e==="player"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ct,{size:16,className:"mr-2"}),"Player Analytics"]})]})}),e==="meta"&&o.jsx($te,{tournamentId:i}),e==="player"&&o.jsx(Bte,{tournamentId:i})]}),!i&&o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-xl p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Kn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function zte(){return o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-green-50 to-emerald-50 border-2 border-green-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Nn,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-green-900 mb-4",children:"Community Analytics"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-green-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will be able to track engagement, growth, and tournament participation. Gain insights, compare statistics, and help your community thrive."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(kc,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Growth Metrics"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Track new member growth and community activity trends"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(wo,{size:24,className:"text-emerald-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Engagement Insights"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Analyze posts, discussions, and tournament participation"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-green-200",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ct,{size:24,className:"text-green-600"})}),o.jsx("h3",{className:"font-bold text-green-900 mb-2",children:"Community Comparison"}),o.jsx("p",{className:"text-green-700 text-sm",children:"Compare stats across different communities for insights and growth opportunities"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-green-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-green-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-green-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Community growth tracking"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Engagement analytics and trends"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),"Community comparison and insights"]})]})]}),o.jsx("div",{className:"mt-8 text-green-600 text-sm",children:"Community analytics is coming soon — empowering every community to grow stronger!"})]})})})})}function Ute(){fr();const[e,t]=g.useState("overview"),[r,n]=g.useState(!1),i=s=>{s!==e&&(n(!0),setTimeout(()=>{t(s),n(!1)},150))};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsx("div",{className:"text-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Nn,{size:32,className:"mr-3 text-blue-600"}),"Tournament Analytics"]}),o.jsx("p",{className:"page-subtitle",children:"Comprehensive tournament, player, and community statistics"})]}),o.jsxs("div",{className:"filter-tabs flex gap-2",children:[o.jsxs("button",{onClick:()=>i("overview"),className:`filter-tab ${e==="overview"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(mt,{size:16,className:"mr-2"}),"Overview"]}),o.jsxs("button",{onClick:()=>i("personal"),className:`filter-tab ${e==="personal"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Td,{size:16,className:"mr-2"}),"Personal Stats"]}),o.jsxs("button",{onClick:()=>i("tournament"),className:`filter-tab ${e==="tournament"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Kn,{size:16,className:"mr-2"}),"Tournament Analysis"]}),o.jsxs("button",{onClick:()=>i("community"),className:`filter-tab ${e==="community"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ct,{size:16,className:"mr-2"}),"Community Analytics"]})]})]})}),e==="overview"&&o.jsx(Nte,{}),e==="personal"&&o.jsx(Pte,{}),e==="tournament"&&o.jsx(Fte,{}),e==="community"&&o.jsx(zte,{})]})})}const Sp={"Over Finish (2 pts)":2,"Burst Finish (2 pts)":2,"Spin Finish (1 pt)":1,"Extreme Finish (3 pts)":3},Wte=()=>{const{confirm:e,alert:t}=Yi(),[r,n]=g.useState([]),[i,s]=g.useState(""),[a,l]=g.useState(""),[c,u]=g.useState(!1),[d,f]=g.useState(""),[h,m]=g.useState({}),[p,b]=g.useState({}),[w,v]=g.useState(!0),[x,y]=g.useState(!1),[N,j]=g.useState(""),[S,P]=g.useState(""),[_,A]=g.useState(1),[z,C]=g.useState(""),[W,L]=g.useState({}),[K,$]=g.useState(0),[O,V]=g.useState(0),[I,k]=g.useState(2),[B,J]=g.useState(!1),[D,ee]=g.useState(!1),[G,E]=g.useState(!1),[q,M]=g.useState(""),[U,T]=g.useState({}),[Y,te]=g.useState(null);g.useEffect(()=>{R()},[]),g.useEffect(()=>{if(i){u(!1),l(""),f("");const H=r.find(ne=>ne.id===i);H!=null&&H.password||(u(!0),re(i))}},[i]);const R=async()=>{try{const{data:H,error:ne}=await Q.from("tournaments").select("id, name, status, tournament_date, location, beyblades_per_player, password").order("tournament_date",{ascending:!1});if(ne)throw ne;n(H||[]);const le=H==null?void 0:H.find(pe=>pe.status==="active");le&&s(le.id)}catch(H){console.error("Error fetching tournaments:",H)}finally{v(!1)}},X=()=>{const H=r.find(ne=>ne.id===i);if(!(H!=null&&H.password)){u(!0),re(i);return}a===H.password?(u(!0),f(""),re(i)):f("Incorrect password. Please try again.")},re=async H=>{y(!0);try{const{data:ne,error:le}=await Q.from("tournament_registrations").select(`
          player_name,
          tournament_beyblades(
            beyblade_name,
            blade_line
          )
        `).eq("tournament_id",H).eq("status","confirmed").order("player_name",{ascending:!0});if(le)throw le;const pe={},rt={};ne==null||ne.forEach(Le=>{const Me=Le.player_name,Ut=Le.tournament_beyblades.map(Er=>Er.beyblade_name),at=Le.tournament_beyblades.map(Er=>({name:Er.beyblade_name,blade_line:Er.blade_line}));Ut.length>0&&(pe[Me]=Ut,rt[Me]=at)}),m(pe),b(rt),ce()}catch(ne){console.error("Error fetching player data:",ne),m({})}finally{y(!1)}},ce=()=>{j(""),P(""),A(1),C(""),L({}),$(0),V(0),k(2),J(!1),T({}),b({}),M("")},ue=(H,ne)=>{H===1?(j(ne),ne===S&&P("")):(P(ne),ne===N&&j("")),ne&&(L({}),$(0),V(0),k(2),J(!1),T({}))},he=(H,ne)=>{var Me,Ut,at;const le=(we==null?void 0:we.beyblades_per_player)||3,pe=Math.floor(ne/le)+1,rt=ne%le;if(pe===1)return((Me=h[H])==null?void 0:Me[rt])||"";const Le=(Ut=U[pe])==null?void 0:Ut[H];return Le?Le[rt]||"":((at=h[H])==null?void 0:at[rt])||""},ge=(H,ne)=>{var Me,Ut,at,Er,is,Wt;const le=(we==null?void 0:we.beyblades_per_player)||3,pe=Math.floor(ne/le)+1,rt=ne%le;if(pe===1)return((Ut=(Me=p[H])==null?void 0:Me[rt])==null?void 0:Ut.blade_line)||"";const Le=(at=U[pe])==null?void 0:at[H];if(Le){const Mn=Le[rt],Jr=(Er=p[H])==null?void 0:Er.find(ED=>ED.name===Mn);return(Jr==null?void 0:Jr.blade_line)||""}return((Wt=(is=p[H])==null?void 0:is[rt])==null?void 0:Wt.blade_line)||""},Ae=()=>{if(B){t("Phase Required",`Click Shuffle before adding the next match (after every ${(we==null?void 0:we.beyblades_per_player)||3} matches).`);return}if(!N||!S){t("Missing Players","Please select both players first.");return}let H=0;for(;W[H]!==void 0;)H++;const ne={...W,[H]:{outcome:null,winner:null,points:0}};L(ne);const le=(we==null?void 0:we.beyblades_per_player)||3,pe=Object.keys(ne).length;pe>0&&pe%le===0&&J(!0)},Qt=(H,ne)=>{const le={...W};if(le[H]){le[H].outcome=ne;const pe=ne&&le[H].winner&&Sp[ne]||0;le[H].points=pe}L(le),Uo(le)},Ar=(H,ne)=>{const le={...W};if(le[H]){le[H].winner=ne;const pe=le[H].outcome&&ne&&Sp[le[H].outcome]||0;le[H].points=pe}L(le),Uo(le)},Uo=H=>{let ne=0,le=0;Object.values(H).forEach(pe=>{pe.winner&&pe.outcome&&pe.points>0&&(pe.winner===N?ne+=pe.points:pe.winner===S&&(le+=pe.points))}),$(ne),V(le)},em=H=>{const ne={...W};delete ne[H],L(ne),Uo(ne),J(!1)},SD=()=>{const H=I,ne={...U};ne[H]||(ne[H]={[N]:[...h[N]||[]],[S]:[...h[S]||[]]}),T(ne),k(le=>le+1),J(!1)},_D=(H,ne,le)=>{T(pe=>({...pe,[H]:{...pe[H],[ne]:le}}))},Ab=(H,ne)=>{te(ne),H.dataTransfer.effectAllowed="move"},Eb=H=>{H.preventDefault(),H.dataTransfer.dropEffect="move"},Cb=(H,ne,le,pe)=>{var Ut;if(H.preventDefault(),!Y)return;const rt=((Ut=U[ne])==null?void 0:Ut[le])||[],Le=rt.indexOf(Y);if(Le===-1)return;const Me=[...rt];Me.splice(Le,1),Me.splice(pe,0,Y),_D(ne,le,Me),te(null)},Tb=()=>{te(null)},PD=async()=>{if(!z.trim()){t("Please enter the Tournament Officer name before submitting.");return}const H=Object.entries(W).filter(([ne,le])=>le.outcome&&le.winner);if(H.length===0){t("No complete matches to submit.");return}E(!0),M("Submitting matches...");try{const ne=H.map(([rt,Le])=>{const Me=parseInt(rt);return{tournament_id:i,round_number:_,player1_name:N,player2_name:S,player1_beyblade:he(N,Me),player2_beyblade:he(S,Me),player1_blade_line:ge(N,Me),player2_blade_line:ge(S,Me),outcome:Le.outcome,winner_name:Le.winner,points_awarded:Le.points,match_number:Me+1,phase_number:Math.floor(Me/3)+1,tournament_officer:z}}),{error:le}=await Q.from("match_results").insert(ne);if(le)throw le;const{error:pe}=await Q.from("match_sessions").insert({tournament_id:i,round_number:_,player1_name:N,player2_name:S,player1_final_score:K,player2_final_score:O,winner_name:K>O?N:S,total_matches:H.length,tournament_officer:z,match_summary:H.map(([rt,Le])=>{const Me=parseInt(rt),Ut=he(Le.winner,Me),at=(we==null?void 0:we.beyblades_per_player)||3,Er=Math.floor(Me/at)+1,is=Me%at+1;return`Phase ${Er}, Match ${is}: ${Le.outcome} by ${Le.winner} using ${Ut}`}).join("; "),phases:Object.keys(U).length+1,deck_orders:U});if(pe)throw pe;M("✅ Matches submitted successfully!"),ee(!1),setTimeout(()=>{ce(),M("")},2e3)}catch(ne){console.error("Error submitting matches:",ne),M("❌ Failed to submit matches. Please try again.")}finally{E(!1)}},kD=()=>Object.entries(W).filter(([ne,le])=>le.outcome&&le.winner).map(([ne,le])=>{const pe=parseInt(ne),rt=he(le.winner,pe);return`Match ${pe+1}: ${le.outcome} by ${le.winner} using ${rt}`}),we=r.find(H=>H.id===i),Mb=Object.keys(h),OD=Mb.filter(H=>H!==S),AD=Mb.filter(H=>H!==N);return w?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"OBC Match Tracker"}),o.jsx("p",{className:"text-gray-600",children:"Track tournament matches in real-time"})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tournament Selection"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Tournament"}),o.jsxs("select",{value:i,onChange:H=>s(H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(H=>o.jsxs("option",{value:H.id,children:[H.name," (",H.status,")"]},H.id))]})]}),we&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:we.name}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Status: ",o.jsx("span",{className:`capitalize ${we.status==="active"?"text-green-600":we.status==="upcoming"?"text-blue-600":"text-gray-600"}`,children:we.status})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Date: ",new Date(we.tournament_date).toLocaleDateString()]}),o.jsxs("p",{className:"text-sm text-gray-600",children:["Location: ",we.location]}),we.password&&o.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"🔒 Password protected"})]})]})]}),i&&(we==null?void 0:we.password)&&!c&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:"🔒 Tournament Access"}),o.jsx("p",{className:"text-gray-600 mb-4",children:"This tournament requires a password to access match tracking features."}),o.jsxs("div",{className:"max-w-md",children:[o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"password",placeholder:"Enter tournament password",value:a,onChange:H=>{l(H.target.value),f("")},onKeyPress:H=>H.key==="Enter"&&X(),className:"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("button",{onClick:X,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors",children:"Verify"})]}),d&&o.jsx("p",{className:"text-red-600 text-sm mt-2",children:d})]})]}),i&&c&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Match Setup"}),x?o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading player data..."})]}):Object.keys(h).length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ct,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No confirmed registrations found for this tournament"})]}):o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Round #"}),o.jsx("input",{type:"number",min:"1",value:_,onChange:H=>A(parseInt(H.target.value)||1),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 1"}),o.jsxs("select",{value:N,onChange:H=>ue(1,H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 1 --"}),OD.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Player 2"}),o.jsxs("select",{value:S,onChange:H=>ue(2,H.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"-- Select Player 2 --"}),AD.map(H=>o.jsx("option",{value:H,children:H},H))]})]})]})]}),N&&S&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"bg-white border border-gray-200 rounded-lg shadow-md p-4 mb-6",children:o.jsxs("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[o.jsx("div",{children:o.jsx("input",{type:"text",placeholder:"Tournament Officer",value:z,onChange:H=>C(H.target.value),className:"border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})}),o.jsxs("div",{className:"text-lg font-bold",children:[o.jsxs("span",{className:`${K>O?"text-green-600":K<O?"text-red-600":"text-gray-600"}`,children:[N,": ",K]}),o.jsx("span",{className:"mx-4 text-gray-400",children:"|"}),o.jsxs("span",{className:`${O>K?"text-green-600":O<K?"text-red-600":"text-gray-600"}`,children:[S,": ",O]})]})]})}),o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:["Phase 1 Decks (",(we==null?void 0:we.beyblades_per_player)||3," Beyblades)"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b",children:[o.jsx("th",{className:"text-left py-2"}),o.jsx("th",{className:"text-left py-2 font-semibold",children:N}),o.jsx("th",{className:"text-left py-2 font-semibold",children:S})]})}),o.jsx("tbody",{children:Array.from({length:(we==null?void 0:we.beyblades_per_player)||3},(H,ne)=>{var le,pe;return o.jsxs("tr",{className:"border-b",children:[o.jsxs("td",{className:"py-2 font-medium",children:["Bey ",ne+1]}),o.jsx("td",{className:"py-2",children:((le=h[N])==null?void 0:le[ne])||""}),o.jsx("td",{className:"py-2",children:((pe=h[S])==null?void 0:pe[ne])||""})]},ne)})})]})})]}),o.jsx("div",{className:"space-y-4 mb-6",children:Object.entries(W).map(([H,ne])=>{var Er,is;const le=parseInt(H),pe=he(N,le),rt=he(S,le),Le=le+1,Me=(we==null?void 0:we.beyblades_per_player)||3,Ut=Le%Me===0&&Le>0,at=Math.floor(Le/Me)+1;return o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold",children:["Match ",Le,": ",pe," vs ",rt]}),o.jsx("button",{onClick:()=>em(le),className:"text-red-600 hover:bg-red-50 p-1 rounded",children:o.jsx(An,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Outcome:"}),o.jsx("div",{className:"space-y-2",children:Object.keys(Sp).map(Wt=>o.jsx("button",{onClick:()=>Qt(le,Wt),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ne.outcome===Wt?"bg-blue-100 border-blue-300 text-blue-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:Wt},Wt))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-2",children:"Winner:"}),o.jsxs("div",{className:"space-y-2",children:[o.jsx("button",{onClick:()=>Ar(le,N),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ne.winner===N?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:N}),o.jsx("button",{onClick:()=>Ar(le,S),className:`w-full text-left px-3 py-2 rounded border transition-colors ${ne.winner===S?"bg-green-100 border-green-300 text-green-700":"bg-gray-50 border-gray-200 hover:bg-gray-100"}`,children:S})]})]})]})]}),Ut&&at>1&&U[at]&&o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg shadow-md p-6 mt-4 border-2 border-purple-200",children:[o.jsxs("h3",{className:"text-lg font-bold text-purple-900 mb-4 flex items-center",children:[o.jsx(u1,{className:"mr-2",size:20}),"Phase ",at," Decks - Drag to Reorder"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:N}),o.jsx("div",{className:"space-y-2",children:(Er=U[at][N])==null?void 0:Er.map((Wt,Mn)=>o.jsxs("div",{draggable:!0,onDragStart:Jr=>Ab(Jr,Wt),onDragOver:Eb,onDrop:Jr=>Cb(Jr,at,N,Mn),onDragEnd:Tb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${Y===Wt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(l1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Mn+1,"."]}),o.jsx("span",{className:"ml-2",children:Wt})]},`${at}-${N}-${Mn}`))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold mb-3 text-purple-800",children:S}),o.jsx("div",{className:"space-y-2",children:(is=U[at][S])==null?void 0:is.map((Wt,Mn)=>o.jsxs("div",{draggable:!0,onDragStart:Jr=>Ab(Jr,Wt),onDragOver:Eb,onDrop:Jr=>Cb(Jr,at,S,Mn),onDragEnd:Tb,className:`bg-white p-3 rounded border-2 cursor-move transition-all duration-200 flex items-center ${Y===Wt?"border-purple-400 shadow-lg opacity-50":"border-gray-200 hover:border-purple-300 hover:shadow-md"}`,children:[o.jsx(l1,{size:16,className:"text-gray-400 mr-2"}),o.jsxs("span",{className:"font-medium text-gray-700",children:[Mn+1,"."]}),o.jsx("span",{className:"ml-2",children:Wt})]},`${at}-${S}-${Mn}`))})]})]})]})]},H)})}),o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsxs("button",{onClick:B?SD:Ae,className:"bg-blue-600 text-white px-6 py-3 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:B?"Shuffle":"Add Match"})]}),o.jsxs("button",{onClick:()=>ee(!0),disabled:Object.values(W).every(H=>!H.outcome||!H.winner),className:"bg-green-600 text-white px-6 py-3 rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[o.jsx(LL,{size:20}),o.jsx("span",{children:"Submit Scores"})]}),o.jsxs("button",{onClick:ce,className:"bg-gray-600 text-white px-6 py-3 rounded-md hover:bg-gray-700 transition-colors flex items-center space-x-2",children:[o.jsx(u1,{size:20}),o.jsx("span",{children:"Refresh"})]})]}),q&&o.jsx("div",{className:"text-center py-4",children:o.jsx("p",{className:`font-semibold ${q.includes("✅")?"text-green-600":q.includes("❌")?"text-red-600":"text-blue-600"}`,children:q})})]})]}),D&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Match Summary"}),o.jsx("button",{onClick:()=>ee(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(Ft,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Final Scores"}),o.jsxs("p",{className:"text-xl",children:[o.jsxs("strong",{children:[N,":"]})," ",K," pts | ",o.jsxs("strong",{children:[S,":"]})," ",O," pts"]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Match Results"}),o.jsx("div",{className:"space-y-2",children:kD().map((H,ne)=>o.jsx("p",{className:"text-gray-700",dangerouslySetInnerHTML:{__html:H}},ne))})]}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[o.jsx("button",{onClick:()=>ee(!1),className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsxs("button",{onClick:PD,disabled:G,className:"px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors disabled:opacity-50 flex items-center space-x-2",children:[G&&o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Confirm Submit"})]})]})]})]})})]})};function Vte(){const{user:e}=fr(),{confirm:t,alert:r}=Yi(),[n,i]=g.useState([]),[s,a]=g.useState([]),[l,c]=g.useState(""),[u,d]=g.useState("tournaments"),[f,h]=g.useState(!0),[m,p]=g.useState(!1),[b,w]=g.useState(null),[v,x]=g.useState(!1),[y,N]=g.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:""}),j=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";g.useEffect(()=>{j&&S()},[j]),g.useEffect(()=>{l&&u==="registrations"&&P()},[l,u]);const S=async()=>{h(!0);try{const{data:O,error:V}=await Q.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(V)throw V;i(O||[])}catch(O){console.error("Error fetching tournaments:",O),i([])}finally{h(!1)}},P=async()=>{if(l)try{const{data:O,error:V}=await Q.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(V)throw V;const I={};O==null||O.forEach(k=>{I[k.registration_id]||(I[k.registration_id]={id:k.registration_id,tournament_id:k.tournament_id,player_name:k.player_name,payment_mode:k.payment_mode,registered_at:k.registered_at,status:k.status,payment_status:k.payment_status||"confirmed",beyblades:[]}),k.beyblade_id&&(I[k.registration_id].beyblades.find(J=>J.beyblade_id===k.beyblade_id)||I[k.registration_id].beyblades.push({beyblade_id:k.beyblade_id,beyblade_name:k.beyblade_name,blade_line:k.blade_line}))}),a(Object.values(I))}catch(O){console.error("Error fetching registrations:",O)}},_=()=>{p(!0),N({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})},A=O=>{w(O.id),N({name:O.name,description:O.description||"",tournament_date:O.tournament_date,location:O.location,max_participants:O.max_participants,registration_deadline:O.registration_deadline,prize_pool:O.prize_pool||"",beyblades_per_player:O.beyblades_per_player,players_per_team:O.players_per_team,entry_fee:O.entry_fee,is_free:O.is_free,tournament_type:O.tournament_type,password:O.password||""})},z=async()=>{if(!y.name.trim()){await r("Missing Information","Please enter a tournament name.");return}if(!y.password.trim()){await r("Missing Information","Please enter a tournament password.");return}if(!y.tournament_date){await r("Missing Information","Please select a tournament date.");return}if(!y.location.trim()){await r("Missing Information","Please enter a tournament location.");return}if(!y.registration_deadline){await r("Missing Information","Please select a registration deadline.");return}try{const O={name:y.name.trim(),description:y.description.trim()||null,tournament_date:y.tournament_date,location:y.location.trim(),max_participants:y.max_participants,registration_deadline:y.registration_deadline,prize_pool:y.prize_pool.trim()||null,beyblades_per_player:y.beyblades_per_player,players_per_team:y.players_per_team,entry_fee:y.entry_fee,is_free:y.is_free,tournament_type:y.tournament_type,is_practice:y.is_practice,registration_open:y.registration_open,password:y.password.trim()};if(m){const{error:V}=await Q.from("tournaments").insert([O]);if(V)throw V}else if(b){const{error:V}=await Q.from("tournaments").update(O).eq("id",b);if(V)throw V}await S(),$(),await r("Success","Tournament saved successfully!")}catch(O){console.error("Error saving tournament:",O),await r("Error","Failed to save tournament. Please try again.")}},C=async(O,V)=>{try{const{error:I}=await Q.from("tournaments").update({status:V}).eq("id",O);if(I)throw I;await S(),await r("Success",`Tournament status updated to ${V}!`)}catch(I){console.error("Error updating tournament status:",I),await r("Error","Failed to update tournament status. Please try again.")}},W=async(O,V)=>{try{const{error:I}=await Q.from("tournaments").update({registration_open:!V}).eq("id",O);if(I)throw I;await S(),await r("Success",`Registration ${V?"closed":"opened"} successfully!`)}catch(I){console.error("Error toggling registration:",I),await r("Error","Failed to toggle registration. Please try again.")}},L=async O=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{await Q.from("tournament_beyblade_parts").delete().eq("beyblade_id",`(SELECT id FROM tournament_beyblades WHERE registration_id IN (SELECT id FROM tournament_registrations WHERE tournament_id = '${O}'))`),await Q.from("tournament_beyblades").delete().eq("registration_id",`(SELECT id FROM tournament_registrations WHERE tournament_id = '${O}')`),await Q.from("tournament_registrations").delete().eq("tournament_id",O),await Q.from("match_results").delete().eq("tournament_id",O);const{error:I}=await Q.from("tournaments").delete().eq("id",O);if(I)throw I;await S(),await r("Success","Tournament deleted successfully!")}catch(I){console.error("Error deleting tournament:",I),await r("Error","Failed to delete tournament. Please try again.")}},K=async O=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:I}=await Q.from("tournament_registrations").delete().eq("id",O);if(I)throw I;await P(),await r("Success","Registration deleted successfully!")}catch(I){console.error("Error deleting registration:",I),await r("Error","Failed to delete registration. Please try again.")}},$=()=>{p(!1),w(null),N({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",password:""})};return j?f?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading tournaments..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper max-w-6xl mx-auto",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(mt,{size:28,className:"mr-3 text-yellow-600"}),"Tournament Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Create and manage tournaments"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>d("tournaments"),className:`filter-tab ${u==="tournaments"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(mt,{size:16,className:"mr-2"}),"Tournaments"]}),o.jsxs("button",{onClick:()=>d("registrations"),className:`filter-tab ${u==="registrations"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ct,{size:16,className:"mr-2"}),"Registrations"]})]})]})}),u==="tournaments"&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"flex justify-end mb-6",children:o.jsxs("button",{onClick:_,className:"primary-button flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Create Tournament"})]})}),(m||b)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentName",className:"form-label",children:"Tournament Name *"}),o.jsx("input",{id:"tournamentName",type:"text",required:!0,value:y.name,onChange:O=>N({...y,name:O.target.value}),className:"input-field w-full",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentDate",className:"form-label",children:"Tournament Date *"}),o.jsx("input",{id:"tournamentDate",type:"date",required:!0,value:y.tournament_date,onChange:O=>N({...y,tournament_date:O.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentLocation",className:"form-label",children:"Location *"}),o.jsx("input",{id:"tournamentLocation",type:"text",required:!0,value:y.location,onChange:O=>N({...y,location:O.target.value}),className:"input-field w-full",placeholder:"Enter tournament location"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"registrationDeadline",className:"form-label",children:"Registration Deadline *"}),o.jsx("input",{id:"registrationDeadline",type:"date",required:!0,value:y.registration_deadline,onChange:O=>N({...y,registration_deadline:O.target.value}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"maxParticipants",className:"form-label",children:"Max Participants"}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("input",{id:"maxParticipants",type:"number",min:"1",disabled:y.unlimited_participants,value:y.unlimited_participants?"":y.max_participants??"",onChange:O=>N({...y,max_participants:O.target.value===""?void 0:parseInt(O.target.value)}),className:"input-field w-full"})}),o.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[o.jsx("input",{id:"unlimitedParticipants",type:"checkbox",checked:y.unlimited_participants||!1,onChange:O=>N({...y,unlimited_participants:O.target.checked,max_participants:O.target.checked?999999:y.max_participants??void 0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"unlimitedParticipants",className:"text-sm text-gray-700",children:"Unlimited Participants"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"beybladesPerPlayer",className:"form-label",children:"Beyblades per Player"}),o.jsx("input",{id:"beybladesPerPlayer",type:"number",min:"1",max:"5",required:!0,value:y.beyblades_per_player??"",onChange:O=>N({...y,beyblades_per_player:O.target.value===""?void 0:parseInt(O.target.value)}),className:"input-field w-full"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"tournamentType",className:"form-label",children:"Tournament Type"}),o.jsxs("select",{id:"tournamentType",value:y.tournament_type,onChange:O=>N({...y,tournament_type:O.target.value}),className:"select-field w-full",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Tournament Mode"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{id:"practiceMode",type:"checkbox",checked:y.is_practice,onChange:O=>N({...y,is_practice:O.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"practiceMode",className:"text-sm text-gray-700",children:"Practice Tournament"})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Practice tournaments don't contribute to global or personal stats"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"form-label",children:"Entry Fee"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("input",{id:"freeTournament",type:"checkbox",checked:y.is_free,onChange:O=>N({...y,is_free:O.target.checked,entry_fee:O.target.checked?0:y.entry_fee??0}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),o.jsx("label",{htmlFor:"freeTournament",className:"text-sm text-gray-700",children:"Free Tournament"})]}),!y.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:y.entry_fee??"",onChange:O=>N({...y,entry_fee:O.target.value===""?void 0:parseFloat(O.target.value)}),className:"input-field w-full mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"tournamentPassword",className:"form-label",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{id:"tournamentPassword",type:v?"text":"password",required:!0,value:y.password,onChange:O=>N({...y,password:O.target.value}),className:"input-field w-full pr-10",placeholder:"Enter tournament password"}),o.jsx("button",{type:"button",onClick:O=>{O.preventDefault(),x(!v)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600",children:v?o.jsx(Cd,{size:20}):o.jsx(Sn,{size:20})})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"tournamentDescription",className:"form-label",children:"Description"}),o.jsx("textarea",{id:"tournamentDescription",value:y.description,onChange:O=>N({...y,description:O.target.value}),className:"input-field w-full",rows:3,placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{htmlFor:"prizePool",className:"form-label",children:"Prize Pool"}),o.jsx("input",{id:"prizePool",type:"text",value:y.prize_pool,onChange:O=>N({...y,prize_pool:O.target.value}),className:"input-field w-full",placeholder:"e.g., ₱500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{type:"button",onClick:$,className:"secondary-button flex items-center space-x-2",children:[o.jsx(Ft,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{type:"button",onClick:z,className:"primary-button flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save Tournament"})]})]})]}),n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(mt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No tournaments created yet"}),o.jsx("button",{onClick:_,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(O=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:O.name}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium capitalize ${O.status==="upcoming"?"bg-blue-100 text-blue-800":O.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:O.status})]}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>A(O),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:14})}),o.jsx("button",{onClick:()=>L(O.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(An,{size:14})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:14,className:"mr-2"}),new Date(O.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(y2,{size:14,className:"mr-2"}),O.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(ct,{size:14,className:"mr-2"}),O.max_participants===999999?`${O.current_participants} participants (unlimited)`:`${O.current_participants}/${O.max_participants} participants`]}),O.password&&o.jsx("div",{className:"flex items-center text-orange-600",children:o.jsx("span",{className:"text-xs",children:"🔒 Password protected"})}),O.is_practice&&o.jsx("div",{className:"flex items-center text-purple-600",children:o.jsx("span",{className:"text-xs",children:"🎯 Practice Mode"})}),o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:`text-xs ${O.registration_open?"text-green-600":"text-red-600"}`,children:O.registration_open?"✅ Registration Open":"❌ Registration Closed"})})]}),o.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 pt-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-xs font-medium text-gray-600",children:"Status:"}),o.jsxs("select",{value:O.status,onChange:V=>C(O.id,V.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]})]}),o.jsx("button",{onClick:()=>W(O.id,O.registration_open),className:`text-xs px-3 py-1 rounded-full font-medium transition-colors ${O.registration_open?"bg-red-100 text-red-700 hover:bg-red-200":"bg-green-100 text-green-700 hover:bg-green-200"}`,children:O.registration_open?"Close Registration":"Open Registration"})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Created: ",new Date(O.created_at).toLocaleDateString()]})]},O.id))})]}),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"form-label",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:O=>c(O.target.value),className:"select-field max-w-md",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(O=>o.jsx("option",{value:O.id,children:O.name},O.id))]})]}),l&&o.jsx("div",{className:"space-y-4",children:s.length===0?o.jsxs("div",{className:"text-center py-8",children:[o.jsx(ct,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No registrations found for this tournament"})]}):s.map(O=>{var V;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex justify-between items-start mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:O.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-gray-900",children:O.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:new Date(O.registered_at).toLocaleDateString()})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((V=O.payment_mode)==null?void 0:V.replace("_"," "))||"N/A"})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Status:"}),o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ml-1 ${O.status==="confirmed"?"bg-green-100 text-green-800":O.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:O.status})]})]})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("button",{onClick:()=>K(O.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Registration",children:o.jsx(An,{size:16})})})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[O.beyblades.length," registered"]})]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:O.beyblades.length>0?O.beyblades.map((I,k)=>o.jsx("span",{className:"inline-block bg-white px-2 py-1 rounded-full text-xs font-medium text-gray-700 border",children:I.beyblade_name},k)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},O.id)})})]})]})}):o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"🔒"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-gray-600",children:"You need admin or developer permissions to access tournament management."})]})})})}function Kte(){const{user:e}=fr(),{confirm:t,alert:r}=Yi(),[n,i]=g.useState([]),[s,a]=g.useState("all"),[l,c]=g.useState("all"),[u,d]=g.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";Oi.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:x,error:y}=await Q.from("profiles").select("*").order("created_at",{ascending:!1});if(y)throw y;const N=(x||[]).map(j=>({id:j.id,username:j.username,email:j.email||"",role:j.role,joinedDate:j.created_at,status:"active",lastLogin:null}));i(N)}catch(x){console.error("Error fetching profiles:",x)}finally{d(!1)}},m=n.filter(x=>{const y=s==="all"||x.status===s,N=l==="all"||x.role===l;return y&&N}),p=async(x,y)=>{try{const{error:N}=await Q.from("profiles").update(y).eq("id",x);if(N){const j=N.code==="42501"||N.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${N.message}`;await r("Update Failed",j);return}await h()}catch(N){console.error("Error updating user:",N),await r("Update Failed",`Failed to update user: ${N instanceof Error?N.message:"Unknown error"}`)}},b=async x=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:N,error:j}=await Q.rpc("delete_user_completely",{user_id_to_delete:x});if(j){console.error("Delete error:",j),j.code==="42501"||j.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):j.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${j.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(N){console.error("Error deleting user:",N),await r("Delete Failed",`Failed to delete user: ${N instanceof Error?N.message:"Unknown error"}. Please try again.`)}},w=x=>{switch(x){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},v=x=>{switch(x){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:s,onChange:x=>a(x.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(ct,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(As,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(x=>x.role==="admin"||x.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(x=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:x.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:x.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(RL,{size:12,className:"mr-1"}),x.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:x.role,onChange:y=>p(x.id,{role:y.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${v(x.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(zi,{size:12,className:"mr-1"}),new Date(x.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:x.lastLogin?new Date(x.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>b(x.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx(An,{size:16})})]})})})]},x.id))})]})})})]})}function qte(){var T,Y,te;const{user:e}=fr(),{confirm:t,alert:r}=Yi(),[n,i]=g.useState("tournaments"),[s,a]=g.useState(null),[l,c]=g.useState(!1),[u,d]=g.useState([]),[f,h]=g.useState(!1),[m,p]=g.useState(null),[b,w]=g.useState([]),[v,x]=g.useState(null),[y,N]=g.useState({}),[j,S]=g.useState(null),[P,_]=g.useState([]),[A,z]=g.useState(""),[C,W]=g.useState(1),[L]=g.useState(10);Oi.useEffect(()=>{a(null),S(null),x(null),N({}),z(""),W(1)},[n]);const K=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",$=async()=>{try{const[R,X,re,ce]=await Promise.all([Q.from("profiles").select("*",{count:"exact",head:!0}),Q.from("tournaments").select("*",{count:"exact",head:!0}),Q.from("match_results").select("*",{count:"exact",head:!0}),Q.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:R.count||0,icon:o.jsx(ct,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:X.count||0,icon:o.jsx(mt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:re.count||0,icon:o.jsx(zi,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:ce.count||0,icon:o.jsx(BL,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ue}=await Q.from("tournaments").select("id, name").order("name");_(ue||[])}catch(R){console.error("Error fetching table counts:",R)}},O=async(R,X)=>{h(!0),p(null);try{let re=[];if(R==="registrations"&&X){const{data:ce,error:ue}=await Q.from("tournament_registration_details").select("*").eq("tournament_id",X).order("registered_at",{ascending:!1});if(ue)throw ue;const he={};ce==null||ce.forEach(ge=>{var Ae;he[ge.registration_id]||(he[ge.registration_id]={registration_id:ge.registration_id,tournament_id:ge.tournament_id,tournament_name:((Ae=P.find(Qt=>Qt.id===ge.tournament_id))==null?void 0:Ae.name)||"Unknown Tournament",player_name:ge.player_name,payment_mode:ge.payment_mode,registered_at:ge.registered_at,status:ge.status,beyblades:[]}),ge.beyblade_id&&(he[ge.registration_id].beyblades.find(Ar=>Ar.beyblade_id===ge.beyblade_id)||he[ge.registration_id].beyblades.push({beyblade_id:ge.beyblade_id,beyblade_name:ge.beyblade_name,blade_line:ge.blade_line,parts:ge.beyblade_parts||[]}))}),re=Object.values(he)}else if(R==="registrations"&&!X)re=P;else{let ce=R;R==="registrations"?ce="tournament_registrations":R==="users"?ce="profiles":R==="matches"&&(ce="match_results");const{data:ue,error:he}=await Q.from(ce).select("*").order(R==="tournaments"?"tournament_date":R==="matches"?"submitted_at":"created_at",{ascending:!1});if(he)throw console.error(`❌ DATABASE: Error fetching ${R}:`,he),he;re=ue||[]}(R!=="registrations"||X)&&re.sort((ce,ue)=>{const he=Object.values(ce).find(Ae=>typeof Ae=="string")||"",ge=Object.values(ue).find(Ae=>typeof Ae=="string")||"";return he.localeCompare(ge)}),d(re)}catch(re){console.error("Error fetching table data:",re),p(`Failed to load ${R} data. Please try again.`)}finally{h(!1)}},V=async()=>{c(!0),await Promise.all([$(),O(n,s||void 0)]),c(!1)},I=R=>{const X=JSON.stringify(u,null,2),re=new Blob([X],{type:"application/json"}),ce=URL.createObjectURL(re),ue=document.createElement("a");ue.href=ce,ue.download=`${R}_export_${new Date().toISOString().split("T")[0]}.json`,ue.click(),URL.revokeObjectURL(ce)},k=R=>{x(R.id||R.registration_id||R.tournament_id),N({...R})},B=async()=>{if(!(!v||!K))try{let R=n;n==="registrations"?R="tournament_registrations":n==="users"?R="profiles":n==="matches"&&(R="match_results");const{error:X}=await Q.from(R).update(y).eq("id",v);if(X){console.error("Update error:",X),X.code==="42501"||X.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${X.message}`);return}x(null),N({}),await O(n)}catch(R){console.error("Error updating row:",R),await r("Update Failed",`Failed to update record: ${R instanceof Error?R.message:"Unknown error"}. Please try again.`)}},J=async R=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let re=n;n==="registrations"?re="tournament_registrations":n==="users"?re="profiles":n==="matches"&&(re="match_results");const{error:ce}=await Q.from(re).delete().eq("id",R);if(ce){console.error("Delete error:",ce),ce.code==="42501"||ce.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${ce.message}`);return}await Promise.all([$(),O(n,s||void 0)])}catch(re){console.error("Error deleting row:",re),await r("Delete Failed",`Failed to delete record: ${re instanceof Error?re.message:"Unknown error"}. Please try again.`)}},D=R=>{a(R),O("registrations",R)},ee=()=>{a(null),O("registrations")},G=R=>{S(R)};g.useEffect(()=>{$()},[]),g.useEffect(()=>{n==="registrations"&&a(null),O(n)},[n]);const E=u.filter(R=>A?Object.values(R).filter(re=>typeof re=="string").join(" ").toLowerCase().includes(A.toLowerCase()):!0),q=Math.ceil(E.length/L),M=E.slice((C-1)*L,C*L),U=()=>{var R;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&s?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>O(n,s||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Kn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&s?"this tournament":n]})]})}):n==="registrations"&&!s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(mt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(X=>o.jsxs("button",{onClick:()=>D(X.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:X.name}),o.jsx(OL,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:X.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(X.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${X.status==="upcoming"?"bg-blue-100 text-blue-800":X.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:X.status})})]},X.id))})]}):n==="registrations"&&s?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:ee,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(By,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((R=P.find(X=>X.id===s))==null?void 0:R.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(X=>{var re;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:X.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:X.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:X.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(X.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((re=X.payment_mode)==null?void 0:re.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${X.status==="confirmed"?"bg-green-100 text-green-800":X.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:X.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>G(X),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(Sn,{size:16})}),K&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>k(X),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>J(X.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx(An,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[X.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:X.beyblades.length>0?X.beyblades.map((ce,ue)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:ce.beyblade_name},ue)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},X.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Gs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:A,onChange:X=>{z(X.target.value),W(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",M.length," of ",E.length," records"]}),q>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>W(Math.max(1,C-1)),disabled:C===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",C," of ",q]}),o.jsx("button",{onClick:()=>W(Math.min(q,C+1)),disabled:C===q,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[M.length>0&&M[0]&&Object.keys(M[0]).map(X=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:X.replace(/_/g," ")},X)),K&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:M.map((X,re)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(X).map(([ce,ue],he)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:v===(X.id||X.registration_id||X.tournament_id)&&K?o.jsx("input",{type:"text",value:y[ce]||"",onChange:ge=>N({...y,[ce]:ge.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ue=="object"&&ue!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ue).length>50?JSON.stringify(ue).substring(0,50)+"...":JSON.stringify(ue)}):ue instanceof Date?ue.toLocaleString():o.jsx("span",{className:ce.includes("email")?"font-mono text-blue-600":"",children:String(ue||"")})})},he)),K&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:v===(X.id||X.registration_id||X.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:B,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(qf,{size:16})}),o.jsx("button",{onClick:()=>{x(null),N({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(Ft,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>k(X),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>J(X.id||X.registration_id||X.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx(An,{size:16})})]})})})]},X.id||re))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Kn,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:V,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(IL,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>I(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(EL,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Kn,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:b.map(R=>o.jsxs("button",{onClick:()=>i(R.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===R.name?"bg-gradient-to-r "+R.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===R.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:Oi.cloneElement(R.icon,{className:n===R.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===R.name?"text-white":"text-gray-900"}`,children:R.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===R.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:R.records})]}),o.jsx("p",{className:`text-xs ${n===R.name?"text-white/80":"text-gray-600"}`,children:R.description})]},R.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(Nn,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:b.reduce((R,X)=>R+X.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:b.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((T=b.find(R=>R.name===n))==null?void 0:T.icon)&&Oi.cloneElement(b.find(R=>R.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&s?`${((Y=P.find(R=>R.id===s))==null?void 0:Y.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(te=b.find(R=>R.name===n))==null?void 0:te.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!s?`${P.length} tournaments`:`${E.length} records`})})]})}),U()]})})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:j.player_name})]}),o.jsx("button",{onClick:()=>S(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ft,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:j.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:j.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:j.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${j.status==="confirmed"?"bg-green-100 text-green-800":j.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(zi,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(j.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(mt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.beyblades.length," Beyblades"]})]}),j.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(mt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.beyblades.map((R,X)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:R.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[R.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:X+1})})]}),R.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:R.parts.map((re,ce)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:re.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:re.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:ce+1})})]},ce))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},R.beyblade_id))})]})]})]})})]})})}function Hte({showHeader:e=!0}){const{user:t}=fr(),{confirm:r,alert:n}=Yi();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[i,s]=g.useState([]),[a,l]=g.useState([]),[c,u]=g.useState(!0),[d,f]=g.useState(!1),[h,m]=g.useState(null),[p,b]=g.useState(!0),[w,v]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[x,y]=g.useState(""),[N,j]=g.useState(""),[S,P]=g.useState(3),[_,A]=g.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);g.useEffect(()=>{z(),p&&W(),C()},[t]);const z=async()=>{try{const{data:M,error:U}=await Q.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(U)throw U;s(M||[])}catch(M){console.error("Error fetching presets:",M)}finally{u(!1)}};g.useEffect(()=>{p||C()},[p]);const C=async()=>{try{const[M,U,T,Y,te]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);v({blades:M.data||[],ratchets:U.data||[],bits:T.data||[],lockchips:Y.data||[],assistBlades:te.data||[]})}catch(M){console.error("Error fetching parts data:",M)}},W=async()=>{try{const{data:M,error:U}=await Q.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(U)throw U;l(M||[])}catch(M){console.error("Error fetching inventory:",M)}},L=M=>{switch(M){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},K=M=>{if(!p)switch(M==="Main Blade"?"Blade":M){case"Blade":return w.blades.map(T=>({id:`db-${T.Blades}`,part_type:"Blade",part_name:T.Blades,part_data:T,quantity:999}));case"Ratchet":return w.ratchets.map(T=>({id:`db-${T.Ratchet}`,part_type:"Ratchet",part_name:T.Ratchet,part_data:T,quantity:999}));case"Bit":return w.bits.map(T=>({id:`db-${T.Bit}`,part_type:"Bit",part_name:`${T.Bit} (${T.Shortcut})`,part_data:T,quantity:999}));case"Lockchip":return w.lockchips.map(T=>({id:`db-${T.Lockchip}`,part_type:"Lockchip",part_name:T.Lockchip,part_data:T,quantity:999}));case"Assist Blade":return w.assistBlades.map(T=>({id:`db-${T["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${T["Assist Blade Name"]} (${T["Assist Blade"]})`,part_data:T,quantity:999}));default:return[]}return M==="Blade"||M==="Main Blade"?a.filter(T=>T.part_type.startsWith("Blade (")&&T.part_type===`Blade (${M==="Main Blade"?"Custom":"Basic"})`):a.filter(T=>T.part_type===M)},$=(M,U)=>{var te,R,X,re,ce,ue,he,ge;if(!M||!L(M).every(Ae=>U[Ae]))return"";if(M==="Custom"){const Ae=((te=U.Lockchip)==null?void 0:te.Lockchip)||"",Qt=((R=U["Main Blade"])==null?void 0:R.Blades)||"",Ar=((X=U["Assist Blade"])==null?void 0:X["Assist Blade"])||"",Uo=((re=U.Ratchet)==null?void 0:re.Ratchet)||"",em=((ce=U.Bit)==null?void 0:ce.Shortcut)||"";return`${Ae}${Qt} ${Ar}${Uo}${em}`}else{const Ae=((ue=U.Blade)==null?void 0:ue.Blades)||"",Qt=((he=U.Ratchet)==null?void 0:he.Ratchet)||"",Ar=((ge=U.Bit)==null?void 0:ge.Shortcut)||"";return`${Ae} ${Qt}${Ar}`}},O=M=>{let U={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values(M).forEach(T=>{T&&(U.attack+=T.Attack||0,U.defense+=T.Defense||0,U.stamina+=T.Stamina||0,U.dash+=T.Dash||0,U.burstRes+=T["Burst Res"]||0)}),U},V=()=>{f(!0),y(""),j(""),P(3),A([{id:"1",name:"",blade_line:"Basic",parts:{}}])},I=M=>{m(M.id),y(M.name),j(M.description||""),P(M.beyblades.length),A(M.beyblades)},k=()=>{_.length<S&&A([..._,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},B=M=>{_.length>1&&A(_.filter(U=>U.id!==M))},J=(M,U,T)=>{A(_.map(Y=>{if(Y.id===M){const te={...Y,[U]:T,parts:{}};return te.name=$(T,{}),te}return Y}))},D=(M,U,T)=>{A(_.map(Y=>{if(Y.id===M){const te={...Y.parts,[U]:T},R=$(Y.blade_line,te);return{...Y,parts:te,name:R}}return Y}))},ee=async()=>{if(!x.trim()){await n("Missing Information","Please enter a deck name.");return}const M=_.filter(U=>{const T=L(U.blade_line);return U.blade_line&&T.every(Y=>U.parts[Y])});if(M.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const U={user_id:t.id,name:x.trim(),description:N.trim()||null,beyblades:M};if(d){const{error:T}=await Q.from("deck_presets").insert([U]);if(T)throw T}else if(h){const{error:T}=await Q.from("deck_presets").update({...U,updated_at:new Date().toISOString()}).eq("id",h);if(T)throw T}await z(),E(),await n("Success","Deck preset saved successfully!")}catch(U){console.error("Error saving preset:",U),await n("Error","Failed to save deck preset. Please try again.")}},G=async M=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:T}=await Q.from("deck_presets").delete().eq("id",M);if(T)throw T;await z()}catch(T){console.error("Error deleting preset:",T),await n("Error","Failed to delete deck preset. Please try again.")}},E=()=>{f(!1),m(null),y(""),j(""),P(3),A([{id:"1",name:"",blade_line:"Basic",parts:{}}])},q=M=>{switch(M){case"attack":return o.jsx(Oc,{size:12,className:"text-red-500"});case"defense":return o.jsx(As,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(Fy,{size:12,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(zy,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>b(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>b(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>b(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>b(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:V,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:x,onChange:M=>y(M.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:N,onChange:M=>j(M.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:_.map((M,U)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",U+1]}),_.length>1&&o.jsx("button",{onClick:()=>B(M.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx(An,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:M.blade_line,onChange:T=>J(M.id,"blade_line",T.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:M.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:L(M.blade_line).map(T=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:T}),o.jsxs("select",{value:M.parts[T]?JSON.stringify(M.parts[T]):"",onChange:Y=>{if(Y.target.value){const te=JSON.parse(Y.target.value);D(M.id,T,te)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",T]}),K(T).filter(Y=>{var te;return!p&&(T==="Blade"||T==="Main Blade")&&((te=Y.part_data)!=null&&te.Line)?Y.part_data.Line===(T==="Main Blade"?"Custom":M.blade_line):!0}).map(Y=>o.jsxs("option",{value:JSON.stringify(Y.part_data),children:[Y.part_name," ",p?`(Qty: ${Y.quantity})`:""]},Y.id))]})]},T))}),Object.keys(M.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(Xa,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(O(M.parts)).map(([T,Y])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:q(T)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:T==="burstRes"?"Burst Res":T}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:Y})]},T))})]})]},M.id))}),_.length<5&&o.jsxs("button",{onClick:k,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",_.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:E,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Ft,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:ee,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),i.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(La,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:V,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(M=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:M.name}),M.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:M.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>I(M),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>G(M.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(An,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:M.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[M.beyblades.slice(0,3).map((U,T)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:U.name||`Beyblade ${T+1}`},T)),M.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",M.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date(M.updated_at).toLocaleDateString()]})]},M.id))})]})}function Gte(){const{user:e}=fr(),{confirm:t,alert:r}=Yi(),[n,i]=g.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(ml,{size:64,className:"text-gray-400"}),o.jsx(La,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[s,a]=g.useState([]),[l,c]=g.useState(!0),[u,d]=g.useState(!1),[f,h]=g.useState(null),[m,p]=g.useState(""),[b,w]=g.useState("all"),[v,x]=g.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[y,N]=g.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});g.useEffect(()=>{j(),S()},[e]);const j=async()=>{try{const{data:$,error:O}=await Q.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(O)throw O;a($||[])}catch($){console.error("Error fetching inventory:",$)}finally{c(!1)}},S=async()=>{try{const[$,O,V,I,k]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]);N({blades:$.data||[],ratchets:O.data||[],bits:V.data||[],lockchips:I.data||[],assistBlades:k.data||[]})}catch($){console.error("Error fetching parts data:",$)}},P=$=>{let O=[];if($.startsWith("Blade (")){const V=$.replace("Blade (","").replace(")","");O=y.blades.filter(I=>I.Line===V)}else $==="Ratchet"?O=y.ratchets:$==="Bit"?O=y.bits:$==="Lockchip"?O=y.lockchips:$==="Assist Blade"&&(O=y.assistBlades);return $==="Blade"?O=y.blades.filter(V=>V.Line!=="Custom"):$==="Blade (Custom)"?O=y.blades.filter(V=>V.Line==="Custom"):$==="Ratchet"?O=y.ratchets:$==="Bit"?O=y.bits:$==="Lockchip"?O=y.lockchips:$==="Assist Blade"&&(O=y.assistBlades),O},_=($,O)=>{if(O.startsWith("Blade ("))return $.Blades;switch(O){case"Ratchet":return $.Ratchet;case"Bit":return`${$.Bit} (${$.Shortcut})`;case"Lockchip":return $.Lockchip;case"Assist Blade":return`${$["Assist Blade Name"]} (${$["Assist Blade"]})`;default:return""}},A=()=>{d(!0),x({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},z=$=>{h($.id),x({part_type:$.part_type,part_name:$.part_name,part_data:$.part_data,quantity:$.quantity,notes:$.notes||""})},C=async()=>{if(!v.part_name||!v.part_data){await r("Missing Information","Please select a part before saving.");return}try{const $={user_id:e.id,part_type:v.part_type,part_name:v.part_name,part_data:v.part_data,quantity:v.quantity,notes:v.notes||null};if(u){const{error:O}=await Q.from("user_inventory").insert([$]);if(O)throw O}else if(f){const{error:O}=await Q.from("user_inventory").update($).eq("id",f);if(O)throw O}await j()}catch($){console.error("Error saving inventory item:",$),await r("Error","Failed to save inventory item. Please try again.")}},W=async $=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:V}=await Q.from("user_inventory").delete().eq("id",$);if(V)throw V;await j()}catch(V){console.error("Error deleting inventory item:",V),await r("Error","Failed to delete inventory item. Please try again.")}},L=()=>{d(!1),h(null),x({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},K=s.filter($=>{var I;const O=$.part_name.toLowerCase().includes(m.toLowerCase())||$.notes&&$.notes.toLowerCase().includes(m.toLowerCase());let V=!1;if(b==="all")V=!0;else if(b.startsWith("Blade (")){const k=b.replace("Blade (","").replace(")","");V=$.part_type==="Blade"&&((I=$.part_data)==null?void 0:I.Line)===k}else V=$.part_type===b;return O&&V});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ml,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(Hte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>i("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ml,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>i("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(La,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:A,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(Os,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Gs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:$=>p($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(CL,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:b,onChange:$=>w($.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:v.part_type,onChange:$=>x({...v,part_type:$.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:v.part_data?JSON.stringify(v.part_data):"",onChange:$=>{if($.target.value){const O=JSON.parse($.target.value);x({...v,part_name:_(O,v.part_type),part_data:O})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),P(v.part_type).map(($,O)=>o.jsx("option",{value:JSON.stringify($),children:_($,v.part_type)},O))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:v.quantity,onChange:$=>x({...v,quantity:parseInt($.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:v.notes,onChange:$=>x({...v,notes:$.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:L,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Ft,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:C,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(qf,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),K.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ml,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:s.length===0?"No parts in your inventory yet":"No parts match your search"}),s.length===0&&o.jsx("button",{onClick:A,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:K.map($=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:$.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>z($),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx(Ja,{size:16})}),o.jsx("button",{onClick:()=>W($.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx(An,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:$.quantity})]}),$.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:$.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date($.created_at).toLocaleDateString()]})]}),$.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries($.part_data).map(([O,V])=>typeof V=="number"&&V>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(O)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[O,":"]}),o.jsx("span",{className:"font-medium",children:V})]},O):null)})})]},$.id))})]})}function Yte(){const[e,t]=g.useState([]),[r,n]=g.useState(!0),[i,s]=g.useState(""),[a,l]=g.useState("name"),[c,u]=g.useState("asc"),[d,f]=g.useState("grid"),[h,m]=g.useState(null),[p,b]=g.useState("lockchips"),[w,v]=g.useState(""),[x,y]=g.useState(""),N=["lockchips","blades (custom)","blades","ratchets","bits"];g.useEffect(()=>{j()},[]);const j=async()=>{n(!0);try{const[L,K,$,O,V]=await Promise.all([Q.from("beypart_blade").select("*"),Q.from("beypart_ratchet").select("*"),Q.from("beypart_bit").select("*"),Q.from("beypart_lockchip").select("*"),Q.from("beypart_assistblade").select("*")]),I=[];(L.data||[]).forEach(k=>{I.push({id:`blade-${k.Blades}`,name:k.Blades,category:"Blade",role:k.Type,line:k.Line,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(K.data||[]).forEach(k=>{I.push({id:`ratchet-${k.Ratchet}`,name:k.Ratchet,category:"Ratchet",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),($.data||[]).forEach(k=>{I.push({id:`bit-${k.Bit}`,name:`${k.Bit} (${k.Shortcut})`,category:"Bit",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:k.Dash||0,burstRes:k["Burst Res"]||0},data:k})}),(O.data||[]).forEach(k=>{I.push({id:`lockchip-${k.Lockchip}`,name:k.Lockchip,category:"Lockchip",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),(V.data||[]).forEach(k=>{I.push({id:`assistblade-${k["Assist Blade"]}`,name:`${k["Assist Blade Name"]} (${k["Assist Blade"]})`,category:"Assist Blade",role:k.Type,stats:{attack:k.Attack||0,defense:k.Defense||0,stamina:k.Stamina||0,dash:0,burstRes:0},data:k})}),t(I)}catch(L){console.error("Error fetching parts:",L)}finally{n(!1)}},S=L=>{switch(L){case"attack":return o.jsx(Oc,{size:16,className:"text-red-500"});case"defense":return o.jsx(As,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(Fy,{size:16,className:"text-green-500"});case"dash":return o.jsx(Xa,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(zy,{size:16,className:"text-purple-500"});default:return null}},A=e.filter(L=>L.name.toLowerCase().includes(i.toLowerCase())).sort((L,K)=>{let $,O;return a==="name"?($=L.name,O=K.name):a==="role"?($=L.role||"",O=K.role||""):($=L.stats[a],O=K.stats[a]),typeof $=="string"&&typeof O=="string"?c==="asc"?$.localeCompare(O):O.localeCompare($):c==="asc"?$-O:O-$}).filter(L=>{var K,$,O;return p==="blades (custom)"?L.category==="Blade"&&((K=L.line)==null?void 0:K.toLowerCase())==="custom":p==="blades"?x?L.category==="Blade"&&((O=L.line)==null?void 0:O.toLowerCase())===x.toLowerCase():L.category==="Blade"&&["basic","unique","x-over"].includes((($=L.line)==null?void 0:$.toLowerCase())||""):p==="lockchips"?L.category==="Lockchip":p==="ratchets"?L.category==="Ratchet":p==="bits"?L.category==="Bit":!0}).filter(L=>w?(L.role||"").toLowerCase()===w:!0),z={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},C=L=>{switch(L){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},W=L=>{const K=z[L.category]||"",$=C(L.category),O=encodeURIComponent(L.data[$]),V=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${K}/${O}.png`;return o.jsxs("div",{onClick:()=>m(L),className:"cursor-pointer bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition",children:[o.jsx("div",{className:"w-full aspect-square bg-gray-100 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:V,alt:L.name,width:128,height:128,loading:"lazy",onError:I=>{const k=I.target,B=document.createElement("div");B.textContent="Picture Not Available",B.className="text-gray-400 text-xs text-center",k.replaceWith(B)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words",children:L.name}),L.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:L.role})]}),L.line&&o.jsx("p",{className:"text-xs text-gray-500 mt-1 truncate",children:L.line})]},L.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"page-title flex items-center",children:"Parts Database"}),o.jsx("p",{className:"page-subtitle",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(TL,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(DL,{size:20})})]})]})}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx(Gs,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:i,onChange:L=>s(L.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:L=>v(L.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-2 border-b overflow-x-auto",children:N.map(L=>o.jsx("button",{className:`px-4 py-2 text-sm font-medium capitalize ${p===L?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"}`,onClick:()=>b(L),children:L},L))}),p==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:x,onChange:L=>y(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),A.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Kn,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-gray-500",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:A.map(W)}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(p==="bits"?["dash","burstRes"]:[]).map(L=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-gray-500 uppercase cursor-pointer hover:text-blue-600 ${L==="name"?"text-left":"text-center"}`,onClick:()=>{l(L),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:L}),o.jsx("span",{className:"w-4 inline-block",children:a===L&&(c==="asc"?"▲":"▼")})]})},L)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:A.map(L=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words",children:L.name}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.stamina}),p==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center",children:L.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m(L),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",children:"View"})})]},L.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ft,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([L])=>h.category==="Bit"?!0:!["dash","burstRes"].includes(L)).map(([L,K])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:S(L)}),o.jsx("div",{className:"text-sm font-medium capitalize",children:L}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:K})]},L))})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${z[h.category]}/${encodeURIComponent(h.data[C(h.category)])}.png`,alt:h.name,onError:L=>{const K=L.target,$=document.createElement("div");$.textContent="Picture Not Available",$.className="text-gray-400 text-sm text-center",K.replaceWith($)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-gray-50 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-gray-600",children:"Coming Soon"})]})]})]})})]})})}function Xte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(ct,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Build your team and compete together"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(ct,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Compete not just as players, but as teams. The Team Manager will bring team-based tournaments, performance analytics, and name tag customization so every blader can proudly represent their squad."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(As,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and battle in team vs team competitions"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Nn,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Analytics"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Track your team’s performance and stats"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(FL,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Name Tags"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Show off your team name on your profile"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team vs team tournaments"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Name tag integration for players"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Team play is coming soon — get ready to represent your squad!"})]})})]})})}function Jte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(c1,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Give every community its own space to grow and connect"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(c1,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, the Community Manager will let any Beyblade community build their own hub within the app — not just Ormoc. Each community will be able to host tournaments, track stats, and celebrate milestones while staying connected to the larger network. Perfect for growing local groups and strengthening bonds between bladers everywhere."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ct,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Local Hubs"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Communities can set up their own space in the app"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(zi,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Tournaments"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Run and track events within each community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(x2,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Spotlight achievements and community milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(kc,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Stats"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track growth, matches, and engagement"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Create and manage your own community hub"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community-specific tournaments and leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Local community stats and growth analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Recognition for members and organizers"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Tools to welcome and onboard new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"This feature is in active development."})]})})]})})}function Qte(){const[e,t]=g.useState("dashboard"),[r,n]=g.useState(!1),i=()=>{n(!r)},s=()=>{switch(e){case"dashboard":return o.jsx(Tj,{onViewChange:t});case"tournaments":return o.jsx(QF,{});case"inventory":return o.jsx(Gte,{});case"analytics":return o.jsx(Ute,{});case"parts-database":return o.jsx(Yte,{});case"team-manager":return o.jsx(Xte,{});case"community-manager":return o.jsx(Jte,{});case"match-tracker":return o.jsx(Wte,{});case"tournament-manager":return o.jsx(Vte,{});case"user-management":return o.jsx(Kte,{});case"database":return o.jsx(qte,{});default:return o.jsx(Tj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:i,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx($L,{size:24})}),o.jsx(VL,{isOpen:r,currentView:e,onViewChange:t,onToggle:i}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:s()})})]})}function Zte(){return o.jsx(NL,{children:o.jsx(SL,{children:o.jsx(Qte,{})})})}zk(document.getElementById("root")).render(o.jsx(g.StrictMode,{children:o.jsx(Zte,{})}));
