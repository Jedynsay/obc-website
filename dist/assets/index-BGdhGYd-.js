var Z4=Object.defineProperty;var eM=(e,t,r)=>t in e?Z4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Rh=(e,t,r)=>eM(e,typeof t!="symbol"?t+"":t,r);function tM(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rM(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var sS={exports:{}},sf={},iS={exports:{}},he={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rc=Symbol.for("react.element"),nM=Symbol.for("react.portal"),sM=Symbol.for("react.fragment"),iM=Symbol.for("react.strict_mode"),aM=Symbol.for("react.profiler"),oM=Symbol.for("react.provider"),lM=Symbol.for("react.context"),cM=Symbol.for("react.forward_ref"),uM=Symbol.for("react.suspense"),dM=Symbol.for("react.memo"),fM=Symbol.for("react.lazy"),db=Symbol.iterator;function hM(e){return e===null||typeof e!="object"?null:(e=db&&e[db]||e["@@iterator"],typeof e=="function"?e:null)}var aS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oS=Object.assign,lS={};function eo(e,t,r){this.props=e,this.context=t,this.refs=lS,this.updater=r||aS}eo.prototype.isReactComponent={};eo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};eo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cS(){}cS.prototype=eo.prototype;function jg(e,t,r){this.props=e,this.context=t,this.refs=lS,this.updater=r||aS}var _g=jg.prototype=new cS;_g.constructor=jg;oS(_g,eo.prototype);_g.isPureReactComponent=!0;var fb=Array.isArray,uS=Object.prototype.hasOwnProperty,Ng={current:null},dS={key:!0,ref:!0,__self:!0,__source:!0};function fS(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)uS.call(t,n)&&!dS.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:rc,type:e,key:i,ref:a,props:s,_owner:Ng.current}}function mM(e,t){return{$$typeof:rc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Sg(e){return typeof e=="object"&&e!==null&&e.$$typeof===rc}function pM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var hb=/\/+/g;function $h(e,t){return typeof e=="object"&&e!==null&&e.key!=null?pM(""+e.key):t.toString(36)}function ju(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case rc:case nM:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+$h(a,0):n,fb(s)?(r="",e!=null&&(r=e.replace(hb,"$&/")+"/"),ju(s,t,r,"",function(u){return u})):s!=null&&(Sg(s)&&(s=mM(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(hb,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",fb(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+$h(i,l);a+=ju(i,t,r,c,s)}else if(c=hM(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+$h(i,l++),a+=ju(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function $c(e,t,r){if(e==null)return e;var n=[],s=0;return ju(e,n,"","",function(i){return t.call(r,i,s++)}),n}function gM(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},_u={transition:null},yM={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:_u,ReactCurrentOwner:Ng};function hS(){throw Error("act(...) is not supported in production builds of React.")}he.Children={map:$c,forEach:function(e,t,r){$c(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return $c(e,function(){t++}),t},toArray:function(e){return $c(e,function(t){return t})||[]},only:function(e){if(!Sg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};he.Component=eo;he.Fragment=sM;he.Profiler=aM;he.PureComponent=jg;he.StrictMode=iM;he.Suspense=uM;he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;he.act=hS;he.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=oS({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Ng.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)uS.call(t,c)&&!dS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:rc,type:e.type,key:s,ref:i,props:n,_owner:a}};he.createContext=function(e){return e={$$typeof:lM,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:oM,_context:e},e.Consumer=e};he.createElement=fS;he.createFactory=function(e){var t=fS.bind(null,e);return t.type=e,t};he.createRef=function(){return{current:null}};he.forwardRef=function(e){return{$$typeof:cM,render:e}};he.isValidElement=Sg;he.lazy=function(e){return{$$typeof:fM,_payload:{_status:-1,_result:e},_init:gM}};he.memo=function(e,t){return{$$typeof:dM,type:e,compare:t===void 0?null:t}};he.startTransition=function(e){var t=_u.transition;_u.transition={};try{e()}finally{_u.transition=t}};he.unstable_act=hS;he.useCallback=function(e,t){return Bt.current.useCallback(e,t)};he.useContext=function(e){return Bt.current.useContext(e)};he.useDebugValue=function(){};he.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};he.useEffect=function(e,t){return Bt.current.useEffect(e,t)};he.useId=function(){return Bt.current.useId()};he.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};he.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};he.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};he.useMemo=function(e,t){return Bt.current.useMemo(e,t)};he.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};he.useRef=function(e){return Bt.current.useRef(e)};he.useState=function(e){return Bt.current.useState(e)};he.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};he.useTransition=function(){return Bt.current.useTransition()};he.version="18.3.1";iS.exports=he;var y=iS.exports;const ms=Mr(y),vM=tM({__proto__:null,default:ms},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xM=y,bM=Symbol.for("react.element"),wM=Symbol.for("react.fragment"),jM=Object.prototype.hasOwnProperty,_M=xM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NM={key:!0,ref:!0,__self:!0,__source:!0};function mS(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)jM.call(t,n)&&!NM.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:bM,type:e,key:i,ref:a,props:s,_owner:_M.current}}sf.Fragment=wM;sf.jsx=mS;sf.jsxs=mS;sS.exports=sf;var o=sS.exports,pS={exports:{}},mr={},gS={exports:{}},yS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,S){var L=A.length;A.push(S);e:for(;0<L;){var V=L-1>>>1,R=A[V];if(0<s(R,S))A[V]=S,A[L]=R,L=V;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var S=A[0],L=A.pop();if(L!==S){A[0]=L;e:for(var V=0,R=A.length,X=R>>>1;V<X;){var ce=2*(V+1)-1,J=A[ce],ae=ce+1,$=A[ae];if(0>s(J,L))ae<R&&0>s($,J)?(A[V]=$,A[ae]=L,V=ae):(A[V]=J,A[ce]=L,V=ce);else if(ae<R&&0>s($,L))A[V]=$,A[ae]=L,V=ae;else break e}}return S}function s(A,S){var L=A.sortIndex-S.sortIndex;return L!==0?L:A.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(A){for(var S=r(u);S!==null;){if(S.callback===null)n(u);else if(S.startTime<=A)n(u),S.sortIndex=S.expirationTime,t(c,S);else break;S=r(u)}}function _(A){if(x=!1,b(A),!p)if(r(c)!==null)p=!0,K(j);else{var S=r(u);S!==null&&F(_,S.startTime-A)}}function j(A,S){p=!1,x&&(x=!1,g(P),P=-1),m=!0;var L=h;try{for(b(S),f=r(c);f!==null&&(!(f.expirationTime>S)||A&&!O());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var R=V(f.expirationTime<=S);S=e.unstable_now(),typeof R=="function"?f.callback=R:f===r(c)&&n(c),b(S)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var ce=r(u);ce!==null&&F(_,ce.startTime-S),X=!1}return X}finally{f=null,h=L,m=!1}}var N=!1,k=null,P=-1,E=5,T=-1;function O(){return!(e.unstable_now()-T<E)}function U(){if(k!==null){var A=e.unstable_now();T=A;var S=!0;try{S=k(!0,A)}finally{S?I():(N=!1,k=null)}}else N=!1}var I;if(typeof v=="function")I=function(){v(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,B=H.port2;H.port1.onmessage=U,I=function(){B.postMessage(null)}}else I=function(){w(U,0)};function K(A){k=A,N||(N=!0,I())}function F(A,S){P=w(function(){A(e.unstable_now())},S)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,K(j))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(A){switch(h){case 1:case 2:case 3:var S=3;break;default:S=h}var L=h;h=S;try{return A()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,S){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var L=h;h=A;try{return S()}finally{h=L}},e.unstable_scheduleCallback=function(A,S,L){var V=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?V+L:V):L=V,A){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=L+R,A={id:d++,callback:S,priorityLevel:A,startTime:L,expirationTime:R,sortIndex:-1},L>V?(A.sortIndex=L,t(u,A),r(c)===null&&A===r(u)&&(x?(g(P),P=-1):x=!0,F(_,L-V))):(A.sortIndex=R,t(c,A),p||m||(p=!0,K(j))),A},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(A){var S=h;return function(){var L=h;h=S;try{return A.apply(this,arguments)}finally{h=L}}}})(yS);gS.exports=yS;var SM=gS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PM=y,cr=SM;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vS=new Set,wl={};function Oi(e,t){ka(e,t),ka(e+"Capture",t)}function ka(e,t){for(wl[e]=t,e=0;e<t.length;e++)vS.add(t[e])}var Tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,kM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mb={},pb={};function AM(e){return sp.call(pb,e)?!0:sp.call(mb,e)?!1:kM.test(e)?pb[e]=!0:(mb[e]=!0,!1)}function EM(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function OM(e,t,r,n){if(t===null||typeof t>"u"||EM(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ft(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new Ft(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new Ft(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new Ft(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new Ft(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new Ft(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new Ft(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new Ft(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new Ft(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new Ft(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pg=/[\-:]([a-z])/g;function kg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pg,kg);xt[t]=new Ft(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pg,kg);xt[t]=new Ft(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pg,kg);xt[t]=new Ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new Ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new Ft(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ag(e,t,r,n){var s=xt.hasOwnProperty(t)?xt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(OM(t,r,s,n)&&(r=null),n||s===null?AM(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Kn=PM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lc=Symbol.for("react.element"),Gi=Symbol.for("react.portal"),Yi=Symbol.for("react.fragment"),Eg=Symbol.for("react.strict_mode"),ip=Symbol.for("react.profiler"),xS=Symbol.for("react.provider"),bS=Symbol.for("react.context"),Og=Symbol.for("react.forward_ref"),ap=Symbol.for("react.suspense"),op=Symbol.for("react.suspense_list"),Cg=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),wS=Symbol.for("react.offscreen"),gb=Symbol.iterator;function ko(e){return e===null||typeof e!="object"?null:(e=gb&&e[gb]||e["@@iterator"],typeof e=="function"?e:null)}var Fe=Object.assign,Lh;function qo(e){if(Lh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Lh=t&&t[1]||""}return`
`+Lh+e}var Ih=!1;function Bh(e,t){if(!e||Ih)return"";Ih=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,l=i.length-1;1<=a&&0<=l&&s[a]!==i[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==i[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==i[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{Ih=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?qo(e):""}function CM(e){switch(e.tag){case 5:return qo(e.type);case 16:return qo("Lazy");case 13:return qo("Suspense");case 19:return qo("SuspenseList");case 0:case 2:case 15:return e=Bh(e.type,!1),e;case 11:return e=Bh(e.type.render,!1),e;case 1:return e=Bh(e.type,!0),e;default:return""}}function lp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Yi:return"Fragment";case Gi:return"Portal";case ip:return"Profiler";case Eg:return"StrictMode";case ap:return"Suspense";case op:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case bS:return(e.displayName||"Context")+".Consumer";case xS:return(e._context.displayName||"Context")+".Provider";case Og:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Cg:return t=e.displayName||null,t!==null?t:lp(e.type)||"Memo";case ss:t=e._payload,e=e._init;try{return lp(e(t))}catch{}}return null}function TM(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return lp(t);case 8:return t===Eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ps(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MM(e){var t=jS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ic(e){e._valueTracker||(e._valueTracker=MM(e))}function _S(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=jS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function zu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function cp(e,t){var r=t.checked;return Fe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function yb(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ps(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function NS(e,t){t=t.checked,t!=null&&Ag(e,"checked",t,!1)}function up(e,t){NS(e,t);var r=Ps(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?dp(e,t.type,r):t.hasOwnProperty("defaultValue")&&dp(e,t.type,Ps(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function vb(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function dp(e,t,r){(t!=="number"||zu(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ho=Array.isArray;function ga(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ps(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Fe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xb(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(Ho(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ps(r)}}function SS(e,t){var r=Ps(t.value),n=Ps(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function bb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function PS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?PS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Bc,kS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Bc=Bc||document.createElement("div"),Bc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Bc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function jl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var tl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DM=["Webkit","ms","Moz","O"];Object.keys(tl).forEach(function(e){DM.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tl[t]=tl[e]})});function AS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||tl.hasOwnProperty(e)&&tl[e]?(""+t).trim():t+"px"}function ES(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=AS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var RM=Fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function mp(e,t){if(t){if(RM[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function pp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gp=null;function Tg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yp=null,ya=null,va=null;function wb(e){if(e=ic(e)){if(typeof yp!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=uf(t),yp(e.stateNode,e.type,t))}}function OS(e){ya?va?va.push(e):va=[e]:ya=e}function CS(){if(ya){var e=ya,t=va;if(va=ya=null,wb(e),t)for(e=0;e<t.length;e++)wb(t[e])}}function TS(e,t){return e(t)}function MS(){}var Fh=!1;function DS(e,t,r){if(Fh)return e(t,r);Fh=!0;try{return TS(e,t,r)}finally{Fh=!1,(ya!==null||va!==null)&&(MS(),CS())}}function _l(e,t){var r=e.stateNode;if(r===null)return null;var n=uf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var vp=!1;if(Tn)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){vp=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{vp=!1}function $M(e,t,r,n,s,i,a,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var rl=!1,Uu=null,Wu=!1,xp=null,LM={onError:function(e){rl=!0,Uu=e}};function IM(e,t,r,n,s,i,a,l,c){rl=!1,Uu=null,$M.apply(LM,arguments)}function BM(e,t,r,n,s,i,a,l,c){if(IM.apply(this,arguments),rl){if(rl){var u=Uu;rl=!1,Uu=null}else throw Error(Z(198));Wu||(Wu=!0,xp=u)}}function Ci(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function RS(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jb(e){if(Ci(e)!==e)throw Error(Z(188))}function FM(e){var t=e.alternate;if(!t){if(t=Ci(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return jb(s),e;if(i===n)return jb(s),t;i=i.sibling}throw Error(Z(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a){for(l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function $S(e){return e=FM(e),e!==null?LS(e):null}function LS(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=LS(e);if(t!==null)return t;e=e.sibling}return null}var IS=cr.unstable_scheduleCallback,_b=cr.unstable_cancelCallback,zM=cr.unstable_shouldYield,UM=cr.unstable_requestPaint,Ye=cr.unstable_now,WM=cr.unstable_getCurrentPriorityLevel,Mg=cr.unstable_ImmediatePriority,BS=cr.unstable_UserBlockingPriority,Vu=cr.unstable_NormalPriority,VM=cr.unstable_LowPriority,FS=cr.unstable_IdlePriority,af=null,an=null;function KM(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(af,e,void 0,(e.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:GM,qM=Math.log,HM=Math.LN2;function GM(e){return e>>>=0,e===0?32:31-(qM(e)/HM|0)|0}var Fc=64,zc=4194304;function Go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ku(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~s;l!==0?n=Go(l):(i&=a,i!==0&&(n=Go(i)))}else a=r&~s,a!==0?n=Go(a):i!==0&&(n=Go(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Hr(t),s=1<<r,n|=e[r],t&=~s;return n}function YM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XM(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-Hr(i),l=1<<a,c=s[a];c===-1?(!(l&r)||l&n)&&(s[a]=YM(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function bp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zS(){var e=Fc;return Fc<<=1,!(Fc&4194240)&&(Fc=64),e}function zh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function nc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Hr(t),e[t]=r}function JM(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Hr(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Dg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Hr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var _e=0;function US(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var WS,Rg,VS,KS,qS,wp=!1,Uc=[],ps=null,gs=null,ys=null,Nl=new Map,Sl=new Map,ls=[],QM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nb(e,t){switch(e){case"focusin":case"focusout":ps=null;break;case"dragenter":case"dragleave":gs=null;break;case"mouseover":case"mouseout":ys=null;break;case"pointerover":case"pointerout":Nl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(t.pointerId)}}function Eo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ic(t),t!==null&&Rg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ZM(e,t,r,n,s){switch(t){case"focusin":return ps=Eo(ps,e,t,r,n,s),!0;case"dragenter":return gs=Eo(gs,e,t,r,n,s),!0;case"mouseover":return ys=Eo(ys,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Nl.set(i,Eo(Nl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Sl.set(i,Eo(Sl.get(i)||null,e,t,r,n,s)),!0}return!1}function HS(e){var t=ri(e.target);if(t!==null){var r=Ci(t);if(r!==null){if(t=r.tag,t===13){if(t=RS(r),t!==null){e.blockedOn=t,qS(e.priority,function(){VS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);gp=n,r.target.dispatchEvent(n),gp=null}else return t=ic(r),t!==null&&Rg(t),e.blockedOn=r,!1;t.shift()}return!0}function Sb(e,t,r){Nu(e)&&r.delete(t)}function e5(){wp=!1,ps!==null&&Nu(ps)&&(ps=null),gs!==null&&Nu(gs)&&(gs=null),ys!==null&&Nu(ys)&&(ys=null),Nl.forEach(Sb),Sl.forEach(Sb)}function Oo(e,t){e.blockedOn===t&&(e.blockedOn=null,wp||(wp=!0,cr.unstable_scheduleCallback(cr.unstable_NormalPriority,e5)))}function Pl(e){function t(s){return Oo(s,e)}if(0<Uc.length){Oo(Uc[0],e);for(var r=1;r<Uc.length;r++){var n=Uc[r];n.blockedOn===e&&(n.blockedOn=null)}}for(ps!==null&&Oo(ps,e),gs!==null&&Oo(gs,e),ys!==null&&Oo(ys,e),Nl.forEach(t),Sl.forEach(t),r=0;r<ls.length;r++)n=ls[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ls.length&&(r=ls[0],r.blockedOn===null);)HS(r),r.blockedOn===null&&ls.shift()}var xa=Kn.ReactCurrentBatchConfig,qu=!0;function t5(e,t,r,n){var s=_e,i=xa.transition;xa.transition=null;try{_e=1,$g(e,t,r,n)}finally{_e=s,xa.transition=i}}function r5(e,t,r,n){var s=_e,i=xa.transition;xa.transition=null;try{_e=4,$g(e,t,r,n)}finally{_e=s,xa.transition=i}}function $g(e,t,r,n){if(qu){var s=jp(e,t,r,n);if(s===null)Jh(e,t,n,Hu,r),Nb(e,n);else if(ZM(s,e,t,r,n))n.stopPropagation();else if(Nb(e,n),t&4&&-1<QM.indexOf(e)){for(;s!==null;){var i=ic(s);if(i!==null&&WS(i),i=jp(e,t,r,n),i===null&&Jh(e,t,n,Hu,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Jh(e,t,n,null,r)}}var Hu=null;function jp(e,t,r,n){if(Hu=null,e=Tg(n),e=ri(e),e!==null)if(t=Ci(e),t===null)e=null;else if(r=t.tag,r===13){if(e=RS(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Hu=e,null}function GS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(WM()){case Mg:return 1;case BS:return 4;case Vu:case VM:return 16;case FS:return 536870912;default:return 16}default:return 16}}var fs=null,Lg=null,Su=null;function YS(){if(Su)return Su;var e,t=Lg,r=t.length,n,s="value"in fs?fs.value:fs.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return Su=s.slice(e,1<n?1-n:void 0)}function Pu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wc(){return!0}function Pb(){return!1}function pr(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Wc:Pb,this.isPropagationStopped=Pb,this}return Fe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wc)},persist:function(){},isPersistent:Wc}),t}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ig=pr(to),sc=Fe({},to,{view:0,detail:0}),n5=pr(sc),Uh,Wh,Co,of=Fe({},sc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Co&&(Co&&e.type==="mousemove"?(Uh=e.screenX-Co.screenX,Wh=e.screenY-Co.screenY):Wh=Uh=0,Co=e),Uh)},movementY:function(e){return"movementY"in e?e.movementY:Wh}}),kb=pr(of),s5=Fe({},of,{dataTransfer:0}),i5=pr(s5),a5=Fe({},sc,{relatedTarget:0}),Vh=pr(a5),o5=Fe({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),l5=pr(o5),c5=Fe({},to,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),u5=pr(c5),d5=Fe({},to,{data:0}),Ab=pr(d5),f5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},h5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p5(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=m5[e])?!!t[e]:!1}function Bg(){return p5}var g5=Fe({},sc,{key:function(e){if(e.key){var t=f5[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?h5[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(e){return e.type==="keypress"?Pu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),y5=pr(g5),v5=Fe({},of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eb=pr(v5),x5=Fe({},sc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),b5=pr(x5),w5=Fe({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),j5=pr(w5),_5=Fe({},of,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),N5=pr(_5),S5=[9,13,27,32],Fg=Tn&&"CompositionEvent"in window,nl=null;Tn&&"documentMode"in document&&(nl=document.documentMode);var P5=Tn&&"TextEvent"in window&&!nl,XS=Tn&&(!Fg||nl&&8<nl&&11>=nl),Ob=" ",Cb=!1;function JS(e,t){switch(e){case"keyup":return S5.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function QS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xi=!1;function k5(e,t){switch(e){case"compositionend":return QS(t);case"keypress":return t.which!==32?null:(Cb=!0,Ob);case"textInput":return e=t.data,e===Ob&&Cb?null:e;default:return null}}function A5(e,t){if(Xi)return e==="compositionend"||!Fg&&JS(e,t)?(e=YS(),Su=Lg=fs=null,Xi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return XS&&t.locale!=="ko"?null:t.data;default:return null}}var E5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!E5[e.type]:t==="textarea"}function ZS(e,t,r,n){OS(n),t=Gu(t,"onChange"),0<t.length&&(r=new Ig("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var sl=null,kl=null;function O5(e){uP(e,0)}function lf(e){var t=Zi(e);if(_S(t))return e}function C5(e,t){if(e==="change")return t}var eP=!1;if(Tn){var Kh;if(Tn){var qh="oninput"in document;if(!qh){var Mb=document.createElement("div");Mb.setAttribute("oninput","return;"),qh=typeof Mb.oninput=="function"}Kh=qh}else Kh=!1;eP=Kh&&(!document.documentMode||9<document.documentMode)}function Db(){sl&&(sl.detachEvent("onpropertychange",tP),kl=sl=null)}function tP(e){if(e.propertyName==="value"&&lf(kl)){var t=[];ZS(t,kl,e,Tg(e)),DS(O5,t)}}function T5(e,t,r){e==="focusin"?(Db(),sl=t,kl=r,sl.attachEvent("onpropertychange",tP)):e==="focusout"&&Db()}function M5(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return lf(kl)}function D5(e,t){if(e==="click")return lf(t)}function R5(e,t){if(e==="input"||e==="change")return lf(t)}function $5(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Yr=typeof Object.is=="function"?Object.is:$5;function Al(e,t){if(Yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!sp.call(t,s)||!Yr(e[s],t[s]))return!1}return!0}function Rb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $b(e,t){var r=Rb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Rb(r)}}function rP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function nP(){for(var e=window,t=zu();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=zu(e.document)}return t}function zg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function L5(e){var t=nP(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&rP(r.ownerDocument.documentElement,r)){if(n!==null&&zg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=$b(r,i);var a=$b(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var I5=Tn&&"documentMode"in document&&11>=document.documentMode,Ji=null,_p=null,il=null,Np=!1;function Lb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Np||Ji==null||Ji!==zu(n)||(n=Ji,"selectionStart"in n&&zg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),il&&Al(il,n)||(il=n,n=Gu(_p,"onSelect"),0<n.length&&(t=new Ig("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ji)))}function Vc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},Hh={},sP={};Tn&&(sP=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function cf(e){if(Hh[e])return Hh[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in sP)return Hh[e]=t[r];return e}var iP=cf("animationend"),aP=cf("animationiteration"),oP=cf("animationstart"),lP=cf("transitionend"),cP=new Map,Ib="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(e,t){cP.set(e,t),Oi(t,[e])}for(var Gh=0;Gh<Ib.length;Gh++){var Yh=Ib[Gh],B5=Yh.toLowerCase(),F5=Yh[0].toUpperCase()+Yh.slice(1);Cs(B5,"on"+F5)}Cs(iP,"onAnimationEnd");Cs(aP,"onAnimationIteration");Cs(oP,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(lP,"onTransitionEnd");ka("onMouseEnter",["mouseout","mouseover"]);ka("onMouseLeave",["mouseout","mouseover"]);ka("onPointerEnter",["pointerout","pointerover"]);ka("onPointerLeave",["pointerout","pointerover"]);Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yo));function Bb(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,BM(n,t,void 0,e),e.currentTarget=null}function uP(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Bb(s,l,u),i=c}else for(a=0;a<n.length;a++){if(l=n[a],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Bb(s,l,u),i=c}}}if(Wu)throw e=xp,Wu=!1,xp=null,e}function Te(e,t){var r=t[Ep];r===void 0&&(r=t[Ep]=new Set);var n=e+"__bubble";r.has(n)||(dP(t,e,2,!1),r.add(n))}function Xh(e,t,r){var n=0;t&&(n|=4),dP(r,e,n,t)}var Kc="_reactListening"+Math.random().toString(36).slice(2);function El(e){if(!e[Kc]){e[Kc]=!0,vS.forEach(function(r){r!=="selectionchange"&&(z5.has(r)||Xh(r,!1,e),Xh(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Kc]||(t[Kc]=!0,Xh("selectionchange",!1,t))}}function dP(e,t,r,n){switch(GS(t)){case 1:var s=t5;break;case 4:s=r5;break;default:s=$g}r=s.bind(null,t,r,e),s=void 0,!vp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Jh(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=ri(l),a===null)return;if(c=a.tag,c===5||c===6){n=i=a;continue e}l=l.parentNode}}n=n.return}DS(function(){var u=i,d=Tg(r),f=[];e:{var h=cP.get(e);if(h!==void 0){var m=Ig,p=e;switch(e){case"keypress":if(Pu(r)===0)break e;case"keydown":case"keyup":m=y5;break;case"focusin":p="focus",m=Vh;break;case"focusout":p="blur",m=Vh;break;case"beforeblur":case"afterblur":m=Vh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=kb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=i5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=b5;break;case iP:case aP:case oP:m=l5;break;case lP:m=j5;break;case"scroll":m=n5;break;case"wheel":m=N5;break;case"copy":case"cut":case"paste":m=u5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Eb}var x=(t&4)!==0,w=!x&&e==="scroll",g=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,b;v!==null;){b=v;var _=b.stateNode;if(b.tag===5&&_!==null&&(b=_,g!==null&&(_=_l(v,g),_!=null&&x.push(Ol(v,_,b)))),w)break;v=v.return}0<x.length&&(h=new m(h,p,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==gp&&(p=r.relatedTarget||r.fromElement)&&(ri(p)||p[Mn]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=r.relatedTarget||r.toElement,m=u,p=p?ri(p):null,p!==null&&(w=Ci(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=kb,_="onMouseLeave",g="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=Eb,_="onPointerLeave",g="onPointerEnter",v="pointer"),w=m==null?h:Zi(m),b=p==null?h:Zi(p),h=new x(_,v+"leave",m,r,d),h.target=w,h.relatedTarget=b,_=null,ri(d)===u&&(x=new x(g,v+"enter",p,r,d),x.target=b,x.relatedTarget=w,_=x),w=_,m&&p)t:{for(x=m,g=p,v=0,b=x;b;b=Ii(b))v++;for(b=0,_=g;_;_=Ii(_))b++;for(;0<v-b;)x=Ii(x),v--;for(;0<b-v;)g=Ii(g),b--;for(;v--;){if(x===g||g!==null&&x===g.alternate)break t;x=Ii(x),g=Ii(g)}x=null}else x=null;m!==null&&Fb(f,h,m,x,!1),p!==null&&w!==null&&Fb(f,w,p,x,!0)}}e:{if(h=u?Zi(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=C5;else if(Tb(h))if(eP)j=R5;else{j=M5;var N=T5}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=D5);if(j&&(j=j(e,u))){ZS(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&dp(h,"number",h.value)}switch(N=u?Zi(u):window,e){case"focusin":(Tb(N)||N.contentEditable==="true")&&(Ji=N,_p=u,il=null);break;case"focusout":il=_p=Ji=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,Lb(f,r,d);break;case"selectionchange":if(I5)break;case"keydown":case"keyup":Lb(f,r,d)}var k;if(Fg)e:{switch(e){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else Xi?JS(e,r)&&(P="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(P="onCompositionStart");P&&(XS&&r.locale!=="ko"&&(Xi||P!=="onCompositionStart"?P==="onCompositionEnd"&&Xi&&(k=YS()):(fs=d,Lg="value"in fs?fs.value:fs.textContent,Xi=!0)),N=Gu(u,P),0<N.length&&(P=new Ab(P,e,null,r,d),f.push({event:P,listeners:N}),k?P.data=k:(k=QS(r),k!==null&&(P.data=k)))),(k=P5?k5(e,r):A5(e,r))&&(u=Gu(u,"onBeforeInput"),0<u.length&&(d=new Ab("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=k))}uP(f,t)})}function Ol(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Gu(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=_l(e,r),i!=null&&n.unshift(Ol(e,i,s)),i=_l(e,t),i!=null&&n.push(Ol(e,i,s))),e=e.return}return n}function Ii(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Fb(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=_l(r,i),c!=null&&a.unshift(Ol(r,c,l))):s||(c=_l(r,i),c!=null&&a.push(Ol(r,c,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var U5=/\r\n?/g,W5=/\u0000|\uFFFD/g;function zb(e){return(typeof e=="string"?e:""+e).replace(U5,`
`).replace(W5,"")}function qc(e,t,r){if(t=zb(t),zb(e)!==t&&r)throw Error(Z(425))}function Yu(){}var Sp=null,Pp=null;function kp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ap=typeof setTimeout=="function"?setTimeout:void 0,V5=typeof clearTimeout=="function"?clearTimeout:void 0,Ub=typeof Promise=="function"?Promise:void 0,K5=typeof queueMicrotask=="function"?queueMicrotask:typeof Ub<"u"?function(e){return Ub.resolve(null).then(e).catch(q5)}:Ap;function q5(e){setTimeout(function(){throw e})}function Qh(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Pl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Pl(t)}function vs(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ro=Math.random().toString(36).slice(2),en="__reactFiber$"+ro,Cl="__reactProps$"+ro,Mn="__reactContainer$"+ro,Ep="__reactEvents$"+ro,H5="__reactListeners$"+ro,G5="__reactHandles$"+ro;function ri(e){var t=e[en];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mn]||r[en]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Wb(e);e!==null;){if(r=e[en])return r;e=Wb(e)}return t}e=r,r=e.parentNode}return null}function ic(e){return e=e[en]||e[Mn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function uf(e){return e[Cl]||null}var Op=[],ea=-1;function Ts(e){return{current:e}}function De(e){0>ea||(e.current=Op[ea],Op[ea]=null,ea--)}function Oe(e,t){ea++,Op[ea]=e.current,e.current=t}var ks={},Et=Ts(ks),Jt=Ts(!1),wi=ks;function Aa(e,t){var r=e.type.contextTypes;if(!r)return ks;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Qt(e){return e=e.childContextTypes,e!=null}function Xu(){De(Jt),De(Et)}function Vb(e,t,r){if(Et.current!==ks)throw Error(Z(168));Oe(Et,t),Oe(Jt,r)}function fP(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(Z(108,TM(e)||"Unknown",s));return Fe({},r,n)}function Ju(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ks,wi=Et.current,Oe(Et,e),Oe(Jt,Jt.current),!0}function Kb(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=fP(e,t,wi),n.__reactInternalMemoizedMergedChildContext=e,De(Jt),De(Et),Oe(Et,e)):De(Jt),Oe(Jt,r)}var _n=null,df=!1,Zh=!1;function hP(e){_n===null?_n=[e]:_n.push(e)}function Y5(e){df=!0,hP(e)}function Ms(){if(!Zh&&_n!==null){Zh=!0;var e=0,t=_e;try{var r=_n;for(_e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}_n=null,df=!1}catch(s){throw _n!==null&&(_n=_n.slice(e+1)),IS(Mg,Ms),s}finally{_e=t,Zh=!1}}return null}var ta=[],ra=0,Qu=null,Zu=0,jr=[],_r=0,ji=null,Sn=1,Pn="";function Gs(e,t){ta[ra++]=Zu,ta[ra++]=Qu,Qu=e,Zu=t}function mP(e,t,r){jr[_r++]=Sn,jr[_r++]=Pn,jr[_r++]=ji,ji=e;var n=Sn;e=Pn;var s=32-Hr(n)-1;n&=~(1<<s),r+=1;var i=32-Hr(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Sn=1<<32-Hr(t)+s|r<<s|n,Pn=i+e}else Sn=1<<i|r<<s|n,Pn=e}function Ug(e){e.return!==null&&(Gs(e,1),mP(e,1,0))}function Wg(e){for(;e===Qu;)Qu=ta[--ra],ta[ra]=null,Zu=ta[--ra],ta[ra]=null;for(;e===ji;)ji=jr[--_r],jr[_r]=null,Pn=jr[--_r],jr[_r]=null,Sn=jr[--_r],jr[_r]=null}var or=null,ar=null,Re=!1,Wr=null;function pP(e,t){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function qb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,or=e,ar=vs(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,or=e,ar=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=ji!==null?{id:Sn,overflow:Pn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,or=e,ar=null,!0):!1;default:return!1}}function Cp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Tp(e){if(Re){var t=ar;if(t){var r=t;if(!qb(e,t)){if(Cp(e))throw Error(Z(418));t=vs(r.nextSibling);var n=or;t&&qb(e,t)?pP(n,r):(e.flags=e.flags&-4097|2,Re=!1,or=e)}}else{if(Cp(e))throw Error(Z(418));e.flags=e.flags&-4097|2,Re=!1,or=e}}}function Hb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;or=e}function Hc(e){if(e!==or)return!1;if(!Re)return Hb(e),Re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!kp(e.type,e.memoizedProps)),t&&(t=ar)){if(Cp(e))throw gP(),Error(Z(418));for(;t;)pP(e,t),t=vs(t.nextSibling)}if(Hb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ar=vs(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ar=null}}else ar=or?vs(e.stateNode.nextSibling):null;return!0}function gP(){for(var e=ar;e;)e=vs(e.nextSibling)}function Ea(){ar=or=null,Re=!1}function Vg(e){Wr===null?Wr=[e]:Wr.push(e)}var X5=Kn.ReactCurrentBatchConfig;function To(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var l=s.refs;a===null?delete l[i]:l[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function Gc(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gb(e){var t=e._init;return t(e._payload)}function yP(e){function t(g,v){if(e){var b=g.deletions;b===null?(g.deletions=[v],g.flags|=16):b.push(v)}}function r(g,v){if(!e)return null;for(;v!==null;)t(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function s(g,v){return g=js(g,v),g.index=0,g.sibling=null,g}function i(g,v,b){return g.index=b,e?(b=g.alternate,b!==null?(b=b.index,b<v?(g.flags|=2,v):b):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,v,b,_){return v===null||v.tag!==6?(v=am(b,g.mode,_),v.return=g,v):(v=s(v,b),v.return=g,v)}function c(g,v,b,_){var j=b.type;return j===Yi?d(g,v,b.props.children,_,b.key):v!==null&&(v.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ss&&Gb(j)===v.type)?(_=s(v,b.props),_.ref=To(g,v,b),_.return=g,_):(_=Mu(b.type,b.key,b.props,null,g.mode,_),_.ref=To(g,v,b),_.return=g,_)}function u(g,v,b,_){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=om(b,g.mode,_),v.return=g,v):(v=s(v,b.children||[]),v.return=g,v)}function d(g,v,b,_,j){return v===null||v.tag!==7?(v=hi(b,g.mode,_,j),v.return=g,v):(v=s(v,b),v.return=g,v)}function f(g,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=am(""+v,g.mode,b),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Lc:return b=Mu(v.type,v.key,v.props,null,g.mode,b),b.ref=To(g,null,v),b.return=g,b;case Gi:return v=om(v,g.mode,b),v.return=g,v;case ss:var _=v._init;return f(g,_(v._payload),b)}if(Ho(v)||ko(v))return v=hi(v,g.mode,b,null),v.return=g,v;Gc(g,v)}return null}function h(g,v,b,_){var j=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return j!==null?null:l(g,v,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Lc:return b.key===j?c(g,v,b,_):null;case Gi:return b.key===j?u(g,v,b,_):null;case ss:return j=b._init,h(g,v,j(b._payload),_)}if(Ho(b)||ko(b))return j!==null?null:d(g,v,b,_,null);Gc(g,b)}return null}function m(g,v,b,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(b)||null,l(v,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Lc:return g=g.get(_.key===null?b:_.key)||null,c(v,g,_,j);case Gi:return g=g.get(_.key===null?b:_.key)||null,u(v,g,_,j);case ss:var N=_._init;return m(g,v,b,N(_._payload),j)}if(Ho(_)||ko(_))return g=g.get(b)||null,d(v,g,_,j,null);Gc(v,_)}return null}function p(g,v,b,_){for(var j=null,N=null,k=v,P=v=0,E=null;k!==null&&P<b.length;P++){k.index>P?(E=k,k=null):E=k.sibling;var T=h(g,k,b[P],_);if(T===null){k===null&&(k=E);break}e&&k&&T.alternate===null&&t(g,k),v=i(T,v,P),N===null?j=T:N.sibling=T,N=T,k=E}if(P===b.length)return r(g,k),Re&&Gs(g,P),j;if(k===null){for(;P<b.length;P++)k=f(g,b[P],_),k!==null&&(v=i(k,v,P),N===null?j=k:N.sibling=k,N=k);return Re&&Gs(g,P),j}for(k=n(g,k);P<b.length;P++)E=m(k,g,P,b[P],_),E!==null&&(e&&E.alternate!==null&&k.delete(E.key===null?P:E.key),v=i(E,v,P),N===null?j=E:N.sibling=E,N=E);return e&&k.forEach(function(O){return t(g,O)}),Re&&Gs(g,P),j}function x(g,v,b,_){var j=ko(b);if(typeof j!="function")throw Error(Z(150));if(b=j.call(b),b==null)throw Error(Z(151));for(var N=j=null,k=v,P=v=0,E=null,T=b.next();k!==null&&!T.done;P++,T=b.next()){k.index>P?(E=k,k=null):E=k.sibling;var O=h(g,k,T.value,_);if(O===null){k===null&&(k=E);break}e&&k&&O.alternate===null&&t(g,k),v=i(O,v,P),N===null?j=O:N.sibling=O,N=O,k=E}if(T.done)return r(g,k),Re&&Gs(g,P),j;if(k===null){for(;!T.done;P++,T=b.next())T=f(g,T.value,_),T!==null&&(v=i(T,v,P),N===null?j=T:N.sibling=T,N=T);return Re&&Gs(g,P),j}for(k=n(g,k);!T.done;P++,T=b.next())T=m(k,g,P,T.value,_),T!==null&&(e&&T.alternate!==null&&k.delete(T.key===null?P:T.key),v=i(T,v,P),N===null?j=T:N.sibling=T,N=T);return e&&k.forEach(function(U){return t(g,U)}),Re&&Gs(g,P),j}function w(g,v,b,_){if(typeof b=="object"&&b!==null&&b.type===Yi&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Lc:e:{for(var j=b.key,N=v;N!==null;){if(N.key===j){if(j=b.type,j===Yi){if(N.tag===7){r(g,N.sibling),v=s(N,b.props.children),v.return=g,g=v;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===ss&&Gb(j)===N.type){r(g,N.sibling),v=s(N,b.props),v.ref=To(g,N,b),v.return=g,g=v;break e}r(g,N);break}else t(g,N);N=N.sibling}b.type===Yi?(v=hi(b.props.children,g.mode,_,b.key),v.return=g,g=v):(_=Mu(b.type,b.key,b.props,null,g.mode,_),_.ref=To(g,v,b),_.return=g,g=_)}return a(g);case Gi:e:{for(N=b.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){r(g,v.sibling),v=s(v,b.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else t(g,v);v=v.sibling}v=om(b,g.mode,_),v.return=g,g=v}return a(g);case ss:return N=b._init,w(g,v,N(b._payload),_)}if(Ho(b))return p(g,v,b,_);if(ko(b))return x(g,v,b,_);Gc(g,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(r(g,v.sibling),v=s(v,b),v.return=g,g=v):(r(g,v),v=am(b,g.mode,_),v.return=g,g=v),a(g)):r(g,v)}return w}var Oa=yP(!0),vP=yP(!1),ed=Ts(null),td=null,na=null,Kg=null;function qg(){Kg=na=td=null}function Hg(e){var t=ed.current;De(ed),e._currentValue=t}function Mp(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ba(e,t){td=e,Kg=na=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function Er(e){var t=e._currentValue;if(Kg!==e)if(e={context:e,memoizedValue:t,next:null},na===null){if(td===null)throw Error(Z(308));na=e,td.dependencies={lanes:0,firstContext:e}}else na=na.next=e;return t}var ni=null;function Gg(e){ni===null?ni=[e]:ni.push(e)}function xP(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Gg(t)):(r.next=s.next,s.next=r),t.interleaved=r,Dn(e,n)}function Dn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var is=!1;function Yg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bP(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function En(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ye&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Dn(e,r)}return s=n.interleaved,s===null?(t.next=t,Gg(n)):(t.next=s.next,s.next=t),n.interleaved=t,Dn(e,r)}function ku(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dg(e,r)}}function Yb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function rd(e,t,r,n){var s=e.updateQueue;is=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,a===null?i=u:a.next=u,a=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;a=0,d=u=c=null,l=i;do{var h=l.lane,m=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var p=e,x=l;switch(h=t,m=r,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Fe({},f,h);break e;case 2:is=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else m={eventTime:m,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,a|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ni|=a,e.lanes=a,e.memoizedState=f}}function Xb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(Z(191,s));s.call(n)}}}var ac={},on=Ts(ac),Tl=Ts(ac),Ml=Ts(ac);function si(e){if(e===ac)throw Error(Z(174));return e}function Xg(e,t){switch(Oe(Ml,t),Oe(Tl,e),Oe(on,ac),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:hp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=hp(t,e)}De(on),Oe(on,t)}function Ca(){De(on),De(Tl),De(Ml)}function wP(e){si(Ml.current);var t=si(on.current),r=hp(t,e.type);t!==r&&(Oe(Tl,e),Oe(on,r))}function Jg(e){Tl.current===e&&(De(on),De(Tl))}var Le=Ts(0);function nd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var em=[];function Qg(){for(var e=0;e<em.length;e++)em[e]._workInProgressVersionPrimary=null;em.length=0}var Au=Kn.ReactCurrentDispatcher,tm=Kn.ReactCurrentBatchConfig,_i=0,Be=null,tt=null,dt=null,sd=!1,al=!1,Dl=0,J5=0;function bt(){throw Error(Z(321))}function Zg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Yr(e[r],t[r]))return!1;return!0}function ey(e,t,r,n,s,i){if(_i=i,Be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Au.current=e===null||e.memoizedState===null?t3:r3,e=r(n,s),al){i=0;do{if(al=!1,Dl=0,25<=i)throw Error(Z(301));i+=1,dt=tt=null,t.updateQueue=null,Au.current=n3,e=r(n,s)}while(al)}if(Au.current=id,t=tt!==null&&tt.next!==null,_i=0,dt=tt=Be=null,sd=!1,t)throw Error(Z(300));return e}function ty(){var e=Dl!==0;return Dl=0,e}function Zr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Be.memoizedState=dt=e:dt=dt.next=e,dt}function Or(){if(tt===null){var e=Be.alternate;e=e!==null?e.memoizedState:null}else e=tt.next;var t=dt===null?Be.memoizedState:dt.next;if(t!==null)dt=t,tt=e;else{if(e===null)throw Error(Z(310));tt=e,e={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},dt===null?Be.memoizedState=dt=e:dt=dt.next=e}return dt}function Rl(e,t){return typeof t=="function"?t(e):t}function rm(e){var t=Or(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=tt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=a=null,c=null,u=i;do{var d=u.lane;if((_i&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,a=n):c=c.next=f,Be.lanes|=d,Ni|=d}u=u.next}while(u!==null&&u!==i);c===null?a=n:c.next=l,Yr(n,t.memoizedState)||(Gt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Be.lanes|=i,Ni|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function nm(e){var t=Or(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);Yr(i,t.memoizedState)||(Gt=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function jP(){}function _P(e,t){var r=Be,n=Or(),s=t(),i=!Yr(n.memoizedState,s);if(i&&(n.memoizedState=s,Gt=!0),n=n.queue,ry(PP.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||dt!==null&&dt.memoizedState.tag&1){if(r.flags|=2048,$l(9,SP.bind(null,r,n,s,t),void 0,null),ht===null)throw Error(Z(349));_i&30||NP(r,t,s)}return s}function NP(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function SP(e,t,r,n){t.value=r,t.getSnapshot=n,kP(t)&&AP(e)}function PP(e,t,r){return r(function(){kP(t)&&AP(e)})}function kP(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Yr(e,r)}catch{return!0}}function AP(e){var t=Dn(e,1);t!==null&&Gr(t,e,1,-1)}function Jb(e){var t=Zr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:e},t.queue=e,e=e.dispatch=e3.bind(null,Be,e),[t.memoizedState,e]}function $l(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Be.updateQueue,t===null?(t={lastEffect:null,stores:null},Be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function EP(){return Or().memoizedState}function Eu(e,t,r,n){var s=Zr();Be.flags|=e,s.memoizedState=$l(1|t,r,void 0,n===void 0?null:n)}function ff(e,t,r,n){var s=Or();n=n===void 0?null:n;var i=void 0;if(tt!==null){var a=tt.memoizedState;if(i=a.destroy,n!==null&&Zg(n,a.deps)){s.memoizedState=$l(t,r,i,n);return}}Be.flags|=e,s.memoizedState=$l(1|t,r,i,n)}function Qb(e,t){return Eu(8390656,8,e,t)}function ry(e,t){return ff(2048,8,e,t)}function OP(e,t){return ff(4,2,e,t)}function CP(e,t){return ff(4,4,e,t)}function TP(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function MP(e,t,r){return r=r!=null?r.concat([e]):null,ff(4,4,TP.bind(null,t,e),r)}function ny(){}function DP(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function RP(e,t){var r=Or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Zg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $P(e,t,r){return _i&21?(Yr(r,t)||(r=zS(),Be.lanes|=r,Ni|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=r)}function Q5(e,t){var r=_e;_e=r!==0&&4>r?r:4,e(!0);var n=tm.transition;tm.transition={};try{e(!1),t()}finally{_e=r,tm.transition=n}}function LP(){return Or().memoizedState}function Z5(e,t,r){var n=ws(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},IP(e))BP(t,r);else if(r=xP(e,t,r,n),r!==null){var s=Lt();Gr(r,e,n,s),FP(r,t,n)}}function e3(e,t,r){var n=ws(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(IP(e))BP(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,l=i(a,r);if(s.hasEagerState=!0,s.eagerState=l,Yr(l,a)){var c=t.interleaved;c===null?(s.next=s,Gg(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=xP(e,t,s,n),r!==null&&(s=Lt(),Gr(r,e,n,s),FP(r,t,n))}}function IP(e){var t=e.alternate;return e===Be||t!==null&&t===Be}function BP(e,t){al=sd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function FP(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Dg(e,r)}}var id={readContext:Er,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},t3={readContext:Er,useCallback:function(e,t){return Zr().memoizedState=[e,t===void 0?null:t],e},useContext:Er,useEffect:Qb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Eu(4194308,4,TP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Eu(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eu(4,2,e,t)},useMemo:function(e,t){var r=Zr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Zr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Z5.bind(null,Be,e),[n.memoizedState,e]},useRef:function(e){var t=Zr();return e={current:e},t.memoizedState=e},useState:Jb,useDebugValue:ny,useDeferredValue:function(e){return Zr().memoizedState=e},useTransition:function(){var e=Jb(!1),t=e[0];return e=Q5.bind(null,e[1]),Zr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Be,s=Zr();if(Re){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),ht===null)throw Error(Z(349));_i&30||NP(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Qb(PP.bind(null,n,i,e),[e]),n.flags|=2048,$l(9,SP.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=Zr(),t=ht.identifierPrefix;if(Re){var r=Pn,n=Sn;r=(n&~(1<<32-Hr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Dl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=J5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},r3={readContext:Er,useCallback:DP,useContext:Er,useEffect:ry,useImperativeHandle:MP,useInsertionEffect:OP,useLayoutEffect:CP,useMemo:RP,useReducer:rm,useRef:EP,useState:function(){return rm(Rl)},useDebugValue:ny,useDeferredValue:function(e){var t=Or();return $P(t,tt.memoizedState,e)},useTransition:function(){var e=rm(Rl)[0],t=Or().memoizedState;return[e,t]},useMutableSource:jP,useSyncExternalStore:_P,useId:LP,unstable_isNewReconciler:!1},n3={readContext:Er,useCallback:DP,useContext:Er,useEffect:ry,useImperativeHandle:MP,useInsertionEffect:OP,useLayoutEffect:CP,useMemo:RP,useReducer:nm,useRef:EP,useState:function(){return nm(Rl)},useDebugValue:ny,useDeferredValue:function(e){var t=Or();return tt===null?t.memoizedState=e:$P(t,tt.memoizedState,e)},useTransition:function(){var e=nm(Rl)[0],t=Or().memoizedState;return[e,t]},useMutableSource:jP,useSyncExternalStore:_P,useId:LP,unstable_isNewReconciler:!1};function Fr(e,t){if(e&&e.defaultProps){t=Fe({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Dp(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Fe({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var hf={isMounted:function(e){return(e=e._reactInternals)?Ci(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=ws(e),i=En(n,s);i.payload=t,r!=null&&(i.callback=r),t=xs(e,i,s),t!==null&&(Gr(t,e,s,n),ku(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Lt(),s=ws(e),i=En(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=xs(e,i,s),t!==null&&(Gr(t,e,s,n),ku(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Lt(),n=ws(e),s=En(r,n);s.tag=2,t!=null&&(s.callback=t),t=xs(e,s,n),t!==null&&(Gr(t,e,n,r),ku(t,e,n))}};function Zb(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!Al(r,n)||!Al(s,i):!0}function zP(e,t,r){var n=!1,s=ks,i=t.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=Qt(t)?wi:Et.current,n=t.contextTypes,i=(n=n!=null)?Aa(e,s):ks),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=hf,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function ew(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&hf.enqueueReplaceState(t,t.state,null)}function Rp(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Yg(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=Qt(t)?wi:Et.current,s.context=Aa(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dp(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&hf.enqueueReplaceState(s,s.state,null),rd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ta(e,t){try{var r="",n=t;do r+=CM(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function sm(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function $p(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var s3=typeof WeakMap=="function"?WeakMap:Map;function UP(e,t,r){r=En(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){od||(od=!0,qp=n),$p(e,t)},r}function WP(e,t,r){r=En(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){$p(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){$p(e,t),typeof n!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function tw(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new s3;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=v3.bind(null,e,t,r),t.then(e,e))}function rw(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function nw(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=En(-1,1),t.tag=2,xs(r,t,1))),r.lanes|=1),e)}var i3=Kn.ReactCurrentOwner,Gt=!1;function Mt(e,t,r,n){t.child=e===null?vP(t,null,r,n):Oa(t,e.child,r,n)}function sw(e,t,r,n,s){r=r.render;var i=t.ref;return ba(t,s),n=ey(e,t,r,n,i,s),r=ty(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Re&&r&&Ug(t),t.flags|=1,Mt(e,t,n,s),t.child)}function iw(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!dy(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,VP(e,t,i,n,s)):(e=Mu(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:Al,r(a,n)&&e.ref===t.ref)return Rn(e,t,s)}return t.flags|=1,e=js(i,n),e.ref=t.ref,e.return=t,t.child=e}function VP(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Al(i,n)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,Rn(e,t,s)}return Lp(e,t,r,n,s)}function KP(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ia,sr),sr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Oe(ia,sr),sr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Oe(ia,sr),sr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,Oe(ia,sr),sr|=n;return Mt(e,t,s,r),t.child}function qP(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Lp(e,t,r,n,s){var i=Qt(r)?wi:Et.current;return i=Aa(t,i),ba(t,s),r=ey(e,t,r,n,i,s),n=ty(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rn(e,t,s)):(Re&&n&&Ug(t),t.flags|=1,Mt(e,t,r,s),t.child)}function aw(e,t,r,n,s){if(Qt(r)){var i=!0;Ju(t)}else i=!1;if(ba(t,s),t.stateNode===null)Ou(e,t),zP(t,r,n),Rp(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Er(u):(u=Qt(r)?wi:Et.current,u=Aa(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||c!==u)&&ew(t,a,n,u),is=!1;var h=t.memoizedState;a.state=h,rd(t,n,a,s),c=t.memoizedState,l!==n||h!==c||Jt.current||is?(typeof d=="function"&&(Dp(t,r,d,n),c=t.memoizedState),(l=is||Zb(t,r,l,n,h,c,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,bP(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Fr(t.type,l),a.props=u,f=t.pendingProps,h=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Qt(r)?wi:Et.current,c=Aa(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||h!==c)&&ew(t,a,n,c),is=!1,h=t.memoizedState,a.state=h,rd(t,n,a,s);var p=t.memoizedState;l!==f||h!==p||Jt.current||is?(typeof m=="function"&&(Dp(t,r,m,n),p=t.memoizedState),(u=is||Zb(t,r,u,n,h,p,c)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ip(e,t,r,n,i,s)}function Ip(e,t,r,n,s,i){qP(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Kb(t,r,!1),Rn(e,t,i);n=t.stateNode,i3.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Oa(t,e.child,null,i),t.child=Oa(t,null,l,i)):Mt(e,t,l,i),t.memoizedState=n.state,s&&Kb(t,r,!0),t.child}function HP(e){var t=e.stateNode;t.pendingContext?Vb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vb(e,t.context,!1),Xg(e,t.containerInfo)}function ow(e,t,r,n,s){return Ea(),Vg(s),t.flags|=256,Mt(e,t,r,n),t.child}var Bp={dehydrated:null,treeContext:null,retryLane:0};function Fp(e){return{baseLanes:e,cachePool:null,transitions:null}}function GP(e,t,r){var n=t.pendingProps,s=Le.current,i=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Oe(Le,s&1),e===null)return Tp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=gf(a,n,0,null),e=hi(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fp(r),t.memoizedState=Bp,e):sy(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return a3(e,t,a,n,l,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=js(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=js(l,i):(i=hi(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Fp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Bp,n}return i=e.child,e=i.sibling,n=js(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function sy(e,t){return t=gf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Yc(e,t,r,n){return n!==null&&Vg(n),Oa(t,e.child,null,r),e=sy(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a3(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=sm(Error(Z(422))),Yc(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=gf({mode:"visible",children:n.children},s,0,null),i=hi(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Oa(t,e.child,null,a),t.child.memoizedState=Fp(a),t.memoizedState=Bp,i);if(!(t.mode&1))return Yc(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(Z(419)),n=sm(i,n,void 0),Yc(e,t,a,n)}if(l=(a&e.childLanes)!==0,Gt||l){if(n=ht,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Dn(e,s),Gr(n,e,s,-1))}return uy(),n=sm(Error(Z(421))),Yc(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=x3.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ar=vs(s.nextSibling),or=t,Re=!0,Wr=null,e!==null&&(jr[_r++]=Sn,jr[_r++]=Pn,jr[_r++]=ji,Sn=e.id,Pn=e.overflow,ji=t),t=sy(t,n.children),t.flags|=4096,t)}function lw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Mp(e.return,t,r)}function im(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function YP(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Mt(e,t,n.children,r),n=Le.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lw(e,r,t);else if(e.tag===19)lw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Oe(Le,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&nd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),im(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&nd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}im(t,!0,r,null,i);break;case"together":im(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ou(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ni|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=js(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=js(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function o3(e,t,r){switch(t.tag){case 3:HP(t),Ea();break;case 5:wP(t);break;case 1:Qt(t.type)&&Ju(t);break;case 4:Xg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;Oe(ed,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Oe(Le,Le.current&1),t.flags|=128,null):r&t.child.childLanes?GP(e,t,r):(Oe(Le,Le.current&1),e=Rn(e,t,r),e!==null?e.sibling:null);Oe(Le,Le.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return YP(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(Le,Le.current),n)break;return null;case 22:case 23:return t.lanes=0,KP(e,t,r)}return Rn(e,t,r)}var XP,zp,JP,QP;XP=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zp=function(){};JP=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,si(on.current);var i=null;switch(r){case"input":s=cp(e,s),n=cp(e,n),i=[];break;case"select":s=Fe({},s,{value:void 0}),n=Fe({},n,{value:void 0}),i=[];break;case"textarea":s=fp(e,s),n=fp(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yu)}mp(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Te("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};QP=function(e,t,r,n){r!==n&&(t.flags|=4)};function Mo(e,t){if(!Re)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function wt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function l3(e,t,r){var n=t.pendingProps;switch(Wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(t),null;case 1:return Qt(t.type)&&Xu(),wt(t),null;case 3:return n=t.stateNode,Ca(),De(Jt),De(Et),Qg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Hc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wr!==null&&(Yp(Wr),Wr=null))),zp(e,t),wt(t),null;case 5:Jg(t);var s=si(Ml.current);if(r=t.type,e!==null&&t.stateNode!=null)JP(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return wt(t),null}if(e=si(on.current),Hc(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[en]=t,n[Cl]=i,e=(t.mode&1)!==0,r){case"dialog":Te("cancel",n),Te("close",n);break;case"iframe":case"object":case"embed":Te("load",n);break;case"video":case"audio":for(s=0;s<Yo.length;s++)Te(Yo[s],n);break;case"source":Te("error",n);break;case"img":case"image":case"link":Te("error",n),Te("load",n);break;case"details":Te("toggle",n);break;case"input":yb(n,i),Te("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Te("invalid",n);break;case"textarea":xb(n,i),Te("invalid",n)}mp(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var l=i[a];a==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&qc(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&qc(n.textContent,l,e),s=["children",""+l]):wl.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Te("scroll",n)}switch(r){case"input":Ic(n),vb(n,i,!0);break;case"textarea":Ic(n),bb(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Yu)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=PS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[en]=t,e[Cl]=n,XP(e,t,!1,!1),t.stateNode=e;e:{switch(a=pp(r,n),r){case"dialog":Te("cancel",e),Te("close",e),s=n;break;case"iframe":case"object":case"embed":Te("load",e),s=n;break;case"video":case"audio":for(s=0;s<Yo.length;s++)Te(Yo[s],e);s=n;break;case"source":Te("error",e),s=n;break;case"img":case"image":case"link":Te("error",e),Te("load",e),s=n;break;case"details":Te("toggle",e),s=n;break;case"input":yb(e,n),s=cp(e,n),Te("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Fe({},n,{value:void 0}),Te("invalid",e);break;case"textarea":xb(e,n),s=fp(e,n),Te("invalid",e);break;default:s=n}mp(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?ES(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&kS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&jl(e,c):typeof c=="number"&&jl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(wl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Te("scroll",e):c!=null&&Ag(e,i,c,a))}switch(r){case"input":Ic(e),vb(e,n,!1);break;case"textarea":Ic(e),bb(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ps(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ga(e,!!n.multiple,i,!1):n.defaultValue!=null&&ga(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Yu)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return wt(t),null;case 6:if(e&&t.stateNode!=null)QP(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=si(Ml.current),si(on.current),Hc(t)){if(n=t.stateNode,r=t.memoizedProps,n[en]=t,(i=n.nodeValue!==r)&&(e=or,e!==null))switch(e.tag){case 3:qc(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qc(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[en]=t,t.stateNode=n}return wt(t),null;case 13:if(De(Le),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&ar!==null&&t.mode&1&&!(t.flags&128))gP(),Ea(),t.flags|=98560,i=!1;else if(i=Hc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(Z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Z(317));i[en]=t}else Ea(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;wt(t),i=!1}else Wr!==null&&(Yp(Wr),Wr=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Le.current&1?rt===0&&(rt=3):uy())),t.updateQueue!==null&&(t.flags|=4),wt(t),null);case 4:return Ca(),zp(e,t),e===null&&El(t.stateNode.containerInfo),wt(t),null;case 10:return Hg(t.type._context),wt(t),null;case 17:return Qt(t.type)&&Xu(),wt(t),null;case 19:if(De(Le),i=t.memoizedState,i===null)return wt(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Mo(i,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=nd(e),a!==null){for(t.flags|=128,Mo(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Oe(Le,Le.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ye()>Ma&&(t.flags|=128,n=!0,Mo(i,!1),t.lanes=4194304)}else{if(!n)if(e=nd(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Mo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!Re)return wt(t),null}else 2*Ye()-i.renderingStartTime>Ma&&r!==1073741824&&(t.flags|=128,n=!0,Mo(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,r=Le.current,Oe(Le,n?r&1|2:r&1),t):(wt(t),null);case 22:case 23:return cy(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?sr&1073741824&&(wt(t),t.subtreeFlags&6&&(t.flags|=8192)):wt(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function c3(e,t){switch(Wg(t),t.tag){case 1:return Qt(t.type)&&Xu(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ca(),De(Jt),De(Et),Qg(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Jg(t),null;case 13:if(De(Le),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));Ea()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Le),null;case 4:return Ca(),null;case 10:return Hg(t.type._context),null;case 22:case 23:return cy(),null;case 24:return null;default:return null}}var Xc=!1,Nt=!1,u3=typeof WeakSet=="function"?WeakSet:Set,re=null;function sa(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ke(e,t,n)}else r.current=null}function Up(e,t,r){try{r()}catch(n){Ke(e,t,n)}}var cw=!1;function d3(e,t){if(Sp=qu,e=nP(),zg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||s!==0&&f.nodeType!==3||(l=a+s),f!==i||n!==0&&f.nodeType!==3||(c=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=a),h===i&&++d===n&&(c=a),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Pp={focusedElem:e,selectionRange:r},qu=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,w=p.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?x:Fr(t.type,x),w);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(_){Ke(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return p=cw,cw=!1,p}function ol(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Up(t,r,i)}s=s.next}while(s!==n)}}function mf(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Wp(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ZP(e){var t=e.alternate;t!==null&&(e.alternate=null,ZP(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[en],delete t[Cl],delete t[Ep],delete t[H5],delete t[G5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function e2(e){return e.tag===5||e.tag===3||e.tag===4}function uw(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||e2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Vp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yu));else if(n!==4&&(e=e.child,e!==null))for(Vp(e,t,r),e=e.sibling;e!==null;)Vp(e,t,r),e=e.sibling}function Kp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Kp(e,t,r),e=e.sibling;e!==null;)Kp(e,t,r),e=e.sibling}var gt=null,zr=!1;function Jn(e,t,r){for(r=r.child;r!==null;)t2(e,t,r),r=r.sibling}function t2(e,t,r){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(af,r)}catch{}switch(r.tag){case 5:Nt||sa(r,t);case 6:var n=gt,s=zr;gt=null,Jn(e,t,r),gt=n,zr=s,gt!==null&&(zr?(e=gt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):gt.removeChild(r.stateNode));break;case 18:gt!==null&&(zr?(e=gt,r=r.stateNode,e.nodeType===8?Qh(e.parentNode,r):e.nodeType===1&&Qh(e,r),Pl(e)):Qh(gt,r.stateNode));break;case 4:n=gt,s=zr,gt=r.stateNode.containerInfo,zr=!0,Jn(e,t,r),gt=n,zr=s;break;case 0:case 11:case 14:case 15:if(!Nt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Up(r,t,a),s=s.next}while(s!==n)}Jn(e,t,r);break;case 1:if(!Nt&&(sa(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ke(r,t,l)}Jn(e,t,r);break;case 21:Jn(e,t,r);break;case 22:r.mode&1?(Nt=(n=Nt)||r.memoizedState!==null,Jn(e,t,r),Nt=n):Jn(e,t,r);break;default:Jn(e,t,r)}}function dw(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new u3),t.forEach(function(n){var s=b3.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Lr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:gt=l.stateNode,zr=!1;break e;case 3:gt=l.stateNode.containerInfo,zr=!0;break e;case 4:gt=l.stateNode.containerInfo,zr=!0;break e}l=l.return}if(gt===null)throw Error(Z(160));t2(i,a,s),gt=null,zr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ke(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)r2(t,e),t=t.sibling}function r2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Lr(t,e),Qr(e),n&4){try{ol(3,e,e.return),mf(3,e)}catch(x){Ke(e,e.return,x)}try{ol(5,e,e.return)}catch(x){Ke(e,e.return,x)}}break;case 1:Lr(t,e),Qr(e),n&512&&r!==null&&sa(r,r.return);break;case 5:if(Lr(t,e),Qr(e),n&512&&r!==null&&sa(r,r.return),e.flags&32){var s=e.stateNode;try{jl(s,"")}catch(x){Ke(e,e.return,x)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&NS(s,i),pp(l,a);var u=pp(l,i);for(a=0;a<c.length;a+=2){var d=c[a],f=c[a+1];d==="style"?ES(s,f):d==="dangerouslySetInnerHTML"?kS(s,f):d==="children"?jl(s,f):Ag(s,d,f,u)}switch(l){case"input":up(s,i);break;case"textarea":SS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ga(s,!!i.multiple,m,!1):h!==!!i.multiple&&(i.defaultValue!=null?ga(s,!!i.multiple,i.defaultValue,!0):ga(s,!!i.multiple,i.multiple?[]:"",!1))}s[Cl]=i}catch(x){Ke(e,e.return,x)}}break;case 6:if(Lr(t,e),Qr(e),n&4){if(e.stateNode===null)throw Error(Z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(x){Ke(e,e.return,x)}}break;case 3:if(Lr(t,e),Qr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Pl(t.containerInfo)}catch(x){Ke(e,e.return,x)}break;case 4:Lr(t,e),Qr(e);break;case 13:Lr(t,e),Qr(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(oy=Ye())),n&4&&dw(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Nt=(u=Nt)||d,Lr(t,e),Nt=u):Lr(t,e),Qr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(re=e,d=e.child;d!==null;){for(f=re=d;re!==null;){switch(h=re,m=h.child,h.tag){case 0:case 11:case 14:case 15:ol(4,h,h.return);break;case 1:sa(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Ke(n,r,x)}}break;case 5:sa(h,h.return);break;case 22:if(h.memoizedState!==null){hw(f);continue}}m!==null?(m.return=h,re=m):hw(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=AS("display",a))}catch(x){Ke(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Ke(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Lr(t,e),Qr(e),n&4&&dw(e);break;case 21:break;default:Lr(t,e),Qr(e)}}function Qr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(e2(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(jl(s,""),n.flags&=-33);var i=uw(e);Kp(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,l=uw(e);Vp(e,l,a);break;default:throw Error(Z(161))}}catch(c){Ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f3(e,t,r){re=e,n2(e)}function n2(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Xc;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Nt;l=Xc;var u=Nt;if(Xc=a,(Nt=c)&&!u)for(re=s;re!==null;)a=re,c=a.child,a.tag===22&&a.memoizedState!==null?mw(s):c!==null?(c.return=a,re=c):mw(s);for(;i!==null;)re=i,n2(i),i=i.sibling;re=s,Xc=l,Nt=u}fw(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):fw(e)}}function fw(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Nt||mf(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Nt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Fr(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Xb(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Xb(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Pl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Nt||t.flags&512&&Wp(t)}catch(h){Ke(t,t.return,h)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function hw(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function mw(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{mf(4,t)}catch(c){Ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ke(t,s,c)}}var i=t.return;try{Wp(t)}catch(c){Ke(t,i,c)}break;case 5:var a=t.return;try{Wp(t)}catch(c){Ke(t,a,c)}}}catch(c){Ke(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var h3=Math.ceil,ad=Kn.ReactCurrentDispatcher,iy=Kn.ReactCurrentOwner,kr=Kn.ReactCurrentBatchConfig,ye=0,ht=null,Qe=null,vt=0,sr=0,ia=Ts(0),rt=0,Ll=null,Ni=0,pf=0,ay=0,ll=null,Kt=null,oy=0,Ma=1/0,bn=null,od=!1,qp=null,bs=null,Jc=!1,hs=null,ld=0,cl=0,Hp=null,Cu=-1,Tu=0;function Lt(){return ye&6?Ye():Cu!==-1?Cu:Cu=Ye()}function ws(e){return e.mode&1?ye&2&&vt!==0?vt&-vt:X5.transition!==null?(Tu===0&&(Tu=zS()),Tu):(e=_e,e!==0||(e=window.event,e=e===void 0?16:GS(e.type)),e):1}function Gr(e,t,r,n){if(50<cl)throw cl=0,Hp=null,Error(Z(185));nc(e,r,n),(!(ye&2)||e!==ht)&&(e===ht&&(!(ye&2)&&(pf|=r),rt===4&&cs(e,vt)),Zt(e,n),r===1&&ye===0&&!(t.mode&1)&&(Ma=Ye()+500,df&&Ms()))}function Zt(e,t){var r=e.callbackNode;XM(e,t);var n=Ku(e,e===ht?vt:0);if(n===0)r!==null&&_b(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&_b(r),t===1)e.tag===0?Y5(pw.bind(null,e)):hP(pw.bind(null,e)),K5(function(){!(ye&6)&&Ms()}),r=null;else{switch(US(n)){case 1:r=Mg;break;case 4:r=BS;break;case 16:r=Vu;break;case 536870912:r=FS;break;default:r=Vu}r=d2(r,s2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function s2(e,t){if(Cu=-1,Tu=0,ye&6)throw Error(Z(327));var r=e.callbackNode;if(wa()&&e.callbackNode!==r)return null;var n=Ku(e,e===ht?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=cd(e,n);else{t=n;var s=ye;ye|=2;var i=a2();(ht!==e||vt!==t)&&(bn=null,Ma=Ye()+500,fi(e,t));do try{g3();break}catch(l){i2(e,l)}while(!0);qg(),ad.current=i,ye=s,Qe!==null?t=0:(ht=null,vt=0,t=rt)}if(t!==0){if(t===2&&(s=bp(e),s!==0&&(n=s,t=Gp(e,s))),t===1)throw r=Ll,fi(e,0),cs(e,n),Zt(e,Ye()),r;if(t===6)cs(e,n);else{if(s=e.current.alternate,!(n&30)&&!m3(s)&&(t=cd(e,n),t===2&&(i=bp(e),i!==0&&(n=i,t=Gp(e,i))),t===1))throw r=Ll,fi(e,0),cs(e,n),Zt(e,Ye()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:Ys(e,Kt,bn);break;case 3:if(cs(e,n),(n&130023424)===n&&(t=oy+500-Ye(),10<t)){if(Ku(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Lt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ap(Ys.bind(null,e,Kt,bn),t);break}Ys(e,Kt,bn);break;case 4:if(cs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-Hr(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=Ye()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*h3(n/1960))-n,10<n){e.timeoutHandle=Ap(Ys.bind(null,e,Kt,bn),n);break}Ys(e,Kt,bn);break;case 5:Ys(e,Kt,bn);break;default:throw Error(Z(329))}}}return Zt(e,Ye()),e.callbackNode===r?s2.bind(null,e):null}function Gp(e,t){var r=ll;return e.current.memoizedState.isDehydrated&&(fi(e,t).flags|=256),e=cd(e,t),e!==2&&(t=Kt,Kt=r,t!==null&&Yp(t)),e}function Yp(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function m3(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Yr(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cs(e,t){for(t&=~ay,t&=~pf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Hr(t),n=1<<r;e[r]=-1,t&=~n}}function pw(e){if(ye&6)throw Error(Z(327));wa();var t=Ku(e,0);if(!(t&1))return Zt(e,Ye()),null;var r=cd(e,t);if(e.tag!==0&&r===2){var n=bp(e);n!==0&&(t=n,r=Gp(e,n))}if(r===1)throw r=Ll,fi(e,0),cs(e,t),Zt(e,Ye()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ys(e,Kt,bn),Zt(e,Ye()),null}function ly(e,t){var r=ye;ye|=1;try{return e(t)}finally{ye=r,ye===0&&(Ma=Ye()+500,df&&Ms())}}function Si(e){hs!==null&&hs.tag===0&&!(ye&6)&&wa();var t=ye;ye|=1;var r=kr.transition,n=_e;try{if(kr.transition=null,_e=1,e)return e()}finally{_e=n,kr.transition=r,ye=t,!(ye&6)&&Ms()}}function cy(){sr=ia.current,De(ia)}function fi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,V5(r)),Qe!==null)for(r=Qe.return;r!==null;){var n=r;switch(Wg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xu();break;case 3:Ca(),De(Jt),De(Et),Qg();break;case 5:Jg(n);break;case 4:Ca();break;case 13:De(Le);break;case 19:De(Le);break;case 10:Hg(n.type._context);break;case 22:case 23:cy()}r=r.return}if(ht=e,Qe=e=js(e.current,null),vt=sr=t,rt=0,Ll=null,ay=pf=Ni=0,Kt=ll=null,ni!==null){for(t=0;t<ni.length;t++)if(r=ni[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}ni=null}return e}function i2(e,t){do{var r=Qe;try{if(qg(),Au.current=id,sd){for(var n=Be.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}sd=!1}if(_i=0,dt=tt=Be=null,al=!1,Dl=0,iy.current=null,r===null||r.return===null){rt=1,Ll=t,Qe=null;break}e:{var i=e,a=r.return,l=r,c=t;if(t=vt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=rw(a);if(m!==null){m.flags&=-257,nw(m,a,l,i,t),m.mode&1&&tw(i,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){tw(i,u,t),uy();break e}c=Error(Z(426))}}else if(Re&&l.mode&1){var w=rw(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),nw(w,a,l,i,t),Vg(Ta(c,l));break e}}i=c=Ta(c,l),rt!==4&&(rt=2),ll===null?ll=[i]:ll.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=UP(i,c,t);Yb(i,g);break e;case 1:l=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(bs===null||!bs.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=WP(i,l,t);Yb(i,_);break e}}i=i.return}while(i!==null)}l2(r)}catch(j){t=j,Qe===r&&r!==null&&(Qe=r=r.return);continue}break}while(!0)}function a2(){var e=ad.current;return ad.current=id,e===null?id:e}function uy(){(rt===0||rt===3||rt===2)&&(rt=4),ht===null||!(Ni&268435455)&&!(pf&268435455)||cs(ht,vt)}function cd(e,t){var r=ye;ye|=2;var n=a2();(ht!==e||vt!==t)&&(bn=null,fi(e,t));do try{p3();break}catch(s){i2(e,s)}while(!0);if(qg(),ye=r,ad.current=n,Qe!==null)throw Error(Z(261));return ht=null,vt=0,rt}function p3(){for(;Qe!==null;)o2(Qe)}function g3(){for(;Qe!==null&&!zM();)o2(Qe)}function o2(e){var t=u2(e.alternate,e,sr);e.memoizedProps=e.pendingProps,t===null?l2(e):Qe=t,iy.current=null}function l2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=c3(r,t),r!==null){r.flags&=32767,Qe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,Qe=null;return}}else if(r=l3(r,t,sr),r!==null){Qe=r;return}if(t=t.sibling,t!==null){Qe=t;return}Qe=t=e}while(t!==null);rt===0&&(rt=5)}function Ys(e,t,r){var n=_e,s=kr.transition;try{kr.transition=null,_e=1,y3(e,t,r,n)}finally{kr.transition=s,_e=n}return null}function y3(e,t,r,n){do wa();while(hs!==null);if(ye&6)throw Error(Z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(JM(e,i),e===ht&&(Qe=ht=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jc||(Jc=!0,d2(Vu,function(){return wa(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=kr.transition,kr.transition=null;var a=_e;_e=1;var l=ye;ye|=4,iy.current=null,d3(e,r),r2(r,e),L5(Pp),qu=!!Sp,Pp=Sp=null,e.current=r,f3(r),UM(),ye=l,_e=a,kr.transition=i}else e.current=r;if(Jc&&(Jc=!1,hs=e,ld=s),i=e.pendingLanes,i===0&&(bs=null),KM(r.stateNode),Zt(e,Ye()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(od)throw od=!1,e=qp,qp=null,e;return ld&1&&e.tag!==0&&wa(),i=e.pendingLanes,i&1?e===Hp?cl++:(cl=0,Hp=e):cl=0,Ms(),null}function wa(){if(hs!==null){var e=US(ld),t=kr.transition,r=_e;try{if(kr.transition=null,_e=16>e?16:e,hs===null)var n=!1;else{if(e=hs,hs=null,ld=0,ye&6)throw Error(Z(331));var s=ye;for(ye|=4,re=e.current;re!==null;){var i=re,a=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:ol(8,d,i)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var h=d.sibling,m=d.return;if(ZP(d),d===u){re=null;break}if(h!==null){h.return=m,re=h;break}re=m}}}var p=i.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}re=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,re=a;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ol(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,re=g;break e}re=i.return}}var v=e.current;for(re=v;re!==null;){a=re;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,re=b;else e:for(a=v;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:mf(9,l)}}catch(j){Ke(l,l.return,j)}if(l===a){re=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,re=_;break e}re=l.return}}if(ye=s,Ms(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(af,e)}catch{}n=!0}return n}finally{_e=r,kr.transition=t}}return!1}function gw(e,t,r){t=Ta(r,t),t=UP(e,t,1),e=xs(e,t,1),t=Lt(),e!==null&&(nc(e,1,t),Zt(e,t))}function Ke(e,t,r){if(e.tag===3)gw(e,e,r);else for(;t!==null;){if(t.tag===3){gw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bs===null||!bs.has(n))){e=Ta(r,e),e=WP(t,e,1),t=xs(t,e,1),e=Lt(),t!==null&&(nc(t,1,e),Zt(t,e));break}}t=t.return}}function v3(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Lt(),e.pingedLanes|=e.suspendedLanes&r,ht===e&&(vt&r)===r&&(rt===4||rt===3&&(vt&130023424)===vt&&500>Ye()-oy?fi(e,0):ay|=r),Zt(e,t)}function c2(e,t){t===0&&(e.mode&1?(t=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):t=1);var r=Lt();e=Dn(e,t),e!==null&&(nc(e,t,r),Zt(e,r))}function x3(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),c2(e,r)}function b3(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),c2(e,r)}var u2;u2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Jt.current)Gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gt=!1,o3(e,t,r);Gt=!!(e.flags&131072)}else Gt=!1,Re&&t.flags&1048576&&mP(t,Zu,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ou(e,t),e=t.pendingProps;var s=Aa(t,Et.current);ba(t,r),s=ey(null,t,n,e,s,r);var i=ty();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Qt(n)?(i=!0,Ju(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Yg(t),s.updater=hf,t.stateNode=s,s._reactInternals=t,Rp(t,n,e,r),t=Ip(null,t,n,!0,i,r)):(t.tag=0,Re&&i&&Ug(t),Mt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ou(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=j3(n),e=Fr(n,e),s){case 0:t=Lp(null,t,n,e,r);break e;case 1:t=aw(null,t,n,e,r);break e;case 11:t=sw(null,t,n,e,r);break e;case 14:t=iw(null,t,n,Fr(n.type,e),r);break e}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Lp(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),aw(e,t,n,s,r);case 3:e:{if(HP(t),e===null)throw Error(Z(387));n=t.pendingProps,i=t.memoizedState,s=i.element,bP(e,t),rd(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Ta(Error(Z(423)),t),t=ow(e,t,n,r,s);break e}else if(n!==s){s=Ta(Error(Z(424)),t),t=ow(e,t,n,r,s);break e}else for(ar=vs(t.stateNode.containerInfo.firstChild),or=t,Re=!0,Wr=null,r=vP(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ea(),n===s){t=Rn(e,t,r);break e}Mt(e,t,n,r)}t=t.child}return t;case 5:return wP(t),e===null&&Tp(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,kp(n,s)?a=null:i!==null&&kp(n,i)&&(t.flags|=32),qP(e,t),Mt(e,t,a,r),t.child;case 6:return e===null&&Tp(t),null;case 13:return GP(e,t,r);case 4:return Xg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Oa(t,null,n,r):Mt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),sw(e,t,n,s,r);case 7:return Mt(e,t,t.pendingProps,r),t.child;case 8:return Mt(e,t,t.pendingProps.children,r),t.child;case 12:return Mt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,Oe(ed,n._currentValue),n._currentValue=a,i!==null)if(Yr(i.value,a)){if(i.children===s.children&&!Jt.current){t=Rn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){a=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=En(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),Mp(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(Z(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),Mp(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Mt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ba(t,r),s=Er(s),n=n(s),t.flags|=1,Mt(e,t,n,r),t.child;case 14:return n=t.type,s=Fr(n,t.pendingProps),s=Fr(n.type,s),iw(e,t,n,s,r);case 15:return VP(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Fr(n,s),Ou(e,t),t.tag=1,Qt(n)?(e=!0,Ju(t)):e=!1,ba(t,r),zP(t,n,s),Rp(t,n,s,r),Ip(null,t,n,!0,e,r);case 19:return YP(e,t,r);case 22:return KP(e,t,r)}throw Error(Z(156,t.tag))};function d2(e,t){return IS(e,t)}function w3(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(e,t,r,n){return new w3(e,t,r,n)}function dy(e){return e=e.prototype,!(!e||!e.isReactComponent)}function j3(e){if(typeof e=="function")return dy(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Og)return 11;if(e===Cg)return 14}return 2}function js(e,t){var r=e.alternate;return r===null?(r=Sr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mu(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")dy(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Yi:return hi(r.children,s,i,t);case Eg:a=8,s|=8;break;case ip:return e=Sr(12,r,t,s|2),e.elementType=ip,e.lanes=i,e;case ap:return e=Sr(13,r,t,s),e.elementType=ap,e.lanes=i,e;case op:return e=Sr(19,r,t,s),e.elementType=op,e.lanes=i,e;case wS:return gf(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xS:a=10;break e;case bS:a=9;break e;case Og:a=11;break e;case Cg:a=14;break e;case ss:a=16,n=null;break e}throw Error(Z(130,e==null?e:typeof e,""))}return t=Sr(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function hi(e,t,r,n){return e=Sr(7,e,n,t),e.lanes=r,e}function gf(e,t,r,n){return e=Sr(22,e,n,t),e.elementType=wS,e.lanes=r,e.stateNode={isHidden:!1},e}function am(e,t,r){return e=Sr(6,e,null,t),e.lanes=r,e}function om(e,t,r){return t=Sr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _3(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zh(0),this.expirationTimes=zh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zh(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function fy(e,t,r,n,s,i,a,l,c){return e=new _3(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Sr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yg(i),e}function N3(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function f2(e){if(!e)return ks;e=e._reactInternals;e:{if(Ci(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Qt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(Qt(r))return fP(e,r,t)}return t}function h2(e,t,r,n,s,i,a,l,c){return e=fy(r,n,!0,e,s,i,a,l,c),e.context=f2(null),r=e.current,n=Lt(),s=ws(r),i=En(n,s),i.callback=t??null,xs(r,i,s),e.current.lanes=s,nc(e,s,n),Zt(e,n),e}function yf(e,t,r,n){var s=t.current,i=Lt(),a=ws(s);return r=f2(r),t.context===null?t.context=r:t.pendingContext=r,t=En(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=xs(s,t,a),e!==null&&(Gr(e,s,a,i),ku(e,s,a)),a}function ud(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function yw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function hy(e,t){yw(e,t),(e=e.alternate)&&yw(e,t)}function S3(){return null}var m2=typeof reportError=="function"?reportError:function(e){console.error(e)};function my(e){this._internalRoot=e}vf.prototype.render=my.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));yf(e,t,null,null)};vf.prototype.unmount=my.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Si(function(){yf(null,e,null,null)}),t[Mn]=null}};function vf(e){this._internalRoot=e}vf.prototype.unstable_scheduleHydration=function(e){if(e){var t=KS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ls.length&&t!==0&&t<ls[r].priority;r++);ls.splice(r,0,e),r===0&&HS(e)}};function py(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function vw(){}function P3(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=ud(a);i.call(u)}}var a=h2(t,n,e,0,null,!1,!1,"",vw);return e._reactRootContainer=a,e[Mn]=a.current,El(e.nodeType===8?e.parentNode:e),Si(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ud(c);l.call(u)}}var c=fy(e,0,!1,null,null,!1,!1,"",vw);return e._reactRootContainer=c,e[Mn]=c.current,El(e.nodeType===8?e.parentNode:e),Si(function(){yf(t,c,r,n)}),c}function bf(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var l=s;s=function(){var c=ud(a);l.call(c)}}yf(t,a,e,s)}else a=P3(r,t,e,s,n);return ud(a)}WS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Go(t.pendingLanes);r!==0&&(Dg(t,r|1),Zt(t,Ye()),!(ye&6)&&(Ma=Ye()+500,Ms()))}break;case 13:Si(function(){var n=Dn(e,1);if(n!==null){var s=Lt();Gr(n,e,1,s)}}),hy(e,1)}};Rg=function(e){if(e.tag===13){var t=Dn(e,134217728);if(t!==null){var r=Lt();Gr(t,e,134217728,r)}hy(e,134217728)}};VS=function(e){if(e.tag===13){var t=ws(e),r=Dn(e,t);if(r!==null){var n=Lt();Gr(r,e,t,n)}hy(e,t)}};KS=function(){return _e};qS=function(e,t){var r=_e;try{return _e=e,t()}finally{_e=r}};yp=function(e,t,r){switch(t){case"input":if(up(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=uf(n);if(!s)throw Error(Z(90));_S(n),up(n,s)}}}break;case"textarea":SS(e,r);break;case"select":t=r.value,t!=null&&ga(e,!!r.multiple,t,!1)}};TS=ly;MS=Si;var k3={usingClientEntryPoint:!1,Events:[ic,Zi,uf,OS,CS,ly]},Do={findFiberByHostInstance:ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A3={bundleType:Do.bundleType,version:Do.version,rendererPackageName:Do.rendererPackageName,rendererConfig:Do.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Kn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=$S(e),e===null?null:e.stateNode},findFiberByHostInstance:Do.findFiberByHostInstance||S3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{af=Qc.inject(A3),an=Qc}catch{}}mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k3;mr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!py(t))throw Error(Z(200));return N3(e,t,null,r)};mr.createRoot=function(e,t){if(!py(e))throw Error(Z(299));var r=!1,n="",s=m2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=fy(e,1,!1,null,null,r,!1,n,s),e[Mn]=t.current,El(e.nodeType===8?e.parentNode:e),new my(t)};mr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=$S(t),e=e===null?null:e.stateNode,e};mr.flushSync=function(e){return Si(e)};mr.hydrate=function(e,t,r){if(!xf(t))throw Error(Z(200));return bf(null,e,t,!0,r)};mr.hydrateRoot=function(e,t,r){if(!py(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=m2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=h2(t,null,e,1,r??null,s,!1,i,a),e[Mn]=t.current,El(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new vf(t)};mr.render=function(e,t,r){if(!xf(t))throw Error(Z(200));return bf(null,e,t,!1,r)};mr.unmountComponentAtNode=function(e){if(!xf(e))throw Error(Z(40));return e._reactRootContainer?(Si(function(){bf(null,null,e,!1,function(){e._reactRootContainer=null,e[Mn]=null})}),!0):!1};mr.unstable_batchedUpdates=ly;mr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!xf(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return bf(e,t,r,!1,n)};mr.version="18.3.1-next-f1338f8080-20240426";function p2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(p2)}catch(e){console.error(e)}}p2(),pS.exports=mr;var g2=pS.exports,y2,xw=g2;y2=xw.createRoot,xw.hydrateRoot;const E3="modulepreload",O3=function(e){return"/"+e},bw={},oc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=O3(c),c in bw)return;bw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":E3,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},C3=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oc(async()=>{const{default:n}=await Promise.resolve().then(()=>no);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class gy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class T3 extends gy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ww extends gy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class jw extends gy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xp;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xp||(Xp={}));var M3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class D3{constructor(t,{headers:r={},customFetch:n,region:s=Xp.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=C3(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return M3(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const f=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new T3(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new ww(f);if(!f.ok)throw new jw(f);let m=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return m==="application/json"?p=yield f.json():m==="application/octet-stream"?p=yield f.blob():m==="text/event-stream"?p=f:m==="multipart/form-data"?p=yield f.formData():p=yield f.text(),{data:p,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof jw||s instanceof ww?s.context:void 0}}})}}var qt={},yy={},wf={},lc={},jf={},_f={},R3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Da=R3();const $3=Da.fetch,v2=Da.fetch.bind(Da),x2=Da.Headers,L3=Da.Request,I3=Da.Response,no=Object.freeze(Object.defineProperty({__proto__:null,Headers:x2,Request:L3,Response:I3,default:v2,fetch:$3},Symbol.toStringTag,{value:"Module"})),B3=rM(no);var Nf={};Object.defineProperty(Nf,"__esModule",{value:!0});let F3=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Nf.default=F3;var b2=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const z3=b2(B3),U3=b2(Nf);let W3=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=z3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,l,c;let u=null,d=null,f=null,h=i.status,m=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const x=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");x&&w&&w.length>1&&(f=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const x=await i.text();try{u=JSON.parse(x),Array.isArray(u)&&i.status===404&&(d=[],u=null,h=200,m="OK")}catch{i.status===404&&x===""?(h=204,m="No Content"):u={message:x}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,m="OK"),u&&this.shouldThrowOnError)throw new U3.default(u)}return{error:u,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,l,c;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};_f.default=W3;var V3=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jf,"__esModule",{value:!0});const K3=V3(_f);let q3=class extends K3.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${u}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};jf.default=q3;var H3=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lc,"__esModule",{value:!0});const G3=H3(jf);let Y3=class extends G3.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};lc.default=Y3;var X3=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(wf,"__esModule",{value:!0});const Ro=X3(lc);let J3=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Ro.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ro.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ro.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Ro.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Ro.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};wf.default=J3;var Sf={},Pf={};Object.defineProperty(Pf,"__esModule",{value:!0});Pf.version=void 0;Pf.version="0.0.0-automated";Object.defineProperty(Sf,"__esModule",{value:!0});Sf.DEFAULT_HEADERS=void 0;const Q3=Pf;Sf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Q3.version}`};var w2=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(yy,"__esModule",{value:!0});const Z3=w2(wf),eD=w2(lc),tD=Sf;let rD=class j2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},tD.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Z3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new j2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let a;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(a="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new eD.default({method:a,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};yy.default=rD;var so=Ar&&Ar.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qt,"__esModule",{value:!0});qt.PostgrestError=qt.PostgrestBuilder=qt.PostgrestTransformBuilder=qt.PostgrestFilterBuilder=qt.PostgrestQueryBuilder=qt.PostgrestClient=void 0;const _2=so(yy);qt.PostgrestClient=_2.default;const N2=so(wf);qt.PostgrestQueryBuilder=N2.default;const S2=so(lc);qt.PostgrestFilterBuilder=S2.default;const P2=so(jf);qt.PostgrestTransformBuilder=P2.default;const k2=so(_f);qt.PostgrestBuilder=k2.default;const A2=so(Nf);qt.PostgrestError=A2.default;var nD=qt.default={PostgrestClient:_2.default,PostgrestQueryBuilder:N2.default,PostgrestFilterBuilder:S2.default,PostgrestTransformBuilder:P2.default,PostgrestBuilder:k2.default,PostgrestError:A2.default};const{PostgrestClient:sD,PostgrestQueryBuilder:Tte,PostgrestFilterBuilder:Mte,PostgrestTransformBuilder:Dte,PostgrestBuilder:Rte,PostgrestError:$te}=nD;function iD(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const aD=iD(),oD="2.11.15",lD=`realtime-js/${oD}`,cD="1.0.0",E2=1e4,uD=1e3;var ul;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ul||(ul={}));var jt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(jt||(jt={}));var Ur;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ur||(Ur={}));var Jp;(function(e){e.websocket="websocket"})(Jp||(Jp={}));var ti;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ti||(ti={}));class dD{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+s));a=a+s;const c=n.decode(t.slice(a,a+i));a=a+i;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class O2{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ae;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ae||(Ae={}));const _w=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,a)=>(i[a]=fD(a,e,t,s),i),{})},fD=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?C2(i,a):Qp(a)},C2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gD(t,r)}switch(e){case Ae.bool:return hD(t);case Ae.float4:case Ae.float8:case Ae.int2:case Ae.int4:case Ae.int8:case Ae.numeric:case Ae.oid:return mD(t);case Ae.json:case Ae.jsonb:return pD(t);case Ae.timestamp:return yD(t);case Ae.abstime:case Ae.date:case Ae.daterange:case Ae.int4range:case Ae.int8range:case Ae.money:case Ae.reltime:case Ae.text:case Ae.time:case Ae.timestamptz:case Ae.timetz:case Ae.tsrange:case Ae.tstzrange:return Qp(t);default:return Qp(t)}},Qp=e=>e,hD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},mD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},pD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},gD=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(l=>C2(t,l))}return e},yD=e=>typeof e=="string"?e.replace(" ","T"):e,T2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class lm{constructor(t,r,n={},s=E2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nw;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nw||(Nw={}));class dl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dl.syncState(this.state,s,i,a),this.pendingDiffs.forEach(c=>{this.state=dl.syncDiff(this.state,c,i,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=dl.syncDiff(this.state,s,i,a),l())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),l={},c={};return this.map(i,(u,d)=>{a[u]||(c[u]=d)}),this.map(a,(u,d)=>{const f=i[u];if(f){const h=d.map(w=>w.presence_ref),m=f.map(w=>w.presence_ref),p=d.filter(w=>m.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);p.length>0&&(l[u]=p),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(a,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sw;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Sw||(Sw={}));var Pw;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Pw||(Pw={}));var wn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(wn||(wn={}));class vy{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=jt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new lm(this,Ur.join,this.params,this.timeout),this.rejoinTimer=new O2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=jt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=jt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=jt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ur.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new dl(this),this.broadcastEndpointURL=T2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==jt.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params;this._onError(d=>t==null?void 0:t(wn.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(wn.CLOSED));const c={},u={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(wn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,p=[];for(let x=0;x<m;x++){const w=h[x],{filter:{event:g,schema:v,table:b,filter:_}}=w,j=d&&d[x];if(j&&j.event===g&&j.schema===v&&j.table===b&&j.filter===_)p.push(Object.assign(Object.assign({},w),{id:j.id}));else{this.unsubscribe(),this.state=jt.errored,t==null||t(wn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(wn.SUBSCRIBED);return}}).receive("error",d=>{this.state=jt.errored,t==null||t(wn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(wn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=jt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ur.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new lm(this,Ur.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new lm(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ur;if(n&&[l,c,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var p,x,w;return((p=m.filter)===null||p===void 0?void 0:p.event)==="*"||((w=(x=m.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(m=>m.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(m=>{var p,x,w,g,v,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in m){const _=m.id,j=(p=m.filter)===null||p===void 0?void 0:p.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(v=(g=m==null?void 0:m.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return _==="*"||_===((b=r==null?void 0:r.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===a}).map(m=>{if(typeof h=="object"&&"ids"in h){const p=h.data,{schema:x,table:w,commit_timestamp:g,type:v,errors:b}=p;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:v,new:{},old:{},errors:b}),this._getPayloadRecords(p))}m.callback(h,n)})}_isClosed(){return this.state===jt.closed}_isJoined(){return this.state===jt.joined}_isJoining(){return this.state===jt.joining}_isLeaving(){return this.state===jt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&vy.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ur.close,{},t)}_onError(t){this._on(Ur.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=jt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=_w(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=_w(t.columns,t.old_record)),r}}const kw=()=>{},vD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xD{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=E2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=kw,this.ref=0,this.logger=kw,this.conn=null,this.sendBuffer=[],this.serializer=new dD,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...l)=>oc(async()=>{const{default:c}=await Promise.resolve().then(()=>no);return{default:c}},void 0).then(({default:c})=>c(...l)):a=fetch,(...l)=>a(...l)},this.endPoint=`${t}/${Jp.websocket}`,this.httpEndpoint=T2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,a)=>a(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new O2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=aD),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:cD}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ul.connecting:return ti.Connecting;case ul.open:return ti.Open;case ul.closing:return ti.Closing;default:return ti.Closed}}isConnected(){return this.connectionState()===ti.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new vy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:lD};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ur.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(uD,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:a}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ur.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([vD],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class xy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class bD extends xy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Zp extends xy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var wD=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const M2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oc(async()=>{const{default:n}=await Promise.resolve().then(()=>no);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},jD=()=>wD(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oc(()=>Promise.resolve().then(()=>no),void 0)).Response:Response}),e0=e=>{if(Array.isArray(e))return e.map(r=>e0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=e0(n)}),t},_D=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ti=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const cm=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ND=(e,t,r)=>Ti(void 0,void 0,void 0,function*(){const n=yield jD();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const i=e.status||500,a=(s==null?void 0:s.statusCode)||i+"";t(new bD(cm(s),i,a))}).catch(s=>{t(new Zp(cm(s),s))}):t(new Zp(cm(e),e))}),SD=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(_D(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function cc(e,t,r,n,s,i){return Ti(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,SD(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>ND(c,l,n))})})}function dd(e,t,r,n){return Ti(this,void 0,void 0,function*(){return cc(e,"GET",t,r,n)})}function jn(e,t,r,n,s){return Ti(this,void 0,void 0,function*(){return cc(e,"POST",t,n,s,r)})}function t0(e,t,r,n,s){return Ti(this,void 0,void 0,function*(){return cc(e,"PUT",t,n,s,r)})}function PD(e,t,r,n){return Ti(this,void 0,void 0,function*(){return cc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function D2(e,t,r,n,s){return Ti(this,void 0,void 0,function*(){return cc(e,"DELETE",t,n,s,r)})}var Ut=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const kD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Aw={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class AD{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=M2(s)}uploadOrUpdate(t,r,n,s){return Ut(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},Aw),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?t0:jn)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ut(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),a=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Aw.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield t0(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(lt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield jn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),l=a.searchParams.get("token");if(!l)throw new xy("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ut(this,void 0,void 0,function*(){try{return{data:{path:(yield jn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ut(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield jn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ut(this,void 0,void 0,function*(){try{const s=yield jn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}download(t,r){return Ut(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield dd(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}info(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield dd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:e0(n),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}exists(t){return Ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield PD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(lt(n)&&n instanceof Zp){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ut(this,void 0,void 0,function*(){try{return{data:yield D2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ut(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},kD),r),{prefix:t||""});return{data:yield jn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(lt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const ED="2.10.4",OD={"X-Client-Info":`storage-js/${ED}`};var Bi=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class CD{constructor(t,r={},n,s){const i=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},OD),r),this.fetch=M2(n)}listBuckets(){return Bi(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return Bi(this,void 0,void 0,function*(){try{return{data:yield dd(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Bi(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Bi(this,void 0,void 0,function*(){try{return{data:yield t0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Bi(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Bi(this,void 0,void 0,function*(){try{return{data:yield D2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}}class TD extends CD{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new AD(this.url,this.headers,t,this.fetch)}}const MD="2.53.0";let Xo="";typeof Deno<"u"?Xo="deno":typeof document<"u"?Xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xo="react-native":Xo="node";const DD={"X-Client-Info":`supabase-js-${Xo}/${MD}`},RD={headers:DD},$D={schema:"public"},LD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ID={};var BD=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const FD=e=>{let t;return e?t=e:typeof fetch>"u"?t=v2:t=fetch,(...r)=>t(...r)},zD=()=>typeof Headers>"u"?x2:Headers,UD=(e,t,r)=>{const n=FD(r),s=zD();return(i,a)=>BD(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},a),{headers:u}))})};var WD=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function VD(e){return e.endsWith("/")?e:e+"/"}function KD(e,t){var r,n;const{db:s,auth:i,realtime:a,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>WD(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const R2="2.71.1",qi=30*1e3,r0=3,um=r0*qi,qD="http://localhost:9999",HD="supabase.auth.token",GD={"X-Client-Info":`gotrue-js/${R2}`},n0="X-Supabase-Api-Version",$2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},YD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,XD=10*60*1e3;class by extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ue(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class JD extends by{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function QD(e){return ue(e)&&e.name==="AuthApiError"}class L2 extends by{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Ds extends by{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ts extends Ds{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ZD(e){return ue(e)&&e.name==="AuthSessionMissingError"}class Zc extends Ds{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class eu extends Ds{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class tu extends Ds{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function eR(e){return ue(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ew extends Ds{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class s0 extends Ds{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function dm(e){return ue(e)&&e.name==="AuthRetryableFetchError"}class Ow extends Ds{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class i0 extends Ds{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const fd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cw=` 	
\r=`.split(""),tR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cw.length;t+=1)e[Cw[t].charCodeAt(0)]=-2;for(let t=0;t<fd.length;t+=1)e[fd[t].charCodeAt(0)]=t;return e})();function Tw(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(fd[n]),t.queuedBits-=6}}function I2(e,t,r){const n=tR[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mw(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{sR(a,n,r)};for(let a=0;a<e.length;a+=1)I2(e.charCodeAt(a),s,i);return t.join("")}function rR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function nR(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}rR(n,t)}}function sR(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function iR(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)I2(e.charCodeAt(s),r,n);return new Uint8Array(t)}function aR(e){const t=[];return nR(e,r=>t.push(r)),new Uint8Array(t)}function oR(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Tw(s,r,n)),Tw(null,r,n),t.join("")}function lR(e){return Math.round(Date.now()/1e3)+e}function cR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Ir=()=>typeof window<"u"&&typeof document<"u",Ks={tested:!1,writable:!1},B2=()=>{if(!Ir())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ks.tested)return Ks.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ks.tested=!0,Ks.writable=!0}catch{Ks.tested=!0,Ks.writable=!1}return Ks.writable};function uR(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const F2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>oc(async()=>{const{default:n}=await Promise.resolve().then(()=>no);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},dR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},qs=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Qn=async(e,t)=>{await e.removeItem(t)};class kf{constructor(){this.promise=new kf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}kf.promiseConstructor=Promise;function fm(e){const t=e.split(".");if(t.length!==3)throw new i0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!YD.test(t[n]))throw new i0("JWT not in base64url format");return{header:JSON.parse(Mw(t[0])),payload:JSON.parse(Mw(t[1])),signature:iR(t[2]),raw:{header:t[0],payload:t[1]}}}async function fR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function hR(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function mR(e){return("0"+e.toString(16)).substr(-2)}function pR(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,mR).join("")}async function gR(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function yR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await gR(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fi(e,t,r=!1){const n=pR();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Hi(e,`${t}-code-verifier`,s);const i=await yR(n);return[i,n===i?"plain":"s256"]}const vR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xR(e){const t=e.headers.get(n0);if(!t||!t.match(vR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function bR(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wR(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const jR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zi(e){if(!jR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Dw(e){return JSON.parse(JSON.stringify(e))}var _R=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Xs=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NR=[502,503,504];async function Rw(e){var t;if(!dR(e))throw new s0(Xs(e),0);if(NR.includes(e.status))throw new s0(Xs(e),e.status);let r;try{r=await e.json()}catch(i){throw new L2(Xs(i),i)}let n;const s=xR(e);if(s&&s.getTime()>=$2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ow(Xs(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ts}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Ow(Xs(r),e.status,r.weak_password.reasons);throw new JD(Xs(r),e.status||500,n)}const SR=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function fe(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[n0]||(i[n0]=$2["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await PR(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function PR(e,t,r,n,s,i){const a=SR(t,n,s,i);let l;try{l=await e(r,Object.assign({},a))}catch(c){throw console.error(c),new s0(Xs(c),0)}if(l.ok||await Rw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Rw(c)}}function xn(e){var t;let r=null;OR(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=lR(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function $w(e){const t=xn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function us(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kR(e){return{data:e,error:null}}function AR(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=_R(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function ER(e){return e}function OR(e){return e.access_token&&e.refresh_token&&e.expires_in}const mm=["global","local","others"];var CR=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class TR{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=F2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=mm[0]){if(mm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${mm.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:us})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=CR(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:AR,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ue(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:us})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ER});if(d.error)throw d.error;const f=await d.json(),h=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(p=>{const x=parseInt(p.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(p.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ue(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zi(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:us})}catch(r){if(ue(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zi(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:us})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zi(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:us})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zi(t.userId);try{const{data:r,error:n}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zi(t.userId),zi(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}}function Lw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function MR(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ui={debug:!!(globalThis&&B2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class DR extends z2{}async function RR(e,t,r){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Ui.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new DR(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ui.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}MR();const $R={url:qD,storageKey:HD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:GD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Iw(e,t,r){return await r()}const Wi={};class Il{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Il.nextInstanceID,Il.nextInstanceID+=1,this.instanceID>0&&Ir()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},$R),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new TR({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=F2(s.fetch),this.lock=s.lock||Iw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ir()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=RR:this.lock=Iw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:B2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Lw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Lw(this.memoryStorage)),Ir()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Wi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Wi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wi[this.storageKey]=Object.assign(Object.assign({},Wi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${R2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=uR(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ir()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),eR(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ue(r)?{error:r}:{error:new L2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:xn}),{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Fi(this.storage,this.storageKey)),i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:p},xform:xn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:xn})}else throw new eu("You must provide either an email or phone number and a password");const{data:a,error:l}=i;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(ue(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$w})}else if("phone"in t){const{phone:i,password:a,options:l}=t;r=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:$w})}else throw new eu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Zc}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,a,l,c,u,d,f,h,m;let p,x;if("message"in t)p=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:v,options:b}=t;let _;if(Ir())if(typeof g=="object")_=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((r=b==null?void 0:b.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),v?{statement:v}:null));let k;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")k=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)k=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)p=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),x=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");p=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=b==null?void 0:b.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=b==null?void 0:b.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((l=b==null?void 0:b.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((c=b==null?void 0:b.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(d=b==null?void 0:b.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(p),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:g}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:p,signature:oR(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:xn});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Zc}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(ue(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await qs(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:a}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:xn});if(await Qn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Zc}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(ue(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,l=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:xn}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Zc}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Fi(this.storage,this.storageKey));const{error:f}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new eu("You must provide either an email or phone number.")}catch(l){if(ue(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:xn});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,u=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(ue(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Fi(this.storage,this.storageKey)),await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:kR})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ts;const{error:s}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(ue(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:l}=await fe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new eu("You must provide either an email or phone number and a type")}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await qs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<um:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await qs(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=hm()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:us}):await this._useSession(async r=>{var n,s,i;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ts}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:us})})}catch(r){if(ue(r))return ZD(r)&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ts;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Fi(this.storage,this.storageKey));const{data:u,error:d}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:us});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(ue(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ts;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=fm(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(ue(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ts;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ue(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Ir())throw new tu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ew("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ew("No code detected.");const{data:v,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!a||!u)throw new tu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=qi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const p=h-f;d-p>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",p,h,d):d-p<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",p,h,d);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(ue(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await qs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(QD(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Qn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=cR(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Fi(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(ue(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,l,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ir()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ue(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await hR(async s=>(s>0&&await fR(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:xn})),(s,i)=>{const a=200*Math.pow(2,s);return i&&dm(i)&&Date.now()+a-n<qi})}catch(n){if(this._debug(r,"error",n),ue(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Ir()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await qs(this.storage,this.storageKey);if(s&&this.userStorage){let a=await qs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Hi(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:hm()}else if(s&&!s.user&&!s.user){const a=await qs(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Qn(this.storage,this.storageKey+"-user"),await Hi(this.storage,this.storageKey,s)):s.user=hm()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<um;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${um}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),dm(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new kf;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new ts;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),ue(i)){const a={session:null,error:i};return dm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(a),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hi(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Dw(s);await Hi(this.storage,this.storageKey,i)}else{const s=Dw(r);await Hi(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Qn(this.storage,this.storageKey),await Qn(this.storage,this.storageKey+"-code-verifier"),await Qn(this.storage,this.storageKey+"-user"),this.userStorage&&await Qn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ir()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/qi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qi}ms, refresh threshold is ${r0} ticks`),s<=r0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ir()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Fi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(ue(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:a,error:l}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ue(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=fm(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+XD>s)return n;const{data:i,error:a}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:p}=await this.getSession();if(p||!m.session)return{data:null,error:p};n=m.session.access_token}const{header:s,payload:i,signature:a,raw:{header:l,payload:c}}=fm(n);r!=null&&r.allowExpired||bR(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:s,signature:a},error:null}}const d=wR(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,aR(`${l}.${c}`)))throw new i0("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}}}Il.nextInstanceID=0;const LR=Il;class IR extends LR{constructor(t){super(t)}}var BR=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function l(d){try{u(n.next(d))}catch(f){a(f)}}function c(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class FR{constructor(t,r,n){var s,i,a;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=VD(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:$D,realtime:ID,auth:Object.assign(Object.assign({},LD),{storageKey:u}),global:RD},f=KD(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=UD(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new sD(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new TD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new D3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return BR(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IR({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:a,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new xD(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zR=(e,t,r)=>new FR(e,t,r);function UR(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}UR()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const WR="https://eymxpphofhhfeuvaqfad.supabase.co",VR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV5bXhwcGhvZmhoZmV1dmFxZmFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNTAwMTIsImV4cCI6MjA2ODkyNjAxMn0.mR-TxkFP6b48BB_s_W7mD7NFV3oEZIweAQk7EefzssY",Y=zR(WR,VR),U2=y.createContext(void 0);function KR({children:e}){const[t,r]=y.useState(null),[n,s]=y.useState(!1);y.useEffect(()=>{(async()=>{s(!0);try{const{data:{session:u}}=await Y.auth.getSession();if(u!=null&&u.user){const{data:d}=await Y.from("profiles").select("*").eq("id",u.user.id).limit(1);d&&d.length>0&&r({id:d[0].id,username:d[0].username,email:d[0].email||"",role:d[0].role||"user",joinedDate:d[0].created_at})}}catch(u){console.error("Session check error:",u)}finally{s(!1)}})()},[]);const i=async(c,u)=>{try{console.log("🔐 LOGIN ATTEMPT - Username:",c);const{data:d,error:f}=await Y.from("profiles").select("*").eq("username",c).limit(1);if(f)return console.error("❌ LOGIN FAILED - Database error:",f),!1;if(!d||d.length===0)return console.error("❌ LOGIN FAILED - No profile found for username:",c),!1;const h=d[0];if(!h.email)return console.error("❌ LOGIN FAILED - Profile has no email:",h),!1;console.log("✅ Profile found - Email:",h.email,"Role:",h.role);const{data:m,error:p}=await Y.auth.signInWithPassword({email:h.email,password:u});return p?(console.error("❌ SUPABASE AUTH ERROR:",p.message),!1):(r({id:h.id,username:h.username,email:h.email||"",role:h.role||"user",joinedDate:h.created_at}),!0)}catch(d){return console.error("Login error:",d),!1}},a=async(c,u,d,f)=>{var h,m,p,x;try{console.log("📝 SIGNUP ATTEMPT - Username:",c,"Email:",u);const{data:w}=await Y.from("profiles").select("username").eq("username",c).single();if(w)return console.error("❌ SIGNUP FAILED - Username already exists:",c),!1;const{data:g,error:v}=await Y.auth.signUp({email:u,password:d,options:{data:{username:c}}});if(v)return console.error("❌ SUPABASE SIGNUP ERROR:",v.message,"Code:",v.status),!1;if(console.log("✅ SUPABASE SIGNUP SUCCESS:",{user_id:(h=g.user)==null?void 0:h.id,email:(m=g.user)==null?void 0:m.email,email_confirmed:(p=g.user)==null?void 0:p.email_confirmed_at,user_metadata:(x=g.user)==null?void 0:x.user_metadata}),g.user){const{error:b}=await Y.from("profiles").insert({id:g.user.id,username:c,email:u,role:f});b?console.error("❌ PROFILE CREATION ERROR:",b.message):console.log("✅ PROFILE CREATED SUCCESSFULLY")}return!0}catch(w){return console.error("Signup error:",w),!1}},l=async()=>{try{console.log("🚪 LOGOUT: Starting logout process..."),r(null);const{error:c}=await Y.auth.signOut();c?console.error("❌ LOGOUT: Supabase signout error:",c):console.log("✅ LOGOUT: Supabase signout successful"),localStorage.clear(),sessionStorage.clear(),setTimeout(()=>{window.location.href=window.location.origin},100)}catch(c){console.error("❌ LOGOUT: Unexpected error:",c),r(null),localStorage.clear(),sessionStorage.clear(),setTimeout(()=>{window.location.href=window.location.origin},100)}};return o.jsx(U2.Provider,{value:{user:t,login:i,signup:a,logout:l,loading:n,setUser:r},children:e})}function zt(){const e=y.useContext(U2);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const W2=y.createContext(void 0);function qR({children:e}){const[t,r]=y.useState({isOpen:!1,title:"",message:"",type:"alert"}),n=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"confirm",resolve:d})}),s=(c,u)=>new Promise(d=>{r({isOpen:!0,title:c,message:u,type:"alert",resolve:d})}),i=()=>{t.resolve&&t.resolve(!0),r(c=>({...c,isOpen:!1}))},a=()=>{t.resolve&&(t.type==="confirm"?t.resolve(!1):t.resolve()),r(c=>({...c,isOpen:!1}))},l=()=>{a()};return o.jsxs(W2.Provider,{value:{confirm:n,alert:s},children:[e,t.isOpen&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50",onClick:l}),o.jsx("div",{className:"fixed inset-0 flex items-center justify-center p-4 z-50",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 border border-gray-200",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mr-4",children:o.jsx("span",{className:"text-blue-600 text-xl",children:t.type==="confirm"?"⚠️":"ℹ️"})}),o.jsx("div",{children:o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:t.title})})]}),o.jsx("p",{className:"text-gray-600 mb-6",children:t.message}),o.jsxs("div",{className:"flex justify-end space-x-3",children:[t.type==="confirm"&&o.jsx("button",{onClick:a,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),o.jsx("button",{onClick:i,className:`px-4 py-2 rounded-md transition-colors ${t.type==="confirm"?"bg-red-600 text-white hover:bg-red-700":"bg-blue-600 text-white hover:bg-blue-700"}`,children:t.type==="confirm"?"Confirm":"OK"})]})]})})})]})]})}function Rs(){const e=y.useContext(W2);if(e===void 0)throw new Error("useConfirmation must be used within a ConfirmationProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),le=(e,t)=>{const r=y.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,...u},d)=>y.createElement("svg",{ref:d,...HR,width:s,height:s,stroke:n,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${GR(e)}`,l].join(" "),...u},[...t.map(([f,h])=>y.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=le("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YR=le("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wy=le("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=le("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=le("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=le("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=le("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=le("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZR=le("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jy=le("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=le("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=le("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e$=le("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=le("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const un=le("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=le("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r$=le("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=le("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=le("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=le("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s$=le("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i$=le("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a$=le("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o$=le("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=le("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=le("Medal",[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l$=le("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=le("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=le("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=le("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=le("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $s=le("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=le("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=le("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _s=le("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=le("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c$=le("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u$=le("Table",[["path",{d:"M12 3v18",key:"108xh3"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d$=le("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=le("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=le("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=le("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=le("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f$=le("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mi=le("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=le("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=le("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _y=le("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function h$({onBackToLogin:e,onSignupSuccess:t}){const[r,n]=y.useState(""),[s,i]=y.useState(""),[a,l]=y.useState(""),[c,u]=y.useState(""),[d,f]=y.useState(!1),[h,m]=y.useState(!1),[p,x]=y.useState(""),[w,g]=y.useState(!1),[v,b]=y.useState(!1),{signup:_}=zt(),j=async N=>{if(N.preventDefault(),g(!0),x(""),b(!1),a!==c){x("Passwords do not match."),g(!1);return}if(a.length<6){x("Password must be at least 6 characters long."),g(!1);return}if(r.trim().length<3){x("Username must be at least 3 characters long."),g(!1);return}if(!s.trim()||!s.includes("@")){x("Please enter a valid email address."),g(!1);return}if(!/^[a-zA-Z0-9_-]+$/.test(r.trim())){x("Username can only contain letters, numbers, hyphens, and underscores."),g(!1);return}await _(r.trim(),s.trim(),a,"user")?b(!0):x("Failed to create account. Username might already be taken. Please try a different username."),g(!1)};return v?o.jsx("div",{className:"w-full max-w-md p-8 mx-auto",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(16,185,129,0.5)]",children:o.jsx("span",{className:"text-white text-2xl",children:"✓"})}),o.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Account Created!"}),o.jsx("p",{className:"text-slate-400 mb-6",children:"Your account has been successfully created! You can now sign in to access the system."}),o.jsx("button",{onClick:e,className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 text-white font-medium px-6 py-3 rounded-lg hover:from-green-400 hover:to-emerald-500 transition-all duration-200 shadow-[0_0_20px_rgba(16,185,129,0.3)]",children:"Back to Login"})]})}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:e,className:"p-2 hover:bg-slate-800 rounded-full transition-colors mr-3 text-cyan-400 hover:text-white",children:o.jsx(wy,{size:20})}),o.jsx("div",{children:o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Create Account"})})]}),o.jsxs("form",{onSubmit:j,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:r,onChange:N=>n(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,minLength:3,placeholder:"Choose a unique username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",id:"email",value:s,onChange:N=>i(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your email address"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:d?"text":"password",id:"password",value:a,onChange:N=>l(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 pr-10 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,minLength:6,placeholder:"At least 6 characters"}),o.jsx("button",{type:"button",onClick:()=>f(!d),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-cyan-400 transition-colors",children:d?o.jsx(md,{size:20}):o.jsx(un,{size:20})})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Confirm Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:h?"text":"password",id:"confirmPassword",value:c,onChange:N=>u(N.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 pr-10 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,minLength:6,placeholder:"Confirm your password"}),o.jsx("button",{type:"button",onClick:()=>m(!h),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-cyan-400 transition-colors",children:h?o.jsx(md,{size:20}):o.jsx(un,{size:20})})]})]}),p&&o.jsx("div",{className:"text-red-400 text-sm bg-red-500/10 border border-red-500/30 rounded-lg p-3",children:p}),o.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium px-6 py-3 rounded-lg hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 disabled:opacity-50 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:w?"Creating Account...":"Create Account"})]}),o.jsx("div",{className:"mt-6 text-center",children:o.jsx("p",{className:"text-xs text-slate-500",children:"By creating an account, you agree to participate in tournaments and follow community guidelines."})})]})}function H2({onLoginSuccess:e}){const[t,r]=y.useState(""),[n,s]=y.useState(""),[i,a]=y.useState(!1),[l,c]=y.useState(""),[u,d]=y.useState(!1),[f,h]=y.useState("login"),[m,p]=y.useState(!1),[x,w]=y.useState(""),[g,v]=y.useState(!1),[b,_]=y.useState(""),{login:j}=zt(),N=async P=>{P.preventDefault(),d(!0),c(""),await j(t,n)?(r(""),s(""),c(""),e==null||e()):c("Invalid username or password. Please check your credentials and try again."),d(!1)},k=async P=>{P.preventDefault(),v(!0),_("");try{const{error:E}=await Y.auth.resetPasswordForEmail(x,{redirectTo:"https://obcportal.netlify.app/reset-password"});if(E)throw E;_("Password reset email sent! Check your inbox for further instructions.")}catch(E){_(`Error: ${E.message}`)}finally{v(!1)}};return f==="signup"?o.jsx(h$,{onBackToLogin:()=>h("login"),onSignupSuccess:e}):m?o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx("button",{onClick:()=>p(!1),className:"p-2 hover:bg-slate-800 rounded-full transition-colors mr-3 text-cyan-400 hover:text-white",children:o.jsx(wy,{size:20})}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold text-white",children:"Reset Password"}),o.jsx("p",{className:"text-slate-400",children:"Enter your email to receive reset instructions"})]})]}),o.jsxs("form",{onSubmit:k,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Email Address"}),o.jsx("input",{type:"email",id:"resetEmail",value:x,onChange:P=>w(P.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your email address"})]}),b&&o.jsx("div",{className:`text-sm text-center p-3 rounded-md border ${b.includes("Error")?"text-red-400 bg-red-500/10 border-red-500/30":"text-green-400 bg-green-500/10 border-green-500/30"}`,children:b}),o.jsx("button",{type:"submit",disabled:g,className:"w-full bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium px-6 py-3 rounded-lg hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 disabled:opacity-50 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:g?"Sending...":"Send Reset Email"})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>p(!1),className:"w-full bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 hover:text-white font-medium px-6 py-3 rounded-lg transition-all duration-200",children:"Back to Login"})})]}):o.jsxs("div",{className:"w-full max-w-md p-8 mx-auto",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-lg flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(0,200,255,0.5)]",children:o.jsx("span",{className:"text-white text-2xl font-bold",children:"B"})}),o.jsx("h2",{className:"text-2xl font-bold text-white",children:"OBC Portal"}),o.jsx("p",{className:"text-slate-400 mt-2",children:"Ormoc Beyblade Club"})]}),o.jsxs("form",{onSubmit:N,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Username"}),o.jsx("input",{type:"text",id:"username",value:t,onChange:P=>r(P.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your username"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-cyan-400 mb-2",children:"Password"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:i?"text":"password",id:"password",value:n,onChange:P=>s(P.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-4 py-3 pr-10 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 transition-all duration-200",required:!0,placeholder:"Enter your password"}),o.jsx("button",{type:"button",onClick:()=>a(!i),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-cyan-400 transition-colors",children:i?o.jsx(md,{size:20}):o.jsx(un,{size:20})})]})]}),l&&o.jsx("div",{className:"text-red-400 text-sm bg-red-500/10 border border-red-500/30 rounded-lg p-3 text-center",children:l}),o.jsx("div",{className:"text-center",children:o.jsx("button",{type:"button",onClick:()=>p(!0),className:"text-sm text-cyan-400 hover:text-cyan-300 transition-colors",children:"Forgot your password?"})}),o.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium px-6 py-3 rounded-lg hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 disabled:opacity-50 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:u?"Accessing...":"Access Portal"})]}),o.jsxs("div",{className:"mt-6",children:[o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-slate-700"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-slate-950 text-slate-500",children:"Or"})})]}),o.jsx("div",{className:"mt-6",children:o.jsx("button",{onClick:()=>h("signup"),className:"w-full bg-slate-800 hover:bg-slate-700 border border-slate-600 text-slate-300 hover:text-white font-medium px-6 py-3 rounded-lg transition-all duration-200",children:"Create New Account"})})]})]})}const Ny=y.createContext({});function ao(e){const t=y.useRef(null);return t.current===null&&(t.current=e()),t.current}const Sy=typeof window<"u",Af=Sy?y.useLayoutEffect:y.useEffect,Ef=y.createContext(null);function Py(e,t){e.indexOf(t)===-1&&e.push(t)}function ky(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}const pn=(e,t,r)=>r>t?t:r<e?e:r;let La=()=>{};const Ln={},G2=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Y2(e){return typeof e=="object"&&e!==null}const X2=e=>/^0[^.\s]+$/u.test(e);function Ay(e){let t;return()=>(t===void 0&&(t=e()),t)}const er=e=>e,m$=(e,t)=>r=>t(e(r)),fc=(...e)=>e.reduce(m$),Ia=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n};class Ey{constructor(){this.subscriptions=[]}add(t){return Py(this.subscriptions,t),()=>ky(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let i=0;i<s;i++){const a=this.subscriptions[i];a&&a(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const dn=e=>e*1e3,fn=e=>e/1e3;function Oy(e,t){return t?e*(1e3/t):0}const J2=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,p$=1e-7,g$=12;function y$(e,t,r,n,s){let i,a,l=0;do a=t+(r-t)/2,i=J2(a,n,s)-e,i>0?r=a:t=a;while(Math.abs(i)>p$&&++l<g$);return a}function hc(e,t,r,n){if(e===t&&r===n)return er;const s=i=>y$(i,0,1,e,r);return i=>i===0||i===1?i:J2(s(i),t,n)}const Q2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Z2=e=>t=>1-e(1-t),ek=hc(.33,1.53,.69,.99),Cy=Z2(ek),tk=Q2(Cy),rk=e=>(e*=2)<1?.5*Cy(e):.5*(2-Math.pow(2,-10*(e-1))),Ty=e=>1-Math.sin(Math.acos(e)),nk=Z2(Ty),sk=Q2(Ty),v$=hc(.42,0,1,1),x$=hc(0,0,.58,1),ik=hc(.42,0,.58,1),b$=e=>Array.isArray(e)&&typeof e[0]!="number",ak=e=>Array.isArray(e)&&typeof e[0]=="number",zw={linear:er,easeIn:v$,easeInOut:ik,easeOut:x$,circIn:Ty,circInOut:sk,circOut:nk,backIn:Cy,backInOut:tk,backOut:ek,anticipate:rk},w$=e=>typeof e=="string",Uw=e=>{if(ak(e)){La(e.length===4);const[t,r,n,s]=e;return hc(t,r,n,s)}else if(w$(e))return La(zw[e]!==void 0),zw[e];return e},ru=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],Ww={value:null,addProjectionMetrics:null};function j$(e,t){let r=new Set,n=new Set,s=!1,i=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1},c=0;function u(f){a.has(f)&&(d.schedule(f),e()),c++,f(l)}const d={schedule:(f,h=!1,m=!1)=>{const x=m&&s?r:n;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(l=f,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(u),t&&Ww.value&&Ww.value.frameloop[t].push(c),c=0,r.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const _$=40;function ok(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,a=ru.reduce((b,_)=>(b[_]=j$(i,t?_:void 0),b),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:d,update:f,preRender:h,render:m,postRender:p}=a,x=()=>{const b=Ln.useManualTiming?s.timestamp:performance.now();r=!1,Ln.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(b-s.timestamp,_$),1)),s.timestamp=b,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),f.process(s),h.process(s),m.process(s),p.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(x))},w=()=>{r=!0,n=!0,s.isProcessing||e(x)};return{schedule:ru.reduce((b,_)=>{const j=a[_];return b[_]=(N,k=!1,P=!1)=>(r||w(),j.schedule(N,k,P)),b},{}),cancel:b=>{for(let _=0;_<ru.length;_++)a[ru[_]].cancel(b)},state:s,steps:a}}const{schedule:je,cancel:Xr,state:ct,steps:pm}=ok(typeof requestAnimationFrame<"u"?requestAnimationFrame:er,!0);let Du;function N$(){Du=void 0}const Yt={now:()=>(Du===void 0&&Yt.set(ct.isProcessing||Ln.useManualTiming?ct.timestamp:performance.now()),Du),set:e=>{Du=e,queueMicrotask(N$)}},lk=e=>t=>typeof t=="string"&&t.startsWith(e),My=lk("--"),S$=lk("var(--"),Dy=e=>S$(e)?P$.test(e.split("/*")[0].trim()):!1,P$=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,oo={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bl={...oo,transform:e=>pn(0,1,e)},nu={...oo,default:1},fl=e=>Math.round(e*1e5)/1e5,Ry=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function k$(e){return e==null}const A$=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$y=(e,t)=>r=>!!(typeof r=="string"&&A$.test(r)&&r.startsWith(e)||t&&!k$(r)&&Object.prototype.hasOwnProperty.call(r,t)),ck=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,i,a,l]=n.match(Ry);return{[e]:parseFloat(s),[t]:parseFloat(i),[r]:parseFloat(a),alpha:l!==void 0?parseFloat(l):1}},E$=e=>pn(0,255,e),gm={...oo,transform:e=>Math.round(E$(e))},ii={test:$y("rgb","red"),parse:ck("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+gm.transform(e)+", "+gm.transform(t)+", "+gm.transform(r)+", "+fl(Bl.transform(n))+")"};function O$(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const l0={test:$y("#"),parse:O$,transform:ii.transform},mc=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),rs=mc("deg"),hn=mc("%"),oe=mc("px"),C$=mc("vh"),T$=mc("vw"),Vw={...hn,parse:e=>hn.parse(e)/100,transform:e=>hn.transform(e*100)},aa={test:$y("hsl","hue"),parse:ck("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+hn.transform(fl(t))+", "+hn.transform(fl(r))+", "+fl(Bl.transform(n))+")"},Je={test:e=>ii.test(e)||l0.test(e)||aa.test(e),parse:e=>ii.test(e)?ii.parse(e):aa.test(e)?aa.parse(e):l0.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?ii.transform(e):aa.transform(e),getAnimatableNone:e=>{const t=Je.parse(e);return t.alpha=0,Je.transform(t)}},M$=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function D$(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Ry))==null?void 0:t.length)||0)+(((r=e.match(M$))==null?void 0:r.length)||0)>0}const uk="number",dk="color",R$="var",$$="var(",Kw="${}",L$=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Fl(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=t.replace(L$,c=>(Je.test(c)?(n.color.push(i),s.push(dk),r.push(Je.parse(c))):c.startsWith($$)?(n.var.push(i),s.push(R$),r.push(c)):(n.number.push(i),s.push(uk),r.push(parseFloat(c))),++i,Kw)).split(Kw);return{values:r,split:l,indexes:n,types:s}}function fk(e){return Fl(e).values}function hk(e){const{split:t,types:r}=Fl(e),n=t.length;return s=>{let i="";for(let a=0;a<n;a++)if(i+=t[a],s[a]!==void 0){const l=r[a];l===uk?i+=fl(s[a]):l===dk?i+=Je.transform(s[a]):i+=s[a]}return i}}const I$=e=>typeof e=="number"?0:Je.test(e)?Je.getAnimatableNone(e):e;function B$(e){const t=fk(e);return hk(e)(t.map(I$))}const As={test:D$,parse:fk,createTransformer:hk,getAnimatableNone:B$};function ym(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function F$({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,i=0,a=0;if(!t)s=i=a=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=ym(c,l,e+1/3),i=ym(c,l,e),a=ym(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(a*255),alpha:n}}function pd(e,t){return r=>r>0?t:e}const Ie=(e,t,r)=>e+(t-e)*r,vm=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},z$=[l0,ii,aa],U$=e=>z$.find(t=>t.test(e));function qw(e){const t=U$(e);if(!t)return!1;let r=t.parse(e);return t===aa&&(r=F$(r)),r}const Hw=(e,t)=>{const r=qw(e),n=qw(t);if(!r||!n)return pd(e,t);const s={...r};return i=>(s.red=vm(r.red,n.red,i),s.green=vm(r.green,n.green,i),s.blue=vm(r.blue,n.blue,i),s.alpha=Ie(r.alpha,n.alpha,i),ii.transform(s))},c0=new Set(["none","hidden"]);function W$(e,t){return c0.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function V$(e,t){return r=>Ie(e,t,r)}function Ly(e){return typeof e=="number"?V$:typeof e=="string"?Dy(e)?pd:Je.test(e)?Hw:H$:Array.isArray(e)?mk:typeof e=="object"?Je.test(e)?Hw:K$:pd}function mk(e,t){const r=[...e],n=r.length,s=e.map((i,a)=>Ly(i)(i,t[a]));return i=>{for(let a=0;a<n;a++)r[a]=s[a](i);return r}}function K$(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=Ly(e[s])(e[s],t[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function q$(e,t){const r=[],n={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const i=t.types[s],a=e.indexes[i][n[i]],l=e.values[a]??0;r[s]=l,n[i]++}return r}const H$=(e,t)=>{const r=As.createTransformer(t),n=Fl(e),s=Fl(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?c0.has(e)&&!s.values.length||c0.has(t)&&!n.values.length?W$(e,t):fc(mk(q$(n,s),s.values),r):pd(e,t)};function pk(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?Ie(e,t,r):Ly(e)(e,t)}const G$=e=>{const t=({timestamp:r})=>e(r);return{start:(r=!0)=>je.update(t,r),stop:()=>Xr(t),now:()=>ct.isProcessing?ct.timestamp:Yt.now()}},gk=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let i=0;i<s;i++)n+=Math.round(e(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},gd=2e4;function Iy(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<gd;)t+=r,n=e.next(t);return t>=gd?1/0:t}function Y$(e,t=100,r){const n=r({...e,keyframes:[0,t]}),s=Math.min(Iy(n),gd);return{type:"keyframes",ease:i=>n.next(s*i).value/t,duration:fn(s)}}const X$=5;function yk(e,t,r){const n=Math.max(t-X$,0);return Oy(r-e(n),t-n)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xm=.001;function J$({duration:e=Ve.duration,bounce:t=Ve.bounce,velocity:r=Ve.velocity,mass:n=Ve.mass}){let s,i,a=1-t;a=pn(Ve.minDamping,Ve.maxDamping,a),e=pn(Ve.minDuration,Ve.maxDuration,fn(e)),a<1?(s=u=>{const d=u*a,f=d*e,h=d-r,m=u0(u,a),p=Math.exp(-f);return xm-h/m*p},i=u=>{const f=u*a*e,h=f*r+r,m=Math.pow(a,2)*Math.pow(u,2)*e,p=Math.exp(-f),x=u0(Math.pow(u,2),a);return(-s(u)+xm>0?-1:1)*((h-m)*p)/x}):(s=u=>{const d=Math.exp(-u*e),f=(u-r)*e+1;return-xm+d*f},i=u=>{const d=Math.exp(-u*e),f=(r-u)*(e*e);return d*f});const l=5/e,c=Z$(s,i,l);if(e=dn(e),isNaN(c))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:e}}}const Q$=12;function Z$(e,t,r){let n=r;for(let s=1;s<Q$;s++)n=n-e(n)/t(n);return n}function u0(e,t){return e*Math.sqrt(1-t*t)}const eL=["duration","bounce"],tL=["stiffness","damping","mass"];function Gw(e,t){return t.some(r=>e[r]!==void 0)}function rL(e){let t={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...e};if(!Gw(e,tL)&&Gw(e,eL))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*pn(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:Ve.mass,stiffness:s,damping:i}}else{const r=J$(e);t={...t,...r,mass:Ve.mass},t.isResolvedFromDuration=!0}return t}function yd(e=Ve.visualDuration,t=Ve.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:u,mass:d,duration:f,velocity:h,isResolvedFromDuration:m}=rL({...r,velocity:-fn(r.velocity||0)}),p=h||0,x=u/(2*Math.sqrt(c*d)),w=a-i,g=fn(Math.sqrt(c/d)),v=Math.abs(w)<5;n||(n=v?Ve.restSpeed.granular:Ve.restSpeed.default),s||(s=v?Ve.restDelta.granular:Ve.restDelta.default);let b;if(x<1){const j=u0(g,x);b=N=>{const k=Math.exp(-x*g*N);return a-k*((p+x*g*w)/j*Math.sin(j*N)+w*Math.cos(j*N))}}else if(x===1)b=j=>a-Math.exp(-g*j)*(w+(p+g*w)*j);else{const j=g*Math.sqrt(x*x-1);b=N=>{const k=Math.exp(-x*g*N),P=Math.min(j*N,300);return a-k*((p+x*g*w)*Math.sinh(P)+j*w*Math.cosh(P))/j}}const _={calculatedDuration:m&&f||null,next:j=>{const N=b(j);if(m)l.done=j>=f;else{let k=j===0?p:0;x<1&&(k=j===0?dn(p):yk(b,j,N));const P=Math.abs(k)<=n,E=Math.abs(a-N)<=s;l.done=P&&E}return l.value=l.done?a:N,l},toString:()=>{const j=Math.min(Iy(_),gd),N=gk(k=>_.next(j*k).value,j,30);return j+"ms "+N},toTransition:()=>{}};return _}yd.applyToOptions=e=>{const t=Y$(e,100,yd);return e.ease=t.ease,e.duration=dn(t.duration),e.type="keyframes",e};function d0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:a,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=P=>l!==void 0&&P<l||c!==void 0&&P>c,p=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let x=r*t;const w=f+x,g=a===void 0?w:a(w);g!==w&&(x=g-f);const v=P=>-x*Math.exp(-P/n),b=P=>g+v(P),_=P=>{const E=v(P),T=b(P);h.done=Math.abs(E)<=u,h.value=h.done?g:T};let j,N;const k=P=>{m(h.value)&&(j=P,N=yd({keyframes:[h.value,p(h.value)],velocity:yk(b,P,h.value),damping:s,stiffness:i,restDelta:u,restSpeed:d}))};return k(0),{calculatedDuration:null,next:P=>{let E=!1;return!N&&j===void 0&&(E=!0,_(P),k(P)),j!==void 0&&P>=j?N.next(P-j):(!E&&_(P),h)}}}function nL(e,t,r){const n=[],s=r||Ln.mix||pk,i=e.length-1;for(let a=0;a<i;a++){let l=s(e[a],e[a+1]);if(t){const c=Array.isArray(t)?t[a]||er:t;l=fc(c,l)}n.push(l)}return n}function By(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const i=e.length;if(La(i===t.length),i===1)return()=>t[0];if(i===2&&t[0]===t[1])return()=>t[1];const a=e[0]===e[1];e[0]>e[i-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=nL(t,n,s),c=l.length,u=d=>{if(a&&d<e[0])return t[0];let f=0;if(c>1)for(;f<e.length-2&&!(d<e[f+1]);f++);const h=Ia(e[f],e[f+1],d);return l[f](h)};return r?d=>u(pn(e[0],e[i-1],d)):u}function sL(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=Ia(0,t,n);e.push(Ie(r,1,s))}}function vk(e){const t=[0];return sL(t,e.length-1),t}function iL(e,t){return e.map(r=>r*t)}function aL(e,t){return e.map(()=>t||ik).splice(0,e.length-1)}function hl({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=b$(n)?n.map(Uw):Uw(n),i={done:!1,value:t[0]},a=iL(r&&r.length===t.length?r:vk(t),e),l=By(a,t,{ease:Array.isArray(s)?s:aL(t,s)});return{calculatedDuration:e,next:c=>(i.value=l(c),i.done=c>=e,i)}}const oL=e=>e!==null;function Fy(e,{repeat:t,repeatType:r="loop"},n,s=1){const i=e.filter(oL),l=s<0||t&&r!=="loop"&&t%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const lL={decay:d0,inertia:d0,tween:hl,keyframes:hl,spring:yd};function xk(e){typeof e.type=="string"&&(e.type=lL[e.type])}class zy{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,r){return this.finished.then(t,r)}}const cL=e=>e/100;class Uy extends zy{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==Yt.now()&&this.tick(Yt.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;xk(t);const{type:r=hl,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:a=0}=t;let{keyframes:l}=t;const c=r||hl;c!==hl&&typeof l[0]!="number"&&(this.mixKeyframes=fc(cL,pk(l[0],l[1])),l=[0,100]);const u=c({...t,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...t,keyframes:[...l].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=Iy(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=u}updateTime(t){const r=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(t,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:a,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:h,repeatDelay:m,type:p,onUpdate:x,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),r?this.currentTime=t:this.updateTime(t);const g=this.currentTime-u*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>s;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let b=this.currentTime,_=n;if(f){const P=Math.min(this.currentTime,s)/l;let E=Math.floor(P),T=P%1;!T&&P>=1&&(T=1),T===1&&E--,E=Math.min(E,f+1),!!(E%2)&&(h==="reverse"?(T=1-T,m&&(T-=m/l)):h==="mirror"&&(_=a)),b=pn(0,1,T)*l}const j=v?{done:!1,value:d[0]}:_.next(b);i&&(j.value=i(j.value));let{done:N}=j;!v&&c!==null&&(N=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&N);return k&&p!==d0&&(j.value=Fy(d,this.options,w,this.speed)),x&&x(j.value),k&&this.finish(),j}then(t,r){return this.finished.then(t,r)}get duration(){return fn(this.calculatedDuration)}get time(){return fn(this.currentTime)}set time(t){var r;t=dn(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Yt.now());const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=fn(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:t=G$,startTime:r}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yt.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(t=this.options).onComplete)==null||r.call(t)}cancel(){var t,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(t=this.options).onCancel)==null||r.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),t.observe(this)}}function uL(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ai=e=>e*180/Math.PI,f0=e=>{const t=ai(Math.atan2(e[1],e[0]));return h0(t)},dL={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:f0,rotateZ:f0,skewX:e=>ai(Math.atan(e[1])),skewY:e=>ai(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},h0=e=>(e=e%360,e<0&&(e+=360),e),Yw=f0,Xw=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),Jw=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),fL={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Xw,scaleY:Jw,scale:e=>(Xw(e)+Jw(e))/2,rotateX:e=>h0(ai(Math.atan2(e[6],e[5]))),rotateY:e=>h0(ai(Math.atan2(-e[2],e[0]))),rotateZ:Yw,rotate:Yw,skewX:e=>ai(Math.atan(e[4])),skewY:e=>ai(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function m0(e){return e.includes("scale")?1:0}function p0(e,t){if(!e||e==="none")return m0(t);const r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=fL,s=r;else{const l=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=dL,s=l}if(!s)return m0(t);const i=n[t],a=s[1].split(",").map(mL);return typeof i=="function"?i(a):a[i]}const hL=(e,t)=>{const{transform:r="none"}=getComputedStyle(e);return p0(r,t)};function mL(e){return parseFloat(e.trim())}const lo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(lo),Qw=e=>e===oo||e===oe,pL=new Set(["x","y","z"]),gL=lo.filter(e=>!pL.has(e));function yL(e){const t=[];return gL.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const pi={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>p0(t,"x"),y:(e,{transform:t})=>p0(t,"y")};pi.translateX=pi.x;pi.translateY=pi.y;const gi=new Set;let g0=!1,y0=!1,v0=!1;function bk(){if(y0){const e=Array.from(gi).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=yL(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,a])=>{var l;(l=n.getValue(i))==null||l.set(a)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}y0=!1,g0=!1,gi.forEach(e=>e.complete(v0)),gi.clear()}function wk(){gi.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(y0=!0)})}function vL(){v0=!0,wk(),bk(),v0=!1}class Wy{constructor(t,r,n,s,i,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(gi.add(this),g0||(g0=!0,je.read(wk),je.resolveKeyframes(bk))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;if(t[0]===null){const i=s==null?void 0:s.get(),a=t[t.length-1];if(i!==void 0)t[0]=i;else if(n&&r){const l=n.readValue(r,a);l!=null&&(t[0]=l)}t[0]===void 0&&(t[0]=a),s&&i===void 0&&s.set(t[0])}uL(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),gi.delete(this)}cancel(){this.state==="scheduled"&&(gi.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const xL=e=>e.startsWith("--");function bL(e,t,r){xL(t)?e.style.setProperty(t,r):e.style[t]=r}const jk=Ay(()=>window.ScrollTimeline!==void 0),wL={};function jL(e,t){const r=Ay(e);return()=>wL[t]??r()}const _k=jL(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qo=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Zw={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qo([0,.65,.55,1]),circOut:Qo([.55,0,1,.45]),backIn:Qo([.31,.01,.66,-.59]),backOut:Qo([.33,1.53,.69,.99])};function Nk(e,t){if(e)return typeof e=="function"?_k()?gk(e,t):"ease-out":ak(e)?Qo(e):Array.isArray(e)?e.map(r=>Nk(r,t)||Zw.easeOut):Zw[e]}function _L(e,t,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:a="loop",ease:l="easeOut",times:c}={},u=void 0){const d={[t]:r};c&&(d.offset=c);const f=Nk(l,s);Array.isArray(f)&&(d.easing=f);const h={delay:n,duration:s,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:a==="reverse"?"alternate":"normal"};return u&&(h.pseudoElement=u),e.animate(d,h)}function Sk(e){return typeof e=="function"&&"applyToOptions"in e}function NL({type:e,...t}){return Sk(e)&&_k()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class SL extends zy{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:a=!1,finalKeyframe:l,onComplete:c}=t;this.isPseudoElement=!!i,this.allowFlatten=a,this.options=t,La(typeof t.type!="string");const u=NL(t);this.animation=_L(r,n,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const d=Fy(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(d):bL(r,n,d),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,r;(r=(t=this.animation).finish)==null||r.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,r;this.isPseudoElement||(r=(t=this.animation).commitStyles)==null||r.call(t)}get duration(){var r,n;const t=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fn(Number(t))}get time(){return fn(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=dn(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&jk()?(this.animation.timeline=t,er):r(this)}}const Pk={anticipate:rk,backInOut:tk,circInOut:sk};function PL(e){return e in Pk}function kL(e){typeof e.ease=="string"&&PL(e.ease)&&(e.ease=Pk[e.ease])}const e1=10;class AL extends SL{constructor(t){kL(t),xk(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...a}=this.options;if(!r)return;if(t!==void 0){r.set(t);return}const l=new Uy({...a,autoplay:!1}),c=dn(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-e1).value,l.sample(c).value,e1),l.stop()}}const t1=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(As.test(e)||e==="0")&&!e.startsWith("url("));function EL(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function OL(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const i=e[e.length-1],a=t1(s,t),l=t1(i,t);return!a||!l?!1:EL(e)||(r==="spring"||Sk(r))&&n}function x0(e){e.duration=0,e.type}const CL=new Set(["opacity","clipPath","filter","transform"]),TL=Ay(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function ML(e){var d;const{motionValue:t,name:r,repeatDelay:n,repeatType:s,damping:i,type:a}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=t.owner.getProps();return TL()&&r&&CL.has(r)&&(r!=="transform"||!u)&&!c&&!n&&s!=="mirror"&&i!==0&&a!=="inertia"}const DL=40;class RL extends zy{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:a="loop",keyframes:l,name:c,motionValue:u,element:d,...f}){var p;super(),this.stop=()=>{var x,w;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=Yt.now();const h={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:a,name:c,motionValue:u,element:d,...f},m=(d==null?void 0:d.KeyframeResolver)||Wy;this.keyframeResolver=new m(l,(x,w,g)=>this.onKeyframesResolved(x,w,h,!g),c,u,d),(p=this.keyframeResolver)==null||p.scheduleResolve()}onKeyframesResolved(t,r,n,s){this.keyframeResolver=void 0;const{name:i,type:a,velocity:l,delay:c,isHandoff:u,onUpdate:d}=n;this.resolvedAt=Yt.now(),OL(t,i,a,l)||((Ln.instantAnimations||!c)&&(d==null||d(Fy(t,n,r))),t[0]=t[t.length-1],x0(n),n.repeat=0);const h={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>DL?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:t},m=!u&&ML(h)?new AL({...h,element:h.motionValue.owner.current}):new Uy(h);m.finished.then(()=>this.notifyFinished()).catch(er),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,r){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),vL()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const $L=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function LL(e){const t=$L.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function kk(e,t,r=1){const[n,s]=LL(e);if(!n)return;const i=window.getComputedStyle(t).getPropertyValue(n);if(i){const a=i.trim();return G2(a)?parseFloat(a):a}return Dy(s)?kk(s,t,r+1):s}function Vy(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const Ak=new Set(["width","height","top","left","right","bottom",...lo]),IL={test:e=>e==="auto",parse:e=>e},Ek=e=>t=>t.test(e),Ok=[oo,oe,hn,rs,T$,C$,IL],r1=e=>Ok.find(Ek(e));function BL(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||X2(e):!0}const FL=new Set(["brightness","contrast","saturate","opacity"]);function zL(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Ry)||[];if(!n)return e;const s=r.replace(n,"");let i=FL.has(t)?1:0;return n!==r&&(i*=100),t+"("+i+s+")"}const UL=/\b([a-z-]*)\(.*?\)/gu,b0={...As,getAnimatableNone:e=>{const t=e.match(UL);return t?t.map(zL).join(" "):e}},n1={...oo,transform:Math.round},WL={rotate:rs,rotateX:rs,rotateY:rs,rotateZ:rs,scale:nu,scaleX:nu,scaleY:nu,scaleZ:nu,skew:rs,skewX:rs,skewY:rs,distance:oe,translateX:oe,translateY:oe,translateZ:oe,x:oe,y:oe,z:oe,perspective:oe,transformPerspective:oe,opacity:Bl,originX:Vw,originY:Vw,originZ:oe},Ky={borderWidth:oe,borderTopWidth:oe,borderRightWidth:oe,borderBottomWidth:oe,borderLeftWidth:oe,borderRadius:oe,radius:oe,borderTopLeftRadius:oe,borderTopRightRadius:oe,borderBottomRightRadius:oe,borderBottomLeftRadius:oe,width:oe,maxWidth:oe,height:oe,maxHeight:oe,top:oe,right:oe,bottom:oe,left:oe,padding:oe,paddingTop:oe,paddingRight:oe,paddingBottom:oe,paddingLeft:oe,margin:oe,marginTop:oe,marginRight:oe,marginBottom:oe,marginLeft:oe,backgroundPositionX:oe,backgroundPositionY:oe,...WL,zIndex:n1,fillOpacity:Bl,strokeOpacity:Bl,numOctaves:n1},VL={...Ky,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:b0,WebkitFilter:b0},Ck=e=>VL[e];function Tk(e,t){let r=Ck(e);return r!==b0&&(r=As),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const KL=new Set(["auto","none","0"]);function qL(e,t,r){let n=0,s;for(;n<e.length&&!s;){const i=e[n];typeof i=="string"&&!KL.has(i)&&Fl(i).values.length&&(s=e[n]),n++}if(s&&r)for(const i of t)e[i]=Tk(r,s)}class HL extends Wy{constructor(t,r,n,s,i){super(t,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),Dy(u))){const d=kk(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ak.has(n)||t.length!==2)return;const[s,i]=t,a=r1(s),l=r1(i);if(a!==l)if(Qw(a)&&Qw(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else pi[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)(t[s]===null||BL(t[s]))&&n.push(s);n.length&&qL(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=pi[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:t,name:r,unresolvedKeyframes:n}=this;if(!t||!t.current)return;const s=t.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,a=n[i];n[i]=pi[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{t.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Mk(e,t,r){if(e instanceof EventTarget)return[e];if(typeof e=="string"){const s=document.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const Dk=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function qy(e){return Y2(e)&&"offsetHeight"in e}const s1=30,GL=e=>!isNaN(parseFloat(e)),ml={current:void 0};class YL{constructor(t,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=Yt.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=Yt.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=GL(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Ey);const n=this.events[t].add(r);return t==="change"?()=>{n(),je.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return ml.current&&ml.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Yt.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>s1)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,s1);return Oy(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,r;(t=this.dependents)==null||t.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function qr(e,t){return new YL(e,t)}const{schedule:Hy,cancel:Lte}=ok(queueMicrotask,!1),Br={x:!1,y:!1};function Rk(){return Br.x||Br.y}function XL(e){return e==="x"||e==="y"?Br[e]?null:(Br[e]=!0,()=>{Br[e]=!1}):Br.x||Br.y?null:(Br.x=Br.y=!0,()=>{Br.x=Br.y=!1})}function $k(e,t){const r=Mk(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function i1(e){return!(e.pointerType==="touch"||Rk())}function JL(e,t,r={}){const[n,s,i]=$k(e,r),a=l=>{if(!i1(l))return;const{target:c}=l,u=t(c,l);if(typeof u!="function"||!c)return;const d=f=>{i1(f)&&(u(f),c.removeEventListener("pointerleave",d))};c.addEventListener("pointerleave",d,s)};return n.forEach(l=>{l.addEventListener("pointerenter",a,s)}),i}const Lk=(e,t)=>t?e===t?!0:Lk(e,t.parentElement):!1,Gy=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,QL=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ZL(e){return QL.has(e.tagName)||e.tabIndex!==-1}const Ru=new WeakSet;function a1(e){return t=>{t.key==="Enter"&&e(t)}}function bm(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const e6=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=a1(()=>{if(Ru.has(r))return;bm(r,"down");const s=a1(()=>{bm(r,"up")}),i=()=>bm(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",i,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function o1(e){return Gy(e)&&!Rk()}function t6(e,t,r={}){const[n,s,i]=$k(e,r),a=l=>{const c=l.currentTarget;if(!o1(l))return;Ru.add(c);const u=t(c,l),d=(m,p)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",h),Ru.has(c)&&Ru.delete(c),o1(m)&&typeof u=="function"&&u(m,{success:p})},f=m=>{d(m,c===window||c===document||r.useGlobalTarget||Lk(c,m.target))},h=m=>{d(m,!1)};window.addEventListener("pointerup",f,s),window.addEventListener("pointercancel",h,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",a,s),qy(l)&&(l.addEventListener("focus",u=>e6(u,s)),!ZL(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function Yy(e){return Y2(e)&&"ownerSVGElement"in e}const $u=new WeakMap;let ns;const Ik=(e,t,r)=>(n,s)=>s&&s[0]?s[0][e+"Size"]:Yy(n)&&"getBBox"in n?n.getBBox()[t]:n[r],r6=Ik("inline","width","offsetWidth"),n6=Ik("block","height","offsetHeight");function s6({target:e,borderBoxSize:t}){var r;(r=$u.get(e))==null||r.forEach(n=>{n(e,{get width(){return r6(e,t)},get height(){return n6(e,t)}})})}function i6(e){e.forEach(s6)}function a6(){typeof ResizeObserver>"u"||(ns=new ResizeObserver(i6))}function o6(e,t){ns||a6();const r=Mk(e);return r.forEach(n=>{let s=$u.get(n);s||(s=new Set,$u.set(n,s)),s.add(t),ns==null||ns.observe(n)}),()=>{r.forEach(n=>{const s=$u.get(n);s==null||s.delete(t),s!=null&&s.size||ns==null||ns.unobserve(n)})}}const Lu=new Set;let oa;function l6(){oa=()=>{const e={get width(){return window.innerWidth},get height(){return window.innerHeight}};Lu.forEach(t=>t(e))},window.addEventListener("resize",oa)}function c6(e){return Lu.add(e),oa||l6(),()=>{Lu.delete(e),!Lu.size&&typeof oa=="function"&&(window.removeEventListener("resize",oa),oa=void 0)}}function u6(e,t){return typeof e=="function"?c6(e):o6(e,t)}function Bk(e,t){let r;const n=()=>{const{currentTime:s}=t,a=(s===null?0:s.value)/100;r!==a&&e(a),r=a};return je.preUpdate(n,!0),()=>Xr(n)}function d6(e){return Yy(e)&&e.tagName==="svg"}function f6(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],i=e[2+r],a=e[3+r],l=By(s,i,a);return t?l(n):l}const At=e=>!!(e&&e.getVelocity),h6=[...Ok,Je,As],m6=e=>h6.find(Ek(e)),Of=y.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class p6 extends y.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=qy(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function g6({children:e,isPresent:t,anchorX:r,root:n}){const s=y.useId(),i=y.useRef(null),a=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(Of);return y.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(t||!i.current||!c||!u)return;const m=r==="left"?`left: ${f}`:`right: ${h}`;i.current.dataset.motionPopId=s;const p=document.createElement("style");l&&(p.nonce=l);const x=n??document.head;return x.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{x.contains(p)&&x.removeChild(p)}},[t]),o.jsx(p6,{isPresent:t,childRef:i,sizeRef:a,children:y.cloneElement(e,{ref:i})})}const y6=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:a,anchorX:l,root:c})=>{const u=ao(v6),d=y.useId();let f=!0,h=y.useMemo(()=>(f=!1,{id:d,initial:t,isPresent:r,custom:s,onExitComplete:m=>{u.set(m,!0);for(const p of u.values())if(!p)return;n&&n()},register:m=>(u.set(m,!1),()=>u.delete(m))}),[r,u,n]);return i&&f&&(h={...h}),y.useMemo(()=>{u.forEach((m,p)=>u.set(p,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(e=o.jsx(g6,{isPresent:r,anchorX:l,root:c,children:e})),o.jsx(Ef.Provider,{value:h,children:e})};function v6(){return new Map}function Fk(e=!0){const t=y.useContext(Ef);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,i=y.useId();y.useEffect(()=>{if(e)return s(i)},[e]);const a=y.useCallback(()=>e&&n&&n(i),[i,n,e]);return!r&&n?[!1,a]:[!0]}const su=e=>e.key||"";function l1(e){const t=[];return y.Children.forEach(e,r=>{y.isValidElement(r)&&t.push(r)}),t}const w0=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:a=!1,anchorX:l="left",root:c})=>{const[u,d]=Fk(a),f=y.useMemo(()=>l1(e),[e]),h=a&&!u?[]:f.map(su),m=y.useRef(!0),p=y.useRef(f),x=ao(()=>new Map),[w,g]=y.useState(f),[v,b]=y.useState(f);Af(()=>{m.current=!1,p.current=f;for(let N=0;N<v.length;N++){const k=su(v[N]);h.includes(k)?x.delete(k):x.get(k)!==!0&&x.set(k,!1)}},[v,h.length,h.join("-")]);const _=[];if(f!==w){let N=[...f];for(let k=0;k<v.length;k++){const P=v[k],E=su(P);h.includes(E)||(N.splice(k,0,P),_.push(P))}return i==="wait"&&_.length&&(N=_),b(l1(N)),g(f),null}const{forceRender:j}=y.useContext(Ny);return o.jsx(o.Fragment,{children:v.map(N=>{const k=su(N),P=a&&!u?!1:f===v||h.includes(k),E=()=>{if(x.has(k))x.set(k,!0);else return;let T=!0;x.forEach(O=>{O||(T=!1)}),T&&(j==null||j(),b(p.current),a&&(d==null||d()),n&&n())};return o.jsx(y6,{isPresent:P,initial:!m.current||r?void 0:!1,custom:t,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:P?void 0:E,anchorX:l,children:N},k)})})},zk=y.createContext({strict:!1}),c1={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ba={};for(const e in c1)Ba[e]={isEnabled:t=>c1[e].some(r=>!!t[r])};function x6(e){for(const t in e)Ba[t]={...Ba[t],...e[t]}}const b6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function vd(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||b6.has(e)}let Uk=e=>!vd(e);function w6(e){typeof e=="function"&&(Uk=t=>t.startsWith("on")?!vd(t):e(t))}try{w6(require("@emotion/is-prop-valid").default)}catch{}function j6(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Uk(s)||r===!0&&vd(s)||!t&&!vd(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}const Cf=y.createContext({});function Tf(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function zl(e){return typeof e=="string"||Array.isArray(e)}const Xy=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Jy=["initial",...Xy];function Mf(e){return Tf(e.animate)||Jy.some(t=>zl(e[t]))}function Wk(e){return!!(Mf(e)||e.variants)}function _6(e,t){if(Mf(e)){const{initial:r,animate:n}=e;return{initial:r===!1||zl(r)?r:void 0,animate:zl(n)?n:void 0}}return e.inherit!==!1?t:{}}function N6(e){const{initial:t,animate:r}=_6(e,y.useContext(Cf));return y.useMemo(()=>({initial:t,animate:r}),[u1(t),u1(r)])}function u1(e){return Array.isArray(e)?e.join(" "):e}const Ul={};function S6(e){for(const t in e)Ul[t]=e[t],My(t)&&(Ul[t].isCSSVariable=!0)}function Vk(e,{layout:t,layoutId:r}){return co.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Ul[e]||e==="opacity")}const P6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},k6=lo.length;function A6(e,t,r){let n="",s=!0;for(let i=0;i<k6;i++){const a=lo[i],l=e[a];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(a.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Dk(l,Ky[a]);if(!c){s=!1;const d=P6[a]||a;n+=`${d}(${u}) `}r&&(t[a]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function Qy(e,t,r){const{style:n,vars:s,transformOrigin:i}=e;let a=!1,l=!1;for(const c in t){const u=t[c];if(co.has(c)){a=!0;continue}else if(My(c)){s[c]=u;continue}else{const d=Dk(u,Ky[c]);c.startsWith("origin")?(l=!0,i[c]=d):n[c]=d}}if(t.transform||(a||r?n.transform=A6(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=i;n.transformOrigin=`${c} ${u} ${d}`}}const Zy=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Kk(e,t,r){for(const n in t)!At(t[n])&&!Vk(n,r)&&(e[n]=t[n])}function E6({transformTemplate:e},t){return y.useMemo(()=>{const r=Zy();return Qy(r,t,e),Object.assign({},r.vars,r.style)},[t])}function O6(e,t){const r=e.style||{},n={};return Kk(n,r,e),Object.assign(n,E6(e,t)),n}function C6(e,t){const r={},n=O6(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}const T6={offset:"stroke-dashoffset",array:"stroke-dasharray"},M6={offset:"strokeDashoffset",array:"strokeDasharray"};function D6(e,t,r=1,n=0,s=!0){e.pathLength=1;const i=s?T6:M6;e[i.offset]=oe.transform(-n);const a=oe.transform(t),l=oe.transform(r);e[i.array]=`${a} ${l}`}function qk(e,{attrX:t,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:a=0,...l},c,u,d){if(Qy(e,l,u),c){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:h}=e;f.transform&&(h.transform=f.transform,delete f.transform),(h.transform||f.transformOrigin)&&(h.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),s!==void 0&&D6(f,s,i,a,!1)}const Hk=()=>({...Zy(),attrs:{}}),Gk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function R6(e,t,r,n){const s=y.useMemo(()=>{const i=Hk();return qk(i,t,Gk(n),e.transformTemplate,e.style),{...i.attrs,style:{...i.style}}},[t]);if(e.style){const i={};Kk(i,e.style,e),s.style={...i,...s.style}}return s}const $6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function ev(e){return typeof e!="string"||e.includes("-")?!1:!!($6.indexOf(e)>-1||/[A-Z]/u.test(e))}function L6(e,t,r,{latestValues:n},s,i=!1){const l=(ev(e)?R6:C6)(t,n,s,e),c=j6(t,typeof e=="string",i),u=e!==y.Fragment?{...c,...l,ref:r}:{},{children:d}=t,f=y.useMemo(()=>At(d)?d.get():d,[d]);return y.createElement(e,{...u,children:f})}function d1(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function tv(e,t,r,n){if(typeof t=="function"){const[s,i]=d1(n);t=t(r!==void 0?r:e.custom,s,i)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,i]=d1(n);t=t(r!==void 0?r:e.custom,s,i)}return t}function Iu(e){return At(e)?e.get():e}function I6({scrapeMotionValuesFromProps:e,createRenderState:t},r,n,s){return{latestValues:B6(r,n,s,e),renderState:t()}}function B6(e,t,r,n){const s={},i=n(e,{});for(const h in i)s[h]=Iu(i[h]);let{initial:a,animate:l}=e;const c=Mf(e),u=Wk(e);t&&u&&!c&&e.inherit!==!1&&(a===void 0&&(a=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?l:a;if(f&&typeof f!="boolean"&&!Tf(f)){const h=Array.isArray(f)?f:[f];for(let m=0;m<h.length;m++){const p=tv(e,h[m]);if(p){const{transitionEnd:x,transition:w,...g}=p;for(const v in g){let b=g[v];if(Array.isArray(b)){const _=d?b.length-1:0;b=b[_]}b!==null&&(s[v]=b)}for(const v in x)s[v]=x[v]}}}return s}const Yk=e=>(t,r)=>{const n=y.useContext(Cf),s=y.useContext(Ef),i=()=>I6(e,t,n,s);return r?i():ao(i)};function rv(e,t,r){var i;const{style:n}=e,s={};for(const a in n)(At(n[a])||t.style&&At(t.style[a])||Vk(a,e)||((i=r==null?void 0:r.getValue(a))==null?void 0:i.liveStyle)!==void 0)&&(s[a]=n[a]);return s}const F6=Yk({scrapeMotionValuesFromProps:rv,createRenderState:Zy});function Xk(e,t,r){const n=rv(e,t,r);for(const s in e)if(At(e[s])||At(t[s])){const i=lo.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=e[s]}return n}const z6=Yk({scrapeMotionValuesFromProps:Xk,createRenderState:Hk}),U6=Symbol.for("motionComponentSymbol");function la(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function W6(e,t,r){return y.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):la(r)&&(r.current=n))},[t])}const nv=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),V6="framerAppearId",Jk="data-"+nv(V6),Qk=y.createContext({});function K6(e,t,r,n,s){var x,w;const{visualElement:i}=y.useContext(Cf),a=y.useContext(zk),l=y.useContext(Ef),c=y.useContext(Of).reducedMotion,u=y.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const d=u.current,f=y.useContext(Qk);d&&!d.projection&&s&&(d.type==="html"||d.type==="svg")&&q6(u.current,r,s,f);const h=y.useRef(!1);y.useInsertionEffect(()=>{d&&h.current&&d.update(r,l)});const m=r[Jk],p=y.useRef(!!m&&!((x=window.MotionHandoffIsComplete)!=null&&x.call(window,m))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,m)));return Af(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),p.current&&d.animationState&&d.animationState.animateChanges())}),y.useEffect(()=>{d&&(!p.current&&d.animationState&&d.animationState.animateChanges(),p.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),p.current=!1),d.enteringChildren=void 0)}),d}function q6(e,t,r,n){const{layoutId:s,layout:i,drag:a,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Zk(e.parent)),e.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!a||l&&la(l),visualElement:e,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:c,layoutRoot:u})}function Zk(e){if(e)return e.options.allowProjection!==!1?e.projection:Zk(e.parent)}function wm(e,{forwardMotionProps:t=!1}={},r,n){r&&x6(r);const s=ev(e)?z6:F6;function i(l,c){let u;const d={...y.useContext(Of),...l,layoutId:H6(l)},{isStatic:f}=d,h=N6(l),m=s(l,f);if(!f&&Sy){G6();const p=Y6(d);u=p.MeasureLayout,h.visualElement=K6(e,m,d,n,p.ProjectionNode)}return o.jsxs(Cf.Provider,{value:h,children:[u&&h.visualElement?o.jsx(u,{visualElement:h.visualElement,...d}):null,L6(e,l,W6(m,h.visualElement,c),m,f,t)]})}i.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const a=y.forwardRef(i);return a[U6]=e,a}function H6({layoutId:e}){const t=y.useContext(Ny).id;return t&&e!==void 0?t+"-"+e:e}function G6(e,t){y.useContext(zk).strict}function Y6(e){const{drag:t,layout:r}=Ba;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function X6(e,t){if(typeof Proxy>"u")return wm;const r=new Map,n=(i,a)=>wm(i,a,e,t),s=(i,a)=>n(i,a);return new Proxy(s,{get:(i,a)=>a==="create"?n:(r.has(a)||r.set(a,wm(a,void 0,e,t)),r.get(a))})}function eA({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function J6({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Q6(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function jm(e){return e===void 0||e===1}function j0({scale:e,scaleX:t,scaleY:r}){return!jm(e)||!jm(t)||!jm(r)}function Js(e){return j0(e)||tA(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function tA(e){return f1(e.x)||f1(e.y)}function f1(e){return e&&e!=="0%"}function xd(e,t,r){const n=e-r,s=t*n;return r+s}function h1(e,t,r,n,s){return s!==void 0&&(e=xd(e,s,n)),xd(e,r,n)+t}function _0(e,t=0,r=1,n,s){e.min=h1(e.min,t,r,n,s),e.max=h1(e.max,t,r,n,s)}function rA(e,{x:t,y:r}){_0(e.x,t.translate,t.scale,t.originPoint),_0(e.y,r.translate,r.scale,r.originPoint)}const m1=.999999999999,p1=1.0000000000001;function Z6(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let i,a;for(let l=0;l<s;l++){i=r[l],a=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ua(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,rA(e,a)),n&&Js(i.latestValues)&&ua(e,i.latestValues))}t.x<p1&&t.x>m1&&(t.x=1),t.y<p1&&t.y>m1&&(t.y=1)}function ca(e,t){e.min=e.min+t,e.max=e.max+t}function g1(e,t,r,n,s=.5){const i=Ie(e.min,e.max,s);_0(e,t,r,i,n)}function ua(e,t){g1(e.x,t.x,t.scaleX,t.scale,t.originX),g1(e.y,t.y,t.scaleY,t.scale,t.originY)}function nA(e,t){return eA(Q6(e.getBoundingClientRect(),t))}function eI(e,t,r){const n=nA(e,r),{scroll:s}=t;return s&&(ca(n.x,s.offset.x),ca(n.y,s.offset.y)),n}const y1=()=>({translate:0,scale:1,origin:0,originPoint:0}),da=()=>({x:y1(),y:y1()}),v1=()=>({min:0,max:0}),Ge=()=>({x:v1(),y:v1()}),N0={current:null},sA={current:!1};function tI(){if(sA.current=!0,!!Sy)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>N0.current=e.matches;e.addEventListener("change",t),t()}else N0.current=!1}const rI=new WeakMap;function nI(e,t,r){for(const n in t){const s=t[n],i=r[n];if(At(s))e.addValue(n,s);else if(At(i))e.addValue(n,qr(s,{owner:e}));else if(i!==s)if(e.hasValue(n)){const a=e.getValue(n);a.liveStyle===!0?a.jump(s):a.hasAnimated||a.set(s)}else{const a=e.getStaticValue(n);e.addValue(n,qr(a!==void 0?a:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const x1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class sI{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:a},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Wy,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Yt.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,je.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=a;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Mf(r),this.isVariantNode=Wk(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const h in f){const m=f[h];c[h]!==void 0&&At(m)&&m.set(c[h])}}mount(t){var r;this.current=t,rI.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),sA.current||tI(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:N0.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=co.has(t);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",a=>{this.latestValues[t]=a,this.props.onUpdate&&je.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Ba){const r=Ba[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const i=this.features[t];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ge()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<x1.length;n++){const s=x1[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,a=t[i];a&&(this.propEventSubscriptions[s]=this.on(s,a))}this.prevMotionValues=nI(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=qr(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){let n=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return n!=null&&(typeof n=="string"&&(G2(n)||X2(n))?n=parseFloat(n):!m6(n)&&As.test(r)&&(n=Tk(t,r)),this.setBaseTarget(t,At(n)?n.get():n)),At(n)?n.get():n}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=tv(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);a&&(n=a[t])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!At(s)?s:this.initialValues[t]!==void 0&&n===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Ey),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}scheduleRenderMicrotask(){Hy.render(this.render)}}class iA extends sI{constructor(){super(...arguments),this.KeyframeResolver=HL}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;At(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function aA(e,{style:t,vars:r},n,s){const i=e.style;let a;for(a in t)i[a]=t[a];s==null||s.applyProjectionStyles(i,n);for(a in r)i.setProperty(a,r[a])}function iI(e){return window.getComputedStyle(e)}class aI extends iA{constructor(){super(...arguments),this.type="html",this.renderInstance=aA}readValueFromInstance(t,r){var n;if(co.has(r))return(n=this.projection)!=null&&n.isProjecting?m0(r):hL(t,r);{const s=iI(t),i=(My(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return nA(t,r)}build(t,r,n){Qy(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return rv(t,r,n)}}const oA=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oI(e,t,r,n){aA(e,t,void 0,n);for(const s in t.attrs)e.setAttribute(oA.has(s)?s:nv(s),t.attrs[s])}class lI extends iA{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ge}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(co.has(r)){const n=Ck(r);return n&&n.default||0}return r=oA.has(r)?r:nv(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Xk(t,r,n)}build(t,r,n){qk(t,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(t,r,n,s){oI(t,r,n,s)}mount(t){this.isSVGTag=Gk(t.tagName),super.mount(t)}}const cI=(e,t)=>ev(e)?new lI(t):new aI(t,{allowProjection:e!==y.Fragment});function Na(e,t,r){const n=e.getProps();return tv(n,t,r!==void 0?r:n.custom,e)}const S0=e=>Array.isArray(e);function uI(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,qr(r))}function dI(e){return S0(e)?e[e.length-1]||0:e}function fI(e,t){const r=Na(e,t);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const a in i){const l=dI(i[a]);uI(e,a,l)}}function hI(e){return!!(At(e)&&e.add)}function P0(e,t){const r=e.getValue("willChange");if(hI(r))return r.add(t);if(!r&&Ln.WillChange){const n=new Ln.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function lA(e){return e.props[Jk]}const mI=e=>e!==null;function pI(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(mI),i=t&&r!=="loop"&&t%2===1?0:s.length-1;return!i||n===void 0?s[i]:n}const gI={type:"spring",stiffness:500,damping:25,restSpeed:10},yI=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vI={type:"keyframes",duration:.8},xI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bI=(e,{keyframes:t})=>t.length>2?vI:co.has(e)?e.startsWith("scale")?yI(t[1]):gI:xI;function wI({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:a,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const sv=(e,t,r,n={},s,i)=>a=>{const l=Vy(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-dn(c);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:h=>{t.set(h),l.onUpdate&&l.onUpdate(h)},onComplete:()=>{a(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:i?void 0:s};wI(l)||Object.assign(d,bI(e,d)),d.duration&&(d.duration=dn(d.duration)),d.repeatDelay&&(d.repeatDelay=dn(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(x0(d),d.delay===0&&(f=!0)),(Ln.instantAnimations||Ln.skipAnimations)&&(f=!0,x0(d),d.delay=0),d.allowFlatten=!l.type&&!l.ease,f&&!i&&t.get()!==void 0){const h=pI(d.keyframes,l);if(h!==void 0){je.update(()=>{d.onUpdate(h),d.onComplete()});return}}return l.isSync?new Uy(d):new RL(d)};function jI({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function cA(e,t,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=e.getDefaultTransition(),transitionEnd:a,...l}=t;n&&(i=n);const c=[],u=s&&e.animationState&&e.animationState.getState()[s];for(const d in l){const f=e.getValue(d,e.latestValues[d]??null),h=l[d];if(h===void 0||u&&jI(u,d))continue;const m={delay:r,...Vy(i||{},d)},p=f.get();if(p!==void 0&&!f.isAnimating&&!Array.isArray(h)&&h===p&&!m.velocity)continue;let x=!1;if(window.MotionHandoffAnimation){const g=lA(e);if(g){const v=window.MotionHandoffAnimation(g,d,je);v!==null&&(m.startTime=v,x=!0)}}P0(e,d),f.start(sv(d,f,h,e.shouldReduceMotion&&Ak.has(d)?{type:!1}:m,e,x));const w=f.animation;w&&c.push(w)}return a&&Promise.all(c).then(()=>{je.update(()=>{a&&fI(e,a)})}),c}function uA(e,t,r,n=0,s=1){const i=Array.from(e).sort((u,d)=>u.sortNodePosition(d)).indexOf(t),a=e.size,l=(a-1)*n;return typeof r=="function"?r(i,a):s===1?i*n:l-i*n}function k0(e,t,r={}){var c;const n=Na(e,t,r.type==="exit"?(c=e.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(cA(e,n,r)):()=>Promise.resolve(),a=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:h}=s;return _I(e,t,u,d,f,h,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[u,d]=l==="beforeChildren"?[i,a]:[a,i];return u().then(()=>d())}else return Promise.all([i(),a(r.delay)])}function _I(e,t,r=0,n=0,s=0,i=1,a){const l=[];for(const c of e.variantChildren)c.notify("AnimationStart",t),l.push(k0(c,t,{...a,delay:r+(typeof n=="function"?0:n)+uA(e.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",t)));return Promise.all(l)}function NI(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(i=>k0(e,i,r));n=Promise.all(s)}else if(typeof t=="string")n=k0(e,t,r);else{const s=typeof t=="function"?Na(e,t,r.custom):t;n=Promise.all(cA(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}function dA(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}const SI=Jy.length;function fA(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?fA(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<SI;r++){const n=Jy[r],s=e.props[n];(zl(s)||s===!1)&&(t[n]=s)}return t}const PI=[...Xy].reverse(),kI=Xy.length;function AI(e){return t=>Promise.all(t.map(({animation:r,options:n})=>NI(e,r,n)))}function EI(e){let t=AI(e),r=b1(),n=!0;const s=c=>(u,d)=>{var h;const f=Na(e,d,c==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:p,...x}=f;u={...u,...x,...p}}return u};function i(c){t=c(e)}function a(c){const{props:u}=e,d=fA(e.parent)||{},f=[],h=new Set;let m={},p=1/0;for(let w=0;w<kI;w++){const g=PI[w],v=r[g],b=u[g]!==void 0?u[g]:d[g],_=zl(b),j=g===c?v.isActive:null;j===!1&&(p=w);let N=b===d[g]&&b!==u[g]&&_;if(N&&n&&e.manuallyAnimateOnMount&&(N=!1),v.protectedKeys={...m},!v.isActive&&j===null||!b&&!v.prevProp||Tf(b)||typeof b=="boolean")continue;const k=OI(v.prevProp,b);let P=k||g===c&&v.isActive&&!N&&_||w>p&&_,E=!1;const T=Array.isArray(b)?b:[b];let O=T.reduce(s(g),{});j===!1&&(O={});const{prevResolvedValues:U={}}=v,I={...U,...O},H=F=>{P=!0,h.has(F)&&(E=!0,h.delete(F)),v.needsAnimating[F]=!0;const A=e.getValue(F);A&&(A.liveStyle=!1)};for(const F in I){const A=O[F],S=U[F];if(m.hasOwnProperty(F))continue;let L=!1;S0(A)&&S0(S)?L=!dA(A,S):L=A!==S,L?A!=null?H(F):h.add(F):A!==void 0&&h.has(F)?H(F):v.protectedKeys[F]=!0}v.prevProp=b,v.prevResolvedValues=O,v.isActive&&(m={...m,...O}),n&&e.blockInitialAnimation&&(P=!1);const B=N&&k;P&&(!B||E)&&f.push(...T.map(F=>{const A={type:g};if(typeof F=="string"&&n&&!B&&e.manuallyAnimateOnMount&&e.parent){const{parent:S}=e,L=Na(S,F);if(S.enteringChildren&&L){const{delayChildren:V}=L.transition||{};A.delay=uA(S.enteringChildren,e,V)}}return{animation:F,options:A}}))}if(h.size){const w={};if(typeof u.initial!="boolean"){const g=Na(e,Array.isArray(u.initial)?u.initial[0]:u.initial);g&&g.transition&&(w.transition=g.transition)}h.forEach(g=>{const v=e.getBaseTarget(g),b=e.getValue(g);b&&(b.liveStyle=!0),w[g]=v??null}),f.push({animation:w})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(x=!1),n=!1,x?t(f):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)==null||f.forEach(h=>{var m;return(m=h.animationState)==null?void 0:m.setActive(c,u)}),r[c].isActive=u;const d=a(c);for(const h in r)r[h].protectedKeys={};return d}return{animateChanges:a,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=b1(),n=!0}}}function OI(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!dA(t,e):!1}function Hs(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function b1(){return{animate:Hs(!0),whileInView:Hs(),whileHover:Hs(),whileTap:Hs(),whileDrag:Hs(),whileFocus:Hs(),exit:Hs()}}class Ls{constructor(t){this.isMounted=!1,this.node=t}update(){}}class CI extends Ls{constructor(t){super(t),t.animationState||(t.animationState=EI(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tf(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let TI=0;class MI extends Ls{constructor(){super(...arguments),this.id=TI++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>{r(this.id)})}mount(){const{register:t,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const DI={animation:{Feature:CI},exit:{Feature:MI}};function Wl(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function pc(e){return{point:{x:e.pageX,y:e.pageY}}}const RI=e=>t=>Gy(t)&&e(t,pc(t));function pl(e,t,r,n){return Wl(e,t,RI(r),n)}const hA=1e-4,$I=1-hA,LI=1+hA,mA=.01,II=0-mA,BI=0+mA;function Dt(e){return e.max-e.min}function FI(e,t,r){return Math.abs(e-t)<=r}function w1(e,t,r,n=.5){e.origin=n,e.originPoint=Ie(t.min,t.max,e.origin),e.scale=Dt(r)/Dt(t),e.translate=Ie(r.min,r.max,e.origin)-e.originPoint,(e.scale>=$I&&e.scale<=LI||isNaN(e.scale))&&(e.scale=1),(e.translate>=II&&e.translate<=BI||isNaN(e.translate))&&(e.translate=0)}function gl(e,t,r,n){w1(e.x,t.x,r.x,n?n.originX:void 0),w1(e.y,t.y,r.y,n?n.originY:void 0)}function j1(e,t,r){e.min=r.min+t.min,e.max=e.min+Dt(t)}function zI(e,t,r){j1(e.x,t.x,r.x),j1(e.y,t.y,r.y)}function _1(e,t,r){e.min=t.min-r.min,e.max=e.min+Dt(t)}function yl(e,t,r){_1(e.x,t.x,r.x),_1(e.y,t.y,r.y)}function wr(e){return[e("x"),e("y")]}const pA=({current:e})=>e?e.ownerDocument.defaultView:null,N1=(e,t)=>Math.abs(e-t);function UI(e,t){const r=N1(e.x,t.x),n=N1(e.y,t.y);return Math.sqrt(r**2+n**2)}class gA{constructor(t,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=Nm(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=UI(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!p)return;const{point:x}=h,{timestamp:w}=ct;this.history.push({...x,timestamp:w});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,h)},this.handlePointerMove=(h,m)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=_m(m,this.transformPagePoint),je.update(this.updatePoint,!0)},this.handlePointerUp=(h,m)=>{this.end();const{onEnd:p,onSessionEnd:x,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Nm(h.type==="pointercancel"?this.lastMoveEventInfo:_m(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(h,g),x&&x(h,g)},!Gy(t))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=s||window;const l=pc(t),c=_m(l,this.transformPagePoint),{point:u}=c,{timestamp:d}=ct;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(t,Nm(c,this.history)),this.removeListeners=fc(pl(this.contextWindow,"pointermove",this.handlePointerMove),pl(this.contextWindow,"pointerup",this.handlePointerUp),pl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function _m(e,t){return t?{point:t(e.point)}:e}function S1(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Nm({point:e},t){return{point:e,delta:S1(e,yA(t)),offset:S1(e,WI(t)),velocity:VI(t,.1)}}function WI(e){return e[0]}function yA(e){return e[e.length-1]}function VI(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=yA(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>dn(t)));)r--;if(!n)return{x:0,y:0};const i=fn(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const a={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function KI(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Ie(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Ie(r,e,n.max):Math.min(e,r)),e}function P1(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function qI(e,{top:t,left:r,bottom:n,right:s}){return{x:P1(e.x,r,s),y:P1(e.y,t,n)}}function k1(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function HI(e,t){return{x:k1(e.x,t.x),y:k1(e.y,t.y)}}function GI(e,t){let r=.5;const n=Dt(e),s=Dt(t);return s>n?r=Ia(t.min,t.max-n,e.min):n>s&&(r=Ia(e.min,e.max-s,t.min)),pn(0,1,r)}function YI(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const A0=.35;function XI(e=A0){return e===!1?e=0:e===!0&&(e=A0),{x:A1(e,"left","right"),y:A1(e,"top","bottom")}}function A1(e,t,r){return{min:E1(e,t),max:E1(e,r)}}function E1(e,t){return typeof e=="number"?e:e[t]||0}const JI=new WeakMap;class QI{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ge(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(pc(f).point)},a=(f,h)=>{const{drag:m,dragPropagation:p,onDragStart:x}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=XL(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(g=>{let v=this.getAxisMotionValue(g).get()||0;if(hn.test(v)){const{projection:b}=this.visualElement;if(b&&b.layout){const _=b.layout.layoutBox[g];_&&(v=Dt(_)*(parseFloat(v)/100))}}this.originPoint[g]=v}),x&&je.postRender(()=>x(f,h)),P0(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},l=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h;const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:x,onDrag:w}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=h;if(p&&this.currentDirection===null){this.currentDirection=ZI(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,g),this.updateAxis("y",h.point,g),this.visualElement.render(),w&&w(f,h)},c=(f,h)=>{this.latestPointerEvent=f,this.latestPanInfo=h,this.stop(f,h),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>wr(f=>{var h;return this.getAnimationState(f)==="paused"&&((h=this.getAxisMotionValue(f).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new gA(t,{onSessionStart:i,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:pA(this.visualElement)})}stop(t,r){const n=t||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:a}=s;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&je.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!iu(t,s,this.currentDirection))return;const i=this.getAxisMotionValue(t);let a=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(a=KI(a,this.constraints[t],this.elastic[t])),i.set(a)}resolveConstraints(){var i;const{dragConstraints:t,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;t&&la(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&n?this.constraints=qI(n.layoutBox,t):this.constraints=!1,this.elastic=XI(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&wr(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=YI(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!la(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=eI(n,s.root,this.visualElement.getTransformPagePoint());let a=HI(s.layout.layoutBox,i);if(r){const l=r(J6(a));this.hasMutatedConstraints=!!l,l&&(a=eA(l))}return a}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:a,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=wr(d=>{if(!iu(d,r,this.currentDirection))return;let f=c&&c[d]||{};a&&(f={min:0,max:0});const h=s?200:1e6,m=s?40:1e7,p={type:"inertia",velocity:n?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return P0(this.visualElement,t),n.start(sv(t,n,0,r,this.visualElement,!1))}stopAnimation(){wr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){wr(t=>{var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)==null?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){wr(r=>{const{drag:n}=this.getProps();if(!iu(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:a,max:l}=s.layout.layoutBox[r];i.set(t[r]-Ie(a,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!la(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};wr(a=>{const l=this.getAxisMotionValue(a);if(l&&this.constraints!==!1){const c=l.get();s[a]=GI({min:c,max:c},this.constraints[a])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wr(a=>{if(!iu(a,t,null))return;const l=this.getAxisMotionValue(a),{min:c,max:u}=this.constraints[a];l.set(Ie(c,u,s[a]))})}addListeners(){if(!this.visualElement.current)return;JI.set(this.visualElement,this);const t=this.visualElement.current,r=pl(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();la(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),je.read(n);const a=Wl(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(wr(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{a(),r(),i(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:a=A0,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:a,dragMomentum:l}}}function iu(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function ZI(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class eB extends Ls{constructor(t){super(t),this.removeGroupControls=er,this.removeListeners=er,this.controls=new QI(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||er}unmount(){this.removeGroupControls(),this.removeListeners()}}const O1=e=>(t,r)=>{e&&je.postRender(()=>e(t,r))};class tB extends Ls{constructor(){super(...arguments),this.removePointerDownListener=er}onPointerDown(t){this.session=new gA(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:pA(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:O1(t),onStart:O1(r),onMove:n,onEnd:(i,a)=>{delete this.session,s&&je.postRender(()=>s(i,a))}}}mount(){this.removePointerDownListener=pl(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Bu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function C1(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $o={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(oe.test(e))e=parseFloat(e);else return e;const r=C1(e,t.target.x),n=C1(e,t.target.y);return`${r}% ${n}%`}},rB={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=As.parse(e);if(s.length>5)return n;const i=As.createTransformer(e),a=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+a]/=l,s[1+a]/=c;const u=Ie(l,c,.5);return typeof s[2+a]=="number"&&(s[2+a]/=u),typeof s[3+a]=="number"&&(s[3+a]/=u),i(s)}};let Sm=!1;class nB extends y.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=t;S6(sB),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),Sm&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Bu.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:a}=n;return a&&(a.isPresent=i,Sm=!0,s||t.layoutDependency!==r||r===void 0||t.isPresent!==i?a.willUpdate():this.safeToRemove(),t.isPresent!==i&&(i?a.promote():a.relegate()||je.postRender(()=>{const l=a.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Hy.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;Sm=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function vA(e){const[t,r]=Fk(),n=y.useContext(Ny);return o.jsx(nB,{...e,layoutGroup:n,switchLayoutGroup:y.useContext(Qk),isPresent:t,safeToRemove:r})}const sB={borderRadius:{...$o,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$o,borderTopRightRadius:$o,borderBottomLeftRadius:$o,borderBottomRightRadius:$o,boxShadow:rB};function iB(e,t,r){const n=At(e)?e:qr(e);return n.start(sv("",n,t,r)),n.animation}const aB=(e,t)=>e.depth-t.depth;class oB{constructor(){this.children=[],this.isDirty=!1}add(t){Py(this.children,t),this.isDirty=!0}remove(t){ky(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(aB),this.isDirty=!1,this.children.forEach(t)}}function lB(e,t){const r=Yt.now(),n=({timestamp:s})=>{const i=s-r;i>=t&&(Xr(n),e(i-t))};return je.setup(n,!0),()=>Xr(n)}const xA=["TopLeft","TopRight","BottomLeft","BottomRight"],cB=xA.length,T1=e=>typeof e=="string"?parseFloat(e):e,M1=e=>typeof e=="number"||oe.test(e);function uB(e,t,r,n,s,i){s?(e.opacity=Ie(0,r.opacity??1,dB(n)),e.opacityExit=Ie(t.opacity??1,0,fB(n))):i&&(e.opacity=Ie(t.opacity??1,r.opacity??1,n));for(let a=0;a<cB;a++){const l=`border${xA[a]}Radius`;let c=D1(t,l),u=D1(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||M1(c)===M1(u)?(e[l]=Math.max(Ie(T1(c),T1(u),n),0),(hn.test(u)||hn.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=Ie(t.rotate||0,r.rotate||0,n))}function D1(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const dB=bA(0,.5,nk),fB=bA(.5,.95,er);function bA(e,t,r){return n=>n<e?0:n>t?1:r(Ia(e,t,n))}function R1(e,t){e.min=t.min,e.max=t.max}function yr(e,t){R1(e.x,t.x),R1(e.y,t.y)}function $1(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function L1(e,t,r,n,s){return e-=t,e=xd(e,1/r,n),s!==void 0&&(e=xd(e,1/s,n)),e}function hB(e,t=0,r=1,n=.5,s,i=e,a=e){if(hn.test(t)&&(t=parseFloat(t),t=Ie(a.min,a.max,t/100)-a.min),typeof t!="number")return;let l=Ie(i.min,i.max,n);e===i&&(l-=t),e.min=L1(e.min,t,r,l,s),e.max=L1(e.max,t,r,l,s)}function I1(e,t,[r,n,s],i,a){hB(e,t[r],t[n],t[s],t.scale,i,a)}const mB=["x","scaleX","originX"],pB=["y","scaleY","originY"];function B1(e,t,r,n){I1(e.x,t,mB,r?r.x:void 0,n?n.x:void 0),I1(e.y,t,pB,r?r.y:void 0,n?n.y:void 0)}function F1(e){return e.translate===0&&e.scale===1}function wA(e){return F1(e.x)&&F1(e.y)}function z1(e,t){return e.min===t.min&&e.max===t.max}function gB(e,t){return z1(e.x,t.x)&&z1(e.y,t.y)}function U1(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function jA(e,t){return U1(e.x,t.x)&&U1(e.y,t.y)}function W1(e){return Dt(e.x)/Dt(e.y)}function V1(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class yB{constructor(){this.members=[]}add(t){Py(this.members,t),t.scheduleRender()}remove(t){if(ky(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function vB(e,t,r){let n="";const s=e.x.translate/t.x,i=e.y.translate/t.y,a=(r==null?void 0:r.z)||0;if((s||i||a)&&(n=`translate3d(${s}px, ${i}px, ${a}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:h,skewX:m,skewY:p}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),h&&(n+=`rotateY(${h}deg) `),m&&(n+=`skewX(${m}deg) `),p&&(n+=`skewY(${p}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Pm=["","X","Y","Z"],xB=1e3;let bB=0;function km(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function _A(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=lA(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",je,!(s||i))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&_A(n)}function NA({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(a={},l=t==null?void 0:t()){this.id=bB++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_B),this.nodes.forEach(kB),this.nodes.forEach(AB),this.nodes.forEach(NB)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new oB)}addEventListener(a,l){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new Ey),this.eventHandlers.get(a).add(l)}notifyListeners(a,...l){const c=this.eventHandlers.get(a);c&&c.notify(...l)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Yy(a)&&!d6(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),e){let d,f=0;const h=()=>this.root.updateBlockedByResize=!1;je.read(()=>{f=window.innerWidth}),e(a,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,d&&d(),d=lB(h,250),Bu.hasAnimatedSinceResize&&(Bu.hasAnimatedSinceResize=!1,this.nodes.forEach(H1)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:h,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const p=this.options.transition||u.getDefaultTransition()||MB,{onLayoutAnimationStart:x,onLayoutAnimationComplete:w}=u.getProps(),g=!this.targetLayout||!jA(this.targetLayout,m),v=!f&&h;if(this.options.layoutRoot||this.resumeFrom||v||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const b={...Vy(p,"layout"),onPlay:x,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b),this.setAnimationOrigin(d,v)}else f||H1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(EB),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_A(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(K1);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(q1);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(PB),this.nodes.forEach(wB),this.nodes.forEach(jB)):this.nodes.forEach(q1),this.clearAllSnapshots();const l=Yt.now();ct.delta=pn(0,1e3/60,l-ct.timestamp),ct.timestamp=l,ct.isProcessing=!0,pm.update.process(ct),pm.preRender.process(ct),pm.render.process(ct),ct.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Hy.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SB),this.sharedNodes.forEach(OB)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,je.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){je.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Dt(this.snapshot.measuredBox.x)&&!Dt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!wA(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(l||Js(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return a&&(c=this.removeTransform(c)),DB(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return Ge();const l=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(RB))){const{scroll:d}=this.root;d&&(ca(l.x,d.offset.x),ca(l.y,d.offset.y))}return l}removeElementScroll(a){var c;const l=Ge();if(yr(l,a),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:h}=d;d!==this.root&&f&&h.layoutScroll&&(f.wasRoot&&yr(l,a),ca(l.x,f.offset.x),ca(l.y,f.offset.y))}return l}applyTransform(a,l=!1){const c=Ge();yr(c,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ua(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Js(d.latestValues)&&ua(c,d.latestValues)}return Js(this.latestValues)&&ua(c,this.latestValues),c}removeTransform(a){const l=Ge();yr(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Js(u.latestValues))continue;j0(u.latestValues)&&u.updateSnapshot();const d=Ge(),f=u.measurePageBox();yr(d,f),B1(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Js(this.latestValues)&&B1(l,this.latestValues),l}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ct.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var h;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!(!this.layout||!(d||f))){if(this.resolvedRelativeTargetAt=ct.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),yl(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ge(),this.targetWithTransforms=Ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),zI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):yr(this.target,this.layout.layoutBox),rA(this.target,this.targetDelta)):yr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ge(),this.relativeTargetOrigin=Ge(),yl(this.relativeTargetOrigin,this.target,m.target),yr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||j0(this.parent.latestValues)||tA(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var p;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ct.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;yr(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;Z6(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ge());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($1(this.prevProjectionDelta.x,this.projectionDelta.x),$1(this.prevProjectionDelta.y,this.projectionDelta.y)),gl(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==h||!V1(this.projectionDelta.x,this.prevProjectionDelta.x)||!V1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),a){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=da(),this.projectionDelta=da(),this.projectionDeltaWithTransform=da()}setAnimationOrigin(a,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=da();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const h=Ge(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,w=this.getStack(),g=!w||w.members.length<=1,v=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(TB));this.animationProgress=0;let b;this.mixTargetDelta=_=>{const j=_/1e3;G1(f.x,a.x,j),G1(f.y,a.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(yl(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CB(this.relativeTarget,this.relativeTargetOrigin,h,j),b&&gB(this.relativeTarget,b)&&(this.isProjectionDirty=!1),b||(b=Ge()),yr(b,this.relativeTarget)),x&&(this.animationValues=d,uB(d,u,this.latestValues,j,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=je.update(()=>{Bu.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=qr(0)),this.currentAnimation=iB(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(xB),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=a;if(!(!l||!c||!u)){if(this!==a&&this.layout&&u&&SA(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ge();const f=Dt(this.layout.layoutBox.x);c.x.min=a.target.x.min,c.x.max=c.x.min+f;const h=Dt(this.layout.layoutBox.y);c.y.min=a.target.y.min,c.y.max=c.y.min+h}yr(l,c),ua(l,d),gl(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(a,l){this.sharedNodes.has(a)||this.sharedNodes.set(a,new yB),this.sharedNodes.get(a).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var l;const{layoutId:a}=this.options;return a?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:a}=this.options;return a?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),a&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let l=!1;const{latestValues:c}=a;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&km("z",a,u,this.animationValues);for(let d=0;d<Pm.length;d++)km(`rotate${Pm[d]}`,a,u,this.animationValues),km(`skew${Pm[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Iu(l==null?void 0:l.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Iu(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(a.transform=c?c({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=vB(this.projectionDeltaWithTransform,this.treeScale,d);c&&(f=c(d,f)),a.transform=f;const{x:h,y:m}=this.projectionDelta;a.transformOrigin=`${h.origin*100}% ${m.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const p in Ul){if(d[p]===void 0)continue;const{correct:x,applyTo:w,isCSSVariable:g}=Ul[p],v=f==="none"?d[p]:x(d[p],u);if(w){const b=w.length;for(let _=0;_<b;_++)a[w[_]]=v}else g?this.options.visualElement.renderState.vars[p]=v:a[p]=v}this.options.layoutId&&(a.pointerEvents=u===this?Iu(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var l;return(l=a.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(K1),this.root.sharedNodes.clear()}}}function wB(e){e.updateLayout()}function jB(e){var r;const t=((r=e.resumeFrom)==null?void 0:r.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:i}=e.options,a=t.source!==e.layout.source;i==="size"?wr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Dt(h);h.min=n[f].min,h.max=h.min+m}):SA(i,t.layoutBox,n)&&wr(f=>{const h=a?t.measuredBox[f]:t.layoutBox[f],m=Dt(n[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const l=da();gl(l,n,t.layoutBox);const c=da();a?gl(c,e.applyTransform(s,!0),t.measuredBox):gl(c,n,t.layoutBox);const u=!wA(l);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=Ge();yl(p,t.layoutBox,h.layoutBox);const x=Ge();yl(x,n,m.layoutBox),jA(p,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:t,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function _B(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function NB(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function SB(e){e.clearSnapshot()}function K1(e){e.clearMeasurements()}function q1(e){e.isLayoutDirty=!1}function PB(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function H1(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function kB(e){e.resolveTargetDelta()}function AB(e){e.calcProjection()}function EB(e){e.resetSkewAndRotation()}function OB(e){e.removeLeadSnapshot()}function G1(e,t,r){e.translate=Ie(t.translate,0,r),e.scale=Ie(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function Y1(e,t,r,n){e.min=Ie(t.min,r.min,n),e.max=Ie(t.max,r.max,n)}function CB(e,t,r,n){Y1(e.x,t.x,r.x,n),Y1(e.y,t.y,r.y,n)}function TB(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const MB={duration:.45,ease:[.4,0,.1,1]},X1=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),J1=X1("applewebkit/")&&!X1("chrome/")?Math.round:er;function Q1(e){e.min=J1(e.min),e.max=J1(e.max)}function DB(e){Q1(e.x),Q1(e.y)}function SA(e,t,r){return e==="position"||e==="preserve-aspect"&&!FI(W1(t),W1(r),.2)}function RB(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const $B=NA({attachResizeListener:(e,t)=>Wl(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Am={current:void 0},PA=NA({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Am.current){const e=new $B({});e.mount(window),e.setOptions({layoutScroll:!0}),Am.current=e}return Am.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),LB={pan:{Feature:tB},drag:{Feature:eB,ProjectionNode:PA,MeasureLayout:vA}};function Z1(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&je.postRender(()=>i(t,pc(t)))}class IB extends Ls{mount(){const{current:t}=this.node;t&&(this.unmount=JL(t,(r,n)=>(Z1(this.node,n,"Start"),s=>Z1(this.node,s,"End"))))}unmount(){}}class BB extends Ls{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(Wl(this.node.current,"focus",()=>this.onFocus()),Wl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ej(e,t,r){const{props:n}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&je.postRender(()=>i(t,pc(t)))}class FB extends Ls{mount(){const{current:t}=this.node;t&&(this.unmount=t6(t,(r,n)=>(ej(this.node,n,"Start"),(s,{success:i})=>ej(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const E0=new WeakMap,Em=new WeakMap,zB=e=>{const t=E0.get(e.target);t&&t(e)},UB=e=>{e.forEach(zB)};function WB({root:e,...t}){const r=e||document;Em.has(r)||Em.set(r,{});const n=Em.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(UB,{root:e,...t})),n[s]}function VB(e,t,r){const n=WB(t);return E0.set(e,r),n.observe(e),()=>{E0.delete(e),n.unobserve(e)}}const KB={some:0,all:1};class qB extends Ls{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=t,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:KB[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return VB(this.node.current,a,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(HB(t,r))&&this.startObserver()}unmount(){}}function HB({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const GB={inView:{Feature:qB},tap:{Feature:FB},focus:{Feature:BB},hover:{Feature:IB}},YB={layout:{ProjectionNode:PA,MeasureLayout:vA}},XB={...DI,...GB,...LB,...YB},as=X6(XB,cI),JB=50,tj=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),QB=()=>({time:0,x:tj(),y:tj()}),ZB={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function rj(e,t,r,n){const s=r[t],{length:i,position:a}=ZB[t],l=s.current,c=r.time;s.current=e[`scroll${a}`],s.scrollLength=e[`scroll${i}`]-e[`client${i}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=Ia(0,s.scrollLength,s.current);const u=n-c;s.velocity=u>JB?0:Oy(s.current-l,u)}function eF(e,t,r){rj(e,"x",t,r),rj(e,"y",t,r),t.time=r}function tF(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(qy(n))r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const s=n.getBoundingClientRect();n=n.parentElement;const i=n.getBoundingClientRect();r.x+=s.left-i.left,r.y+=s.top-i.top}else if(n instanceof SVGGraphicsElement){const{x:s,y:i}=n.getBBox();r.x+=s,r.y+=i;let a=null,l=n.parentNode;for(;!a;)l.tagName==="svg"&&(a=l),l=n.parentNode;n=a}else break;return r}const O0={start:0,center:.5,end:1};function nj(e,t,r=0){let n=0;if(e in O0&&(e=O0[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?n=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?n=s/100*document.documentElement.clientWidth:e.endsWith("vh")?n=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(n=t*e),r+n}const rF=[0,0];function nF(e,t,r,n){let s=Array.isArray(e)?e:rF,i=0,a=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,O0[e]?e:"0"]),i=nj(s[0],r,n),a=nj(s[1],t),i-a}const sF={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},iF={x:0,y:0};function aF(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function oF(e,t,r){const{offset:n=sF.All}=r,{target:s=e,axis:i="y"}=r,a=i==="y"?"height":"width",l=s!==e?tF(s,e):iF,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:aF(s),u={width:e.clientWidth,height:e.clientHeight};t[i].offset.length=0;let d=!t[i].interpolate;const f=n.length;for(let h=0;h<f;h++){const m=nF(n[h],u[a],c[a],l[i]);!d&&m!==t[i].interpolatorOffsets[h]&&(d=!0),t[i].offset[h]=m}d&&(t[i].interpolate=By(t[i].offset,vk(n),{clamp:!1}),t[i].interpolatorOffsets=[...t[i].offset]),t[i].progress=pn(0,1,t[i].interpolate(t[i].current))}function lF(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function cF(e,t,r,n={}){return{measure:s=>{lF(e,n.target,r),eF(e,r,s),(n.offset||n.target)&&oF(e,r,n)},notify:()=>t(r)}}const Lo=new WeakMap,sj=new WeakMap,Om=new WeakMap,ij=e=>e===document.scrollingElement?window:e;function kA(e,{container:t=document.scrollingElement,...r}={}){if(!t)return er;let n=Om.get(t);n||(n=new Set,Om.set(t,n));const s=QB(),i=cF(t,e,s,r);if(n.add(i),!Lo.has(t)){const l=()=>{for(const f of n)f.measure(ct.timestamp);je.preUpdate(c)},c=()=>{for(const f of n)f.notify()},u=()=>je.read(l);Lo.set(t,u);const d=ij(t);window.addEventListener("resize",u,{passive:!0}),t!==document.documentElement&&sj.set(t,u6(t,u)),d.addEventListener("scroll",u,{passive:!0}),u()}const a=Lo.get(t);return je.read(a,!1,!0),()=>{var u;Xr(a);const l=Om.get(t);if(!l||(l.delete(i),l.size))return;const c=Lo.get(t);Lo.delete(t),c&&(ij(t).removeEventListener("scroll",c),(u=sj.get(t))==null||u(),window.removeEventListener("resize",c))}}const aj=new Map;function uF(e){const t={value:0},r=kA(n=>{t.value=n[e.axis].progress*100},e);return{currentTime:t,cancel:r}}function AA({source:e,container:t,...r}){const{axis:n}=r;e&&(t=e);const s=aj.get(t)??new Map;aj.set(t,s);const i=r.target??"self",a=s.get(i)??{},l=n+(r.offset??[]).join(",");return a[l]||(a[l]=!r.target&&jk()?new ScrollTimeline({source:t,axis:n}):uF({container:t,...r})),a[l]}function dF(e,t){const r=AA(t);return e.attachTimeline({timeline:t.target?void 0:r,observe:n=>(n.pause(),Bk(s=>{n.time=n.duration*s},r))})}function fF(e){return e.length===2}function hF(e,t){return fF(e)?kA(r=>{e(r[t.axis].progress,r)},t):Bk(e,AA(t))}function mF(e,{axis:t="y",container:r=document.scrollingElement,...n}={}){if(!r)return er;const s={axis:t,container:r,...n};return typeof e=="function"?hF(e,s):dF(e,s)}const pF=()=>({scrollX:qr(0),scrollY:qr(0),scrollXProgress:qr(0),scrollYProgress:qr(0)}),au=e=>e?!e.current:!1;function gF({container:e,target:t,...r}={}){const n=ao(pF),s=y.useRef(null),i=y.useRef(!1),a=y.useCallback(()=>(s.current=mF((l,{x:c,y:u})=>{n.scrollX.set(c.current),n.scrollXProgress.set(c.progress),n.scrollY.set(u.current),n.scrollYProgress.set(u.progress)},{...r,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0}),()=>{var l;(l=s.current)==null||l.call(s)}),[e,t,JSON.stringify(r.offset)]);return Af(()=>{if(i.current=!1,au(e)||au(t)){i.current=!0;return}else return a()},[a]),y.useEffect(()=>{if(i.current)return La(!au(e)),La(!au(t)),a()},[a]),n}function yF(e){const t=ao(()=>qr(e)),{isStatic:r}=y.useContext(Of);if(r){const[,n]=y.useState(e);y.useEffect(()=>t.on("change",n),[])}return t}function EA(e,t){const r=yF(t()),n=()=>r.set(t());return n(),Af(()=>{const s=()=>je.preRender(n,!1,!0),i=e.map(a=>a.on("change",s));return()=>{i.forEach(a=>a()),Xr(n)}}),r}function vF(e){ml.current=[],e();const t=EA(ml.current,e);return ml.current=void 0,t}function Cm(e,t,r,n){if(typeof e=="function")return vF(e);const s=typeof t=="function"?t:f6(t,r,n);return Array.isArray(e)?oj(e,s):oj([e],([i])=>s(i))}function oj(e,t){const r=ao(()=>[]);return EA(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}const xF=[{id:"dashboard",label:"Dashboard",icon:o.jsx(n$,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournaments",label:"Tournaments",icon:o.jsx(kt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"leaderboards",label:"Leaderboards",icon:o.jsx(hd,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"analytics",label:"Analytics",icon:o.jsx(ln,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"parts-database",label:"Parts Database",icon:o.jsx(cn,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"inventory",label:"Inventory & Decks",icon:o.jsx(Jo,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"team-manager",label:"Team Manager",icon:o.jsx(nt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"community-manager",label:"Community Manager",icon:o.jsx(nt,{size:20}),roles:["user","technical_officer","admin","developer"]},{id:"tournament-manager",label:"Tournament Manager",icon:o.jsx(o0,{size:20}),roles:["admin","developer"]},{id:"user-management",label:"User Management",icon:o.jsx(nt,{size:20}),roles:["admin","developer"]},{id:"database",label:"Database",icon:o.jsx(cn,{size:20}),roles:["developer"]},{id:"settings",label:"Settings",icon:o.jsx(o0,{size:20}),roles:["user","technical_officer","admin","developer"],requiresAuth:!0}];function bF({isOpen:e,currentView:t,onViewChange:r,onToggle:n}){const{user:s,logout:i}=zt(),[a,l]=ms.useState(!1),c=xF.filter(d=>s?d.roles.includes(s.role||"user"):!d.requiresAuth&&d.roles.includes("user")),u=async()=>{await i(),n()};return y.useEffect(()=>{const d=f=>{window.innerWidth>768&&(f.clientX<=20&&!e||f.clientX>300&&e)&&n()};return window.addEventListener("mousemove",d),()=>window.removeEventListener("mousemove",d)},[e,n]),y.useEffect(()=>{const d=f=>{if(window.innerWidth<=768&&e){const h=document.getElementById("app-sidebar"),m=document.getElementById("sidebar-toggle-btn");h&&!h.contains(f.target)&&m&&!m.contains(f.target)&&n()}};return e&&document.addEventListener("click",d),()=>document.removeEventListener("click",d)},[e,n]),o.jsxs(o.Fragment,{children:[e&&o.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-30 md:hidden"}),o.jsxs("aside",{id:"app-sidebar",className:`fixed left-0 top-0 z-50 h-screen flex flex-col 
        transition-transform duration-300 ease-in-out
        ${e?"translate-x-0":"-translate-x-full"} 
        bg-slate-950 border-r border-cyan-500/30 w-64 shadow-[0_0_30px_rgba(0,200,255,0.2)]`,children:[o.jsxs("div",{className:"flex items-center justify-between p-4 bg-slate-950 border-b border-slate-800",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("img",{src:"/favicon.png",alt:"OBC Logo",className:"w-8 h-8 object-contain"}),e&&o.jsx("h1",{className:"text-lg font-bold text-white",children:"OBC Portal"})]}),e&&o.jsx("button",{onClick:d=>{d.stopPropagation(),n()},className:"p-2 hover:bg-cyan-500/20 rounded transition-colors text-cyan-400 hover:text-white",children:o.jsx(Ot,{size:20})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-6 space-y-8",children:[o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Overview"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["dashboard","tournaments","analytics","leaderboards"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]}),o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Database"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["parts-database","inventory"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.6)]":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]}),o.jsxs("div",{children:[e&&o.jsx("p",{className:"text-xs font-semibold text-slate-500 uppercase mb-2",children:"Management"}),o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["team-manager","community-manager","tournament-manager","user-management"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                        ${t===d.id?"text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.6)]":"text-slate-300 hover:text-cyan-400"}
                      `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                          group-hover:w-full transition-all duration-500
                          ${t===d.id?"w-full":""}
                        `})]})},d.id))})]}),c.some(d=>["database"].includes(d.id))&&o.jsx("div",{children:o.jsx("ul",{className:"space-y-1",children:c.filter(d=>["database"].includes(d.id)).map(d=>o.jsx("li",{children:o.jsxs("button",{onClick:()=>r(d.id),className:`w-full flex items-center px-2 py-2 relative transition group
                ${t===d.id?"text-cyan-400 shadow-[0_0_10px_rgba(34,211,238,0.6)]":"text-slate-300 hover:text-cyan-400"}
              `,children:[o.jsx("div",{className:"mr-3",children:d.icon}),e&&o.jsx("span",{className:"ml-3 font-medium",children:d.label}),o.jsx("div",{className:`absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-500 to-purple-500
                  group-hover:w-full transition-all duration-500
                  ${t===d.id?"w-full":""}
                `})]})},d.id))})})]}),o.jsxs("div",{className:"px-4 py-4 bg-slate-950 border-t border-slate-800",children:[s&&!s.id.startsWith("guest-")&&e&&o.jsx("div",{className:"mb-4 p-3 bg-slate-900/50 rounded-lg border border-cyan-500/20",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:s.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("p",{className:"text-sm font-medium text-white truncate",children:s.username}),o.jsx("p",{className:"text-xs text-cyan-400 capitalize",children:s.role.replace("_"," ")})]})]})}),s&&!s.id.startsWith("guest-")&&o.jsxs("button",{onClick:()=>r("settings"),className:`w-full flex items-center px-3 py-3 mb-2 transition-all duration-200 ${t==="settings"?"text-cyan-400 bg-cyan-500/20":"text-slate-300 hover:text-cyan-400 hover:bg-cyan-500/10"}`,children:[o.jsx(o0,{size:20}),e&&o.jsx("span",{className:"ml-3 font-medium",children:"Settings"})]}),s&&!s.id.startsWith("guest-")?o.jsxs("button",{onClick:u,className:"w-full flex items-center px-3 py-3 text-red-400 hover:text-red-300 hover:bg-red-500/10 transition-all duration-200",children:[o.jsx(a$,{size:20}),e&&o.jsx("span",{className:"ml-3 font-medium",children:"Logout"})]}):o.jsxs("button",{onClick:()=>l(!0),className:"w-full flex items-center px-3 py-3 text-cyan-400 hover:text-white hover:bg-cyan-500/20 transition-all duration-200",children:[o.jsx(i$,{size:20}),e&&o.jsx("span",{className:"ml-3 font-medium",children:"Login"})]})]})]}),o.jsx(w0,{children:a&&o.jsxs(o.Fragment,{children:[o.jsx(as.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50",onClick:()=>l(!1)}),o.jsx(as.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-slate-950 border border-cyan-500/30 rounded-xl shadow-[0_0_40px_rgba(0,200,255,0.3)] max-w-md w-full mx-4 max-h-[90vh] overflow-hidden",children:[o.jsx(H2,{onLoginSuccess:()=>l(!1)}),o.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 w-8 h-8 bg-slate-800 hover:bg-slate-700 border border-cyan-500/30 rounded-full flex items-center justify-center text-cyan-400 hover:text-white transition-colors",children:o.jsx(Ot,{size:16})})]})})]})})]})}function lj({onViewChange:e}){var I,H,B,K,F;const{user:t,logout:r}=zt(),[n,s]=y.useState(!1),[i,a]=y.useState({totalTournaments:0,activePlayers:0,upcomingEvents:0,completedMatches:0}),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState(0),[x,w]=y.useState([]),[g,v]=y.useState("all"),[b,_]=y.useState(!0),j=y.useRef(null),{scrollYProgress:N}=gF(j.current?{target:j,offset:["start start","end start"],layoutEffect:!1}:void 0),k=Cm(N,[0,1],[0,-200]),P=Cm(N,[0,.5],[1,0]),E=Cm(N,[0,1],[0,-100]),T=async()=>{try{const{data:A}=await Y.from("match_results").select("player1_name, player2_name, winner_name").order("submitted_at",{ascending:!1}).limit(1e3);if(!A)return;const S={};A.forEach(V=>{const{player1_name:R,player2_name:X,winner_name:ce}=V;S[R]||(S[R]={wins:0,total:0,tournaments:new Set}),S[X]||(S[X]={wins:0,total:0,tournaments:new Set}),S[R].total++,S[X].total++,ce===R?S[R].wins++:ce===X&&S[X].wins++});const L=Object.entries(S).map(([V,R])=>({name:V,wins:R.wins,tournaments:R.tournaments.size,winRate:R.total>0?Math.round(R.wins/R.total*100):0})).filter(V=>V.wins>0).sort((V,R)=>R.wins!==V.wins?R.wins-V.wins:R.winRate-V.winRate).slice(0,5);h(L)}catch(A){console.error("Error fetching top players:",A)}},O=async()=>{try{const{data:A}=await Y.from("tournaments").select("*"),{data:S}=await Y.from("match_results").select("*"),L=new Set;S==null||S.forEach(X=>{X.player1_name&&L.add(X.player1_name),X.player2_name&&L.add(X.player2_name)});const V=new Date,R=(A==null?void 0:A.filter(X=>new Date(X.tournament_date)>V&&X.status!=="completed"))||[];a({totalTournaments:(A==null?void 0:A.length)||0,activePlayers:L.size,upcomingEvents:R.length,completedMatches:(S==null?void 0:S.length)||0}),c(R.slice(0,3)),d(A||[])}catch(A){console.error("Error fetching stats:",A)}},U=async()=>{try{let A=Y.from("match_results").select(`
          *,
          tournaments!inner(name)
        `).order("submitted_at",{ascending:!1});g!=="all"&&(A=A.eq("tournament_id",g));const{data:S}=await A.limit(20);w(S||[])}catch(A){console.error("Error fetching matches:",A)}};return y.useEffect(()=>{(async()=>{_(!0),await Promise.all([O(),T(),U()]),_(!1)})()},[t]),y.useEffect(()=>{U()},[g]),y.useEffect(()=>{if(f.length>1){const A=setInterval(()=>{p(S=>(S+1)%f.length)},5e3);return()=>clearInterval(A)}},[f]),b?o.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center",children:o.jsx("p",{className:"text-white text-lg font-semibold animate-pulse",children:"Loading Portal..."})}):o.jsxs("div",{className:"min-h-screen bg-slate-950 text-white overflow-hidden relative",children:[o.jsxs(as.section,{ref:j,style:{opacity:P},className:"relative h-screen flex items-center justify-center overflow-hidden",children:[o.jsxs("div",{className:"absolute inset-0",children:[o.jsx("img",{src:"/community.jpg",alt:"Ormoc Beyblade Community",className:"w-full h-full object-cover fixed inset-0"}),o.jsx("div",{className:"absolute inset-0 bg-black/60"}),o.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[length:60px_60px] opacity-20"})]}),o.jsxs(as.div,{className:"relative z-10 text-center px-6 max-w-5xl mx-auto",style:{y:k},children:[o.jsx("h1",{className:"text-5xl md:text-6xl font-exo2 uppercase tracking-wide",style:{fontWeight:800},children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Ormoc Beyblade Club"})}),o.jsx("p",{className:"mt-4 text-lg md:text-xl text-slate-200 font-exo2 font-medium",children:"Fight. Conquer. Win."}),o.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row gap-6 justify-center",children:[o.jsxs("button",{onClick:()=>e==null?void 0:e("tournaments"),className:"relative px-10 py-4 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-bold uppercase tracking-wider hover:shadow-[0_0_20px_rgba(0,200,255,0.7)] transition overflow-hidden group",children:["Join Tournament",o.jsx("span",{className:"absolute inset-0 bg-[linear-gradient(120deg,transparent,rgba(255,255,255,0.2),transparent)] translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700"})]}),o.jsx("button",{onClick:()=>e==null?void 0:e("analytics"),className:"px-10 py-4 border border-slate-600 text-white font-bold uppercase tracking-wider hover:bg-slate-800 transition",children:"View Analytics"})]})]})]}),o.jsxs(as.div,{style:{y:E},className:"relative z-20 -mt-20",children:[o.jsx("section",{className:"mt-20 border-y border-slate-800 bg-slate-950",children:o.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 divide-x divide-slate-800",children:[{label:"Tournaments",value:i.totalTournaments},{label:"Active Players",value:i.activePlayers},{label:"Upcoming",value:i.upcomingEvents},{label:"Matches",value:i.completedMatches}].map(A=>o.jsxs("div",{className:"py-14 text-center",children:[o.jsx("div",{className:"text-5xl font-extrabold bg-gradient-to-r from-cyan-400 to-purple-500 bg-clip-text text-transparent",children:A.value}),o.jsx("div",{className:"mt-2 text-sm uppercase tracking-wide text-slate-400",children:A.label})]},A.label))})}),o.jsx("section",{className:"py-24 bg-slate-900/90 backdrop-blur-sm",children:o.jsx("div",{className:"max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-3 gap-10",children:[{title:"Tournament Hub",desc:"Register and track upcoming tournaments.",color:"from-cyan-500 to-purple-500",action:()=>e==null?void 0:e("tournaments")},{title:"Analytics",desc:"View stats and performance trends.",color:"from-purple-500 to-pink-500",action:()=>e==null?void 0:e("analytics")},{title:"Deck Builder",desc:"Build and save your best Beyblade combinations.",color:"from-orange-500 to-red-500",action:()=>e==null?void 0:e("inventory")}].map(A=>o.jsxs("div",{onClick:A.action,className:"p-12 bg-slate-950 border border-slate-800 hover:shadow-[0_0_30px_rgba(0,200,255,0.2)] cursor-pointer transition relative group",children:[o.jsx("h3",{className:"text-2xl font-bold mb-3",children:A.title}),o.jsx("p",{className:"text-slate-400 mb-6",children:A.desc}),o.jsx("span",{className:`uppercase font-semibold bg-gradient-to-r ${A.color} bg-clip-text text-transparent`,children:"Explore →"}),o.jsx("div",{className:`absolute bottom-0 left-0 h-1 w-0 bg-gradient-to-r ${A.color} group-hover:w-full transition-all duration-500`})]},A.title))})}),o.jsx("section",{className:"py-24 relative overflow-hidden",children:o.jsxs("div",{className:"max-w-6xl mx-auto px-6 relative z-10",children:[o.jsx("h2",{className:"text-5xl font-extrabold text-center mb-16 uppercase tracking-tight",children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Community Champions"})}),f.length>0&&o.jsx(w0,{mode:"wait",children:o.jsxs(as.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-center border border-cyan-500/30 bg-slate-950/70 backdrop-blur-xl rounded-md p-12 shadow-[0_0_40px_rgba(0,200,255,0.15)]",children:[o.jsx("div",{className:"flex items-center justify-center mb-10",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"w-32 h-32 rounded-full bg-gradient-to-r from-cyan-500 to-purple-600 flex items-center justify-center text-6xl font-bold text-white shadow-[0_0_30px_rgba(0,200,255,0.6)] animate-pulse",children:(I=f[m])==null?void 0:I.name.charAt(0).toUpperCase()}),o.jsx("div",{className:"absolute inset-0 rounded-full border-4 border-cyan-400/40 animate-spin-slow"})]})}),o.jsx("h3",{className:"text-3xl font-bold mb-3 text-white",children:(H=f[m])==null?void 0:H.name}),o.jsx("p",{className:"text-cyan-400 font-semibold uppercase tracking-wide mb-10",children:"Champion Blader"}),o.jsxs("div",{className:"grid grid-cols-3 gap-10 max-w-xl mx-auto",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent",children:(B=f[m])==null?void 0:B.wins}),o.jsx("div",{className:"text-slate-400 mt-2 text-sm uppercase",children:"Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-4xl font-bold bg-gradient-to-r from-purple-400 to-pink-400 bg-clip-text text-transparent",children:(K=f[m])==null?void 0:K.tournaments}),o.jsx("div",{className:"text-slate-400 mt-2 text-sm uppercase",children:"Tournaments"})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"text-4xl font-bold bg-gradient-to-r from-green-400 to-cyan-400 bg-clip-text text-transparent",children:[(F=f[m])==null?void 0:F.winRate,"%"]}),o.jsx("div",{className:"text-slate-400 mt-2 text-sm uppercase",children:"Win Rate"})]})]})]},m)}),f.length>1&&o.jsx("div",{className:"flex justify-center space-x-3 mt-10",children:f.map((A,S)=>o.jsx("button",{onClick:()=>p(S),className:`w-3 h-3 rounded-full transition-all duration-300 ${S===m?"bg-cyan-400 scale-125 shadow-[0_0_10px_rgba(0,200,255,0.8)]":"bg-slate-600 hover:bg-slate-500"}`},S))})]})})]}),o.jsx("section",{className:"py-24 bg-slate-900/80 backdrop-blur-sm relative",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[o.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-12",children:[o.jsx("h2",{className:"text-4xl font-extrabold uppercase tracking-tight mb-6 md:mb-0",children:o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"Live Match Feed"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("select",{value:g,onChange:A=>v(A.target.value),className:"bg-slate-950/80 border border-slate-700 text-white px-4 py-2 text-sm rounded-md focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"all",children:"All Tournaments"}),u.map(A=>o.jsx("option",{value:A.id,children:A.name},A.id))]}),o.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 border border-green-500/30 rounded-lg px-3 py-2",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-400 text-sm font-medium",children:"LIVE"})]})]})]}),x.length>0?o.jsx("div",{className:"overflow-x-auto border border-slate-800 rounded-md",children:o.jsxs("table",{className:"w-full text-left text-sm text-slate-300",children:[o.jsx("thead",{className:"bg-slate-950/80 border-b border-slate-800 text-slate-400 uppercase text-xs",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3",children:"Date"}),o.jsx("th",{className:"px-4 py-3",children:"Tournament"}),o.jsx("th",{className:"px-4 py-3",children:"Player 1"}),o.jsx("th",{className:"px-4 py-3",children:"Player 1 Beyblade"}),o.jsx("th",{className:"px-4 py-3",children:"Player 2"}),o.jsx("th",{className:"px-4 py-3",children:"Player 2 Beyblade"}),o.jsx("th",{className:"px-4 py-3",children:"Winner"}),o.jsx("th",{className:"px-4 py-3",children:"Finish"})]})}),o.jsx("tbody",{children:x.map(A=>{var S,L;return o.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-900/60 transition",children:[o.jsx("td",{className:"px-4 py-3",children:new Date(A.submitted_at).toLocaleString()}),o.jsx("td",{className:"px-4 py-3",children:(S=A.tournaments)==null?void 0:S.name}),o.jsx("td",{className:`px-4 py-3 ${A.winner_name===A.player1_name?"text-cyan-400 font-semibold":""}`,children:A.player1_name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-400",children:A.player1_beyblade||"Unknown"}),o.jsx("td",{className:`px-4 py-3 ${A.winner_name===A.player2_name?"text-cyan-400 font-semibold":""}`,children:A.player2_name}),o.jsx("td",{className:"px-4 py-3 font-mono text-xs text-slate-400",children:A.player2_beyblade||"Unknown"}),o.jsx("td",{className:"px-4 py-3 text-cyan-300 font-bold",children:A.winner_name}),o.jsx("td",{className:"px-4 py-3 text-slate-300",children:((L=A.outcome)==null?void 0:L.split(" (")[0])||"—"})]},A.id)})})]})}):o.jsx("p",{className:"text-slate-400",children:"No matches available yet."})]})}),o.jsx("footer",{className:"py-12 border-t border-slate-800 bg-slate-950 text-center text-slate-500 text-sm",children:o.jsxs("p",{children:["© ",new Date().getFullYear()," Ormoc Beyblade Club. All rights reserved."]})}),o.jsx(w0,{children:n&&o.jsxs(o.Fragment,{children:[o.jsx(as.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50",onClick:()=>s(!1)}),o.jsx(as.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-0 flex items-center justify-center p-4 pointer-events-none z-50",children:o.jsxs("div",{className:"relative pointer-events-auto bg-slate-950 border border-cyan-500/30 rounded-xl shadow-[0_0_40px_rgba(0,200,255,0.3)] max-w-md w-full mx-4 max-h-[90vh] overflow-hidden",children:[o.jsx(H2,{onLoginSuccess:()=>s(!1)}),o.jsx("button",{onClick:()=>s(!1),className:"absolute top-4 right-4 w-8 h-8 bg-slate-800 hover:bg-slate-700 border border-cyan-500/30 rounded-full flex items-center justify-center text-cyan-400 hover:text-white transition-colors",children:o.jsx(Ot,{size:16})})]})})]})})]})}function wF({stats:e}){const t=[{key:"attack",label:"Attack",gradient:"from-red-500 via-pink-500 to-fuchsia-500",max:200},{key:"defense",label:"Defense",gradient:"from-cyan-400 via-blue-500 to-indigo-500",max:200},{key:"stamina",label:"Stamina",gradient:"from-green-400 via-emerald-500 to-teal-500",max:200},{key:"dash",label:"Dash",gradient:"from-yellow-400 via-orange-500 to-red-500",max:50},{key:"burstRes",label:"Burst Res",gradient:"from-purple-400 via-fuchsia-500 to-pink-600",max:80}];return o.jsxs("div",{className:"bg-slate-950/80 border border-cyan-500/30 rounded-none p-4 shadow-[0_0_25px_rgba(0,200,255,0.2)]",children:[o.jsx("h5",{className:"text-xs uppercase font-exo2 tracking-wider text-cyan-400 mb-4",children:"Combined Stats"}),o.jsx("div",{className:"space-y-4",children:t.map(({key:r,label:n,gradient:s,max:i})=>{const a=e[r],l=Math.min(a/i*100,100);return o.jsxs("div",{className:"w-full",children:[o.jsxs("div",{className:"flex justify-between mb-0.5",children:[o.jsx("span",{className:"text-[10px] font-exo2 uppercase tracking-wide text-slate-400",children:n}),o.jsx("span",{className:"text-[11px] font-exo2 font-bold text-cyan-300",children:a})]}),o.jsxs("div",{className:"relative h-3 w-full bg-slate-800/70 overflow-hidden rounded-none",children:[o.jsx("div",{className:`absolute top-0 left-0 h-full bg-gradient-to-r ${s} transition-all duration-700`,style:{width:`${l}%`,clipPath:"polygon(0 0, 100% 0, 95% 100%, 0% 100%)"}}),o.jsx("div",{className:`absolute top-0 left-0 h-full bg-gradient-to-r ${s} opacity-30 blur-sm`,style:{width:`${l}%`}})]})]},r)})})]})}function jF({tournament:e,onClose:t}){var ce,J,ae;const{user:r}=zt(),{alert:n}=Rs(),[s,i]=y.useState(""),[a,l]=y.useState(e.is_free?"free":"cash"),[c,u]=y.useState([{id:"1",isCustomLine:!1,parts:{}}]),[d,f]=y.useState([]),[h,m]=y.useState(""),[p,x]=y.useState(!1),[w,g]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(!1),[_,j]=y.useState(null),[N,k]=y.useState([]);y.useEffect(()=>{p&&r&&!r.id.startsWith("guest-")?i(r.username):p||i("")},[p,r]),y.useEffect(()=>{P(),E(),T()},[]);const P=async()=>{b(!0),j(null);try{const[$,q,D,G,C]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);if($.error)throw $.error;if(q.error)throw q.error;if(D.error)throw D.error;if(G.error)throw G.error;if(C.error)throw C.error;g({blades:$.data||[],ratchets:q.data||[],bits:D.data||[],lockchips:G.data||[],assistBlades:C.data||[]})}catch($){console.error($),j("Failed to load Beyblade parts. Please try again.")}finally{b(!1)}},E=async()=>{if(!(!r||r.id.startsWith("guest-")))try{const{data:$,error:q}=await Y.from("deck_presets").select("*").eq("user_id",r.id).order("updated_at",{ascending:!1});if(q)throw q;f($||[])}catch($){console.error($)}},T=async()=>{try{const{data:$,error:q}=await Y.from("tournament_registrations").select("player_name").eq("tournament_id",e.id).eq("status","confirmed");if(q)throw q;k(($||[]).map(D=>D.player_name.toLowerCase().trim()))}catch($){console.error("Error fetching player names",$)}},O=$=>$==="Custom"?["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"]:["Blade","Ratchet","Bit"],U=$=>{let q=[];switch($){case"Blade":q=w.blades.filter(D=>D.Line!=="Custom");break;case"Main Blade":q=w.blades.filter(D=>D.Line==="Custom");break;case"Ratchet":q=w.ratchets;break;case"Bit":q=w.bits;break;case"Lockchip":q=w.lockchips;break;case"Assist Blade":q=w.assistBlades;break}return q.sort((D,G)=>I(D,$).localeCompare(I(G,$)))},I=($,q)=>{switch(q){case"Blade":case"Main Blade":return $.Blades;case"Ratchet":return $.Ratchet;case"Bit":return`${$.Bit} (${$.Shortcut})`;case"Lockchip":return $.Lockchip;case"Assist Blade":return`${$["Assist Blade Name"]} (${$["Assist Blade"]})`;default:return""}},H=$=>{if(!O($.isCustomLine?"Custom":"Basic").every(D=>$.parts[D]))return"";if($.isCustomLine){const{Lockchip:D,"Main Blade":G,"Assist Blade":C,Ratchet:M,Bit:W}=$.parts;return`${(D==null?void 0:D.Lockchip)||""}${(G==null?void 0:G.Blades)||""} ${(C==null?void 0:C["Assist Blade"])||""}${(M==null?void 0:M.Ratchet)||""}${(W==null?void 0:W.Shortcut)||""}`}else{const{Blade:D,Ratchet:G,Bit:C}=$.parts;return`${(D==null?void 0:D.Blades)||""} ${(G==null?void 0:G.Ratchet)||""}${(C==null?void 0:C.Shortcut)||""}`}},B=$=>Object.values($).reduce((q,D)=>(D&&(q.attack+=D.Attack||0,q.defense+=D.Defense||0,q.stamina+=D.Stamina||0,q.dash+=D.Dash||0,q.burstRes+=D["Burst Res"]||0),q),{attack:0,defense:0,stamina:0,dash:0,burstRes:0}),K=($,q,D)=>{u(c.map(G=>G.id===$?{...G,[q]:D,parts:{}}:G))},F=($,q,D)=>{u(c.map(G=>{if(G.id===$){const C={...G.parts,[q]:D};return{...G,parts:C}}return G}))},A=$=>{c.length>1&&u(c.filter(q=>q.id!==$))},S=$=>{const q=d.find(M=>M.id===$);if(!q)return;const D=q.beyblades[0],G=D&&(D.parts.Lockchip||D.parts["Main Blade"]||D.parts["Assist Blade"]),C=q.beyblades.slice(0,e.beyblades_per_player).map((M,W)=>({id:(W+1).toString(),isCustomLine:G,parts:M.parts}));u(C),m("")},L=()=>{if(!s.trim())return!1;const $=s.toLowerCase().trim();return N.includes($)?!1:c.every(q=>O(q.isCustomLine?"Custom":"Basic").every(G=>q.parts[G]))},V=async()=>{var $;if(!s.trim()){await n("Missing Information","Please enter your player name.");return}try{const D=($=(await Y.from("tournaments").select("is_free").eq("id",e.id).single()).data)!=null&&$.is_free?"confirmed":"unpaid",{data:G,error:C}=await Y.from("tournament_registrations").insert({tournament_id:e.id,player_name:s.trim(),payment_mode:a,status:"pending",payment_status:"unpaid"}).select().single();if(C)throw C;for(const M of c){const W=H(M),Q=M.isCustomLine?"Custom":"Basic",{data:se,error:ie}=await Y.from("tournament_beyblades").insert({registration_id:G.id,beyblade_name:W,blade_line:Q}).select().single();if(ie)throw ie;const ge=Object.entries(M.parts).map(([Ne,Tt])=>({beyblade_id:se.id,part_type:Ne,part_name:I(Tt,Ne),part_data:Tt})),{error:me}=await Y.from("tournament_beyblade_parts").insert(ge);if(me)throw me}await n("Registration Successful",`You have registered ${s} for ${e.name}!`),await n("Registration Submitted",`Registration for ${s} has been submitted and is pending payment confirmation. Tournament organizers will confirm your payment before the tournament begins.`),t()}catch(q){console.error(q),await n("Registration Failed",q.message||"Unknown error occurred.")}},R=$=>{u(q=>q.map(D=>{if(D.id!==$)return D;const G=O(D.isCustomLine?"Custom":"Basic"),C={};return G.forEach(M=>{const W=U(M);if(W.length>0){const Q=Math.floor(Math.random()*W.length);C[M]=W[Q]}}),{...D,parts:C}}))},X=()=>{c.forEach($=>R($.id))};return o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-2 sm:p-4 z-50",children:o.jsxs("div",{className:"bg-slate-950 border border-cyan-500/30 rounded-lg shadow-[0_0_40px_rgba(0,200,255,0.3)] w-full max-w-full sm:max-w-2xl lg:max-w-4xl max-h-[90vh] flex flex-col overflow-hidden relative",children:[v&&o.jsx("div",{className:"absolute inset-0 bg-slate-950/90 backdrop-blur-sm flex items-center justify-center z-10 rounded-lg",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-lg animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading Beyblade parts..."})]})}),o.jsxs("div",{className:"sticky top-0 bg-gradient-to-r from-cyan-500 to-purple-500 px-4 sm:px-6 py-4 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-white",children:"Tournament Registration"}),o.jsx("p",{className:"text-cyan-100",children:e.name})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-lg transition-colors text-white",children:o.jsx(Ot,{size:24})})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 sm:p-6 space-y-6",children:[_&&o.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-lg p-4",children:[o.jsx("p",{className:"text-red-400 text-sm",children:_}),o.jsx("button",{onClick:P,className:"text-sm underline text-red-400 hover:text-red-300",children:"Try Again"})]}),e.description&&o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-lg p-4 backdrop-blur-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-cyan-400 mb-2",children:"Tournament Details"}),o.jsx("p",{className:"text-slate-300",children:e.description})]}),o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-lg p-4 sm:p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(mi,{className:"text-cyan-400 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-cyan-400",children:"Player Information"})]}),(!r||r.id.startsWith("guest-"))&&o.jsx("div",{className:"mb-4 p-3 bg-yellow-500/10 rounded-lg border border-yellow-500/30",children:o.jsx("p",{className:"text-sm font-medium text-yellow-400",children:"Register your account to see personal stats across multiple tournaments. Tournament entry player name should be the same as account username to view personal stats."})}),r&&!r.id.startsWith("guest-")&&o.jsx("div",{className:"mb-4 p-3 bg-slate-900/50 rounded-lg border border-cyan-500/20",children:o.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:p,onChange:$=>x($.target.checked),className:"w-4 h-4 text-cyan-600 border-cyan-500/30 rounded focus:ring-cyan-500 bg-slate-800"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(f$,{size:16,className:"text-cyan-400"}),o.jsxs("span",{className:"text-sm font-medium text-cyan-400",children:["Register for self? Player name entry should be same as your account username to view your own personal stats. (",r.username,")"]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"playerName",className:"block text-sm font-medium text-cyan-400 mb-1",children:"Player Name *"}),o.jsx("input",{type:"text",id:"playerName",value:s,onChange:$=>i($.target.value),disabled:p,placeholder:"Enter your player name",className:`w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white placeholder-slate-500 text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500 ${p?"bg-slate-800 cursor-not-allowed opacity-50":""}`}),s.trim()&&N.includes(s.toLowerCase().trim())&&o.jsx("div",{className:"mt-1 text-xs text-red-400",children:"⚠ This player name is already registered"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"paymentMode",className:"block text-sm font-medium text-cyan-400 mb-1",children:"Mode of Payment *"}),o.jsxs("select",{id:"paymentMode",value:a,onChange:$=>l($.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[e.is_free&&o.jsx("option",{value:"free",children:"Free Entry"}),o.jsx("option",{value:"cash",children:"Cash"}),o.jsx("option",{value:"gcash",children:"GCash"}),o.jsx("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]})]}),!(r!=null&&r.id.startsWith("guest-"))&&d.length>0&&o.jsxs("div",{className:"bg-slate-800/50 border border-purple-500/20 rounded-lg p-4 sm:p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(ja,{className:"text-purple-400 mr-2",size:20}),o.jsx("h3",{className:"text-lg font-semibold text-purple-400",children:"Quick Setup with Deck Presets"})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-purple-400 mb-1",children:"Select Deck Preset"}),o.jsxs("select",{value:h,onChange:$=>m($.target.value),className:"w-full bg-slate-900 border border-purple-500/30 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-purple-500",children:[o.jsx("option",{value:"",children:"-- Select a preset --"}),d.map($=>o.jsxs("option",{value:$.id,children:[$.name," (",$.beyblades.length," Beyblades)"]},$.id))]})]}),o.jsx("div",{className:"flex items-end",children:o.jsx("button",{type:"button",onClick:()=>h&&S(h),disabled:!h,className:"w-full bg-gradient-to-r from-purple-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-purple-400 hover:to-purple-500 transition-colors disabled:opacity-50 text-sm shadow-[0_0_15px_rgba(147,51,234,0.3)]",children:"Load Preset"})})]}),h&&o.jsx("div",{className:"mt-4 p-3 bg-slate-900/50 rounded-lg border border-purple-500/20",children:o.jsxs("div",{className:"text-sm text-purple-300",children:[o.jsx("strong",{children:"Preview:"}),(ce=d.find($=>$.id===h))==null?void 0:ce.beyblades.slice(0,3).map(($,q)=>o.jsxs("div",{className:"font-mono text-xs mt-1 text-slate-400",children:["• ",$.name||`Beyblade ${q+1}`]},q)),((J=d.find($=>$.id===h))==null?void 0:J.beyblades.length)>3&&o.jsxs("div",{className:"text-xs mt-1 text-purple-400",children:["+",((ae=d.find($=>$.id===h))==null?void 0:ae.beyblades.length)-3," more..."]})]})})]}),c.map(($,q)=>o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/20 rounded-lg p-4 sm:p-6 backdrop-blur-sm",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Beyblade #",q+1]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`text-xs font-medium ${$.isCustomLine?"text-slate-400":"text-cyan-400"}`,children:"Standard Line"}),o.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:$.isCustomLine,onChange:D=>K($.id,"isCustomLine",D.target.checked),className:"sr-only"}),o.jsx("div",{className:`w-8 h-4 rounded-full transition-colors ${$.isCustomLine?"bg-purple-500":"bg-slate-600"}`,children:o.jsx("div",{className:`w-3 h-3 bg-white rounded-full shadow transform transition-transform ${$.isCustomLine?"translate-x-4":"translate-x-0"} mt-0.5 ml-0.5`})})]}),o.jsx("span",{className:`text-xs font-medium ${$.isCustomLine?"text-purple-400":"text-slate-400"}`,children:"Custom Line"})]}),c.length>1&&o.jsx("button",{onClick:()=>A($.id),className:"p-2 text-red-400 hover:bg-red-500/20 rounded-lg transition-colors",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-1",children:"Generated Name"}),o.jsx("div",{className:"bg-slate-800 border border-cyan-500/30 rounded-lg px-3 py-2 text-sm font-mono text-slate-300",children:H($)||"Select all parts to generate name"})]}),o.jsx("div",{className:"mb-4",children:o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:O($.isCustomLine?"Custom":"Basic").map(D=>o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-cyan-400 mb-1",children:[D," *"]}),o.jsxs("select",{value:$.parts[D]?JSON.stringify($.parts[D]):"",onChange:G=>G.target.value&&F($.id,D,JSON.parse(G.target.value)),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsxs("option",{value:"",children:["Select ",D]}),U(D).map((G,C)=>o.jsx("option",{value:JSON.stringify(G),children:I(G,D)},C))]})]},D))})}),Object.keys($.parts).length>0&&o.jsx(wF,{stats:B($.parts)})]},$.id)),c.length<e.beyblades_per_player&&o.jsxs("button",{onClick:()=>u([...c,{id:Date.now().toString(),isCustomLine:!1,parts:{}}]),className:"w-full border-2 border-dashed border-cyan-500/30 rounded-lg p-4 text-slate-400 hover:border-cyan-400 hover:text-cyan-400 flex items-center justify-center space-x-2 transition-colors",children:[o.jsx(_a,{size:20}),o.jsx("span",{children:"Add Another Beyblade"})]}),o.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-cyan-500/20",children:[(r==null?void 0:r.role)==="developer"&&o.jsx("button",{onClick:X,className:"px-4 py-2 bg-gradient-to-r from-pink-500 to-orange-500 text-white rounded-lg hover:from-pink-400 hover:to-orange-400 transition-all duration-200 shadow-[0_0_15px_rgba(255,100,100,0.3)]",children:"Randomizer"}),o.jsx("button",{onClick:t,className:"px-4 py-2 bg-slate-800 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-700 hover:text-white transition-colors",children:"Cancel"}),o.jsx("button",{onClick:V,disabled:!L()||v,className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white rounded-lg hover:from-cyan-400 hover:to-purple-500 disabled:opacity-50 transition-all duration-200 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:o.jsx("span",{children:"Register"})})]})]})]})})}function _F(){zt();const{alert:e}=Rs(),[t,r]=y.useState("all"),[n,s]=y.useState(!1),[i,a]=y.useState(""),[l,c]=y.useState(null),[u,d]=y.useState([]),[f,h]=y.useState({}),[m,p]=y.useState(!0);ms.useEffect(()=>{(async()=>{try{const{data:v,error:b}=await Y.from("tournaments").select("*").order("tournament_date",{ascending:!0});if(b)throw b;if(d(v||[]),v&&v.length>0){const _={};for(const j of v){const{count:N}=await Y.from("tournament_registrations").select("*",{count:"exact",head:!0}).eq("tournament_id",j.id).eq("status","confirmed");_[j.id]=N||0}h(_)}}catch(v){console.error("Error fetching tournaments:",v),d([])}finally{p(!1)}})()},[]);const x=u.filter(g=>{const v=t==="all"||g.status===t,b=n||!g.is_practice,_=g.name.toLowerCase().includes(i.toLowerCase())||g.location.toLowerCase().includes(i.toLowerCase());return v&&b&&_}),w=(g,v)=>{e("Registration Complete",`Successfully registered ${g} with ${v.length} Beyblades for the tournament!`),c(null)};return o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(kt,{size:40,className:"mr-4 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Tournament Arena"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Join the ultimate Beyblade battles and prove your worth"})]}),o.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between border-b border-slate-700 pb-2 mb-8",children:[o.jsx("div",{className:"flex items-center space-x-6",children:["upcoming","active","completed","all"].map(g=>o.jsxs("button",{onClick:()=>r(g),className:`relative pb-2 text-sm font-medium capitalize transition-colors group ${t===g?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[g,o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${t===g?"w-full":"w-0 group-hover:w-full"}`})]},g))}),o.jsxs("div",{className:"flex items-center gap-6",children:[o.jsxs("div",{className:"relative w-full sm:w-64",children:[o.jsx($s,{size:16,className:"absolute left-2 top-1/2 -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search tournaments...",value:i,onChange:g=>a(g.target.value),className:"w-full pl-8 pr-2 py-2 bg-transparent border-b border-slate-700 text-sm focus:outline-none focus:border-cyan-500 transition"})]}),o.jsxs("label",{className:"flex items-center cursor-pointer space-x-2",children:[o.jsx("input",{type:"checkbox",checked:n,onChange:()=>s(!n),className:"sr-only"}),o.jsx("div",{className:"relative w-10 h-5 bg-slate-700 rounded-full",children:o.jsx("div",{className:`absolute top-0.5 left-0.5 h-4 w-4 bg-white rounded-full transform transition-transform duration-300 ${n?"translate-x-5 bg-cyan-400":""}`})}),o.jsx("span",{className:"text-sm text-slate-300",children:"Practice"})]})]})]}),m?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"Loading tournaments..."}):x.length===0?o.jsx("div",{className:"text-center py-12 text-slate-400",children:"No tournaments found"}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:x.map(g=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 w-0 transition-all duration-500 group-hover:w-full"}),o.jsxs("div",{className:"flex justify-between items-start gap-2",children:[o.jsx("h3",{className:"text-xl font-bold leading-tight break-words max-w-[65%]",children:g.name}),o.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[o.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-sm
                    ${g.status==="active"?"text-green-400 bg-green-400/10":g.status==="completed"?"text-purple-400 bg-purple-400/10":"text-cyan-400 bg-cyan-400/10"}`,children:g.status.toUpperCase()}),g.is_practice&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-yellow-400 bg-yellow-400/10 rounded-sm",children:"Practice"})]})]}),o.jsx("p",{className:"text-slate-400 text-sm mb-3 mt-2",children:g.description}),o.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-2",children:[o.jsx(Ra,{size:14,className:"mr-2 text-cyan-400"}),new Date(g.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-2",children:[o.jsx(V2,{size:14,className:"mr-2 text-cyan-400"}),g.location]}),o.jsxs("div",{className:"flex items-center text-slate-400 text-sm mb-4",children:[o.jsx(nt,{size:14,className:"mr-2 text-cyan-400"}),g.max_participants===999999?o.jsxs(o.Fragment,{children:[f[g.id]||0," players"]}):o.jsxs(o.Fragment,{children:[f[g.id]||0," / ",g.max_participants," players"]})]}),g.max_participants!==999999&&o.jsx("div",{className:"w-full h-2 bg-slate-800 mb-4 overflow-hidden",children:o.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-700",style:{width:`${(f[g.id]||0)/g.max_participants*100}%`}})}),o.jsx("div",{className:"mt-4",children:g.status==="upcoming"?o.jsxs("button",{onClick:()=>c(g.id),className:`w-full relative px-4 py-2 text-sm font-semibold text-white 
                             bg-gradient-to-r from-cyan-500 to-purple-500 overflow-hidden 
                             transition-all duration-300 group-hover:shadow-[0_0_12px_rgba(34,211,238,0.6)]`,children:[o.jsx("span",{className:"relative z-10",children:"Register"}),o.jsx("span",{className:`absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent 
                                   translate-x-[-100%] group-hover:translate-x-[100%] transition-transform duration-700`})]}):o.jsx("button",{disabled:!0,className:"w-full px-4 py-2 text-sm font-semibold text-slate-500 bg-slate-800 cursor-not-allowed",children:"Registration Closed"})})]},g.id))}),l&&o.jsx(jF,{tournament:x.find(g=>g.id===l),onClose:()=>c(null),onSubmit:w})]})})}function OA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=OA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function de(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=OA(e))&&(n&&(n+=" "),n+=t);return n}var Df={},CA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(CA);var iv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(iv);var av={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(av);var Rf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let i=0,a="",l="",c=!1;for(r.charCodeAt(0)===46&&(n.push(""),i++);i<s;){const u=r[i];l?u==="\\"&&i+1<s?(i++,a+=r[i]):u===l?l="":a+=u:c?u==='"'||u==="'"?l=u:u==="]"?(c=!1,n.push(a),a=""):a+=u:u==="["?(c=!0,a&&(n.push(a),a="")):u==="."?a&&(n.push(a),a=""):a+=u,i++}return a&&n.push(a),n}e.toPath=t})(Rf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CA,r=iv,n=av,s=Rf;function i(l,c,u){if(l==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?r.isDeepKey(c)?i(l,s.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=l[c];return d===void 0?u:d}default:{if(Array.isArray(c))return a(l,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=l[c];return d===void 0?u:d}}}function a(l,c,u){if(c.length===0)return u;let d=l;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(Df);var NF=Df.get;const Es=Mr(NF);var TA={exports:{}},Pe={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov=Symbol.for("react.transitional.element"),lv=Symbol.for("react.portal"),$f=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),Bf=Symbol.for("react.consumer"),Ff=Symbol.for("react.context"),zf=Symbol.for("react.forward_ref"),Uf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Vf=Symbol.for("react.memo"),Kf=Symbol.for("react.lazy"),SF=Symbol.for("react.view_transition"),PF=Symbol.for("react.client.reference");function Dr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ov:switch(e=e.type,e){case $f:case If:case Lf:case Uf:case Wf:case SF:return e;default:switch(e=e&&e.$$typeof,e){case Ff:case zf:case Kf:case Vf:return e;case Bf:return e;default:return t}}case lv:return t}}}Pe.ContextConsumer=Bf;Pe.ContextProvider=Ff;Pe.Element=ov;Pe.ForwardRef=zf;Pe.Fragment=$f;Pe.Lazy=Kf;Pe.Memo=Vf;Pe.Portal=lv;Pe.Profiler=If;Pe.StrictMode=Lf;Pe.Suspense=Uf;Pe.SuspenseList=Wf;Pe.isContextConsumer=function(e){return Dr(e)===Bf};Pe.isContextProvider=function(e){return Dr(e)===Ff};Pe.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ov};Pe.isForwardRef=function(e){return Dr(e)===zf};Pe.isFragment=function(e){return Dr(e)===$f};Pe.isLazy=function(e){return Dr(e)===Kf};Pe.isMemo=function(e){return Dr(e)===Vf};Pe.isPortal=function(e){return Dr(e)===lv};Pe.isProfiler=function(e){return Dr(e)===If};Pe.isStrictMode=function(e){return Dr(e)===Lf};Pe.isSuspense=function(e){return Dr(e)===Uf};Pe.isSuspenseList=function(e){return Dr(e)===Wf};Pe.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===$f||e===If||e===Lf||e===Uf||e===Wf||typeof e=="object"&&e!==null&&(e.$$typeof===Kf||e.$$typeof===Vf||e.$$typeof===Ff||e.$$typeof===Bf||e.$$typeof===zf||e.$$typeof===PF||e.getModuleId!==void 0)};Pe.typeOf=Dr;TA.exports=Pe;var kF=TA.exports,ft=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,oi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,te=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),gn=e=>te(e)||typeof e=="string",AF=0,Vl=e=>{var t=++AF;return"".concat(e||"").concat(t)},It=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!te(t)&&typeof t!="string")return n;var i;if(oi(t)){if(r==null)return n;var a=t.indexOf("%");i=r*parseFloat(t.slice(0,a))/100}else i=+t;return ur(i)&&(i=n),s&&r!=null&&i>r&&(i=r),i},MA=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1},fa=(e,t)=>te(e)&&te(t)?r=>e+r*(t-e):()=>t;function Vi(e,t,r){return te(e)&&te(t)?e+r*(t-e):t}function EF(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Es(n,t))===r)}var He=e=>e===null||typeof e>"u",gc=e=>He(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),OF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function cv(e){if(typeof e!="string")return!1;var t=OF;return t.includes(e)}var CF=["viewBox","children"],cj=["points","pathLength"],Tm={svg:CF,polygon:cj,polyline:cj},uv=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(y.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{cv(s)&&(n[s]=i=>r[s](r,i))}),n},TF=(e,t,r)=>n=>(e(t,r,n),null),uo=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var i=e[s];cv(s)&&typeof i=="function"&&(n||(n={}),n[s]=TF(i,t,r))}),n},MF=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function DA(e){if(typeof e!="string")return!1;var t=MF;return t.includes(e)}function Ct(e){var t=Object.entries(e).filter(r=>{var[n]=r;return DA(n)});return Object.fromEntries(t)}var uj=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",dj=null,Mm=null,RA=e=>{if(e===dj&&Array.isArray(Mm))return Mm;var t=[];return y.Children.forEach(e,r=>{He(r)||(kF.isFragment(r)?t=t.concat(RA(r.props.children)):t.push(r))}),Mm=t,dj=e,t};function yc(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>uj(s)):n=[uj(t)],RA(e).forEach(s=>{var i=Es(s,"type.displayName")||Es(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}var DF=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var i=(s=n&&(Tm==null?void 0:Tm[n]))!==null&&s!==void 0?s:[],a=t.startsWith("data-"),l=typeof e!="function"&&(!!n&&i.includes(t)||DA(t)),c=!!r&&cv(t);return a||l||c},ve=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(i=>{var a;DF((a=n)===null||a===void 0?void 0:a[i],i,t,r)&&(s[i]=n[i])}),s},RF=["children","width","height","viewBox","className","style","title","desc"];function C0(){return C0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},C0.apply(null,arguments)}function $F(e,t){if(e==null)return{};var r,n,s=LF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var $A=y.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:i,className:a,style:l,title:c,desc:u}=e,d=$F(e,RF),f=i||{width:n,height:s,x:0,y:0},h=de("recharts-surface",a);return y.createElement("svg",C0({},ve(d,!0,"svg"),{className:h,width:n,height:s,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),y.createElement("title",null,c),y.createElement("desc",null,u),r)}),IF=["children","className"];function T0(){return T0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},T0.apply(null,arguments)}function BF(e,t){if(e==null)return{};var r,n,s=FF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function FF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ze=y.forwardRef((e,t)=>{var{children:r,className:n}=e,s=BF(e,IF),i=de("recharts-layer",n);return y.createElement("g",T0({className:i},ve(s,!0),{ref:t}),r)}),zF=y.createContext(null);function Ee(e){return function(){return e}}const LA=Math.cos,bd=Math.sin,Jr=Math.sqrt,wd=Math.PI,qf=2*wd,M0=Math.PI,D0=2*M0,Qs=1e-6,UF=D0-Qs;function IA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function WF(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return IA;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class VF{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?IA:WF(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,a){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+a}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,l=this._y1,c=n-t,u=s-r,d=a-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Qs)if(!(Math.abs(f*c-u*d)>Qs)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-a,p=s-l,x=c*c+u*u,w=m*m+p*p,g=Math.sqrt(x),v=Math.sqrt(h),b=i*Math.tan((M0-Math.acos((x+h-w)/(2*g*v)))/2),_=b/v,j=b/g;Math.abs(_-1)>Qs&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,s,i,a){if(t=+t,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,d=r+c,f=1^a,h=a?s-i:i-s;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Qs||Math.abs(this._y1-d)>Qs)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%D0+D0),h>UF?this._append`A${n},${n},0,1,${f},${t-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Qs&&this._append`A${n},${n},0,${+(h>=M0)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function dv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new VF(t)}function fv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BA(e){this._context=e}BA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Hf(e){return new BA(e)}function FA(e){return e[0]}function zA(e){return e[1]}function UA(e,t){var r=Ee(!0),n=null,s=Hf,i=null,a=dv(l);e=typeof e=="function"?e:e===void 0?FA:Ee(e),t=typeof t=="function"?t:t===void 0?zA:Ee(t);function l(c){var u,d=(c=fv(c)).length,f,h=!1,m;for(n==null&&(i=s(m=a())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Ee(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Ee(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ee(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function ou(e,t,r){var n=null,s=Ee(!0),i=null,a=Hf,l=null,c=dv(u);e=typeof e=="function"?e:e===void 0?FA:Ee(+e),t=typeof t=="function"?t:Ee(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?zA:Ee(+r);function u(f){var h,m,p,x=(f=fv(f)).length,w,g=!1,v,b=new Array(x),_=new Array(x);for(i==null&&(l=a(v=c())),h=0;h<=x;++h){if(!(h<x&&s(w=f[h],h,f))===g)if(g=!g)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),p=h-1;p>=m;--p)l.point(b[p],_[p]);l.lineEnd(),l.areaEnd()}g&&(b[h]=+e(w,h,f),_[h]=+t(w,h,f),l.point(n?+n(w,h,f):b[h],r?+r(w,h,f):_[h]))}if(v)return l=null,v+""||null}function d(){return UA().defined(s).curve(a).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ee(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ee(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ee(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ee(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(s=typeof f=="function"?f:Ee(!!f),u):s},u.curve=function(f){return arguments.length?(a=f,i!=null&&(l=a(i)),u):a},u.context=function(f){return arguments.length?(f==null?i=l=null:l=a(i=f),u):i},u}class WA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function KF(e){return new WA(e,!0)}function qF(e){return new WA(e,!1)}const hv={draw(e,t){const r=Jr(t/wd);e.moveTo(r,0),e.arc(0,0,r,0,qf)}},HF={draw(e,t){const r=Jr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},VA=Jr(1/3),GF=VA*2,YF={draw(e,t){const r=Jr(t/GF),n=r*VA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},XF={draw(e,t){const r=Jr(t),n=-r/2;e.rect(n,n,r,r)}},JF=.8908130915292852,KA=bd(wd/10)/bd(7*wd/10),QF=bd(qf/10)*KA,ZF=-LA(qf/10)*KA,e8={draw(e,t){const r=Jr(t*JF),n=QF*r,s=ZF*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const a=qf*i/5,l=LA(a),c=bd(a);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},Dm=Jr(3),t8={draw(e,t){const r=-Jr(t/(Dm*3));e.moveTo(0,r*2),e.lineTo(-Dm*r,-r),e.lineTo(Dm*r,-r),e.closePath()}},vr=-.5,xr=Jr(3)/2,R0=1/Jr(12),r8=(R0/2+1)*3,n8={draw(e,t){const r=Jr(t/r8),n=r/2,s=r*R0,i=n,a=r*R0+r,l=-i,c=a;e.moveTo(n,s),e.lineTo(i,a),e.lineTo(l,c),e.lineTo(vr*n-xr*s,xr*n+vr*s),e.lineTo(vr*i-xr*a,xr*i+vr*a),e.lineTo(vr*l-xr*c,xr*l+vr*c),e.lineTo(vr*n+xr*s,vr*s-xr*n),e.lineTo(vr*i+xr*a,vr*a-xr*i),e.lineTo(vr*l+xr*c,vr*c-xr*l),e.closePath()}};function s8(e,t){let r=null,n=dv(s);e=typeof e=="function"?e:Ee(e||hv),t=typeof t=="function"?t:Ee(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ee(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ee(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function jd(){}function _d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function qA(e){this._context=e}qA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i8(e){return new qA(e)}function HA(e){this._context=e}HA.prototype={areaStart:jd,areaEnd:jd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function a8(e){return new HA(e)}function GA(e){this._context=e}GA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:_d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function o8(e){return new GA(e)}function YA(e){this._context=e}YA.prototype={areaStart:jd,areaEnd:jd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function l8(e){return new YA(e)}function fj(e){return e<0?-1:1}function hj(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),a=(r-e._y1)/(s||n<0&&-0),l=(i*s+a*n)/(n+s);return(fj(i)+fj(a))*Math.min(Math.abs(i),Math.abs(a),.5*Math.abs(l))||0}function mj(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Rm(e,t,r){var n=e._x0,s=e._y0,i=e._x1,a=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,a-l*r,i,a)}function Nd(e){this._context=e}Nd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Rm(this,this._t0,mj(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Rm(this,mj(this,r=hj(this,e,t)),r);break;default:Rm(this,this._t0,r=hj(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XA(e){this._context=new JA(e)}(XA.prototype=Object.create(Nd.prototype)).point=function(e,t){Nd.prototype.point.call(this,t,e)};function JA(e){this._context=e}JA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function c8(e){return new Nd(e)}function u8(e){return new XA(e)}function QA(e){this._context=e}QA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=pj(e),s=pj(t),i=0,a=1;a<r;++i,++a)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[a],t[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pj(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),a=new Array(r);for(s[0]=0,i[0]=2,a[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,a[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,a[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,a[t]-=n*a[t-1];for(s[r-1]=a[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(a[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function d8(e){return new QA(e)}function Gf(e,t){this._context=e,this._t=t}Gf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function f8(e){return new Gf(e,.5)}function h8(e){return new Gf(e,0)}function m8(e){return new Gf(e,1)}function Fa(e,t){if((a=e.length)>1)for(var r=1,n,s,i=e[t[0]],a,l=i.length;r<a;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function $0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function p8(e,t){return e[t]}function g8(e){const t=[];return t.key=e,t}function y8(){var e=Ee([]),t=$0,r=Fa,n=p8;function s(i){var a=Array.from(e.apply(this,arguments),g8),l,c=a.length,u=-1,d;for(const f of i)for(l=0,++u;l<c;++l)(a[l][u]=[0,+n(f,a[l].key,u,i)]).data=f;for(l=0,d=fv(t(a));l<c;++l)a[d[l]].index=l;return r(a,d),a}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ee(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ee(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?$0:typeof i=="function"?i:Ee(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Fa,s):r},s}function v8(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,a;s<i;++s){for(a=r=0;r<n;++r)a+=e[r][s][1]||0;if(a)for(r=0;r<n;++r)e[r][s][1]/=a}Fa(e,t)}}function x8(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var a=0,l=0;a<s;++a)l+=e[a][r][1]||0;n[r][1]+=n[r][0]=-l/2}Fa(e,t)}}function b8(e,t){if(!(!((a=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,a;n<i;++n){for(var l=0,c=0,u=0;l<a;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,p=0;p<l;++p){var x=e[t[p]],w=x[n][1]||0,g=x[n-1][1]||0;m+=w-g}c+=f,u+=m*f}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Fa(e,t)}}var w8=["type","size","sizeType"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(null,arguments)}function gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gj(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return(t=_8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _8(e){var t=N8(e,"string");return typeof t=="symbol"?t:t+""}function N8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S8(e,t){if(e==null)return{};var r,n,s=P8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function P8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZA={symbolCircle:hv,symbolCross:HF,symbolDiamond:YF,symbolSquare:XF,symbolStar:e8,symbolTriangle:t8,symbolWye:n8},k8=Math.PI/180,A8=e=>{var t="symbol".concat(gc(e));return ZA[t]||hv},E8=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*k8;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},O8=(e,t)=>{ZA["symbol".concat(gc(e))]=t},eE=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=S8(e,w8),i=yj(yj({},s),{},{type:t,size:r,sizeType:n}),a=()=>{var f=A8(t),h=s8().type(f).size(E8(r,n,t));return h()},{className:l,cx:c,cy:u}=i,d=ve(i,!0);return c===+c&&u===+u&&r===+r?y.createElement("path",L0({},d,{className:de("recharts-symbols",l),transform:"translate(".concat(c,", ").concat(u,")"),d:a()})):null};eE.registerSymbol=O8;var tE={},rE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let i=0;i<r.length;i++){const a=r[i],l=n(a);s.has(l)||s.set(l,a)}return Array.from(s.values())}e.uniqBy=t})(rE);var vc={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(vc);var nE={},Yf={},sE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sE;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Yf);var iE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(iE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yf,r=iE;function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(nE);var Xf={},aE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Df;function r(n){return function(s){return t.get(s,n)}}e.property=r})(aE);var oE={},$m={},Lm={},mv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(mv);var pv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(pv);var Jf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(Jf);var vj;function C8(){return vj||(vj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv(),r=mv,n=pv,s=Jf;function i(f,h,m){return typeof m!="function"?t.isMatch(f,h):a(f,h,function p(x,w,g,v,b,_){const j=m(x,w,g,v,b,_);return j!==void 0?!!j:a(x,w,p,_)},new Map)}function a(f,h,m,p){if(h===f)return!0;switch(typeof h){case"object":return l(f,h,m,p);case"function":return Object.keys(h).length>0?a(f,{...h},m,p):s.eq(f,h);default:return r.isObject(f)?typeof h=="string"?h==="":!0:s.eq(f,h)}}function l(f,h,m,p){if(h==null)return!0;if(Array.isArray(h))return u(f,h,m,p);if(h instanceof Map)return c(f,h,m,p);if(h instanceof Set)return d(f,h,m,p);const x=Object.keys(h);if(f==null)return x.length===0;if(x.length===0)return!0;if(p&&p.has(h))return p.get(h)===f;p&&p.set(h,f);try{for(let w=0;w<x.length;w++){const g=x[w];if(!n.isPrimitive(f)&&!(g in f)||h[g]===void 0&&f[g]!==void 0||h[g]===null&&f[g]!==null||!m(f[g],h[g],g,f,h,p))return!1}return!0}finally{p&&p.delete(h)}}function c(f,h,m,p){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,w]of h.entries()){const g=f.get(x);if(m(g,w,x,f,h,p)===!1)return!1}return!0}function u(f,h,m,p){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let w=0;w<h.length;w++){const g=h[w];let v=!1;for(let b=0;b<f.length;b++){if(x.has(b))continue;const _=f[b];let j=!1;if(m(_,g,w,f,h,p)&&(j=!0),j){x.add(b),v=!0;break}}if(!v)return!1}return!0}function d(f,h,m,p){return h.size===0?!0:f instanceof Set?u([...f],[...h],m,p):!1}e.isMatchWith=i,e.isSetMatch=d}(Lm)),Lm}var xj;function gv(){return xj||(xj=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=C8();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r}($m)),$m}var lE={},yv={},vv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(vv);var Qf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Qf);var Zf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",i="[object Arguments]",a="[object Symbol]",l="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",w="[object Uint8Array]",g="[object Uint8ClampedArray]",v="[object Uint16Array]",b="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",N="[object Int16Array]",k="[object Int32Array]",P="[object BigInt64Array]",E="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=P,e.bigUint64ArrayTag=_,e.booleanTag=s,e.dataViewTag=x,e.dateTag=l,e.errorTag=p,e.float32ArrayTag=E,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=N,e.int32ArrayTag=k,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=a,e.uint16ArrayTag=v,e.uint32ArrayTag=b,e.uint8ArrayTag=w,e.uint8ClampedArrayTag=g})(Zf);var cE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(cE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vv,r=Qf,n=Zf,s=pv,i=cE;function a(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(s.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const w=new Array(d.length);m.set(d,w);for(let g=0;g<d.length;g++)w[g]=l(d[g],g,h,m,p);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;m.set(d,w);for(const[g,v]of d)w.set(g,l(v,g,h,m,p));return w}if(d instanceof Set){const w=new Set;m.set(d,w);for(const g of d)w.add(l(g,void 0,h,m,p));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,w);for(let g=0;g<d.length;g++)w[g]=l(d[g],g,h,m,p);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,w),c(w,d,h,m,p),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Blob){const w=new Blob([d],{type:d.type});return m.set(d,w),c(w,d,h,m,p),w}if(d instanceof Error){const w=new d.constructor;return m.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,c(w,d,h,m,p),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return m.set(d,w),c(w,d,h,m,p),w}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let w=0;w<x.length;w++){const g=x[w],v=Object.getOwnPropertyDescriptor(d,g);(v==null||v.writable)&&(d[g]=l(f[g],g,h,m,p))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=a,e.cloneDeepWithImpl=l,e.copyProperties=c})(yv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(lE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv(),r=lE;function n(s){return s=r.cloneDeep(s),i=>t.isMatch(i,s)}e.matches=n})(oE);var uE={},dE={},fE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yv,r=Zf;function n(s,i){return t.cloneDeepWith(s,(a,l,c,u)=>{const d=i==null?void 0:i(a,l,c,u);if(d!==void 0)return d;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(f,s),f}case r.argumentsTag:{const f={};return t.copyProperties(f,s),f.length=s.length,f[Symbol.iterator]=s[Symbol.iterator],f}default:return}})}e.cloneDeepWith=n})(fE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=fE;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(dE);var hE={},xv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(xv);var mE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(mE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iv,r=xv,n=mE,s=Rf;function i(a,l){let c;if(Array.isArray(l)?c=l:typeof l=="string"&&t.isDeepKey(l)&&(a==null?void 0:a[l])==null?c=s.toPath(l):c=[l],c.length===0)return!1;let u=a;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(hE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gv(),r=av,n=dE,s=Df,i=hE;function a(l,c){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return c=n.cloneDeep(c),function(u){const d=s.get(u,l);return d===void 0?i.has(u,l):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=a})(uE);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vc,r=aE,n=oE,s=uE;function i(a){if(a==null)return t.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?s.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}e.iteratee=i})(Xf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rE,r=vc,n=nE,s=Xf;function i(a,l=r.identity){return n.isArrayLikeObject(a)?t.uniqBy(Array.from(a),s.iteratee(l)):[]}e.uniqBy=i})(tE);var T8=tE.uniqBy;const bj=Mr(T8);function M8(e,t,r){return t===!0?bj(e,r):typeof t=="function"?bj(e,t):e}var pE={exports:{}},gE={},yE={exports:{}},vE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var za=y;function D8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var R8=typeof Object.is=="function"?Object.is:D8,$8=za.useState,L8=za.useEffect,I8=za.useLayoutEffect,B8=za.useDebugValue;function F8(e,t){var r=t(),n=$8({inst:{value:r,getSnapshot:t}}),s=n[0].inst,i=n[1];return I8(function(){s.value=r,s.getSnapshot=t,Im(s)&&i({inst:s})},[e,r,t]),L8(function(){return Im(s)&&i({inst:s}),e(function(){Im(s)&&i({inst:s})})},[e]),B8(r),r}function Im(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!R8(e,r)}catch{return!0}}function z8(e,t){return t()}var U8=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?z8:F8;vE.useSyncExternalStore=za.useSyncExternalStore!==void 0?za.useSyncExternalStore:U8;yE.exports=vE;var W8=yE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=y,V8=W8;function K8(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var q8=typeof Object.is=="function"?Object.is:K8,H8=V8.useSyncExternalStore,G8=eh.useRef,Y8=eh.useEffect,X8=eh.useMemo,J8=eh.useDebugValue;gE.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=G8(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=X8(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return f=p}return f=m}if(p=f,q8(d,m))return p;var x=n(m);return s!==void 0&&s(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=H8(e,i[0],i[1]);return Y8(function(){a.hasValue=!0,a.value=l},[l]),J8(l),l};pE.exports=gE;var Q8=pE.exports,bv=y.createContext(null),Z8=e=>e,Ue=()=>{var e=y.useContext(bv);return e?e.store.dispatch:Z8},Fu=()=>{},ez=()=>Fu,tz=(e,t)=>e===t;function ee(e){var t=y.useContext(bv);return Q8.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ez,t?t.store.getState:Fu,t?t.store.getState:Fu,t?e:Fu,tz)}function rz(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function nz(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function sz(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var wj=e=>Array.isArray(e)?e:[e];function iz(e){const t=Array.isArray(e[0])?e[0]:e;return sz(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function az(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var oz=class{constructor(e){this.value=e}deref(){return this.value}},lz=typeof WeakRef<"u"?WeakRef:oz,cz=0,jj=1;function lu(){return{s:cz,v:void 0,o:null,p:null}}function xE(e,t={}){let r=lu();const{resultEqualityCheck:n}=t;let s,i=0;function a(){var f;let l=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=l.o;x===null&&(l.o=x=new WeakMap);const w=x.get(p);w===void 0?(l=lu(),x.set(p,l)):l=w}else{let x=l.p;x===null&&(l.p=x=new Map);const w=x.get(p);w===void 0?(l=lu(),x.set(p,l)):l=w}}const u=l;let d;if(l.s===jj)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=s==null?void 0:s.deref)==null?void 0:f.call(s))??s;h!=null&&n(h,d)&&(d=h,i!==0&&i--),s=typeof d=="object"&&d!==null||typeof d=="function"?new lz(d):d}return u.s=jj,u.v=d,d}return a.clearCache=()=>{r=lu(),a.resetResultsCount()},a.resultsCount=()=>i,a.resetResultsCount=()=>{i=0},a}function uz(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let i=0,a=0,l,c={},u=s.pop();typeof u=="object"&&(c=u,u=s.pop()),rz(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=xE,argsMemoizeOptions:p=[],devModeChecks:x={}}=d,w=wj(h),g=wj(p),v=iz(s),b=f(function(){return i++,u.apply(null,arguments)},...w),_=m(function(){a++;const N=az(v,arguments);return l=b.apply(null,N),l},...g);return Object.assign(_,{resultFunc:u,memoizedResultFunc:b,dependencies:v,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var z=uz(xE),dz=Object.assign((e,t=z)=>{nz(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((a,l,c)=>(a[r[c]]=l,a),{}))},{withTypes:()=>dz}),bE={},wE={},jE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,i)=>{if(n!==s){const a=t(n),l=t(s);if(a===l&&a===0){if(n<s)return i==="desc"?1:-1;if(n>s)return i==="desc"?-1:1}return i==="desc"?l-a:a-l}return 0};e.compareValues=r})(jE);var _E={},wv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(wv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,a){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||a!=null&&Object.hasOwn(a,i)}e.isKey=s})(_E);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jE,r=_E,n=Rf;function s(i,a,l,c){if(i==null)return[];l=c?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,p)=>{let x=m;for(let w=0;w<p.length&&x!=null;++w)x=x[p[w]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=a.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const w=t.compareValues(m.criteria[x],p.criteria[x],l[x]);if(w!==0)return w}return 0}).map(m=>m.original)}e.orderBy=s})(wE);var NE={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],i=Math.floor(n),a=(l,c)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&c<i?a(d,c+1):s.push(d)}};return a(r,0),s}e.flatten=t})(NE);var jv={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xv,r=Yf,n=mv,s=Jf;function i(a,l,c){return n.isObject(c)&&(typeof l=="number"&&r.isArrayLike(c)&&t.isIndex(l)&&l<c.length||typeof l=="string"&&l in c)?s.eq(c[l],a):!1}e.isIterateeCall=i})(jv);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wE,r=NE,n=jv;function s(i,...a){const l=a.length;return l>1&&n.isIterateeCall(i,a[0],a[1])?a=[]:l>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),t.orderBy(i,r.flatten(a),["asc"])}e.sortBy=s})(bE);var fz=bE.sortBy;const th=Mr(fz);var SE=e=>e.legend.settings,hz=e=>e.legend.size,mz=e=>e.legend.payload;z([mz,SE],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?th(n,r):n});var cu=1;function pz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=y.useState({height:0,left:0,top:0,width:0}),n=y.useCallback(s=>{if(s!=null){var i=s.getBoundingClientRect(),a={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(a.height-t.height)>cu||Math.abs(a.left-t.left)>cu||Math.abs(a.top-t.top)>cu||Math.abs(a.width-t.width)>cu)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function pt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var gz=typeof Symbol=="function"&&Symbol.observable||"@@observable",_j=gz,Bm=()=>Math.random().toString(36).substring(7).split("").join("."),yz={INIT:`@@redux/INIT${Bm()}`,REPLACE:`@@redux/REPLACE${Bm()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Bm()}`},Sd=yz;function _v(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function PE(e,t,r){if(typeof e!="function")throw new Error(pt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(pt(1));return r(PE)(e,t)}let n=e,s=t,i=new Map,a=i,l=0,c=!1;function u(){a===i&&(a=new Map,i.forEach((w,g)=>{a.set(g,w)}))}function d(){if(c)throw new Error(pt(3));return s}function f(w){if(typeof w!="function")throw new Error(pt(4));if(c)throw new Error(pt(5));let g=!0;u();const v=l++;return a.set(v,w),function(){if(g){if(c)throw new Error(pt(6));g=!1,u(),a.delete(v),i=null}}}function h(w){if(!_v(w))throw new Error(pt(7));if(typeof w.type>"u")throw new Error(pt(8));if(typeof w.type!="string")throw new Error(pt(17));if(c)throw new Error(pt(9));try{c=!0,s=n(s,w)}finally{c=!1}return(i=a).forEach(v=>{v()}),w}function m(w){if(typeof w!="function")throw new Error(pt(10));n=w,h({type:Sd.REPLACE})}function p(){const w=f;return{subscribe(g){if(typeof g!="object"||g===null)throw new Error(pt(11));function v(){const _=g;_.next&&_.next(d())}return v(),{unsubscribe:w(v)}},[_j](){return this}}}return h({type:Sd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[_j]:p}}function vz(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Sd.INIT})>"u")throw new Error(pt(12));if(typeof r(void 0,{type:Sd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function kE(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const a=t[i];typeof e[a]=="function"&&(r[a]=e[a])}const n=Object.keys(r);let s;try{vz(r)}catch(i){s=i}return function(a={},l){if(s)throw s;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=a[f],p=h(m,l);if(typeof p>"u")throw l&&l.type,new Error(pt(14));u[f]=p,c=c||p!==m}return c=c||n.length!==Object.keys(a).length,c?u:a}}function Pd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function xz(...e){return t=>(r,n)=>{const s=t(r,n);let i=()=>{throw new Error(pt(15))};const a={getState:s.getState,dispatch:(c,...u)=>i(c,...u)},l=e.map(c=>c(a));return i=Pd(...l)(s.dispatch),{...s,dispatch:i}}}function AE(e){return _v(e)&&"type"in e&&typeof e.type=="string"}var EE=Symbol.for("immer-nothing"),Nj=Symbol.for("immer-draftable"),dr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ua=Object.getPrototypeOf;function Pi(e){return!!e&&!!e[dr]}function In(e){var t;return e?OE(e)||Array.isArray(e)||!!e[Nj]||!!((t=e.constructor)!=null&&t[Nj])||nh(e)||sh(e):!1}var bz=Object.prototype.constructor.toString();function OE(e){if(!e||typeof e!="object")return!1;const t=Ua(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===bz}function kd(e,t){rh(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function rh(e){const t=e[dr];return t?t.type_:Array.isArray(e)?1:nh(e)?2:sh(e)?3:0}function I0(e,t){return rh(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function CE(e,t,r){const n=rh(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function wz(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function nh(e){return e instanceof Map}function sh(e){return e instanceof Set}function Zs(e){return e.copy_||e.base_}function B0(e,t){if(nh(e))return new Map(e);if(sh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=OE(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[dr];let s=Reflect.ownKeys(n);for(let i=0;i<s.length;i++){const a=s[i],l=n[a];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[a]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[a]})}return Object.create(Ua(e),n)}else{const n=Ua(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Nv(e,t=!1){return ih(e)||Pi(e)||!In(e)||(rh(e)>1&&(e.set=e.add=e.clear=e.delete=jz),Object.freeze(e),t&&Object.entries(e).forEach(([r,n])=>Nv(n,!0))),e}function jz(){Vr(2)}function ih(e){return Object.isFrozen(e)}var _z={};function ki(e){const t=_z[e];return t||Vr(0,e),t}var Kl;function TE(){return Kl}function Nz(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Sj(e,t){t&&(ki("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function F0(e){z0(e),e.drafts_.forEach(Sz),e.drafts_=null}function z0(e){e===Kl&&(Kl=e.parent_)}function Pj(e){return Kl=Nz(Kl,e)}function Sz(e){const t=e[dr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function kj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[dr].modified_&&(F0(t),Vr(4)),In(e)&&(e=Ad(t,e),t.parent_||Ed(t,e)),t.patches_&&ki("Patches").generateReplacementPatches_(r[dr].base_,e,t.patches_,t.inversePatches_)):e=Ad(t,r,[]),F0(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==EE?e:void 0}function Ad(e,t,r){if(ih(t))return t;const n=t[dr];if(!n)return kd(t,(s,i)=>Aj(e,n,t,s,i,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Ed(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let i=s,a=!1;n.type_===3&&(i=new Set(s),s.clear(),a=!0),kd(i,(l,c)=>Aj(e,n,s,l,c,r,a)),Ed(e,s,!1),r&&e.patches_&&ki("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function Aj(e,t,r,n,s,i,a){if(Pi(s)){const l=i&&t&&t.type_!==3&&!I0(t.assigned_,n)?i.concat(n):void 0,c=Ad(e,s,l);if(CE(r,n,c),Pi(c))e.canAutoFreeze_=!1;else return}else a&&r.add(s);if(In(s)&&!ih(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ad(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,n)&&Ed(e,s)}}function Ed(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nv(t,r)}function Pz(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:TE(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,i=Sv;r&&(s=[n],i=ql);const{revoke:a,proxy:l}=Proxy.revocable(s,i);return n.draft_=l,n.revoke_=a,l}var Sv={get(e,t){if(t===dr)return e;const r=Zs(e);if(!I0(r,t))return kz(e,r,t);const n=r[t];return e.finalized_||!In(n)?n:n===Fm(e.base_,t)?(zm(e),e.copy_[t]=W0(n,e)):n},has(e,t){return t in Zs(e)},ownKeys(e){return Reflect.ownKeys(Zs(e))},set(e,t,r){const n=ME(Zs(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=Fm(Zs(e),t),i=s==null?void 0:s[dr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(wz(r,s)&&(r!==void 0||I0(e.base_,t)))return!0;zm(e),U0(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Fm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zm(e),U0(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Zs(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Ua(e.base_)},setPrototypeOf(){Vr(12)}},ql={};kd(Sv,(e,t)=>{ql[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ql.deleteProperty=function(e,t){return ql.set.call(this,e,t,void 0)};ql.set=function(e,t,r){return Sv.set.call(this,e[0],t,r,e[0])};function Fm(e,t){const r=e[dr];return(r?Zs(r):e)[t]}function kz(e,t,r){var s;const n=ME(t,r);return n?"value"in n?n.value:(s=n.get)==null?void 0:s.call(e.draft_):void 0}function ME(e,t){if(!(t in e))return;let r=Ua(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ua(r)}}function U0(e){e.modified_||(e.modified_=!0,e.parent_&&U0(e.parent_))}function zm(e){e.copy_||(e.copy_=B0(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Az=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const a=this;return function(c=i,...u){return a.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let s;if(In(t)){const i=Pj(this),a=W0(t,void 0);let l=!0;try{s=r(a),l=!1}finally{l?F0(i):z0(i)}return Sj(i,n),kj(s,i)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===EE&&(s=void 0),this.autoFreeze_&&Nv(s,!0),n){const i=[],a=[];ki("Patches").generateReplacementPatches_(t,s,i,a),n(i,a)}return s}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(a,...l)=>this.produceWithPatches(a,c=>t(c,...l));let n,s;return[this.produce(t,r,(a,l)=>{n=a,s=l}),n,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){In(e)||Vr(8),Pi(e)&&(e=On(e));const t=Pj(this),r=W0(e,void 0);return r[dr].isManual_=!0,z0(t),r}finishDraft(e,t){const r=e&&e[dr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return Sj(n,t),kj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ki("Patches").applyPatches_;return Pi(e)?n(e,t):this.produce(e,s=>n(s,t))}};function W0(e,t){const r=nh(e)?ki("MapSet").proxyMap_(e,t):sh(e)?ki("MapSet").proxySet_(e,t):Pz(e,t);return(t?t.scope_:TE()).drafts_.push(r),r}function On(e){return Pi(e)||Vr(10,e),DE(e)}function DE(e){if(!In(e)||ih(e))return e;const t=e[dr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=B0(e,t.scope_.immer_.useStrictShallowCopy_)}else r=B0(e,!0);return kd(r,(n,s)=>{CE(r,n,DE(s))}),t&&(t.finalized_=!1),r}var fr=new Az,RE=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function $E(e){return({dispatch:r,getState:n})=>s=>i=>typeof i=="function"?i(r,n,e):s(i)}var Ez=$E(),Oz=$E,Cz=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Pd:Pd.apply(null,arguments)};function Cr(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(lr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>AE(n)&&n.type===e,r}var LE=class Zo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Zo.prototype)}static get[Symbol.species](){return Zo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Zo(...t[0].concat(this)):new Zo(...t.concat(this))}};function Ej(e){return In(e)?RE(e,()=>{}):e}function uu(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function Tz(e){return typeof e=="boolean"}var Mz=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:i=!0}=t??{};let a=new LE;return r&&(Tz(r)?a.push(Ez):a.push(Oz(r.extraArgument))),a},Dz="RTK_autoBatch",Oj=e=>t=>{setTimeout(t,e)},Rz=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,i=!1,a=!1;const l=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Oj(10):e.type==="callback"?e.queueNotification:Oj(e.timeout),u=()=>{a=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>s&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return s=!((f=d==null?void 0:d.meta)!=null&&f[Dz]),i=!s,i&&(a||(a=!0,c(u))),n.dispatch(d)}finally{s=!0}}})},$z=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new LE(e);return n&&s.push(Rz(typeof n=="object"?n:void 0)),s};function Lz(e){const t=Mz(),{reducer:r=void 0,middleware:n,devTools:s=!0,duplicateMiddlewareCheck:i=!0,preloadedState:a=void 0,enhancers:l=void 0}=e||{};let c;if(typeof r=="function")c=r;else if(_v(r))c=kE(r);else throw new Error(lr(1));let u;typeof n=="function"?u=n(t):u=t();let d=Pd;s&&(d=Cz({trace:!1,...typeof s=="object"&&s}));const f=xz(...u),h=$z(f);let m=typeof l=="function"?l(h):h();const p=d(...m);return PE(c,a,p)}function IE(e){const t={},r=[];let n;const s={addCase(i,a){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(lr(28));if(l in t)throw new Error(lr(29));return t[l]=a,s},addMatcher(i,a){return r.push({matcher:i,reducer:a}),s},addDefaultCase(i){return n=i,s}};return e(s),[t,r,n]}function Iz(e){return typeof e=="function"}function Bz(e,t){let[r,n,s]=IE(t),i;if(Iz(e))i=()=>Ej(e());else{const l=Ej(e);i=()=>l}function a(l=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[s]),u.reduce((d,f)=>{if(f)if(Pi(d)){const m=f(d,c);return m===void 0?d:m}else{if(In(d))return RE(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return a.getInitialState=i,a}var Fz="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",zz=(e=21)=>{let t="",r=e;for(;r--;)t+=Fz[Math.random()*64|0];return t},Uz=Symbol.for("rtk-slice-createasyncthunk");function Wz(e,t){return`${e}/${t}`}function Vz({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[Uz];return function(s){const{name:i,reducerPath:a=i}=s;if(!i)throw new Error(lr(11));typeof process<"u";const l=(typeof s.reducers=="function"?s.reducers(qz()):s.reducers)||{},c=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const N=typeof _=="string"?_:_.type;if(!N)throw new Error(lr(12));if(N in u.sliceCaseReducersByType)throw new Error(lr(13));return u.sliceCaseReducersByType[N]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=l[_],N={reducerName:_,type:Wz(i,_),createNotation:typeof s.reducers=="function"};Gz(j)?Xz(N,j,d,t):Hz(N,j,d)});function f(){const[_={},j=[],N=void 0]=typeof s.extraReducers=="function"?IE(s.extraReducers):[s.extraReducers],k={..._,...u.sliceCaseReducersByType};return Bz(s.initialState,P=>{for(let E in k)P.addCase(E,k[E]);for(let E of u.sliceMatchers)P.addMatcher(E.matcher,E.reducer);for(let E of j)P.addMatcher(E.matcher,E.reducer);N&&P.addDefaultCase(N)})}const h=_=>_,m=new Map,p=new WeakMap;let x;function w(_,j){return x||(x=f()),x(_,j)}function g(){return x||(x=f()),x.getInitialState()}function v(_,j=!1){function N(P){let E=P[_];return typeof E>"u"&&j&&(E=uu(p,N,g)),E}function k(P=h){const E=uu(m,j,()=>new WeakMap);return uu(E,P,()=>{const T={};for(const[O,U]of Object.entries(s.selectors??{}))T[O]=Kz(U,P,()=>uu(p,P,g),j);return T})}return{reducerPath:_,getSelectors:k,get selectors(){return k(N)},selectSlice:N}}const b={name:i,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:g,...v(a),injectInto(_,{reducerPath:j,...N}={}){const k=j??a;return _.inject({reducerPath:k,reducer:w},N),{...b,...v(k,!0)}}};return b}}function Kz(e,t,r,n){function s(i,...a){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...a)}return s.unwrapped=e,s}var gr=Vz();function qz(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function Hz({type:e,reducerName:t,createNotation:r},n,s){let i,a;if("reducer"in n){if(r&&!Yz(n))throw new Error(lr(17));i=n.reducer,a=n.prepare}else i=n;s.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,a?Cr(e,a):Cr(e))}function Gz(e){return e._reducerDefinitionType==="asyncThunk"}function Yz(e){return e._reducerDefinitionType==="reducerWithPrepare"}function Xz({type:e,reducerName:t},r,n,s){if(!s)throw new Error(lr(18));const{payloadCreator:i,fulfilled:a,pending:l,rejected:c,settled:u,options:d}=r,f=s(e,i,d);n.exposeAction(t,f),a&&n.addCase(f.fulfilled,a),l&&n.addCase(f.pending,l),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:a||du,pending:l||du,rejected:c||du,settled:u||du})}function du(){}var Jz="task",BE="listener",FE="completed",Pv="cancelled",Qz=`task-${Pv}`,Zz=`task-${FE}`,V0=`${BE}-${Pv}`,eU=`${BE}-${FE}`,ah=class{constructor(e){Rh(this,"name","TaskAbortError");Rh(this,"message");this.code=e,this.message=`${Jz} ${Pv} (reason: ${e})`}},kv=(e,t)=>{if(typeof e!="function")throw new TypeError(lr(32))},Od=()=>{},zE=(e,t=Od)=>(e.catch(t),e),UE=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),yi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},vi=e=>{if(e.aborted){const{reason:t}=e;throw new ah(t)}};function WE(e,t){let r=Od;return new Promise((n,s)=>{const i=()=>s(new ah(e.reason));if(e.aborted){i();return}r=UE(e,i),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Od})}var tU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof ah?"cancelled":"rejected",error:r}}finally{t==null||t()}},Cd=e=>t=>zE(WE(e,t).then(r=>(vi(e),r))),VE=e=>{const t=Cd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:Sa}=Object,Cj={},oh="listenerMiddleware",rU=(e,t)=>{const r=n=>UE(e,()=>yi(n,e.reason));return(n,s)=>{kv(n);const i=new AbortController;r(i);const a=tU(async()=>{vi(e),vi(i.signal);const l=await n({pause:Cd(i.signal),delay:VE(i.signal),signal:i.signal});return vi(i.signal),l},()=>yi(i,Zz));return s!=null&&s.autoJoin&&t.push(a.catch(Od)),{result:Cd(e)(a),cancel(){yi(i,Qz)}}}},nU=(e,t)=>{const r=async(n,s)=>{vi(t);let i=()=>{};const l=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];s!=null&&l.push(new Promise(c=>setTimeout(c,s,null)));try{const c=await WE(t,Promise.race(l));return vi(t),c}finally{i()}};return(n,s)=>zE(r(n,s))},KE=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:i}=e;if(t)s=Cr(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(lr(21));return kv(i),{predicate:s,type:t,effect:i}},qE=Sa(e=>{const{type:t,predicate:r,effect:n}=KE(e);return{id:zz(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(lr(22))}}},{withTypes:()=>qE}),Tj=(e,t)=>{const{type:r,effect:n,predicate:s}=KE(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===s)&&i.effect===n)},K0=e=>{e.pending.forEach(t=>{yi(t,V0)})},sU=e=>()=>{e.forEach(K0),e.clear()},Mj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},HE=Sa(Cr(`${oh}/add`),{withTypes:()=>HE}),iU=Cr(`${oh}/removeAll`),GE=Sa(Cr(`${oh}/remove`),{withTypes:()=>GE}),aU=(...e)=>{console.error(`${oh}/error`,...e)},xc=(e={})=>{const t=new Map,{extra:r,onError:n=aU}=e;kv(n);const s=d=>(d.unsubscribe=()=>t.delete(d.id),t.set(d.id,d),f=>{d.unsubscribe(),f!=null&&f.cancelActive&&K0(d)}),i=d=>{const f=Tj(t,d)??qE(d);return s(f)};Sa(i,{withTypes:()=>i});const a=d=>{const f=Tj(t,d);return f&&(f.unsubscribe(),d.cancelActive&&K0(f)),!!f};Sa(a,{withTypes:()=>a});const l=async(d,f,h,m)=>{const p=new AbortController,x=nU(i,p.signal),w=[];try{d.pending.add(p),await Promise.resolve(d.effect(f,Sa({},h,{getOriginalState:m,condition:(g,v)=>x(g,v).then(Boolean),take:x,delay:VE(p.signal),pause:Cd(p.signal),extra:r,signal:p.signal,fork:rU(p.signal,w),unsubscribe:d.unsubscribe,subscribe:()=>{t.set(d.id,d)},cancelActiveListeners:()=>{d.pending.forEach((g,v,b)=>{g!==p&&(yi(g,V0),b.delete(g))})},cancel:()=>{yi(p,V0),d.pending.delete(p)},throwIfCancelled:()=>{vi(p.signal)}})))}catch(g){g instanceof ah||Mj(n,g,{raisedBy:"effect"})}finally{await Promise.all(w),yi(p,eU),d.pending.delete(p)}},c=sU(t);return{middleware:d=>f=>h=>{if(!AE(h))return f(h);if(HE.match(h))return i(h.payload);if(iU.match(h)){c();return}if(GE.match(h))return a(h.payload);let m=d.getState();const p=()=>{if(m===Cj)throw new Error(lr(23));return m};let x;try{if(x=f(h),t.size>0){const w=d.getState(),g=Array.from(t.values());for(const v of g){let b=!1;try{b=v.predicate(h,w,m)}catch(_){b=!1,Mj(n,_,{raisedBy:"predicate"})}b&&l(v,h,d,p)}}}finally{m=Cj}return x},startListening:i,stopListening:a,clearListeners:c}};function lr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var oU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},YE=gr({name:"chartLayout",initialState:oU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:lU,setLayout:cU,setChartSize:uU,setScale:dU}=YE.actions,fU=YE.reducer;function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Rj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){hU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hU(e,t,r){return(t=mU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mU(e){var t=pU(e,"string");return typeof t=="symbol"?t:t+""}function pU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Td=Math.PI/180,gU=e=>e*180/Math.PI,be=(e,t,r,n)=>({x:e+Math.cos(-Td*n)*r,y:t+Math.sin(-Td*n)*r}),XE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0,width:0,height:0,brushBottom:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},yU=(e,t)=>{var{x:r,y:n}=e,{x:s,y:i}=t;return Math.sqrt((r-s)**2+(n-i)**2)},vU=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:i}=t,a=yU({x:r,y:n},{x:s,y:i});if(a<=0)return{radius:a,angle:0};var l=(r-s)/a,c=Math.acos(l);return n>i&&(c=2*Math.PI-c),{radius:a,angle:gU(c),angleInRadian:c}},xU=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),i=Math.min(n,s);return{startAngle:t-i*360,endAngle:r-i*360}},bU=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),i=Math.floor(n/360),a=Math.min(s,i);return e+a*360},wU=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:i}=vU({x:r,y:n},t),{innerRadius:a,outerRadius:l}=t;if(s<a||s>l||s===0)return null;var{startAngle:c,endAngle:u}=xU(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?Rj(Rj({},t),{},{radius:s,angle:bU(d,t)}):null},JE=e=>!y.isValidElement(e)&&typeof e!="function"&&typeof e!="boolean"&&e!=null?e.className:"";function QE(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function $j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$j(Object(r),!0).forEach(function(n){jU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jU(e,t,r){return(t=_U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _U(e){var t=NU(e,"string");return typeof t=="symbol"?t:t+""}function NU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ce(e,t,r){return He(e)||He(t)?r:gn(t)?Es(e,t,r):typeof t=="function"?t(e):r}var SU=(e,t,r,n,s)=>{var i,a=-1,l=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(l<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var c=0;c<l;c++){var u=c>0?r[c-1].coordinate:r[l-1].coordinate,d=r[c].coordinate,f=c>=l-1?r[0].coordinate:r[c+1].coordinate,h=void 0;if(ft(d-u)!==ft(f-d)){var m=[];if(ft(f-d)===ft(s[1]-s[0])){h=f;var p=d+s[1]-s[0];m[0]=Math.min(p,(p+u)/2),m[1]=Math.max(p,(p+u)/2)}else{h=u;var x=f+s[1]-s[0];m[0]=Math.min(d,(x+d)/2),m[1]=Math.max(d,(x+d)/2)}var w=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>w[0]&&e<=w[1]||e>=m[0]&&e<=m[1]){({index:a}=r[c]);break}}else{var g=Math.min(u,f),v=Math.max(u,f);if(e>(g+d)/2&&e<=(v+d)/2){({index:a}=r[c]);break}}}else if(t){for(var b=0;b<l;b++)if(b===0&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b>0&&b<l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2&&e<=(t[b].coordinate+t[b+1].coordinate)/2||b===l-1&&e>(t[b].coordinate+t[b-1].coordinate)/2){({index:a}=t[b]);break}}return a},PU=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:i,verticalAlign:a,layout:l}=t;if((l==="vertical"||l==="horizontal"&&a==="middle")&&i!=="center"&&te(e[i]))return Nr(Nr({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&a!=="middle"&&te(e[a]))return Nr(Nr({},e),{},{[a]:e[a]+(s||0)})}return e},Is=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",ZE=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var s,i,a=e.map(l=>(l.coordinate===t&&(s=!0),l.coordinate===r&&(i=!0),l.coordinate));return s||a.push(t),i||a.push(r),a},eO=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:i,scale:a,realScaleType:l,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!a)return null;var p=l==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,x=s==="category"&&a.bandwidth?a.bandwidth()/p:0;if(x=m==="angleAxis"&&i&&i.length>=2?ft(i[0]-i[1])*2*x:x,f||h){var w=(f||h||[]).map((g,v)=>{var b=n?n.indexOf(g):g;return{coordinate:a(b)+x,value:g,offset:x,index:v}});return w.filter(g=>!ur(g.coordinate))}return c&&u?u.map((g,v)=>({coordinate:a(g)+x,value:g,index:v,offset:x})):a.ticks&&!r&&d!=null?a.ticks(d).map((g,v)=>({coordinate:a(g)+x,value:g,offset:x,index:v})):a.domain().map((g,v)=>({coordinate:a(g)+x,value:n?n[g]:g,index:v,offset:x}))},Lj=1e-4,kU=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-Lj,i=Math.max(n[0],n[1])+Lj,a=e(t[0]),l=e(t[r-1]);(a<s||a>i||l<s||l>i)&&e.domain([t[0],t[r-1]])}},AU=(e,t)=>{if(!t||t.length!==2||!te(t[0])||!te(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!te(e[0])||e[0]<r)&&(s[0]=r),(!te(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},EU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0,a=0;a<t;++a){var l=ur(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=i,e[a][r][1]=i+l,i=e[a][r][1])}},OU=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,i=0;i<t;++i){var a=ur(e[i][r][1])?e[i][r][0]:e[i][r][1];a>=0?(e[i][r][0]=s,e[i][r][1]=s+a,s=e[i][r][1]):(e[i][r][0]=0,e[i][r][1]=0)}},CU={sign:EU,expand:v8,none:Fa,silhouette:x8,wiggle:b8,positive:OU},TU=(e,t,r)=>{var n=CU[r],s=y8().keys(t).value((i,a)=>+Ce(i,a,0)).order($0).offset(n);return s(e)};function MU(e){return e==null?void 0:String(e)}var Ij=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:i,index:a}=e;if(t.type==="category")return r[a]?r[a].coordinate+n:null;var l=Ce(i,t.dataKey,t.scale.domain()[a]);return He(l)?null:t.scale(l)-s/2+n},DU=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},RU=e=>{var t=e.flat(2).filter(te);return[Math.min(...t),Math.max(...t)]},$U=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],LU=(e,t,r)=>{if(e!=null)return $U(Object.keys(e).reduce((n,s)=>{var i=e[s],{stackedData:a}=i,l=a.reduce((c,u)=>{var d=QE(u,t,r),f=RU(d);return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},Bj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Fj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Hl=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=th(t,d=>d.coordinate),i=1/0,a=1,l=s.length;a<l;a++){var c=s[a],u=s[a-1];i=Math.min((c.coordinate||0)-(u.coordinate||0),i)}return i===1/0?0:i}return r?void 0:0};function zj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:i}=e;return Nr(Nr({},t),{},{dataKey:r,payload:n,value:s,name:i})}function fo(e,t){if(e)return String(e);if(typeof t=="string")return t}function IU(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var i=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return i?{x:e,y:t}:null}return n?wU({x:e,y:t},n):null}var BU=(e,t,r,n)=>{var s=t.find(u=>u&&u.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var i=s.coordinate,{radius:a}=n;return Nr(Nr(Nr({},n),be(n.cx,n.cy,a,i)),{},{angle:i,radius:a})}var l=s.coordinate,{angle:c}=n;return Nr(Nr(Nr({},n),be(n.cx,n.cy,l,c)),{},{angle:c,radius:l})}return{x:0,y:0}},FU=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,qn=e=>e.layout.width,Hn=e=>e.layout.height,zU=e=>e.layout.scale,tO=e=>e.layout.margin,Av=z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Ev=z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rO="data-recharts-item-index",nO="data-recharts-item-data-key",lh=60;function Uj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Uj(Object(r),!0).forEach(function(n){UU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Uj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UU(e,t,r){return(t=WU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function WU(e){var t=VU(e,"string");return typeof t=="symbol"?t:t+""}function VU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KU=e=>e.brush.height,st=z([qn,Hn,tO,KU,Av,Ev,SE,hz],(e,t,r,n,s,i,a,l)=>{var c=i.reduce((p,x)=>{var{orientation:w}=x;if(!x.mirror&&!x.hide){var g=typeof x.width=="number"?x.width:lh;return Zn(Zn({},p),{},{[w]:p[w]+g})}return p},{left:r.left||0,right:r.right||0}),u=s.reduce((p,x)=>{var{orientation:w}=x;return!x.mirror&&!x.hide?Zn(Zn({},p),{},{[w]:Es(p,"".concat(w))+x.height}):p},{top:r.top||0,bottom:r.bottom||0}),d=Zn(Zn({},u),c),f=d.bottom;d.bottom+=n,d=PU(d,a,l);var h=e-d.left-d.right,m=t-d.top-d.bottom;return Zn(Zn({brushBottom:f},d),{},{width:Math.max(h,0),height:Math.max(m,0)})}),qU=z(st,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),sO=z(qn,Hn,(e,t)=>({x:0,y:0,width:e,height:t})),HU=y.createContext(null),tr=()=>y.useContext(HU)!=null,ch=e=>e.brush,uh=z([ch,st,tO],(e,t,r)=>({height:e.height,x:te(e.x)?e.x:t.left,y:te(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:te(e.width)?e.width:t.width})),Ov=()=>{var e,t=tr(),r=ee(qU),n=ee(uh),s=(e=ee(ch))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},GU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iO=()=>{var e;return(e=ee(st))!==null&&e!==void 0?e:GU},aO=()=>ee(qn),oO=()=>ee(Hn),pe=e=>e.layout.layoutType,Cv=()=>ee(pe),YU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},lO=gr({name:"legend",initialState:YU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=On(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:Bte,setLegendSettings:Fte,addLegendPayload:cO,removeLegendPayload:uO}=lO.actions,XU=lO.reducer;function q0(){return q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},q0.apply(null,arguments)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Um(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){JU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JU(e,t,r){return(t=QU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QU(e){var t=ZU(e,"string");return typeof t=="symbol"?t:t+""}function ZU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e9(e){return Array.isArray(e)&&gn(e[0])&&gn(e[1])?e.join(" ~ "):e}var t9=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:i,formatter:a,itemSorter:l,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},N=(l?th(i,l):i).map((k,P)=>{if(k.type==="none")return null;var E=k.formatter||a||e9,{value:T,name:O}=k,U=T,I=O;if(E){var H=E(T,O,k,P,i);if(Array.isArray(H))[U,I]=H;else if(H!=null)U=H;else return null}var B=Um({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},n);return y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(P),style:B},gn(I)?y.createElement("span",{className:"recharts-tooltip-item-name"},I):null,gn(I)?y.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,y.createElement("span",{className:"recharts-tooltip-item-value"},U),y.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return y.createElement("ul",{className:"recharts-tooltip-item-list",style:j},N)}return null},p=Um({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=Um({margin:0},s),w=!He(d),g=w?d:"",v=de("recharts-default-tooltip",c),b=de("recharts-tooltip-label",u);w&&f&&i!==void 0&&i!==null&&(g=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return y.createElement("div",q0({className:v,style:p},_),y.createElement("p",{className:b,style:x},y.isValidElement(g)?g:"".concat(g)),m())},Io="recharts-tooltip-wrapper",r9={visibility:"hidden"};function n9(e){var{coordinate:t,translateX:r,translateY:n}=e;return de(Io,{["".concat(Io,"-right")]:te(r)&&t&&te(t.x)&&r>=t.x,["".concat(Io,"-left")]:te(r)&&t&&te(t.x)&&r<t.x,["".concat(Io,"-bottom")]:te(n)&&t&&te(t.y)&&n>=t.y,["".concat(Io,"-top")]:te(n)&&t&&te(t.y)&&n<t.y})}function Vj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:i,reverseDirection:a,tooltipDimension:l,viewBox:c,viewBoxDimension:u}=e;if(i&&te(i[n]))return i[n];var d=r[n]-l-(s>0?s:0),f=r[n]+s;if(t[n])return a[n]?d:f;var h=c[n];if(h==null)return 0;if(a[n]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+l,w=h+u;return x>w?Math.max(d,h):Math.max(f,h)}function s9(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function i9(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:i,tooltipBox:a,useTranslate3d:l,viewBox:c}=e,u,d,f;return a.height>0&&a.width>0&&r?(d=Vj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:a.width,viewBox:c,viewBoxDimension:c.width}),f=Vj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:a.height,viewBox:c,viewBoxDimension:c.height}),u=s9({translateX:d,translateY:f,useTranslate3d:l})):u=r9,{cssProperties:u,cssClasses:n9({translateX:d,translateY:f,coordinate:r})}}function Kj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kj(Object(r),!0).forEach(function(n){H0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H0(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=o9(e,"string");return typeof t=="symbol"?t:t+""}function o9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class l9 extends y.PureComponent{constructor(){super(...arguments),H0(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),H0(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:i,coordinate:a,hasPayload:l,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:w,hasPortalFromProps:g}=this.props,{cssClasses:v,cssProperties:b}=i9({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),_=g?{}:fu(fu({transition:c&&t?"transform ".concat(n,"ms ").concat(s):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=fu(fu({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},p);return y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:v,style:j,ref:w},i)}}var c9=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Mi={isSsr:c9()},dO=()=>ee(e=>e.rootProps.accessibilityLayer);function hr(e){return Number.isFinite(e)}function Wa(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(null,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){u9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function u9(e,t,r){return(t=d9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function d9(e){var t=f9(e,"string");return typeof t=="symbol"?t:t+""}function f9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gj={curveBasisClosed:a8,curveBasisOpen:o8,curveBasis:i8,curveBumpX:KF,curveBumpY:qF,curveLinearClosed:l8,curveLinear:Hf,curveMonotoneX:c8,curveMonotoneY:u8,curveNatural:d8,curveStep:f8,curveStepAfter:m8,curveStepBefore:h8},hu=e=>hr(e.x)&&hr(e.y),Bo=e=>e.x,Fo=e=>e.y,h9=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(gc(e));return(r==="curveMonotone"||r==="curveBump")&&t?Gj["".concat(r).concat(t==="vertical"?"Y":"X")]:Gj[r]||Hf},m9=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:i=!1}=e,a=h9(t,s),l=i?r.filter(hu):r,c;if(Array.isArray(n)){var u=i?n.filter(f=>hu(f)):n,d=l.map((f,h)=>Hj(Hj({},f),{},{base:u[h]}));return s==="vertical"?c=ou().y(Fo).x1(Bo).x0(f=>f.base.x):c=ou().x(Bo).y1(Fo).y0(f=>f.base.y),c.defined(hu).curve(a),c(d)}return s==="vertical"&&te(n)?c=ou().y(Fo).x1(Bo).x0(n):te(n)?c=ou().x(Bo).y1(Fo).y0(n):c=UA().x(Bo).y(Fo),c.defined(hu).curve(a),c(l)},fO=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var i=r&&r.length?m9(e):n;return y.createElement("path",G0({},Ct(e),uv(e),{className:de("recharts-curve",t),d:i===null?void 0:i,ref:s}))},p9=["x","y","top","left","width","height","className"];function Y0(){return Y0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Y0.apply(null,arguments)}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){y9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y9(e,t,r){return(t=v9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v9(e){var t=x9(e,"string");return typeof t=="symbol"?t:t+""}function x9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b9(e,t){if(e==null)return{};var r,n,s=w9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function w9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var j9=(e,t,r,n,s,i)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),_9=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:i=0,height:a=0,className:l}=e,c=b9(e,p9),u=g9({x:t,y:r,top:n,left:s,width:i,height:a},c);return!te(t)||!te(r)||!te(i)||!te(a)||!te(n)||!te(s)?null:y.createElement("path",Y0({},ve(u,!0),{className:de("recharts-cross",l),d:j9(t,r,i,a,n,s)}))};function N9(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){P9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P9(e,t,r){return(t=k9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k9(e){var t=A9(e,"string");return typeof t=="symbol"?t:t+""}function A9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rr(e,t){var r=S9({},e),n=t,s=Object.keys(t),i=s.reduce((a,l)=>(a[l]===void 0&&n[l]!==void 0&&(a[l]=n[l]),a),r);return i}var hO={},mO={},pO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(!r||typeof r!="object")return!1;const n=Object.getPrototypeOf(r);return n===null||n===Object.prototype||Object.getPrototypeOf(n)===null?Object.prototype.toString.call(r)==="[object Object]":!1}e.isPlainObject=t})(pO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pO,r=vv,n=Qf,s=Zf,i=Jf;function a(u,d,f){return l(u,d,void 0,void 0,void 0,void 0,f)}function l(u,d,f,h,m,p,x){const w=x(u,d,f,h,m,p);if(w!==void 0)return w;if(typeof u==typeof d)switch(typeof u){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return u===d;case"number":return u===d||Object.is(u,d);case"function":return u===d;case"object":return c(u,d,p,x)}return c(u,d,p,x)}function c(u,d,f,h){if(Object.is(u,d))return!0;let m=n.getTag(u),p=n.getTag(d);if(m===s.argumentsTag&&(m=s.objectTag),p===s.argumentsTag&&(p=s.objectTag),m!==p)return!1;switch(m){case s.stringTag:return u.toString()===d.toString();case s.numberTag:{const g=u.valueOf(),v=d.valueOf();return i.eq(g,v)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(u.valueOf(),d.valueOf());case s.regexpTag:return u.source===d.source&&u.flags===d.flags;case s.functionTag:return u===d}f=f??new Map;const x=f.get(u),w=f.get(d);if(x!=null&&w!=null)return x===d;f.set(u,d),f.set(d,u);try{switch(m){case s.mapTag:{if(u.size!==d.size)return!1;for(const[g,v]of u.entries())if(!d.has(g)||!l(v,d.get(g),g,u,d,f,h))return!1;return!0}case s.setTag:{if(u.size!==d.size)return!1;const g=Array.from(u.values()),v=Array.from(d.values());for(let b=0;b<g.length;b++){const _=g[b],j=v.findIndex(N=>l(_,N,void 0,u,d,f,h));if(j===-1)return!1;v.splice(j,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(u)!==Buffer.isBuffer(d)||u.length!==d.length)return!1;for(let g=0;g<u.length;g++)if(!l(u[g],d[g],g,u,d,f,h))return!1;return!0}case s.arrayBufferTag:return u.byteLength!==d.byteLength?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.dataViewTag:return u.byteLength!==d.byteLength||u.byteOffset!==d.byteOffset?!1:c(new Uint8Array(u),new Uint8Array(d),f,h);case s.errorTag:return u.name===d.name&&u.message===d.message;case s.objectTag:{if(!(c(u.constructor,d.constructor,f,h)||t.isPlainObject(u)&&t.isPlainObject(d)))return!1;const v=[...Object.keys(u),...r.getSymbols(u)],b=[...Object.keys(d),...r.getSymbols(d)];if(v.length!==b.length)return!1;for(let _=0;_<v.length;_++){const j=v[_],N=u[j];if(!Object.hasOwn(d,j))return!1;const k=d[j];if(!l(N,k,j,u,d,f,h))return!1}return!0}default:return!1}}finally{f.delete(u),f.delete(d)}}e.isEqualWith=a})(mO);var gO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t})(gO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mO,r=gO;function n(s,i){return t.isEqualWith(s,i,r.noop)}e.isEqual=n})(hO);var E9=hO.isEqual;const O9=Mr(E9);var Md=1e-4,yO=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],vO=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Jj=(e,t)=>r=>{var n=yO(e,t);return vO(n,r)},C9=(e,t)=>r=>{var n=yO(e,t),s=[...n.map((i,a)=>i*a).slice(1),0];return vO(s,r)},Qj=function(){for(var t,r,n,s,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];if(a.length===1)switch(a[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var c=a[0].split("(");c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4&&([t,n,r,s]=c[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([t,n,r,s]=a);var u=Jj(t,r),d=Jj(n,s),f=C9(t,r),h=p=>p>1?1:p<0?0:p,m=p=>{for(var x=p>1?1:p,w=x,g=0;g<8;++g){var v=u(w)-x,b=f(w);if(Math.abs(v-x)<Md||b<Md)return d(w);w=h(w-v/b)}return d(w)};return m.isStepper=!1,m},T9=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,i=(a,l,c)=>{var u=-(a-l)*r,d=c*n,f=c+(u-d)*s/1e3,h=c*s/1e3+a;return Math.abs(h-l)<Md&&Math.abs(f)<Md?[l,0]:[h,f]};return i.isStepper=!0,i.dt=s,i},xO=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Qj(e);case"spring":return T9();default:if(e.split("(")[0]==="cubic-bezier")return Qj(e)}return typeof e=="function"?e:null};function Zj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zj(Object(r),!0).forEach(function(n){M9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function M9(e,t,r){return(t=D9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D9(e){var t=R9(e,"string");return typeof t=="symbol"?t:t+""}function R9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $9=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),L9=(e,t,r)=>e.map(n=>"".concat($9(n)," ").concat(t,"ms ").concat(r)).join(","),I9=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),Gl=(e,t)=>Object.keys(t).reduce((r,n)=>e_(e_({},r),{},{[n]:e(n,t[n])}),{});function t_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?t_(Object(r),!0).forEach(function(n){B9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):t_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function B9(e,t,r){return(t=F9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F9(e){var t=z9(e,"string");return typeof t=="symbol"?t:t+""}function z9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dd=(e,t,r)=>e+(t-e)*r,X0=e=>{var{from:t,to:r}=e;return t!==r},bO=(e,t,r)=>{var n=Gl((s,i)=>{if(X0(i)){var[a,l]=e(i.from,i.to,i.velocity);return yt(yt({},i),{},{from:a,velocity:l})}return i},t);return r<1?Gl((s,i)=>X0(i)?yt(yt({},i),{},{velocity:Dd(i.velocity,n[s].velocity,r),from:Dd(i.from,n[s].from,r)}):i,t):bO(e,n,r-1)};function U9(e,t,r,n,s,i){var a,l=n.reduce((h,m)=>yt(yt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Gl((h,m)=>m.from,l),u=()=>!Object.values(l).filter(X0).length,d=null,f=h=>{a||(a=h);var m=h-a,p=m/r.dt;l=bO(r,l,p),s(yt(yt(yt({},e),t),c())),a=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{d()})}function W9(e,t,r,n,s,i,a){var l=null,c=s.reduce((f,h)=>yt(yt({},f),{},{[h]:[e[h],t[h]]}),{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Gl((x,w)=>Dd(...w,r(h)),c);if(i(yt(yt(yt({},e),t),m)),h<1)l=a.setTimeout(d);else{var p=Gl((x,w)=>Dd(...w,r(1)),c);i(yt(yt(yt({},e),t),p))}};return()=>(l=a.setTimeout(d),()=>{l()})}const wO=(e,t,r,n,s,i)=>{var a=I9(e,t);return r.isStepper===!0?U9(e,t,r,a,s,i):W9(e,t,r,n,a,s,i)};function V9(e){var t,r=()=>null,n=!1,s=null,i=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var l=a,[c,...u]=l;if(typeof c=="number"){s=e.setTimeout(i.bind(null,u),c);return}i(c),s=e.setTimeout(i.bind(null,u));return}typeof a=="string"&&(t=a,r(t)),typeof a=="object"&&(t=a,r(t)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,s&&(s(),s=null),i(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>e}}class K9{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,i=a=>{a-n>=r?t(a):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(i))};return s=requestAnimationFrame(i),()=>{cancelAnimationFrame(s)}}}function q9(){return V9(new K9)}var H9=y.createContext(q9);function jO(e,t){var r=y.useContext(H9);return y.useMemo(()=>t??r(e),[e,t,r])}var G9=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function J0(){return J0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J0.apply(null,arguments)}function Y9(e,t){if(e==null)return{};var r,n,s=X9(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function X9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function es(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function li(e,t,r){return(t=J9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J9(e){var t=Q9(e,"string");return typeof t=="symbol"?t:t+""}function Q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Tv extends y.PureComponent{constructor(t,r){super(t,r),li(this,"mounted",!1),li(this,"manager",void 0),li(this,"stopJSAnimation",null),li(this,"unSubscribe",null);var{isActive:n,attributeName:s,from:i,to:a,children:l,duration:c,animationManager:u}=this.props;if(this.manager=u,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!n||c<=0){this.state={style:{}},typeof l=="function"&&(this.state={style:a});return}if(i){if(typeof l=="function"){this.state={style:i};return}this.state={style:s?{[s]:i}:i}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:r}=this.props;this.mounted=!0,!(!t||!r)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:r,canBegin:n,attributeName:s,shouldReAnimate:i,to:a,from:l}=this.props,{style:c}=this.state;if(n){if(!r){var u={style:s?{[s]:a}:a};this.state&&c&&(s&&c[s]!==a||!s&&c!==a)&&this.setState(u);return}if(!(O9(t.to,a)&&t.canBegin&&t.isActive)){var d=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var f=d||i?l:t.to;if(this.state&&c){var h={style:s?{[s]:f}:f};(s&&c[s]!==f||!s&&c!==f)&&this.setState(h)}this.runAnimation(es(es({},this.props),{},{from:f,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:r,to:n,duration:s,easing:i,begin:a,onAnimationEnd:l,onAnimationStart:c}=t,u=wO(r,n,xO(i),s,this.changeStyle,this.manager.getTimeoutController()),d=()=>{this.stopJSAnimation=u()};this.manager.start([c,a,d,s,l])}runAnimation(t){var{begin:r,duration:n,attributeName:s,to:i,easing:a,onAnimationStart:l,onAnimationEnd:c,children:u}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof u=="function"||a==="spring"){this.runJSAnimation(t);return}var d=s?{[s]:i}:i,f=L9(Object.keys(d),n,a);this.manager.start([l,r,es(es({},d),{},{transition:f}),n,c])}render(){var t=this.props,{children:r,begin:n,duration:s,attributeName:i,easing:a,isActive:l,from:c,to:u,canBegin:d,onAnimationEnd:f,shouldReAnimate:h,onAnimationReStart:m,animationManager:p}=t,x=Y9(t,G9),w=y.Children.count(r),g=this.state.style;if(typeof r=="function")return r(g);if(!l||w===0||s<=0)return r;var v=b=>{var{style:_={},className:j}=b.props,N=y.cloneElement(b,es(es({},x),{},{style:es(es({},_),g),className:j}));return N};return w===1?v(y.Children.only(r)):y.createElement("div",null,y.Children.map(r,b=>v(b)))}}li(Tv,"displayName","Animate");li(Tv,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Rd(e){var t,r=jO((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return y.createElement(Tv,J0({},e,{animationManager:r}))}function $d(){return $d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$d.apply(null,arguments)}var n_=(e,t,r,n,s)=>{var i=Math.min(Math.abs(r)/2,Math.abs(n)/2),a=n>=0?1:-1,l=r>=0?1:-1,c=n>=0&&r>=0||n<0&&r<0?1:0,u;if(i>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>i?i:s[f];u="M".concat(e,",").concat(t+a*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(t)),u+="L ".concat(e+r-l*d[1],",").concat(t),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(t+a*d[1])),u+="L ".concat(e+r,",").concat(t+n-a*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(t+n)),u+="L ".concat(e+l*d[3],",").concat(t+n),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(t+n-a*d[3])),u+="Z"}else if(i>0&&s===+s&&s>0){var m=Math.min(i,s);u="M ".concat(e,",").concat(t+a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(t,`
            L `).concat(e+r-l*m,",").concat(t,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(t+a*m,`
            L `).concat(e+r,",").concat(t+n-a*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(t+n,`
            L `).concat(e+l*m,",").concat(t+n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(t+n-a*m," Z")}else u="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return u},Z9={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_O=e=>{var t=Rr(e,Z9),r=y.useRef(null),[n,s]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var g=r.current.getTotalLength();g&&s(g)}catch{}},[]);var{x:i,y:a,width:l,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t;if(i!==+i||a!==+a||l!==+l||c!==+c||l===0||c===0)return null;var w=de("recharts-rectangle",d);return x?y.createElement(Rd,{canBegin:n>0,from:{width:l,height:c,x:i,y:a},to:{width:l,height:c,x:i,y:a},duration:h,animationEasing:f,isActive:x},g=>{var{width:v,height:b,x:_,y:j}=g;return y.createElement(Rd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,isActive:p,easing:f},y.createElement("path",$d({},ve(t,!0),{className:w,d:n_(_,j,v,b,u),ref:r})))}):y.createElement("path",$d({},ve(t,!0),{className:w,d:n_(i,a,l,c,u)}))};function NO(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:i}=e,a=be(t,r,n,s),l=be(t,r,n,i);return{points:[a,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(null,arguments)}var e7=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},mu=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:i,isExternal:a,cornerRadius:l,cornerIsExternal:c}=e,u=l*(a?1:-1)+n,d=Math.asin(l/u)/Td,f=c?s:s+i*d,h=be(t,r,u,f),m=be(t,r,n,f),p=c?s-i*d:s,x=be(t,r,u*Math.cos(d*Td),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},SO=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:i,endAngle:a}=e,l=e7(i,a),c=i+l,u=be(t,r,s,i),d=be(t,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(i>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(n>0){var h=be(t,r,n,i),m=be(t,r,n,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(i<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(t,",").concat(r," Z");return f},t7=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:i,forceCornerRadius:a,cornerIsExternal:l,startAngle:c,endAngle:u}=e,d=ft(u-c),{circleTangency:f,lineTangency:h,theta:m}=mu({cx:t,cy:r,radius:s,angle:c,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:p,lineTangency:x,theta:w}=mu({cx:t,cy:r,radius:s,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),g=l?Math.abs(c-u):Math.abs(c-u)-m-w;if(g<0)return a?"M ".concat(h.x,",").concat(h.y,`
        a`).concat(i,",").concat(i,",0,0,1,").concat(i*2,`,0
        a`).concat(i,",").concat(i,",0,0,1,").concat(-i*2,`,0
      `):SO({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:c,endAngle:u});var v="M ".concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(g>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(n>0){var{circleTangency:b,lineTangency:_,theta:j}=mu({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:N,lineTangency:k,theta:P}=mu({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),E=l?Math.abs(c-u):Math.abs(c-u)-j-P;if(E<0&&i===0)return"".concat(v,"L").concat(t,",").concat(r,"Z");v+="L".concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(n,",").concat(n,",0,").concat(+(E>180),",").concat(+(d>0),",").concat(b.x,",").concat(b.y,`
      A`).concat(i,",").concat(i,",0,0,").concat(+(d<0),",").concat(_.x,",").concat(_.y,"Z")}else v+="L".concat(t,",").concat(r,"Z");return v},r7={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},PO=e=>{var t=Rr(e,r7),{cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:a,forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<s||u===d)return null;var h=de("recharts-sector",f),m=i-s,p=It(a,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=t7({cx:r,cy:n,innerRadius:s,outerRadius:i,cornerRadius:Math.min(p,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):x=SO({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:d}),y.createElement("path",Q0({},ve(t,!0),{className:h,d:x}))};function n7(e,t,r){var n,s,i,a;if(e==="horizontal")n=t.x,i=n,s=r.top,a=r.top+r.height;else if(e==="vertical")s=t.y,a=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:l,cy:c,innerRadius:u,outerRadius:d,angle:f}=t,h=be(l,c,u,f),m=be(l,c,d,f);n=h.x,s=h.y,i=m.x,a=m.y}else return NO(t);return[{x:n,y:s},{x:i,y:a}]}var kO={},AO={},EO={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wv;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(EO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EO;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(AO);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jv,r=AO;function n(s,i,a){a&&typeof a!="number"&&t.isIterateeCall(s,i,a)&&(i=a=void 0),s=r.toFinite(s),i===void 0?(i=s,s=0):i=r.toFinite(i),a=a===void 0?s<i?1:-1:r.toFinite(a);const l=Math.max(Math.ceil((i-s)/(a||1)),0),c=new Array(l);for(let u=0;u<l;u++)c[u]=s,s+=a;return c}e.range=n})(kO);var s7=kO.range;const OO=Mr(s7);function Ns(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i7(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mv(e){let t,r,n;e.length!==2?(t=Ns,r=(l,c)=>Ns(e(l),c),n=(l,c)=>e(l)-c):(t=e===Ns||e===i7?e:a7,r=e,n=e);function s(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(l,c,u=0,d=l.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){const f=s(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:s,center:a,right:i}}function a7(){return 0}function CO(e){return e===null?NaN:+e}function*o7(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const l7=Mv(Ns),bc=l7.right;Mv(CO).center;class s_ extends Map{constructor(t,r=d7){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(i_(this,t))}has(t){return super.has(i_(this,t))}set(t,r){return super.set(c7(this,t),r)}delete(t){return super.delete(u7(this,t))}}function i_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function c7({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function u7({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function d7(e){return e!==null&&typeof e=="object"?e.valueOf():e}function f7(e=Ns){if(e===Ns)return TO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function TO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const h7=Math.sqrt(50),m7=Math.sqrt(10),p7=Math.sqrt(2);function Ld(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),a=i>=h7?10:i>=m7?5:i>=p7?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/a,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*a,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?Ld(e,t,r*2):[l,c,u]}function Z0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,a]=n?Ld(t,e,r):Ld(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(a<0)for(let u=0;u<l;++u)c[u]=(i-u)/-a;else for(let u=0;u<l;++u)c[u]=(i-u)*a;else if(a<0)for(let u=0;u<l;++u)c[u]=(s+u)/-a;else for(let u=0;u<l;++u)c[u]=(s+u)*a;return c}function eg(e,t,r){return t=+t,e=+e,r=+r,Ld(e,t,r)[2]}function tg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?eg(t,e,r):eg(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function a_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function o_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function MO(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?TO:f7(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),p=Math.min(n,Math.floor(t+(c-u)*f/c+h));MO(e,t,m,p,s)}const i=e[t];let a=r,l=n;for(zo(e,r,t),s(e[n],i)>0&&zo(e,r,n);a<l;){for(zo(e,a,l),++a,--l;s(e[a],i)<0;)++a;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?zo(e,r,l):(++l,zo(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function zo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function g7(e,t,r){if(e=Float64Array.from(o7(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return o_(e);if(t>=1)return a_(e);var n,s=(n-1)*t,i=Math.floor(s),a=a_(MO(e,i).subarray(0,i+1)),l=o_(e.subarray(i+1));return a+(l-a)*(s-i)}}function y7(e,t,r=CO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),a=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return a+(l-a)*(s-i)}}function v7(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const rg=Symbol("implicit");function Dv(){var e=new s_,t=[],r=[],n=rg;function s(i){let a=e.get(i);if(a===void 0){if(n!==rg)return n;e.set(i,a=t.push(i)-1)}return r[a%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new s_;for(const a of i)e.has(a)||e.set(a,t.push(a)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Dv(t,r).unknown(n)},$r.apply(s,arguments),s}function Rv(){var e=Dv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,a,l=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=s<n,p=m?s:n,x=m?n:s;i=(x-p)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),p+=(x-p-i*(h-c))*d,a=i*(1-c),l&&(p=Math.round(p),a=Math.round(a));var w=v7(h).map(function(g){return p+i*g});return r(m?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,f()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,f()},e.bandwidth=function(){return a},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return Rv(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(d)},$r.apply(f(),arguments)}function DO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DO(t())},e}function x7(){return DO(Rv.apply(null,arguments).paddingInner(1))}function $v(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function RO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function wc(){}var Yl=.7,Id=1/Yl,Pa="\\s*([+-]?\\d+)\\s*",Xl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",mn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",b7=/^#([0-9a-f]{3,8})$/,w7=new RegExp(`^rgb\\(${Pa},${Pa},${Pa}\\)$`),j7=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),_7=new RegExp(`^rgba\\(${Pa},${Pa},${Pa},${Xl}\\)$`),N7=new RegExp(`^rgba\\(${mn},${mn},${mn},${Xl}\\)$`),S7=new RegExp(`^hsl\\(${Xl},${mn},${mn}\\)$`),P7=new RegExp(`^hsla\\(${Xl},${mn},${mn},${Xl}\\)$`),l_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$v(wc,Jl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:c_,formatHex:c_,formatHex8:k7,formatHsl:A7,formatRgb:u_,toString:u_});function c_(){return this.rgb().formatHex()}function k7(){return this.rgb().formatHex8()}function A7(){return $O(this).formatHsl()}function u_(){return this.rgb().formatRgb()}function Jl(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=b7.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?d_(t):r===3?new Xt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?pu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?pu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=w7.exec(e))?new Xt(t[1],t[2],t[3],1):(t=j7.exec(e))?new Xt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=_7.exec(e))?pu(t[1],t[2],t[3],t[4]):(t=N7.exec(e))?pu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=S7.exec(e))?m_(t[1],t[2]/100,t[3]/100,1):(t=P7.exec(e))?m_(t[1],t[2]/100,t[3]/100,t[4]):l_.hasOwnProperty(e)?d_(l_[e]):e==="transparent"?new Xt(NaN,NaN,NaN,0):null}function d_(e){return new Xt(e>>16&255,e>>8&255,e&255,1)}function pu(e,t,r,n){return n<=0&&(e=t=r=NaN),new Xt(e,t,r,n)}function E7(e){return e instanceof wc||(e=Jl(e)),e?(e=e.rgb(),new Xt(e.r,e.g,e.b,e.opacity)):new Xt}function ng(e,t,r,n){return arguments.length===1?E7(e):new Xt(e,t,r,n??1)}function Xt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}$v(Xt,ng,RO(wc,{brighter(e){return e=e==null?Id:Math.pow(Id,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Xt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Xt(xi(this.r),xi(this.g),xi(this.b),Bd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:f_,formatHex:f_,formatHex8:O7,formatRgb:h_,toString:h_}));function f_(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}`}function O7(){return`#${ci(this.r)}${ci(this.g)}${ci(this.b)}${ci((isNaN(this.opacity)?1:this.opacity)*255)}`}function h_(){const e=Bd(this.opacity);return`${e===1?"rgb(":"rgba("}${xi(this.r)}, ${xi(this.g)}, ${xi(this.b)}${e===1?")":`, ${e})`}`}function Bd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ci(e){return e=xi(e),(e<16?"0":"")+e.toString(16)}function m_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function $O(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof wc||(e=Jl(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),a=NaN,l=i-s,c=(i+s)/2;return l?(t===i?a=(r-n)/l+(r<n)*6:r===i?a=(n-t)/l+2:a=(t-r)/l+4,l/=c<.5?i+s:2-i-s,a*=60):l=c>0&&c<1?0:a,new Kr(a,l,c,e.opacity)}function C7(e,t,r,n){return arguments.length===1?$O(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}$v(Kr,C7,RO(wc,{brighter(e){return e=e==null?Id:Math.pow(Id,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yl:Math.pow(Yl,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Xt(Wm(e>=240?e-240:e+120,s,n),Wm(e,s,n),Wm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Kr(p_(this.h),gu(this.s),gu(this.l),Bd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Bd(this.opacity);return`${e===1?"hsl(":"hsla("}${p_(this.h)}, ${gu(this.s)*100}%, ${gu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function p_(e){return e=(e||0)%360,e<0?e+360:e}function gu(e){return Math.max(0,Math.min(1,e||0))}function Wm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Lv=e=>()=>e;function T7(e,t){return function(r){return e+r*t}}function M7(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function D7(e){return(e=+e)==1?LO:function(t,r){return r-t?M7(t,r,e):Lv(isNaN(t)?r:t)}}function LO(e,t){var r=t-e;return r?T7(e,r):Lv(isNaN(e)?t:e)}const g_=function e(t){var r=D7(t);function n(s,i){var a=r((s=ng(s)).r,(i=ng(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=LO(s.opacity,i.opacity);return function(d){return s.r=a(d),s.g=l(d),s.b=c(d),s.opacity=u(d),s+""}}return n.gamma=e,n}(1);function R7(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function $7(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function L7(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),a;for(a=0;a<n;++a)s[a]=ho(e[a],t[a]);for(;a<r;++a)i[a]=t[a];return function(l){for(a=0;a<n;++a)i[a]=s[a](l);return i}}function I7(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Fd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function B7(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=ho(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var sg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vm=new RegExp(sg.source,"g");function F7(e){return function(){return e}}function z7(e){return function(t){return e(t)+""}}function U7(e,t){var r=sg.lastIndex=Vm.lastIndex=0,n,s,i,a=-1,l=[],c=[];for(e=e+"",t=t+"";(n=sg.exec(e))&&(s=Vm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[a]?l[a]+=i:l[++a]=i),(n=n[0])===(s=s[0])?l[a]?l[a]+=s:l[++a]=s:(l[++a]=null,c.push({i:a,x:Fd(n,s)})),r=Vm.lastIndex;return r<t.length&&(i=t.slice(r),l[a]?l[a]+=i:l[++a]=i),l.length<2?c[0]?z7(c[0].x):F7(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ho(e,t){var r=typeof t,n;return t==null||r==="boolean"?Lv(t):(r==="number"?Fd:r==="string"?(n=Jl(t))?(t=n,g_):U7:t instanceof Jl?g_:t instanceof Date?I7:$7(t)?R7:Array.isArray(t)?L7:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?B7:Fd)(e,t)}function Iv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function W7(e,t){t===void 0&&(t=e,e=ho);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(a){var l=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return i[l](a-l)}}function V7(e){return function(){return e}}function zd(e){return+e}var y_=[0,1];function Rt(e){return e}function ig(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:V7(isNaN(t)?NaN:.5)}function K7(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function q7(e,t,r){var n=e[0],s=e[1],i=t[0],a=t[1];return s<n?(n=ig(s,n),i=r(a,i)):(n=ig(n,s),i=r(i,a)),function(l){return i(n(l))}}function H7(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),a=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<n;)s[a]=ig(e[a],e[a+1]),i[a]=r(t[a],t[a+1]);return function(l){var c=bc(e,l,1,n)-1;return i[c](s[c](l))}}function jc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function dh(){var e=y_,t=y_,r=ho,n,s,i,a=Rt,l,c,u;function d(){var h=Math.min(e.length,t.length);return a!==Rt&&(a=K7(e[0],e[h-1])),l=h>2?H7:q7,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(a(h)))}return f.invert=function(h){return a(s((u||(u=l(t,e.map(n),Fd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,zd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Iv,d()},f.clamp=function(h){return arguments.length?(a=h?!0:Rt,d()):a!==Rt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,s=m,d()}}function Bv(){return dh()(Rt,Rt)}function G7(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ud(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Va(e){return e=Ud(Math.abs(e)),e?e[1]:NaN}function Y7(e,t){return function(r,n){for(var s=r.length,i=[],a=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[a=(a+1)%e.length];return i.reverse().join(t)}}function X7(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var J7=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ql(e){if(!(t=J7.exec(e)))throw new Error("invalid format: "+e);var t;return new Fv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ql.prototype=Fv.prototype;function Fv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Fv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Q7(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var IO;function Z7(e,t){var r=Ud(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(IO=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,a=n.length;return i===a?n:i>a?n+new Array(i-a+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Ud(e,Math.max(0,t+i-1))[0]}function v_(e,t){var r=Ud(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const x_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:G7,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>v_(e*100,t),r:v_,s:Z7,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function b_(e){return e}var w_=Array.prototype.map,j_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function eW(e){var t=e.grouping===void 0||e.thousands===void 0?b_:Y7(w_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?b_:X7(w_.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f){f=Ql(f);var h=f.fill,m=f.align,p=f.sign,x=f.symbol,w=f.zero,g=f.width,v=f.comma,b=f.precision,_=f.trim,j=f.type;j==="n"?(v=!0,j="g"):x_[j]||(b===void 0&&(b=12),_=!0,j="g"),(w||h==="0"&&m==="=")&&(w=!0,h="0",m="=");var N=x==="$"?r:x==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",k=x==="$"?n:/[%p]/.test(j)?a:"",P=x_[j],E=/[defgprs%]/.test(j);b=b===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function T(O){var U=N,I=k,H,B,K;if(j==="c")I=P(O)+I,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?c:P(Math.abs(O),b),_&&(O=Q7(O)),F&&+O==0&&p!=="+"&&(F=!1),U=(F?p==="("?p:l:p==="-"||p==="("?"":p)+U,I=(j==="s"?j_[8+IO/3]:"")+I+(F&&p==="("?")":""),E){for(H=-1,B=O.length;++H<B;)if(K=O.charCodeAt(H),48>K||K>57){I=(K===46?s+O.slice(H+1):O.slice(H))+I,O=O.slice(0,H);break}}}v&&!w&&(O=t(O,1/0));var A=U.length+O.length+I.length,S=A<g?new Array(g-A+1).join(h):"";switch(v&&w&&(O=t(S+O,S.length?g-I.length:1/0),S=""),m){case"<":O=U+O+I+S;break;case"=":O=U+S+O+I;break;case"^":O=S.slice(0,A=S.length>>1)+U+O+I+S.slice(A);break;default:O=S+U+O+I;break}return i(O)}return T.toString=function(){return f+""},T}function d(f,h){var m=u((f=Ql(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Va(h)/3)))*3,x=Math.pow(10,-p),w=j_[8+p/3];return function(g){return m(x*g)+w}}return{format:u,formatPrefix:d}}var yu,zv,BO;tW({thousands:",",grouping:[3],currency:["$",""]});function tW(e){return yu=eW(e),zv=yu.format,BO=yu.formatPrefix,yu}function rW(e){return Math.max(0,-Va(Math.abs(e)))}function nW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Va(t)/3)))*3-Va(Math.abs(e)))}function sW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Va(t)-Va(e))+1}function FO(e,t,r,n){var s=tg(e,t,r),i;switch(n=Ql(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=nW(s,a))&&(n.precision=i),BO(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=sW(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=rW(s))&&(n.precision=i-(n.type==="%")*2);break}}return zv(n)}function Bs(e){var t=e.domain;return e.ticks=function(r){var n=t();return Z0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return FO(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,a=n[s],l=n[i],c,u,d=10;for(l<a&&(u=a,a=l,l=u,u=s,s=i,i=u);d-- >0;){if(u=eg(a,l,r),u===c)return n[s]=a,n[i]=l,t(n);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function zO(){var e=Bv();return e.copy=function(){return jc(e,zO())},$r.apply(e,arguments),Bs(e)}function UO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,zd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UO(e).unknown(t)},e=arguments.length?Array.from(e,zd):[0,1],Bs(r)}function WO(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],a;return i<s&&(a=r,r=n,n=a,a=s,s=i,i=a),e[r]=t.floor(s),e[n]=t.ceil(i),e}function __(e){return Math.log(e)}function N_(e){return Math.exp(e)}function iW(e){return-Math.log(-e)}function aW(e){return-Math.exp(-e)}function oW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function lW(e){return e===10?oW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function cW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function S_(e){return(t,r)=>-e(-t,r)}function Uv(e){const t=e(__,N_),r=t.domain;let n=10,s,i;function a(){return s=cW(n),i=lW(n),r()[0]<0?(s=S_(s),i=S_(i),e(iW,aW)):e(__,N_),t}return t.base=function(l){return arguments.length?(n=+l,a()):n},t.domain=function(l){return arguments.length?(r(l),a()):r()},t.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=s(u),m=s(d),p,x;const w=l==null?10:+l;let g=[];if(!(n%1)&&m-h<w){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<n;++p)if(x=h<0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;g.push(x)}}else for(;h<=m;++h)for(p=n-1;p>=1;--p)if(x=h>0?p/i(-h):p*i(h),!(x<u)){if(x>d)break;g.push(x)}g.length*2<w&&(g=Z0(u,d,w))}else g=Z0(h,m,Math.min(m-h,w)).map(i);return f?g.reverse():g},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ql(c)).precision==null&&(c.trim=!0),c=zv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(s(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(WO(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function VO(){const e=Uv(dh()).domain([1,10]);return e.copy=()=>jc(e,VO()).base(e.base()),$r.apply(e,arguments),e}function P_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function k_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Wv(e){var t=1,r=e(P_(t),k_(t));return r.constant=function(n){return arguments.length?e(P_(t=+n),k_(t)):t},Bs(r)}function KO(){var e=Wv(dh());return e.copy=function(){return jc(e,KO()).constant(e.constant())},$r.apply(e,arguments)}function A_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function uW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function dW(e){return e<0?-e*e:e*e}function Vv(e){var t=e(Rt,Rt),r=1;function n(){return r===1?e(Rt,Rt):r===.5?e(uW,dW):e(A_(r),A_(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Bs(t)}function Kv(){var e=Vv(dh());return e.copy=function(){return jc(e,Kv()).exponent(e.exponent())},$r.apply(e,arguments),e}function fW(){return Kv.apply(null,arguments).exponent(.5)}function E_(e){return Math.sign(e)*e*e}function hW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function qO(){var e=Bv(),t=[0,1],r=!1,n;function s(i){var a=hW(e(i));return isNaN(a)?n:r?Math.round(a):a}return s.invert=function(i){return e.invert(E_(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,zd)).map(E_)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return qO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},$r.apply(s,arguments),Bs(s)}function HO(){var e=[],t=[],r=[],n;function s(){var a=0,l=Math.max(1,t.length);for(r=new Array(l-1);++a<l;)r[a-1]=y7(e,a/l);return i}function i(a){return a==null||isNaN(a=+a)?n:t[bc(r,a)]}return i.invertExtent=function(a){var l=t.indexOf(a);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let l of a)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ns),s()},i.range=function(a){return arguments.length?(t=Array.from(a),s()):t.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return HO().domain(e).range(t).unknown(n)},$r.apply(i,arguments)}function GO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function a(c){return c!=null&&c<=c?s[bc(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return a}return a.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},a.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},a.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},a.unknown=function(c){return arguments.length&&(i=c),a},a.thresholds=function(){return n.slice()},a.copy=function(){return GO().domain([e,t]).range(s).unknown(i)},$r.apply(Bs(a),arguments)}function YO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[bc(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var a=t.indexOf(i);return[e[a-1],e[a]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return YO().domain(e).range(t).unknown(r)},$r.apply(s,arguments)}const Km=new Date,qm=new Date;function it(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const a=s(i),l=s.ceil(i);return i-a<l-i?a:l},s.offset=(i,a)=>(t(i=new Date(+i),a==null?1:Math.floor(a)),i),s.range=(i,a,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<a)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<a);return c},s.filter=i=>it(a=>{if(a>=a)for(;e(a),!i(a);)a.setTime(a-1)},(a,l)=>{if(a>=a)if(l<0)for(;++l<=0;)for(;t(a,-1),!i(a););else for(;--l>=0;)for(;t(a,1),!i(a););}),r&&(s.count=(i,a)=>(Km.setTime(+i),qm.setTime(+a),e(Km),e(qm),Math.floor(r(Km,qm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?a=>n(a)%i===0:a=>s.count(0,a)%i===0):s)),s}const Wd=it(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Wd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?it(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Wd);Wd.range;const kn=1e3,Pr=kn*60,An=Pr*60,Bn=An*24,qv=Bn*7,O_=Bn*30,Hm=Bn*365,ui=it(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*kn)},(e,t)=>(t-e)/kn,e=>e.getUTCSeconds());ui.range;const Hv=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn)},(e,t)=>{e.setTime(+e+t*Pr)},(e,t)=>(t-e)/Pr,e=>e.getMinutes());Hv.range;const Gv=it(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Pr)},(e,t)=>(t-e)/Pr,e=>e.getUTCMinutes());Gv.range;const Yv=it(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*kn-e.getMinutes()*Pr)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getHours());Yv.range;const Xv=it(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCHours());Xv.range;const _c=it(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Pr)/Bn,e=>e.getDate()-1);_c.range;const fh=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bn,e=>e.getUTCDate()-1);fh.range;const XO=it(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Bn,e=>Math.floor(e/Bn));XO.range;function Di(e){return it(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Pr)/qv)}const hh=Di(0),Vd=Di(1),mW=Di(2),pW=Di(3),Ka=Di(4),gW=Di(5),yW=Di(6);hh.range;Vd.range;mW.range;pW.range;Ka.range;gW.range;yW.range;function Ri(e){return it(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/qv)}const mh=Ri(0),Kd=Ri(1),vW=Ri(2),xW=Ri(3),qa=Ri(4),bW=Ri(5),wW=Ri(6);mh.range;Kd.range;vW.range;xW.range;qa.range;bW.range;wW.range;const Jv=it(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Jv.range;const Qv=it(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Qv.range;const Fn=it(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fn.range;const zn=it(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());zn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:it(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});zn.range;function JO(e,t,r,n,s,i){const a=[[ui,1,kn],[ui,5,5*kn],[ui,15,15*kn],[ui,30,30*kn],[i,1,Pr],[i,5,5*Pr],[i,15,15*Pr],[i,30,30*Pr],[s,1,An],[s,3,3*An],[s,6,6*An],[s,12,12*An],[n,1,Bn],[n,2,2*Bn],[r,1,qv],[t,1,O_],[t,3,3*O_],[e,1,Hm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=Mv(([,,w])=>w).right(a,h);if(m===a.length)return e.every(tg(u/Hm,d/Hm,f));if(m===0)return Wd.every(Math.max(tg(u,d,f),1));const[p,x]=a[h/a[m-1][2]<a[m][2]/h?m-1:m];return p.every(x)}return[l,c]}const[jW,_W]=JO(zn,Qv,mh,XO,Xv,Gv),[NW,SW]=JO(Fn,Jv,hh,_c,Yv,Hv);function Gm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ym(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Uo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function PW(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,a=e.shortDays,l=e.months,c=e.shortMonths,u=Wo(s),d=Vo(s),f=Wo(i),h=Vo(i),m=Wo(a),p=Vo(a),x=Wo(l),w=Vo(l),g=Wo(c),v=Vo(c),b={a:F,A,b:S,B:L,c:null,d:$_,e:$_,f:YW,g:iV,G:oV,H:qW,I:HW,j:GW,L:QO,m:XW,M:JW,p:V,q:R,Q:B_,s:F_,S:QW,u:ZW,U:eV,V:tV,w:rV,W:nV,x:null,X:null,y:sV,Y:aV,Z:lV,"%":I_},_={a:X,A:ce,b:J,B:ae,c:null,d:L_,e:L_,f:fV,g:jV,G:NV,H:cV,I:uV,j:dV,L:eC,m:hV,M:mV,p:$,q,Q:B_,s:F_,S:pV,u:gV,U:yV,V:vV,w:xV,W:bV,x:null,X:null,y:wV,Y:_V,Z:SV,"%":I_},j={a:T,A:O,b:U,B:I,c:H,d:D_,e:D_,f:UW,g:M_,G:T_,H:R_,I:R_,j:IW,L:zW,m:LW,M:BW,p:E,q:$W,Q:VW,s:KW,S:FW,u:CW,U:TW,V:MW,w:OW,W:DW,x:B,X:K,y:M_,Y:T_,Z:RW,"%":WW};b.x=N(r,b),b.X=N(n,b),b.c=N(t,b),_.x=N(r,_),_.X=N(n,_),_.c=N(t,_);function N(D,G){return function(C){var M=[],W=-1,Q=0,se=D.length,ie,ge,me;for(C instanceof Date||(C=new Date(+C));++W<se;)D.charCodeAt(W)===37&&(M.push(D.slice(Q,W)),(ge=C_[ie=D.charAt(++W)])!=null?ie=D.charAt(++W):ge=ie==="e"?" ":"0",(me=G[ie])&&(ie=me(C,ge)),M.push(ie),Q=W+1);return M.push(D.slice(Q,W)),M.join("")}}function k(D,G){return function(C){var M=Uo(1900,void 0,1),W=P(M,D,C+="",0),Q,se;if(W!=C.length)return null;if("Q"in M)return new Date(M.Q);if("s"in M)return new Date(M.s*1e3+("L"in M?M.L:0));if(G&&!("Z"in M)&&(M.Z=0),"p"in M&&(M.H=M.H%12+M.p*12),M.m===void 0&&(M.m="q"in M?M.q:0),"V"in M){if(M.V<1||M.V>53)return null;"w"in M||(M.w=1),"Z"in M?(Q=Ym(Uo(M.y,0,1)),se=Q.getUTCDay(),Q=se>4||se===0?Kd.ceil(Q):Kd(Q),Q=fh.offset(Q,(M.V-1)*7),M.y=Q.getUTCFullYear(),M.m=Q.getUTCMonth(),M.d=Q.getUTCDate()+(M.w+6)%7):(Q=Gm(Uo(M.y,0,1)),se=Q.getDay(),Q=se>4||se===0?Vd.ceil(Q):Vd(Q),Q=_c.offset(Q,(M.V-1)*7),M.y=Q.getFullYear(),M.m=Q.getMonth(),M.d=Q.getDate()+(M.w+6)%7)}else("W"in M||"U"in M)&&("w"in M||(M.w="u"in M?M.u%7:"W"in M?1:0),se="Z"in M?Ym(Uo(M.y,0,1)).getUTCDay():Gm(Uo(M.y,0,1)).getDay(),M.m=0,M.d="W"in M?(M.w+6)%7+M.W*7-(se+5)%7:M.w+M.U*7-(se+6)%7);return"Z"in M?(M.H+=M.Z/100|0,M.M+=M.Z%100,Ym(M)):Gm(M)}}function P(D,G,C,M){for(var W=0,Q=G.length,se=C.length,ie,ge;W<Q;){if(M>=se)return-1;if(ie=G.charCodeAt(W++),ie===37){if(ie=G.charAt(W++),ge=j[ie in C_?G.charAt(W++):ie],!ge||(M=ge(D,C,M))<0)return-1}else if(ie!=C.charCodeAt(M++))return-1}return M}function E(D,G,C){var M=u.exec(G.slice(C));return M?(D.p=d.get(M[0].toLowerCase()),C+M[0].length):-1}function T(D,G,C){var M=m.exec(G.slice(C));return M?(D.w=p.get(M[0].toLowerCase()),C+M[0].length):-1}function O(D,G,C){var M=f.exec(G.slice(C));return M?(D.w=h.get(M[0].toLowerCase()),C+M[0].length):-1}function U(D,G,C){var M=g.exec(G.slice(C));return M?(D.m=v.get(M[0].toLowerCase()),C+M[0].length):-1}function I(D,G,C){var M=x.exec(G.slice(C));return M?(D.m=w.get(M[0].toLowerCase()),C+M[0].length):-1}function H(D,G,C){return P(D,t,G,C)}function B(D,G,C){return P(D,r,G,C)}function K(D,G,C){return P(D,n,G,C)}function F(D){return a[D.getDay()]}function A(D){return i[D.getDay()]}function S(D){return c[D.getMonth()]}function L(D){return l[D.getMonth()]}function V(D){return s[+(D.getHours()>=12)]}function R(D){return 1+~~(D.getMonth()/3)}function X(D){return a[D.getUTCDay()]}function ce(D){return i[D.getUTCDay()]}function J(D){return c[D.getUTCMonth()]}function ae(D){return l[D.getUTCMonth()]}function $(D){return s[+(D.getUTCHours()>=12)]}function q(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var G=N(D+="",b);return G.toString=function(){return D},G},parse:function(D){var G=k(D+="",!1);return G.toString=function(){return D},G},utcFormat:function(D){var G=N(D+="",_);return G.toString=function(){return D},G},utcParse:function(D){var G=k(D+="",!0);return G.toString=function(){return D},G}}}var C_={"-":"",_:" ",0:"0"},mt=/^\s*\d+/,kW=/^%/,AW=/[\\^$*+?|[\]().{}]/g;function xe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function EW(e){return e.replace(AW,"\\$&")}function Wo(e){return new RegExp("^(?:"+e.map(EW).join("|")+")","i")}function Vo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function OW(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function CW(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function TW(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function MW(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function DW(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function T_(e,t,r){var n=mt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function M_(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function RW(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $W(e,t,r){var n=mt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function LW(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function D_(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function IW(e,t,r){var n=mt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R_(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function BW(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function FW(e,t,r){var n=mt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function zW(e,t,r){var n=mt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function UW(e,t,r){var n=mt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function WW(e,t,r){var n=kW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function VW(e,t,r){var n=mt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function KW(e,t,r){var n=mt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function $_(e,t){return xe(e.getDate(),t,2)}function qW(e,t){return xe(e.getHours(),t,2)}function HW(e,t){return xe(e.getHours()%12||12,t,2)}function GW(e,t){return xe(1+_c.count(Fn(e),e),t,3)}function QO(e,t){return xe(e.getMilliseconds(),t,3)}function YW(e,t){return QO(e,t)+"000"}function XW(e,t){return xe(e.getMonth()+1,t,2)}function JW(e,t){return xe(e.getMinutes(),t,2)}function QW(e,t){return xe(e.getSeconds(),t,2)}function ZW(e){var t=e.getDay();return t===0?7:t}function eV(e,t){return xe(hh.count(Fn(e)-1,e),t,2)}function ZO(e){var t=e.getDay();return t>=4||t===0?Ka(e):Ka.ceil(e)}function tV(e,t){return e=ZO(e),xe(Ka.count(Fn(e),e)+(Fn(e).getDay()===4),t,2)}function rV(e){return e.getDay()}function nV(e,t){return xe(Vd.count(Fn(e)-1,e),t,2)}function sV(e,t){return xe(e.getFullYear()%100,t,2)}function iV(e,t){return e=ZO(e),xe(e.getFullYear()%100,t,2)}function aV(e,t){return xe(e.getFullYear()%1e4,t,4)}function oV(e,t){var r=e.getDay();return e=r>=4||r===0?Ka(e):Ka.ceil(e),xe(e.getFullYear()%1e4,t,4)}function lV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+xe(t/60|0,"0",2)+xe(t%60,"0",2)}function L_(e,t){return xe(e.getUTCDate(),t,2)}function cV(e,t){return xe(e.getUTCHours(),t,2)}function uV(e,t){return xe(e.getUTCHours()%12||12,t,2)}function dV(e,t){return xe(1+fh.count(zn(e),e),t,3)}function eC(e,t){return xe(e.getUTCMilliseconds(),t,3)}function fV(e,t){return eC(e,t)+"000"}function hV(e,t){return xe(e.getUTCMonth()+1,t,2)}function mV(e,t){return xe(e.getUTCMinutes(),t,2)}function pV(e,t){return xe(e.getUTCSeconds(),t,2)}function gV(e){var t=e.getUTCDay();return t===0?7:t}function yV(e,t){return xe(mh.count(zn(e)-1,e),t,2)}function tC(e){var t=e.getUTCDay();return t>=4||t===0?qa(e):qa.ceil(e)}function vV(e,t){return e=tC(e),xe(qa.count(zn(e),e)+(zn(e).getUTCDay()===4),t,2)}function xV(e){return e.getUTCDay()}function bV(e,t){return xe(Kd.count(zn(e)-1,e),t,2)}function wV(e,t){return xe(e.getUTCFullYear()%100,t,2)}function jV(e,t){return e=tC(e),xe(e.getUTCFullYear()%100,t,2)}function _V(e,t){return xe(e.getUTCFullYear()%1e4,t,4)}function NV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?qa(e):qa.ceil(e),xe(e.getUTCFullYear()%1e4,t,4)}function SV(){return"+0000"}function I_(){return"%"}function B_(e){return+e}function F_(e){return Math.floor(+e/1e3)}var Ki,rC,nC;PV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PV(e){return Ki=PW(e),rC=Ki.format,Ki.parse,nC=Ki.utcFormat,Ki.utcParse,Ki}function kV(e){return new Date(e)}function AV(e){return e instanceof Date?+e:+new Date(+e)}function Zv(e,t,r,n,s,i,a,l,c,u){var d=Bv(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),w=u("%I %p"),g=u("%a %d"),v=u("%b %d"),b=u("%B"),_=u("%Y");function j(N){return(c(N)<N?m:l(N)<N?p:a(N)<N?x:i(N)<N?w:n(N)<N?s(N)<N?g:v:r(N)<N?b:_)(N)}return d.invert=function(N){return new Date(f(N))},d.domain=function(N){return arguments.length?h(Array.from(N,AV)):h().map(kV)},d.ticks=function(N){var k=h();return e(k[0],k[k.length-1],N??10)},d.tickFormat=function(N,k){return k==null?j:u(k)},d.nice=function(N){var k=h();return(!N||typeof N.range!="function")&&(N=t(k[0],k[k.length-1],N??10)),N?h(WO(k,N)):d},d.copy=function(){return jc(d,Zv(e,t,r,n,s,i,a,l,c,u))},d}function EV(){return $r.apply(Zv(NW,SW,Fn,Jv,hh,_c,Yv,Hv,ui,rC).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function OV(){return $r.apply(Zv(jW,_W,zn,Qv,mh,fh,Xv,Gv,ui,nC).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ph(){var e=0,t=1,r,n,s,i,a=Rt,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:a(s===0?.5:(f=(i(f)-r)*s,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,a=f(m,p),u):[a(0),a(1)]}}return u.range=d(ho),u.rangeRound=d(Iv),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),s=r===n?0:1/(n-r),u}}function Fs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sC(){var e=Bs(ph()(Rt));return e.copy=function(){return Fs(e,sC())},Gn.apply(e,arguments)}function iC(){var e=Uv(ph()).domain([1,10]);return e.copy=function(){return Fs(e,iC()).base(e.base())},Gn.apply(e,arguments)}function aC(){var e=Wv(ph());return e.copy=function(){return Fs(e,aC()).constant(e.constant())},Gn.apply(e,arguments)}function ex(){var e=Vv(ph());return e.copy=function(){return Fs(e,ex()).exponent(e.exponent())},Gn.apply(e,arguments)}function CV(){return ex.apply(null,arguments).exponent(.5)}function oC(){var e=[],t=Rt;function r(n){if(n!=null&&!isNaN(n=+n))return t((bc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ns),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>g7(e,i/n))},r.copy=function(){return oC(t).domain(e)},Gn.apply(r,arguments)}function gh(){var e=0,t=.5,r=1,n=1,s,i,a,l,c,u=Rt,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?l:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,s=d(e=+e),i=d(t=+t),a=d(r=+r),l=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(w){var g,v,b;return arguments.length?([g,v,b]=w,u=W7(x,[g,v,b]),m):[u(0),u(.5),u(1)]}}return m.range=p(ho),m.rangeRound=p(Iv),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,s=x(e),i=x(t),a=x(r),l=s===i?0:.5/(i-s),c=i===a?0:.5/(a-i),n=i<s?-1:1,m}}function lC(){var e=Bs(gh()(Rt));return e.copy=function(){return Fs(e,lC())},Gn.apply(e,arguments)}function cC(){var e=Uv(gh()).domain([.1,1,10]);return e.copy=function(){return Fs(e,cC()).base(e.base())},Gn.apply(e,arguments)}function uC(){var e=Wv(gh());return e.copy=function(){return Fs(e,uC()).constant(e.constant())},Gn.apply(e,arguments)}function tx(){var e=Vv(gh());return e.copy=function(){return Fs(e,tx()).exponent(e.exponent())},Gn.apply(e,arguments)}function TV(){return tx.apply(null,arguments).exponent(.5)}const el=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Rv,scaleDiverging:lC,scaleDivergingLog:cC,scaleDivergingPow:tx,scaleDivergingSqrt:TV,scaleDivergingSymlog:uC,scaleIdentity:UO,scaleImplicit:rg,scaleLinear:zO,scaleLog:VO,scaleOrdinal:Dv,scalePoint:x7,scalePow:Kv,scaleQuantile:HO,scaleQuantize:GO,scaleRadial:qO,scaleSequential:sC,scaleSequentialLog:iC,scaleSequentialPow:ex,scaleSequentialQuantile:oC,scaleSequentialSqrt:CV,scaleSequentialSymlog:aC,scaleSqrt:fW,scaleSymlog:KO,scaleThreshold:YO,scaleTime:EV,scaleUtc:OV,tickFormat:FO},Symbol.toStringTag,{value:"Module"}));var zs=e=>e.chartData,yh=z([zs],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),rx=(e,t,r,n)=>n?yh(e):zs(e);function Ha(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(hr(t)&&hr(r))return!0}return!1}function z_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function MV(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,i;if(hr(r))s=r;else if(typeof r=="function")return;if(hr(n))i=n;else if(typeof n=="function")return;var a=[s,i];if(Ha(a))return a}}function DV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ha(n))return z_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,i]=e,a,l;if(s==="auto")t!=null&&(a=Math.min(...t));else if(te(s))a=s;else if(typeof s=="function")try{t!=null&&(a=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&Bj.test(s)){var c=Bj.exec(s);if(c==null||t==null)a=void 0;else{var u=+c[1];a=t[0]-u}}else a=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(te(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Fj.test(i)){var d=Fj.exec(i);if(d==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[a,l];if(Ha(h))return t==null?h:z_(h,t,r)}}}var mo=1e9,RV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},sx,$e=!0,Tr="[DecimalError] ",bi=Tr+"Invalid argument: ",nx=Tr+"Exponent out of range: ",po=Math.floor,ei=Math.pow,$V=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ir,ut=1e7,Me=7,dC=9007199254740991,qd=po(dC/Me),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Me;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return Cn(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return Se(Cn(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return Ze(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(ir))throw Error(Tr+"NaN");if(r.s<1)throw Error(Tr+(r.s?"NaN":"-Infinity"));return r.eq(ir)?new n(0):($e=!1,t=Cn(Zl(r,i),Zl(e,i),i),$e=!0,Se(t,s))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mC(t,e):fC(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Tr+"NaN");return r.s?($e=!1,t=Cn(r,e,0,1).times(e),$e=!0,r.minus(t)):Se(new n(r),s)};ne.naturalExponential=ne.exp=function(){return hC(this)};ne.naturalLogarithm=ne.ln=function(){return Zl(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fC(t,e):mC(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=Ze(s)+1,n=s.d.length-1,r=n*Me+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,s,i,a,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Tr+"NaN")}for(e=Ze(l),$e=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=nn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=po((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=a=r+3;;)if(i=n,n=i.plus(Cn(l,i,a+2)).times(.5),nn(i.d).slice(0,a)===(t=nn(n.d)).slice(0,a)){if(t=t.slice(a-3,a+1),s==a&&t=="4999"){if(Se(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;a+=4}return $e=!0,Se(n,r)};ne.times=ne.mul=function(e){var t,r,n,s,i,a,l,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,a=c,c=u,u=a),i=[],a=c+u,n=a;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+m[n]*h[s-n-1]+t,i[s--]=l%ut|0,t=l/ut|0;i[s]=(i[s]+t)%ut|0}for(;!i[--a];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,$e?Se(e,f.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(yn(e,0,mo),t===void 0?t=n.rounding:yn(t,0,8),Se(r,e+Ze(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ai(n,!0):(yn(e,0,mo),t===void 0?t=s.rounding:yn(t,0,8),n=Se(new s(n),e+1,t),r=Ai(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ai(s):(yn(e,0,mo),t===void 0?t=i.rounding:yn(t,0,8),n=Se(new i(s),e+Ze(s)+1,t),r=Ai(n.abs(),!1,e+Ze(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Se(new t(e),Ze(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,s,i,a,l=this,c=l.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(ir);if(l=new c(l),!l.s){if(e.s<1)throw Error(Tr+"Infinity");return l}if(l.eq(ir))return l;if(n=c.precision,e.eq(ir))return Se(l,n);if(t=e.e,r=e.d.length-1,a=t>=r,i=l.s,a){if((r=d<0?-d:d)<=dC){for(s=new c(ir),t=Math.ceil(n/Me+4),$e=!1;r%2&&(s=s.times(l),W_(s.d,t)),r=po(r/2),r!==0;)l=l.times(l),W_(l.d,t);return $e=!0,e.s<0?new c(ir).div(s):Se(s,n)}}else if(i<0)throw Error(Tr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,$e=!1,s=e.times(Zl(l,n+u)),$e=!0,s=hC(s),s.s=i,s};ne.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=Ze(s),n=Ai(s,r<=i.toExpNeg||r>=i.toExpPos)):(yn(e,1,mo),t===void 0?t=i.rounding:yn(t,0,8),s=Se(new i(s),e,t),r=Ze(s),n=Ai(s,e<=r||r<=i.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(yn(e,1,mo),t===void 0?t=n.rounding:yn(t,0,8)),Se(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ze(e),r=e.constructor;return Ai(e,t<=r.toExpNeg||t>=r.toExpPos)};function fC(e,t){var r,n,s,i,a,l,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),$e?Se(t,f):t;if(c=e.d,u=t.d,a=e.e,s=t.e,c=c.slice(),i=a-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=a,l=c.length),a=Math.ceil(f/Me),l=a>l?a+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/ut|0,c[i]%=ut;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,$e?Se(t,f):t}function yn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bi+e)}function nn(e){var t,r,n,s=e.length-1,i="",a=e[0];if(s>0){for(i+=a,t=1;t<s;t++)n=e[t]+"",r=Me-n.length,r&&(i+=os(r)),i+=n;a=e[t],n=a+"",r=Me-n.length,r&&(i+=os(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return i+a}var Cn=function(){function e(n,s){var i,a=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+a,n[l]=i%ut|0,a=i/ut|0;return a&&n.unshift(a),n}function t(n,s,i,a){var l,c;if(i!=a)c=i>a?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var a=0;i--;)n[i]-=a,a=n[i]<s[i]?1:0,n[i]=a*ut+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,a){var l,c,u,d,f,h,m,p,x,w,g,v,b,_,j,N,k,P,E=n.constructor,T=n.s==s.s?1:-1,O=n.d,U=s.d;if(!n.s)return new E(n);if(!s.s)throw Error(Tr+"Division by zero");for(c=n.e-s.e,k=U.length,j=O.length,m=new E(T),p=m.d=[],u=0;U[u]==(O[u]||0);)++u;if(U[u]>(O[u]||0)&&--c,i==null?v=i=E.precision:a?v=i+(Ze(n)-Ze(s))+1:v=i,v<0)return new E(0);if(v=v/Me+2|0,u=0,k==1)for(d=0,U=U[0],v++;(u<j||d)&&v--;u++)b=d*ut+(O[u]||0),p[u]=b/U|0,d=b%U|0;else{for(d=ut/(U[0]+1)|0,d>1&&(U=e(U,d),O=e(O,d),k=U.length,j=O.length),_=k,x=O.slice(0,k),w=x.length;w<k;)x[w++]=0;P=U.slice(),P.unshift(0),N=U[0],U[1]>=ut/2&&++N;do d=0,l=t(U,x,k,w),l<0?(g=x[0],k!=w&&(g=g*ut+(x[1]||0)),d=g/N|0,d>1?(d>=ut&&(d=ut-1),f=e(U,d),h=f.length,w=x.length,l=t(f,x,h,w),l==1&&(d--,r(f,k<h?P:U,h))):(d==0&&(l=d=1),f=U.slice()),h=f.length,h<w&&f.unshift(0),r(x,f,w),l==-1&&(w=x.length,l=t(U,x,k,w),l<1&&(d++,r(x,k<w?P:U,w))),w=x.length):l===0&&(d++,x=[0]),p[u++]=d,l&&x[0]?x[w++]=O[_]||0:(x=[O[_]],w=1);while((_++<j||x[0]!==void 0)&&v--)}return p[0]||p.shift(),m.e=c,Se(m,a?i+Ze(m)+1:i)}}();function hC(e,t){var r,n,s,i,a,l,c=0,u=0,d=e.constructor,f=d.precision;if(Ze(e)>16)throw Error(nx+Ze(e));if(!e.s)return new d(ir);for(t==null?($e=!1,l=f):l=t,a=new d(.03125);e.abs().gte(.1);)e=e.times(a),u+=5;for(n=Math.log(ei(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new d(ir),d.precision=l;;){if(s=Se(s.times(e),l),r=r.times(++c),a=i.plus(Cn(s,r,l)),nn(a.d).slice(0,l)===nn(i.d).slice(0,l)){for(;u--;)i=Se(i.times(i),l);return d.precision=f,t==null?($e=!0,Se(i,f)):i}i=a}}function Ze(e){for(var t=e.e*Me,r=e.d[0];r>=10;r/=10)t++;return t}function Xm(e,t,r){if(t>e.LN10.sd())throw $e=!0,r&&(e.precision=r),Error(Tr+"LN10 precision limit exceeded");return Se(new e(e.LN10),t)}function os(e){for(var t="";e--;)t+="0";return t}function Zl(e,t){var r,n,s,i,a,l,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,w=x.precision;if(m.s<1)throw Error(Tr+(m.s?"NaN":"-Infinity"));if(m.eq(ir))return new x(0);if(t==null?($e=!1,u=w):u=t,m.eq(10))return t==null&&($e=!0),Xm(x,u);if(u+=h,x.precision=u,r=nn(p),n=r.charAt(0),i=Ze(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=nn(m.d),n=r.charAt(0),f++;i=Ze(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=Xm(x,u+2,w).times(i+""),m=Zl(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=w,t==null?($e=!0,Se(m,w)):m;for(l=a=m=Cn(m.minus(ir),m.plus(ir),u),d=Se(m.times(m),u),s=3;;){if(a=Se(a.times(d),u),c=l.plus(Cn(a,new x(s),u)),nn(c.d).slice(0,u)===nn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Xm(x,u+2,w).times(i+""))),l=Cn(l,new x(f),u),x.precision=w,t==null?($e=!0,Se(l,w)):l;l=c,s+=2}}function U_(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=po(r/Me),e.d=[],n=(r+1)%Me,r<0&&(n+=Me),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Me;n<s;)e.d.push(+t.slice(n,n+=Me));t=t.slice(n),n=Me-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),$e&&(e.e>qd||e.e<-qd))throw Error(nx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Se(e,t,r){var n,s,i,a,l,c,u,d,f=e.d;for(a=1,i=f[0];i>=10;i/=10)a++;if(n=t-a,n<0)n+=Me,s=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Me),i=f.length,d>=i)return e;for(u=i=f[d],a=1;i>=10;i/=10)a++;n%=Me,s=n-Me+a}if(r!==void 0&&(i=ei(10,a-s-1),l=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ei(10,a-s):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=Ze(e),f.length=1,t=t-i-1,f[0]=ei(10,(Me-t%Me)%Me),e.e=po(-t/Me)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ei(10,Me-n),f[d]=s>0?(u/ei(10,a-s)%ei(10,s)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==ut&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ut)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if($e&&(e.e>qd||e.e<-qd))throw Error(nx+Ze(e));return e}function mC(e,t){var r,n,s,i,a,l,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),$e?Se(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),a=u-n,a){for(d=a<0,d?(r=c,a=-a,l=f.length):(r=f,n=u,l=c.length),s=Math.max(Math.ceil(m/Me),l)+2,a>s&&(a=s,r.length=1),r.reverse(),s=a;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=f.length,d=s<l,d&&(l=s),s=0;s<l;s++)if(c[s]!=f[s]){d=c[s]<f[s];break}a=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),l=c.length,s=f.length-l;s>0;--s)c[l++]=0;for(s=f.length;s>a;){if(c[--s]<f[s]){for(i=s;i&&c[--i]===0;)c[i]=ut-1;--c[i],c[s]+=ut}c[s]-=f[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,$e?Se(t,m):t):new h(0)}function Ai(e,t,r){var n,s=Ze(e),i=nn(e.d),a=i.length;return t?(r&&(n=r-a)>0?i=i.charAt(0)+"."+i.slice(1)+os(n):a>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+os(-s-1)+i,r&&(n=r-a)>0&&(i+=os(n))):s>=a?(i+=os(s+1-a),r&&(n=r-s-1)>0&&(i=i+"."+os(n))):((n=s+1)<a&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-a)>0&&(s+1===a&&(i+="."),i+=os(n))),e.s<0?"-"+i:i}function W_(e,t){if(e.length>t)return e.length=t,!0}function pC(e){var t,r,n;function s(i){var a=this;if(!(a instanceof s))return new s(i);if(a.constructor=s,i instanceof s){a.s=i.s,a.e=i.e,a.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bi+i);if(i>0)a.s=1;else if(i<0)i=-i,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(i===~~i&&i<1e7){a.e=0,a.d=[i];return}return U_(a,i.toString())}else if(typeof i!="string")throw Error(bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),a.s=-1):a.s=1,$V.test(i))U_(a,i);else throw Error(bi+i)}if(s.prototype=ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=pC,s.config=s.set=LV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function LV(e){if(!e||typeof e!="object")throw Error(Tr+"Object expected");var t,r,n,s=["precision",1,mo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(po(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bi+r+": "+n);return this}var sx=pC(RV);ir=new sx(1);const we=sx;var IV=e=>e,gC={"@@functional/placeholder":!0},yC=e=>e===gC,V_=e=>function t(){return arguments.length===0||arguments.length===1&&yC(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},vC=(e,t)=>e===1?t:V_(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var i=n.filter(a=>a!==gC).length;return i>=e?t(...n):vC(e-i,V_(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var u=n.map(d=>yC(d)?l.shift():d);return t(...u,...l)}))}),vh=e=>vC(e.length,e),ag=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},BV=vh((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),FV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return IV;var s=r.reverse(),i=s[0],a=s.slice(1);return function(){return a.reduce((l,c)=>c(l),i(...arguments))}},og=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),xC=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t&&s.every((a,l)=>{var c;return a===((c=t)===null||c===void 0?void 0:c[l])})||(t=s,r=e(...s)),r}};function bC(e){var t;return e===0?t=1:t=Math.floor(new we(e).abs().log(10).toNumber())+1,t}function wC(e,t,r){for(var n=new we(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}vh((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});vh((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});vh((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var jC=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},_C=(e,t,r)=>{if(e.lte(0))return new we(0);var n=bC(e.toNumber()),s=new we(10).pow(n),i=e.div(s),a=n!==1?.05:.1,l=new we(Math.ceil(i.div(a).toNumber())).add(r).mul(a),c=l.mul(s);return t?new we(c.toNumber()):new we(Math.ceil(c.toNumber()))},zV=(e,t,r)=>{var n=new we(1),s=new we(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new we(10).pow(bC(e)-1),s=new we(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new we(Math.floor(e)))}else e===0?s=new we(Math.floor((t-1)/2)):r||(s=new we(Math.floor(e)));var a=Math.floor((t-1)/2),l=FV(BV(c=>s.add(new we(c-a).mul(n)).toNumber()),ag);return l(0,t)},NC=function(t,r,n,s){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new we(0),tickMin:new we(0),tickMax:new we(0)};var a=_C(new we(r).sub(t).div(n-1),s,i),l;t<=0&&r>=0?l=new we(0):(l=new we(t).add(r).div(2),l=l.sub(new we(l).mod(a)));var c=Math.ceil(l.sub(t).div(a).toNumber()),u=Math.ceil(new we(r).sub(l).div(a).toNumber()),d=c+u+1;return d>n?NC(t,r,n,s,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:a,tickMin:l.sub(new we(c).mul(a)),tickMax:l.add(new we(u).mul(a))})};function UV(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Math.max(n,2),[a,l]=jC([t,r]);if(a===-1/0||l===1/0){var c=l===1/0?[a,...ag(0,n-1).map(()=>1/0)]:[...ag(0,n-1).map(()=>-1/0),l];return t>r?og(c):c}if(a===l)return zV(a,n,s);var{step:u,tickMin:d,tickMax:f}=NC(a,l,i,s,0),h=wC(d,f.add(new we(.1).mul(u)),u);return t>r?og(h):h}function WV(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[i,a]=jC([r,n]);if(i===-1/0||a===1/0)return[r,n];if(i===a)return[i];var l=Math.max(t,2),c=_C(new we(a).sub(i).div(l-1),s,0),u=[...wC(new we(i),new we(a),c),a];return s===!1&&(u=u.map(d=>Math.round(d))),r>n?og(u):u}var VV=xC(UV),KV=xC(WV),SC=e=>e.rootProps.maxBarSize,qV=e=>e.rootProps.barGap,PC=e=>e.rootProps.barCategoryGap,HV=e=>e.rootProps.barSize,Nc=e=>e.rootProps.stackOffset,ix=e=>e.options.chartName,ax=e=>e.rootProps.syncId,kC=e=>e.rootProps.syncMethod,ox=e=>e.options.eventEmitter,tn={allowDuplicatedCategory:!0,angleAxisId:0,axisLine:!0,cx:0,cy:0,orientation:"outer",reversed:!1,scale:"auto",tick:!0,tickLine:!0,tickSize:8,type:"category"},Vt={allowDataOverflow:!1,allowDuplicatedCategory:!0,angle:0,axisLine:!0,cx:0,cy:0,orientation:"right",radiusAxisId:0,scale:"auto",stroke:"#ccc",tick:!0,tickCount:5,type:"number"},xh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},GV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:tn.angleAxisId,includeHidden:!1,name:void 0,reversed:tn.reversed,scale:tn.scale,tick:tn.tick,tickCount:void 0,ticks:void 0,type:tn.type,unit:void 0},YV={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,ticks:void 0,type:Vt.type,unit:void 0},XV={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:tn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:tn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:tn.scale,tick:tn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},JV={allowDataOverflow:Vt.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vt.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vt.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vt.scale,tick:Vt.tick,tickCount:Vt.tickCount,ticks:void 0,type:"category",unit:void 0},go=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?XV:GV,Sc=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?JV:YV,bh=e=>e.polarOptions,lx=z([qn,Hn,st],XE),AC=z([bh,lx],(e,t)=>{if(e!=null)return It(e.innerRadius,t,0)}),EC=z([bh,lx],(e,t)=>{if(e!=null)return It(e.outerRadius,t,t*.8)}),QV=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},OC=z([bh],QV),ZV=z([go,OC],xh),CC=z([lx,AC,EC],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]}),eK=z([Sc,CC],xh),yo=z([pe,bh,AC,EC,qn,Hn],(e,t,r,n,s,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:a,cy:l,startAngle:c,endAngle:u}=t;return{cx:It(a,s,s/2),cy:It(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ke=(e,t)=>t,Pc=(e,t,r)=>r;function cx(e){return e==null?void 0:e.id}var at=e=>{var t=pe(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},vo=e=>e.tooltip.settings.axisId,ot=e=>{var t=at(e),r=vo(e);return xo(e,t,r)};function TC(e,t,r){var{chartData:n=[]}=t,s=r==null?void 0:r.dataKey,i=new Map;return e.forEach(a=>{var l,c=(l=a.data)!==null&&l!==void 0?l:n;if(!(c==null||c.length===0)){var u=cx(a);c.forEach((d,f)=>{var h=s==null?f:String(Ce(d,s,null)),m=Ce(d,a.dataKey,0),p;i.has(h)?p=i.get(h):p={},Object.assign(p,{[u]:m}),i.set(h,p)})}}),Array.from(i.values())}function wh(e){return e.stackId!=null&&e.dataKey!=null}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){tK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tK(e,t,r){return(t=rK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rK(e){var t=nK(e,"string");return typeof t=="symbol"?t:t+""}function nK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lg=[0,"auto"],rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Yn=(e,t)=>{var r=e.cartesianAxis.xAxis[t];return r??rr},nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:lg,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lh},Us=(e,t)=>{var r=e.cartesianAxis.yAxis[t];return r??nr},sK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},ux=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??sK},Xe=(e,t,r)=>{switch(t){case"xAxis":return Yn(e,r);case"yAxis":return Us(e,r);case"zAxis":return ux(e,r);case"angleAxis":return go(e,r);case"radiusAxis":return Sc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},iK=(e,t,r)=>{switch(t){case"xAxis":return Yn(e,r);case"yAxis":return Us(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xo=(e,t,r)=>{switch(t){case"xAxis":return Yn(e,r);case"yAxis":return Us(e,r);case"angleAxis":return go(e,r);case"radiusAxis":return Sc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},MC=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function dx(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var fx=e=>e.graphicalItems.cartesianItems,aK=z([ke,Pc],dx),hx=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),kc=z([fx,Xe,aK],hx),DC=z([kc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(wh)),RC=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),$C=z([kc],RC),mx=e=>e.map(t=>t.data).filter(Boolean).flat(1),oK=z([kc],mx),px=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},gx=z([oK,rx],px),yx=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ce(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Ce(s,n)}))):e.map(n=>({value:n})),jh=z([gx,Xe,kc],yx);function LC(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function $i(e){return e.filter(t=>gn(t)||t instanceof Date).map(Number).filter(t=>ur(t)===!1)}function lK(e,t,r){return!r||typeof t!="number"||ur(t)?[]:r.length?$i(r.flatMap(n=>{var s=Ce(e,n.dataKey),i,a;if(Array.isArray(s)?[i,a]=s:i=a=s,!(!hr(i)||!hr(a)))return[t-i,t+a]})):[]}var cK=z([DC,rx,ot],TC),IC=(e,t,r)=>{var n={},s=t.reduce((i,a)=>(a.stackId==null||(i[a.stackId]==null&&(i[a.stackId]=[]),i[a.stackId].push(a)),i),n);return Object.fromEntries(Object.entries(s).map(i=>{var[a,l]=i,c=l.map(cx);return[a,{stackedData:TU(e,c,r),graphicalItems:l}]}))},cg=z([cK,DC,Nc],IC),BC=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var i=LU(e,n,s);if(!(i!=null&&i[0]===0&&i[1]===0))return i}},uK=z([cg,zs,ke],BC),FC=(e,t,r,n,s)=>r.length>0?e.flatMap(i=>r.flatMap(a=>{var l,c,u=(l=n[a.id])===null||l===void 0?void 0:l.filter(f=>LC(s,f)),d=Ce(i,(c=t.dataKey)!==null&&c!==void 0?c:a.dataKey);return{value:d,errorDomain:lK(i,d,u)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(i=>({value:Ce(i,t.dataKey),errorDomain:[]})):e.map(i=>({value:i,errorDomain:[]})),_h=e=>e.errorBars,zC=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>LC(r,n));z([$C,_h,ke],zC);var dK=z([gx,Xe,$C,_h,ke],FC);function fK(e){var{value:t}=e;if(gn(t)||t instanceof Date)return t}var q_=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=$i(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},hK=(e,t,r)=>{var n=e.map(fK).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&MA(n))?OO(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},vx=e=>{var t;if(e==null||!("domain"in e))return lg;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=$i(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:lg},Gd=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var i=s.flat(),a=Math.min(...i),l=Math.max(...i);return[a,l]}},UC=e=>e.referenceElements.dots,bo=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),mK=z([UC,ke,Pc],bo),WC=e=>e.referenceElements.areas,pK=z([WC,ke,Pc],bo),VC=e=>e.referenceElements.lines,gK=z([VC,ke,Pc],bo),KC=(e,t)=>{var r=$i(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},yK=z(mK,ke,KC),qC=(e,t)=>{var r=$i(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},vK=z([pK,ke],qC),HC=(e,t)=>{var r=$i(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},xK=z(gK,ke,HC),bK=z(yK,xK,vK,(e,t,r)=>Gd(e,r,t)),GC=z([Xe],vx),xx=(e,t,r,n,s,i,a)=>{var l=MV(t,e.allowDataOverflow);if(l!=null)return l;var c=i==="vertical"&&a==="xAxis"||i==="horizontal"&&a==="yAxis",u=c?Gd(r,s,q_(n)):Gd(s,q_(n));return DV(t,u,e.allowDataOverflow)},wK=z([Xe,GC,uK,dK,bK,pe,ke],xx),jK=[0,1],bx=(e,t,r,n,s,i,a)=>{if(!((e==null||r==null||r.length===0)&&a===void 0)){var{dataKey:l,type:c}=e,u=Is(t,i);return u&&l==null?OO(0,r.length):c==="category"?hK(n,e,u):s==="expand"?jK:a}},wx=z([Xe,pe,gx,jh,Nc,ke,wK],bx),YC=(e,t,r,n,s)=>{if(e!=null){var{scale:i,type:a}=e;if(i==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(gc(i));return l in el?l:"point"}}},Ws=z([Xe,pe,MC,ix,ke],YC);function _K(e){if(e!=null){if(e in el)return el[e]();var t="scale".concat(gc(e));if(t in el)return el[t]()}}function Nh(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=_K(t);if(s!=null){var i=s.domain(r).range(n);return kU(i),i}}}var jx=(e,t,r)=>{var n=vx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ha(e))return VV(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ha(e))return KV(e,t.tickCount,t.allowDecimals)}},_x=z([wx,xo,Ws],jx),Nx=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ha(t)&&Array.isArray(r)&&r.length>0){var s=t[0],i=r[0],a=t[1],l=r[r.length-1];return[Math.min(s,i),Math.max(a,l)]}return t},NK=z([Xe,wx,_x,ke],Nx),SK=z(jh,Xe,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from($i(e.map(l=>l.value))).sort((l,c)=>l-c);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var i=0;i<n.length-1;i++){var a=n[i+1]-n[i];r=Math.min(r,a)}return r/s}}),XC=z(SK,pe,PC,st,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!hr(e))return 0;var i=t==="vertical"?n.height:n.width;if(s==="gap")return e*i/2;if(s==="no-gap"){var a=It(r,e*i),l=e*i/2;return l-a-(l-a)/i*a}return 0}),PK=(e,t)=>{var r=Yn(e,t);return r==null||typeof r.padding!="string"?0:XC(e,"xAxis",t,r.padding)},kK=(e,t)=>{var r=Us(e,t);return r==null||typeof r.padding!="string"?0:XC(e,"yAxis",t,r.padding)},AK=z(Yn,PK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),EK=z(Us,kK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),OK=z([st,AK,uh,ch,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:i}=n;return s?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),CK=z([st,pe,EK,uh,ch,(e,t,r)=>r],(e,t,r,n,s,i)=>{var{padding:a}=s;return i?[n.height-a.bottom,a.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Ac=(e,t,r,n)=>{var s;switch(t){case"xAxis":return OK(e,r,n);case"yAxis":return CK(e,r,n);case"zAxis":return(s=ux(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return OC(e);case"radiusAxis":return CC(e,r);default:return}},JC=z([Xe,Ac],xh),wo=z([Xe,Ws,NK,JC],Nh);z([kc,_h,ke],zC);function QC(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Sh=(e,t)=>t,Ph=(e,t,r)=>r,TK=z(Av,Sh,Ph,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(QC)),MK=z(Ev,Sh,Ph,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(QC)),ZC=(e,t)=>({width:e.width,height:t.height}),DK=(e,t)=>{var r=typeof t.width=="number"?t.width:lh;return{width:r,height:e.height}},eT=z(st,Yn,ZC),RK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},$K=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},LK=z(Hn,st,TK,Sh,Ph,(e,t,r,n,s)=>{var i={},a;return r.forEach(l=>{var c=ZC(t,l);a==null&&(a=RK(t,n,e));var u=n==="top"&&!s||n==="bottom"&&s;i[l.id]=a-Number(u)*c.height,a+=(u?-1:1)*c.height}),i}),IK=z(qn,st,MK,Sh,Ph,(e,t,r,n,s)=>{var i={},a;return r.forEach(l=>{var c=DK(t,l);a==null&&(a=$K(t,n,e));var u=n==="left"&&!s||n==="right"&&s;i[l.id]=a-Number(u)*c.width,a+=(u?-1:1)*c.width}),i}),BK=(e,t)=>{var r=st(e),n=Yn(e,t);if(n!=null){var s=LK(e,n.orientation,n.mirror),i=s[t];return i==null?{x:r.left,y:0}:{x:r.left,y:i}}},FK=(e,t)=>{var r=st(e),n=Us(e,t);if(n!=null){var s=IK(e,n.orientation,n.mirror),i=s[t];return i==null?{x:0,y:r.top}:{x:i,y:r.top}}},tT=z(st,Us,(e,t)=>{var r=typeof t.width=="number"?t.width:lh;return{width:r,height:e.height}}),H_=(e,t,r)=>{switch(t){case"xAxis":return eT(e,r).width;case"yAxis":return tT(e,r).height;default:return}},rT=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:i,dataKey:a}=r,l=Is(e,n),c=t.map(u=>u.value);if(a&&l&&i==="category"&&s&&MA(c))return c}},Ec=z([pe,jh,Xe,ke],rT),Sx=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:i}=r,a=Is(e,n);if(a&&(s==="number"||i!=="auto"))return t.map(l=>l.value)}},Px=z([pe,jh,xo,ke],Sx),G_=z([pe,iK,Ws,wo,Ec,Px,Ac,_x,ke],(e,t,r,n,s,i,a,l,c)=>{if(t==null)return null;var u=Is(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:s,isCategorical:u,niceTicks:l,range:a,realScaleType:r,scale:n}}),nT=(e,t,r,n,s,i,a,l,c)=>{if(!(t==null||n==null)){var u=Is(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,p=d==="category"&&n.bandwidth?n.bandwidth()/m:0;p=c==="angleAxis"&&i!=null&&i.length>=2?ft(i[0]-i[1])*2*p:p;var x=f||s;if(x){var w=x.map((g,v)=>{var b=a?a.indexOf(g):g;return{index:v,coordinate:n(b)+p,value:g,offset:p}});return w.filter(g=>!ur(g.coordinate))}return u&&l?l.map((g,v)=>({coordinate:n(g)+p,value:g,index:v,offset:p})):n.ticks?n.ticks(h).map(g=>({coordinate:n(g)+p,value:g,offset:p})):n.domain().map((g,v)=>({coordinate:n(g)+p,value:a?a[g]:g,index:v,offset:p}))}},sT=z([pe,xo,Ws,wo,_x,Ac,Ec,Px,ke],nT),iT=(e,t,r,n,s,i,a)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=Is(e,a),{tickCount:c}=t,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?ft(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:s?s[d]:d,index:f,offset:u}))}},Ga=z([pe,xo,wo,Ac,Ec,Px,ke],iT),Ya=z(Xe,wo,(e,t)=>{if(!(e==null||t==null))return Hd(Hd({},e),{},{scale:t})}),zK=z([Xe,Ws,wx,JC],Nh);z((e,t,r)=>ux(e,r),zK,(e,t)=>{if(!(e==null||t==null))return Hd(Hd({},e),{},{scale:t})});var UK=z([pe,Av,Ev],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),aT=e=>e.options.defaultTooltipEventType,oT=e=>e.options.validateTooltipEventTypes;function lT(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function kx(e,t){var r=aT(e),n=oT(e);return lT(t,r,n)}function WK(e){return ee(t=>kx(t,e))}var cT=(e,t)=>{var r,n=Number(t);if(!(ur(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},VK=e=>e.tooltip.settings,ds={active:!1,index:null,dataKey:void 0,coordinate:void 0},KK={itemInteraction:{click:ds,hover:ds},axisInteraction:{click:ds,hover:ds},keyboardInteraction:ds,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},uT=gr({name:"tooltip",initialState:KK,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=On(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:qK,removeTooltipEntrySettings:HK,setTooltipSettingsState:GK,setActiveMouseOverItemIndex:dT,mouseLeaveItem:YK,mouseLeaveChart:fT,setActiveClickItemIndex:XK,setMouseOverAxisIndex:hT,setMouseClickAxisIndex:JK,setSyncInteraction:ug,setKeyboardInteraction:dg}=uT.actions,QK=uT.reducer;function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){ZK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZK(e,t,r){return(t=eq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eq(e){var t=tq(e,"string");return typeof t=="symbol"?t:t+""}function tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rq(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function nq(e){return e.index!=null}var mT=(e,t,r,n)=>{if(t==null)return ds;var s=rq(e,t,r);if(s==null)return ds;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(nq(s)){if(i)return vu(vu({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return vu(vu({},ds),{},{coordinate:s.coordinate})},Ax=(e,t)=>{var r=e==null?void 0:e.index;if(r==null)return null;var n=Number(r);if(!hr(n))return r;var s=0,i=1/0;return t.length>0&&(i=t.length-1),String(Math.max(s,Math.min(n,i)))},pT=(e,t,r,n,s,i,a,l)=>{if(!(i==null||l==null)){var c=a[0],u=c==null?void 0:l(c.positions,i);if(u!=null)return u;var d=s==null?void 0:s[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},gT=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(i=>{var a;return((a=i.settings)===null||a===void 0?void 0:a.dataKey)===s})},Oc=e=>e.options.tooltipPayloadSearcher,jo=e=>e.tooltip;function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function J_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){sq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sq(e,t,r){return(t=iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iq(e){var t=aq(e,"string");return typeof t=="symbol"?t:t+""}function aq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oq(e,t){return e??t}var yT=(e,t,r,n,s,i,a)=>{if(!(t==null||i==null)){var{chartData:l,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:w}=m,g=oq(x,l),v=Array.isArray(g)?QE(g,u,d):g,b=(p=w==null?void 0:w.dataKey)!==null&&p!==void 0?p:n==null?void 0:n.dataKey,_=w==null?void 0:w.nameKey,j;if(n!=null&&n.dataKey&&Array.isArray(v)&&!Array.isArray(v[0])&&a==="axis"?j=EF(v,n.dataKey,s):j=i(v,t,c,_),Array.isArray(j))j.forEach(k=>{var P=J_(J_({},w),{},{name:k.name,unit:k.unit,color:void 0,fill:void 0});h.push(zj({tooltipEntrySettings:P,dataKey:k.dataKey,payload:k.payload,value:Ce(k.payload,k.dataKey),name:k.name}))});else{var N;h.push(zj({tooltipEntrySettings:w,dataKey:b,payload:j,value:Ce(j,b),name:(N=Ce(j,_))!==null&&N!==void 0?N:w==null?void 0:w.name}))}return h},f)}},Ex=z([ot,pe,MC,ix,at],YC),lq=z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),cq=z([at,vo],dx),Cc=z([lq,ot,cq],hx),uq=z([Cc],e=>e.filter(wh)),dq=z([Cc],mx),_o=z([dq,zs],px),fq=z([uq,zs,ot],TC),Ox=z([_o,ot,Cc],yx),hq=z([ot],vx),mq=z([Cc],e=>e.filter(wh)),pq=z([fq,mq,Nc],IC),gq=z([pq,zs,at],BC),yq=z([Cc],RC),vq=z([_o,ot,yq,_h,at],FC),xq=z([UC,at,vo],bo),bq=z([xq,at],KC),wq=z([WC,at,vo],bo),jq=z([wq,at],qC),_q=z([VC,at,vo],bo),Nq=z([_q,at],HC),Sq=z([bq,Nq,jq],Gd),Pq=z([ot,hq,gq,vq,Sq,pe,at],xx),vT=z([ot,pe,_o,Ox,Nc,at,Pq],bx),kq=z([vT,ot,Ex],jx),Aq=z([ot,vT,kq,at],Nx),xT=e=>{var t=at(e),r=vo(e),n=!1;return Ac(e,t,r,n)},bT=z([ot,xT],xh),wT=z([ot,Ex,Aq,bT],Nh),Eq=z([pe,Ox,ot,at],rT),Oq=z([pe,Ox,ot,at],Sx),Cq=(e,t,r,n,s,i,a,l)=>{if(t){var{type:c}=t,u=Is(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?ft(s[0]-s[1])*2*f:f,u&&a?a.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Xn=z([pe,ot,Ex,wT,xT,Eq,Oq,at],Cq),Cx=z([aT,oT,VK],(e,t,r)=>lT(r.shared,e,t)),jT=e=>e.tooltip.settings.trigger,Tx=e=>e.tooltip.settings.defaultIndex,kh=z([jo,Cx,jT,Tx],mT),Os=z([kh,_o],Ax),_T=z([Xn,Os],cT),NT=z([kh],e=>{if(e)return e.dataKey}),ST=z([jo,Cx,jT,Tx],gT),Tq=z([qn,Hn,pe,st,Xn,Tx,ST,Oc],pT),Mq=z([kh,Tq],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Dq=z([kh],e=>e.active),Rq=z([ST,Os,zs,ot,_T,Oc,Cx],yT),$q=z([Rq],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){Lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lq(e,t,r){return(t=Iq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Iq(e){var t=Bq(e,"string");return typeof t=="symbol"?t:t+""}function Bq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fq=()=>ee(ot),zq=()=>{var e=Fq(),t=ee(Xn),r=ee(wT);return Hl(Z_(Z_({},e),{},{scale:r}),t)},Uq=()=>ee(ix),Mx=(e,t)=>t,PT=(e,t,r)=>r,Dx=(e,t,r,n)=>n,Wq=z(Xn,e=>th(e,t=>t.coordinate)),Rx=z([jo,Mx,PT,Dx],mT),kT=z([Rx,_o],Ax),Vq=(e,t,r)=>{if(t!=null){var n=jo(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},AT=z([jo,Mx,PT,Dx],gT),Yd=z([qn,Hn,pe,st,Xn,Dx,AT,Oc],pT),Kq=z([Rx,Yd],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),ET=z(Xn,kT,cT),qq=z([AT,kT,zs,ot,ET,Oc,Mx],yT),Hq=z([Rx],e=>({isActive:e.active,activeIndex:e.index})),Gq=(e,t,r,n,s,i,a,l)=>{if(!(!e||!t||!n||!s||!i)){var c=IU(e.chartX,e.chartY,t,r,l);if(c){var u=FU(c,t),d=SU(u,a,i,n,s),f=BU(t,i,d,c);return{activeIndex:String(d),activeCoordinate:f}}}};function fg(){return fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fg.apply(null,arguments)}function eN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eN(Object(r),!0).forEach(function(n){Yq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yq(e,t,r){return(t=Xq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Jq(e,"string");return typeof t=="symbol"?t:t+""}function Jq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qq(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:i,layout:a,cursor:l,tooltipEventType:c,chartName:u}=e,d=t,f=r,h=n;if(!l||!d||u!=="ScatterChart"&&c!=="axis")return null;var m,p;if(u==="ScatterChart")m=d,p=_9;else if(u==="BarChart")m=N9(a,d,s,i),p=_O;else if(a==="radial"){var{cx:x,cy:w,radius:g,startAngle:v,endAngle:b}=NO(d);m={cx:x,cy:w,startAngle:v,endAngle:b,innerRadius:g,outerRadius:g},p=PO}else m={points:n7(a,d,s)},p=fO;var _=typeof l=="object"&&"className"in l?l.className:void 0,j=xu(xu(xu(xu({stroke:"#ccc",pointerEvents:"none"},s),m),ve(l,!1)),{},{payload:f,payloadIndex:h,className:de("recharts-tooltip-cursor",_)});return y.isValidElement(l)?y.cloneElement(l,j):y.createElement(p,j)}function Zq(e){var t=zq(),r=iO(),n=Cv(),s=Uq();return y.createElement(Qq,fg({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var OT=y.createContext(null),eH=()=>y.useContext(OT),CT={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new s(d,f||c,h),p=r?r+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function a(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,p){var x=r?r+u:u;if(!this._events[x])return!1;var w=this._events[x],g=arguments.length,v,b;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),g){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,h),!0;case 5:return w.fn.call(w.context,d,f,h,m),!0;case 6:return w.fn.call(w.context,d,f,h,m,p),!0}for(b=1,v=new Array(g-1);b<g;b++)v[b-1]=arguments[b];w.fn.apply(w.context,v)}else{var _=w.length,j;for(b=0;b<_;b++)switch(w[b].once&&this.removeListener(u,w[b].fn,void 0,!0),g){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,d);break;case 3:w[b].fn.call(w[b].context,d,f);break;case 4:w[b].fn.call(w[b].context,d,f,h);break;default:if(!v)for(j=1,v=new Array(g-1);j<g;j++)v[j-1]=arguments[j];w[b].fn.apply(w[b].context,v)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return a(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&a(this,m);else{for(var x=0,w=[],g=p.length;x<g;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&w.push(p[x]);w.length?this._events[m]=w.length===1?w[0]:w:a(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(CT);var tH=CT.exports;const rH=Mr(tH);var ec=new rH,hg="recharts.syncEvent.tooltip",tN="recharts.syncEvent.brush";function $x(e,t){if(t){var r=Number.parseInt(t,10);if(!ur(r))return e==null?void 0:e[r]}}var nH={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},TT=gr({name:"options",initialState:nH,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),sH=TT.reducer,{createEventEmitter:iH}=TT.actions;function aH(e){return e.tooltip.syncInteraction}var oH={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},MT=gr({name:"chartData",initialState:oH,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:rN,setDataStartEndIndexes:lH,setComputedData:zte}=MT.actions,cH=MT.reducer,DT=()=>{};function uH(){var e=ee(ax),t=ee(ox),r=Ue(),n=ee(kC),s=ee(Xn),i=Cv(),a=Ov(),l=ee(c=>c.rootProps.className);y.useEffect(()=>{if(e==null)return DT;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){r(d);return}if(s!=null){var h;if(typeof n=="function"){var m={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},p=n(s,m);h=s[p]}else n==="value"&&(h=s.find(N=>String(N.value)===d.payload.label));var{coordinate:x}=d.payload;if(h==null||d.payload.active===!1||x==null||a==null){r(ug({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:w,y:g}=x,v=Math.min(w,a.x+a.width),b=Math.min(g,a.y+a.height),_={x:i==="horizontal"?h.coordinate:v,y:i==="horizontal"?b:h.coordinate},j=ug({active:d.payload.active,coordinate:_,dataKey:d.payload.dataKey,index:String(h.index),label:d.payload.label});r(j)}}};return ec.on(hg,c),()=>{ec.off(hg,c)}},[l,r,t,e,n,s,i,a])}function dH(){var e=ee(ax),t=ee(ox),r=Ue();y.useEffect(()=>{if(e==null)return DT;var n=(s,i,a)=>{t!==a&&e===s&&r(lH(i))};return ec.on(tN,n),()=>{ec.off(tN,n)}},[r,t,e])}function fH(){var e=Ue();y.useEffect(()=>{e(iH())},[e]),uH(),dH()}function hH(e,t,r,n,s,i){var a=ee(h=>Vq(h,e,t)),l=ee(ox),c=ee(ax),u=ee(kC),d=ee(aH),f=d==null?void 0:d.active;y.useEffect(()=>{if(!f&&c!=null&&l!=null){var h=ug({active:i,coordinate:r,dataKey:a,index:s,label:typeof n=="number"?String(n):n});ec.emit(hg,c,h,l)}},[f,r,a,s,n,l,c,u,i])}function nN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nN(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return(t=pH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pH(e){var t=gH(e,"string");return typeof t=="symbol"?t:t+""}function gH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yH(e){return e.dataKey}function vH(e,t){return y.isValidElement(e)?y.cloneElement(e,t):typeof e=="function"?y.createElement(e,t):y.createElement(t9,t)}var iN=[],xH={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Mi.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xa(e){var t=Rr(e,xH),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:i,content:a,filterNull:l,isAnimationActive:c,offset:u,payloadUniqBy:d,position:f,reverseDirection:h,useTranslate3d:m,wrapperStyle:p,cursor:x,shared:w,trigger:g,defaultIndex:v,portal:b,axisId:_}=t,j=Ue(),N=typeof v=="number"?String(v):v;y.useEffect(()=>{j(GK({shared:w,trigger:g,axisId:_,active:r,defaultIndex:N}))},[j,w,g,_,r,N]);var k=Ov(),P=dO(),E=WK(w),{activeIndex:T,isActive:O}=ee(J=>Hq(J,E,g,N)),U=ee(J=>qq(J,E,g,N)),I=ee(J=>ET(J,E,g,N)),H=ee(J=>Kq(J,E,g,N)),B=U,K=eH(),F=r??O,[A,S]=pz([B,F]),L=E==="axis"?I:void 0;hH(E,g,H,L,T,F);var V=b??K;if(V==null)return null;var R=B??iN;F||(R=iN),l&&R.length&&(R=M8(B.filter(J=>J.value!=null&&(J.hide!==!0||t.includeHidden)),d,yH));var X=R.length>0,ce=y.createElement(l9,{allowEscapeViewBox:n,animationDuration:s,animationEasing:i,isAnimationActive:c,active:F,coordinate:H,hasPayload:X,offset:u,position:f,reverseDirection:h,useTranslate3d:m,viewBox:k,wrapperStyle:p,lastBoundingBox:A,innerRef:S,hasPortalFromProps:!!b},vH(a,sN(sN({},t),{},{payload:R,label:L,active:F,coordinate:H,accessibilityLayer:P})));return y.createElement(y.Fragment,null,g2.createPortal(ce,V),F&&y.createElement(Zq,{cursor:x,tooltipEventType:E,coordinate:H,payload:B,index:T}))}var RT={},$T={},LT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:i}={}){let a,l=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(a,l),a=void 0,l=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),a=void 0,l=null},w=()=>{d()},g=function(...v){if(s!=null&&s.aborted)return;a=this,l=v;const b=h==null;m(),c&&b&&d()};return g.schedule=m,g.cancel=x,g.flush=w,s==null||s.addEventListener("abort",x,{once:!0}),g}e.debounce=t})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT;function r(n,s=0,i={}){typeof i!="object"&&(i={});const{leading:a=!1,trailing:l=!0,maxWait:c}=i,u=Array(2);a&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},s,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=r})($T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T;function r(n,s=0,i={}){const{leading:a=!0,trailing:l=!0}=i;return t.debounce(n,s,{leading:a,maxWait:s,trailing:l})}e.throttle=r})(RT);var bH=RT.throttle;const wH=Mr(bH);var vl=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function aN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Jm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aN(Object(r),!0).forEach(function(n){jH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jH(e,t,r){return(t=_H(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _H(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ei=y.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:i="100%",minWidth:a=0,minHeight:l,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=y.useRef(null),w=y.useRef();w.current=m,y.useImperativeHandle(t,()=>x.current);var[g,v]=y.useState({containerWidth:n.width,containerHeight:n.height}),b=y.useCallback((j,N)=>{v(k=>{var P=Math.round(j),E=Math.round(N);return k.containerWidth===P&&k.containerHeight===E?k:{containerWidth:P,containerHeight:E}})},[]);y.useEffect(()=>{var j=E=>{var T,{width:O,height:U}=E[0].contentRect;b(O,U),(T=w.current)===null||T===void 0||T.call(w,O,U)};d>0&&(j=wH(j,d,{trailing:!0,leading:!1}));var N=new ResizeObserver(j),{width:k,height:P}=x.current.getBoundingClientRect();return b(k,P),N.observe(x.current),()=>{N.disconnect()}},[b,d]);var _=y.useMemo(()=>{var{containerWidth:j,containerHeight:N}=g;if(j<0||N<0)return null;vl(oi(s)||oi(i),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,i),vl(!r||r>0,"The aspect(%s) must be greater than zero.",r);var k=oi(s)?j:s,P=oi(i)?N:i;return r&&r>0&&(k?P=k/r:P&&(k=P*r),c&&P>c&&(P=c)),vl(k>0||P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,P,s,i,a,l,r),y.Children.map(u,E=>y.cloneElement(E,{width:k,height:P,style:Jm({width:k,height:P},E.props.style)}))},[r,u,i,c,l,a,g,s]);return y.createElement("div",{id:f?"".concat(f):void 0,className:de("recharts-responsive-container",h),style:Jm(Jm({},p),{},{width:s,height:i,minWidth:a,minHeight:l,maxHeight:c}),ref:x},y.createElement("div",{style:{width:0,height:0,overflow:"visible"}},_))}),Li=e=>null;Li.displayName="Cell";function SH(e,t,r){return(t=PH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PH(e){var t=kH(e,"string");return typeof t=="symbol"?t:t+""}function kH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class AH{constructor(t){SH(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EH(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){OH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function OH(e,t,r){return(t=CH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CH(e){var t=TH(e,"string");return typeof t=="symbol"?t:t+""}function TH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MH={cacheSize:2e3,enableCache:!0},IT=EH({},MH),lN=new AH(IT.cacheSize),DH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cN="recharts_measurement_span";function RH(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",i=t.fontStyle||"",a=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(i,"|").concat(a,"|").concat(l)}var uN=(e,t)=>{try{var r=document.getElementById(cN);r||(r=document.createElement("span"),r.setAttribute("id",cN),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,DH,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Mi.isSsr)return{width:0,height:0};if(!IT.enableCache)return uN(t,r);var n=RH(t,r),s=lN.get(n);if(s)return s;var i=uN(t,r);return lN.set(n,i),i},dN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,fN=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$H=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,LH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},IH=Object.keys(BT),ha="NaN";function BH(e,t){return e*BT[t]}class Wt{static parse(t){var r,[,n,s]=(r=LH.exec(t))!==null&&r!==void 0?r:[];return new Wt(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ur(t)&&(this.unit=""),r!==""&&!$H.test(r)&&(this.num=NaN,this.unit=""),IH.includes(r)&&(this.num=BH(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Wt(NaN,""):new Wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function FT(e){if(e.includes(ha))return ha;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,i]=(r=dN.exec(t))!==null&&r!==void 0?r:[],a=Wt.parse(n??""),l=Wt.parse(i??""),c=s==="*"?a.multiply(l):a.divide(l);if(c.isNaN())return ha;t=t.replace(dN,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=fN.exec(t))!==null&&u!==void 0?u:[],m=Wt.parse(d??""),p=Wt.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return ha;t=t.replace(fN,x.toString())}return t}var hN=/\(([^()]*)\)/;function FH(e){for(var t=e,r;(r=hN.exec(t))!=null;){var[,n]=r;t=t.replace(hN,FT(n))}return t}function zH(e){var t=e.replace(/\s+/g,"");return t=FH(t),t=FT(t),t}function UH(e){try{return zH(e)}catch{return ha}}function Qm(e){var t=UH(e.slice(5,-1));return t===ha?"":t}var WH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],VH=["dx","dy","angle","className","breakAll"];function mg(){return mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mg.apply(null,arguments)}function mN(e,t){if(e==null)return{};var r,n,s=KH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function KH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var zT=/[ \f\n\r\t\v\u2028\u2029]+/,UT=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];He(t)||(r?s=t.toString().split(""):s=t.toString().split(zT));var i=s.map(l=>({word:l,width:xl(l,n).width})),a=r?0:xl(" ",n).width;return{wordsWithComputedWidth:i,spaceWidth:a}}catch{return null}},qH=(e,t,r,n,s)=>{var{maxLines:i,children:a,style:l,breakAll:c}=e,u=te(i),d=a,f=function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return O.reduce((U,I)=>{var{word:H,width:B}=I,K=U[U.length-1];if(K&&(n==null||s||K.width+B+r<Number(n)))K.words.push(H),K.width+=B+r;else{var F={words:[H],width:B};U.push(F)}return U},[])},h=f(t),m=T=>T.reduce((O,U)=>O.width>U.width?O:U);if(!u||s)return h;var p=h.length>i||m(h).width>Number(n);if(!p)return h;for(var x="…",w=T=>{var O=d.slice(0,T),U=UT({breakAll:c,style:l,children:O+x}).wordsWithComputedWidth,I=f(U),H=I.length>i||m(I).width>Number(n);return[H,I]},g=0,v=d.length-1,b=0,_;g<=v&&b<=d.length-1;){var j=Math.floor((g+v)/2),N=j-1,[k,P]=w(N),[E]=w(j);if(!k&&!E&&(g=j+1),k&&E&&(v=j-1),!k&&E){_=P;break}b++}return _||h},pN=e=>{var t=He(e)?[]:e.toString().split(zT);return[{words:t}]},HH=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:i,maxLines:a}=e;if((t||r)&&!Mi.isSsr){var l,c,u=UT({breakAll:i,children:n,style:s});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,c=f}else return pN(n);return qH({breakAll:i,children:n,maxLines:a,style:s},l,c,t,r)}return pN(n)},gN="#808080",No=y.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:i="0.71em",scaleToFit:a=!1,textAnchor:l="start",verticalAnchor:c="end",fill:u=gN}=e,d=mN(e,WH),f=y.useMemo(()=>HH({breakAll:d.breakAll,children:d.children,maxLines:d.maxLines,scaleToFit:a,style:d.style,width:d.width}),[d.breakAll,d.children,d.maxLines,a,d.style,d.width]),{dx:h,dy:m,angle:p,className:x,breakAll:w}=d,g=mN(d,VH);if(!gn(r)||!gn(n))return null;var v=r+(te(h)?h:0),b=n+(te(m)?m:0),_;switch(c){case"start":_=Qm("calc(".concat(i,")"));break;case"middle":_=Qm("calc(".concat((f.length-1)/2," * -").concat(s," + (").concat(i," / 2))"));break;default:_=Qm("calc(".concat(f.length-1," * -").concat(s,")"));break}var j=[];if(a){var N=f[0].width,{width:k}=d;j.push("scale(".concat(te(k)?k/N:1,")"))}return p&&j.push("rotate(".concat(p,", ").concat(v,", ").concat(b,")")),j.length&&(g.transform=j.join(" ")),y.createElement("text",mg({},ve(g,!0),{ref:t,x:v,y:b,className:de("recharts-text",x),textAnchor:l,fill:u.includes("url")?gN:u}),f.map((P,E)=>{var T=P.words.join(w?"":" ");return y.createElement("tspan",{x:v,dy:E===0?_:s,key:"".concat(T,"-").concat(E)},T)}))});No.displayName="Text";var GH=["offset"],YH=["labelRef"];function yN(e,t){if(e==null)return{};var r,n,s=XH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function XH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vN(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=ZH(e,"string");return typeof t=="symbol"?t:t+""}function ZH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nn(){return Nn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Nn.apply(null,arguments)}var eG=e=>{var{value:t,formatter:r}=e,n=He(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lx=e=>e!=null&&typeof e=="function",tG=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},rG=(e,t,r,n)=>{var{position:s,offset:i,className:a}=e,{cx:l,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=n,p=(u+d)/2,x=tG(f,h),w=x>=0?1:-1,g,v;s==="insideStart"?(g=f+w*i,v=m):s==="insideEnd"?(g=h-w*i,v=!m):s==="end"&&(g=h+w*i,v=m),v=x<=0?v:!v;var b=be(l,c,p,g),_=be(l,c,p,g+(v?1:-1)*359),j="M".concat(b.x,",").concat(b.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(v?0:1,`,
    `).concat(_.x,",").concat(_.y),N=He(e.id)?Vl("recharts-radial-line-"):e.id;return y.createElement("text",Nn({},r,{dominantBaseline:"central",className:de("recharts-radial-bar-label",a)}),y.createElement("defs",null,y.createElement("path",{id:N,d:j})),y.createElement("textPath",{xlinkHref:"#".concat(N)},t))},nG=(e,t,r)=>{var{cx:n,cy:s,innerRadius:i,outerRadius:a,startAngle:l,endAngle:c}=e,u=(l+c)/2;if(r==="outside"){var{x:d,y:f}=be(n,s,a+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var h=(i+a)/2,{x:m,y:p}=be(n,s,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},sG=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,{x:i,y:a,width:l,height:c}=t,u=c>=0?1:-1,d=u*n,f=u>0?"end":"start",h=u>0?"start":"end",m=l>=0?1:-1,p=m*n,x=m>0?"end":"start",w=m>0?"start":"end";if(s==="top"){var g={x:i+l/2,y:a-u*n,textAnchor:"middle",verticalAnchor:f};return We(We({},g),r?{height:Math.max(a-r.y,0),width:l}:{})}if(s==="bottom"){var v={x:i+l/2,y:a+c+d,textAnchor:"middle",verticalAnchor:h};return We(We({},v),r?{height:Math.max(r.y+r.height-(a+c),0),width:l}:{})}if(s==="left"){var b={x:i-p,y:a+c/2,textAnchor:x,verticalAnchor:"middle"};return We(We({},b),r?{width:Math.max(b.x-r.x,0),height:c}:{})}if(s==="right"){var _={x:i+l+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"};return We(We({},_),r?{width:Math.max(r.x+r.width-_.x,0),height:c}:{})}var j=r?{width:l,height:c}:{};return s==="insideLeft"?We({x:i+p,y:a+c/2,textAnchor:w,verticalAnchor:"middle"},j):s==="insideRight"?We({x:i+l-p,y:a+c/2,textAnchor:x,verticalAnchor:"middle"},j):s==="insideTop"?We({x:i+l/2,y:a+d,textAnchor:"middle",verticalAnchor:h},j):s==="insideBottom"?We({x:i+l/2,y:a+c-d,textAnchor:"middle",verticalAnchor:f},j):s==="insideTopLeft"?We({x:i+p,y:a+d,textAnchor:w,verticalAnchor:h},j):s==="insideTopRight"?We({x:i+l-p,y:a+d,textAnchor:x,verticalAnchor:h},j):s==="insideBottomLeft"?We({x:i+p,y:a+c-d,textAnchor:w,verticalAnchor:f},j):s==="insideBottomRight"?We({x:i+l-p,y:a+c-d,textAnchor:x,verticalAnchor:f},j):s&&typeof s=="object"&&(te(s.x)||oi(s.x))&&(te(s.y)||oi(s.y))?We({x:i+It(s.x,l),y:a+It(s.y,c),textAnchor:"end",verticalAnchor:"end"},j):We({x:i+l/2,y:a+c/2,textAnchor:"middle",verticalAnchor:"middle"},j)},iG=e=>"cx"in e&&te(e.cx);function Ht(e){var{offset:t=5}=e,r=yN(e,GH),n=We({offset:t},r),{viewBox:s,position:i,value:a,children:l,content:c,className:u="",textBreakAll:d,labelRef:f}=n,h=ee(yo),m=Ov(),p=i==="center"?m:h??m,x=s||p;if(!x||He(a)&&He(l)&&!y.isValidElement(c)&&typeof c!="function")return null;var w=We(We({},n),{},{viewBox:x});if(y.isValidElement(c)){var g=yN(w,YH);return y.cloneElement(c,g)}var v;if(typeof c=="function"){if(v=y.createElement(c,w),y.isValidElement(v))return v}else v=eG(n);var b=iG(x),_=ve(n,!0);if(b&&(i==="insideStart"||i==="insideEnd"||i==="end"))return rG(n,v,_,x);var j=b?nG(x,n.offset,n.position):sG(n,x);return y.createElement(No,Nn({ref:f,className:de("recharts-label",u)},_,j,{breakAll:d}),v)}Ht.displayName="Label";var WT=e=>{var{cx:t,cy:r,angle:n,startAngle:s,endAngle:i,r:a,radius:l,innerRadius:c,outerRadius:u,x:d,y:f,top:h,left:m,width:p,height:x,clockWise:w,labelViewBox:g}=e;if(g)return g;if(te(p)&&te(x)){if(te(d)&&te(f))return{x:d,y:f,width:p,height:x};if(te(h)&&te(m))return{x:h,y:m,width:p,height:x}}if(te(d)&&te(f))return{x:d,y:f,width:0,height:0};if(te(t)&&te(r))return{cx:t,cy:r,startAngle:s||n||0,endAngle:i||n||0,innerRadius:c||0,outerRadius:u||l||a||0,clockWise:w};if(e.viewBox)return e.viewBox},aG=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?y.createElement(Ht,Nn({key:"label-implicit"},n)):gn(e)?y.createElement(Ht,Nn({key:"label-implicit",value:e},n)):y.isValidElement(e)?e.type===Ht?y.cloneElement(e,We({key:"label-implicit"},n)):y.createElement(Ht,Nn({key:"label-implicit",content:e},n)):Lx(e)?y.createElement(Ht,Nn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?y.createElement(Ht,Nn({},e,{key:"label-implicit"},n)):null},oG=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var{children:s,labelRef:i}=t,a=WT(t),l=yc(s,Ht).map((u,d)=>y.cloneElement(u,{viewBox:r||a,key:"label-".concat(d)}));if(!n)return l;var c=aG(t.label,r||a,i);return[c,...l]};Ht.parseViewBox=WT;Ht.renderCallByParent=oG;var VT={},KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(KT);var qT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(qT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=KT,r=qT,n=Yf;function s(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=s})(VT);var lG=VT.last;const HT=Mr(lG);var cG=["valueAccessor"],uG=["data","dataKey","clockWise","id","textBreakAll"];function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(null,arguments)}function xN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xN(Object(r),!0).forEach(function(n){dG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dG(e,t,r){return(t=fG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fG(e){var t=hG(e,"string");return typeof t=="symbol"?t:t+""}function hG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wN(e,t){if(e==null)return{};var r,n,s=mG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function mG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var pG=e=>Array.isArray(e.value)?HT(e.value):e.value;function Ss(e){var{valueAccessor:t=pG}=e,r=wN(e,cG),{data:n,dataKey:s,clockWise:i,id:a,textBreakAll:l}=r,c=wN(r,uG);return!n||!n.length?null:y.createElement(ze,{className:"recharts-label-list"},n.map((u,d)=>{var f=He(s)?t(u,d):Ce(u&&u.payload,s),h=He(a)?{}:{id:"".concat(a,"-").concat(d)};return y.createElement(Ht,Xd({},ve(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:Ht.parseViewBox(He(i)?u:bN(bN({},u),{},{clockWise:i})),key:"label-".concat(d),index:d}))}))}Ss.displayName="LabelList";function gG(e,t){return e?e===!0?y.createElement(Ss,{key:"labelList-implicit",data:t}):y.isValidElement(e)||Lx(e)?y.createElement(Ss,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?y.createElement(Ss,Xd({data:t},e,{key:"labelList-implicit"})):null:null}function yG(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var{children:n}=e,s=yc(n,Ss).map((a,l)=>y.cloneElement(a,{data:t,key:"labelList-".concat(l)}));if(!r)return s;var i=gG(e.label,t);return[i,...s]}Ss.renderCallByParent=yG;var vG=["points","className","baseLinePoints","connectNulls"];function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma.apply(null,arguments)}function xG(e,t){if(e==null)return{};var r,n,s=bG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function bG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var jN=e=>e&&e.x===+e.x&&e.y===+e.y,wG=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(n=>{jN(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),jN(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},bl=(e,t)=>{var r=wG(e);t&&(r=[r.reduce((s,i)=>[...s,...i],[])]);var n=r.map(s=>s.reduce((i,a,l)=>"".concat(i).concat(l===0?"M":"L").concat(a.x,",").concat(a.y),"")).join("");return r.length===1?"".concat(n,"Z"):n},jG=(e,t,r)=>{var n=bl(e,r);return"".concat(n.slice(-1)==="Z"?n.slice(0,-1):n,"L").concat(bl(t.reverse(),r).slice(1))},GT=e=>{var{points:t,className:r,baseLinePoints:n,connectNulls:s}=e,i=xG(e,vG);if(!t||!t.length)return null;var a=de("recharts-polygon",r);if(n&&n.length){var l=i.stroke&&i.stroke!=="none",c=jG(t,n,s);return y.createElement("g",{className:a},y.createElement("path",ma({},ve(i,!0),{fill:c.slice(-1)==="Z"?i.fill:"none",stroke:"none",d:c})),l?y.createElement("path",ma({},ve(i,!0),{fill:"none",d:bl(t,s)})):null,l?y.createElement("path",ma({},ve(i,!0),{fill:"none",d:bl(n,s)})):null)}var u=bl(t,s);return y.createElement("path",ma({},ve(i,!0),{fill:u.slice(-1)==="Z"?i.fill:"none",className:a,d:u}))};function pg(){return pg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pg.apply(null,arguments)}var Ix=e=>{var{cx:t,cy:r,r:n,className:s}=e,i=de("recharts-dot",s);return t===+t&&r===+r&&n===+n?y.createElement("circle",pg({},Ct(e),uv(e),{className:i,cx:t,cy:r,r:n})):null},Bx=e=>e.graphicalItems.polarItems,_G=z([ke,Pc],dx),Fx=z([Bx,Xe,_G],hx),NG=z([Fx],mx),zx=z([NG,yh],px),YT=z([zx,Xe,Fx],yx),SG=z([zx,Xe,Fx],(e,t,r)=>r.length>0?e.flatMap(n=>r.flatMap(s=>{var i,a=Ce(n,(i=t.dataKey)!==null&&i!==void 0?i:s.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:Ce(n,t.dataKey),errorDomain:[]})):e.map(n=>({value:n,errorDomain:[]}))),_N=()=>{},PG=z([Xe,GC,_N,SG,_N,pe,ke],xx),XT=z([Xe,pe,zx,YT,Nc,ke,PG],bx),JT=z([XT,Xe,Ws],jx),kG=z([Xe,XT,JT,ke],Nx),Ux=(e,t,r)=>{switch(t){case"angleAxis":return go(e,r);case"radiusAxis":return Sc(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Wx=(e,t,r)=>{switch(t){case"angleAxis":return ZV(e,r);case"radiusAxis":return eK(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},So=z([Ux,Ws,kG,Wx],Nh),QT=z([pe,YT,xo,ke],Sx),Po=z([pe,Ux,Ws,So,JT,Wx,Ec,QT,ke],nT);z([pe,Ux,So,Wx,Ec,QT,ke],iT);var AG=(e,t)=>Po(e,"angleAxis",t,!1),EG=z([AG],e=>{if(e)return e.map(t=>t.coordinate)}),OG=(e,t)=>Po(e,"radiusAxis",t,!1),CG=z([OG],e=>{if(e)return e.map(t=>t.coordinate)}),TG=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function MG(e,t){if(e==null)return{};var r,n,s=DG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Un(){return Un=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Un.apply(null,arguments)}function NN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ja(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NN(Object(r),!0).forEach(function(n){RG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RG(e,t,r){return(t=$G(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $G(e){var t=LG(e,"string");return typeof t=="symbol"?t:t+""}function LG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var IG=(e,t,r,n)=>{var s="";return n.forEach((i,a)=>{var l=be(t,r,e,i);a?s+="L ".concat(l.x,",").concat(l.y):s+="M ".concat(l.x,",").concat(l.y)}),s+="Z",s},BG=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,polarAngles:i,radialLines:a}=e;if(!i||!i.length||!a)return null;var l=Ja({stroke:"#ccc"},Ct(e));return y.createElement("g",{className:"recharts-polar-grid-angle"},i.map(c=>{var u=be(t,r,n,c),d=be(t,r,s,c);return y.createElement("line",Un({},l,{key:"line-".concat(c),x1:u.x,y1:u.y,x2:d.x,y2:d.y}))}))},FG=e=>{var{cx:t,cy:r,radius:n,index:s}=e,i=Ja(Ja({stroke:"#ccc"},Ct(e)),{},{fill:"none"});return y.createElement("circle",Un({},i,{className:de("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(s),cx:t,cy:r,r:n}))},zG=e=>{var{radius:t,index:r}=e,n=Ja(Ja({stroke:"#ccc"},Ct(e)),{},{fill:"none"});return y.createElement("path",Un({},n,{className:de("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:IG(t,e.cx,e.cy,e.polarAngles)}))},UG=e=>{var{polarRadius:t,gridType:r}=e;return!t||!t.length?null:y.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((n,s)=>{var i=s;return r==="circle"?y.createElement(FG,Un({key:i},e,{radius:n,index:s})):y.createElement(zG,Un({key:i},e,{radius:n,index:s}))}))},ZT=e=>{var t,r,n,s,i,a,l,c,{gridType:u="polygon",radialLines:d=!0,angleAxisId:f=0,radiusAxisId:h=0,cx:m,cy:p,innerRadius:x,outerRadius:w}=e,g=MG(e,TG),v=ee(yo),b=Ja({cx:(t=(r=v==null?void 0:v.cx)!==null&&r!==void 0?r:m)!==null&&t!==void 0?t:0,cy:(n=(s=v==null?void 0:v.cy)!==null&&s!==void 0?s:p)!==null&&n!==void 0?n:0,innerRadius:(i=(a=v==null?void 0:v.innerRadius)!==null&&a!==void 0?a:x)!==null&&i!==void 0?i:0,outerRadius:(l=(c=v==null?void 0:v.outerRadius)!==null&&c!==void 0?c:w)!==null&&l!==void 0?l:0},g),{polarAngles:_,polarRadius:j,cx:N,cy:k,innerRadius:P,outerRadius:E}=b,T=ee(H=>EG(H,f)),O=ee(H=>CG(H,h)),U=Array.isArray(_)?_:T,I=Array.isArray(j)?j:O;return E<=0||U==null||I==null?null:y.createElement("g",{className:"recharts-polar-grid"},y.createElement(BG,Un({cx:N,cy:k,innerRadius:P,outerRadius:E,gridType:u,radialLines:d},b,{polarAngles:U,polarRadius:I})),y.createElement(UG,Un({cx:N,cy:k,innerRadius:P,outerRadius:E,gridType:u,radialLines:d},b,{polarAngles:U,polarRadius:I})))};ZT.displayName="PolarGrid";var e4={},t4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let s=r[0],i=n(s);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c>i&&(i=c,s=l)}return s}e.maxBy=t})(t4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t4,r=vc,n=Xf;function s(i,a){if(i!=null)return t.maxBy(Array.from(i),n.iteratee(a??r.identity))}e.maxBy=s})(e4);var WG=e4.maxBy;const VG=Mr(WG);var r4={},n4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){if(r.length===0)return;let s=r[0],i=n(s);for(let a=1;a<r.length;a++){const l=r[a],c=n(l);c<i&&(i=c,s=l)}return s}e.minBy=t})(n4);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n4,r=vc,n=Xf;function s(i,a){if(i!=null)return t.minBy(Array.from(i),n.iteratee(a??r.identity))}e.minBy=s})(r4);var KG=r4.minBy;const qG=Mr(KG);var HG={radiusAxis:{},angleAxis:{}},s4=gr({name:"polarAxis",initialState:HG,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:GG,removeRadiusAxis:YG,addAngleAxis:XG,removeAngleAxis:JG}=s4.actions,QG=s4.reducer,ZG=["cx","cy","angle","axisLine"],eY=["angle","tickFormatter","stroke","tick"];function tc(){return tc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tc.apply(null,arguments)}function SN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SN(Object(r),!0).forEach(function(n){Ah(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ah(e,t,r){return(t=tY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tY(e){var t=rY(e,"string");return typeof t=="symbol"?t:t+""}function rY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i4(e,t){if(e==null)return{};var r,n,s=nY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function nY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var a4="radiusAxis";function sY(e){var t=Ue();return y.useEffect(()=>(t(GG(e)),()=>{t(YG(e))})),null}var iY=(e,t,r,n)=>{var{coordinate:s}=e;return be(r,n,s,t)},aY=e=>{var t;switch(e){case"left":t="end";break;case"right":t="start";break;default:t="middle";break}return t},oY=(e,t,r,n)=>{var s=VG(n,a=>a.coordinate||0),i=qG(n,a=>a.coordinate||0);return{cx:t,cy:r,startAngle:e,endAngle:e,innerRadius:i.coordinate||0,outerRadius:s.coordinate||0}},lY=(e,t)=>{var{cx:r,cy:n,angle:s,axisLine:i}=e,a=i4(e,ZG),l=t.reduce((f,h)=>[Math.min(f[0],h.coordinate),Math.max(f[1],h.coordinate)],[1/0,-1/0]),c=be(r,n,l[0],s),u=be(r,n,l[1],s),d=sn(sn(sn({},Ct(a)),{},{fill:"none"},ve(i,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return y.createElement("line",tc({className:"recharts-polar-radius-axis-line"},d))},cY=(e,t,r)=>{var n;return y.isValidElement(e)?n=y.cloneElement(e,t):typeof e=="function"?n=e(t):n=y.createElement(No,tc({},t,{className:"recharts-polar-radius-axis-tick-value"}),r),n},uY=(e,t)=>{var{angle:r,tickFormatter:n,stroke:s,tick:i}=e,a=i4(e,eY),l=aY(e.orientation),c=Ct(a),u=ve(i,!1),d=t.map((f,h)=>{var m=iY(f,e.angle,e.cx,e.cy),p=sn(sn(sn(sn({textAnchor:l,transform:"rotate(".concat(90-r,", ").concat(m.x,", ").concat(m.y,")")},c),{},{stroke:"none",fill:s},u),{},{index:h},m),{},{payload:f});return y.createElement(ze,tc({className:de("recharts-polar-radius-axis-tick",JE(i)),key:"tick-".concat(f.coordinate)},uo(e,f,h)),cY(i,p,n?n(f.value,h):f.value))});return y.createElement(ze,{className:"recharts-polar-radius-axis-ticks"},d)},dY=e=>{var{radiusAxisId:t}=e,r=ee(yo),n=ee(c=>So(c,"radiusAxis",t)),s=ee(c=>Po(c,"radiusAxis",t,!1));if(r==null||!s||!s.length)return null;var i=sn(sn(sn({},e),{},{scale:n},r),{},{radius:r.outerRadius}),{tick:a,axisLine:l}=i;return y.createElement(ze,{className:de("recharts-polar-radius-axis",a4,i.className)},l&&lY(i,s),a&&uY(i,s),Ht.renderCallByParent(i,oY(i.angle,i.cx,i.cy,s)))};class Eh extends y.PureComponent{render(){return y.createElement(y.Fragment,null,y.createElement(sY,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),y.createElement(dY,this.props))}}Ah(Eh,"displayName","PolarRadiusAxis");Ah(Eh,"axisType",a4);Ah(Eh,"defaultProps",Vt);var fY=["children"];function Wn(){return Wn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wn.apply(null,arguments)}function PN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PN(Object(r),!0).forEach(function(n){Oh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Oh(e,t,r){return(t=hY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hY(e){var t=mY(e,"string");return typeof t=="symbol"?t:t+""}function mY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pY(e,t){if(e==null)return{};var r,n,s=gY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var yY=Math.PI/180,kN=1e-5,o4="angleAxis";function vY(e){var t=Ue(),r=y.useMemo(()=>{var i=pY(e,fY);return i},[e]),n=ee(i=>go(i,r.id)),s=r===n;return y.useEffect(()=>(t(XG(r)),()=>{t(JG(r))}),[t,r]),s?e.children:null}var xY=(e,t)=>{var{cx:r,cy:n,radius:s,orientation:i,tickSize:a}=t,l=a||8,c=be(r,n,s,e.coordinate),u=be(r,n,s+(i==="inner"?-1:1)*l,e.coordinate);return{x1:c.x,y1:c.y,x2:u.x,y2:u.y}},bY=(e,t)=>{var r=Math.cos(-e.coordinate*yY);return r>kN?t==="outer"?"start":"end":r<-kN?t==="outer"?"end":"start":"middle"},wY=e=>{var{cx:t,cy:r,radius:n,axisLineType:s,axisLine:i,ticks:a}=e;if(!i)return null;var l=rn(rn({},Ct(e)),{},{fill:"none"},ve(i,!1));if(s==="circle")return y.createElement(Ix,Wn({className:"recharts-polar-angle-axis-line"},l,{cx:t,cy:r,r:n}));var c=a.map(u=>be(t,r,n,u.coordinate));return y.createElement(GT,Wn({className:"recharts-polar-angle-axis-line"},l,{points:c}))},jY=e=>{var{tick:t,tickProps:r,value:n}=e;return t?y.isValidElement(t)?y.cloneElement(t,r):typeof t=="function"?t(r):y.createElement(No,Wn({},r,{className:"recharts-polar-angle-axis-tick-value"}),n):null},_Y=e=>{var{tick:t,tickLine:r,tickFormatter:n,stroke:s,ticks:i}=e,a=Ct(e),l=ve(t,!1),c=rn(rn({},a),{},{fill:"none"},ve(r,!1)),u=i.map((d,f)=>{var h=xY(d,e),m=bY(d,e.orientation),p=rn(rn(rn({},a),{},{textAnchor:m,stroke:"none",fill:s},l),{},{index:f,payload:d,x:h.x2,y:h.y2});return y.createElement(ze,Wn({className:de("recharts-polar-angle-axis-tick",JE(t)),key:"tick-".concat(d.coordinate)},uo(e,d,f)),r&&y.createElement("line",Wn({className:"recharts-polar-angle-axis-tick-line"},c,h)),y.createElement(jY,{tick:t,tickProps:p,value:n?n(d.value,f):d.value}))});return y.createElement(ze,{className:"recharts-polar-angle-axis-ticks"},u)},NY=e=>{var{angleAxisId:t}=e,r=ee(yo),n=ee(l=>So(l,"angleAxis",t)),s=tr(),i=ee(l=>Po(l,"angleAxis",t,s));if(r==null||!i||!i.length)return null;var a=rn(rn(rn({},e),{},{scale:n},r),{},{radius:r.outerRadius});return y.createElement(ze,{className:de("recharts-polar-angle-axis",o4,a.className)},y.createElement(wY,Wn({},a,{ticks:i})),y.createElement(_Y,Wn({},a,{ticks:i})))};class Ch extends y.PureComponent{render(){return this.props.radius<=0?null:y.createElement(vY,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},y.createElement(NY,this.props))}}Oh(Ch,"displayName","PolarAngleAxis");Oh(Ch,"axisType",o4);Oh(Ch,"defaultProps",tn);function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function EN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AN(Object(r),!0).forEach(function(n){SY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SY(e,t,r){return(t=PY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AY=(e,t)=>t,Vx=z([Bx,AY],(e,t)=>e.filter(r=>r.type==="pie").find(r=>r.id===t)),EY=[],Kx=(e,t,r)=>(r==null?void 0:r.length)===0?EY:r,l4=z([yh,Vx,Kx],(e,t,r)=>{var{chartData:n}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=n,(!s||!s.length)&&r!=null&&(s=r.map(i=>EN(EN({},t.presentationProps),i.props))),s!=null)return s}}),OY=z([l4,Vx,Kx],(e,t,r)=>{if(!(e==null||t==null))return e.map((n,s)=>{var i,a=Ce(n,t.nameKey,t.name),l;return r!=null&&(i=r[s])!==null&&i!==void 0&&(i=i.props)!==null&&i!==void 0&&i.fill?l=r[s].props.fill:typeof n=="object"&&n!=null&&"fill"in n?l=n.fill:l=t.fill,{value:fo(a,t.dataKey),color:l,payload:n,type:t.legendType}})}),CY=z([l4,Vx,Kx,st],(e,t,r,n)=>{if(!(t==null||e==null))return jX({offset:n,pieSettings:t,displayedData:e,cells:r})}),c4={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var s;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((s=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&s.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(c4);var TY=c4.isPlainObject;const MY=Mr(TY);function Jd(){return Jd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jd.apply(null,arguments)}var ON=(e,t,r,n,s)=>{var i=r-n,a;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+r,",").concat(t),a+="L ".concat(e+r-i/2,",").concat(t+s),a+="L ".concat(e+r-i/2-n,",").concat(t+s),a+="L ".concat(e,",").concat(t," Z"),a},DY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RY=e=>{var t=Rr(e,DY),r=y.useRef(),[n,s]=y.useState(-1);y.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var{x:i,y:a,upperWidth:l,lowerWidth:c,height:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isUpdateAnimationActive:p}=t;if(i!==+i||a!==+a||l!==+l||c!==+c||u!==+u||l===0&&c===0||u===0)return null;var x=de("recharts-trapezoid",d);return p?y.createElement(Rd,{canBegin:n>0,from:{upperWidth:0,lowerWidth:0,height:u,x:i,y:a},to:{upperWidth:l,lowerWidth:c,height:u,x:i,y:a},duration:h,animationEasing:f,isActive:p},w=>{var{upperWidth:g,lowerWidth:v,height:b,x:_,y:j}=w;return y.createElement(Rd,{canBegin:n>0,from:"0px ".concat(n===-1?1:n,"px"),to:"".concat(n,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:h,easing:f},y.createElement("path",Jd({},ve(t,!0),{className:x,d:ON(_,j,g,v,b),ref:r})))}):y.createElement("g",null,y.createElement("path",Jd({},ve(t,!0),{className:x,d:ON(i,a,l,c,u)})))},$Y=["option","shapeType","propTransformer","activeClassName","isActive"];function LY(e,t){if(e==null)return{};var r,n,s=IY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function IY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function CN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?CN(Object(r),!0).forEach(function(n){BY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BY(e,t,r){return(t=FY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=zY(e,"string");return typeof t=="symbol"?t:t+""}function zY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UY(e,t){return Qd(Qd({},t),e)}function WY(e,t){return e==="symbols"}function TN(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return y.createElement(_O,r);case"trapezoid":return y.createElement(RY,r);case"sector":return y.createElement(PO,r);case"symbols":if(WY(t))return y.createElement(eE,r);break;default:return null}}function VY(e){return y.isValidElement(e)?e.props:e}function u4(e){var{option:t,shapeType:r,propTransformer:n=UY,activeClassName:s="recharts-active-shape",isActive:i}=e,a=LY(e,$Y),l;if(y.isValidElement(t))l=y.cloneElement(t,Qd(Qd({},a),VY(t)));else if(typeof t=="function")l=t(a);else if(MY(t)&&typeof t!="boolean"){var c=n(t,a);l=y.createElement(TN,{shapeType:r,elementProps:c})}else{var u=a;l=y.createElement(TN,{shapeType:r,elementProps:u})}return i?y.createElement(ze,{className:s},l):l}var qx=(e,t)=>{var r=Ue();return(n,s)=>i=>{e==null||e(n,s,i),r(dT({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},Hx=e=>{var t=Ue();return(r,n)=>s=>{e==null||e(r,n,s),t(YK())}},Gx=(e,t)=>{var r=Ue();return(n,s)=>i=>{e==null||e(n,s,i),r(XK({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Yx(e){var{fn:t,args:r}=e,n=Ue(),s=tr();return y.useEffect(()=>{if(!s){var i=t(r);return n(qK(i)),()=>{n(HK(i))}}},[t,r,n,s]),null}var d4=()=>{};function KY(e){var{legendPayload:t}=e,r=Ue(),n=tr();return y.useEffect(()=>n?d4:(r(cO(t)),()=>{r(uO(t))}),[r,n,t]),null}function f4(e){var{legendPayload:t}=e,r=Ue(),n=ee(pe);return y.useEffect(()=>n!=="centric"&&n!=="radial"?d4:(r(cO(t)),()=>{r(uO(t))}),[r,n,t]),null}function Xx(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=y.useRef(Vl(t)),n=y.useRef(e);return n.current!==e&&(r.current=Vl(t),n.current=e),r.current}var Zm,qY=()=>{var[e]=y.useState(()=>Vl("uid-"));return e},HY=(Zm=vM.useId)!==null&&Zm!==void 0?Zm:qY;function GY(e,t){var r=HY();return t||(e?"".concat(e,"-").concat(r):r)}var YY=y.createContext(void 0),Jx=e=>{var{id:t,type:r,children:n}=e,s=GY("recharts-".concat(r),t);return y.createElement(YY.Provider,{value:s},n(s))},XY={cartesianItems:[],polarItems:[]},h4=gr({name:"graphicalItems",initialState:XY,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=On(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=On(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=On(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:JY,replaceCartesianGraphicalItem:QY,removeCartesianGraphicalItem:ZY,addPolarGraphicalItem:eX,removePolarGraphicalItem:tX}=h4.actions,rX=h4.reducer;function nX(e){var t=Ue(),r=y.useRef(null);return y.useEffect(()=>{r.current===null?t(JY(e)):r.current!==e&&t(QY({prev:r.current,next:e})),r.current=e},[t,e]),y.useEffect(()=>()=>{r.current&&(t(ZY(r.current)),r.current=null)},[t]),null}function m4(e){var t=Ue();return y.useEffect(()=>(t(eX(e)),()=>{t(tX(e))}),[t,e]),null}function sX(){}var iX={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},MN={t:0},ep={t:1};function Qx(e){var t=Rr(e,iX),{isActive:r,canBegin:n,duration:s,easing:i,begin:a,onAnimationEnd:l,onAnimationStart:c,children:u}=t,d=jO("JavascriptAnimate",t.animationManager),[f,h]=y.useState(r?MN:ep),m=y.useRef(null);return y.useEffect(()=>{r||h(ep)},[r]),y.useEffect(()=>{if(!r||!n)return sX;var p=wO(MN,ep,xO(i),s,h,d.getTimeoutController()),x=()=>{m.current=p()};return d.start([c,a,x,s,l]),()=>{d.stop(),m.current&&m.current(),l()}},[r,n,s,i,a,c,l,d]),u(f.t)}var aX=["onMouseEnter","onClick","onMouseLeave"],oX=["id"],lX=["id"];function Zx(e,t){if(e==null)return{};var r,n,s=cX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function cX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DN(Object(r),!0).forEach(function(n){uX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uX(e,t,r){return(t=dX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dX(e){var t=fX(e,"string");return typeof t=="symbol"?t:t+""}function fX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vn(){return Vn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vn.apply(null,arguments)}function hX(e){var t=y.useMemo(()=>yc(e.children,Li),[e.children]),r=ee(n=>OY(n,e.id,t));return r==null?null:y.createElement(f4,{legendPayload:r})}function mX(e){var{dataKey:t,nameKey:r,sectors:n,stroke:s,strokeWidth:i,fill:a,name:l,hide:c,tooltipType:u}=e;return{dataDefinedOnItem:n==null?void 0:n.map(d=>d.tooltipPayload),positions:n==null?void 0:n.map(d=>d.tooltipPosition),settings:{stroke:s,strokeWidth:i,fill:a,dataKey:t,nameKey:r,name:fo(l,t),hide:c,type:u,color:a,unit:""}}}var pX=(e,t)=>e>t?"start":e<t?"end":"middle",gX=(e,t,r)=>typeof t=="function"?t(e):It(t,r,r*.8),yX=(e,t,r)=>{var{top:n,left:s,width:i,height:a}=t,l=XE(i,a),c=s+It(e.cx,i,i/2),u=n+It(e.cy,a,a/2),d=It(e.innerRadius,l,0),f=gX(r,e.outerRadius,l),h=e.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},vX=(e,t)=>{var r=ft(t-e),n=Math.min(Math.abs(t-e),360);return r*n},xX=(e,t)=>{if(y.isValidElement(e))return y.cloneElement(e,t);if(typeof e=="function")return e(t);var r=de("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return y.createElement(fO,Vn({},t,{type:"linear",className:r}))},bX=(e,t,r)=>{if(y.isValidElement(e))return y.cloneElement(e,t);var n=r;if(typeof e=="function"&&(n=e(t),y.isValidElement(n)))return n;var s=de("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return y.createElement(No,Vn({},t,{alignmentBaseline:"middle",className:s}),n)};function wX(e){var{sectors:t,props:r,showLabels:n}=e,{label:s,labelLine:i,dataKey:a}=r;if(!n||!s||!t)return null;var l=Ct(r),c=ve(s,!1),u=ve(i,!1),d=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=be(h.cx,h.cy,h.outerRadius+d,p),w=qe(qe(qe(qe({},l),h),{},{stroke:"none"},c),{},{index:m,textAnchor:pX(x.x,h.cx)},x),g=qe(qe(qe(qe({},l),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[be(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return y.createElement(ze,{key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},i&&xX(i,g),bX(s,w,Ce(h,a)))});return y.createElement(ze,{className:"recharts-pie-labels"},f)}function p4(e){var{sectors:t,activeShape:r,inactiveShape:n,allOtherPieProps:s,showLabels:i}=e,a=ee(Os),{onMouseEnter:l,onClick:c,onMouseLeave:u}=s,d=Zx(s,aX),f=qx(l,s.dataKey),h=Hx(u),m=Gx(c,s.dataKey);return t==null?null:y.createElement(y.Fragment,null,t.map((p,x)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&t.length!==1)return null;var w=r&&String(x)===a,g=a?n:null,v=w?r:g,b=qe(qe({},p),{},{stroke:p.stroke,tabIndex:-1,[rO]:x,[nO]:s.dataKey});return y.createElement(ze,Vn({tabIndex:-1,className:"recharts-pie-sector"},uo(d,p,x),{onMouseEnter:f(p,x),onMouseLeave:h(p,x),onClick:m(p,x),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(x)}),y.createElement(u4,Vn({option:v,isActive:w,shapeType:"sector"},b)))}),y.createElement(wX,{sectors:t,props:s,showLabels:i}))}function jX(e){var t,{pieSettings:r,displayedData:n,cells:s,offset:i}=e,{cornerRadius:a,startAngle:l,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=r,h=Math.abs(r.minAngle),m=vX(l,c),p=Math.abs(m),x=n.length<=1?0:(t=r.paddingAngle)!==null&&t!==void 0?t:0,w=n.filter(N=>Ce(N,u,0)!==0).length,g=(p>=360?w:w-1)*x,v=p-w*h-g,b=n.reduce((N,k)=>{var P=Ce(k,u,0);return N+(te(P)?P:0)},0),_;if(b>0){var j;_=n.map((N,k)=>{var P=Ce(N,u,0),E=Ce(N,d,k),T=yX(r,i,N),O=(te(P)?P:0)/b,U,I=qe(qe({},N),s&&s[k]&&s[k].props);k?U=j.endAngle+ft(m)*x*(P!==0?1:0):U=l;var H=U+ft(m)*((P!==0?h:0)+O*v),B=(U+H)/2,K=(T.innerRadius+T.outerRadius)/2,F=[{name:E,value:P,payload:I,dataKey:u,type:f}],A=be(T.cx,T.cy,K,B);return j=qe(qe(qe(qe({},r.presentationProps),{},{percent:O,cornerRadius:a,name:E,tooltipPayload:F,midAngle:B,middleRadius:K,tooltipPosition:A},I),T),{},{value:Ce(N,u),startAngle:U,endAngle:H,payload:I,paddingAngle:ft(m)*x}),j})}return _}function _X(e){var{props:t,previousSectorsRef:r}=e,{sectors:n,isAnimationActive:s,animationBegin:i,animationDuration:a,animationEasing:l,activeShape:c,inactiveShape:u,onAnimationStart:d,onAnimationEnd:f}=t,h=Xx(t,"recharts-pie-"),m=r.current,[p,x]=y.useState(!0),w=y.useCallback(()=>{typeof f=="function"&&f(),x(!1)},[f]),g=y.useCallback(()=>{typeof d=="function"&&d(),x(!0)},[d]);return y.createElement(Qx,{begin:i,duration:a,isActive:s,easing:l,onAnimationStart:g,onAnimationEnd:w,key:h},v=>{var b=[],_=n&&n[0],j=_.startAngle;return n.forEach((N,k)=>{var P=m&&m[k],E=k>0?Es(N,"paddingAngle",0):0;if(P){var T=fa(P.endAngle-P.startAngle,N.endAngle-N.startAngle),O=qe(qe({},N),{},{startAngle:j+E,endAngle:j+T(v)+E});b.push(O),j=O.endAngle}else{var{endAngle:U,startAngle:I}=N,H=fa(0,U-I),B=H(v),K=qe(qe({},N),{},{startAngle:j+E,endAngle:j+B+E});b.push(K),j=K.endAngle}}),r.current=b,y.createElement(ze,null,y.createElement(p4,{sectors:b,activeShape:c,inactiveShape:u,allOtherPieProps:t,showLabels:!p}))})}function NX(e){var{sectors:t,isAnimationActive:r,activeShape:n,inactiveShape:s}=e,i=y.useRef(null),a=i.current;return r&&t&&t.length&&(!a||a!==t)?y.createElement(_X,{props:e,previousSectorsRef:i}):y.createElement(p4,{sectors:t,activeShape:n,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function SX(e){var{hide:t,className:r,rootTabIndex:n}=e,s=de("recharts-pie",r);return t?null:y.createElement(ze,{tabIndex:n,className:s},y.createElement(NX,e))}var PX={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Mi.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function kX(e){var{id:t}=e,r=Zx(e,oX),n=y.useMemo(()=>yc(e.children,Li),[e.children]),s=ee(i=>CY(i,t,n));return y.createElement(y.Fragment,null,y.createElement(Yx,{fn:mX,args:qe(qe({},e),{},{sectors:s})}),y.createElement(SX,Vn({},r,{sectors:s})))}function Th(e){var t=Rr(e,PX),{id:r}=t,n=Zx(t,lX),s=Ct(n);return y.createElement(Jx,{id:r,type:"pie"},i=>y.createElement(y.Fragment,null,y.createElement(m4,{type:"pie",id:i,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:s}),y.createElement(hX,Vn({},n,{id:i})),y.createElement(kX,Vn({},n,{id:i})),n.children))}Th.displayName="Pie";var AX=z([st],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),EX=z([AX,qn,Hn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),g4=()=>ee(EX),OX=()=>ee($q);function RN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $N(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RN(Object(r),!0).forEach(function(n){CX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CX(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=MX(e,"string");return typeof t=="symbol"?t:t+""}function MX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var DX=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:i}=e;if(s===!1||t.x==null||t.y==null)return null;var a=$N($N({index:r,dataKey:i,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ve(s,!1)),uv(s)),l;return y.isValidElement(s)?l=y.cloneElement(s,a):typeof s=="function"?l=s(a):l=y.createElement(Ix,a),y.createElement(ze,{className:"recharts-active-dot"},l)};function RX(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,i=ee(Os),a=OX();if(t==null||a==null)return null;var l=t.find(c=>a.includes(c.payload));return He(l)?null:DX({point:l,childIndex:Number(i),mainColor:r,dataKey:s,activeDot:n})}function LN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LN(Object(r),!0).forEach(function(n){$X(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $X(e,t,r){return(t=LX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LX(e){var t=IX(e,"string");return typeof t=="symbol"?t:t+""}function IX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y4=(e,t)=>So(e,"radiusAxis",t),BX=z([y4],e=>{if(e!=null)return{scale:e}}),FX=z([Sc,y4],(e,t)=>{if(!(e==null||t==null))return Zd(Zd({},e),{},{scale:t})}),zX=(e,t,r,n)=>Po(e,"radiusAxis",t,n),v4=(e,t,r)=>go(e,r),x4=(e,t,r)=>So(e,"angleAxis",r),UX=z([v4,x4],(e,t)=>{if(!(e==null||t==null))return Zd(Zd({},e),{},{scale:t})}),WX=(e,t,r,n)=>Po(e,"angleAxis",r,n),VX=z([v4,x4,yo],(e,t,r)=>{if(!(r==null||t==null))return{scale:t,type:e.type,dataKey:e.dataKey,cx:r.cx,cy:r.cy}}),KX=(e,t,r,n,s)=>s,qX=z([pe,FX,zX,UX,WX],(e,t,r,n,s)=>Is(e,"radiusAxis")?Hl(t,r,!1):Hl(n,s,!1)),HX=z([Bx,KX],(e,t)=>{if(e.some(r=>r.type==="radar"&&t===r.dataKey))return t}),GX=z([BX,VX,yh,HX,qX],(e,t,r,n,s)=>{var{chartData:i,dataStartIndex:a,dataEndIndex:l}=r;if(!(e==null||t==null||i==null||s==null||n==null)){var c=i.slice(a,l+1);return nJ({radiusAxis:e,angleAxis:t,displayedData:c,dataKey:n,bandSize:s})}}),YX=["id"];function XX(e,t){if(e==null)return{};var r,n,s=JX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function JX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function IN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IN(Object(r),!0).forEach(function(n){eb(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eb(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=ZX(e,"string");return typeof t=="symbol"?t:t+""}function ZX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qa(){return Qa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qa.apply(null,arguments)}function tb(e,t){return e&&e!=="none"?e:t}var eJ=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:tb(n,s),value:fo(r,t),payload:e}]};function tJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:a,tooltipType:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,nameKey:void 0,dataKey:t,name:fo(i,t),hide:a,type:l,color:tb(r,s),unit:""}}}function rJ(e,t){var r;return y.isValidElement(e)?r=y.cloneElement(e,t):typeof e=="function"?r=e(t):r=y.createElement(Ix,Qa({},t,{className:de("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),r}function nJ(e){var{radiusAxis:t,angleAxis:r,displayedData:n,dataKey:s,bandSize:i}=e,{cx:a,cy:l}=r,c=!1,u=[],d=r.type!=="number"?i??0:0;n.forEach((h,m)=>{var p=Ce(h,r.dataKey,m),x=Ce(h,s),w=r.scale(p)+d,g=Array.isArray(x)?HT(x):x,v=He(g)?void 0:t.scale(g);Array.isArray(x)&&x.length>=2&&(c=!0),u.push($t($t({},be(a,l,v,w)),{},{name:p,value:x,cx:a,cy:l,radius:v,angle:w,payload:h}))});var f=[];return c&&u.forEach(h=>{if(Array.isArray(h.value)){var m=h.value[0],p=He(m)?void 0:t.scale(m);f.push($t($t({},h),{},{radius:p},be(a,l,p,h.angle)))}else f.push(h)}),{points:u,isRange:c,baseLinePoints:f}}function sJ(e){var{points:t,props:r}=e,{dot:n,dataKey:s}=r;if(!n)return null;var i=XX(r,YX),a=Ct(i),l=ve(n,!0),c=t.map((u,d)=>{var f=$t($t($t({key:"dot-".concat(d),r:3},a),l),{},{dataKey:s,cx:u.x,cy:u.y,index:d,payload:u});return rJ(n,f)});return y.createElement(ze,{className:"recharts-radar-dots"},c)}function b4(e){var{points:t,props:r,showLabels:n}=e;if(t==null)return null;var{shape:s,isRange:i,baseLinePoints:a,connectNulls:l}=r,c=f=>{var{onMouseEnter:h}=r;h&&h(r,f)},u=f=>{var{onMouseLeave:h}=r;h&&h(r,f)},d;return y.isValidElement(s)?d=y.cloneElement(s,$t($t({},r),{},{points:t})):typeof s=="function"?d=s($t($t({},r),{},{points:t})):d=y.createElement(GT,Qa({},ve(r,!0),{onMouseEnter:c,onMouseLeave:u,points:t,baseLinePoints:i?a:null,connectNulls:l})),y.createElement(ze,{className:"recharts-radar-polygon"},d,y.createElement(sJ,{props:r,points:t}),n&&Ss.renderCallByParent(r,t))}function iJ(e){var{props:t,previousPointsRef:r}=e,{points:n,isAnimationActive:s,animationBegin:i,animationDuration:a,animationEasing:l,onAnimationEnd:c,onAnimationStart:u}=t,d=r.current,f=Xx(t,"recharts-radar-"),[h,m]=y.useState(!0),p=y.useCallback(()=>{typeof c=="function"&&c(),m(!1)},[c]),x=y.useCallback(()=>{typeof u=="function"&&u(),m(!0)},[u]);return y.createElement(Qx,{begin:i,duration:a,isActive:s,easing:l,key:"radar-".concat(f),onAnimationEnd:p,onAnimationStart:x},w=>{var g=d&&d.length/n.length,v=w===1?n:n.map((b,_)=>{var j=d&&d[Math.floor(_*g)];if(j){var N=fa(j.x,b.x),k=fa(j.y,b.y);return $t($t({},b),{},{x:N(w),y:k(w)})}var P=fa(b.cx,b.x),E=fa(b.cy,b.y);return $t($t({},b),{},{x:P(w),y:E(w)})});return w>0&&(r.current=v),y.createElement(b4,{points:v,props:t,showLabels:!h})})}function aJ(e){var{points:t,isAnimationActive:r,isRange:n}=e,s=y.useRef(void 0),i=s.current;return r&&t&&t.length&&!n&&(!i||i!==t)?y.createElement(iJ,{props:e,previousPointsRef:s}):y.createElement(b4,{points:t,props:e,showLabels:!0})}var oJ={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Mi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class lJ extends y.PureComponent{render(){var{hide:t,className:r,points:n}=this.props;if(t)return null;var s=de("recharts-radar",r);return y.createElement(y.Fragment,null,y.createElement(ze,{className:s},y.createElement(aJ,this.props)),y.createElement(RX,{points:n,mainColor:tb(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function cJ(e){var t=tr(),r=ee(n=>GX(n,e.radiusAxisId,e.angleAxisId,t,e.dataKey));return y.createElement(lJ,Qa({},e,{points:r==null?void 0:r.points,baseLinePoints:r==null?void 0:r.baseLinePoints,isRange:r==null?void 0:r.isRange}))}class rb extends y.PureComponent{render(){return y.createElement(Jx,{id:this.props.id,type:"radar"},t=>y.createElement(y.Fragment,null,y.createElement(m4,{type:"radar",id:t,data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId}),y.createElement(f4,{legendPayload:eJ(this.props)}),y.createElement(Yx,{fn:tJ,args:this.props}),y.createElement(cJ,Qa({},this.props,{id:t}))))}}eb(rb,"displayName","Radar");eb(rb,"defaultProps",oJ);var uJ="Invariant failed";function dJ(e,t){throw new Error(uJ)}var fJ=["x","y"];function gg(){return gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gg.apply(null,arguments)}function BN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ko(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BN(Object(r),!0).forEach(function(n){hJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hJ(e,t,r){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gJ(e,t){if(e==null)return{};var r,n,s=yJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function vJ(e,t){var{x:r,y:n}=e,s=gJ(e,fJ),i="".concat(r),a=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),d=parseInt(u,10),f="".concat(t.width||s.width),h=parseInt(f,10);return Ko(Ko(Ko(Ko(Ko({},t),s),a?{x:a}:{}),c?{y:c}:{}),{},{height:d,width:h,name:t.name,radius:t.radius})}function w4(e){return y.createElement(u4,gg({shapeType:"rectangle",propTransformer:vJ,activeClassName:"recharts-active-bar"},e))}var xJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(te(t))return t;var i=te(n)||He(n);return i?t(n,s):(i||dJ(),r)}},bJ={},wJ=gr({name:"errorBars",initialState:bJ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),jJ=wJ.reducer,_J=["children"];function NJ(e,t){if(e==null)return{};var r,n,s=SJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PJ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},kJ=y.createContext(PJ);function AJ(e){var{children:t}=e,r=NJ(e,_J);return y.createElement(kJ.Provider,{value:r},t)}function j4(e,t){var r,n,s=ee(u=>Yn(u,e)),i=ee(u=>Us(u,t)),a=(r=s==null?void 0:s.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:nr.allowDataOverflow,c=a||l;return{needClip:c,needClipX:a,needClipY:l}}function EJ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=g4(),{needClipX:i,needClipY:a,needClip:l}=j4(t,r);if(!l)return null;var{x:c,y:u,width:d,height:f}=s;return y.createElement("clipPath",{id:"clipPath-".concat(n)},y.createElement("rect",{x:i?c:c-d/2,y:a?u:u-f/2,width:i?d:d*2,height:a?f:f*2}))}var OJ=["onMouseEnter","onMouseLeave","onClick"],CJ=["value","background","tooltipPosition"],TJ=["id"],MJ=["onMouseEnter","onClick","onMouseLeave"];function Za(){return Za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Za.apply(null,arguments)}function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){DJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function DJ(e,t,r){return(t=RJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RJ(e){var t=$J(e,"string");return typeof t=="symbol"?t:t+""}function $J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ef(e,t){if(e==null)return{};var r,n,s=LJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function LJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var IJ=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:i}=e;return[{inactive:i,dataKey:t,type:s,color:n,value:fo(r,t),payload:e}]};function BJ(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:i,hide:a,unit:l}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:fo(i,t),hide:a,type:e.tooltipType,color:e.fill,unit:l}}}function FJ(e){var t=ee(Os),{data:r,dataKey:n,background:s,allOtherBarProps:i}=e,{onMouseEnter:a,onMouseLeave:l,onClick:c}=i,u=ef(i,OJ),d=qx(a,n),f=Hx(l),h=Gx(c,n);if(!s||r==null)return null;var m=ve(s,!1);return y.createElement(y.Fragment,null,r.map((p,x)=>{var{value:w,background:g,tooltipPosition:v}=p,b=ef(p,CJ);if(!g)return null;var _=d(p,x),j=f(p,x),N=h(p,x),k=St(St(St(St(St({option:s,isActive:String(x)===t},b),{},{fill:"#eee"},g),m),uo(u,p,x)),{},{onMouseEnter:_,onMouseLeave:j,onClick:N,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return y.createElement(w4,Za({key:"background-bar-".concat(x)},k))}))}function _4(e){var{data:t,props:r,showLabels:n}=e,s=Ct(r),i=ef(s,TJ),{shape:a,dataKey:l,activeBar:c}=r,u=ee(Os),d=ee(NT),{onMouseEnter:f,onClick:h,onMouseLeave:m}=r,p=ef(r,MJ),x=qx(f,l),w=Hx(m),g=Gx(h,l);return t?y.createElement(y.Fragment,null,t.map((v,b)=>{var _=c&&String(b)===u&&(d==null||l===d),j=_?c:a,N=St(St(St({},i),v),{},{isActive:_,option:j,index:b,dataKey:l});return y.createElement(ze,Za({className:"recharts-bar-rectangle"},uo(p,v,b),{onMouseEnter:x(v,b),onMouseLeave:w(v,b),onClick:g(v,b),key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(b)}),y.createElement(w4,N))}),n&&Ss.renderCallByParent(r,t)):null}function zJ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:i,animationBegin:a,animationDuration:l,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=Xx(t,"recharts-bar-"),[m,p]=y.useState(!1),x=y.useCallback(()=>{typeof u=="function"&&u(),p(!1)},[u]),w=y.useCallback(()=>{typeof d=="function"&&d(),p(!0)},[d]);return y.createElement(Qx,{begin:a,duration:l,isActive:i,easing:c,onAnimationEnd:x,onAnimationStart:w,key:h},g=>{var v=g===1?n:n==null?void 0:n.map((b,_)=>{var j=f&&f[_];if(j)return St(St({},b),{},{x:Vi(j.x,b.x,g),y:Vi(j.y,b.y,g),width:Vi(j.width,b.width,g),height:Vi(j.height,b.height,g)});if(s==="horizontal"){var N=Vi(0,b.height,g);return St(St({},b),{},{y:b.y+b.height-N,height:N})}var k=Vi(0,b.width,g);return St(St({},b),{},{width:k})});return g>0&&(r.current=v??null),v==null?null:y.createElement(ze,null,y.createElement(_4,{props:t,data:v,showLabels:!m}))})}function UJ(e){var{data:t,isAnimationActive:r}=e,n=y.useRef(null);return r&&t&&t.length&&(n.current==null||n.current!==t)?y.createElement(zJ,{previousRectanglesRef:n,props:e}):y.createElement(_4,{props:e,data:t,showLabels:!0})}var N4=0,WJ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Ce(e,t)}};class VJ extends y.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:i,yAxisId:a,needClip:l,background:c,id:u}=this.props;if(t)return null;var d=de("recharts-bar",s),f=u;return y.createElement(ze,{className:d,id:u},l&&y.createElement("defs",null,y.createElement(EJ,{clipPathId:f,xAxisId:i,yAxisId:a})),y.createElement(ze,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},y.createElement(FJ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),y.createElement(UJ,this.props)),this.props.children)}}var KJ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Mi.isSsr,legendType:"rect",minPointSize:N4,xAxisId:0,yAxisId:0};function qJ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=j4(t,r),h=Cv(),m=tr(),p=yc(e.children,Li),x=ee(v=>xQ(v,t,r,m,e.id,p));if(h!=="vertical"&&h!=="horizontal")return null;var w,g=x==null?void 0:x[0];return g==null||g.height==null||g.width==null?w=0:w=h==="vertical"?g.height/2:g.width/2,y.createElement(AJ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:WJ,errorBarOffset:w},y.createElement(VJ,Za({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:i,activeBar:a,animationBegin:l,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function HJ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:i,xAxis:a,yAxis:l,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m}=e,p=t==="horizontal"?l:a,x=d?p.scale.domain():null,w=DU({numericAxis:p});return f.map((g,v)=>{var b,_,j,N,k,P;d?b=AU(d[v],x):(b=Ce(g,r),Array.isArray(b)||(b=[w,b]));var E=xJ(n,N4)(b[1],v);if(t==="horizontal"){var T,[O,U]=[l.scale(b[0]),l.scale(b[1])];_=Ij({axis:a,ticks:c,bandSize:i,offset:s.offset,entry:g,index:v}),j=(T=U??O)!==null&&T!==void 0?T:void 0,N=s.size;var I=O-U;if(k=ur(I)?0:I,P={x:_,y:h.top,width:N,height:h.height},Math.abs(E)>0&&Math.abs(k)<Math.abs(E)){var H=ft(k||E)*(Math.abs(E)-Math.abs(k));j-=H,k+=H}}else{var[B,K]=[a.scale(b[0]),a.scale(b[1])];if(_=B,j=Ij({axis:l,ticks:u,bandSize:i,offset:s.offset,entry:g,index:v}),N=K-B,k=s.size,P={x:h.left,y:j,width:h.width,height:k},Math.abs(E)>0&&Math.abs(N)<Math.abs(E)){var F=ft(N||E)*(Math.abs(E)-Math.abs(N));N+=F}}if(_==null||j==null||N==null||k==null)return null;var A=St(St({},g),{},{x:_,y:j,width:N,height:k,value:d?b:b[1],payload:g,background:P,tooltipPosition:{x:_+N/2,y:j+k/2}},m&&m[v]&&m[v].props);return A}).filter(Boolean)}function Mh(e){var t=Rr(e,KJ),r=tr();return y.createElement(Jx,{id:t.id,type:"bar"},n=>y.createElement(y.Fragment,null,y.createElement(KY,{legendPayload:IJ(t)}),y.createElement(Yx,{fn:BJ,args:t}),y.createElement(nX,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:MU(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),y.createElement(qJ,Za({},t,{id:n}))))}Mh.displayName="Bar";function zN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zN(Object(r),!0).forEach(function(n){GJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GJ(e,t,r){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YJ(e){var t=XJ(e,"string");return typeof t=="symbol"?t:t+""}function XJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JJ=(e,t)=>t,QJ=(e,t,r)=>r,ZJ=(e,t,r,n)=>n,eQ=(e,t,r,n,s)=>s,Tc=z([fx,eQ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),tQ=z([Tc],e=>e==null?void 0:e.maxBarSize),rQ=(e,t,r,n,s,i)=>i,UN=(e,t,r)=>{var n=r??e;if(!He(n))return It(n,t,0)},nQ=z([pe,fx,JJ,QJ,ZJ],(e,t,r,n,s)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===s).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),sQ=(e,t,r,n)=>{var s=pe(e);return s==="horizontal"?cg(e,"yAxis",r,n):cg(e,"xAxis",t,n)},iQ=(e,t,r)=>{var n=pe(e);return n==="horizontal"?H_(e,"xAxis",t):H_(e,"yAxis",r)},aQ=(e,t,r)=>{var n={},s=e.filter(wh),i=e.filter(u=>u.stackId==null),a=s.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(a).map(u=>{var[d,f]=u,h=f.map(p=>p.dataKey),m=UN(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=UN(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...c]},oQ=z([nQ,HV,iQ],aQ),lQ=(e,t,r,n,s)=>{var i,a,l=Tc(e,t,r,n,s);if(l!=null){var c=pe(e),u=SC(e),{maxBarSize:d}=l,f=He(d)?u:d,h,m;return c==="horizontal"?(h=Ya(e,"xAxis",t,n),m=Ga(e,"xAxis",t,n)):(h=Ya(e,"yAxis",r,n),m=Ga(e,"yAxis",r,n)),(i=(a=Hl(h,m,!0))!==null&&a!==void 0?a:f)!==null&&i!==void 0?i:0}},S4=(e,t,r,n)=>{var s=pe(e),i,a;return s==="horizontal"?(i=Ya(e,"xAxis",t,n),a=Ga(e,"xAxis",t,n)):(i=Ya(e,"yAxis",r,n),a=Ga(e,"yAxis",r,n)),Hl(i,a)};function cQ(e,t,r,n,s){var i=n.length;if(!(i<1)){var a=It(e,r,0,!0),l,c=[];if(hr(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((g,v)=>g+(v.barSize||0),0);f+=(i-1)*a,f>=r&&(f-=(i-1)*a,a=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-a,size:0};l=n.reduce((g,v)=>{var b,_={stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:m.offset+m.size+a,size:u?d:(b=v.barSize)!==null&&b!==void 0?b:0}},j=[...g,_];return m=j[j.length-1].position,j},c)}else{var p=It(t,r,0,!0);r-2*p-(i-1)*a<=0&&(a=0);var x=(r-2*p-(i-1)*a)/i;x>1&&(x>>=0);var w=hr(s)?Math.min(x,s):x;l=n.reduce((g,v,b)=>[...g,{stackId:v.stackId,dataKeys:v.dataKeys,position:{offset:p+(x+a)*b+(x-w)/2,size:w}}],c)}return l}}var uQ=(e,t,r,n,s,i,a)=>{var l=He(a)?t:a,c=cQ(r,n,s!==i?s:i,e,l);return s!==i&&c!=null&&(c=c.map(u=>bu(bu({},u),{},{position:bu(bu({},u.position),{},{offset:u.position.offset-s/2})}))),c},dQ=z([oQ,SC,qV,PC,lQ,S4,tQ],uQ),fQ=(e,t,r,n)=>Ya(e,"xAxis",t,n),hQ=(e,t,r,n)=>Ya(e,"yAxis",r,n),mQ=(e,t,r,n)=>Ga(e,"xAxis",t,n),pQ=(e,t,r,n)=>Ga(e,"yAxis",r,n),gQ=z([dQ,Tc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),yQ=(e,t)=>{var r=cx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:i}=s;if(i)return i.find(a=>a.key===r)}}}},vQ=z([sQ,Tc],yQ),xQ=z([st,fQ,hQ,mQ,pQ,gQ,pe,rx,S4,vQ,Tc,rQ],(e,t,r,n,s,i,a,l,c,u,d,f)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:p}=l;if(!(d==null||i==null||a!=="horizontal"&&a!=="vertical"||t==null||r==null||n==null||s==null||c==null)){var{data:x}=d,w;if(x!=null&&x.length>0?w=x:w=h==null?void 0:h.slice(m,p+1),w!=null)return HJ({layout:a,barSettings:d,pos:i,bandSize:c,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,stackedData:u,displayedData:w,offset:e,cells:f})}}),P4=e=>{var{chartData:t}=e,r=Ue(),n=tr();return y.useEffect(()=>n?()=>{}:(r(rN(t)),()=>{r(rN(void 0))}),[t,r,n]),null},WN={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},bQ=gr({name:"brush",initialState:WN,reducers:{setBrushSettings(e,t){return t.payload==null?WN:t.payload}}}),wQ=bQ.reducer;function jQ(e,t,r){return(t=_Q(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _Q(e){var t=NQ(e,"string");return typeof t=="symbol"?t:t+""}function NQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class nb{static create(t){return new nb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}jQ(nb,"EPS",1e-4);function SQ(e){return(e%180+180)%180}var PQ=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SQ(s),a=i*Math.PI/180,l=Math.atan(n/r),c=a>l&&a<Math.PI-l?n/Math.sin(a):r/Math.cos(a);return Math.abs(c)},kQ={dots:[],areas:[],lines:[]},AQ=gr({name:"referenceElements",initialState:kQ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=On(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=On(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=On(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),EQ=AQ.reducer,OQ=y.createContext(void 0),CQ=e=>{var{children:t}=e,[r]=y.useState("".concat(Vl("recharts"),"-clip")),n=g4();if(n==null)return null;var{x:s,y:i,width:a,height:l}=n;return y.createElement(OQ.Provider,{value:r},y.createElement("defs",null,y.createElement("clipPath",{id:r},y.createElement("rect",{x:s,y:i,height:l,width:a}))),t)};function tp(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function k4(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function TQ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return PQ(n,r)}function MQ(e,t,r){var n=r==="width",{x:s,y:i,width:a,height:l}=e;return t===1?{start:n?s:i,end:n?s+a:i+l}:{start:n?s+a:i+l,end:n?s:i}}function tf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function DQ(e,t){return k4(e,t+1)}function RQ(e,t,r,n,s){for(var i=(n||[]).slice(),{start:a,end:l}=t,c=0,u=1,d=a,f=function(){var p=n==null?void 0:n[c];if(p===void 0)return{v:k4(n,u)};var x=c,w,g=()=>(w===void 0&&(w=r(p,x)),w),v=p.coordinate,b=c===0||tf(e,v,g,d,l);b||(c=0,d=a,u+=1),b&&(d=v+e*(g()/2+s),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function VN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VN(Object(r),!0).forEach(function(n){$Q(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $Q(e,t,r){return(t=LQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LQ(e){var t=IQ(e,"string");return typeof t=="symbol"?t:t+""}function IQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BQ(e,t,r,n,s){for(var i=(n||[]).slice(),a=i.length,{start:l}=t,{end:c}=t,u=function(h){var m=i[h],p,x=()=>(p===void 0&&(p=r(m,h)),p);if(h===a-1){var w=e*(m.coordinate+e*x()/2-c);i[h]=m=_t(_t({},m),{},{tickCoord:w>0?m.coordinate-w*e:m.coordinate})}else i[h]=m=_t(_t({},m),{},{tickCoord:m.coordinate});var g=tf(e,m.tickCoord,x,l,c);g&&(c=m.tickCoord-e*(x()/2+s),i[h]=_t(_t({},m),{},{isShow:!0}))},d=a-1;d>=0;d--)u(d);return i}function FQ(e,t,r,n,s,i){var a=(n||[]).slice(),l=a.length,{start:c,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);a[l-1]=d=_t(_t({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate});var m=tf(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+s),a[l-1]=_t(_t({},d),{},{isShow:!0}))}for(var p=i?l-1:l,x=function(v){var b=a[v],_,j=()=>(_===void 0&&(_=r(b,v)),_);if(v===0){var N=e*(b.coordinate-e*j()/2-c);a[v]=b=_t(_t({},b),{},{tickCoord:N<0?b.coordinate-N*e:b.coordinate})}else a[v]=b=_t(_t({},b),{},{tickCoord:b.coordinate});var k=tf(e,b.tickCoord,j,c,u);k&&(c=b.tickCoord+e*(j()/2+s),a[v]=_t(_t({},b),{},{isShow:!0}))},w=0;w<p;w++)x(w);return a}function sb(e,t,r){var{tick:n,ticks:s,viewBox:i,minTickGap:a,orientation:l,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!s||!s.length||!n)return[];if(te(c)||Mi.isSsr){var h;return(h=DQ(s,te(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=l==="top"||l==="bottom"?"width":"height",x=d&&p==="width"?xl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=(b,_)=>{var j=typeof u=="function"?u(b.value,_):b.value;return p==="width"?TQ(xl(j,{fontSize:t,letterSpacing:r}),x,f):xl(j,{fontSize:t,letterSpacing:r})[p]},g=s.length>=2?ft(s[1].coordinate-s[0].coordinate):1,v=MQ(i,g,p);return c==="equidistantPreserveStart"?RQ(g,v,w,s,a):(c==="preserveStart"||c==="preserveStartEnd"?m=FQ(g,v,w,s,a,c==="preserveStartEnd"):m=BQ(g,v,w,s,a),m.filter(b=>b.isShow))}var zQ=["viewBox"],UQ=["viewBox"];function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}function KN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?KN(Object(r),!0).forEach(function(n){ib(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qN(e,t){if(e==null)return{};var r,n,s=WQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ib(e,t,r){return(t=VQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VQ(e){var t=KQ(e,"string");return typeof t=="symbol"?t:t+""}function KQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Vs extends y.Component{constructor(t){super(t),this.tickRefs=y.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=qN(t,zQ),i=this.props,{viewBox:a}=i,l=qN(i,UQ);return!tp(n,a)||!tp(s,l)||!tp(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:i,orientation:a,tickSize:l,mirror:c,tickMargin:u}=this.props,d,f,h,m,p,x,w=c?-1:1,g=t.tickSize||l,v=te(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,m=n+ +!c*i,h=m-w*g,x=h-w*u,p=v;break;case"left":h=m=t.coordinate,f=r+ +!c*s,d=f-w*g,p=d-w*u,x=v;break;case"right":h=m=t.coordinate,f=r+ +c*s,d=f+w*g,p=d+w*u,x=v;break;default:d=f=t.coordinate,m=n+ +c*i,h=m+w*g,x=h+w*u,p=v;break}return{line:{x1:d,y1:h,x2:f,y2:m},tick:{x:p,y:x}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props,n;switch(t){case"left":n=r?"start":"end";break;case"right":n=r?"end":"start";break;default:n="middle";break}return n}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:i,mirror:a,axisLine:l}=this.props,c=et(et(et({},ve(this.props,!1)),ve(l,!1)),{},{fill:"none"});if(i==="top"||i==="bottom"){var u=+(i==="top"&&!a||i==="bottom"&&a);c=et(et({},c),{},{x1:t,y1:r+u*s,x2:t+n,y2:r+u*s})}else{var d=+(i==="left"&&!a||i==="right"&&a);c=et(et({},c),{},{x1:t+d*n,y1:r,x2:t+d*n,y2:r+s})}return y.createElement("line",pa({},c,{className:de("recharts-cartesian-axis-line",Es(l,"className"))}))}static renderTickItem(t,r,n){var s,i=de(r.className,"recharts-cartesian-axis-tick-value");if(y.isValidElement(t))s=y.cloneElement(t,et(et({},r),{},{className:i}));else if(typeof t=="function")s=t(et(et({},r),{},{className:i}));else{var a="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(a=de(a,t.className)),s=y.createElement(No,pa({},r,{className:a}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:i,tick:a,tickFormatter:l,unit:c,padding:u}=this.props,d=sb(et(et({},this.props),{},{ticks:n}),t,r),f=this.getTickTextAnchor(),h=this.getTickVerticalAnchor(),m=Ct(this.props),p=ve(a,!1),x=et(et({},m),{},{fill:"none"},ve(s,!1)),w=d.map((g,v)=>{var{line:b,tick:_}=this.getTickLineCoord(g),j=et(et(et(et({textAnchor:f,verticalAnchor:h},m),{},{stroke:"none",fill:i},p),_),{},{index:v,payload:g,visibleTicksCount:d.length,tickFormatter:l,padding:u});return y.createElement(ze,pa({className:"recharts-cartesian-axis-tick",key:"tick-".concat(g.value,"-").concat(g.coordinate,"-").concat(g.tickCoord)},uo(this.props,g,v)),s&&y.createElement("line",pa({},x,b,{className:de("recharts-cartesian-axis-tick-line",Es(s,"className"))})),a&&Vs.renderTickItem(a,j,"".concat(typeof l=="function"?l(g.value,v):g.value).concat(c||"")))});return w.length>0?y.createElement("g",{className:"recharts-cartesian-axis-ticks"},w):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:i}=this.props;if(i)return null;var{ticks:a}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:y.createElement(ze,{className:de("recharts-cartesian-axis",s),ref:l=>{if(l){var c=l.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(c);var u=c[0];if(u){var d=window.getComputedStyle(u).fontSize,f=window.getComputedStyle(u).letterSpacing;(d!==this.state.fontSize||f!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(u).fontSize,letterSpacing:window.getComputedStyle(u).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,a),Ht.renderCallByParent(this.props))}}ib(Vs,"displayName","CartesianAxis");ib(Vs,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var qQ=["x1","y1","x2","y2","key"],HQ=["offset"],GQ=["xAxisId","yAxisId"],YQ=["xAxisId","yAxisId"];function HN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HN(Object(r),!0).forEach(function(n){XQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XQ(e,t,r){return(t=JQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=QQ(e,"string");return typeof t=="symbol"?t:t+""}function QQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function di(){return di=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(null,arguments)}function rf(e,t){if(e==null)return{};var r,n,s=ZQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function ZQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var eZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:i,height:a,ry:l}=e;return y.createElement("rect",{x:n,y:s,ry:l,width:i,height:a,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function A4(e,t){var r;if(y.isValidElement(e))r=y.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:i,y2:a,key:l}=t,c=rf(t,qQ),u=Ct(c),d=rf(u,HQ);r=y.createElement("line",di({},d,{x1:n,y1:s,x2:i,y2:a,fill:"none",key:l}))}return r}function tZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var i=rf(e,GQ),a=s.map((l,c)=>{var u=Pt(Pt({},i),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return A4(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function rZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var i=rf(e,YQ),a=s.map((l,c)=>{var u=Pt(Pt({},i),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return A4(n,u)});return y.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function nZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:i,height:a,horizontalPoints:l,horizontal:c=!0}=e;if(!c||!t||!t.length)return null;var u=l.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?s+a-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return y.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:p,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function sZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:i,width:a,height:l,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+s-s)).sort((f,h)=>f-h);s!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?s+a-f:u[h+1]-f;if(p<=0)return null;var x=h%r.length;return y.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:p,height:l,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return y.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var iZ=(e,t)=>{var{xAxis:r,width:n,height:s,offset:i}=e;return ZE(sb(Pt(Pt(Pt({},Vs.defaultProps),r),{},{ticks:eO(r),viewBox:{x:0,y:0,width:n,height:s}})),i.left,i.left+i.width,t)},aZ=(e,t)=>{var{yAxis:r,width:n,height:s,offset:i}=e;return ZE(sb(Pt(Pt(Pt({},Vs.defaultProps),r),{},{ticks:eO(r),viewBox:{x:0,y:0,width:n,height:s}})),i.top,i.top+i.height,t)},oZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Dh(e){var t=aO(),r=oO(),n=iO(),s=Pt(Pt({},Rr(e,oZ)),{},{x:te(e.x)?e.x:n.left,y:te(e.y)?e.y:n.top,width:te(e.width)?e.width:n.width,height:te(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:a,x:l,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=s,p=tr(),x=ee(E=>G_(E,"xAxis",i,p)),w=ee(E=>G_(E,"yAxis",a,p));if(!te(u)||u<=0||!te(d)||d<=0||!te(l)||l!==+l||!te(c)||c!==+c)return null;var g=s.verticalCoordinatesGenerator||iZ,v=s.horizontalCoordinatesGenerator||aZ,{horizontalPoints:b,verticalPoints:_}=s;if((!b||!b.length)&&typeof v=="function"){var j=h&&h.length,N=v({yAxis:w?Pt(Pt({},w),{},{ticks:j?h:w.ticks}):void 0,width:t,height:r,offset:n},j?!0:f);vl(Array.isArray(N),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(b=N)}if((!_||!_.length)&&typeof g=="function"){var k=m&&m.length,P=g({xAxis:x?Pt(Pt({},x),{},{ticks:k?m:x.ticks}):void 0,width:t,height:r,offset:n},k?!0:f);vl(Array.isArray(P),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(_=P)}return y.createElement("g",{className:"recharts-cartesian-grid"},y.createElement(eZ,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),y.createElement(nZ,di({},s,{horizontalPoints:b})),y.createElement(sZ,di({},s,{verticalPoints:_})),y.createElement(tZ,di({},s,{offset:n,horizontalPoints:b,xAxis:x,yAxis:w})),y.createElement(rZ,di({},s,{offset:n,verticalPoints:_,xAxis:x,yAxis:w})))}Dh.displayName="CartesianGrid";function GN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function YN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GN(Object(r),!0).forEach(function(n){lZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lZ(e,t,r){return(t=cZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cZ(e){var t=uZ(e,"string");return typeof t=="symbol"?t:t+""}function uZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dZ={xAxis:{},yAxis:{},zAxis:{}},E4=gr({name:"cartesianAxis",initialState:dZ,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=YN(YN({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:fZ,removeXAxis:hZ,addYAxis:mZ,removeYAxis:pZ,addZAxis:Ute,removeZAxis:Wte,updateYAxisWidth:gZ}=E4.actions,yZ=E4.reducer,vZ=["children"],xZ=["dangerouslySetInnerHTML","ticks"];function O4(e,t,r){return(t=bZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bZ(e){var t=wZ(e,"string");return typeof t=="symbol"?t:t+""}function wZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(null,arguments)}function C4(e,t){if(e==null)return{};var r,n,s=jZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _Z(e){var t=Ue(),r=y.useMemo(()=>{var i=C4(e,vZ);return i},[e]),n=ee(i=>Yn(i,r.id)),s=r===n;return y.useEffect(()=>(t(fZ(r)),()=>{t(hZ(r))}),[r,t]),s?e.children:null}var NZ=e=>{var{xAxisId:t,className:r}=e,n=ee(sO),s=tr(),i="xAxis",a=ee(f=>wo(f,i,t,s)),l=ee(f=>sT(f,i,t,s)),c=ee(f=>eT(f,t)),u=ee(f=>BK(f,t));if(c==null||u==null)return null;var d=C4(e,xZ);return y.createElement(Vs,yg({},d,{scale:a,x:u.x,y:u.y,width:c.width,height:c.height,className:de("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:l}))},SZ=e=>{var t,r,n,s,i;return y.createElement(_Z,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter},y.createElement(NZ,e))};class Mc extends y.Component{render(){return y.createElement(SZ,this.props)}}O4(Mc,"displayName","XAxis");O4(Mc,"defaultProps",{allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,height:rr.height,hide:!1,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tickCount:rr.tickCount,type:rr.type,xAxisId:0});var PZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:i=0}=e,a=0;if(t){t.forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var l=r?r.getBoundingClientRect().width:0,c=s+i,u=a+c+l+(r?n:0);return Math.round(u)}return 0},kZ=["dangerouslySetInnerHTML","ticks"];function T4(e,t,r){return(t=AZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AZ(e){var t=EZ(e,"string");return typeof t=="symbol"?t:t+""}function EZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vg(){return vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vg.apply(null,arguments)}function OZ(e,t){if(e==null)return{};var r,n,s=CZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function CZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function TZ(e){var t=Ue();return y.useEffect(()=>(t(mZ(e)),()=>{t(pZ(e))}),[e,t]),null}var MZ=e=>{var t,{yAxisId:r,className:n,width:s,label:i}=e,a=y.useRef(null),l=y.useRef(null),c=ee(sO),u=tr(),d=Ue(),f="yAxis",h=ee(g=>wo(g,f,r,u)),m=ee(g=>tT(g,r)),p=ee(g=>FK(g,r)),x=ee(g=>sT(g,f,r,u));if(y.useLayoutEffect(()=>{var g;if(!(s!=="auto"||!m||Lx(i)||y.isValidElement(i))){var v=a.current,b=v==null||(g=v.tickRefs)===null||g===void 0?void 0:g.current,{tickSize:_,tickMargin:j}=v.props,N=PZ({ticks:b,label:l.current,labelGapWithTick:5,tickSize:_,tickMargin:j});Math.round(m.width)!==Math.round(N)&&d(gZ({id:r,width:N}))}},[a,a==null||(t=a.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,m==null?void 0:m.width,m,d,i,r,s]),m==null||p==null)return null;var w=OZ(e,kZ);return y.createElement(Vs,vg({},w,{ref:a,labelRef:l,scale:h,x:p.x,y:p.y,width:m.width,height:m.height,className:de("recharts-".concat(f," ").concat(f),n),viewBox:c,ticks:x}))},DZ=e=>{var t,r,n,s,i;return y.createElement(y.Fragment,null,y.createElement(TZ,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(i=e.tick)!==null&&i!==void 0?i:!0,tickFormatter:e.tickFormatter}),y.createElement(MZ,e))},RZ={allowDataOverflow:nr.allowDataOverflow,allowDecimals:nr.allowDecimals,allowDuplicatedCategory:nr.allowDuplicatedCategory,hide:!1,mirror:nr.mirror,orientation:nr.orientation,padding:nr.padding,reversed:nr.reversed,scale:nr.scale,tickCount:nr.tickCount,type:nr.type,width:nr.width,yAxisId:0};class Dc extends y.Component{render(){return y.createElement(DZ,this.props)}}T4(Dc,"displayName","YAxis");T4(Dc,"defaultProps",RZ);var $Z={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc=y;function LZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var IZ=typeof Object.is=="function"?Object.is:LZ,BZ=Rc.useSyncExternalStore,FZ=Rc.useRef,zZ=Rc.useEffect,UZ=Rc.useMemo,WZ=Rc.useDebugValue;$Z.useSyncExternalStoreWithSelector=function(e,t,r,n,s){var i=FZ(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=UZ(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),s!==void 0&&a.hasValue){var p=a.value;if(s(p,m))return f=p}return f=m}if(p=f,IZ(d,m))return p;var x=n(m);return s!==void 0&&s(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,s]);var l=BZ(e,i[0],i[1]);return zZ(function(){a.hasValue=!0,a.value=l},[l]),WZ(l),l};function VZ(e){e()}function KZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){VZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var XN={notify(){},get:()=>[]};function qZ(e,t){let r,n=XN,s=0,i=!1;function a(x){d();const w=n.subscribe(x);let g=!1;return()=>{g||(g=!0,w(),f())}}function l(){n.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return i}function d(){s++,r||(r=e.subscribe(c),n=KZ())}function f(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=XN)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const p={addNestedSub:a,notifyNestedSubs:l,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return p}var HZ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GZ=HZ(),YZ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",XZ=YZ(),JZ=()=>GZ||XZ?y.useLayoutEffect:y.useEffect,QZ=JZ(),rp=Symbol.for("react-redux-context"),np=typeof globalThis<"u"?globalThis:{};function ZZ(){if(!y.createContext)return{};const e=np[rp]??(np[rp]=new Map);let t=e.get(y.createContext);return t||(t=y.createContext(null),e.set(y.createContext,t)),t}var eee=ZZ();function tee(e){const{children:t,context:r,serverState:n,store:s}=e,i=y.useMemo(()=>{const c=qZ(s);return{store:s,subscription:c,getServerState:n?()=>n:void 0}},[s,n]),a=y.useMemo(()=>s.getState(),[s]);QZ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),a!==s.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,a]);const l=r||eee;return y.createElement(l.Provider,{value:i},t)}var ree=tee,nee=(e,t)=>t,ab=z([nee,pe,yo,at,bT,Xn,Wq,st],Gq),ob=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},M4=Cr("mouseClick"),D4=xc();D4.startListening({actionCreator:M4,effect:(e,t)=>{var r=e.payload,n=ab(t.getState(),ob(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(JK({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var xg=Cr("mouseMove"),R4=xc();R4.startListening({actionCreator:xg,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=kx(n,n.tooltip.settings.shared),i=ab(n,ob(r));s==="axis"&&((i==null?void 0:i.activeIndex)!=null?t.dispatch(hT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate})):t.dispatch(fT()))}});function see(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var JN={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},$4=gr({name:"rootProps",initialState:JN,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:JN.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),iee=$4.reducer,{updateOptions:aee}=$4.actions,L4=gr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:oee}=L4.actions,lee=L4.reducer,I4=Cr("keyDown"),B4=Cr("focus"),lb=xc();lb.startListening({actionCreator:I4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var a=Number(Ax(s,_o(r))),l=Xn(r);if(i==="Enter"){var c=Yd(r,"axis","hover",String(s.index));t.dispatch(dg({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:c}));return}var u=UK(r),d=u==="left-to-right"?1:-1,f=i==="ArrowRight"?1:-1,h=a+f*d;if(!(l==null||h>=l.length||h<0)){var m=Yd(r,"axis","hover",String(h));t.dispatch(dg({active:!0,activeIndex:h.toString(),activeDataKey:void 0,activeCoordinate:m}))}}}}});lb.startListening({actionCreator:B4,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var i="0",a=Yd(r,"axis","hover",String(i));t.dispatch(dg({activeDataKey:void 0,active:!0,activeIndex:i,activeCoordinate:a}))}}}});var br=Cr("externalEvent"),F4=xc();F4.startListening({actionCreator:br,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:Mq(r),activeDataKey:NT(r),activeIndex:Os(r),activeLabel:_T(r),activeTooltipIndex:Os(r),isTooltipActive:Dq(r)};e.payload.handler(n,e.payload.reactEvent)}}});var cee=z([jo],e=>e.tooltipItemPayloads),uee=z([cee,Oc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(l=>l.settings.dataKey===n);if(s!=null){var{positions:i}=s;if(i!=null){var a=t(i,r);return a}}}),z4=Cr("touchMove"),U4=xc();U4.startListening({actionCreator:z4,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=kx(n,n.tooltip.settings.shared);if(s==="axis"){var i=ab(n,ob({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));(i==null?void 0:i.activeIndex)!=null&&t.dispatch(hT({activeIndex:i.activeIndex,activeDataKey:void 0,activeCoordinate:i.activeCoordinate}))}else if(s==="item"){var a,l=r.touches[0],c=document.elementFromPoint(l.clientX,l.clientY);if(!c||!c.getAttribute)return;var u=c.getAttribute(rO),d=(a=c.getAttribute(nO))!==null&&a!==void 0?a:void 0,f=uee(t.getState(),u,d);t.dispatch(dT({activeDataKey:d,activeIndex:u,activeCoordinate:f}))}}});var dee=kE({brush:wQ,cartesianAxis:yZ,chartData:cH,errorBars:jJ,graphicalItems:rX,layout:fU,legend:XU,options:sH,polarAxis:QG,polarOptions:lee,referenceElements:EQ,rootProps:iee,tooltip:QK}),fee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return Lz({reducer:dee,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([D4.middleware,R4.middleware,lb.middleware,F4.middleware,U4.middleware]),devTools:{serialize:{replacer:see},name:"recharts-".concat(r)}})};function W4(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=tr(),i=y.useRef(null);if(s)return r;i.current==null&&(i.current=fee(t,n));var a=bv;return y.createElement(ree,{context:a,store:i.current},r)}function V4(e){var{layout:t,width:r,height:n,margin:s}=e,i=Ue(),a=tr();return y.useEffect(()=>{a||(i(cU(t)),i(uU({width:r,height:n})),i(lU(s)))},[i,a,t,r,n,s]),null}function K4(e){var t=Ue();return y.useEffect(()=>{t(aee(e))},[t,e]),null}var hee=["children"];function mee(e,t){if(e==null)return{};var r,n,s=pee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}var gee={width:"100%",height:"100%"},yee=y.forwardRef((e,t)=>{var r=aO(),n=oO(),s=dO();if(!Wa(r)||!Wa(n))return null;var{children:i,otherAttributes:a,title:l,desc:c}=e,u,d;return typeof a.tabIndex=="number"?u=a.tabIndex:u=s?0:void 0,typeof a.role=="string"?d=a.role:d=s?"application":void 0,y.createElement($A,nf({},a,{title:l,desc:c,role:d,tabIndex:u,width:r,height:n,style:gee,ref:t}),i)}),vee=e=>{var{children:t}=e,r=ee(uh);if(!r)return null;var{width:n,height:s,y:i,x:a}=r;return y.createElement($A,{width:n,height:s,x:a,y:i},t)},QN=y.forwardRef((e,t)=>{var{children:r}=e,n=mee(e,hee),s=tr();return s?y.createElement(vee,null,r):y.createElement(yee,nf({ref:t},n),r)});function xee(){var e=Ue(),[t,r]=y.useState(null),n=ee(zU);return y.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),i=s.width/t.offsetWidth;hr(i)&&i!==n&&e(dU(i))}},[t,e,n]),r}function ZN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZN(Object(r),!0).forEach(function(n){wee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wee(e,t,r){return(t=jee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jee(e){var t=_ee(e,"string");return typeof t=="symbol"?t:t+""}function _ee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nee=y.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:i,onContextMenu:a,onDoubleClick:l,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:w,width:g}=e,v=Ue(),[b,_]=y.useState(null),[j,N]=y.useState(null);fH();var k=xee(),P=y.useCallback(R=>{k(R),typeof t=="function"&&t(R),_(R),N(R)},[k,t,_,N]),E=y.useCallback(R=>{v(M4(R)),v(br({handler:i,reactEvent:R}))},[v,i]),T=y.useCallback(R=>{v(xg(R)),v(br({handler:u,reactEvent:R}))},[v,u]),O=y.useCallback(R=>{v(fT()),v(br({handler:d,reactEvent:R}))},[v,d]),U=y.useCallback(R=>{v(xg(R)),v(br({handler:f,reactEvent:R}))},[v,f]),I=y.useCallback(()=>{v(B4())},[v]),H=y.useCallback(R=>{v(I4(R.key))},[v]),B=y.useCallback(R=>{v(br({handler:a,reactEvent:R}))},[v,a]),K=y.useCallback(R=>{v(br({handler:l,reactEvent:R}))},[v,l]),F=y.useCallback(R=>{v(br({handler:c,reactEvent:R}))},[v,c]),A=y.useCallback(R=>{v(br({handler:h,reactEvent:R}))},[v,h]),S=y.useCallback(R=>{v(br({handler:x,reactEvent:R}))},[v,x]),L=y.useCallback(R=>{v(z4(R)),v(br({handler:p,reactEvent:R}))},[v,p]),V=y.useCallback(R=>{v(br({handler:m,reactEvent:R}))},[v,m]);return y.createElement(OT.Provider,{value:b},y.createElement(zF.Provider,{value:j},y.createElement("div",{className:de("recharts-wrapper",n),style:bee({position:"relative",cursor:"default",width:g,height:s},w),onClick:E,onContextMenu:B,onDoubleClick:K,onFocus:I,onKeyDown:H,onMouseDown:F,onMouseEnter:T,onMouseLeave:O,onMouseMove:U,onMouseUp:A,onTouchEnd:V,onTouchMove:L,onTouchStart:S,ref:P},r)))}),See=["children","className","width","height","style","compact","title","desc"];function Pee(e,t){if(e==null)return{};var r,n,s=kee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function kee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var q4=y.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:i,style:a,compact:l,title:c,desc:u}=e,d=Pee(e,See),f=Ct(d);return l?y.createElement(QN,{otherAttributes:f,title:c,desc:u},r):y.createElement(Nee,{className:n,style:a,width:s,height:i,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},y.createElement(QN,{otherAttributes:f,title:c,desc:u,ref:t},y.createElement(CQ,null,r)))}),Aee=["width","height"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function Eee(e,t){if(e==null)return{};var r,n,s=Oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Cee={top:5,right:5,bottom:5,left:5},Tee={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Cee,reverseStackOrder:!1,syncMethod:"index"},Mee=y.forwardRef(function(t,r){var n,s=Rr(t.categoricalChartProps,Tee),{width:i,height:a}=s,l=Eee(s,Aee);if(!Wa(i)||!Wa(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,categoricalChartProps:h}=t,m={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:d,tooltipPayloadSearcher:f,eventEmitter:void 0};return y.createElement(W4,{preloadedState:{options:m},reduxStoreName:(n=h.id)!==null&&n!==void 0?n:c},y.createElement(P4,{chartData:h.data}),y.createElement(V4,{width:i,height:a,layout:s.layout,margin:s.margin}),y.createElement(K4,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),y.createElement(q4,bg({},l,{width:i,height:a,ref:r})))}),Dee=["axis","item"],cb=y.forwardRef((e,t)=>y.createElement(Mee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Dee,tooltipPayloadSearcher:$x,categoricalChartProps:e,ref:t}));function Ree(e){var t=Ue();return y.useEffect(()=>{t(oee(e))},[t,e]),null}var $ee=["width","height","layout"];function wg(){return wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wg.apply(null,arguments)}function Lee(e,t){if(e==null)return{};var r,n,s=Iee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Iee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Bee={top:5,right:5,bottom:5,left:5},Fee={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Bee,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},H4=y.forwardRef(function(t,r){var n,s=Rr(t.categoricalChartProps,Fee),{width:i,height:a,layout:l}=s,c=Lee(s,$ee);if(!Wa(i)||!Wa(a))return null;var{chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h}=t,m={chartName:u,defaultTooltipEventType:d,validateTooltipEventTypes:f,tooltipPayloadSearcher:h,eventEmitter:void 0};return y.createElement(W4,{preloadedState:{options:m},reduxStoreName:(n=s.id)!==null&&n!==void 0?n:u},y.createElement(P4,{chartData:s.data}),y.createElement(V4,{width:i,height:a,layout:l,margin:s.margin}),y.createElement(K4,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),y.createElement(Ree,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),y.createElement(q4,wg({width:i,height:a},c,{ref:r})))}),zee=["item"],Uee={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ub=y.forwardRef((e,t)=>{var r=Rr(e,Uee);return y.createElement(H4,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:zee,tooltipPayloadSearcher:$x,categoricalChartProps:r,ref:t})}),Wee=["axis"],Vee={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Kee=y.forwardRef((e,t)=>{var r=Rr(e,Vee);return y.createElement(H4,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Wee,tooltipPayloadSearcher:$x,categoricalChartProps:r,ref:t})});function qee({isOpen:e,onClose:t,title:r,data:n,columns:s,onRowClick:i}){const[a,l]=y.useState(""),c=n.filter(u=>s.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-slate-950 border border-cyan-500/30 rounded-2xl shadow-[0_0_40px_rgba(0,200,255,0.3)] max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ot,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx($s,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-cyan-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-900 sticky top-0",children:o.jsx("tr",{children:s.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-slate-950 divide-y divide-slate-800",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-slate-800/50 ${i?"cursor-pointer":""}`,onClick:()=>i==null?void 0:i(u),children:s.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}const eS={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Hee={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Gee(){var b,_,j,N;const{user:e}=zt(),[t,r]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[n,s]=y.useState({totalMatches:0,totalPlayers:0,totalTournaments:0,avgPointsPerMatch:0,mostCommonFinish:"",topPlayer:"",topPlayerWinRate:0}),[i,a]=y.useState([]),[l,c]=y.useState(null),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState({}),[x,w]=y.useState(!0);y.useEffect(()=>{g(),e&&!e.id.startsWith("guest-")&&v()},[e]);const g=async()=>{var k;try{let{data:P,error:E}=await Y.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(E)throw E;const T=(P||[]).filter(S=>{var L;return!((L=S.tournaments)!=null&&L.is_practice)});if(T.length===0){w(!1);return}const O={},U={},I={};let H=0;T.forEach(S=>{var ae;if(!S.winner_name||!S.player1_name||!S.player2_name)return;const L=((ae=S.outcome)==null?void 0:ae.split(" (")[0])||"Unknown",V=S.points_awarded||eS[L]||0;H+=V,I[L]=(I[L]||0)+1;const R=S.normalized_player1_name||S.player1_name.toLowerCase(),X=S.normalized_player2_name||S.player2_name.toLowerCase(),ce=S.normalized_winner_name||S.winner_name.toLowerCase();[R,X].forEach(($,q)=>{const D=q===0?S.player1_name:S.player2_name;O[D]||(O[D]={wins:0,matches:0,points:0,tournaments:new Set}),O[D].matches++,O[D].tournaments.add(S.tournament_id),ce===$&&(O[D].wins++,O[D].points+=V)});const J=($,q,D,G)=>{const C=`${q}_${$}`;U[C]||(U[C]={combo:q,player:$,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:D||"Unknown"});const M=U[C];M.totalMatches++,G?(M.wins++,M.totalPoints+=V):M.losses++};J(S.player1_name,S.player1_beyblade,S.player1_blade_line||"Unknown",S.winner_name===S.player1_name),J(S.player2_name,S.player2_beyblade,S.player2_blade_line||"Unknown",S.winner_name===S.player2_name)}),Object.values(U).forEach(S=>{S.winRate=S.totalMatches>0?S.wins/S.totalMatches*100:0,S.weightedWinRate=S.totalMatches>0?S.wins/S.totalMatches*(S.totalMatches/(S.totalMatches+10)):0,S.avgPointsPerMatch=S.totalMatches>0?S.totalPoints/S.totalMatches:0,S.comboScore=S.weightedWinRate*(S.avgPointsPerMatch/3)*100});const B=Object.entries(O).filter(([S,L])=>L.matches>=5).sort((S,L)=>{const V=S[1].wins/S[1].matches;return L[1].wins/L[1].matches-V})[0],K=((k=Object.entries(I).sort((S,L)=>L[1]-S[1])[0])==null?void 0:k[0])||"Unknown",{count:F}=await Y.from("tournaments").select("*",{count:"exact",head:!0});s({totalMatches:T.length,totalPlayers:Object.keys(O).length,totalTournaments:F||0,avgPointsPerMatch:T.length>0?H/T.length:0,mostCommonFinish:K,topPlayer:(B==null?void 0:B[0])||"N/A",topPlayerWinRate:B?B[1].wins/B[1].matches*100:0}),a(Object.values(U).sort((S,L)=>L.comboScore-S.comboScore)),p(O);const A=Object.entries(I).map(([S,L])=>({name:S,value:L,color:Hee[S]||"#6B7280"}));h(A)}catch(P){console.error("Error fetching global data:",P)}finally{w(!1)}},v=async()=>{var k;if(!(!e||e.id.startsWith("guest-")))try{let{data:P,error:E}=await Y.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `).or(`normalized_player1_name.eq.${e.username.toLowerCase()},normalized_player2_name.eq.${e.username.toLowerCase()}`);if(E)throw E;const T=(P||[]).filter(R=>{var X;return!((X=R.tournaments)!=null&&X.is_practice)});if(T.length===0){c(null);return}let O=0,U=0;const I={},H={},B={},K=new Set;T.forEach(R=>{var D;if(!R.winner_name)return;const X=R.player1_name===e.username,ce=R.winner_name===e.username,J=X?R.player1_beyblade:R.player2_beyblade,ae=X?R.player2_name:R.player1_name,$=((D=R.outcome)==null?void 0:D.split(" (")[0])||"Unknown",q=R.points_awarded||eS[$]||0;K.add(R.tournament_id),ce&&(O++,U+=q,H[$]=(H[$]||0)+1),I[J]||(I[J]={wins:0,matches:0,points:0}),I[J].matches++,ce&&(I[J].wins++,I[J].points+=q),B[ae]||(B[ae]={opponent:ae,wins:0,losses:0,winRate:0,totalMatches:0,pointsFor:0,pointsAgainst:0}),B[ae].totalMatches++,ce?(B[ae].wins++,B[ae].pointsFor+=q):(B[ae].losses++,B[ae].pointsAgainst+=q)}),Object.values(B).forEach(R=>{R.winRate=R.totalMatches>0?R.wins/R.totalMatches*100:0});const F=Object.entries(I).map(([R,X])=>{const ce=X.matches>0?X.wins/X.matches:0,J=X.matches>0?ce*(X.matches/(X.matches+10)):0,ae=X.matches>0?X.points/X.matches:0,$=J*(ae/3)*100;return{combo:R,comboScore:$}}).sort((R,X)=>X.comboScore-R.comboScore)[0],A=((k=Object.entries(H).sort((R,X)=>X[1]-R[1])[0])==null?void 0:k[0])||"N/A",S=T.length,L=S>0?O/S*100:0,V=S>0?O/S*(S/(S+10)):0;c({totalMatches:S,wins:O,losses:S-O,winRate:L,weightedWinRate:V*100,totalPoints:U,avgPointsPerMatch:S>0?U/S:0,mvpCombo:(F==null?void 0:F.combo)||"N/A",mvpComboScore:(F==null?void 0:F.comboScore)||0,favoriteFinish:A,tournamentsPlayed:K.size}),d(Object.values(B).sort((R,X)=>X.winRate-R.winRate))}catch(P){console.error("Error fetching personal data:",P)}};return x?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading overview data..."})]}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:n.totalMatches.toLocaleString()}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:o.jsx(io,{size:24,className:"text-cyan-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-green-400 mb-1",children:n.totalPlayers}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Active Players"})]}),o.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:o.jsx(nt,{size:24,className:"text-green-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:n.totalTournaments}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Tournaments"})]}),o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:o.jsx(kt,{size:24,className:"text-purple-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-1",children:n.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Avg Points/Match"})]}),o.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:o.jsx(dc,{size:24,className:"text-orange-400"})})]})]})]}),l&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center",children:[o.jsx(nt,{size:24,className:"mr-2 text-cyan-400"}),"Your Performance Overview"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-cyan-500/10 border border-cyan-500/20 rounded-none",children:[o.jsx("div",{className:"text-2xl font-bold text-cyan-400",children:l.totalMatches}),o.jsx("div",{className:"text-sm text-slate-400",children:"Total Matches"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-500/10 border border-green-500/20 rounded-none",children:[o.jsxs("div",{className:"text-2xl font-bold text-green-400",children:[l.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-500/10 border border-purple-500/20 rounded-none",children:[o.jsxs("div",{className:"text-2xl font-bold text-purple-400",children:[l.weightedWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Weighted Win Rate"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-500/10 border border-orange-500/20 rounded-none",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-400",children:l.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Avg Points/Match"})]})]}),o.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-none p-4",children:[o.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:"MVP Combo"}),o.jsx("p",{className:"text-lg font-bold text-white",children:l.mvpCombo}),o.jsxs("p",{className:"text-sm text-slate-400",children:["Score: ",l.mvpComboScore.toFixed(1)]})]}),o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-none p-4",children:[o.jsx("h4",{className:"font-semibold text-cyan-400 mb-2",children:"Favorite Finish"}),o.jsx("p",{className:"text-lg font-bold text-white",children:l.favoriteFinish}),o.jsxs("p",{className:"text-sm text-slate-400",children:["Tournaments: ",l.tournamentsPlayed]})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Global Finish Distribution"}),o.jsx(Ei,{width:"100%",height:300,children:o.jsxs(ub,{children:[o.jsx(Th,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:k,percent:P})=>`${k} ${(P*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((k,P)=>o.jsx(Li,{fill:k.color},`cell-${P}`))}),o.jsx(Xa,{})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Top Global Combos by Score"}),o.jsx(Ei,{width:"100%",height:300,children:o.jsxs(cb,{data:i.slice(0,8).map(k=>({name:k.combo,score:k.comboScore,winRate:k.winRate,matches:k.totalMatches})),margin:{bottom:80},children:[o.jsx(Dh,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Mc,{dataKey:"name",angle:-45,textAnchor:"end",height:100,interval:0,fontSize:10,stroke:"#94a3b8"}),o.jsx(Dc,{stroke:"#94a3b8"}),o.jsx(Xa,{formatter:(k,P)=>[typeof k=="number"?k.toFixed(2):k,P==="score"?"Combo Score":P==="winRate"?"Win Rate (%)":"Matches"],contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"8px"},labelStyle:{color:"#06b6d4"}}),o.jsx(Mh,{dataKey:"score",fill:"#06b6d4"})]})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"flex justify-between items-center mb-4",children:o.jsx("h3",{className:"text-lg font-bold text-white",children:"Global Combo Rankings"})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Users"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Total Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Global Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:(()=>{const k={};return i.forEach(P=>{k[P.combo]||(k[P.combo]={combo:P.combo,players:[],totalMatches:0,totalWins:0,totalPoints:0,winRate:0,avgPoints:0,playerData:[]});const E=k[P.combo];E.players.push(P.player),E.totalMatches+=P.totalMatches,E.totalWins+=P.wins,E.totalPoints+=P.totalPoints,E.playerData.push(P)}),Object.values(k).forEach(P=>{P.winRate=P.totalMatches>0?P.totalWins/P.totalMatches*100:0,P.avgPoints=P.totalMatches>0?P.totalPoints/P.totalMatches:0}),Object.values(k).sort((P,E)=>E.winRate-P.winRate).slice(0,20)})().map((k,P)=>o.jsxs("tr",{className:"hover:bg-slate-800/50 cursor-pointer",children:[o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-white",children:["#",P+1]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:k.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:k.players.length}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-400":k.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center text-white",children:k.avgPoints.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{const E=k.playerData.map(T=>({player:T.player,matches:T.totalMatches,wins:T.wins,winRate:T.winRate,avgPoints:T.avgPointsPerMatch,bladeLine:T.bladeLine}));r({isOpen:!0,title:`Players using ${k.combo}`,data:E,columns:[{key:"player",label:"Player"},{key:"matches",label:"Matches"},{key:"wins",label:"Wins"},{key:"winRate",label:"Win Rate (%)"},{key:"avgPoints",label:"Avg Points"},{key:"bladeLine",label:"Blade Line"}]})},className:"text-cyan-400 hover:text-cyan-300 text-sm font-medium",children:"View Players"})})]},P))})]})})]}),l&&u.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Head-to-Head Records"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Losses"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Points For"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Points Against"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:u.map((k,P)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:k.opponent}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:k.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400 text-center font-medium",children:k.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-red-400 text-center font-medium",children:k.losses}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${k.winRate>=60?"text-green-400":k.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[k.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:k.pointsFor}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:k.pointsAgainst})]},P))})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"flex justify-between items-center mb-6",children:o.jsx("h3",{className:"text-lg font-bold text-white",children:"Global Player Rankings"})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Tournaments"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.entries(m||{}).filter(([k,P])=>P.matches>=3).sort((k,P)=>{const E=k[1].wins/k[1].matches,T=P[1].wins/P[1].matches;return T!==E?T-E:P[1].wins-k[1].wins}).slice(0,10).map(([k,P],E)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-white",children:o.jsx("div",{className:"flex items-center",children:o.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-black text-xs font-bold mr-3 shadow-lg ${E===0?"bg-gradient-to-r from-yellow-400 to-orange-500":E===1?"bg-gradient-to-r from-gray-300 to-gray-400":E===2?"bg-gradient-to-r from-orange-500 to-red-500":"bg-gradient-to-r from-cyan-500 to-purple-500"}`,children:E+1})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:k}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400 text-center font-medium",children:P.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.wins/P.matches*100>=60?"text-green-400":P.wins/P.matches*100>=40?"text-yellow-400":"text-red-400"}`,children:[(P.wins/P.matches*100).toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.tournaments.size})]},k))})]})})}),o.jsx("div",{className:"lg:col-span-1",children:o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                           transition-all duration-300 hover:border-cyan-400/70 
                           hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm text-center`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(251,191,36,0.5)]",children:o.jsx(kt,{size:40,className:"text-white"})}),o.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full flex items-center justify-center shadow-[0_0_15px_rgba(251,191,36,0.5)]",children:o.jsx(hd,{size:16,className:"text-black"})}),o.jsx("h4",{className:"text-xl font-bold text-yellow-400 mb-2",children:"Global Champion"}),o.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:n.topPlayer}),o.jsxs("p",{className:"text-yellow-300 text-sm mb-4",children:["Win Rate: ",n.topPlayerWinRate.toFixed(1),"%"]}),o.jsx("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-4 border border-yellow-400/30",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-400",children:((_=(b=Object.entries(m||{}).find(([k])=>k===n.topPlayer))==null?void 0:b[1])==null?void 0:_.wins)||0}),o.jsx("div",{className:"text-xs text-yellow-300",children:"Total Wins"})]}),o.jsxs("div",{children:[o.jsx("div",{className:"text-lg font-bold text-yellow-400",children:((N=(j=Object.entries(m||{}).find(([k])=>k===n.topPlayer))==null?void 0:j[1])==null?void 0:N.matches)||0}),o.jsx("div",{className:"text-xs text-yellow-300",children:"Total Matches"})]})]})})]})})]})]}),o.jsx(qee,{isOpen:t.isOpen,onClose:()=>r(k=>({...k,isOpen:!1})),title:t.title,data:t.data,columns:t.columns,onRowClick:t.onRowClick})]})}function tS({selectedPlayer:e,onPlayerChange:t,availablePlayers:r}){return o.jsxs("div",{className:"bg-red-50 border-2 border-red-200 rounded-xl p-4 mb-6",children:[o.jsxs("div",{className:"flex items-center mb-3",children:[o.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-white text-xs font-bold",children:"D"})}),o.jsx("h3",{className:"text-lg font-bold text-red-900",children:"Developer Mode"})]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-red-800 mb-2",children:"View Personal Stats for Player:"}),o.jsxs("select",{value:e,onChange:n=>t(n.target.value),className:"w-full border border-red-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-red-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),r.map(n=>o.jsx("option",{value:n,children:n},n))]})]})]})}const Yee={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},Xee={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function Jee(){const{user:e}=zt(),[t,r]=y.useState(""),[n,s]=y.useState([]),[i,a]=y.useState([]),[l,c]=y.useState([]),[u,d]=y.useState([]),[f,h]=y.useState([]),[m,p]=y.useState([]),[x,w]=y.useState(!0),[g,v]=y.useState(""),b=(e==null?void 0:e.role)==="developer",_=b&&t?t:e==null?void 0:e.username;y.useEffect(()=>{b&&j(),_?N(_):w(!1)},[e,t]);const j=async()=>{try{const{data:P}=await Y.from("match_results").select("player1_name, player2_name"),E=new Set;P==null||P.forEach(T=>{T.player1_name&&E.add(T.player1_name),T.player2_name&&E.add(T.player2_name)}),s(Array.from(E).sort())}catch(P){console.error("Error fetching available players:",P)}},N=async P=>{if(!P){w(!1);return}try{const{data:E,error:T}=await Y.from("match_results").select("*").or(`normalized_player1_name.eq.${P.toLowerCase()},normalized_player2_name.eq.${P.toLowerCase()}`);if(T)throw T;const O=E||[];if(O.length===0){w(!1);return}const U=[...new Set(O.map(R=>R.tournament_id))],{data:I}=await Y.from("tournaments").select("id, name, tournament_date").in("id",U),H=(I||[]).reduce((R,X)=>(R[X.id]={name:X.name,date:X.tournament_date},R),{}),B={},K={},F={},A={},S={};O.forEach(R=>{var Q,se,ie;if(!R.winner_name)return;const X=R.player1_name===P,ce=R.winner_name===P,J=X?R.player1_beyblade:R.player2_beyblade,ae=X?R.player1_blade_line:R.player2_blade_line,$=((Q=R.outcome)==null?void 0:Q.split(" (")[0])||"Unknown",q=R.points_awarded||Yee[$]||0;ce&&(A[$]=(A[$]||0)+1,S[$]=(S[$]||0)+q),K[J]||(K[J]={combo:J,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,bladeLine:ae||"Unknown",finishDistribution:{},pointsPerFinish:{}});const D=K[J];D.totalMatches++,ce?(D.wins++,D.totalPoints+=q,D.finishDistribution[$]=(D.finishDistribution[$]||0)+1,D.pointsPerFinish[$]=(D.pointsPerFinish[$]||0)+q):D.losses++;const G=ae||"Unknown";F[G]||(F[G]={bladeLine:G,matches:0,wins:0,winRate:0,avgPoints:0,riskReward:0});const C=F[G];C.matches++,ce&&(C.wins++,C.avgPoints=(C.avgPoints*(C.wins-1)+q)/C.wins);const M=R.tournament_id;B[M]||(B[M]={tournamentName:((se=H[M])==null?void 0:se.name)||"Unknown Tournament",matches:0,wins:0,winRate:0,points:0,avgPointsPerMatch:0,date:((ie=H[M])==null?void 0:ie.date)||""});const W=B[M];W.matches++,ce&&(W.wins++,W.points+=q)}),Object.values(K).forEach(R=>{R.winRate=R.totalMatches>0?R.wins/R.totalMatches*100:0,R.weightedWinRate=R.totalMatches>0?R.wins/R.totalMatches*(R.totalMatches/(R.totalMatches+10)):0,R.avgPointsPerMatch=R.totalMatches>0?R.totalPoints/R.totalMatches:0,R.comboScore=R.weightedWinRate*(R.avgPointsPerMatch/3)*100}),Object.values(F).forEach(R=>{R.winRate=R.matches>0?R.wins/R.matches*100:0,R.riskReward=Math.random()*100}),Object.values(B).forEach(R=>{R.winRate=R.matches>0?R.wins/R.matches*100:0,R.avgPointsPerMatch=R.matches>0?R.points/R.matches:0}),a(Object.values(K).sort((R,X)=>X.comboScore-R.comboScore)),c(Object.values(F)),d(Object.values(B).sort((R,X)=>new Date(X.date).getTime()-new Date(R.date).getTime()));const L=Object.entries(A).map(([R,X])=>({name:R,value:X,color:Xee[R]||"#6B7280"}));h(L);const V=Object.entries(S).map(([R,X])=>({finish:R,points:X,avgPoints:A[R]>0?X/A[R]:0}));p(V)}catch(E){console.error("Error fetching personal stats:",E)}finally{w(!1)}};if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"bg-cyan-500/10 border border-cyan-500/30 rounded-lg p-8 text-center m-6",children:[o.jsx("div",{className:"w-16 h-16 bg-cyan-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(mi,{size:32,className:"text-cyan-400"})}),o.jsx("h3",{className:"text-xl font-bold text-cyan-400 mb-2",children:"Login Required"}),o.jsx("p",{className:"text-slate-300",children:"Please log in to view your personal tournament statistics and performance analytics."})]});if(x)return o.jsxs("div",{className:"text-center py-12 m-6",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading personal stats..."})]});if(!_||i.length===0)return o.jsxs("div",{className:"space-y-6",children:[b&&o.jsx(tS,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-lg p-8 text-center m-6",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kt,{size:32,className:"text-slate-400"})}),o.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"No Match History"}),o.jsx("p",{className:"text-slate-400",children:b&&t?`${t} hasn't participated in any recorded matches yet.`:"You haven't participated in any recorded matches yet. Join a tournament to start building your statistics!"})]})]});const k=g?i.find(P=>P.combo===g):null;return o.jsxs("div",{className:"space-y-8 p-6",children:[b&&o.jsx(tS,{selectedPlayer:t,onPlayerChange:r,availablePlayers:n}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-cyan-400 mb-1",children:i.reduce((P,E)=>P+E.totalMatches,0)}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Total Matches"})]}),o.jsx("div",{className:"p-3 bg-cyan-500/20 rounded-lg",children:o.jsx(io,{size:24,className:"text-cyan-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"text-3xl font-bold text-green-400 mb-1",children:[i.length>0?(i.reduce((P,E)=>P+E.wins,0)/i.reduce((P,E)=>P+E.totalMatches,0)*100).toFixed(1):"0.0","%"]}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Overall Win Rate"})]}),o.jsx("div",{className:"p-3 bg-green-500/20 rounded-lg",children:o.jsx(kt,{size:24,className:"text-green-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-purple-400 mb-1",children:i.reduce((P,E)=>P+E.totalPoints,0)}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Total Points"})]}),o.jsx("div",{className:"p-3 bg-purple-500/20 rounded-lg",children:o.jsx(_y,{size:24,className:"text-purple-400"})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("div",{className:"text-3xl font-bold text-orange-400 mb-1",children:u.length}),o.jsx("div",{className:"text-sm font-medium text-slate-400",children:"Tournaments Played"})]}),o.jsx("div",{className:"p-3 bg-orange-500/20 rounded-lg",children:o.jsx(mi,{size:24,className:"text-orange-400"})})]})]})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Finish Distribution"}),o.jsx(Ei,{width:"100%",height:300,children:o.jsxs(ub,{children:[o.jsx(Th,{data:f,cx:"50%",cy:"50%",labelLine:!1,label:({name:P,percent:E})=>`${P} ${(E*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:f.map((P,E)=>o.jsx(Li,{fill:P.color},`cell-${E}`))}),o.jsx(Xa,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"8px"},labelStyle:{color:"#06b6d4"}})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Points Per Finish Type"}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[o.jsx(Ei,{width:"100%",height:300,children:o.jsxs(cb,{data:m,children:[o.jsx(Dh,{strokeDasharray:"3 3",stroke:"#334155"}),o.jsx(Mc,{dataKey:"finish",stroke:"#94a3b8"}),o.jsx(Dc,{stroke:"#94a3b8"}),o.jsx(Xa,{contentStyle:{backgroundColor:"#0f172a",border:"1px solid rgba(6, 182, 212, 0.3)",borderRadius:"8px"},labelStyle:{color:"#06b6d4"}}),o.jsx(Mh,{dataKey:"points",fill:"#06b6d4"})]})}),o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-none p-4",children:[o.jsx("h4",{className:"font-semibold text-cyan-400 mb-4",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-3",children:m.map(P=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("span",{className:"text-sm font-medium text-slate-300",children:[P.finish,":"]}),o.jsx("span",{className:"text-lg font-bold text-cyan-400",children:P.points})]},P.finish))})]})]})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Your Combo Performance"}),o.jsx("div",{className:"mb-4",children:o.jsxs("select",{value:g,onChange:P=>v(P.target.value),className:"bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Select combo for detailed view"}),i.map(P=>o.jsxs("option",{value:P.combo,children:[P.combo," (",P.totalMatches," matches)"]},P.combo))]})}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Weighted Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:i.map((P,E)=>o.jsxs("tr",{className:`hover:bg-slate-800/50 cursor-pointer ${g===P.combo?"bg-cyan-500/10":""}`,onClick:()=>v(P.combo===g?"":P.combo),children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:P.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.bladeLine==="Basic"?"bg-blue-500/20 text-blue-400 border border-blue-500/30":P.bladeLine==="Unique"?"bg-purple-500/20 text-purple-400 border border-purple-500/30":P.bladeLine==="Custom"?"bg-orange-500/20 text-orange-400 border border-orange-500/30":P.bladeLine==="X-Over"?"bg-green-500/20 text-green-400 border border-green-500/30":"bg-slate-500/20 text-slate-400 border border-slate-500/30"}`,children:P.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-400":P.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-cyan-400 text-center",children:[(P.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-400 text-center",children:P.comboScore.toFixed(1)})]},E))})]})}),k&&o.jsxs("div",{className:"mt-6 bg-cyan-500/10 border border-cyan-500/30 rounded-none p-6",children:[o.jsxs("h4",{className:"text-lg font-bold text-cyan-400 mb-4",children:["Detailed Analysis: ",k.combo]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-white mb-3",children:"Win Finishes"}),o.jsx("div",{className:"space-y-2",children:Object.entries(k.finishDistribution).map(([P,E])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-300",children:P}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"text-sm font-medium text-white",children:E}),o.jsxs("span",{className:"text-xs text-slate-400",children:["(",k.totalMatches>0?(E/k.wins*100).toFixed(0):0,"%)"]})]})]},P))})]}),o.jsxs("div",{children:[o.jsx("h5",{className:"font-semibold text-white mb-3",children:"Points Breakdown"}),o.jsx("div",{className:"space-y-2",children:Object.entries(k.pointsPerFinish).map(([P,E])=>o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-sm text-slate-300",children:P}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("span",{className:"text-sm font-medium text-white",children:[E," pts"]}),o.jsxs("span",{className:"text-xs text-slate-400",children:["(avg: ",k.finishDistribution[P]>0?(E/k.finishDistribution[P]).toFixed(1):"0.0",")"]})]})]},P))})]})]})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Tournament History"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-slate-800",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Tournament"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Date"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Wins"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Total Points"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Points"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:u.map((P,E)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-white",children:P.tournamentName}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-slate-300",children:P.date?new Date(P.date).toLocaleDateString():"N/A"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.matches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-400 text-center font-medium",children:P.wins}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${P.winRate>=60?"text-green-400":P.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[P.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center font-medium",children:P.points}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-white text-center",children:P.avgPointsPerMatch.toFixed(2)})]},E))})]})})]}),i.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:b&&t?`${t}'s MVP Combo`:"Your MVP Combo"}),o.jsxs("div",{className:"text-center py-8",children:[o.jsx("div",{className:"w-20 h-20 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-[0_0_20px_rgba(251,191,36,0.5)]",children:o.jsx(kt,{size:40,className:"text-white"})}),o.jsx("h4",{className:"text-2xl font-bold text-white mb-2",children:i[0].combo}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 max-w-2xl mx-auto",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-cyan-400",children:i[0].totalMatches}),o.jsx("div",{className:"text-sm text-slate-400",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl font-bold text-green-400",children:[i[0].winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-sm text-slate-400",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-purple-400",children:i[0].avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Avg Points"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl font-bold text-orange-400",children:i[0].comboScore.toFixed(1)}),o.jsx("div",{className:"text-sm text-slate-400",children:"Combo Score"})]})]})]})]})]})}function Qee(e,t,r=1.96){if(t===0)return 0;const n=e/t,s=1+r*r/t,i=n+r*r/(2*t),a=r*Math.sqrt((n*(1-n)+r*r/(4*t))/t);return Math.round((i-a)/s*1e3)/1e3}function Zee(e,t,r){let n=e;const s=G4(n,r.bits);if(!s)return null;n=n.slice(0,n.length-s.bitName.length).trim();const i=Y4(n,r.ratchets);if(!i)return null;n=n.slice(0,n.length-i.ratchetName.length).trim();const a=X4(n,r.blades.filter(c=>c.Line===t));return a?{isCustom:!1,blade:a.bladeName,ratchet:i.ratchetName,bit:s.bitName}:null}function ete(e,t){let r=e;const n=tte(e,t.lockchips);if(!n)return null;r=e.slice(n.lockchipName.length);const s=G4(r,t.bits);if(!s)return null;r=r.slice(0,r.length-s.bitName.length).trim();const i=Y4(r,t.ratchets);if(!i)return null;r=r.slice(0,r.length-i.ratchetName.length).trim();const a=rte(r,t.assistBlades);if(!a)return null;r=r.slice(0,r.length-a.assistBladeName.length).trim();const l=X4(r,t.blades.filter(u=>u.Line==="Custom"));return l?{isCustom:!0,lockchip:n.lockchipName,mainBlade:l.bladeName,assistBlade:a.assistBladeName,ratchet:i.ratchetName,bit:s.bitName}:null}function G4(e,t){const r=[...t].sort((n,s)=>{const i=n.Shortcut||n.Bit||"";return(s.Shortcut||s.Bit||"").length-i.length});for(const n of r){const s=n.Shortcut;if(s&&e.endsWith(s))return{bit:n,bitName:s}}for(const n of r){const s=n.Bit;if(s&&e.endsWith(s))return{bit:n,bitName:n.Shortcut||s}}return null}function Y4(e,t){const r=[...t].sort((n,s)=>{const i=n.Ratchet||"";return(s.Ratchet||"").length-i.length});for(const n of r){const s=n.Ratchet;if(s&&e.endsWith(s))return{ratchet:n,ratchetName:s}}return null}function X4(e,t){for(const r of t){const n=r.Blades;if(n&&e===n)return{blade:r,bladeName:n}}return null}function tte(e,t){const r=[...t].sort((n,s)=>{const i=n.Lockchip||"";return(s.Lockchip||"").length-i.length});for(const n of r){const s=n.Lockchip;if(s&&e.startsWith(s))return{lockchip:n,lockchipName:s}}return null}function rte(e,t){const r=[...t].sort((n,s)=>{const i=n["Assist Blade"]||"";return(s["Assist Blade"]||"").length-i.length});for(const n of r){const s=n["Assist Blade"];if(s&&e.endsWith(s))return{assistBlade:n,assistBladeName:s}}return null}function rS(e,t,r){if(!e||!e.trim())return{isCustom:!1};const n=["Basic","Unique","X-Over","Custom"];for(const s of n)if(s==="Custom"){const i=ete(e,r);if(i)return i}else{const i=Zee(e,s,r);if(i)return i}return{isCustom:!1}}const nte={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},ste={"Spin Finish":"#10B981","Burst Finish":"#F59E0B","Over Finish":"#EF4444","Extreme Finish":"#8B5CF6"};function ite({isOpen:e,onClose:t,title:r,data:n,columns:s,onRowClick:i}){const[a,l]=y.useState(""),c=n.filter(u=>s.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ot,{size:24})})]})}),o.jsxs("div",{className:"p-6",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"relative",children:[o.jsx($s,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:s.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${i?"cursor-pointer":""}`,onClick:()=>i==null?void 0:i(u),children:s.map(f=>o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function ate({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ot,{size:24})})]})}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Combo Used"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Opponent Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Finish Type"})]})}),o.jsxs("tbody",{className:"bg-white divide-y divide-gray-200",children:[n.map((s,i)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:s.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:s.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:s.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.outcome})]},i)),n.map((s,i)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:s.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.player2_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.player1_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-mono text-xs",children:s.player1_beyblade}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600",children:s.winner_name}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s.outcome})]},`p2-${i}`))]})]})})]})}):null}function ote({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[s,i]=y.useState({blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}}),[a,l]=y.useState([]),[c,u]=y.useState([]),[d,f]=y.useState(!0),[h,m]=y.useState(""),[p,x]=y.useState(""),[w,g]=y.useState([]),[v,b]=y.useState({key:"comboScore",direction:"desc"}),[_,j]=y.useState({isOpen:!1,title:"",data:[],columns:[]}),[N,k]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&P()},[e]),y.useEffect(()=>{e&&r.blades.length>0&&E()},[e,r]);const P=async()=>{try{const[S,L,V,R,X]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);n({blades:S.data||[],ratchets:L.data||[],bits:V.data||[],lockchips:R.data||[],assistBlades:X.data||[]})}catch(S){console.error("Error fetching parts data:",S)}},E=async()=>{try{const{data:S,error:L}=await Y.from("match_results").select("*").eq("tournament_id",e);if(L)throw L;if(!S||S.length===0){f(!1);return}const V=[],R={blade:{},ratchet:{},bit:{},lockchip:{},mainBlade:{},assistBlade:{}},X={};S.forEach(J=>{var ie;if(!J.winner_name||!J.player1_name||!J.player2_name)return;const ae=rS(J.player1_beyblade,J.player1_blade_line,r),$=rS(J.player2_beyblade,J.player2_blade_line,r),q=((ie=J.outcome)==null?void 0:ie.split(" (")[0])||"Unknown",D=J.points_awarded||nte[q]||0,G=J.normalized_player1_name||J.player1_name.toLowerCase(),C=J.normalized_player2_name||J.player2_name.toLowerCase(),M=J.normalized_winner_name||J.winner_name.toLowerCase(),W={player:J.player1_name,opponent:J.player2_name,beyblade:J.player1_beyblade,opponentBeyblade:J.player2_beyblade,isWin:M===G,outcome:q,parsedParts:ae,bladeLine:J.player1_blade_line||"Unknown"},Q={player:J.player2_name,opponent:J.player1_name,beyblade:J.player2_beyblade,opponentBeyblade:J.player1_beyblade,isWin:M===C,outcome:q,parsedParts:$,bladeLine:J.player2_blade_line||"Unknown"};V.push(W,Q),[W,Q].forEach(ge=>{const me=`${ge.beyblade}_${ge.player}`;X[me]||(X[me]={combo:ge.beyblade,player:ge.player,wins:0,losses:0,totalMatches:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,comboScore:0,finishDistribution:{},bladeLine:ge.bladeLine,allMatches:[]});const Ne=X[me];Ne.totalMatches++,Ne.finishDistribution[q]=(Ne.finishDistribution[q]||0)+1,Ne.allMatches.push(J),ge.isWin?(Ne.wins++,Ne.totalPoints+=D):Ne.losses++});const se=(ge,me)=>{Object.entries(ge).forEach(([Ne,Tt])=>{if(Ne==="isCustom"||!Tt)return;R[Ne][Tt]||(R[Ne][Tt]={name:Tt,usage:0,wins:0,losses:0,winRate:0,wilson:0});const vn=R[Ne][Tt];vn.usage++,me?vn.wins++:vn.losses++})};se(ae,W.isWin),se($,Q.isWin)}),Object.keys(R).forEach(J=>{Object.values(R[J]).forEach(ae=>{const $=ae.wins+ae.losses;ae.winRate=$>0?ae.wins/$*100:0,ae.wilson=Qee(ae.wins,$)})});const ce=Object.values(X).map(J=>(J.winRate=J.totalMatches>0?J.wins/J.totalMatches*100:0,J.weightedWinRate=J.totalMatches>0?J.wins/J.totalMatches*(J.totalMatches/(J.totalMatches+10)):0,J.avgPointsPerMatch=J.totalMatches>0?J.totalPoints/J.totalMatches:0,J.comboScore=J.weightedWinRate*(J.avgPointsPerMatch/3)*100,J));i(R),l(ce),u(V),h&&p&&T()}catch(S){console.error("Error processing tournament data:",S)}finally{f(!1)}},T=()=>{if(!h||!p)return;const S=a.filter(L=>c.filter(R=>R.beyblade===L.combo&&R.player===L.player).some(R=>R.parsedParts[h]===p));g(S.sort((L,V)=>V.comboScore-L.comboScore))};ms.useEffect(()=>{h&&p&&a.length>0?T():g([])},[h,p,a]);const O=S=>{let L="asc";v.key===S&&v.direction==="asc"&&(L="desc"),b({key:S,direction:L})},U=(S,L)=>{const R=c.filter(X=>X.parsedParts[L]===S).map(X=>{var J;const ce=((J=X.allMatches)==null?void 0:J[0])||{};return{combo_used:X.beyblade,combo_against:X.opponentBeyblade,player1_name:X.player,player2_name:X.opponent,winner_name:ce.winner_name,outcome:X.outcome,player1_beyblade:X.beyblade,player2_beyblade:X.opponentBeyblade}});k({isOpen:!0,title:`All Matches using ${S}`,matches:R})},I=S=>{const L=Object.values(s[S]||{}).filter(V=>V.usage>0).sort((V,R)=>R.wilson-V.wilson).map(V=>({...V,allMatches:c.filter(R=>R.parsedParts[S]===V.name)}));j({isOpen:!0,title:`All ${S.charAt(0).toUpperCase()+S.slice(1)} Performance`,data:L,columns:[{key:"name",label:"Name"},{key:"usage",label:"Usage"},{key:"wins",label:"Wins"},{key:"losses",label:"Losses"},{key:"winRate",label:"Win Rate (%)"},{key:"wilson",label:"Wilson Score"}],onRowClick:V=>{j(R=>({...R,isOpen:!1})),setTimeout(()=>{U(V.name,S)},100)}})},H=()=>{j({isOpen:!0,title:"All Combo Performance Rankings",data:B,columns:[{key:"combo",label:"Combo"},{key:"player",label:"Player"},{key:"bladeLine",label:"Blade Line"},{key:"totalMatches",label:"Matches"},{key:"winRate",label:"Win Rate (%)"},{key:"weightedWinRate",label:"Weighted Win Rate (%)"},{key:"avgPointsPerMatch",label:"Avg Points"},{key:"comboScore",label:"Combo Score"}],onRowClick:S=>{k({isOpen:!0,title:`All Matches for ${S.combo} by ${S.player}`,matches:S.allMatches||[]}),j(L=>({...L,isOpen:!1}))}})},B=[...a].sort((S,L)=>{const V=S[v.key],R=L[v.key];if(typeof V=="number"&&typeof R=="number")return v.direction==="asc"?V-R:R-V;const X=String(V),ce=String(R);return v.direction==="asc"?X.localeCompare(ce):ce.localeCompare(X)}),K=({children:S,sortKey:L})=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",onClick:()=>O(L),children:o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("span",{children:S}),v.key===L&&(v.direction==="asc"?o.jsx(ZR,{size:12}):o.jsx(JR,{size:12}))]})});if(t||d)return o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Processing meta analysis..."})]});if(c.length===0)return o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx(ln,{size:48,className:"mx-auto text-yellow-500 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"No Meta Data Available"}),o.jsx("p",{className:"text-yellow-700",children:"This tournament has no completed matches yet. Meta analysis requires match results to generate statistics."})]})});const F=B.slice(0,10).map(S=>({name:S.combo,score:S.comboScore,winRate:S.winRate,matches:S.totalMatches})),A=Object.entries(c.reduce((S,L)=>(L.isWin&&(S[L.outcome]=(S[L.outcome]||0)+1),S),{})).map(([S,L])=>({name:S,value:L,color:ste[S]||"#6B7280"}));return o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[o.jsx(io,{size:24,className:"mr-2 text-blue-600"}),"Top Combos by Score"]}),o.jsx(Ei,{width:"100%",height:300,children:o.jsxs(cb,{data:F,margin:{bottom:60},children:[o.jsx(Dh,{strokeDasharray:"3 3"}),o.jsx(Mc,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,fontSize:9}),o.jsx(Dc,{}),o.jsx(Xa,{formatter:(S,L)=>[typeof S=="number"?S.toFixed(2):S,L==="score"?"Combo Score":L==="winRate"?"Win Rate (%)":"Matches"]}),o.jsx(Mh,{dataKey:"score",fill:"#3B82F6",name:"Combo Score"})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Finish Type Distribution"}),o.jsx(Ei,{width:"100%",height:300,children:o.jsxs(ub,{children:[o.jsx(Th,{data:A,cx:"50%",cy:"50%",labelLine:!1,label:({name:S,percent:L})=>`${S} ${(L*100).toFixed(0)}%`,outerRadius:100,fill:"#8884d8",dataKey:"value",children:A.map((S,L)=>o.jsx(Li,{fill:S.color},`cell-${L}`))}),o.jsx(Xa,{})]})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[o.jsx($s,{size:24,className:"mr-2 text-purple-600"}),"Analysis by Part"]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:h,onChange:S=>{m(S.target.value),x("")},className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"Select Part Type"}),o.jsx("option",{value:"blade",children:"Blade"}),o.jsx("option",{value:"mainBlade",children:"Main Blade"}),o.jsx("option",{value:"ratchet",children:"Ratchet"}),o.jsx("option",{value:"bit",children:"Bit"}),o.jsx("option",{value:"lockchip",children:"Lockchip"}),o.jsx("option",{value:"assistBlade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Name"}),o.jsxs("select",{value:p,onChange:S=>x(S.target.value),disabled:!h,className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:bg-slate-700",children:[o.jsx("option",{value:"",children:"Select Part Name"}),h&&Object.values(s[h]||{}).filter(S=>S.usage>0).sort((S,L)=>L.wilson-S.wilson).map(S=>o.jsx("option",{value:S.name,children:S.name},S.name))]})]})]}),h&&p&&w.length>0&&o.jsxs("div",{className:"mb-6",children:[o.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Combos using ",p," (",h,")"]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-purple-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Player"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Blade Line"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Matches"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Win Rate"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Combo Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-purple-100",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.map((S,L)=>o.jsxs("tr",{className:"hover:bg-purple-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.bladeLine==="Basic"?"bg-blue-100 text-blue-800":S.bladeLine==="Unique"?"bg-purple-100 text-purple-800":S.bladeLine==="Custom"?"bg-orange-100 text-orange-800":S.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-center",children:S.totalMatches}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${S.winRate>=60?"text-green-600":S.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[S.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-purple-600 text-center",children:S.comboScore.toFixed(1)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("button",{onClick:()=>{k({isOpen:!0,title:`All Matches for ${S.combo} by ${S.player}`,matches:S.allMatches||[]})},className:"text-purple-600 hover:text-purple-800 text-sm font-medium",children:"View Matches"})})]},L))})]})})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-bold text-white",children:"Combo Performance Rankings"}),o.jsxs("button",{onClick:H,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-4 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 shadow-[0_0_15px_rgba(0,200,255,0.3)]",children:[o.jsx(un,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx(K,{sortKey:"combo",children:"Combo"}),o.jsx(K,{sortKey:"player",children:"Player"}),o.jsx(K,{sortKey:"bladeLine",children:"Blade Line"}),o.jsx(K,{sortKey:"totalMatches",children:"Matches"}),o.jsx(K,{sortKey:"winRate",children:"Win Rate"}),o.jsx(K,{sortKey:"weightedWinRate",children:"Weighted Win Rate"}),o.jsx(K,{sortKey:"avgPointsPerMatch",children:"Avg Points"}),o.jsx(K,{sortKey:"comboScore",children:"Combo Score"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:B.slice(0,20).map((S,L)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:S.combo}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.player}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.bladeLine==="Basic"?"bg-blue-100 text-blue-800":S.bladeLine==="Unique"?"bg-purple-100 text-purple-800":S.bladeLine==="Custom"?"bg-orange-100 text-orange-800":S.bladeLine==="X-Over"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.bladeLine})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.totalMatches}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[S.winRate.toFixed(1),"%"]}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:[(S.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:S.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-green-600",children:S.comboScore.toFixed(1)})]},L))})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[o.jsx("div",{className:"space-y-6",children:["blade","mainBlade"].map(S=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                               transition-all duration-300 hover:border-cyan-400/70 
                               hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-white capitalize",children:[S==="mainBlade"?"Main Blades":"Blades"," Performance"]}),o.jsxs("button",{onClick:()=>I(S),className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-3 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 text-sm shadow-[0_0_12px_rgba(0,200,255,0.25)]",children:[o.jsx(un,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(s[S]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(ln,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",S," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(s[S]||{}).filter(L=>L.usage>0).sort((L,V)=>V.wilson-L.wilson).slice(0,8).map((L,V)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:L.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:L.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${L.winRate>=60?"text-green-600":L.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[L.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:L.wilson.toFixed(3)})]},V))})]})})]},S))}),o.jsx("div",{className:"space-y-6",children:["ratchet","bit","lockchip","assistBlade"].map(S=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                               transition-all duration-300 hover:border-cyan-400/70 
                               hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-bold text-white capitalize",children:[S==="assistBlade"?"Assist Blades":`${S}s`," Performance"]}),o.jsxs("button",{onClick:()=>I(S),className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-3 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 text-sm shadow-[0_0_12px_rgba(0,200,255,0.25)]",children:[o.jsx(un,{size:14}),o.jsx("span",{children:"Show All"})]})]}),Object.keys(s[S]||{}).length===0?o.jsxs("div",{className:"text-center py-6",children:[o.jsx(ln,{size:32,className:"mx-auto text-gray-400 mb-2"}),o.jsxs("p",{className:"text-gray-500 text-sm",children:["No ",S," data available"]})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Name"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Usage"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Win Rate"}),o.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:"Wilson"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Object.values(s[S]||{}).filter(L=>L.usage>0).sort((L,V)=>V.wilson-L.wilson).slice(0,8).map((L,V)=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:L.name}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:L.usage}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-center",children:o.jsxs("span",{className:`font-medium ${L.winRate>=60?"text-green-600":L.winRate>=40?"text-yellow-600":"text-red-600"}`,children:[L.winRate.toFixed(1),"%"]})}),o.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 text-center",children:L.wilson.toFixed(3)})]},V))})]})})]},S))})]}),o.jsx(ite,{isOpen:_.isOpen,onClose:()=>j(S=>({...S,isOpen:!1})),title:_.title,data:_.data,columns:_.columns,onRowClick:_.onRowClick}),o.jsx(ate,{isOpen:N.isOpen,onClose:()=>k(S=>({...S,isOpen:!1})),title:N.title,matches:N.matches})]})}const nS={"Spin Finish":1,"Burst Finish":2,"Over Finish":2,"Extreme Finish":3},wu=["Spin Finish","Burst Finish","Over Finish","Extreme Finish"];function lte({isOpen:e,onClose:t,title:r,data:n,columns:s,onRowClick:i}){const[a,l]=y.useState(""),c=n.filter(u=>s.some(d=>String(u[d.key]||"").toLowerCase().includes(a.toLowerCase())));return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(Ot,{size:24})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"mb-4 relative",children:[o.jsx($s,{size:20,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search...",value:a,onChange:u=>l(u.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),o.jsx("div",{className:"overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50 sticky top-0",children:o.jsx("tr",{children:s.map(u=>o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:u.label},u.key))})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((u,d)=>o.jsx("tr",{className:`hover:bg-gray-50 ${i?"cursor-pointer":""}`,onClick:()=>i==null?void 0:i(u),children:s.map(f=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:typeof u[f.key]=="number"?f.key.includes("Rate")||f.key.includes("Score")?u[f.key].toFixed(1):u[f.key]:String(u[f.key]||"")},f.key))},d))})]})})]})]})}):null}function cte({isOpen:e,onClose:t,title:r,matches:n}){return e?o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden",children:[o.jsxs("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 px-6 py-4 text-white flex justify-between items-center",children:[o.jsx("h2",{className:"text-2xl font-bold",children:r}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full",children:o.jsx(Ot,{size:24})})]}),o.jsx("div",{className:"p-6 overflow-auto max-h-[60vh]",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Result"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 1 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Player 2 Beyblade"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Winner"}),o.jsx("th",{className:"px-6 py-3 text-xs font-medium text-gray-500 uppercase",children:"Finish Type"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map((s,i)=>o.jsxs("tr",{className:`hover:bg-gray-50 ${s.winner_name===s.player1_name?"bg-blue-50":s.winner_name===s.player2_name?"bg-red-50":""}`,children:[o.jsxs("td",{className:"px-6 py-4 text-sm font-medium",children:["Match ",i+1]}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${s.winner_name===s.player1_name?"text-blue-700":"text-gray-600"}`,children:s.player1_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:s.player1_beyblade}),o.jsx("td",{className:`px-6 py-4 text-sm font-medium ${s.winner_name===s.player2_name?"text-red-700":"text-gray-600"}`,children:s.player2_name}),o.jsx("td",{className:"px-6 py-4 text-sm font-mono text-xs",children:s.player2_beyblade}),o.jsx("td",{className:"px-6 py-4 text-sm font-medium text-green-600",children:s.winner_name}),o.jsx("td",{className:"px-6 py-4 text-sm",children:s.outcome})]},i))})]})})]})}):null}function ute({tournamentId:e,loading:t=!1}){const[r,n]=y.useState({}),[s,i]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState({isOpen:!1,title:"",data:[],columns:[],onRowClick:void 0}),[h,m]=y.useState({isOpen:!1,title:"",matches:[]});y.useEffect(()=>{e&&x()},[e]);const p=(j,N)=>N===0?0:j/N*(N/(N+10)),x=async()=>{try{const{data:j,error:N}=await Y.from("match_results").select("*").eq("tournament_id",e);if(N)throw N;const k=j||[];if(k.length===0){u(!1);return}const P={},E={};k.forEach(O=>{var ce;if(!O.winner_name||!O.player1_name||!O.player2_name)return;const U=((ce=O.outcome)==null?void 0:ce.split(" (")[0])||"Unknown",I=O.points_awarded||nS[U]||0,H=O.phase_number||1,B=O.normalized_player1_name||O.player1_name.toLowerCase(),K=O.normalized_player2_name||O.player2_name.toLowerCase(),F=O.normalized_winner_name||O.winner_name.toLowerCase();[B,K].forEach((J,ae)=>{const $=ae===0?O.player1_name:O.player2_name;P[$]||(P[$]={name:$,matches:0,wins:0,losses:0,winRate:0,weightedWinRate:0,totalPoints:0,avgPointsPerMatch:0,mvpCombo:"",mvpComboScore:0,mostCommonWinFinish:"",mostCommonLoseFinish:"",finishDistribution:{},phasePerformance:{},winsByFinish:{},lossesByFinish:{},pointsGainedByBey:{},pointsGivenByBey:{},allMatches:[]})}),P[O.player1_name]&&P[O.player1_name].allMatches.push(O),P[O.player2_name]&&P[O.player2_name].allMatches.push(O);const A=P[O.winner_name],S=F===B?O.player2_name:O.player1_name,L=P[S],V=O.winner_name===O.player1_name?O.player1_beyblade:O.player2_beyblade,R=O.winner_name===O.player1_name?O.player2_beyblade:O.player1_beyblade;if(!A||!L)return;A.matches++,A.wins++,A.totalPoints+=I,A.finishDistribution[U]=(A.finishDistribution[U]||0)+1,A.winsByFinish[V]||(A.winsByFinish[V]={}),A.winsByFinish[V][U]=(A.winsByFinish[V][U]||0)+1,A.pointsGainedByBey[V]=(A.pointsGainedByBey[V]||0)+I,A.phasePerformance[H]||(A.phasePerformance[H]={wins:0,matches:0,points:0}),A.phasePerformance[H].wins++,A.phasePerformance[H].matches++,A.phasePerformance[H].points+=I,L.matches++,L.losses++,L.finishDistribution[U]=(L.finishDistribution[U]||0)+1,L.lossesByFinish[R]||(L.lossesByFinish[R]={}),L.lossesByFinish[R][U]=(L.lossesByFinish[R][U]||0)+1,L.pointsGivenByBey[R]=(L.pointsGivenByBey[R]||0)+I,L.phasePerformance[H]||(L.phasePerformance[H]={wins:0,matches:0,points:0}),L.phasePerformance[H].matches++;const X=[O.player1_name,O.player2_name].sort().join("_vs_");E[X]||(E[X]={player1:O.player1_name,player2:O.player2_name,p1Wins:0,p2Wins:0,totalMatches:0,p1WinRate:0}),E[X].totalMatches++,O.winner_name===O.player1_name?E[X].p1Wins++:E[X].p2Wins++}),Object.values(P).forEach(O=>{if(O.winRate=O.matches>0?O.wins/O.matches*100:0,O.weightedWinRate=p(O.wins,O.matches),O.avgPointsPerMatch=O.matches>0?O.totalPoints/O.matches:0,Object.keys(O.pointsGainedByBey).length>0){const[I,H]=Object.entries(O.pointsGainedByBey).reduce((B,K)=>B[1]>K[1]?B:K);O.mvpCombo=I,O.mvpComboScore=H}const U=Object.entries(O.finishDistribution);O.mostCommonWinFinish=U.length>0?U.reduce((I,H)=>I[1]>H[1]?I:H)[0]:"N/A",O.mostCommonLoseFinish=O.mostCommonWinFinish}),Object.values(E).forEach(O=>{O.p1WinRate=O.totalMatches>0?O.p1Wins/O.totalMatches*100:0}),n(P),l(Object.values(E).filter(O=>O.totalMatches>0));const T=Object.keys(P);T.length>0&&!s&&i(T[0])}catch(j){console.error("Error fetching player analytics:",j)}finally{u(!1)}},w=Object.keys(r),g=s?r[s]:void 0,v=()=>{const j=Object.values(r).map(N=>({Player:N.name,Matches:N.matches,Wins:N.wins,Losses:N.losses,"Win Rate (%)":Number(N.winRate.toFixed(1)),"Weighted Win Rate (%)":Number((N.weightedWinRate*100).toFixed(1)),"Total Points":N.totalPoints,"Avg Pts/Match":Number(N.avgPointsPerMatch.toFixed(2)),"MVP Beyblade":N.mvpCombo||"—","MVP Points":N.mvpComboScore||0}));f({isOpen:!0,title:"All Players (Sortable/Filterable)",data:j,columns:[{key:"Player",label:"Player"},{key:"Matches",label:"Matches"},{key:"Wins",label:"Wins"},{key:"Losses",label:"Losses"},{key:"Win Rate (%)",label:"Win Rate (%)"},{key:"Weighted Win Rate (%)",label:"Weighted Win Rate (%)"},{key:"Total Points",label:"Total Points"},{key:"Avg Pts/Match",label:"Avg Pts/Match"},{key:"MVP Beyblade",label:"MVP Beyblade"},{key:"MVP Points",label:"MVP Points"}],onRowClick:N=>{i(N.Player),f(k=>({...k,isOpen:!1}))}})},b=()=>{const j=a.map(N=>({Matchup:`${N.player1} vs ${N.player2}`,"Total Matches":N.totalMatches,"Player 1 Wins":N.p1Wins,"Player 2 Wins":N.p2Wins,"P1 Win Rate (%)":Number(N.p1WinRate.toFixed(1))}));f({isOpen:!0,title:"All Head-to-Head Matchups",data:j,columns:[{key:"Matchup",label:"Matchup"},{key:"Total Matches",label:"Total Matches"},{key:"Player 1 Wins",label:"Player 1 Wins"},{key:"Player 2 Wins",label:"Player 2 Wins"},{key:"P1 Win Rate (%)",label:"P1 Win Rate (%)"}]})},_=j=>{const N=r[j];N&&m({isOpen:!0,title:`${j} — Match Details`,matches:N.allMatches||[]})};return c||t?o.jsx("div",{className:"p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-10 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-40 bg-gray-200 rounded-lg"}),o.jsx("div",{className:"h-64 bg-gray-200 rounded-lg"})]})}):w.length===0?o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-8 text-center",children:o.jsx("p",{className:"text-gray-600",children:"No match data found for this tournament yet."})})}):o.jsxs("div",{className:"space-y-3 p-2 sm:space-y-6 sm:p-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsxs("h2",{className:"text-base sm:text-xl font-bold text-white mb-2 sm:mb-4 flex items-center",children:[o.jsx(nt,{size:20,className:"mr-2 text-blue-600"}),"Player Selection"]}),o.jsxs("div",{className:"w-full",children:[o.jsx("label",{className:"block text-xs font-medium text-cyan-400 mb-1",children:"Select Player for Detailed Analysis"}),o.jsxs("select",{value:s,onChange:j=>i(j.target.value),className:"w-full bg-slate-800 border border-cyan-500/30 rounded-none px-2 py-1.5 text-white text-sm focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),w.sort().map(j=>o.jsx("option",{value:j,children:j},j))]})]})]}),g&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] mb-3 sm:mb-6`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 sm:mb-4 gap-2",children:[o.jsxs("h2",{className:"text-base sm:text-lg font-bold text-white flex items-center",children:[o.jsx(kt,{size:20,className:"mr-2 text-yellow-600"}),"Tournament Player Rankings"]}),o.jsxs("button",{onClick:v,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-1 sm:space-x-2 shadow-[0_0_15px_rgba(0,200,255,0.3)] text-sm",children:[o.jsx(un,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Player"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"M"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"WR%"}),o.jsx("th",{className:"hidden sm:table-cell px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Weighted WR"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Pts"}),o.jsx("th",{className:"hidden sm:table-cell px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Avg Pts"}),o.jsx("th",{className:"hidden md:table-cell px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider cursor-pointer hover:bg-slate-700/50",children:"Most Common Win"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.values(r).sort((j,N)=>N.weightedWinRate-j.weightedWinRate).slice(0,10).map((j,N)=>o.jsxs("tr",{className:`hover:bg-slate-800/50 cursor-pointer ${s===j.name?"bg-cyan-500/10":""}`,onClick:()=>i(j.name),children:[o.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4 whitespace-nowrap text-sm font-medium text-white",children:o.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-3",children:[o.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-xs font-bold",children:N+1}),o.jsx("span",{className:"truncate",children:j.name})]})}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-white text-center",children:j.matches}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.winRate>=60?"text-green-400":j.winRate>=40?"text-yellow-400":"text-red-400"}`,children:[j.winRate.toFixed(1),"%"]})}),o.jsxs("td",{className:"hidden sm:table-cell px-6 py-4 text-sm font-bold text-cyan-400 text-center",children:[(j.weightedWinRate*100).toFixed(1),"%"]}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm font-medium text-white text-center",children:j.totalPoints}),o.jsx("td",{className:"hidden sm:table-cell px-6 py-4 text-sm text-white text-center",children:j.avgPointsPerMatch.toFixed(2)}),o.jsx("td",{className:"hidden md:table-cell px-6 py-4 text-sm text-white",children:j.mostCommonWinFinish})]},j.name))})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-3 sm:mb-6 gap-2",children:[o.jsxs("h3",{className:"text-base sm:text-xl font-bold text-white flex items-center",children:[o.jsx(io,{size:24,className:"mr-2 text-blue-600"}),g.name," — Detailed Performance"]}),o.jsx("button",{className:"text-xs sm:text-sm text-cyan-400 hover:text-cyan-300 underline self-start sm:self-auto",onClick:()=>_(g.name),children:"View Match Details"})]}),o.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl sm:text-3xl font-bold text-cyan-400",children:g.matches}),o.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Matches"})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"text-xl sm:text-3xl font-bold text-green-400",children:[g.winRate.toFixed(1),"%"]}),o.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Win Rate"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-xl sm:text-3xl font-bold text-purple-400",children:g.totalPoints}),o.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Points"})]}),o.jsxs("div",{className:"text-center col-span-2 sm:col-span-1",children:[o.jsx("div",{className:"text-xl sm:text-3xl font-bold text-orange-400",children:g.avgPointsPerMatch.toFixed(2)}),o.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"Avg Pts"})]}),o.jsxs("div",{className:"text-center col-span-2 sm:col-span-2 lg:col-span-1",children:[o.jsx("div",{className:"text-sm sm:text-xl font-bold text-indigo-400 truncate",children:g.mvpCombo||"N/A"}),o.jsx("div",{className:"text-xs sm:text-sm text-slate-400",children:"MVP Beyblade"}),g.mvpCombo&&o.jsxs("div",{className:"text-sm sm:text-lg font-bold text-indigo-300 mt-1",children:[g.mvpComboScore," pts"]})]})]})]})]}),g&&o.jsxs("div",{className:"space-y-3 lg:space-y-0 lg:grid lg:grid-cols-2 lg:gap-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Wins per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Beyblade"}),wu.map(j=>o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:j.split(" ")[0].substring(0,4)},j)),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Pts"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.keys(g.winsByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4 text-sm font-medium text-white",children:o.jsx("div",{className:"truncate max-w-[100px] sm:max-w-none",title:j,children:j})}),wu.map(N=>{var k;return o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-center font-medium text-green-400",children:((k=g.winsByFinish[j])==null?void 0:k[N])||0},N)}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-center font-bold text-green-300",children:g.pointsGainedByBey[j]||0})]},j))})]})})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Losses per Finish"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Beyblade"}),wu.map(j=>o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:j.split(" ")[0].substring(0,4)},j)),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Pts"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.keys(g.lossesByFinish).map(j=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4 text-sm font-medium text-white",children:o.jsx("div",{className:"truncate max-w-[100px] sm:max-w-none",title:j,children:j})}),wu.map(N=>{var k;return o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-center font-medium text-red-400",children:((k=g.lossesByFinish[j])==null?void 0:k[N])||0},N)}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-center font-bold text-red-300",children:g.pointsGivenByBey[j]||0})]},j))})]})})]})]}),g&&o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Points per Finish Type"}),o.jsx(Ei,{width:"100%",height:250,children:o.jsxs(Kee,{data:Object.entries(g.finishDistribution).map(([j,N])=>({finish:j,points:N*(nS[j]||0),count:N})),children:[o.jsx(ZT,{}),o.jsx(Ch,{dataKey:"finish"}),o.jsx(Eh,{}),o.jsx(rb,{name:"Points",dataKey:"points",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.3})]})})]}),Object.keys(g.phasePerformance).length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                           transition-all duration-300 hover:border-cyan-400/70 
                           hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-base sm:text-lg font-bold text-white mb-3 sm:mb-4",children:"Phase Performance"}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-3 text-xs font-medium text-cyan-400 uppercase",children:"Phase"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"M"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"W"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"WR%"}),o.jsx("th",{className:"hidden sm:table-cell px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Avg Pts"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:Object.entries(g.phasePerformance).sort(([j],[N])=>parseInt(j)-parseInt(N)).map(([j,N])=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4 text-sm font-medium text-white text-center",children:j}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-white text-center",children:N.matches}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-green-400 text-center font-medium",children:N.wins}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${N.matches>0&&N.wins/N.matches*100>=50?"text-green-400":"text-red-400"}`,children:[N.matches>0?(N.wins/N.matches*100).toFixed(1):"0.0","%"]})}),o.jsx("td",{className:"hidden sm:table-cell px-6 py-4 text-sm text-white text-center",children:N.matches>0?(N.points/N.matches).toFixed(2):"0.00"})]},j))})]})})]})]}),a.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-3 sm:p-6 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-3 sm:mb-4 gap-2",children:[o.jsxs("h2",{className:"text-base sm:text-lg font-bold text-white flex items-center",children:[o.jsx(dc,{size:20,className:"mr-2 text-green-600"}),"Head-to-Head Matchups"]}),o.jsxs("button",{onClick:b,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-1 sm:space-x-2 shadow-[0_0_15px_rgba(0,200,255,0.3)] text-sm",children:[o.jsx(un,{size:16}),o.jsx("span",{children:"Show All"})]})]}),o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200 text-xs sm:text-sm",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-2 sm:px-6 py-2 sm:py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Matchup"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"M"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"P1W"}),o.jsx("th",{className:"px-1 sm:px-6 py-2 sm:py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"P2W"}),o.jsx("th",{className:"hidden sm:table-cell px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"P1 WR%"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:a.sort((j,N)=>N.totalMatches-j.totalMatches).slice(0,10).map((j,N)=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-2 sm:px-6 py-2 sm:py-4 text-sm font-medium text-white",children:o.jsxs("div",{className:"truncate",title:`${j.player1} vs ${j.player2}`,children:[j.player1," vs ",j.player2]})}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-white text-center",children:j.totalMatches}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-green-400 text-center font-medium",children:j.p1Wins}),o.jsx("td",{className:"px-1 sm:px-6 py-2 sm:py-4 text-sm text-red-400 text-center font-medium",children:j.p2Wins}),o.jsx("td",{className:"hidden sm:table-cell px-6 py-4 text-sm text-center",children:o.jsxs("span",{className:`font-medium ${j.p1WinRate>=50?"text-green-400":"text-red-400"}`,children:[j.p1WinRate.toFixed(1),"%"]})})]},N))})]})})]}),o.jsx(lte,{isOpen:d.isOpen,onClose:()=>f(j=>({...j,isOpen:!1})),title:d.title,data:d.data,columns:d.columns,onRowClick:d.onRowClick}),o.jsx(cte,{isOpen:h.isOpen,onClose:()=>m(j=>({...j,isOpen:!1})),title:h.title,matches:h.matches})]})}function dte(){const[e,t]=y.useState("meta"),[r,n]=y.useState([]),[s,i]=y.useState(""),[a,l]=y.useState(!0),[c,u]=y.useState(!1);y.useEffect(()=>{d()},[]);const d=async()=>{try{const{data:h,error:m}=await Y.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(m)throw m;n(h||[]);const p=h==null?void 0:h.find(x=>x.status==="completed");p&&i(p.id)}catch(h){console.error("Error fetching tournaments:",h)}finally{l(!1)}},f=h=>{h!==e&&(u(!0),setTimeout(()=>{t(h),u(!1)},150))};return a?o.jsxs("div",{className:"text-center py-12 m-6",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading tournaments..."})]}):c?o.jsx("div",{className:"text-center py-12 m-6",children:o.jsx("div",{className:"w-8 h-8 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto"})}):o.jsxs("div",{className:"space-y-8 p-6",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                     transition-all duration-300 hover:border-cyan-400/70 
                     hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                         w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[o.jsx(cn,{size:24,className:"mr-2 text-cyan-400"}),"Tournament Selection"]}),o.jsxs("div",{className:"max-w-md",children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"Select Tournament for Analysis"}),o.jsxs("select",{value:s,onChange:h=>i(h.target.value),className:"w-full bg-slate-800 border border-cyan-500/30 px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),r.map(h=>o.jsxs("option",{value:h.id,children:[h.name," (",h.status,") - ",new Date(h.tournament_date).toLocaleDateString()]},h.id))]})]})]}),s&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] backdrop-blur-sm`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("div",{className:"flex items-center space-x-6 border-b border-slate-700 pb-2",children:[o.jsxs("button",{onClick:()=>f("meta"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="meta"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(ln,{size:16,className:"mr-2"}),"Meta Analysis",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="meta"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>f("player"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="player"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(nt,{size:16,className:"mr-2"}),"Player Analytics",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${e==="player"?"w-full":"w-0 group-hover:w-full"}`})]})]})]}),e==="meta"&&o.jsx(ote,{tournamentId:s}),e==="player"&&o.jsx(ute,{tournamentId:s})]}),!s&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-8 rounded-none 
                       transition-all duration-300 hover:border-cyan-400/70 
                       hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] text-center m-6`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                           w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(cn,{size:32,className:"text-slate-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"Select a Tournament"}),o.jsx("p",{className:"text-slate-400",children:"Choose a tournament from the dropdown above to view detailed meta analysis and player analytics."})]})]})}function fte(){return o.jsx("div",{className:"p-6",children:o.jsx("div",{className:"max-w-7xl mx-auto",children:o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-12 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] text-center`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-green-500 to-emerald-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_30px_rgba(16,185,129,0.5)]",children:o.jsx(ln,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-green-400 mb-4",children:"Community Analytics"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-2 rounded-none font-bold text-lg mb-6 shadow-[0_0_20px_rgba(16,185,129,0.3)]",children:"COMING SOON"}),o.jsx("p",{className:"text-green-300 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will be able to track engagement, growth, and tournament participation. Gain insights, compare statistics, and help your community thrive."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-6 border border-green-400/30",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(dc,{size:24,className:"text-green-400"})}),o.jsx("h3",{className:"font-bold text-green-400 mb-2",children:"Growth Metrics"}),o.jsx("p",{className:"text-green-300 text-sm",children:"Track new member growth and community activity trends"})]}),o.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-6 border border-green-400/30",children:[o.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(io,{size:24,className:"text-emerald-400"})}),o.jsx("h3",{className:"font-bold text-green-400 mb-2",children:"Engagement Insights"}),o.jsx("p",{className:"text-green-300 text-sm",children:"Analyze posts, discussions, and tournament participation"})]}),o.jsxs("div",{className:"bg-slate-800/60 backdrop-blur-sm rounded-none p-6 border border-green-400/30",children:[o.jsx("div",{className:"w-12 h-12 bg-green-500/20 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(nt,{size:24,className:"text-green-400"})}),o.jsx("h3",{className:"font-bold text-green-400 mb-2",children:"Community Comparison"}),o.jsx("p",{className:"text-green-300 text-sm",children:"Compare stats across different communities for insights and growth opportunities"})]})]}),o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-green-400/30 rounded-none p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-green-400 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-green-300 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Community growth tracking"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Engagement analytics and trends"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-green-400 rounded-full mr-3"}),"Community comparison and insights"]})]})]}),o.jsx("div",{className:"mt-8 text-green-400 text-sm",children:"Community analytics is coming soon — empowering every community to grow stronger!"})]})})})})}function hte(){zt();const[e,t]=y.useState("overview"),[r,n]=y.useState(!1),s=i=>{i!==e&&(n(!0),setTimeout(()=>{t(i),n(!1)},150))};return r?o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-8",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-10 h-10 border-4 border-cyan-500/30 border-t-cyan-500 rounded-full animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Processing analytics..."})]})})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8 py-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(ln,{size:32,className:"mr-3 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Tournament Analytics"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Analysis of tournament data and player performance"})]}),o.jsx("div",{className:"flex space-x-8 border-b border-slate-700 mb-8",children:[{id:"overview",label:"Overview",icon:o.jsx(kt,{size:16})},{id:"personal",label:"Personal Stats",icon:o.jsx(mi,{size:16})},{id:"tournament",label:"Tournament Analysis",icon:o.jsx(cn,{size:16})},{id:"community",label:"Community Analytics",icon:o.jsx(nt,{size:16})}].map(i=>{const a=e===i.id;return o.jsxs("button",{onClick:()=>s(i.id),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${a?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[i.icon,o.jsx("span",{className:"ml-2",children:i.label}),o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                    ${a?"w-full":"w-0 group-hover:w-full"}`})]},i.id)})}),o.jsxs("div",{children:[e==="overview"&&o.jsx(Gee,{}),e==="personal"&&o.jsx(Jee,{}),e==="tournament"&&o.jsx(dte,{}),e==="community"&&o.jsx(fte,{})]})]})})}function mte(){const{user:e}=zt(),{confirm:t,alert:r}=Rs(),[n,s]=y.useState([]),[i,a]=y.useState([]),[l,c]=y.useState(""),[u,d]=y.useState("tournaments"),[f,h]=y.useState(!0),[m,p]=y.useState(!1),[x,w]=y.useState(null),[g,v]=y.useState(!1),[b,_]=y.useState(""),[j,N]=y.useState(""),[k,P]=y.useState("asc"),[E,T]=y.useState(1),O=10,U=C=>{j===C?P(k==="asc"?"desc":"asc"):(N(C),P("asc"))},I=i.filter(C=>C.player_name.toLowerCase().includes(b.toLowerCase())||C.beyblades.some(M=>M.beyblade_name.toLowerCase().includes(b.toLowerCase()))),H=[...I].sort((C,M)=>{let W,Q;switch(j){case"player":W=C.player_name,Q=M.player_name;break;case"date":W=new Date(C.registered_at).getTime(),Q=new Date(M.registered_at).getTime();break;case"payment":W=C.payment_mode,Q=M.payment_mode;break;case"status":W=C.status,Q=M.status;break;default:return 0}return W<Q?k==="asc"?-1:1:W>Q?k==="asc"?1:-1:0}),B=Math.ceil(H.length/O),K=H.slice((E-1)*O,E*O),[F,A]=y.useState({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:"",unlimited_participants:!1}),S=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";y.useEffect(()=>{S&&L()},[S]),y.useEffect(()=>{l&&u==="registrations"&&V()},[l,u]);const L=async()=>{h(!0);try{const{data:C,error:M}=await Y.from("tournaments").select("*").order("tournament_date",{ascending:!1});if(M)throw M;s(C||[])}catch(C){console.error("Error fetching tournaments:",C),s([])}finally{h(!1)}},V=async()=>{if(l)try{const{data:C,error:M}=await Y.from("tournament_registration_details").select("*").eq("tournament_id",l).order("registered_at",{ascending:!1});if(M)throw M;const W={};C==null||C.forEach(Q=>{W[Q.registration_id]||(W[Q.registration_id]={id:Q.registration_id,tournament_id:Q.tournament_id,player_name:Q.player_name,payment_mode:Q.payment_mode,registered_at:Q.registered_at,status:Q.status,payment_status:Q.payment_status||"confirmed",beyblades:[]}),Q.beyblade_id&&(W[Q.registration_id].beyblades.some(ie=>ie.beyblade_id===Q.beyblade_id)||W[Q.registration_id].beyblades.push({beyblade_id:Q.beyblade_id,beyblade_name:Q.beyblade_name,blade_line:Q.blade_line}))}),a(Object.values(W))}catch(C){console.error("Error fetching registrations:",C)}},R=()=>{p(!0),w(null),A({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:"",unlimited_participants:!1})},X=C=>{w(C.id),p(!1),A({name:C.name,description:C.description||"",tournament_date:C.tournament_date,location:C.location,max_participants:C.max_participants,registration_deadline:C.registration_deadline,prize_pool:C.prize_pool||"",beyblades_per_player:C.beyblades_per_player,players_per_team:C.players_per_team,entry_fee:C.entry_fee,is_free:C.is_free,tournament_type:C.tournament_type,is_practice:C.is_practice,registration_open:C.registration_open,password:C.password||"",unlimited_participants:C.max_participants===999999})},ce=()=>{p(!1),w(null),A({name:"",description:"",tournament_date:"",location:"",max_participants:16,registration_deadline:"",prize_pool:"",beyblades_per_player:3,players_per_team:1,entry_fee:0,is_free:!0,tournament_type:"casual",is_practice:!1,registration_open:!0,password:"",unlimited_participants:!1})},J=async()=>{if(!F.name.trim())return r("Missing Information","Please enter a tournament name.");if(!F.password.trim())return r("Missing Information","Please enter a tournament password.");if(!F.tournament_date)return r("Missing Information","Please select a tournament date.");if(!F.location.trim())return r("Missing Information","Please enter a tournament location.");if(!F.registration_deadline)return r("Missing Information","Please select a registration deadline.");try{const C={name:F.name.trim(),description:F.description.trim()||null,tournament_date:F.tournament_date,location:F.location.trim(),max_participants:F.unlimited_participants?999999:F.max_participants??16,registration_deadline:F.registration_deadline,prize_pool:F.prize_pool.trim()||null,beyblades_per_player:F.beyblades_per_player??3,players_per_team:F.players_per_team??1,entry_fee:F.is_free?0:F.entry_fee??0,is_free:F.is_free,tournament_type:F.tournament_type,is_practice:F.is_practice,registration_open:F.registration_open,password:F.password.trim()};if(m){const{error:M}=await Y.from("tournaments").insert([C]);if(M)throw M}else if(x){const{error:M}=await Y.from("tournaments").update(C).eq("id",x);if(M)throw M}await L(),ce(),await r("Success","Tournament saved successfully!")}catch(C){console.error("Error saving tournament:",C),await r("Error","Failed to save tournament. Please try again.")}},ae=async(C,M)=>{try{const{error:W}=await Y.from("tournaments").update({status:M}).eq("id",C);if(W)throw W;await L(),await r("Success",`Tournament status updated to ${M}!`)}catch(W){console.error("Error updating status:",W),await r("Error","Failed to update tournament status. Please try again.")}},$=async(C,M)=>{try{const{error:W}=await Y.from("tournaments").update({registration_open:!M}).eq("id",C);if(W)throw W;await L(),await r("Success",`Registration ${M?"closed":"opened"} successfully!`)}catch(W){console.error("Error toggling registration:",W),await r("Error","Failed to toggle registration. Please try again.")}},q=async C=>{if(await t("Delete Tournament","Are you sure you want to delete this tournament? This will also delete all registrations and match data. This action cannot be undone."))try{await Y.from("tournament_beyblade_parts").delete().eq("beyblade_id",`(SELECT id FROM tournament_beyblades WHERE registration_id IN (SELECT id FROM tournament_registrations WHERE tournament_id = '${C}'))`),await Y.from("tournament_beyblades").delete().eq("registration_id",`(SELECT id FROM tournament_registrations WHERE tournament_id = '${C}')`),await Y.from("tournament_registrations").delete().eq("tournament_id",C),await Y.from("match_results").delete().eq("tournament_id",C);const{error:W}=await Y.from("tournaments").delete().eq("id",C);if(W)throw W;await L(),await r("Success","Tournament deleted successfully!")}catch(W){console.error("Error deleting tournament:",W),await r("Error","Failed to delete tournament. Please try again.")}},D=async C=>{if(await t("Delete Registration","Are you sure you want to delete this registration? This action cannot be undone."))try{const{error:W}=await Y.from("tournament_registrations").delete().eq("id",C);if(W)throw W;await V(),await r("Success","Registration deleted successfully!")}catch(W){console.error("Error deleting registration:",W),await r("Error","Failed to delete registration. Please try again.")}},G=async C=>{if(await t("Confirm Payment","Mark this registration as paid and confirmed?"))try{const{error:W}=await Y.from("tournament_registrations").update({status:"confirmed",payment_status:"paid"}).eq("id",C);if(W)throw W;await V(),await r("Success","Payment confirmed successfully!")}catch(W){console.error("Error confirming payment:",W),await r("Error","Failed to confirm payment. Please try again.")}};return S?f?o.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center px-6",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-12 h-12 border-4 border-cyan-500/30 border-t-cyan-500 animate-spin mx-auto mb-4"}),o.jsx("p",{className:"text-slate-400",children:"Loading tournaments..."})]})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold flex items-center",children:[o.jsx(kt,{size:36,className:"mr-3 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Tournament Manager"})]}),o.jsx("p",{className:"text-slate-400 mt-1",children:"Create and manage tournaments"})]}),o.jsx("div",{className:"flex space-x-6 border-b border-slate-700",children:["tournaments","registrations"].map(C=>o.jsxs("button",{onClick:()=>d(C),className:`relative pb-2 text-sm font-medium capitalize transition-colors group ${u===C?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[C,o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                      ${u===C?"w-full":"w-0 group-hover:w-full"}`})]},C))})]})}),u==="tournaments"&&o.jsx("div",{className:"flex justify-end mb-6",children:o.jsx("button",{onClick:R,className:`px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium
                         hover:from-cyan-400 hover:to-purple-500 transition-all duration-200
                         shadow-[0_0_18px_rgba(0,200,255,0.25)]`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(_a,{size:18}),o.jsx("span",{children:"Create Tournament"})]})})}),u==="tournaments"&&(m||x)&&o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold mb-4",children:m?"Create New Tournament":"Edit Tournament"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Name *"}),o.jsx("input",{type:"text",value:F.name,onChange:C=>A({...F,name:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Enter tournament name"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Date *"}),o.jsx("input",{type:"date",value:F.tournament_date,onChange:C=>A({...F,tournament_date:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Location *"}),o.jsx("input",{type:"text",value:F.location,onChange:C=>A({...F,location:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Enter tournament location"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Registration Deadline *"}),o.jsx("input",{type:"date",value:F.registration_deadline,onChange:C=>A({...F,registration_deadline:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Max Participants"}),o.jsx("input",{type:"number",min:1,disabled:F.unlimited_participants,value:F.unlimited_participants?"":F.max_participants??"",onChange:C=>A({...F,max_participants:C.target.value===""?void 0:parseInt(C.target.value,10)}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"}),o.jsxs("label",{className:"mt-2 inline-flex items-center space-x-2 text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:F.unlimited_participants,onChange:C=>A({...F,unlimited_participants:C.target.checked,max_participants:C.target.checked?999999:F.max_participants??16}),className:"w-4 h-4"}),o.jsx("span",{children:"Unlimited Participants"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Beyblades per Player"}),o.jsx("input",{type:"number",min:1,max:5,value:F.beyblades_per_player??3,onChange:C=>A({...F,beyblades_per_player:C.target.value===""?void 0:parseInt(C.target.value,10)}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Type"}),o.jsxs("select",{value:F.tournament_type,onChange:C=>A({...F,tournament_type:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",children:[o.jsx("option",{value:"casual",children:"Casual"}),o.jsx("option",{value:"ranked",children:"Ranked"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Mode"}),o.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:F.is_practice,onChange:C=>A({...F,is_practice:C.target.checked}),className:"w-4 h-4"}),o.jsx("span",{children:"Practice Tournament"})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"Practice tournaments don't contribute to global or personal stats"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Entry Fee"}),o.jsxs("label",{className:"inline-flex items-center space-x-2 text-sm text-slate-300",children:[o.jsx("input",{type:"checkbox",checked:F.is_free,onChange:C=>A({...F,is_free:C.target.checked,entry_fee:C.target.checked?0:F.entry_fee??0}),className:"w-4 h-4"}),o.jsx("span",{children:"Free Tournament"})]}),!F.is_free&&o.jsx("input",{type:"number",min:"0",step:"0.01",value:F.entry_fee??0,onChange:C=>A({...F,entry_fee:C.target.value===""?0:parseFloat(C.target.value)}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500 mt-2",placeholder:"0.00"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Tournament Password *"}),o.jsxs("div",{className:"relative",children:[o.jsx("input",{type:g?"text":"password",value:F.password,onChange:C=>A({...F,password:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 pr-10 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Enter tournament password"}),o.jsx("button",{type:"button",onClick:C=>{C.preventDefault(),v(!g)},className:"absolute inset-y-0 right-0 pr-3 flex items-center text-slate-400 hover:text-slate-200",children:g?o.jsx(md,{size:18}):o.jsx(un,{size:18})})]}),o.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"This password will be required for match tracking access"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Description"}),o.jsx("textarea",{rows:3,value:F.description,onChange:C=>A({...F,description:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"Tournament description (optional)"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Prize Pool"}),o.jsx("input",{type:"text",value:F.prize_pool,onChange:C=>A({...F,prize_pool:C.target.value}),className:"w-full bg-slate-950/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500",placeholder:"e.g., ₱500 cash prize"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsx("button",{type:"button",onClick:ce,className:"px-4 py-2 text-slate-300 border border-slate-600 hover:bg-slate-800 transition",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ot,{size:16}),o.jsx("span",{children:"Cancel"})]})}),o.jsx("button",{type:"button",onClick:J,className:`px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white font-medium
                           hover:from-cyan-400 hover:to-purple-500 transition-all duration-200
                           shadow-[0_0_18px_rgba(0,200,255,0.25)]`,children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(uc,{size:16}),o.jsx("span",{children:"Save Tournament"})]})})]})]}),u==="tournaments"&&(n.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(kt,{size:48,className:"mx-auto text-slate-500 mb-4"}),o.jsx("p",{className:"text-slate-400",children:"No tournaments created yet"}),o.jsx("button",{onClick:R,className:"mt-4 text-cyan-400 hover:text-white transition",children:"Create your first tournament"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:n.map(C=>o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/50 p-5 rounded-none
                             transition-all duration-300 hover:border-cyan-400/70
                             hover:shadow-[0_0_18px_rgba(34,211,238,0.35)]`,children:[o.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 w-0 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500 group-hover:w-full"}),o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsx("div",{className:"min-w-0",children:o.jsx("h3",{className:"text-lg font-semibold text-white break-words pr-28",children:C.name})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:`px-2 py-0.5 text-xs font-semibold rounded-none
                          ${C.status==="active"?"text-green-400 bg-green-400/10":C.status==="completed"?"text-purple-400 bg-purple-400/10":"text-cyan-400 bg-cyan-400/10"}`,children:C.status.toUpperCase()}),C.is_practice&&o.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold text-yellow-400 bg-yellow-400/10 rounded-none",children:"PRACTICE"}),o.jsx("button",{onClick:()=>X(C),className:"p-1.5 text-cyan-400 hover:text-white hover:bg-cyan-500/20 transition",title:"Edit",children:o.jsx($a,{size:16})}),o.jsx("button",{onClick:()=>q(C.id),className:"p-1.5 text-red-400 hover:text-white hover:bg-red-500/20 transition",title:"Delete",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"mt-3 space-y-2 text-sm text-slate-300",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ra,{size:14,className:"mr-2 text-cyan-400"}),new Date(C.tournament_date).toLocaleDateString()]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(V2,{size:14,className:"mr-2 text-cyan-400"}),C.location]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(nt,{size:14,className:"mr-2 text-cyan-400"}),C.max_participants===999999?`${C.current_participants} players`:`${C.current_participants}/${C.max_participants} players`]}),C.tournament_code&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-slate-400 mr-2",children:"Code:"}),o.jsxs("span",{className:"font-mono font-semibold text-cyan-300",children:['"',C.tournament_code,'"']})]}),C.password&&o.jsx("div",{className:"text-xs text-orange-300",children:"🔒 Password protected"}),o.jsx("div",{className:"text-xs",children:o.jsx("span",{className:`${C.registration_open?"text-green-300":"text-red-300"}`,children:C.registration_open?"✅ Registration Open":"❌ Registration Closed"})})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-4 pt-4 border-t border-slate-800",children:[o.jsx("label",{className:"text-xs text-slate-400",children:"Status:"}),o.jsxs("select",{value:C.status,onChange:M=>ae(C.id,M.target.value),className:"text-xs bg-slate-950/60 border border-slate-700 px-2 py-1 focus:outline-none focus:border-cyan-500",children:[o.jsx("option",{value:"upcoming",children:"Upcoming"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"completed",children:"Completed"})]}),o.jsx("button",{onClick:()=>$(C.id,C.registration_open),className:`text-xs px-3 py-1 border transition
                        ${C.registration_open?"border-red-500/40 text-red-300 hover:bg-red-500/10":"border-green-500/40 text-green-300 hover:bg-green-500/10"}`,children:C.registration_open?"Close Registration":"Open Registration"})]}),o.jsxs("div",{className:"text-xs text-slate-500 pt-3 border-t border-slate-800 mt-3",children:["Created: ",new Date(C.created_at).toLocaleDateString()]})]},C.id))})),u==="registrations"&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm text-slate-300 mb-1",children:"Select Tournament"}),o.jsxs("select",{value:l,onChange:C=>{c(C.target.value),T(1)},className:"bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500 max-w-md w-full",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),n.map(C=>o.jsx("option",{value:C.id,children:C.name},C.id))]})]}),l&&o.jsx("input",{type:"text",placeholder:"Search players or Beyblades...",value:b,onChange:C=>{_(C.target.value),T(1)},className:"bg-slate-900/60 border border-slate-700 px-3 py-2 text-sm focus:outline-none focus:border-cyan-500 w-full sm:w-64"}),i.length>0&&o.jsx("button",{onClick:()=>{const C=I.map(M=>M.player_name).join(`
`);navigator.clipboard.writeText(C),r("Copied","All player names copied to clipboard for Challonge!")},className:"px-4 py-2 bg-gradient-to-r from-cyan-500 to-purple-600 text-white text-sm font-medium hover:from-cyan-400 hover:to-purple-500 transition shadow-[0_0_12px_rgba(0,200,255,0.25)]",children:"Copy Player List"})]}),l&&o.jsxs(o.Fragment,{children:[I.length===0?o.jsxs("div",{className:"text-center py-10 text-slate-400",children:[o.jsx(nt,{size:48,className:"mx-auto text-slate-600 mb-4"}),"No registrations found for this tournament"]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full border-collapse text-sm",children:[o.jsx("thead",{children:o.jsx("tr",{className:"bg-slate-900/70 text-slate-300 text-left",children:["Player","Date","Payment","Status","Beyblades","Actions"].map((C,M)=>o.jsxs("th",{onClick:()=>U(C.toLowerCase()),className:"px-3 py-2 border-b border-slate-700 cursor-pointer select-none",children:[C,j===C.toLowerCase()&&o.jsx("span",{className:"ml-1",children:k==="asc"?"▲":"▼"})]},M))})}),o.jsx("tbody",{children:K.map(C=>{var M;return o.jsxs("tr",{className:"border-b border-slate-800 hover:bg-slate-800/30 transition",children:[o.jsx("td",{className:"px-3 py-2 font-medium text-white",children:C.player_name}),o.jsx("td",{className:"px-3 py-2 text-slate-400",children:new Date(C.registered_at).toLocaleDateString()}),o.jsx("td",{className:"px-3 py-2 text-slate-400",children:((M=C.payment_mode)==null?void 0:M.replace("_"," "))||"N/A"}),o.jsx("td",{className:"px-3 py-2",children:o.jsx("span",{className:`px-2 py-0.5 text-[11px] rounded-sm
                          ${C.status==="confirmed"?"text-green-300 bg-green-300/10":C.status==="cancelled"?"text-red-300 bg-red-300/10":"text-yellow-300 bg-yellow-300/10"}`,children:C.status})}),o.jsx("td",{className:"px-3 py-2",children:C.beyblades.length>0?o.jsx("div",{className:"flex flex-wrap gap-1",children:C.beyblades.map((W,Q)=>o.jsx("span",{className:"inline-block border border-slate-700 bg-slate-900 px-2 py-0.5 text-[11px] text-slate-200",children:W.beyblade_name},Q))}):o.jsx("span",{className:"text-xs text-slate-500 italic",children:"No Beyblades"})}),o.jsx("td",{className:"px-3 py-2",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[C.status==="pending"&&o.jsx("button",{onClick:()=>G(C.id),className:"px-2 py-1 bg-gradient-to-r from-green-500 to-emerald-600 text-white text-xs font-medium hover:from-green-400 hover:to-emerald-500 transition-all duration-200 shadow-[0_0_10px_rgba(16,185,129,0.3)]",children:"Confirm Payment"}),o.jsx("button",{onClick:()=>D(C.id),className:"p-1.5 text-red-400 hover:text-white hover:bg-red-500/20 transition rounded-sm",title:"Delete Registration",children:o.jsx($n,{size:14})})]})})]},C.id)})})]})}),o.jsxs("div",{className:"flex justify-end items-center gap-2 mt-3",children:[o.jsx("button",{disabled:E===1,onClick:()=>T(E-1),className:"px-3 py-1 bg-slate-800 text-slate-300 text-xs disabled:opacity-50",children:"Prev"}),o.jsxs("span",{className:"text-slate-400 text-xs",children:["Page ",E," of ",B]}),o.jsx("button",{disabled:E===B,onClick:()=>T(E+1),className:"px-3 py-1 bg-slate-800 text-slate-300 text-xs disabled:opacity-50",children:"Next"})]})]})]})]})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center px-6",children:o.jsxs("div",{className:"bg-slate-900/60 border border-red-500/30 p-8 max-w-lg w-full text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-500/10 border border-red-500/30 mx-auto mb-4 flex items-center justify-center",children:"🔒"}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),o.jsx("p",{className:"text-slate-400",children:"You need admin or developer permissions to access tournament management."})]})})}function pte(){const{user:e}=zt(),{confirm:t,alert:r}=Rs(),[n,s]=y.useState([]),[i,a]=y.useState("all"),[l,c]=y.useState("all"),[u,d]=y.useState(!0),f=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";ms.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:v,error:b}=await Y.from("profiles").select("*").order("created_at",{ascending:!1});if(b)throw b;const _=(v||[]).map(j=>({id:j.id,username:j.username,email:j.email||"",role:j.role,joinedDate:j.created_at,status:"active",lastLogin:null}));s(_)}catch(v){console.error("Error fetching profiles:",v)}finally{d(!1)}},m=n.filter(v=>{const b=i==="all"||v.status===i,_=l==="all"||v.role===l;return b&&_}),p=async(v,b)=>{try{const{error:_}=await Y.from("profiles").update(b).eq("id",v);if(_){const j=_.code==="42501"||_.message.includes("RLS")?"Permission denied. You need admin or developer role to update users.":`Failed to update user: ${_.message}`;await r("Update Failed",j);return}await h()}catch(_){console.error("Error updating user:",_),await r("Update Failed",`Failed to update user: ${_ instanceof Error?_.message:"Unknown error"}`)}},x=async v=>{if(await t("Delete User","Are you sure you want to delete this user? This will also delete all their registrations and data. This action cannot be undone."))try{const{data:_,error:j}=await Y.rpc("delete_user_completely",{user_id_to_delete:v});if(j){console.error("Delete error:",j),j.code==="42501"||j.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to delete users."):j.message.includes("cannot delete themselves")?await r("Cannot Delete","You cannot delete your own account."):await r("Delete Failed",`Failed to delete user: ${j.message}`);return}await r("Success","User deleted successfully!"),await h()}catch(_){console.error("Error deleting user:",_),await r("Delete Failed",`Failed to delete user: ${_ instanceof Error?_.message:"Unknown error"}. Please try again.`)}},w=v=>{switch(v){case"active":return"bg-green-100 text-green-800";case"suspended":return"bg-red-100 text-red-800";case"pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},g=v=>{switch(v){case"admin":return"bg-red-100 text-red-800";case"developer":return"bg-purple-100 text-purple-800";case"technical_officer":return"bg-blue-100 text-blue-800";case"user":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}};return u?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading users..."})]})}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"User Management"}),o.jsx("p",{className:"text-gray-600",children:"Manage user accounts and permissions"})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Status"}),o.jsxs("select",{value:i,onChange:v=>a(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Status"}),o.jsx("option",{value:"active",children:"Active"}),o.jsx("option",{value:"suspended",children:"Suspended"}),o.jsx("option",{value:"pending",children:"Pending"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filter by Role"}),o.jsxs("select",{value:l,onChange:v=>c(v.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Roles"}),o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-blue-100 text-blue-600",children:o.jsx(nt,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-green-100 text-green-600",children:o.jsx(_s,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Users"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.length})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-red-100 text-red-600",children:o.jsx(_s,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:"0"})]})]})}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"p-3 rounded-lg bg-purple-100 text-purple-600",children:o.jsx(_s,{size:24})}),o.jsxs("div",{className:"ml-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admins"}),o.jsx("p",{className:"text-2xl font-bold text-gray-900",children:n.filter(v=>v.role==="admin"||v.role==="developer").length})]})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(v=>o.jsxs("tr",{className:"hover:bg-gray-50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:v.username.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-gray-900",children:v.username}),o.jsxs("div",{className:"text-sm text-gray-500 flex items-center",children:[o.jsx(o$,{size:12,className:"mr-1"}),v.email]})]})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("select",{value:v.role,onChange:b=>p(v.id,{role:b.target.value}),disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${g(v.role)}`,children:[o.jsx("option",{value:"user",children:"User"}),o.jsx("option",{value:"technical_officer",children:"Technical Officer"}),o.jsx("option",{value:"admin",children:"Admin"}),o.jsx("option",{value:"developer",children:"Developer"})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("select",{value:"active",disabled:!f,className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${w("active")}`,children:o.jsx("option",{value:"active",children:"Active"})})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Ra,{size:12,className:"mr-1"}),new Date(v.joinedDate).toLocaleDateString()]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:v.lastLogin?new Date(v.lastLogin).toLocaleDateString():"Never"}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:o.jsx("div",{className:"flex space-x-2",children:f&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"text-blue-600 hover:text-blue-900 p-1 rounded hover:bg-blue-50",children:o.jsx($a,{size:16})}),o.jsx("button",{onClick:()=>x(v.id),className:"text-red-600 hover:text-red-900 p-1 rounded hover:bg-red-50",children:o.jsx($n,{size:16})})]})})})]},v.id))})]})})})]})}function gte(){var D,G,C;const{user:e}=zt(),{confirm:t,alert:r}=Rs(),[n,s]=y.useState("tournaments"),[i,a]=y.useState(null),[l,c]=y.useState(!1),[u,d]=y.useState([]),[f,h]=y.useState(!1),[m,p]=y.useState(null),[x,w]=y.useState([]),[g,v]=y.useState(null),[b,_]=y.useState({}),[j,N]=y.useState(null),[k,P]=y.useState([]),[E,T]=y.useState(""),[O,U]=y.useState(1),[I]=y.useState(10);ms.useEffect(()=>{a(null),N(null),v(null),_({}),T(""),U(1)},[n]);const H=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer",B=async()=>{try{const[M,W,Q,se]=await Promise.all([Y.from("profiles").select("*",{count:"exact",head:!0}),Y.from("tournaments").select("*",{count:"exact",head:!0}),Y.from("match_results").select("*",{count:"exact",head:!0}),Y.from("tournament_registrations").select("*",{count:"exact",head:!0})]);w([{name:"users",records:M.count||0,icon:o.jsx(nt,{size:20}),description:"User accounts and profiles",color:"from-blue-500 to-blue-600"},{name:"tournaments",records:W.count||0,icon:o.jsx(kt,{size:20}),description:"Tournament information",color:"from-yellow-500 to-orange-500"},{name:"matches",records:Q.count||0,icon:o.jsx(Ra,{size:20}),description:"Match results and schedules",color:"from-green-500 to-emerald-500"},{name:"registrations",records:se.count||0,icon:o.jsx(u$,{size:20}),description:"Tournament registrations with Beyblades",color:"from-purple-500 to-violet-500"}]);const{data:ie}=await Y.from("tournaments").select("id, name").order("name");P(ie||[])}catch(M){console.error("Error fetching table counts:",M)}},K=async(M,W)=>{h(!0),p(null);try{let Q=[];if(M==="registrations"&&W){const{data:se,error:ie}=await Y.from("tournament_registration_details").select("*").eq("tournament_id",W).order("registered_at",{ascending:!1});if(ie)throw ie;const ge={};se==null||se.forEach(me=>{var Ne;ge[me.registration_id]||(ge[me.registration_id]={registration_id:me.registration_id,tournament_id:me.tournament_id,tournament_name:((Ne=k.find(Tt=>Tt.id===me.tournament_id))==null?void 0:Ne.name)||"Unknown Tournament",player_name:me.player_name,payment_mode:me.payment_mode,registered_at:me.registered_at,status:me.status,beyblades:[]}),me.beyblade_id&&(ge[me.registration_id].beyblades.find(vn=>vn.beyblade_id===me.beyblade_id)||ge[me.registration_id].beyblades.push({beyblade_id:me.beyblade_id,beyblade_name:me.beyblade_name,blade_line:me.blade_line,parts:me.beyblade_parts||[]}))}),Q=Object.values(ge)}else if(M==="registrations"&&!W)Q=k;else{let se=M;M==="registrations"?se="tournament_registrations":M==="users"?se="profiles":M==="matches"&&(se="match_results");const{data:ie,error:ge}=await Y.from(se).select("*").order(M==="tournaments"?"tournament_date":M==="matches"?"submitted_at":"created_at",{ascending:!1});if(ge)throw console.error(`❌ DATABASE: Error fetching ${M}:`,ge),ge;Q=ie||[]}(M!=="registrations"||W)&&Q.sort((se,ie)=>{const ge=Object.values(se).find(Ne=>typeof Ne=="string")||"",me=Object.values(ie).find(Ne=>typeof Ne=="string")||"";return ge.localeCompare(me)}),d(Q)}catch(Q){console.error("Error fetching table data:",Q),p(`Failed to load ${M} data. Please try again.`)}finally{h(!1)}},F=async()=>{c(!0),await Promise.all([B(),K(n,i||void 0)]),c(!1)},A=M=>{const W=JSON.stringify(u,null,2),Q=new Blob([W],{type:"application/json"}),se=URL.createObjectURL(Q),ie=document.createElement("a");ie.href=se,ie.download=`${M}_export_${new Date().toISOString().split("T")[0]}.json`,ie.click(),URL.revokeObjectURL(se)},S=M=>{v(M.id||M.registration_id||M.tournament_id),_({...M})},L=async()=>{if(!(!g||!H))try{let M=n;n==="registrations"?M="tournament_registrations":n==="users"?M="profiles":n==="matches"&&(M="match_results");const{error:W}=await Y.from(M).update(b).eq("id",g);if(W){console.error("Update error:",W),W.code==="42501"||W.message.includes("RLS")?await r("Permission Denied","You need admin or developer role to edit records."):await r("Update Failed",`Failed to update record: ${W.message}`);return}v(null),_({}),await K(n)}catch(M){console.error("Error updating row:",M),await r("Update Failed",`Failed to update record: ${M instanceof Error?M.message:"Unknown error"}. Please try again.`)}},V=async M=>{if(await t("Delete Record","Are you sure you want to delete this record? This action cannot be undone."))try{let Q=n;n==="registrations"?Q="tournament_registrations":n==="users"?Q="profiles":n==="matches"&&(Q="match_results");const{error:se}=await Y.from(Q).delete().eq("id",M);if(se){console.error("Delete error:",se),se.code==="42501"||se.message.includes("RLS")?r("Permission denied. You need admin or developer role to delete records."):r(`Failed to delete record: ${se.message}`);return}await Promise.all([B(),K(n,i||void 0)])}catch(Q){console.error("Error deleting row:",Q),await r("Delete Failed",`Failed to delete record: ${Q instanceof Error?Q.message:"Unknown error"}. Please try again.`)}},R=M=>{a(M),K("registrations",M)},X=()=>{a(null),K("registrations")},ce=M=>{N(M)};y.useEffect(()=>{B()},[]),y.useEffect(()=>{n==="registrations"&&a(null),K(n)},[n]);const J=u.filter(M=>E?Object.values(M).filter(Q=>typeof Q=="string").join(" ").toLowerCase().includes(E.toLowerCase()):!0),ae=Math.ceil(J.length/I),$=J.slice((O-1)*I,O*I),q=()=>{var M;return f?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mx-auto mb-4"}),o.jsxs("p",{className:"text-gray-600 font-medium",children:["Loading ",n==="registrations"&&i?"registration":n," data..."]})]})}):m?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx("span",{className:"text-red-500 text-2xl",children:"⚠️"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Error Loading Data"}),o.jsx("p",{className:"text-red-600 mb-4",children:m}),o.jsx("button",{onClick:()=>K(n,i||void 0),className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Try Again"})]})}):u.length===0?o.jsx("div",{className:"flex items-center justify-center py-16",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(cn,{size:32,className:"text-gray-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Data Available"}),o.jsxs("p",{className:"text-gray-500",children:["No data available for ",n==="registrations"&&i?"this tournament":n]})]})}):n==="registrations"&&!i?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-violet-500 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(kt,{size:32,className:"text-white"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Select Tournament"}),o.jsx("p",{className:"text-gray-600",children:"Choose a tournament to view its registrations and participant details"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(W=>o.jsxs("button",{onClick:()=>R(W.id),className:"group text-left p-6 bg-white border-2 border-gray-200 rounded-xl hover:border-purple-300 hover:shadow-lg transition-all duration-200 transform hover:-translate-y-1",children:[o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h4",{className:"font-semibold text-gray-900 group-hover:text-purple-700 transition-colors",children:W.name}),o.jsx(QR,{size:20,className:"text-gray-400 group-hover:text-purple-500 transition-colors"})]}),o.jsx("p",{className:"text-sm text-gray-600 mb-2",children:W.location}),o.jsx("p",{className:"text-sm text-gray-500",children:new Date(W.tournament_date).toLocaleDateString()}),o.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:o.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${W.status==="upcoming"?"bg-blue-100 text-blue-800":W.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:W.status})})]},W.id))})]}):n==="registrations"&&i?o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("button",{onClick:X,className:"flex items-center space-x-2 text-purple-600 hover:text-purple-800 font-medium transition-colors",children:[o.jsx(wy,{size:20}),o.jsx("span",{children:"Back to Tournaments"})]}),o.jsxs("h3",{className:"text-xl font-semibold text-gray-900",children:[((M=k.find(W=>W.id===i))==null?void 0:M.name)||"Tournament"," Registrations"]})]}),o.jsx("div",{className:"space-y-4",children:u.map(W=>{var Q;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 hover:shadow-md transition-all duration-200",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:W.player_name.charAt(0).toUpperCase()}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-bold text-lg text-gray-900",children:W.player_name}),o.jsx("p",{className:"text-sm text-gray-600",children:W.tournament_name})]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Registered:"}),o.jsx("p",{className:"font-medium",children:new Date(W.registered_at).toLocaleDateString()})]}),o.jsxs("div",{children:[o.jsx("span",{className:"text-gray-500",children:"Payment:"}),o.jsx("p",{className:"font-medium capitalize",children:((Q=W.payment_mode)==null?void 0:Q.replace("_"," "))||"N/A"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${W.status==="confirmed"?"bg-green-100 text-green-800":W.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:W.status}),o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>ce(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View Details",children:o.jsx(un,{size:16})}),H&&o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>S(W),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Edit",children:o.jsx($a,{size:16})}),o.jsx("button",{onClick:()=>V(W.registration_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:o.jsx($n,{size:16})})]})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Beyblades:"}),o.jsxs("span",{className:"text-sm text-gray-600",children:[W.beyblades.length," registered"]})]}),o.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:W.beyblades.length>0?W.beyblades.map((se,ie)=>o.jsx("span",{className:"inline-block bg-white px-3 py-1 rounded-full text-xs font-medium text-gray-700 border",children:se.beyblade_name},ie)):o.jsx("span",{className:"text-sm text-gray-500 italic",children:"No Beyblades registered"})})]})]},W.registration_id)})})]}):o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"relative",children:[o.jsx($s,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:`Search ${n}...`,value:E,onChange:W=>{T(W.target.value),U(1)},className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 w-64"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Showing ",$.length," of ",J.length," records"]}),ae>1&&o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>U(Math.max(1,O-1)),disabled:O===1,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Previous"}),o.jsxs("span",{className:"text-sm text-gray-600",children:["Page ",O," of ",ae]}),o.jsx("button",{onClick:()=>U(Math.min(ae,O+1)),disabled:O===ae,className:"px-3 py-1 border border-gray-300 rounded-md disabled:opacity-50 disabled:cursor-not-allowed hover:bg-gray-50 transition-colors",children:"Next"})]})]})]}),o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-gray-50",children:o.jsxs("tr",{children:[$.length>0&&$[0]&&Object.keys($[0]).map(W=>o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:W.replace(/_/g," ")},W)),H&&o.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),o.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:$.map((W,Q)=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[Object.entries(W).map(([se,ie],ge)=>o.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:g===(W.id||W.registration_id||W.tournament_id)&&H?o.jsx("input",{type:"text",value:b[se]||"",onChange:me=>_({...b,[se]:me.target.value}),className:"w-full border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("div",{className:"max-w-xs",children:typeof ie=="object"&&ie!==null?o.jsx("div",{className:"bg-gray-100 rounded-md px-2 py-1 text-xs font-mono",children:JSON.stringify(ie).length>50?JSON.stringify(ie).substring(0,50)+"...":JSON.stringify(ie)}):ie instanceof Date?ie.toLocaleString():o.jsx("span",{className:se.includes("email")?"font-mono text-blue-600":"",children:String(ie||"")})})},ge)),H&&o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsx("div",{className:"flex items-center space-x-2",children:g===(W.id||W.registration_id||W.tournament_id)?o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:L,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Save Changes",children:o.jsx(uc,{size:16})}),o.jsx("button",{onClick:()=>{v(null),_({})},className:"p-2 text-gray-600 hover:bg-gray-50 rounded-lg transition-colors",title:"Cancel",children:o.jsx(Ot,{size:16})})]}):o.jsxs(o.Fragment,{children:[o.jsx("button",{onClick:()=>S(W),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit Record",children:o.jsx($a,{size:16})}),o.jsx("button",{onClick:()=>V(W.id||W.registration_id||W.tournament_id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Record",children:o.jsx($n,{size:16})})]})})})]},W.id||Q))})]})})})]})};return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsx("div",{className:"page-header",children:o.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center space-y-4 lg:space-y-0",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(cn,{size:32,className:"mr-3 text-blue-600"}),"Database Management"]}),o.jsx("p",{className:"page-subtitle",children:"Monitor and manage application data from Supabase"})]}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:F,disabled:l,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2 disabled:opacity-50",children:[o.jsx(K2,{size:16,className:l?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]}),o.jsxs("button",{onClick:()=>A(n),className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors flex items-center space-x-2",children:[o.jsx(e$,{size:16}),o.jsx("span",{children:"Export"})]})]})]})}),o.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-4 gap-8",children:[o.jsxs("div",{className:"xl:col-span-1",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(cn,{size:20,className:"mr-2 text-gray-700"}),"Database Tables"]})}),o.jsx("div",{className:"p-4 space-y-2",children:x.map(M=>o.jsxs("button",{onClick:()=>s(M.name),className:`w-full text-left p-4 rounded-xl transition-all duration-200 group ${n===M.name?"bg-gradient-to-r "+M.color+" text-white shadow-lg transform scale-105":"hover:bg-gray-50 border border-gray-200"}`,children:[o.jsxs("div",{className:"flex items-center justify-between mb-2",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:`p-2 rounded-lg ${n===M.name?"bg-white/20":"bg-gray-100 group-hover:bg-gray-200"} transition-colors`,children:ms.cloneElement(M.icon,{className:n===M.name?"text-white":"text-gray-600"})}),o.jsx("span",{className:`font-semibold capitalize ${n===M.name?"text-white":"text-gray-900"}`,children:M.name})]}),o.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${n===M.name?"bg-white/20 text-white":"bg-gray-100 text-gray-600"}`,children:M.records})]}),o.jsx("p",{className:`text-xs ${n===M.name?"text-white/80":"text-gray-600"}`,children:M.description})]},M.name))})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 mt-6 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("h3",{className:"text-lg font-bold text-gray-900 flex items-center",children:[o.jsx(ln,{size:20,className:"mr-2 text-gray-700"}),"Database Stats"]})}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Total Records"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.reduce((M,W)=>M+W.records,0)})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Active Tables"}),o.jsx("span",{className:"text-2xl font-bold text-gray-900",children:x.length})]}),o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("span",{className:"text-gray-600 font-medium",children:"Database"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full animate-pulse"}),o.jsx("span",{className:"text-green-600 font-bold",children:"Supabase"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Last updated: ",new Date().toLocaleTimeString()]})})]})]})]}),o.jsx("div",{className:"xl:col-span-3",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-xl font-bold text-gray-900 capitalize flex items-center",children:[((D=x.find(M=>M.name===n))==null?void 0:D.icon)&&ms.cloneElement(x.find(M=>M.name===n).icon,{className:"mr-2 text-gray-700",size:24}),n==="registrations"&&i?`${((G=k.find(M=>M.id===i))==null?void 0:G.name)||"Tournament"} Registrations`:n==="registrations"?"Tournament Selection":`${n} Management`]}),o.jsx("p",{className:"text-gray-600 mt-1",children:(C=x.find(M=>M.name===n))==null?void 0:C.description})]}),o.jsx("div",{className:"flex items-center space-x-2",children:o.jsx("span",{className:"text-sm text-gray-500 bg-gray-100 px-3 py-1 rounded-full",children:n==="registrations"&&!i?`${k.length} tournaments`:`${J.length} records`})})]})}),q()]})})]}),j&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-5xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-violet-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold",children:"Registration Details"}),o.jsx("p",{className:"text-purple-100",children:j.player_name})]}),o.jsx("button",{onClick:()=>N(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ot,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Player Name"}),o.jsx("p",{className:"text-xl font-bold text-gray-900",children:j.player_name})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Tournament"}),o.jsx("p",{className:"text-lg text-gray-900",children:j.tournament_name})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Payment Mode"}),o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium capitalize",children:j.payment_mode.replace("_"," ")})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-1",children:"Status"}),o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${j.status==="confirmed"?"bg-green-100 text-green-800":j.status==="cancelled"?"bg-red-100 text-red-800":"bg-yellow-100 text-yellow-800"}`,children:j.status})]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-8",children:o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(Ra,{size:16,className:"text-gray-600"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Registered on:"}),o.jsx("span",{className:"text-sm text-gray-900 font-semibold",children:new Date(j.registered_at).toLocaleString()})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-bold text-gray-900 flex items-center",children:[o.jsx(kt,{size:24,className:"mr-2 text-yellow-500"}),"Registered Beyblades"]}),o.jsxs("span",{className:"bg-purple-100 text-purple-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.beyblades.length," Beyblades"]})]}),j.beyblades.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-xl",children:[o.jsx(kt,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500 font-medium",children:"No Beyblades registered"})]}):o.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:j.beyblades.map((M,W)=>o.jsxs("div",{className:"border-2 border-gray-200 rounded-xl p-6 hover:border-purple-300 transition-colors",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-bold text-lg text-gray-900",children:M.beyblade_name}),o.jsxs("span",{className:"inline-block bg-gradient-to-r from-blue-500 to-purple-500 text-white px-3 py-1 rounded-full text-sm font-medium mt-2",children:[M.blade_line," Line"]})]}),o.jsx("div",{className:"text-right",children:o.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:W+1})})]}),M.parts.length>0?o.jsxs("div",{className:"space-y-3",children:[o.jsx("h5",{className:"font-semibold text-gray-700 text-sm uppercase tracking-wide",children:"Parts Configuration"}),o.jsx("div",{className:"grid grid-cols-1 gap-2",children:M.parts.map((Q,se)=>o.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-3 flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:Q.part_type}),o.jsx("div",{className:"text-gray-600 text-xs",children:Q.part_name})]}),o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-xs font-bold",children:se+1})})]},se))})]}):o.jsx("div",{className:"text-center py-4 bg-gray-50 rounded-lg",children:o.jsx("p",{className:"text-gray-500 text-sm",children:"No parts configured"})})]},M.beyblade_id))})]})]})]})})]})})}function yte({showHeader:e=!0}){const{user:t}=zt(),{confirm:r,alert:n}=Rs();if(!t||t.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ja,{size:64,className:"mx-auto text-gray-400 mb-6"}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Advanced Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Create powerful Beyblade combinations from your inventory. Build multiple deck presets, analyze stats, and save your favorite combinations for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-purple-500 to-pink-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🏗️"})}),o.jsx("h3",{className:"text-xl font-bold text-purple-900 mb-3",children:"Login to Start Building"}),o.jsx("p",{className:"text-purple-800 text-sm mb-6",children:"Create a free account to access the advanced deck builder and save your custom combinations!"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build from your inventory"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Save unlimited deck presets"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Analyze combined stats"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to build?"}),' Click the "Login" button in the top right corner to create your account and start building powerful deck combinations.']})})]})]});const[s,i]=y.useState([]),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState(null),[p,x]=y.useState(!0),[w,g]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]}),[v,b]=y.useState(""),[_,j]=y.useState(""),[N,k]=y.useState(3),[P,E]=y.useState([{id:"1",name:"",blade_line:"Basic",parts:{}}]);y.useEffect(()=>{T(),p&&U(),O()},[t]);const T=async()=>{try{const{data:$,error:q}=await Y.from("deck_presets").select("*").eq("user_id",t.id).order("updated_at",{ascending:!1});if(q)throw q;i($||[])}catch($){console.error("Error fetching presets:",$)}finally{u(!1)}};y.useEffect(()=>{p||O()},[p]);const O=async()=>{try{const[$,q,D,G,C]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);g({blades:$.data||[],ratchets:q.data||[],bits:D.data||[],lockchips:G.data||[],assistBlades:C.data||[]})}catch($){console.error("Error fetching parts data:",$)}},U=async()=>{try{const{data:$,error:q}=await Y.from("user_inventory").select("*").eq("user_id",t.id).gt("quantity",0);if(q)throw q;l($||[])}catch($){console.error("Error fetching inventory:",$)}},I=$=>{switch($){case"Basic":case"Unique":case"X-Over":return["Blade","Ratchet","Bit"];case"Custom":return["Lockchip","Main Blade","Assist Blade","Ratchet","Bit"];default:return[]}},H=$=>{if(!p)switch($==="Main Blade"?"Blade":$){case"Blade":return w.blades.map(D=>({id:`db-${D.Blades}`,part_type:"Blade",part_name:D.Blades,part_data:D,quantity:999}));case"Ratchet":return w.ratchets.map(D=>({id:`db-${D.Ratchet}`,part_type:"Ratchet",part_name:D.Ratchet,part_data:D,quantity:999}));case"Bit":return w.bits.map(D=>({id:`db-${D.Bit}`,part_type:"Bit",part_name:`${D.Bit} (${D.Shortcut})`,part_data:D,quantity:999}));case"Lockchip":return w.lockchips.map(D=>({id:`db-${D.Lockchip}`,part_type:"Lockchip",part_name:D.Lockchip,part_data:D,quantity:999}));case"Assist Blade":return w.assistBlades.map(D=>({id:`db-${D["Assist Blade"]}`,part_type:"Assist Blade",part_name:`${D["Assist Blade Name"]} (${D["Assist Blade"]})`,part_data:D,quantity:999}));default:return[]}return $==="Blade"||$==="Main Blade"?a.filter(D=>D.part_type.startsWith("Blade (")&&D.part_type===`Blade (${$==="Main Blade"?"Custom":"Basic"})`):a.filter(D=>D.part_type===$)},B=($,q)=>{var C,M,W,Q,se,ie,ge,me;if(!$||!I($).every(Ne=>q[Ne]))return"";if($==="Custom"){const Ne=((C=q.Lockchip)==null?void 0:C.Lockchip)||"",Tt=((M=q["Main Blade"])==null?void 0:M.Blades)||"",vn=((W=q["Assist Blade"])==null?void 0:W["Assist Blade"])||"",J4=((Q=q.Ratchet)==null?void 0:Q.Ratchet)||"",Q4=((se=q.Bit)==null?void 0:se.Shortcut)||"";return`${Ne}${Tt} ${vn}${J4}${Q4}`}else{const Ne=((ie=q.Blade)==null?void 0:ie.Blades)||"",Tt=((ge=q.Ratchet)==null?void 0:ge.Ratchet)||"",vn=((me=q.Bit)==null?void 0:me.Shortcut)||"";return`${Ne} ${Tt}${vn}`}},K=$=>{let q={attack:0,defense:0,stamina:0,dash:0,burstRes:0};return Object.values($).forEach(D=>{D&&(q.attack+=D.Attack||0,q.defense+=D.Defense||0,q.stamina+=D.Stamina||0,q.dash+=D.Dash||0,q.burstRes+=D["Burst Res"]||0)}),q},F=()=>{f(!0),b(""),j(""),k(3),E([{id:"1",name:"",blade_line:"Basic",parts:{}}])},A=$=>{m($.id),b($.name),j($.description||""),k($.beyblades.length),E($.beyblades)},S=()=>{P.length<N&&E([...P,{id:Date.now().toString(),name:"",blade_line:"Basic",parts:{}}])},L=$=>{P.length>1&&E(P.filter(q=>q.id!==$))},V=($,q,D)=>{E(P.map(G=>{if(G.id===$){const C={...G,[q]:D,parts:{}};return C.name=B(D,{}),C}return G}))},R=($,q,D)=>{E(P.map(G=>{if(G.id===$){const C={...G.parts,[q]:D},M=B(G.blade_line,C);return{...G,parts:C,name:M}}return G}))},X=async()=>{if(!v.trim()){await n("Missing Information","Please enter a deck name.");return}const $=P.filter(q=>{const D=I(q.blade_line);return q.blade_line&&D.every(G=>q.parts[G])});if($.length===0){await n("Missing Information","Please configure at least one complete Beyblade.");return}try{const q={user_id:t.id,name:v.trim(),description:_.trim()||null,beyblades:$};if(d){const{error:D}=await Y.from("deck_presets").insert([q]);if(D)throw D}else if(h){const{error:D}=await Y.from("deck_presets").update({...q,updated_at:new Date().toISOString()}).eq("id",h);if(D)throw D}await T(),J(),await n("Success","Deck preset saved successfully!")}catch(q){console.error("Error saving preset:",q),await n("Error","Failed to save deck preset. Please try again.")}},ce=async $=>{if(await r("Delete Deck Preset","Are you sure you want to delete this deck preset?"))try{const{error:D}=await Y.from("deck_presets").delete().eq("id",$);if(D)throw D;await T()}catch(D){console.error("Error deleting preset:",D),await n("Error","Failed to delete deck preset. Please try again.")}},J=()=>{f(!1),m(null),b(""),j(""),k(3),E([{id:"1",name:"",blade_line:"Basic",parts:{}}])},ae=$=>{switch($){case"attack":return o.jsx(_y,{size:12,className:"text-red-500"});case"defense":return o.jsx(_s,{size:12,className:"text-blue-500"});case"stamina":return o.jsx(jy,{size:12,className:"text-green-500"});case"dash":return o.jsx(a0,{size:12,className:"text-yellow-500"});case"burstRes":return o.jsx(q2,{size:12,className:"text-purple-500"});default:return null}};return c?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading deck builder..."})]})}):o.jsxs("div",{className:e?"p-6 max-w-7xl mx-auto":"",children:[e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Create and save Beyblade deck presets from your inventory"})]}),o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(_a,{size:20}),o.jsx("span",{children:"New Deck"})]})]})]}),!e&&o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Build Mode:"}),o.jsxs("div",{className:"flex items-center space-x-2 bg-gray-100 rounded-lg p-1",children:[o.jsx("button",{onClick:()=>x(!0),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"bg-white text-gray-900 shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Use Inventory"}),o.jsx("button",{onClick:()=>x(!1),className:`px-3 py-1 rounded-md text-sm font-medium transition-colors ${p?"text-gray-600 hover:text-gray-900":"bg-white text-gray-900 shadow-sm"}`,children:"Free Build"})]})]}),o.jsxs("button",{onClick:F,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(_a,{size:20}),o.jsx("span",{children:"New Deck"})]})]}),(d||h)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:d?"Create New Deck":"Edit Deck"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deck Name"}),o.jsx("input",{type:"text",value:v,onChange:$=>b($.target.value),placeholder:"Enter deck name",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description (Optional)"}),o.jsx("input",{type:"text",value:_,onChange:$=>j($.target.value),placeholder:"Deck strategy or notes",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsx("div",{className:"space-y-6",children:P.map(($,q)=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Beyblade #",q+1]}),P.length>1&&o.jsx("button",{onClick:()=>L($.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full transition-colors",children:o.jsx($n,{size:16})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Blade Line"}),o.jsxs("select",{value:$.blade_line,onChange:D=>V($.id,"blade_line",D.target.value),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"Custom",children:"Custom"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Generated Name"}),o.jsx("div",{className:"w-full border border-gray-200 rounded-md px-3 py-2 bg-gray-50 text-gray-700 font-mono",children:$.name||"Select all parts to generate name"})]})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:I($.blade_line).map(D=>o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:D}),o.jsxs("select",{value:$.parts[D]?JSON.stringify($.parts[D]):"",onChange:G=>{if(G.target.value){const C=JSON.parse(G.target.value);R($.id,D,C)}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsxs("option",{value:"",children:["Select ",D]}),H(D).filter(G=>{var C;return!p&&(D==="Blade"||D==="Main Blade")&&((C=G.part_data)!=null&&C.Line)?G.part_data.Line===(D==="Main Blade"?"Custom":$.blade_line):!0}).map(G=>o.jsxs("option",{value:JSON.stringify(G.part_data),children:[G.part_name," ",p?`(Qty: ${G.quantity})`:""]},G.id))]})]},D))}),Object.keys($.parts).length>0&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("h5",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center",children:[o.jsx(a0,{size:16,className:"mr-2"}),"Combined Stats"]}),o.jsx("div",{className:"grid grid-cols-5 gap-4",children:Object.entries(K($.parts)).map(([D,G])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex items-center justify-center mb-1",children:ae(D)}),o.jsx("div",{className:"text-xs font-medium text-gray-600 capitalize",children:D==="burstRes"?"Burst Res":D}),o.jsx("div",{className:"text-lg font-bold text-gray-900",children:G})]},D))})]})]},$.id))}),P.length<5&&o.jsxs("button",{onClick:S,className:"mt-4 w-full border-2 border-dashed border-gray-300 rounded-lg p-4 text-gray-600 hover:border-blue-400 hover:text-blue-600 transition-colors flex items-center justify-center space-x-2",children:[o.jsx(_a,{size:20}),o.jsxs("span",{children:["Add Another Beyblade (",P.length,"/5)"]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:J,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Ot,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(uc,{size:16}),o.jsx("span",{children:"Save Preset"})]})]})]}),s.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(ja,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No deck presets yet"}),o.jsx("button",{onClick:F,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Create your first deck preset"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map($=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.name}),$.description&&o.jsx("p",{className:"text-sm text-gray-600 mt-1",children:$.description})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>A($),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx($a,{size:16})}),o.jsx("button",{onClick:()=>ce($.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsxs("div",{className:"text-sm text-gray-600",children:[o.jsx("span",{className:"font-medium",children:$.beyblades.length})," Beyblades configured"]}),o.jsxs("div",{className:"space-y-1",children:[$.beyblades.slice(0,3).map((q,D)=>o.jsx("div",{className:"text-xs text-gray-500 font-mono",children:q.name||`Beyblade ${D+1}`},D)),$.beyblades.length>3&&o.jsxs("div",{className:"text-xs text-gray-400",children:["+",$.beyblades.length-3," more..."]})]})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Updated: ",new Date($.updated_at).toLocaleDateString()]})]},$.id))})]})}function vte(){const{user:e}=zt(),{confirm:t,alert:r}=Rs(),[n,s]=y.useState("inventory");if(!e||e.id.startsWith("guest-"))return o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"text-center py-12",children:[o.jsxs("div",{className:"flex justify-center space-x-4 mb-6",children:[o.jsx(Jo,{size:64,className:"text-gray-400"}),o.jsx(ja,{size:64,className:"text-gray-400"})]}),o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600 mb-8 max-w-2xl mx-auto",children:"Track your Beyblade parts collection and build powerful custom decks. Save deck presets for quick tournament registration."}),o.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 border border-blue-200 rounded-xl p-8 max-w-md mx-auto mb-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:"🎯"})}),o.jsx("h3",{className:"text-xl font-bold text-blue-900 mb-3",children:"Login to Access Tools"}),o.jsx("p",{className:"text-blue-800 text-sm mb-6",children:"Create a free account to access inventory tracking and deck building tools!"}),o.jsxs("div",{className:"space-y-2 text-sm text-blue-700",children:[o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Track unlimited Beyblade parts"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Build and save custom decks"]}),o.jsxs("div",{className:"flex items-center justify-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-2"}),"Quick tournament registration"]})]})]}),o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 max-w-lg mx-auto",children:o.jsxs("p",{className:"text-gray-600 text-sm",children:[o.jsx("strong",{children:"Ready to start?"}),' Click the "Login" button to create your account and unlock inventory & deck building features.']})})]})]});const[i,a]=y.useState([]),[l,c]=y.useState(!0),[u,d]=y.useState(!1),[f,h]=y.useState(null),[m,p]=y.useState(""),[x,w]=y.useState("all"),[g,v]=y.useState({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""}),[b,_]=y.useState({blades:[],ratchets:[],bits:[],lockchips:[],assistBlades:[]});y.useEffect(()=>{j(),N()},[e]);const j=async()=>{try{const{data:B,error:K}=await Y.from("user_inventory").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(K)throw K;a(B||[])}catch(B){console.error("Error fetching inventory:",B)}finally{c(!1)}},N=async()=>{try{const[B,K,F,A,S]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]);_({blades:B.data||[],ratchets:K.data||[],bits:F.data||[],lockchips:A.data||[],assistBlades:S.data||[]})}catch(B){console.error("Error fetching parts data:",B)}},k=B=>{let K=[];if(B.startsWith("Blade (")){const F=B.replace("Blade (","").replace(")","");K=b.blades.filter(A=>A.Line===F)}else B==="Ratchet"?K=b.ratchets:B==="Bit"?K=b.bits:B==="Lockchip"?K=b.lockchips:B==="Assist Blade"&&(K=b.assistBlades);return B==="Blade"?K=b.blades.filter(F=>F.Line!=="Custom"):B==="Blade (Custom)"?K=b.blades.filter(F=>F.Line==="Custom"):B==="Ratchet"?K=b.ratchets:B==="Bit"?K=b.bits:B==="Lockchip"?K=b.lockchips:B==="Assist Blade"&&(K=b.assistBlades),K},P=(B,K)=>{if(K.startsWith("Blade ("))return B.Blades;switch(K){case"Ratchet":return B.Ratchet;case"Bit":return`${B.Bit} (${B.Shortcut})`;case"Lockchip":return B.Lockchip;case"Assist Blade":return`${B["Assist Blade Name"]} (${B["Assist Blade"]})`;default:return""}},E=()=>{d(!0),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},T=B=>{h(B.id),v({part_type:B.part_type,part_name:B.part_name,part_data:B.part_data,quantity:B.quantity,notes:B.notes||""})},O=async()=>{if(!g.part_name||!g.part_data){await r("Missing Information","Please select a part before saving.");return}try{const B={user_id:e.id,part_type:g.part_type,part_name:g.part_name,part_data:g.part_data,quantity:g.quantity,notes:g.notes||null};if(u){const{error:K}=await Y.from("user_inventory").insert([B]);if(K)throw K}else if(f){const{error:K}=await Y.from("user_inventory").update(B).eq("id",f);if(K)throw K}await j()}catch(B){console.error("Error saving inventory item:",B),await r("Error","Failed to save inventory item. Please try again.")}},U=async B=>{if(await t("Delete Inventory Item","Are you sure you want to delete this inventory item? This action cannot be undone."))try{const{error:F}=await Y.from("user_inventory").delete().eq("id",B);if(F)throw F;await j()}catch(F){console.error("Error deleting inventory item:",F),await r("Error","Failed to delete inventory item. Please try again.")}},I=()=>{d(!1),h(null),v({part_type:"Blade (Basic)",part_name:"",part_data:null,quantity:1,notes:""})},H=i.filter(B=>{var A;const K=B.part_name.toLowerCase().includes(m.toLowerCase())||B.notes&&B.notes.toLowerCase().includes(m.toLowerCase());let F=!1;if(x==="all")F=!0;else if(x.startsWith("Blade (")){const S=x.replace("Blade (","").replace(")","");F=B.part_type==="Blade"&&((A=B.part_data)==null?void 0:A.Line)===S}else F=B.part_type===x;return K&&F});return l?o.jsx("div",{className:"p-6 max-w-7xl mx-auto",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading inventory..."})]})}):n==="deck-builder"?o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>s("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Jo,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>s("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ja,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx(yte,{})]}):o.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("div",{children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Inventory & Deck Builder"}),o.jsx("p",{className:"text-gray-600",children:"Track your parts and build custom decks"})]}),o.jsxs("div",{className:"filter-tabs",children:[o.jsxs("button",{onClick:()=>s("inventory"),className:`filter-tab ${n==="inventory"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(Jo,{size:16,className:"mr-2"}),"Inventory"]}),o.jsxs("button",{onClick:()=>s("deck-builder"),className:`filter-tab ${n==="deck-builder"?"filter-tab-active":"filter-tab-inactive"}`,children:[o.jsx(ja,{size:16,className:"mr-2"}),"Deck Builder"]})]})]})}),o.jsx("div",{className:"flex justify-end",children:o.jsxs("button",{onClick:E,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(_a,{size:20}),o.jsx("span",{children:"Add Part"})]})})]}),o.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx($s,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsx("input",{type:"text",placeholder:"Search parts or notes...",value:m,onChange:B=>p(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"relative",children:[o.jsx(t$,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),o.jsxs("select",{value:x,onChange:B=>w(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"all",children:"All Parts"}),o.jsx("option",{value:"Blade (Basic)",children:"Blades (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blades (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blades (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blades (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchets"}),o.jsx("option",{value:"Bit",children:"Bits"}),o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blades"})]})]})]})}),(u||f)&&o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:u?"Add New Part":"Edit Part"}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part Type"}),o.jsxs("select",{value:g.part_type,onChange:B=>v({...g,part_type:B.target.value,part_name:"",part_data:null}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"Blade (Basic)",children:"Blade (Basic)"}),o.jsx("option",{value:"Blade (Unique)",children:"Blade (Unique)"}),o.jsx("option",{value:"Blade (X-Over)",children:"Blade (X-Over)"}),o.jsx("option",{value:"Blade (Custom)",children:"Blade (Custom)"}),o.jsx("option",{value:"Ratchet",children:"Ratchet"}),o.jsx("option",{value:"Bit",children:"Bit"}),o.jsx("option",{value:"Lockchip",children:"Lockchip"}),o.jsx("option",{value:"Assist Blade",children:"Assist Blade"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Part"}),o.jsxs("select",{value:g.part_data?JSON.stringify(g.part_data):"",onChange:B=>{if(B.target.value){const K=JSON.parse(B.target.value);v({...g,part_name:P(K,g.part_type),part_data:K})}},className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[o.jsx("option",{value:"",children:"Select Part"}),k(g.part_type).map((B,K)=>o.jsx("option",{value:JSON.stringify(B),children:P(B,g.part_type)},K))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),o.jsx("input",{type:"number",min:"1",value:g.quantity,onChange:B=>v({...g,quantity:parseInt(B.target.value)||1}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),o.jsx("input",{type:"text",value:g.notes,onChange:B=>v({...g,notes:B.target.value}),placeholder:"e.g., condition, source, etc.",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),o.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[o.jsxs("button",{onClick:I,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[o.jsx(Ot,{size:16}),o.jsx("span",{children:"Cancel"})]}),o.jsxs("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[o.jsx(uc,{size:16}),o.jsx("span",{children:"Save"})]})]})]}),H.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Jo,{size:48,className:"mx-auto text-gray-400 mb-4"}),o.jsx("p",{className:"text-gray-500",children:i.length===0?"No parts in your inventory yet":"No parts match your search"}),i.length===0&&o.jsx("button",{onClick:E,className:"mt-4 text-blue-600 hover:text-blue-800 underline",children:"Add your first part"})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(B=>o.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[o.jsxs("div",{className:"flex justify-between items-start mb-4",children:[o.jsxs("div",{children:[o.jsx("span",{className:"inline-block px-2 py-1 bg-blue-100 text-blue-800 text-xs font-medium rounded-full mb-2",children:B.part_type}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:B.part_name})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:()=>T(B),className:"p-1 text-blue-600 hover:bg-blue-50 rounded",children:o.jsx($a,{size:16})}),o.jsx("button",{onClick:()=>U(B.id),className:"p-1 text-red-600 hover:bg-red-50 rounded",children:o.jsx($n,{size:16})})]})]}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{children:"Quantity:"}),o.jsx("span",{className:"font-medium",children:B.quantity})]}),B.notes&&o.jsxs("div",{children:[o.jsx("span",{className:"font-medium",children:"Notes:"}),o.jsx("p",{className:"text-gray-700 mt-1",children:B.notes})]}),o.jsxs("div",{className:"text-xs text-gray-500 pt-2 border-t",children:["Added: ",new Date(B.created_at).toLocaleDateString()]})]}),B.part_data&&o.jsx("div",{className:"mt-4 pt-4 border-t",children:o.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:Object.entries(B.part_data).map(([K,F])=>typeof F=="number"&&F>0&&["Attack","Defense","Stamina","Dash","Burst Res"].includes(K)?o.jsxs("div",{className:"flex justify-between",children:[o.jsxs("span",{className:"text-gray-600",children:[K,":"]}),o.jsx("span",{className:"font-medium",children:F})]},K):null)})})]},B.id))})]})}function xte(){const{user:e,setUser:t}=zt(),{confirm:r,alert:n}=Rs(),[s,i]=y.useState(""),[a,l]=y.useState(null),[c,u]=y.useState(!0),[d,f]=y.useState(!1),[h,m]=y.useState([]),[p,x]=y.useState(""),[w,g]=y.useState([]),[v,b]=y.useState(""),[_,j]=y.useState([]),[N,k]=y.useState([]),P=(e==null?void 0:e.role)==="admin"||(e==null?void 0:e.role)==="developer";y.useEffect(()=>{e&&!e.id.startsWith("guest-")&&(E(),T(),U(),P&&I())},[e,P]),y.useEffect(()=>{p&&O()},[p]);const E=async()=>{try{const{data:A,error:S}=await Y.from("profiles").select("last_username_change").eq("id",e==null?void 0:e.id).single();if(S)throw S;if(l(A==null?void 0:A.last_username_change),A!=null&&A.last_username_change){const L=new Date(A.last_username_change),V=new Date;V.setDate(V.getDate()-7),u(L<V)}}catch(A){console.error("Error fetching user settings:",A)}},T=async()=>{try{const{data:A,error:S}=await Y.from("tournaments").select("id, name, tournament_date").order("tournament_date",{ascending:!1});if(S)throw S;m(A||[])}catch(A){console.error("Error fetching tournaments:",A)}},O=async()=>{try{const{data:A,error:S}=await Y.from("match_results").select("player1_name, player2_name").eq("tournament_id",p);if(S)throw S;const L=new Set;A==null||A.forEach(V=>{V.player1_name&&L.add(V.player1_name),V.player2_name&&L.add(V.player2_name)}),g(Array.from(L).sort())}catch(A){console.error("Error fetching players:",A)}},U=async()=>{try{const{data:A,error:S}=await Y.from("stat_claim_requests").select(`
          *,
          tournaments(name)
        `).eq("requesting_user_id",e==null?void 0:e.id).order("created_at",{ascending:!1});if(S)throw S;j(A||[])}catch(A){console.error("Error fetching claim requests:",A)}},I=async()=>{try{const{data:A,error:S}=await Y.from("stat_claim_requests").select(`
          *,
          tournaments(name)
        `).eq("status","pending").order("created_at",{ascending:!1});if(S)throw S;k(A||[])}catch(A){console.error("Error fetching pending requests:",A)}},H=async()=>{if(!s.trim()){await n("Invalid Username","Please enter a valid username.");return}if(s.trim()===(e==null?void 0:e.username)){await n("Same Username","Please enter a different username.");return}if(!c){await n("Username Change Limit","You can only change your username once per week.");return}if(await r("Change Username",`Are you sure you want to change your username to "${s.trim()}"? You can only do this once per week.`)){f(!0);try{const{data:S}=await Y.from("profiles").select("id").eq("username",s.trim()).single();if(S){await n("Username Taken","This username is already taken. Please choose a different one."),f(!1);return}const{error:L}=await Y.from("profiles").update({username:s.trim(),last_username_change:new Date().toISOString()}).eq("id",e==null?void 0:e.id);if(L)throw L;e&&t({...e,username:s.trim()}),i(""),u(!1),l(new Date().toISOString()),await n("Success","Username changed successfully!")}catch(S){console.error("Error changing username:",S),await n("Error","Failed to change username. Please try again.")}finally{f(!1)}}},B=async()=>{var L;if(!p||!v){await n("Missing Information","Please select both a tournament and a player.");return}if(_.find(V=>V.tournament_id===p&&V.target_player_name===v&&V.status==="pending")){await n("Request Already Exists","You already have a pending request for this player in this tournament.");return}if(await r("Request Stat Claim",`Request to claim stats for "${v}" in "${(L=h.find(V=>V.id===p))==null?void 0:L.name}"?`))try{const{error:V}=await Y.from("stat_claim_requests").insert({requesting_user_id:e==null?void 0:e.id,requesting_username:e==null?void 0:e.username,target_player_name:v,tournament_id:p,status:"pending"});if(V)throw V;await U(),x(""),b(""),await n("Success","Claim request submitted successfully! Admins will review your request.")}catch(V){console.error("Error submitting claim request:",V),await n("Error","Failed to submit claim request. Please try again.")}},K=async A=>{const S=N.find(V=>V.id===A);if(!(!S||!await r("Approve and Process Claim Request",`Are you sure you want to approve this stat claim request? This will transfer all stats for "${S.target_player_name}" in "${S.tournament_name}" to the account "${S.requesting_username}". This action cannot be undone.`)))try{const{error:V}=await Y.from("stat_claim_requests").update({status:"approved",reviewed_at:new Date().toISOString(),reviewed_by:e==null?void 0:e.username}).eq("id",A);if(V)throw V;const{data:R,error:X}=await Y.rpc("claim_player_stats",{p_request_id:A,p_new_player_name:S.requesting_username});if(X)throw X;if(!(R!=null&&R.success))throw new Error((R==null?void 0:R.error)||"Failed to claim stats");await I(),await U(),await n("Success",`Claim request processed successfully! ${R.affected_matches} matches were transferred to ${S.requesting_username}.`)}catch(V){console.error("Error approving request:",V),await n("Error",`Failed to process claim request: ${V instanceof Error?V.message:"Unknown error"}. Please try again.`)}},F=async A=>{if(await r("Reject Claim Request","Are you sure you want to reject this stat claim request?"))try{const{error:L}=await Y.from("stat_claim_requests").update({status:"rejected",reviewed_at:new Date().toISOString(),reviewed_by:e==null?void 0:e.username}).eq("id",A);if(L)throw L;await I(),await U(),await n("Success","Claim request rejected.")}catch(L){console.error("Error rejecting request:",L),await n("Error","Failed to reject request. Please try again.")}};return!e||e.id.startsWith("guest-")?o.jsx("div",{className:"min-h-screen bg-slate-950 text-white flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(mi,{size:32,className:"text-slate-400"})}),o.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Login Required"}),o.jsx("p",{className:"text-slate-400",children:"Please log in to access your settings."})]})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(mi,{size:40,className:"mr-4 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Settings"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Manage your account preferences"})]}),o.jsxs("div",{className:"space-y-8",children:[o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[o.jsx(mi,{size:24,className:"mr-2 text-cyan-400"}),"Username Settings"]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"Current Username"}),o.jsx("div",{className:"bg-slate-800 border border-cyan-500/30 rounded-lg px-3 py-2 text-white",children:e.username})]}),a&&o.jsxs("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-lg p-3",children:[o.jsxs("div",{className:"flex items-center text-sm text-slate-300",children:[o.jsx(jy,{size:16,className:"mr-2 text-cyan-400"}),"Last changed: ",new Date(a).toLocaleDateString()]}),!c&&o.jsxs("div",{className:"text-xs text-yellow-400 mt-1",children:["You can change your username again on ",new Date(new Date(a).getTime()+7*24*60*60*1e3).toLocaleDateString()]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"New Username"}),o.jsxs("div",{className:"flex space-x-3",children:[o.jsx("input",{type:"text",value:s,onChange:A=>i(A.target.value),disabled:!c||d,placeholder:"Enter new username",className:"flex-1 bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50"}),o.jsxs("button",{onClick:H,disabled:!c||!s.trim()||d,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-4 py-2 rounded-lg hover:from-cyan-400 hover:to-purple-500 disabled:opacity-50 transition-all duration-200 flex items-center space-x-2",children:[d?o.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}):o.jsx(uc,{size:16}),o.jsx("span",{children:"Save"})]})]}),!c&&o.jsx("p",{className:"text-xs text-yellow-400 mt-1",children:"Username can only be changed once per week"})]})]})]}),o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                         transition-all duration-300 hover:border-cyan-400/70 
                         hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                             w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[o.jsx(_s,{size:24,className:"mr-2 text-cyan-400"}),"Claim Tournament Stats"]}),o.jsx("p",{className:"text-slate-400 mb-6",children:"If you played in a tournament under a different name, you can request to claim those stats for your account."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"Tournament"}),o.jsxs("select",{value:p,onChange:A=>x(A.target.value),className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"-- Select Tournament --"}),h.map(A=>o.jsxs("option",{value:A.id,children:[A.name," - ",new Date(A.tournament_date).toLocaleDateString()]},A.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-cyan-400 mb-2",children:"Player Name"}),o.jsxs("select",{value:v,onChange:A=>b(A.target.value),disabled:!p,className:"w-full bg-slate-900 border border-cyan-500/30 rounded-lg px-3 py-2 text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 disabled:opacity-50",children:[o.jsx("option",{value:"",children:"-- Select Player --"}),w.map(A=>o.jsx("option",{value:A,children:A},A))]})]})]}),o.jsxs("button",{onClick:B,disabled:!p||!v,className:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-4 py-2 rounded-lg hover:from-green-400 hover:to-emerald-500 disabled:opacity-50 transition-all duration-200 flex items-center space-x-2",children:[o.jsx(_s,{size:16}),o.jsx("span",{children:"Request Claim"})]})]}),_.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                           transition-all duration-300 hover:border-cyan-400/70 
                           hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"My Claim Requests"}),o.jsx("div",{className:"space-y-3",children:_.map(A=>{var S;return o.jsx("div",{className:"bg-slate-800/50 border border-cyan-500/20 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-white",children:A.target_player_name}),o.jsx("p",{className:"text-sm text-slate-400",children:((S=h.find(L=>L.id===A.tournament_id))==null?void 0:S.name)||"Unknown Tournament"}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Requested: ",new Date(A.created_at).toLocaleDateString()]}),A.reviewed_at&&o.jsxs("p",{className:"text-xs text-slate-500",children:["Reviewed: ",new Date(A.reviewed_at).toLocaleDateString(),A.reviewed_by&&` by ${A.reviewed_by}`]})]}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${A.status==="pending"?"bg-yellow-500/20 text-yellow-400":A.status==="approved"?"bg-green-500/20 text-green-400":A.status==="completed"?"bg-blue-500/20 text-blue-400":"bg-red-500/20 text-red-400"}`,children:A.status==="completed"?"COMPLETED":A.status.toUpperCase()})]})},A.id)})})]}),P&&N.length>0&&o.jsxs("div",{className:`group relative border border-slate-700 bg-slate-900/40 p-6 rounded-none 
                           transition-all duration-300 hover:border-cyan-400/70 
                           hover:shadow-[0_0_15px_rgba(34,211,238,0.4)]`,children:[o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 
                               w-0 transition-all duration-500 group-hover:w-full`}),o.jsxs("h3",{className:"text-lg font-bold text-white mb-4 flex items-center",children:[o.jsx(YR,{size:20,className:"mr-2 text-orange-400"}),"Pending Claim Requests"]}),o.jsx("div",{className:"space-y-4",children:N.map(A=>{var S;return o.jsx("div",{className:"bg-slate-800/50 border border-orange-500/20 rounded-lg p-4",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-white",children:[A.requesting_username," → ",A.target_player_name]}),o.jsx("p",{className:"text-sm text-slate-400",children:((S=h.find(L=>L.id===A.tournament_id))==null?void 0:S.name)||"Unknown Tournament"}),o.jsxs("p",{className:"text-xs text-slate-500",children:["Requested: ",new Date(A.created_at).toLocaleDateString()]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsxs("button",{onClick:()=>K(A.id),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg text-sm transition-colors flex items-center space-x-1",children:[o.jsx(XR,{size:14}),o.jsx("span",{children:"Approve"})]}),o.jsxs("button",{onClick:()=>F(A.id),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm transition-colors flex items-center space-x-1",children:[o.jsx(Ot,{size:14}),o.jsx("span",{children:"Reject"})]})]})]})},A.id)})})]})]})]})})}function bte(){const[e,t]=y.useState([]),[r,n]=y.useState(!0),[s,i]=y.useState(""),[a,l]=y.useState("name"),[c,u]=y.useState("asc"),[d,f]=y.useState("grid"),[h,m]=y.useState(null),[p,x]=y.useState("lockchips"),[w,g]=y.useState(""),[v,b]=y.useState(""),_=["lockchips","blades (custom)","blades","ratchets","bits"];y.useEffect(()=>{j()},[]);const j=async()=>{n(!0);try{const[I,H,B,K,F]=await Promise.all([Y.from("beypart_blade").select("*"),Y.from("beypart_ratchet").select("*"),Y.from("beypart_bit").select("*"),Y.from("beypart_lockchip").select("*"),Y.from("beypart_assistblade").select("*")]),A=[];(I.data||[]).forEach(S=>{A.push({id:`blade-${S.Blades}`,name:S.Blades,category:"Blade",role:S.Type,line:S.Line,stats:{attack:S.Attack||0,defense:S.Defense||0,stamina:S.Stamina||0,dash:0,burstRes:0},data:S})}),(H.data||[]).forEach(S=>{A.push({id:`ratchet-${S.Ratchet}`,name:S.Ratchet,category:"Ratchet",role:S.Type,stats:{attack:S.Attack||0,defense:S.Defense||0,stamina:S.Stamina||0,dash:0,burstRes:0},data:S})}),(B.data||[]).forEach(S=>{A.push({id:`bit-${S.Bit}`,name:`${S.Bit} (${S.Shortcut})`,category:"Bit",role:S.Type,stats:{attack:S.Attack||0,defense:S.Defense||0,stamina:S.Stamina||0,dash:S.Dash||0,burstRes:S["Burst Res"]||0},data:S})}),(K.data||[]).forEach(S=>{A.push({id:`lockchip-${S.Lockchip}`,name:S.Lockchip,category:"Lockchip",role:S.Type,stats:{attack:S.Attack||0,defense:S.Defense||0,stamina:S.Stamina||0,dash:0,burstRes:0},data:S})}),(F.data||[]).forEach(S=>{A.push({id:`assistblade-${S["Assist Blade"]}`,name:`${S["Assist Blade Name"]} (${S["Assist Blade"]})`,category:"Assist Blade",role:S.Type,stats:{attack:S.Attack||0,defense:S.Defense||0,stamina:S.Stamina||0,dash:0,burstRes:0},data:S})}),t(A)}catch(I){console.error("Error fetching parts:",I)}finally{n(!1)}},N=I=>{switch(I){case"attack":return o.jsx(_y,{size:16,className:"text-red-500"});case"defense":return o.jsx(_s,{size:16,className:"text-blue-500"});case"stamina":return o.jsx(jy,{size:16,className:"text-green-500"});case"dash":return o.jsx(a0,{size:16,className:"text-yellow-500"});case"burstRes":return o.jsx(q2,{size:16,className:"text-purple-500"});default:return null}},E=e.filter(I=>I.name.toLowerCase().includes(s.toLowerCase())).sort((I,H)=>{let B,K;return a==="name"?(B=I.name,K=H.name):a==="role"?(B=I.role||"",K=H.role||""):(B=I.stats[a],K=H.stats[a]),typeof B=="string"&&typeof K=="string"?c==="asc"?B.localeCompare(K):K.localeCompare(B):c==="asc"?B-K:K-B}).filter(I=>{var H,B,K;return p==="blades (custom)"?I.category==="Blade"&&((H=I.line)==null?void 0:H.toLowerCase())==="custom":p==="blades"?v?I.category==="Blade"&&((K=I.line)==null?void 0:K.toLowerCase())===v.toLowerCase():I.category==="Blade"&&["basic","unique","x-over"].includes(((B=I.line)==null?void 0:B.toLowerCase())||""):p==="lockchips"?I.category==="Lockchip":p==="ratchets"?I.category==="Ratchet":p==="bits"?I.category==="Bit":!0}).filter(I=>w?(I.role||"").toLowerCase()===w:!0),T={Blade:"beypart_blade",Bit:"beypart_bit",Ratchet:"beypart_ratchet",Lockchip:"beypart_lockchip","Assist Blade":"beypart_assistblade"},O=I=>{switch(I){case"Blade":return"Blades";case"Bit":return"Bit";case"Ratchet":return"Ratchet";case"Lockchip":return"Lockchip";case"Assist Blade":return"Assist Blade";default:return""}},U=I=>{const H=T[I.category]||"",B=O(I.category),K=encodeURIComponent(I.data[B]),F=`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${H}/${K}.png`;return o.jsxs("div",{onClick:()=>m(I),className:"group cursor-pointer bg-slate-900/40 border border-slate-700 rounded-none p-3 hover:border-cyan-400/70 hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] transition-all duration-300 relative",children:[o.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 w-0 transition-all duration-500 group-hover:w-full"}),o.jsx("div",{className:"w-full aspect-square bg-slate-800 rounded-lg flex items-center justify-center mb-2 overflow-hidden",children:o.jsx("img",{src:F,alt:I.name,width:128,height:128,loading:"lazy",onError:A=>{const S=A.target,L=document.createElement("div");L.textContent="Picture Not Available",L.className="text-slate-400 text-xs text-center",S.replaceWith(L)},className:"object-contain w-full h-full"})}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h3",{className:"text-sm font-semibold truncate break-words text-white",children:I.name}),I.role&&o.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-400",children:I.role})]}),I.line&&o.jsx("p",{className:"text-xs text-slate-400 mt-1 truncate",children:I.line})]},I.id)};return r?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading parts database..."})]})})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(cn,{size:40,className:"mr-4 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Parts Database"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Explore all available Beyblade parts and their statistics"})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${d==="grid"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(r$,{size:20})}),o.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${d==="list"?"bg-blue-100 text-blue-600":"text-gray-600 hover:bg-gray-100"}`,children:o.jsx(s$,{size:20})})]})]})}),o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-none backdrop-blur-sm p-6 mb-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"relative",children:[o.jsx($s,{size:20,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400"}),o.jsx("input",{type:"text",placeholder:"Search parts...",value:s,onChange:I=>i(I.target.value),className:"w-full pl-10 pr-4 py-2 bg-slate-900 border border-cyan-500/30 rounded-lg text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500"})]}),o.jsx("div",{className:"md:col-start-4",children:o.jsxs("select",{value:w,onChange:I=>g(I.target.value),className:"w-full px-4 py-2 bg-slate-900 border border-cyan-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"All Roles"}),o.jsx("option",{value:"attack",children:"Attack"}),o.jsx("option",{value:"defense",children:"Defense"}),o.jsx("option",{value:"stamina",children:"Stamina"}),o.jsx("option",{value:"balance",children:"Balance"})]})})]}),o.jsx("div",{className:"mt-6 flex space-x-8 border-b border-slate-700 overflow-x-auto",children:_.map(I=>o.jsxs("button",{className:`relative pb-2 text-sm font-medium capitalize transition-colors group ${p===I?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,onClick:()=>x(I),children:[I,o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
                  ${p===I?"w-full":"w-0 group-hover:w-full"}`})]},I))}),p==="blades"&&o.jsx("div",{className:"mt-2",children:o.jsxs("select",{value:v,onChange:I=>b(I.target.value),className:"px-3 py-2 bg-slate-900 border border-cyan-500/30 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"All"}),o.jsx("option",{value:"Basic",children:"Basic"}),o.jsx("option",{value:"Unique",children:"Unique"}),o.jsx("option",{value:"X-Over",children:"X-Over"})]})})]}),E.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(cn,{size:48,className:"mx-auto text-slate-400 mb-4"}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Parts Found"}),o.jsx("p",{className:"text-slate-400",children:"Try adjusting your search or filter criteria"})]}):d==="grid"?o.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:E.map(U)}):o.jsx("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-none backdrop-blur-sm overflow-hidden",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[["name","role","attack","defense","stamina"].concat(p==="bits"?["dash","burstRes"]:[]).map(I=>o.jsx("th",{className:`px-6 py-3 text-xs font-medium text-cyan-400 uppercase cursor-pointer hover:text-cyan-300 ${I==="name"?"text-left":"text-center"}`,onClick:()=>{l(I),u(c==="asc"?"desc":"asc")},children:o.jsxs("div",{className:"inline-flex items-center justify-center space-x-1",children:[o.jsx("span",{children:I}),o.jsx("span",{className:"w-4 inline-block",children:a===I&&(c==="asc"?"▲":"▼")})]})},I)),o.jsx("th",{})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:E.map(I=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 text-left truncate break-words text-white",children:I.name}),o.jsx("td",{className:"px-6 py-4 text-center text-white",children:I.role||"-"}),o.jsx("td",{className:"px-6 py-4 text-center text-white",children:I.stats.attack}),o.jsx("td",{className:"px-6 py-4 text-center text-white",children:I.stats.defense}),o.jsx("td",{className:"px-6 py-4 text-center text-white",children:I.stats.stamina}),p==="bits"&&o.jsxs(o.Fragment,{children:[o.jsx("td",{className:"px-6 py-4 text-center text-white",children:I.stats.dash}),o.jsx("td",{className:"px-6 py-4 text-center text-white",children:I.stats.burstRes})]}),o.jsx("td",{className:"px-6 py-4 text-center",children:o.jsx("button",{onClick:()=>m(I),className:"p-2 text-cyan-400 hover:bg-cyan-500/20 rounded-lg transition-colors",children:"View"})})]},I.id))})]})}),h&&o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-slate-950 border border-cyan-500/30 rounded-2xl shadow-[0_0_40px_rgba(0,200,255,0.3)] max-w-2xl w-full max-h-[90vh] overflow-hidden",children:[o.jsx("div",{className:"bg-gradient-to-r from-cyan-500 to-purple-500 px-6 py-4 text-white",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-2xl font-bold truncate",children:h.name}),o.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.category}),h.role&&o.jsx("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:h.role}),h.line&&o.jsxs("span",{className:"bg-white/20 px-2 py-1 rounded-full text-sm",children:[h.line," Line"]})]})]}),o.jsx("button",{onClick:()=>m(null),className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:o.jsx(Ot,{size:24})})]})}),o.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Statistics"}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:Object.entries(h.stats).filter(([I])=>h.category==="Bit"?!0:!["dash","burstRes"].includes(I)).map(([I,H])=>o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"flex justify-center mb-1",children:N(I)}),o.jsx("div",{className:"text-sm font-medium capitalize text-slate-300",children:I}),o.jsx("div",{className:"text-lg font-bold text-white",children:H})]},I))})]}),o.jsxs("div",{className:"mb-6 bg-slate-800/50 border border-cyan-500/20 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Preview"}),h&&o.jsx("div",{className:"w-full aspect-square flex items-center justify-center bg-slate-900 rounded-lg overflow-hidden mx-auto max-h-64",children:o.jsx("img",{src:`https://eymxpphofhhfeuvaqfad.supabase.co/storage/v1/object/public/beyblade-parts/${T[h.category]}/${encodeURIComponent(h.data[O(h.category)])}.png`,alt:h.name,onError:I=>{const H=I.target,B=document.createElement("div");B.textContent="Picture Not Available",B.className="text-slate-400 text-sm text-center",H.replaceWith(B)},className:"object-contain w-full h-full"})})]}),o.jsxs("div",{className:"mb-6 bg-slate-800/50 border border-cyan-500/20 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Win Rate"}),o.jsx("p",{className:"text-slate-400",children:"Coming Soon"})]}),o.jsxs("div",{className:"mb-6 bg-slate-800/50 border border-cyan-500/20 rounded-xl p-6 text-center",children:[o.jsx("h4",{className:"text-lg font-semibold text-white mb-2",children:"Top 3 Combos"}),o.jsx("p",{className:"text-slate-400",children:"Coming Soon"})]})]})]})})]})})}function wte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(nt,{size:32,className:"mr-3 text-purple-600"}),"Team Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Build your team and compete together"})]}),o.jsx("div",{className:"max-w-4xl mx-auto mb-12",children:o.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-indigo-50 border-2 border-purple-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-purple-500 to-indigo-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(nt,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-purple-900 mb-4",children:"Team Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-purple-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Compete not just as players, but as teams. The Team Manager will bring team-based tournaments, performance analytics, and name tag customization so every blader can proudly represent their squad."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(_s,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Tournaments"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Organize and battle in team vs team competitions"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(ln,{size:24,className:"text-indigo-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Team Analytics"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Track your team’s performance and stats"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-purple-200",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(d$,{size:24,className:"text-purple-600"})}),o.jsx("h3",{className:"font-bold text-purple-900 mb-2",children:"Name Tags"}),o.jsx("p",{className:"text-purple-700 text-sm",children:"Show off your team name on your profile"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-purple-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-purple-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-purple-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team vs team tournaments"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Team performance analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full mr-3"}),"Name tag integration for players"]})]})]}),o.jsx("div",{className:"mt-8 text-purple-600 text-sm",children:"Team play is coming soon — get ready to represent your squad!"})]})})]})})}function jte(){return o.jsx("div",{className:"page-container",children:o.jsxs("div",{className:"content-wrapper",children:[o.jsxs("div",{className:"page-header",children:[o.jsxs("h1",{className:"page-title flex items-center",children:[o.jsx(Bw,{size:32,className:"mr-3 text-pink-600"}),"Community Manager"]}),o.jsx("p",{className:"page-subtitle",children:"Give every community its own space to grow and connect"})]}),o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"bg-gradient-to-br from-pink-50 to-rose-50 border-2 border-pink-200 rounded-2xl p-12 text-center",children:[o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-pink-500 to-rose-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-lg",children:o.jsx(Bw,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-pink-900 mb-4",children:"Community Manager"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-pink-600 to-rose-600 text-white px-6 py-2 rounded-full font-bold text-lg mb-6 shadow-lg",children:"COMING SOON"}),o.jsx("p",{className:"text-pink-800 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, the Community Manager will let any Beyblade community build their own hub within the app — not just Ormoc. Each community will be able to host tournaments, track stats, and celebrate milestones while staying connected to the larger network. Perfect for growing local groups and strengthening bonds between bladers everywhere."}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(nt,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Local Hubs"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Communities can set up their own space in the app"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(Ra,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Tournaments"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Run and track events within each community"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(c$,{size:24,className:"text-pink-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Member Recognition"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Spotlight achievements and community milestones"})]}),o.jsxs("div",{className:"bg-white/60 backdrop-blur-sm rounded-xl p-6 border border-pink-200",children:[o.jsx("div",{className:"w-12 h-12 bg-rose-100 rounded-lg flex items-center justify-center mx-auto mb-4",children:o.jsx(dc,{size:24,className:"text-rose-600"})}),o.jsx("h3",{className:"font-bold text-pink-900 mb-2",children:"Community Stats"}),o.jsx("p",{className:"text-pink-700 text-sm",children:"Track growth, matches, and engagement"})]})]}),o.jsxs("div",{className:"bg-white/40 backdrop-blur-sm border border-pink-200 rounded-xl p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-pink-900 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-pink-800 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Create and manage your own community hub"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community-specific tournaments and leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Local community stats and growth analytics"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Recognition for members and organizers"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Community feedback and suggestion system"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-pink-500 rounded-full mr-3"}),"Tools to welcome and onboard new members"]})]})]}),o.jsx("div",{className:"mt-8 text-pink-600 text-sm",children:"This feature is in active development."})]})})]})})}function _te(){var b;const[e,t]=y.useState("tournament"),[r,n]=y.useState([]),[s,i]=y.useState(""),[a,l]=y.useState([]),[c,u]=y.useState(!0),[d,f]=y.useState(!1);y.useEffect(()=>{h()},[]),y.useEffect(()=>{s&&e==="tournament"?m():e==="global"&&p()},[s,e]);const h=async()=>{try{const{data:_,error:j}=await Y.from("tournaments").select("id, name, status, tournament_date").order("tournament_date",{ascending:!1});if(j)throw j;n(_||[]),_&&_.length>0&&i(_[0].id)}catch(_){console.error("Error fetching tournaments:",_)}finally{u(!1)}},m=async()=>{if(s)try{const{data:_,error:j}=await Y.from("match_sessions").select("*").eq("tournament_id",s);if(j)throw j;if(!_||_.length===0){l([]);return}const N={};_.forEach(E=>{const{player1_name:T,player2_name:O,winner_name:U,player1_final_score:I,player2_final_score:H}=E;N[T]||(N[T]={wins:0,losses:0,score:0,pointsFor:0,pointsAgainst:0,opponents:[],winsAgainst:{}}),N[O]||(N[O]={wins:0,losses:0,score:0,pointsFor:0,pointsAgainst:0,opponents:[],winsAgainst:{}}),U===T?(N[T].wins++,N[T].score+=1,N[O].losses++,N[T].winsAgainst[O]=(N[T].winsAgainst[O]||0)+1):U===O&&(N[O].wins++,N[O].score+=1,N[T].losses++,N[O].winsAgainst[T]=(N[O].winsAgainst[T]||0)+1),N[T].pointsFor+=I||0,N[T].pointsAgainst+=H||0,N[O].pointsFor+=H||0,N[O].pointsAgainst+=I||0,N[T].opponents.includes(O)||N[T].opponents.push(O),N[O].opponents.includes(T)||N[O].opponents.push(T)}),Object.keys(N).forEach(E=>{const T=N[E].opponents,O=[];T.forEach(I=>{N[I]&&O.push(N[I].score)}),O.length>2&&(O.sort((I,H)=>I-H),O.shift(),O.pop());const U=O.reduce((I,H)=>I+H,0);N[E].buchholz=U});const k={};Object.keys(N).forEach(E=>{const T=N[E].score;k[T]||(k[T]=[]),k[T].push(E)}),Object.values(k).forEach(E=>{E.length>1?E.forEach(T=>{let O=0;E.forEach(U=>{U!==T&&(O+=N[T].winsAgainst[U]||0)}),N[T].tb=O}):N[E[0]].tb=0});const P=Object.entries(N).map(([E,T])=>{const O=T.wins+T.losses,U=O>0?T.wins/O*100:0,I=T.pointsFor-T.pointsAgainst,H=T.buchholz||0,B=T.tb||0;return{participant:E,matchWins:T.wins,matchLosses:T.losses,score:T.score,tb:B,buchholz:H,ptsDiff:I,totalMatches:O,winRate:U,rank:0}});P.sort((E,T)=>T.score!==E.score?T.score-E.score:T.tb!==E.tb?T.tb-E.tb:T.buchholz!==E.buchholz?T.buchholz-E.buchholz:T.ptsDiff!==E.ptsDiff?T.ptsDiff-E.ptsDiff:0),P.forEach((E,T)=>{E.rank=T+1}),l(P)}catch(_){console.error("Error fetching tournament leaderboard:",_),l([])}},p=async()=>{try{const{data:_,error:j}=await Y.from("match_results").select(`
          *,
          tournaments!inner(is_practice)
        `);if(j)throw j;const N=(_||[]).filter(E=>{var T;return!((T=E.tournaments)!=null&&T.is_practice)});if(N.length===0){l([]);return}const k={};N.forEach(E=>{const{player1_name:T,player2_name:O,winner_name:U,points_awarded:I,tournament_id:H}=E;k[T]||(k[T]={wins:0,losses:0,totalPoints:0,pointsAgainst:0,tournaments:new Set}),k[O]||(k[O]={wins:0,losses:0,totalPoints:0,pointsAgainst:0,tournaments:new Set}),k[T].tournaments.add(H),k[O].tournaments.add(H);const B=I||0;U===T?(k[T].wins++,k[T].totalPoints+=B,k[O].losses++,k[O].pointsAgainst+=B):U===O&&(k[O].wins++,k[O].totalPoints+=B,k[T].losses++,k[T].pointsAgainst+=B)});const P=Object.entries(k).map(([E,T])=>{const O=T.wins+T.losses,U=O>0?T.wins/O*100:0,I=T.totalPoints-T.pointsAgainst;return{participant:E,matchWins:T.wins,matchLosses:T.losses,score:T.totalPoints,tb:T.wins,buchholz:T.tournaments.size,ptsDiff:I,totalMatches:O,winRate:U,rank:0}});P.sort((E,T)=>T.score!==E.score?T.score-E.score:T.tb!==E.tb?T.tb-E.tb:T.buchholz!==E.buchholz?T.buchholz-E.buchholz:T.ptsDiff-E.ptsDiff),P.forEach((E,T)=>{E.rank=T+1}),l(P)}catch(_){console.error("Error fetching global leaderboard:",_),l([])}},x=async()=>{f(!0),e==="tournament"&&s?await m():e==="global"&&await p(),f(!1)},w=_=>{t(_),l([])},g=_=>{switch(_){case 1:return"text-yellow-600 font-bold";case 2:return"text-gray-500 font-bold";case 3:return"text-orange-600 font-bold";default:return"text-gray-900"}},v=_=>{switch(_){case 1:return o.jsx(hd,{size:20,className:"text-yellow-500"});case 2:return o.jsx(Fw,{size:20,className:"text-gray-400"});case 3:return o.jsx(Fw,{size:20,className:"text-orange-500"});default:return o.jsxs("span",{className:"w-5 h-5 flex items-center justify-center text-sm font-bold text-gray-600",children:["#",_]})}};return c?o.jsx("div",{className:"page-container",children:o.jsx("div",{className:"content-wrapper",children:o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading leaderboards..."})]})})}):o.jsx("div",{className:"min-h-screen bg-slate-950 text-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsx("div",{className:"mb-8",children:o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("div",{children:[o.jsxs("h1",{className:"text-4xl font-bold flex items-center mb-4",children:[o.jsx(hd,{size:40,className:"mr-4 text-cyan-400"}),o.jsx("span",{className:"bg-gradient-to-r from-cyan-400 via-purple-400 to-cyan-400 bg-clip-text text-transparent",children:"Leaderboards"})]}),o.jsx("p",{className:"text-slate-400 text-lg",children:"Tournament rankings and player standings"})]}),o.jsxs("button",{onClick:x,disabled:d,className:"bg-gradient-to-r from-cyan-500 to-purple-600 text-white px-4 py-2 rounded-none hover:from-cyan-400 hover:to-purple-500 transition-all duration-200 flex items-center space-x-2 disabled:opacity-50 shadow-[0_0_15px_rgba(0,200,255,0.3)]",children:[o.jsx(K2,{size:16,className:d?"animate-spin":""}),o.jsx("span",{children:"Refresh"})]})]})}),o.jsx("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-none backdrop-blur-sm p-4 mb-8",children:o.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center",children:[o.jsxs("div",{className:"flex items-center space-x-8 border-b border-slate-700 pb-2",children:[o.jsxs("button",{onClick:()=>w("tournament"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="tournament"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(kt,{size:16,className:"mr-1"})," Tournament",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
          ${e==="tournament"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>w("global"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="global"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(io,{size:16,className:"mr-1"})," Global",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
          ${e==="global"?"w-full":"w-0 group-hover:w-full"}`})]}),o.jsxs("button",{onClick:()=>w("community"),className:`relative pb-2 text-sm font-medium transition-colors group flex items-center ${e==="community"?"text-cyan-400":"text-slate-400 hover:text-cyan-300"}`,children:[o.jsx(nt,{size:16,className:"mr-1"})," Community",o.jsx("span",{className:`absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 transition-all duration-500
          ${e==="community"?"w-full":"w-0 group-hover:w-full"}`})]})]}),e==="tournament"&&o.jsxs("div",{className:"flex items-center gap-2 w-full justify-end md:ml-auto mt-4 md:mt-0",children:[o.jsx("label",{className:"text-sm text-slate-400",children:"Tournament:"}),o.jsxs("select",{value:s,onChange:_=>i(_.target.value),className:"bg-slate-900 border border-cyan-500/30 rounded-lg px-2 py-1 text-sm text-white focus:outline-none focus:ring-2 focus:ring-cyan-500",children:[o.jsx("option",{value:"",children:"-- Select --"}),r.map(_=>o.jsxs("option",{value:_.id,children:[_.name," (",_.status,") - ",new Date(_.tournament_date).toLocaleDateString()]},_.id))]})]})]})}),e==="community"&&o.jsx("div",{className:"max-w-4xl mx-auto",children:o.jsxs("div",{className:"group relative border border-slate-700 bg-slate-900/40 p-12 rounded-none transition-all duration-300 hover:border-cyan-400/70 hover:shadow-[0_0_15px_rgba(34,211,238,0.4)] text-center",children:[o.jsx("span",{className:"absolute bottom-0 left-0 h-0.5 bg-gradient-to-r from-cyan-400 to-purple-400 w-0 transition-all duration-500 group-hover:w-full"}),o.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-cyan-500 to-purple-600 rounded-full flex items-center justify-center mx-auto mb-8 shadow-[0_0_30px_rgba(0,200,255,0.5)]",children:o.jsx(nt,{size:48,className:"text-white"})}),o.jsx("h2",{className:"text-4xl font-bold text-cyan-400 mb-4",children:"Community Leaderboards"}),o.jsx("div",{className:"inline-block bg-gradient-to-r from-cyan-600 to-purple-600 text-white px-6 py-2 rounded-none font-bold text-lg mb-6 shadow-[0_0_20px_rgba(0,200,255,0.3)]",children:"COMING SOON"}),o.jsx("p",{className:"text-cyan-300 text-lg mb-8 max-w-2xl mx-auto leading-relaxed",children:"Soon, every community will have their own leaderboards to track local champions and rising stars. Compare performance within your community and see who's dominating the local meta."}),o.jsxs("div",{className:"bg-slate-800/40 backdrop-blur-sm border border-cyan-400/30 rounded-none p-6 max-w-md mx-auto",children:[o.jsx("h4",{className:"font-bold text-cyan-400 mb-3",children:"Planned Features:"}),o.jsxs("div",{className:"space-y-2 text-sm text-cyan-300 text-left",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full mr-3"}),"Community-specific rankings"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full mr-3"}),"Local tournament leaderboards"]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-2 h-2 bg-cyan-400 rounded-full mr-3"}),"Community comparison tools"]})]})]})]})}),(e==="tournament"||e==="global")&&o.jsxs("div",{className:"bg-slate-900/50 border border-cyan-500/30 rounded-none backdrop-blur-sm overflow-hidden",children:[o.jsx("div",{className:"bg-slate-800/50 px-6 py-4 border-b border-slate-700",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsxs("h2",{className:"text-xl font-bold text-white flex items-center",children:[o.jsx(dc,{size:24,className:"mr-2 text-cyan-400"}),e==="tournament"?`${((b=r.find(_=>_.id===s))==null?void 0:b.name)||"Tournament"} Leaderboard`:"Global Leaderboard"]}),o.jsxs("span",{className:"text-sm text-slate-400 bg-slate-800/50 px-3 py-1 rounded-full",children:[a.length," participants"]})]})}),a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"w-16 h-16 bg-slate-800/50 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(ln,{size:32,className:"text-slate-400"})}),o.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:"No Data Available"}),o.jsx("p",{className:"text-slate-400",children:e==="tournament"&&!s?"Please select a tournament to view its leaderboard":"No match results found for leaderboard calculation"})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[o.jsx("thead",{className:"bg-slate-800/50",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Rank"}),o.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Participant"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Match W-L"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Score"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"TB"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Buchholz"}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-cyan-400 uppercase tracking-wider",children:"Pts Diff"})]})}),o.jsx("tbody",{className:"bg-slate-950/50 divide-y divide-slate-800",children:a.map(_=>o.jsxs("tr",{className:"hover:bg-slate-800/50",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[v(_.rank),o.jsx("span",{className:`font-bold ${g(_.rank)}`,children:_.rank<=3?"":`#${_.rank}`})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-cyan-500 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:_.participant.charAt(0).toUpperCase()}),o.jsxs("div",{className:"ml-4",children:[o.jsx("div",{className:"text-sm font-medium text-white",children:_.participant}),o.jsxs("div",{className:"text-sm text-slate-400",children:[_.winRate.toFixed(1),"% win rate"]})]})]})}),o.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:[o.jsxs("div",{className:"text-sm",children:[o.jsx("span",{className:"text-green-600 font-medium",children:_.matchWins}),o.jsx("span",{className:"text-slate-400 mx-1",children:"-"}),o.jsx("span",{className:"text-red-600 font-medium",children:_.matchLosses})]}),o.jsxs("div",{className:"text-xs text-slate-500",children:[_.totalMatches," total"]})]}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-lg font-bold text-cyan-400",children:_.score})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-sm font-medium text-white",children:_.tb})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsx("div",{className:"text-sm font-medium text-white",children:_.buchholz})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsxs("div",{className:`text-sm font-medium ${_.ptsDiff>0?"text-green-600":_.ptsDiff<0?"text-red-600":"text-slate-400"}`,children:[_.ptsDiff>0?"+":"",_.ptsDiff]})})]},_.participant))})]})})]})]})})}function Nte(){const[e,t]=y.useState("dashboard"),[r,n]=y.useState(!1),s=()=>{n(!r)},i=()=>{switch(e){case"dashboard":return o.jsx(lj,{onViewChange:t});case"tournaments":return o.jsx(_F,{});case"inventory":return o.jsx(vte,{});case"analytics":return o.jsx(hte,{});case"parts-database":return o.jsx(bte,{});case"team-manager":return o.jsx(wte,{});case"community-manager":return o.jsx(jte,{});case"leaderboards":return o.jsx(_te,{});case"tournament-manager":return o.jsx(mte,{});case"user-management":return o.jsx(pte,{});case"database":return o.jsx(gte,{});case"settings":return o.jsx(xte,{});default:return o.jsx(lj,{})}};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[!r&&o.jsx("button",{onClick:s,className:`fixed top-6 left-0 z-50 p-3 rounded-r-xl shadow-lg backdrop-blur-sm transition-all duration-300 hover:scale-105 ${e==="dashboard"?"bg-slate-800/90 hover:bg-slate-700/90 text-white":"bg-white/90 hover:bg-white text-gray-800 border border-gray-200"}`,children:o.jsx(l$,{size:24})}),o.jsx(bF,{isOpen:r,currentView:e,onViewChange:t,onToggle:s}),o.jsx("div",{className:"w-full",children:o.jsx("main",{className:"flex-1 w-full",children:i()})})]})}function Ste(){return o.jsx(KR,{children:o.jsx(qR,{children:o.jsx(Nte,{})})})}y2(document.getElementById("root")).render(o.jsx(y.StrictMode,{children:o.jsx(Ste,{})}));
